var i$=Object.defineProperty;var o$=(e,n,t)=>n in e?i$(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var nn=(e,n,t)=>(o$(e,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var _f=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hO(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var aF={exports:{}},M_={},sF={exports:{}},ga={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fk=Object.getOwnPropertySymbols,a$=Object.prototype.hasOwnProperty,s$=Object.prototype.propertyIsEnumerable;function l$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function u$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(o){return n[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var lF=u$()?Object.assign:function(e,n){for(var t,r=l$(e),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)a$.call(t,s)&&(r[s]=t[s]);if(fk){i=fk(t);for(var a=0;a<i.length;a++)s$.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO=lF,lh=typeof Symbol=="function"&&Symbol.for,S_=lh?Symbol.for("react.element"):60103,A$=lh?Symbol.for("react.portal"):60106,c$=lh?Symbol.for("react.fragment"):60107,d$=lh?Symbol.for("react.strict_mode"):60108,h$=lh?Symbol.for("react.profiler"):60114,f$=lh?Symbol.for("react.provider"):60109,p$=lh?Symbol.for("react.context"):60110,m$=lh?Symbol.for("react.forward_ref"):60112,g$=lh?Symbol.for("react.suspense"):60113,y$=lh?Symbol.for("react.memo"):60115,v$=lh?Symbol.for("react.lazy"):60116,pk=typeof Symbol=="function"&&Symbol.iterator;function E_(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AF={};function Ky(e,n,t){this.props=e,this.context=n,this.refs=AF,this.updater=t||uF}Ky.prototype.isReactComponent={};Ky.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(E_(85));this.updater.enqueueSetState(this,e,n,"setState")};Ky.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cF(){}cF.prototype=Ky.prototype;function pO(e,n,t){this.props=e,this.context=n,this.refs=AF,this.updater=t||uF}var mO=pO.prototype=new cF;mO.constructor=pO;fO(mO,Ky.prototype);mO.isPureReactComponent=!0;var gO={current:null},dF=Object.prototype.hasOwnProperty,hF={key:!0,ref:!0,__self:!0,__source:!0};function fF(e,n,t){var r,i={},o=null,s=null;if(n!=null)for(r in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(o=""+n.key),n)dF.call(n,r)&&!hF.hasOwnProperty(r)&&(i[r]=n[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var p=Array(a),g=0;g<a;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:S_,type:e,key:o,ref:s,props:i,_owner:gO.current}}function C$(e,n){return{$$typeof:S_,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function yO(e){return typeof e=="object"&&e!==null&&e.$$typeof===S_}function _$(e){var n={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(t){return n[t]})}var pF=/\/+/g,S2=[];function mF(e,n,t,r){if(S2.length){var i=S2.pop();return i.result=e,i.keyPrefix=n,i.func=t,i.context=r,i.count=0,i}return{result:e,keyPrefix:n,func:t,context:r,count:0}}function gF(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>S2.length&&S2.push(e)}function CS(e,n,t,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case S_:case A$:o=!0}}if(o)return t(r,e,n===""?"."+Tw(e,0):n),1;if(o=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var a=n+Tw(i,s);o+=CS(i,a,t,r)}else if(e===null||typeof e!="object"?a=null:(a=pk&&e[pk]||e["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=n+Tw(i,s++),o+=CS(i,a,t,r);else if(i==="object")throw t=""+e,Error(E_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t,""));return o}function _S(e,n,t){return e==null?0:CS(e,"",n,t)}function Tw(e,n){return typeof e=="object"&&e!==null&&e.key!=null?_$(e.key):n.toString(36)}function b$(e,n){e.func.call(e.context,n,e.count++)}function x$(e,n,t){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,n,e.count++),Array.isArray(e)?bS(e,r,t,function(o){return o}):e!=null&&(yO(e)&&(e=C$(e,i+(!e.key||n&&n.key===e.key?"":(""+e.key).replace(pF,"$&/")+"/")+t)),r.push(e))}function bS(e,n,t,r,i){var o="";t!=null&&(o=(""+t).replace(pF,"$&/")+"/"),n=mF(n,o,r,i),_S(e,x$,n),gF(n)}var yF={current:null};function Sp(){var e=yF.current;if(e===null)throw Error(E_(321));return e}var w$={ReactCurrentDispatcher:yF,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:gO,IsSomeRendererActing:{current:!1},assign:fO};ga.Children={map:function(e,n,t){if(e==null)return e;var r=[];return bS(e,r,null,n,t),r},forEach:function(e,n,t){if(e==null)return e;n=mF(null,null,n,t),_S(e,b$,n),gF(n)},count:function(e){return _S(e,function(){return null},null)},toArray:function(e){var n=[];return bS(e,n,null,function(t){return t}),n},only:function(e){if(!yO(e))throw Error(E_(143));return e}};ga.Component=Ky;ga.Fragment=c$;ga.Profiler=h$;ga.PureComponent=pO;ga.StrictMode=d$;ga.Suspense=g$;ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w$;ga.cloneElement=function(e,n,t){if(e==null)throw Error(E_(267,e));var r=fO({},e.props),i=e.key,o=e.ref,s=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,s=gO.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(p in n)dF.call(n,p)&&!hF.hasOwnProperty(p)&&(r[p]=n[p]===void 0&&a!==void 0?a[p]:n[p])}var p=arguments.length-2;if(p===1)r.children=t;else if(1<p){a=Array(p);for(var g=0;g<p;g++)a[g]=arguments[g+2];r.children=a}return{$$typeof:S_,type:e.type,key:i,ref:o,props:r,_owner:s}};ga.createContext=function(e,n){return n===void 0&&(n=null),e={$$typeof:p$,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:f$,_context:e},e.Consumer=e};ga.createElement=fF;ga.createFactory=function(e){var n=fF.bind(null,e);return n.type=e,n};ga.createRef=function(){return{current:null}};ga.forwardRef=function(e){return{$$typeof:m$,render:e}};ga.isValidElement=yO;ga.lazy=function(e){return{$$typeof:v$,_ctor:e,_status:-1,_result:null}};ga.memo=function(e,n){return{$$typeof:y$,type:e,compare:n===void 0?null:n}};ga.useCallback=function(e,n){return Sp().useCallback(e,n)};ga.useContext=function(e,n){return Sp().useContext(e,n)};ga.useDebugValue=function(){};ga.useEffect=function(e,n){return Sp().useEffect(e,n)};ga.useImperativeHandle=function(e,n,t){return Sp().useImperativeHandle(e,n,t)};ga.useLayoutEffect=function(e,n){return Sp().useLayoutEffect(e,n)};ga.useMemo=function(e,n){return Sp().useMemo(e,n)};ga.useReducer=function(e,n,t){return Sp().useReducer(e,n,t)};ga.useRef=function(e){return Sp().useRef(e)};ga.useState=function(e){return Sp().useState(e)};ga.version="16.14.0";sF.exports=ga;var Sr=sF.exports;const xn=ma(Sr);/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$=Sr,vF=60103;M_.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var mk=Symbol.for;vF=mk("react.element"),M_.Fragment=mk("react.fragment")}var S$=M$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E$=Object.prototype.hasOwnProperty,O$={key:!0,ref:!0,__self:!0,__source:!0};function CF(e,n,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(r in n)E$.call(n,r)&&!O$.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:vF,type:e,key:o,ref:s,props:i,_owner:S$.current}}M_.jsx=CF;M_.jsxs=CF;aF.exports=M_;var N=aF.exports,_F={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xS=xn.createContext&&xn.createContext(_F),bm=function(){return bm=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bm.apply(this,arguments)},B$=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};function bF(e){return e&&e.map(function(n,t){return xn.createElement(n.tag,bm({key:t},n.attr),bF(n.child))})}function nl(e){return function(n){return xn.createElement(k$,bm({attr:bm({},e.attr)},n),bF(e.child))}}function k$(e){var n=function(t){var r=e.attr,i=e.size,o=e.title,s=B$(e,["attr","size","title"]),a=i||t.size||"1em",p;return t.className&&(p=t.className),e.className&&(p=(p?p+" ":"")+e.className),xn.createElement("svg",bm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:p,style:bm(bm({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&xn.createElement("title",null,o),e.children)};return xS!==void 0?xn.createElement(xS.Consumer,null,function(t){return n(t)}):n(_F)}var xF={exports:{}},_d={},wF={exports:{}},MF={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var n,t,r,i,o;if(typeof window>"u"||typeof MessageChannel!="function"){var s=null,a=null,p=function(){if(s!==null)try{var mt=e.unstable_now();s(!0,mt),s=null}catch(dt){throw setTimeout(p,0),dt}},g=Date.now();e.unstable_now=function(){return Date.now()-g},n=function(mt){s!==null?setTimeout(n,0,mt):(s=mt,setTimeout(p,0))},t=function(mt,dt){a=setTimeout(mt,dt)},r=function(){clearTimeout(a)},i=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var b=window.performance,B=window.Date,k=window.setTimeout,P=window.clearTimeout;if(typeof console<"u"){var R=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof R!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof b=="object"&&typeof b.now=="function")e.unstable_now=function(){return b.now()};else{var Z=B.now();e.unstable_now=function(){return B.now()-Z}}var W=!1,Q=null,q=-1,oe=5,re=0;i=function(){return e.unstable_now()>=re},o=function(){},e.unstable_forceFrameRate=function(mt){0>mt||125<mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):oe=0<mt?Math.floor(1e3/mt):5};var ce=new MessageChannel,se=ce.port2;ce.port1.onmessage=function(){if(Q!==null){var mt=e.unstable_now();re=mt+oe;try{Q(!0,mt)?se.postMessage(null):(W=!1,Q=null)}catch(dt){throw se.postMessage(null),dt}}else W=!1},n=function(mt){Q=mt,W||(W=!0,se.postMessage(null))},t=function(mt,dt){q=k(function(){mt(e.unstable_now())},dt)},r=function(){P(q),q=-1}}function le(mt,dt){var kt=mt.length;mt.push(dt);e:for(;;){var Pt=kt-1>>>1,Me=mt[Pt];if(Me!==void 0&&0<Ne(Me,dt))mt[Pt]=dt,mt[kt]=Me,kt=Pt;else break e}}function ye(mt){return mt=mt[0],mt===void 0?null:mt}function De(mt){var dt=mt[0];if(dt!==void 0){var kt=mt.pop();if(kt!==dt){mt[0]=kt;e:for(var Pt=0,Me=mt.length;Pt<Me;){var he=2*(Pt+1)-1,be=mt[he],Pe=he+1,Ze=mt[Pe];if(be!==void 0&&0>Ne(be,kt))Ze!==void 0&&0>Ne(Ze,be)?(mt[Pt]=Ze,mt[Pe]=kt,Pt=Pe):(mt[Pt]=be,mt[he]=kt,Pt=he);else if(Ze!==void 0&&0>Ne(Ze,kt))mt[Pt]=Ze,mt[Pe]=kt,Pt=Pe;else break e}}return dt}return null}function Ne(mt,dt){var kt=mt.sortIndex-dt.sortIndex;return kt!==0?kt:mt.id-dt.id}var et=[],ft=[],Ke=1,rt=null,Ce=3,Rt=!1,jt=!1,tn=!1;function Qt(mt){for(var dt=ye(ft);dt!==null;){if(dt.callback===null)De(ft);else if(dt.startTime<=mt)De(ft),dt.sortIndex=dt.expirationTime,le(et,dt);else break;dt=ye(ft)}}function He(mt){if(tn=!1,Qt(mt),!jt)if(ye(et)!==null)jt=!0,n(Je);else{var dt=ye(ft);dt!==null&&t(He,dt.startTime-mt)}}function Je(mt,dt){jt=!1,tn&&(tn=!1,r()),Rt=!0;var kt=Ce;try{for(Qt(dt),rt=ye(et);rt!==null&&(!(rt.expirationTime>dt)||mt&&!i());){var Pt=rt.callback;if(Pt!==null){rt.callback=null,Ce=rt.priorityLevel;var Me=Pt(rt.expirationTime<=dt);dt=e.unstable_now(),typeof Me=="function"?rt.callback=Me:rt===ye(et)&&De(et),Qt(dt)}else De(et);rt=ye(et)}if(rt!==null)var he=!0;else{var be=ye(ft);be!==null&&t(He,be.startTime-dt),he=!1}return he}finally{rt=null,Ce=kt,Rt=!1}}function tt(mt){switch(mt){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var rn=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(mt){mt.callback=null},e.unstable_continueExecution=function(){jt||Rt||(jt=!0,n(Je))},e.unstable_getCurrentPriorityLevel=function(){return Ce},e.unstable_getFirstCallbackNode=function(){return ye(et)},e.unstable_next=function(mt){switch(Ce){case 1:case 2:case 3:var dt=3;break;default:dt=Ce}var kt=Ce;Ce=dt;try{return mt()}finally{Ce=kt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=rn,e.unstable_runWithPriority=function(mt,dt){switch(mt){case 1:case 2:case 3:case 4:case 5:break;default:mt=3}var kt=Ce;Ce=mt;try{return dt()}finally{Ce=kt}},e.unstable_scheduleCallback=function(mt,dt,kt){var Pt=e.unstable_now();if(typeof kt=="object"&&kt!==null){var Me=kt.delay;Me=typeof Me=="number"&&0<Me?Pt+Me:Pt,kt=typeof kt.timeout=="number"?kt.timeout:tt(mt)}else kt=tt(mt),Me=Pt;return kt=Me+kt,mt={id:Ke++,callback:dt,priorityLevel:mt,startTime:Me,expirationTime:kt,sortIndex:-1},Me>Pt?(mt.sortIndex=Me,le(ft,mt),ye(et)===null&&mt===ye(ft)&&(tn?r():tn=!0,t(He,Me-Pt))):(mt.sortIndex=kt,le(et,mt),jt||Rt||(jt=!0,n(Je))),mt},e.unstable_shouldYield=function(){var mt=e.unstable_now();Qt(mt);var dt=ye(et);return dt!==rt&&rt!==null&&dt!==null&&dt.callback!==null&&dt.startTime<=mt&&dt.expirationTime<rt.expirationTime||i()},e.unstable_wrapCallback=function(mt){var dt=Ce;return function(){var kt=Ce;Ce=dt;try{return mt.apply(this,arguments)}finally{Ce=kt}}}})(MF);wF.exports=MF;var I$=wF.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4=Sr,vA=lF,Su=I$;function jn(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!S4)throw Error(jn(227));function T$(e,n,t,r,i,o,s,a,p){var g=Array.prototype.slice.call(arguments,3);try{n.apply(t,g)}catch(b){this.onError(b)}}var hC=!1,E2=null,O2=!1,wS=null,K$={onError:function(e){hC=!0,E2=e}};function P$(e,n,t,r,i,o,s,a,p){hC=!1,E2=null,T$.apply(K$,arguments)}function F$(e,n,t,r,i,o,s,a,p){if(P$.apply(this,arguments),hC){if(hC){var g=E2;hC=!1,E2=null}else throw Error(jn(198));O2||(O2=!0,wS=g)}}var vO=null,SF=null,EF=null;function gk(e,n,t){var r=e.type||"unknown-event";e.currentTarget=EF(t),F$(r,n,void 0,e),e.currentTarget=null}var B2=null,Bg={};function OF(){if(B2)for(var e in Bg){var n=Bg[e],t=B2.indexOf(e);if(!(-1<t))throw Error(jn(96,e));if(!k2[t]){if(!n.extractEvents)throw Error(jn(97,e));k2[t]=n,t=n.eventTypes;for(var r in t){var i=void 0,o=t[r],s=n,a=r;if(MS.hasOwnProperty(a))throw Error(jn(99,a));MS[a]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&yk(p[i],s,a);i=!0}else o.registrationName?(yk(o.registrationName,s,a),i=!0):i=!1;if(!i)throw Error(jn(98,r,e))}}}}function yk(e,n,t){if(my[e])throw Error(jn(100,e));my[e]=n,CO[e]=n.eventTypes[t].dependencies}var k2=[],MS={},my={},CO={};function BF(e){var n=!1,t;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!Bg.hasOwnProperty(t)||Bg[t]!==r){if(Bg[t])throw Error(jn(102,t));Bg[t]=r,n=!0}}n&&OF()}var Wm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SS=null,$g=null,Yg=null;function vk(e){if(e=SF(e)){if(typeof SS!="function")throw Error(jn(280));var n=e.stateNode;n&&(n=vO(n),SS(e.stateNode,e.type,n))}}function kF(e){$g?Yg?Yg.push(e):Yg=[e]:$g=e}function IF(){if($g){var e=$g,n=Yg;if(Yg=$g=null,vk(e),n)for(e=0;e<n.length;e++)vk(n[e])}}function _O(e,n){return e(n)}function TF(e,n,t,r,i){return e(n,t,r,i)}function bO(){}var KF=_O,K0=!1,Kw=!1;function xO(){($g!==null||Yg!==null)&&(bO(),IF())}function PF(e,n,t){if(Kw)return e(n,t);Kw=!0;try{return KF(e,n,t)}finally{Kw=!1,xO()}}var D$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ck=Object.prototype.hasOwnProperty,_k={},bk={};function U$(e){return Ck.call(bk,e)?!0:Ck.call(_k,e)?!1:D$.test(e)?bk[e]=!0:(_k[e]=!0,!1)}function R$(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L$(e,n,t,r){if(n===null||typeof n>"u"||R$(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function CA(e,n,t,r,i,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o}var Eu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Eu[e]=new CA(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Eu[n]=new CA(n,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Eu[e]=new CA(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Eu[e]=new CA(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Eu[e]=new CA(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){Eu[e]=new CA(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){Eu[e]=new CA(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){Eu[e]=new CA(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){Eu[e]=new CA(e,5,!1,e.toLowerCase(),null,!1)});var wO=/[\-:]([a-z])/g;function MO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(wO,MO);Eu[n]=new CA(n,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(wO,MO);Eu[n]=new CA(n,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(wO,MO);Eu[n]=new CA(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){Eu[e]=new CA(e,1,!1,e.toLowerCase(),null,!1)});Eu.xlinkHref=new CA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){Eu[e]=new CA(e,1,!1,e.toLowerCase(),null,!0)});var ah=S4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ah.hasOwnProperty("ReactCurrentDispatcher")||(ah.ReactCurrentDispatcher={current:null});ah.hasOwnProperty("ReactCurrentBatchConfig")||(ah.ReactCurrentBatchConfig={suspense:null});function SO(e,n,t,r){var i=Eu.hasOwnProperty(n)?Eu[n]:null,o=i!==null?i.type===0:r?!1:!(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N");o||(L$(n,t,i,r)&&(t=null),r||i===null?U$(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var z$=/^(.*)[\\\/]/,ec=typeof Symbol=="function"&&Symbol.for,tx=ec?Symbol.for("react.element"):60103,kg=ec?Symbol.for("react.portal"):60106,E0=ec?Symbol.for("react.fragment"):60107,FF=ec?Symbol.for("react.strict_mode"):60108,Zx=ec?Symbol.for("react.profiler"):60114,DF=ec?Symbol.for("react.provider"):60109,UF=ec?Symbol.for("react.context"):60110,j$=ec?Symbol.for("react.concurrent_mode"):60111,EO=ec?Symbol.for("react.forward_ref"):60112,Xx=ec?Symbol.for("react.suspense"):60113,ES=ec?Symbol.for("react.suspense_list"):60120,OO=ec?Symbol.for("react.memo"):60115,RF=ec?Symbol.for("react.lazy"):60116,LF=ec?Symbol.for("react.block"):60121,xk=typeof Symbol=="function"&&Symbol.iterator;function Ov(e){return e===null||typeof e!="object"?null:(e=xk&&e[xk]||e["@@iterator"],typeof e=="function"?e:null)}function W$(e){if(e._status===-1){e._status=0;var n=e._ctor;n=n(),e._result=n,n.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}}function vp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E0:return"Fragment";case kg:return"Portal";case Zx:return"Profiler";case FF:return"StrictMode";case Xx:return"Suspense";case ES:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case UF:return"Context.Consumer";case DF:return"Context.Provider";case EO:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case OO:return vp(e.type);case LF:return vp(e.render);case RF:if(e=e._status===1?e._result:null)return vp(e)}return null}function BO(e){var n="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var t="";break e;default:var r=e._debugOwner,i=e._debugSource,o=vp(e.type);t=null,r&&(t=vp(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(z$,"")+":"+i.lineNumber+")":t&&(o=" (created by "+t+")"),t=`
    in `+(r||"Unknown")+o}n+=t,e=e.return}while(e);return n}function Dm(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function zF(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function N$(e){var n=zF(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nx(e){e._valueTracker||(e._valueTracker=N$(e))}function jF(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=zF(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function OS(e,n){var t=n.checked;return vA({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function wk(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=Dm(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function WF(e,n){n=n.checked,n!=null&&SO(e,"checked",n,!1)}function BS(e,n){WF(e,n);var t=Dm(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?kS(e,n.type,t):n.hasOwnProperty("defaultValue")&&kS(e,n.type,Dm(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Mk(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function kS(e,n,t){(n!=="number"||e.ownerDocument.activeElement!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function G$(e){var n="";return S4.Children.forEach(e,function(t){t!=null&&(n+=t)}),n}function IS(e,n){return e=vA({children:void 0},n),(n=G$(n.children))&&(e.children=n),e}function qg(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Dm(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function TS(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(jn(91));return vA({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sk(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(jn(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(jn(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:Dm(t)}}function NF(e,n){var t=Dm(n.value),r=Dm(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function Ek(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}var GF={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function QF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function KS(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?QF(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rx,$F=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!==GF.svg||"innerHTML"in e)e.innerHTML=n;else{for(rx=rx||document.createElement("div"),rx.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function zC(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}function ix(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Ig={animationend:ix("Animation","AnimationEnd"),animationiteration:ix("Animation","AnimationIteration"),animationstart:ix("Animation","AnimationStart"),transitionend:ix("Transition","TransitionEnd")},Pw={},YF={};Wm&&(YF=document.createElement("div").style,"AnimationEvent"in window||(delete Ig.animationend.animation,delete Ig.animationiteration.animation,delete Ig.animationstart.animation),"TransitionEvent"in window||delete Ig.transitionend.transition);function E4(e){if(Pw[e])return Pw[e];if(!Ig[e])return e;var n=Ig[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in YF)return Pw[e]=n[t];return e}var qF=E4("animationend"),VF=E4("animationiteration"),HF=E4("animationstart"),ZF=E4("transitionend"),Zv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new(typeof WeakMap=="function"?WeakMap:Map);function kO(e){var n=Ok.get(e);return n===void 0&&(n=new Map,Ok.set(e,n)),n}function p1(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.effectTag&1026&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function XF(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Bk(e){if(p1(e)!==e)throw Error(jn(188))}function Q$(e){var n=e.alternate;if(!n){if(n=p1(e),n===null)throw Error(jn(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return Bk(i),e;if(o===r)return Bk(i),n;o=o.sibling}throw Error(jn(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(jn(189))}}if(t.alternate!==r)throw Error(jn(190))}if(t.tag!==3)throw Error(jn(188));return t.stateNode.current===t?e:n}function JF(e){if(e=Q$(e),!e)return null;for(var n=e;;){if(n.tag===5||n.tag===6)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function gy(e,n){if(n==null)throw Error(jn(30));return e==null?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function IO(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var Bv=null;function $$(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)gk(e,n[r],t[r]);else n&&gk(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O4(e){if(e!==null&&(Bv=gy(Bv,e)),e=Bv,Bv=null,e){if(IO(e,$$),Bv)throw Error(jn(95));if(O2)throw e=wS,O2=!1,wS=null,e}}function TO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function eD(e){if(!Wm)return!1;e="on"+e;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n=typeof n[e]=="function"),n}var I2=[];function tD(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>I2.length&&I2.push(e)}function nD(e,n,t,r){if(I2.length){var i=I2.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=n,i.targetInst=t,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:n,targetInst:t,ancestors:[]}}function rD(e){var n=e.targetInst,t=n;do{if(!t){e.ancestors.push(t);break}var r=t;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;n=t.tag,n!==5&&n!==6||e.ancestors.push(t),t=B_(r)}while(t);for(t=0;t<e.ancestors.length;t++){n=e.ancestors[t];var i=TO(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;t===0&&(s|=64);for(var a=null,p=0;p<k2.length;p++){var g=k2[p];g&&(g=g.extractEvents(r,n,o,i,s))&&(a=gy(a,g))}O4(a)}}function PS(e,n,t){if(!t.has(e)){switch(e){case"scroll":Xv(n,"scroll",!0);break;case"focus":case"blur":Xv(n,"focus",!0),Xv(n,"blur",!0),t.set("blur",null),t.set("focus",null);break;case"cancel":case"close":eD(e)&&Xv(n,e,!0);break;case"invalid":case"submit":case"reset":break;default:Zv.indexOf(e)===-1&&Ls(e,n)}t.set(e,null)}}var iD,KO,oD,FS=!1,rf=[],xm=null,wm=null,Mm=null,jC=new Map,WC=new Map,kv=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Y$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function q$(e,n){var t=kO(n);DS.forEach(function(r){PS(r,n,t)}),Y$.forEach(function(r){PS(r,n,t)})}function US(e,n,t,r,i){return{blockedOn:e,topLevelType:n,eventSystemFlags:t|32,nativeEvent:i,container:r}}function kk(e,n){switch(e){case"focus":case"blur":xm=null;break;case"dragenter":case"dragleave":wm=null;break;case"mouseover":case"mouseout":Mm=null;break;case"pointerover":case"pointerout":jC.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":WC.delete(n.pointerId)}}function Iv(e,n,t,r,i,o){return e===null||e.nativeEvent!==o?(e=US(n,t,r,i,o),n!==null&&(n=k_(n),n!==null&&KO(n)),e):(e.eventSystemFlags|=r,e)}function V$(e,n,t,r,i){switch(n){case"focus":return xm=Iv(xm,e,n,t,r,i),!0;case"dragenter":return wm=Iv(wm,e,n,t,r,i),!0;case"mouseover":return Mm=Iv(Mm,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return jC.set(o,Iv(jC.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,WC.set(o,Iv(WC.get(o)||null,e,n,t,r,i)),!0}return!1}function H$(e){var n=B_(e.target);if(n!==null){var t=p1(n);if(t!==null){if(n=t.tag,n===13){if(n=XF(t),n!==null){e.blockedOn=n,Su.unstable_runWithPriority(e.priority,function(){oD(t)});return}}else if(n===3&&t.stateNode.hydrate){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jx(e){if(e.blockedOn!==null)return!1;var n=DO(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(n!==null){var t=k_(n);return t!==null&&KO(t),e.blockedOn=n,!1}return!0}function Ik(e,n,t){Jx(e)&&t.delete(n)}function Z$(){for(FS=!1;0<rf.length;){var e=rf[0];if(e.blockedOn!==null){e=k_(e.blockedOn),e!==null&&iD(e);break}var n=DO(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);n!==null?e.blockedOn=n:rf.shift()}xm!==null&&Jx(xm)&&(xm=null),wm!==null&&Jx(wm)&&(wm=null),Mm!==null&&Jx(Mm)&&(Mm=null),jC.forEach(Ik),WC.forEach(Ik)}function Tv(e,n){e.blockedOn===n&&(e.blockedOn=null,FS||(FS=!0,Su.unstable_scheduleCallback(Su.unstable_NormalPriority,Z$)))}function aD(e){function n(i){return Tv(i,e)}if(0<rf.length){Tv(rf[0],e);for(var t=1;t<rf.length;t++){var r=rf[t];r.blockedOn===e&&(r.blockedOn=null)}}for(xm!==null&&Tv(xm,e),wm!==null&&Tv(wm,e),Mm!==null&&Tv(Mm,e),jC.forEach(n),WC.forEach(n),t=0;t<kv.length;t++)r=kv[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<kv.length&&(t=kv[0],t.blockedOn===null);)H$(t),t.blockedOn===null&&kv.shift()}var sD={},lD=new Map,PO=new Map,X$=["abort","abort",qF,"animationEnd",VF,"animationIteration",HF,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ZF,"transitionEnd","waiting","waiting"];function FO(e,n){for(var t=0;t<e.length;t+=2){var r=e[t],i=e[t+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:n},PO.set(r,n),lD.set(r,o),sD[i]=o}}FO("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);FO("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);FO(X$,2);for(var Tk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Fw=0;Fw<Tk.length;Fw++)PO.set(Tk[Fw],0);var J$=Su.unstable_UserBlockingPriority,eY=Su.unstable_runWithPriority,e2=!0;function Ls(e,n){Xv(n,e,!1)}function Xv(e,n,t){var r=PO.get(n);switch(r===void 0?2:r){case 0:r=tY.bind(null,n,1,e);break;case 1:r=nY.bind(null,n,1,e);break;default:r=B4.bind(null,n,1,e)}t?e.addEventListener(n,r,!0):e.addEventListener(n,r,!1)}function tY(e,n,t,r){K0||bO();var i=B4,o=K0;K0=!0;try{TF(i,e,n,t,r)}finally{(K0=o)||xO()}}function nY(e,n,t,r){eY(J$,B4.bind(null,e,n,t,r))}function B4(e,n,t,r){if(e2)if(0<rf.length&&-1<DS.indexOf(e))e=US(null,e,n,t,r),rf.push(e);else{var i=DO(e,n,t,r);if(i===null)kk(e,r);else if(-1<DS.indexOf(e))e=US(i,e,n,t,r),rf.push(e);else if(!V$(i,e,n,t,r)){kk(e,r),e=nD(e,r,null,n);try{PF(rD,e)}finally{tD(e)}}}}function DO(e,n,t,r){if(t=TO(r),t=B_(t),t!==null){var i=p1(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=XF(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}e=nD(e,r,t,n);try{PF(rD,e)}finally{tD(e)}return null}var fC={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rY=["Webkit","ms","Moz","O"];Object.keys(fC).forEach(function(e){rY.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fC[n]=fC[e]})});function uD(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||fC.hasOwnProperty(e)&&fC[e]?(""+n).trim():n+"px"}function AD(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=uD(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var iY=vA({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RS(e,n){if(n){if(iY[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(jn(137,e,""));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(jn(60));if(!(typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML))throw Error(jn(61))}if(n.style!=null&&typeof n.style!="object")throw Error(jn(62,""))}}function LS(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kk=GF.html;function tp(e,n){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var t=kO(e);n=CO[n];for(var r=0;r<n.length;r++)PS(n[r],e,t)}function T2(){}function zS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fk(e,n){var t=Pk(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Pk(t)}}function cD(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cD(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dk(){for(var e=window,n=zS();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=zS(e.document)}return n}function jS(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dD="$",hD="/$",UO="$?",RO="$!",Dw=null,Uw=null;function fD(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function WS(e,n){return e==="textarea"||e==="option"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rw=typeof setTimeout=="function"?setTimeout:void 0,oY=typeof clearTimeout=="function"?clearTimeout:void 0;function Vg(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break}return e}function Uk(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t===dD||t===RO||t===UO){if(n===0)return e;n--}else t===hD&&n++}e=e.previousSibling}return null}var LO=Math.random().toString(36).slice(2),cm="__reactInternalInstance$"+LO,K2="__reactEventHandlers$"+LO,O_="__reactContainere$"+LO;function B_(e){var n=e[cm];if(n)return n;for(var t=e.parentNode;t;){if(n=t[O_]||t[cm]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=Uk(e);e!==null;){if(t=e[cm])return t;e=Uk(e)}return n}e=t,t=e.parentNode}return null}function k_(e){return e=e[cm]||e[O_],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function t1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(jn(33))}function zO(e){return e[K2]||null}function np(e){do e=e.return;while(e&&e.tag!==5);return e||null}function pD(e,n){var t=e.stateNode;if(!t)return null;var r=vO(t);if(!r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(jn(231,n,typeof t));return t}function Rk(e,n,t){(n=pD(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=gy(t._dispatchListeners,n),t._dispatchInstances=gy(t._dispatchInstances,e))}function aY(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;)t.push(n),n=np(n);for(n=t.length;0<n--;)Rk(t[n],"captured",e);for(n=0;n<t.length;n++)Rk(t[n],"bubbled",e)}}function NS(e,n,t){e&&t&&t.dispatchConfig.registrationName&&(n=pD(e,t.dispatchConfig.registrationName))&&(t._dispatchListeners=gy(t._dispatchListeners,n),t._dispatchInstances=gy(t._dispatchInstances,e))}function sY(e){e&&e.dispatchConfig.registrationName&&NS(e._targetInst,null,e)}function yy(e){IO(e,aY)}var dm=null,jO=null,t2=null;function mD(){if(t2)return t2;var e,n=jO,t=n.length,r,i="value"in dm?dm.value:dm.textContent,o=i.length;for(e=0;e<t&&n[e]===i[e];e++);var s=t-e;for(r=1;r<=s&&n[t-r]===i[o-r];r++);return t2=i.slice(e,1<r?1-r:void 0)}function n2(){return!0}function P2(){return!1}function Dc(e,n,t,r){this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((n=e[i])?this[i]=n(t):i==="target"?this.target=r:this[i]=t[i]);return this.isDefaultPrevented=(t.defaultPrevented!=null?t.defaultPrevented:t.returnValue===!1)?n2:P2,this.isPropagationStopped=P2,this}vA(Dc.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=n2)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=n2)},persist:function(){this.isPersistent=n2},isPersistent:P2,destructor:function(){var e=this.constructor.Interface,n;for(n in e)this[n]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=P2,this._dispatchInstances=this._dispatchListeners=null}});Dc.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Dc.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var i=new n;return vA(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=vA({},r.Interface,e),t.extend=r.extend,gD(t),t};gD(Dc);function lY(e,n,t,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,n,t,r),i}return new this(e,n,t,r)}function uY(e){if(!(e instanceof this))throw Error(jn(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function gD(e){e.eventPool=[],e.getPooled=lY,e.release=uY}var AY=Dc.extend({data:null}),cY=Dc.extend({data:null}),dY=[9,13,27,32],WO=Wm&&"CompositionEvent"in window,pC=null;Wm&&"documentMode"in document&&(pC=document.documentMode);var hY=Wm&&"TextEvent"in window&&!pC,yD=Wm&&(!WO||pC&&8<pC&&11>=pC),Lk=" ",Vf={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},zk=!1;function vD(e,n){switch(e){case"keyup":return dY.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function CD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tg=!1;function fY(e,n){switch(e){case"compositionend":return CD(n);case"keypress":return n.which!==32?null:(zk=!0,Lk);case"textInput":return e=n.data,e===Lk&&zk?null:e;default:return null}}function pY(e,n){if(Tg)return e==="compositionend"||!WO&&vD(e,n)?(e=mD(),t2=jO=dm=null,Tg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yD&&n.locale!=="ko"?null:n.data;default:return null}}var mY={eventTypes:Vf,extractEvents:function(e,n,t,r){var i;if(WO)e:{switch(e){case"compositionstart":var o=Vf.compositionStart;break e;case"compositionend":o=Vf.compositionEnd;break e;case"compositionupdate":o=Vf.compositionUpdate;break e}o=void 0}else Tg?vD(e,t)&&(o=Vf.compositionEnd):e==="keydown"&&t.keyCode===229&&(o=Vf.compositionStart);return o?(yD&&t.locale!=="ko"&&(Tg||o!==Vf.compositionStart?o===Vf.compositionEnd&&Tg&&(i=mD()):(dm=r,jO="value"in dm?dm.value:dm.textContent,Tg=!0)),o=AY.getPooled(o,n,t,r),i?o.data=i:(i=CD(t),i!==null&&(o.data=i)),yy(o),i=o):i=null,(e=hY?fY(e,t):pY(e,t))?(n=cY.getPooled(Vf.beforeInput,n,t,r),n.data=e,yy(n)):n=null,i===null?n:n===null?i:[i,n]}},gY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _D(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gY[e.type]:n==="textarea"}var bD={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xD(e,n,t){return e=Dc.getPooled(bD.change,e,n,t),e.type="change",kF(t),yy(e),e}var mC=null,NC=null;function yY(e){O4(e)}function k4(e){var n=t1(e);if(jF(n))return e}function vY(e,n){if(e==="change")return n}var GS=!1;Wm&&(GS=eD("input")&&(!document.documentMode||9<document.documentMode));function jk(){mC&&(mC.detachEvent("onpropertychange",wD),NC=mC=null)}function wD(e){if(e.propertyName==="value"&&k4(NC))if(e=xD(NC,e,TO(e)),K0)O4(e);else{K0=!0;try{_O(yY,e)}finally{K0=!1,xO()}}}function CY(e,n,t){e==="focus"?(jk(),mC=n,NC=t,mC.attachEvent("onpropertychange",wD)):e==="blur"&&jk()}function _Y(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k4(NC)}function bY(e,n){if(e==="click")return k4(n)}function xY(e,n){if(e==="input"||e==="change")return k4(n)}var wY={eventTypes:bD,_isInputEventSupported:GS,extractEvents:function(e,n,t,r){var i=n?t1(n):window,o=i.nodeName&&i.nodeName.toLowerCase();if(o==="select"||o==="input"&&i.type==="file")var s=vY;else if(_D(i))if(GS)s=xY;else{s=_Y;var a=CY}else(o=i.nodeName)&&o.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(s=bY);if(s&&(s=s(e,n)))return xD(s,t,r);a&&a(e,i,n),e==="blur"&&(e=i._wrapperState)&&e.controlled&&i.type==="number"&&kS(i,"number",i.value)}},I_=Dc.extend({view:null,detail:null}),MY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SY(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=MY[e])?!!n[e]:!1}function NO(){return SY}var Wk=0,Nk=0,Gk=!1,Qk=!1,T_=I_.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:NO,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var n=Wk;return Wk=e.screenX,Gk?e.type==="mousemove"?e.screenX-n:0:(Gk=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var n=Nk;return Nk=e.screenY,Qk?e.type==="mousemove"?e.screenY-n:0:(Qk=!0,0)}}),MD=T_.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kv={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},EY={eventTypes:Kv,extractEvents:function(e,n,t,r,i){var o=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout";if(o&&!(i&32)&&(t.relatedTarget||t.fromElement)||!s&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s){if(s=n,n=(n=t.relatedTarget||t.toElement)?B_(n):null,n!==null){var a=p1(n);(n!==a||n.tag!==5&&n.tag!==6)&&(n=null)}}else s=null;if(s===n)return null;if(e==="mouseout"||e==="mouseover")var p=T_,g=Kv.mouseLeave,b=Kv.mouseEnter,B="mouse";else(e==="pointerout"||e==="pointerover")&&(p=MD,g=Kv.pointerLeave,b=Kv.pointerEnter,B="pointer");if(e=s==null?o:t1(s),o=n==null?o:t1(n),g=p.getPooled(g,s,t,r),g.type=B+"leave",g.target=e,g.relatedTarget=o,t=p.getPooled(b,n,t,r),t.type=B+"enter",t.target=o,t.relatedTarget=e,r=s,B=n,r&&B)e:{for(p=r,b=B,s=0,e=p;e;e=np(e))s++;for(e=0,n=b;n;n=np(n))e++;for(;0<s-e;)p=np(p),s--;for(;0<e-s;)b=np(b),e--;for(;s--;){if(p===b||p===b.alternate)break e;p=np(p),b=np(b)}p=null}else p=null;for(b=p,p=[];r&&r!==b&&(s=r.alternate,!(s!==null&&s===b));)p.push(r),r=np(r);for(r=[];B&&B!==b&&(s=B.alternate,!(s!==null&&s===b));)r.push(B),B=np(B);for(B=0;B<p.length;B++)NS(p[B],"bubbled",g);for(B=r.length;0<B--;)NS(r[B],"captured",t);return i&64?[g,t]:[g]}};function OY(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var n1=typeof Object.is=="function"?Object.is:OY,BY=Object.prototype.hasOwnProperty;function GC(e,n){if(n1(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!BY.call(n,t[r])||!n1(e[t[r]],n[t[r]]))return!1;return!0}var kY=Wm&&"documentMode"in document&&11>=document.documentMode,SD={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kg=null,QS=null,gC=null,$S=!1;function $k(e,n){var t=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;return $S||Kg==null||Kg!==zS(t)?null:(t=Kg,"selectionStart"in t&&jS(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),gC&&GC(gC,t)?null:(gC=t,e=Dc.getPooled(SD.select,QS,e,n),e.type="select",e.target=Kg,yy(e),e))}var IY={eventTypes:SD,extractEvents:function(e,n,t,r,i,o){if(i=o||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(o=!i)){e:{i=kO(i),o=CO.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=n?t1(n):window,e){case"focus":(_D(i)||i.contentEditable==="true")&&(Kg=i,QS=n,gC=null);break;case"blur":gC=QS=Kg=null;break;case"mousedown":$S=!0;break;case"contextmenu":case"mouseup":case"dragend":return $S=!1,$k(t,r);case"selectionchange":if(kY)break;case"keydown":case"keyup":return $k(t,r)}return null}},TY=Dc.extend({animationName:null,elapsedTime:null,pseudoElement:null}),KY=Dc.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PY=I_.extend({relatedTarget:null});function r2(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}var FY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UY=I_.extend({key:function(e){if(e.key){var n=FY[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=r2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DY[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:NO,charCode:function(e){return e.type==="keypress"?r2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?r2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RY=T_.extend({dataTransfer:null}),LY=I_.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:NO}),zY=Dc.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),jY=T_.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),WY={eventTypes:sD,extractEvents:function(e,n,t,r){var i=lD.get(e);if(!i)return null;switch(e){case"keypress":if(r2(t)===0)return null;case"keydown":case"keyup":e=UY;break;case"blur":case"focus":e=PY;break;case"click":if(t.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=T_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=RY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=LY;break;case qF:case VF:case HF:e=TY;break;case ZF:e=zY;break;case"scroll":e=I_;break;case"wheel":e=jY;break;case"copy":case"cut":case"paste":e=KY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=MD;break;default:e=Dc}return n=e.getPooled(i,n,t,r),yy(n),n}};if(B2)throw Error(jn(101));B2=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));OF();var NY=k_;vO=zO;SF=NY;EF=t1;BF({SimpleEventPlugin:WY,EnterLeaveEventPlugin:EY,ChangeEventPlugin:wY,SelectEventPlugin:IY,BeforeInputEventPlugin:mY});var YS=[],Pg=-1;function Cs(e){0>Pg||(e.current=YS[Pg],YS[Pg]=null,Pg--)}function cl(e,n){Pg++,YS[Pg]=e.current,e.current=n}var Um={},Zu={current:Um},qA={current:!1},r1=Um;function vy(e,n){var t=e.type.contextTypes;if(!t)return Um;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=n[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function VA(e){return e=e.childContextTypes,e!=null}function F2(){Cs(qA),Cs(Zu)}function Yk(e,n,t){if(Zu.current!==Um)throw Error(jn(168));cl(Zu,n),cl(qA,t)}function ED(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(jn(108,vp(n)||"Unknown",i));return vA({},t,{},r)}function i2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Um,r1=Zu.current,cl(Zu,e),cl(qA,qA.current),!0}function qk(e,n,t){var r=e.stateNode;if(!r)throw Error(jn(169));t?(e=ED(e,n,r1),r.__reactInternalMemoizedMergedChildContext=e,Cs(qA),Cs(Zu),cl(Zu,e)):Cs(qA),cl(qA,t)}var GY=Su.unstable_runWithPriority,GO=Su.unstable_scheduleCallback,OD=Su.unstable_cancelCallback,Vk=Su.unstable_requestPaint,qS=Su.unstable_now,QY=Su.unstable_getCurrentPriorityLevel,I4=Su.unstable_ImmediatePriority,BD=Su.unstable_UserBlockingPriority,kD=Su.unstable_NormalPriority,ID=Su.unstable_LowPriority,TD=Su.unstable_IdlePriority,KD={},$Y=Su.unstable_shouldYield,YY=Vk!==void 0?Vk:function(){},up=null,o2=null,Lw=!1,Hk=qS(),dd=1e4>Hk?qS:function(){return qS()-Hk};function T4(){switch(QY()){case I4:return 99;case BD:return 98;case kD:return 97;case ID:return 96;case TD:return 95;default:throw Error(jn(332))}}function PD(e){switch(e){case 99:return I4;case 98:return BD;case 97:return kD;case 96:return ID;case 95:return TD;default:throw Error(jn(332))}}function Rm(e,n){return e=PD(e),GY(e,n)}function FD(e,n,t){return e=PD(e),GO(e,n,t)}function Zk(e){return up===null?(up=[e],o2=GO(I4,DD)):up.push(e),KD}function bf(){if(o2!==null){var e=o2;o2=null,OD(e)}DD()}function DD(){if(!Lw&&up!==null){Lw=!0;var e=0;try{var n=up;Rm(99,function(){for(;e<n.length;e++){var t=n[e];do t=t(!0);while(t!==null)}}),up=null}catch(t){throw up!==null&&(up=up.slice(e+1)),GO(I4,bf),t}finally{Lw=!1}}}function a2(e,n,t){return t/=10,1073741821-(((1073741821-e+n/10)/t|0)+1)*t}function th(e,n){if(e&&e.defaultProps){n=vA({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t])}return n}var D2={current:null},U2=null,Fg=null,R2=null;function QO(){R2=Fg=U2=null}function $O(e){var n=D2.current;Cs(D2),e.type._context._currentValue=n}function UD(e,n){for(;e!==null;){var t=e.alternate;if(e.childExpirationTime<n)e.childExpirationTime=n,t!==null&&t.childExpirationTime<n&&(t.childExpirationTime=n);else if(t!==null&&t.childExpirationTime<n)t.childExpirationTime=n;else break;e=e.return}}function Hg(e,n){U2=e,R2=Fg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=n&&(of=!0),e.firstContext=null)}function yd(e,n){if(R2!==e&&n!==!1&&n!==0)if((typeof n!="number"||n===1073741823)&&(R2=e,n=1073741823),n={context:e,observedBits:n,next:null},Fg===null){if(U2===null)throw Error(jn(308));Fg=n,U2.dependencies={expirationTime:0,firstContext:n,responders:null}}else Fg=Fg.next=n;return e._currentValue}var im=!1;function YO(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function qO(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Sm(e,n){return e={expirationTime:e,suspenseConfig:n,tag:0,payload:null,callback:null,next:null},e.next=e}function Em(e,n){if(e=e.updateQueue,e!==null){e=e.shared;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function Xk(e,n){var t=e.alternate;t!==null&&qO(t,e),e=e.updateQueue,t=e.baseQueue,t===null?(e.baseQueue=n.next=n,n.next=n):(n.next=t.next,t.next=n)}function QC(e,n,t,r){var i=e.updateQueue;im=!1;var o=i.baseQueue,s=i.shared.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}o=s,i.shared.pending=null,a=e.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=s))}if(o!==null){a=o.next;var p=i.baseState,g=0,b=null,B=null,k=null;if(a!==null){var P=a;do{if(s=P.expirationTime,s<r){var R={expirationTime:P.expirationTime,suspenseConfig:P.suspenseConfig,tag:P.tag,payload:P.payload,callback:P.callback,next:null};k===null?(B=k=R,b=p):k=k.next=R,s>g&&(g=s)}else{k!==null&&(k=k.next={expirationTime:1073741823,suspenseConfig:P.suspenseConfig,tag:P.tag,payload:P.payload,callback:P.callback,next:null}),hU(s,P.suspenseConfig);e:{var Z=e,W=P;switch(s=n,R=t,W.tag){case 1:if(Z=W.payload,typeof Z=="function"){p=Z.call(R,p,s);break e}p=Z;break e;case 3:Z.effectTag=Z.effectTag&-4097|64;case 0:if(Z=W.payload,s=typeof Z=="function"?Z.call(R,p,s):Z,s==null)break e;p=vA({},p,s);break e;case 2:im=!0}}P.callback!==null&&(e.effectTag|=32,s=i.effects,s===null?i.effects=[P]:s.push(P))}if(P=P.next,P===null||P===a){if(s=i.shared.pending,s===null)break;P=o.next=s.next,s.next=a,i.baseQueue=o=s,i.shared.pending=null}}while(!0)}k===null?b=p:k.next=B,i.baseState=b,i.baseQueue=k,U4(g),e.expirationTime=g,e.memoizedState=p}}function Jk(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=t,typeof r!="function")throw Error(jn(191,r));r.call(i)}}}var yC=ah.ReactCurrentBatchConfig,RD=new S4.Component().refs;function L2(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:vA({},n,t),e.memoizedState=t,e.expirationTime===0&&(e.updateQueue.baseState=t)}var K4={isMounted:function(e){return(e=e._reactInternalFiber)?p1(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternalFiber;var r=Af(),i=yC.suspense;r=$0(r,e,i),i=Sm(r,i),i.payload=n,t!=null&&(i.callback=t),Em(e,i),Bm(e,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternalFiber;var r=Af(),i=yC.suspense;r=$0(r,e,i),i=Sm(r,i),i.tag=1,i.payload=n,t!=null&&(i.callback=t),Em(e,i),Bm(e,r)},enqueueForceUpdate:function(e,n){e=e._reactInternalFiber;var t=Af(),r=yC.suspense;t=$0(t,e,r),r=Sm(t,r),r.tag=2,n!=null&&(r.callback=n),Em(e,r),Bm(e,t)}};function eI(e,n,t,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):n.prototype&&n.prototype.isPureReactComponent?!GC(t,r)||!GC(i,o):!0}function LD(e,n,t){var r=!1,i=Um,o=n.contextType;return typeof o=="object"&&o!==null?o=yd(o):(i=VA(n)?r1:Zu.current,r=n.contextTypes,o=(r=r!=null)?vy(e,i):Um),n=new n(t,o),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=K4,e.stateNode=n,n._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),n}function tI(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&K4.enqueueReplaceState(n,n.state,null)}function VS(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=RD,YO(e);var o=n.contextType;typeof o=="object"&&o!==null?i.context=yd(o):(o=VA(n)?r1:Zu.current,i.context=vy(e,o)),QC(e,t,i,r),i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(L2(e,n,o,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&K4.enqueueReplaceState(i,i.state,null),QC(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.effectTag|=4)}var ox=Array.isArray;function Pv(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(jn(309));var r=t.stateNode}if(!r)throw Error(jn(147,e));var i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(o){var s=r.refs;s===RD&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},n._stringRef=i,n)}if(typeof e!="string")throw Error(jn(284));if(!t._owner)throw Error(jn(290,e))}return e}function ax(e,n){if(e.type!=="textarea")throw Error(jn(31,Object.prototype.toString.call(n)==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":n,""))}function zD(e){function n(W,Q){if(e){var q=W.lastEffect;q!==null?(q.nextEffect=Q,W.lastEffect=Q):W.firstEffect=W.lastEffect=Q,Q.nextEffect=null,Q.effectTag=8}}function t(W,Q){if(!e)return null;for(;Q!==null;)n(W,Q),Q=Q.sibling;return null}function r(W,Q){for(W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function i(W,Q){return W=i1(W,Q),W.index=0,W.sibling=null,W}function o(W,Q,q){return W.index=q,e?(q=W.alternate,q!==null?(q=q.index,q<Q?(W.effectTag=2,Q):q):(W.effectTag=2,Q)):Q}function s(W){return e&&W.alternate===null&&(W.effectTag=2),W}function a(W,Q,q,oe){return Q===null||Q.tag!==6?(Q=Qw(q,W.mode,oe),Q.return=W,Q):(Q=i(Q,q),Q.return=W,Q)}function p(W,Q,q,oe){return Q!==null&&Q.elementType===q.type?(oe=i(Q,q.props),oe.ref=Pv(W,Q,q),oe.return=W,oe):(oe=A2(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Pv(W,Q,q),oe.return=W,oe)}function g(W,Q,q,oe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==q.containerInfo||Q.stateNode.implementation!==q.implementation?(Q=$w(q,W.mode,oe),Q.return=W,Q):(Q=i(Q,q.children||[]),Q.return=W,Q)}function b(W,Q,q,oe,re){return Q===null||Q.tag!==7?(Q=pm(q,W.mode,oe,re),Q.return=W,Q):(Q=i(Q,q),Q.return=W,Q)}function B(W,Q,q){if(typeof Q=="string"||typeof Q=="number")return Q=Qw(""+Q,W.mode,q),Q.return=W,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case tx:return q=A2(Q.type,Q.key,Q.props,null,W.mode,q),q.ref=Pv(W,null,Q),q.return=W,q;case kg:return Q=$w(Q,W.mode,q),Q.return=W,Q}if(ox(Q)||Ov(Q))return Q=pm(Q,W.mode,q,null),Q.return=W,Q;ax(W,Q)}return null}function k(W,Q,q,oe){var re=Q!==null?Q.key:null;if(typeof q=="string"||typeof q=="number")return re!==null?null:a(W,Q,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case tx:return q.key===re?q.type===E0?b(W,Q,q.props.children,oe,re):p(W,Q,q,oe):null;case kg:return q.key===re?g(W,Q,q,oe):null}if(ox(q)||Ov(q))return re!==null?null:b(W,Q,q,oe,null);ax(W,q)}return null}function P(W,Q,q,oe,re){if(typeof oe=="string"||typeof oe=="number")return W=W.get(q)||null,a(Q,W,""+oe,re);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case tx:return W=W.get(oe.key===null?q:oe.key)||null,oe.type===E0?b(Q,W,oe.props.children,re,oe.key):p(Q,W,oe,re);case kg:return W=W.get(oe.key===null?q:oe.key)||null,g(Q,W,oe,re)}if(ox(oe)||Ov(oe))return W=W.get(q)||null,b(Q,W,oe,re,null);ax(Q,oe)}return null}function R(W,Q,q,oe){for(var re=null,ce=null,se=Q,le=Q=0,ye=null;se!==null&&le<q.length;le++){se.index>le?(ye=se,se=null):ye=se.sibling;var De=k(W,se,q[le],oe);if(De===null){se===null&&(se=ye);break}e&&se&&De.alternate===null&&n(W,se),Q=o(De,Q,le),ce===null?re=De:ce.sibling=De,ce=De,se=ye}if(le===q.length)return t(W,se),re;if(se===null){for(;le<q.length;le++)se=B(W,q[le],oe),se!==null&&(Q=o(se,Q,le),ce===null?re=se:ce.sibling=se,ce=se);return re}for(se=r(W,se);le<q.length;le++)ye=P(se,W,le,q[le],oe),ye!==null&&(e&&ye.alternate!==null&&se.delete(ye.key===null?le:ye.key),Q=o(ye,Q,le),ce===null?re=ye:ce.sibling=ye,ce=ye);return e&&se.forEach(function(Ne){return n(W,Ne)}),re}function Z(W,Q,q,oe){var re=Ov(q);if(typeof re!="function")throw Error(jn(150));if(q=re.call(q),q==null)throw Error(jn(151));for(var ce=re=null,se=Q,le=Q=0,ye=null,De=q.next();se!==null&&!De.done;le++,De=q.next()){se.index>le?(ye=se,se=null):ye=se.sibling;var Ne=k(W,se,De.value,oe);if(Ne===null){se===null&&(se=ye);break}e&&se&&Ne.alternate===null&&n(W,se),Q=o(Ne,Q,le),ce===null?re=Ne:ce.sibling=Ne,ce=Ne,se=ye}if(De.done)return t(W,se),re;if(se===null){for(;!De.done;le++,De=q.next())De=B(W,De.value,oe),De!==null&&(Q=o(De,Q,le),ce===null?re=De:ce.sibling=De,ce=De);return re}for(se=r(W,se);!De.done;le++,De=q.next())De=P(se,W,le,De.value,oe),De!==null&&(e&&De.alternate!==null&&se.delete(De.key===null?le:De.key),Q=o(De,Q,le),ce===null?re=De:ce.sibling=De,ce=De);return e&&se.forEach(function(et){return n(W,et)}),re}return function(W,Q,q,oe){var re=typeof q=="object"&&q!==null&&q.type===E0&&q.key===null;re&&(q=q.props.children);var ce=typeof q=="object"&&q!==null;if(ce)switch(q.$$typeof){case tx:e:{for(ce=q.key,re=Q;re!==null;){if(re.key===ce){switch(re.tag){case 7:if(q.type===E0){t(W,re.sibling),Q=i(re,q.props.children),Q.return=W,W=Q;break e}break;default:if(re.elementType===q.type){t(W,re.sibling),Q=i(re,q.props),Q.ref=Pv(W,re,q),Q.return=W,W=Q;break e}}t(W,re);break}else n(W,re);re=re.sibling}q.type===E0?(Q=pm(q.props.children,W.mode,oe,q.key),Q.return=W,W=Q):(oe=A2(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Pv(W,Q,q),oe.return=W,W=oe)}return s(W);case kg:e:{for(re=q.key;Q!==null;){if(Q.key===re)if(Q.tag===4&&Q.stateNode.containerInfo===q.containerInfo&&Q.stateNode.implementation===q.implementation){t(W,Q.sibling),Q=i(Q,q.children||[]),Q.return=W,W=Q;break e}else{t(W,Q);break}else n(W,Q);Q=Q.sibling}Q=$w(q,W.mode,oe),Q.return=W,W=Q}return s(W)}if(typeof q=="string"||typeof q=="number")return q=""+q,Q!==null&&Q.tag===6?(t(W,Q.sibling),Q=i(Q,q),Q.return=W,W=Q):(t(W,Q),Q=Qw(q,W.mode,oe),Q.return=W,W=Q),s(W);if(ox(q))return R(W,Q,q,oe);if(Ov(q))return Z(W,Q,q,oe);if(ce&&ax(W,q),typeof q>"u"&&!re)switch(W.tag){case 1:case 0:throw W=W.type,Error(jn(152,W.displayName||W.name||"Component"))}return t(W,Q)}}var Cy=zD(!0),VO=zD(!1),K_={},uf={current:K_},$C={current:K_},YC={current:K_};function P0(e){if(e===K_)throw Error(jn(174));return e}function HS(e,n){switch(cl(YC,n),cl($C,e),cl(uf,K_),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:KS(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=KS(n,e)}Cs(uf),cl(uf,n)}function _y(){Cs(uf),Cs($C),Cs(YC)}function nI(e){P0(YC.current);var n=P0(uf.current),t=KS(n,e.type);n!==t&&(cl($C,e),cl(uf,t))}function HO(e){$C.current===e&&(Cs(uf),Cs($C))}var el={current:0};function z2(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data===UO||t.data===RO))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.effectTag&64)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ZO(e,n){return{responder:e,props:n}}var s2=ah.ReactCurrentDispatcher,pd=ah.ReactCurrentBatchConfig,hm=0,Wl=null,Vu=null,Hu=null,j2=!1;function Mc(){throw Error(jn(321))}function XO(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!n1(e[t],n[t]))return!1;return!0}function JO(e,n,t,r,i,o){if(hm=o,Wl=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,s2.current=e===null||e.memoizedState===null?qY:VY,e=t(r,i),n.expirationTime===hm){o=0;do{if(n.expirationTime=0,!(25>o))throw Error(jn(301));o+=1,Hu=Vu=null,n.updateQueue=null,s2.current=HY,e=t(r,i)}while(n.expirationTime===hm)}if(s2.current=G2,n=Vu!==null&&Vu.next!==null,hm=0,Hu=Vu=Wl=null,j2=!1,n)throw Error(jn(300));return e}function Zg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hu===null?Wl.memoizedState=Hu=e:Hu=Hu.next=e,Hu}function Py(){if(Vu===null){var e=Wl.alternate;e=e!==null?e.memoizedState:null}else e=Vu.next;var n=Hu===null?Wl.memoizedState:Hu.next;if(n!==null)Hu=n,Vu=e;else{if(e===null)throw Error(jn(310));Vu=e,e={memoizedState:Vu.memoizedState,baseState:Vu.baseState,baseQueue:Vu.baseQueue,queue:Vu.queue,next:null},Hu===null?Wl.memoizedState=Hu=e:Hu=Hu.next=e}return Hu}function N0(e,n){return typeof n=="function"?n(e):n}function sx(e){var n=Py(),t=n.queue;if(t===null)throw Error(jn(311));t.lastRenderedReducer=e;var r=Vu,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,p=i;do{var g=p.expirationTime;if(g<hm){var b={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null};a===null?(s=a=b,o=r):a=a.next=b,g>Wl.expirationTime&&(Wl.expirationTime=g,U4(g))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null}),hU(g,p.suspenseConfig),r=p.eagerReducer===e?p.eagerState:e(r,p.action);p=p.next}while(p!==null&&p!==i);a===null?o=r:a.next=s,n1(r,n.memoizedState)||(of=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=a,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function lx(e){var n=Py(),t=n.queue;if(t===null)throw Error(jn(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);n1(o,n.memoizedState)||(of=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function zw(e){var n=Zg();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:N0,lastRenderedState:e},e=e.dispatch=$D.bind(null,Wl,e),[n.memoizedState,e]}function ZS(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Wl.updateQueue,n===null?(n={lastEffect:null},Wl.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function jD(){return Py().memoizedState}function XS(e,n,t,r){var i=Zg();Wl.effectTag|=e,i.memoizedState=ZS(1|n,t,void 0,r===void 0?null:r)}function eB(e,n,t,r){var i=Py();r=r===void 0?null:r;var o=void 0;if(Vu!==null){var s=Vu.memoizedState;if(o=s.destroy,r!==null&&XO(r,s.deps)){ZS(n,t,o,r);return}}Wl.effectTag|=e,i.memoizedState=ZS(1|n,t,o,r)}function rI(e,n){return XS(516,4,e,n)}function W2(e,n){return eB(516,4,e,n)}function WD(e,n){return eB(4,2,e,n)}function ND(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function GD(e,n,t){return t=t!=null?t.concat([e]):null,eB(4,2,ND.bind(null,n,e),t)}function tB(){}function iI(e,n){return Zg().memoizedState=[e,n===void 0?null:n],e}function N2(e,n){var t=Py();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&XO(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function QD(e,n){var t=Py();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&XO(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function nB(e,n,t){var r=T4();Rm(98>r?98:r,function(){e(!0)}),Rm(97<r?97:r,function(){var i=pd.suspense;pd.suspense=n===void 0?null:n;try{e(!1),t()}finally{pd.suspense=i}})}function $D(e,n,t){var r=Af(),i=yC.suspense;r=$0(r,e,i),i={expirationTime:r,suspenseConfig:i,action:t,eagerReducer:null,eagerState:null,next:null};var o=n.pending;if(o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i,o=e.alternate,e===Wl||o!==null&&o===Wl)j2=!0,i.expirationTime=hm,Wl.expirationTime=hm;else{if(e.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=n.lastRenderedReducer,o!==null))try{var s=n.lastRenderedState,a=o(s,t);if(i.eagerReducer=o,i.eagerState=a,n1(a,s))return}catch{}finally{}Bm(e,r)}}var G2={readContext:yd,useCallback:Mc,useContext:Mc,useEffect:Mc,useImperativeHandle:Mc,useLayoutEffect:Mc,useMemo:Mc,useReducer:Mc,useRef:Mc,useState:Mc,useDebugValue:Mc,useResponder:Mc,useDeferredValue:Mc,useTransition:Mc},qY={readContext:yd,useCallback:iI,useContext:yd,useEffect:rI,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,XS(4,2,ND.bind(null,n,e),t)},useLayoutEffect:function(e,n){return XS(4,2,e,n)},useMemo:function(e,n){var t=Zg();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Zg();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},e=e.dispatch=$D.bind(null,Wl,e),[r.memoizedState,e]},useRef:function(e){var n=Zg();return e={current:e},n.memoizedState=e},useState:zw,useDebugValue:tB,useResponder:ZO,useDeferredValue:function(e,n){var t=zw(e),r=t[0],i=t[1];return rI(function(){var o=pd.suspense;pd.suspense=n===void 0?null:n;try{i(e)}finally{pd.suspense=o}},[e,n]),r},useTransition:function(e){var n=zw(!1),t=n[0];return n=n[1],[iI(nB.bind(null,n,e),[n,e]),t]}},VY={readContext:yd,useCallback:N2,useContext:yd,useEffect:W2,useImperativeHandle:GD,useLayoutEffect:WD,useMemo:QD,useReducer:sx,useRef:jD,useState:function(){return sx(N0)},useDebugValue:tB,useResponder:ZO,useDeferredValue:function(e,n){var t=sx(N0),r=t[0],i=t[1];return W2(function(){var o=pd.suspense;pd.suspense=n===void 0?null:n;try{i(e)}finally{pd.suspense=o}},[e,n]),r},useTransition:function(e){var n=sx(N0),t=n[0];return n=n[1],[N2(nB.bind(null,n,e),[n,e]),t]}},HY={readContext:yd,useCallback:N2,useContext:yd,useEffect:W2,useImperativeHandle:GD,useLayoutEffect:WD,useMemo:QD,useReducer:lx,useRef:jD,useState:function(){return lx(N0)},useDebugValue:tB,useResponder:ZO,useDeferredValue:function(e,n){var t=lx(N0),r=t[0],i=t[1];return W2(function(){var o=pd.suspense;pd.suspense=n===void 0?null:n;try{i(e)}finally{pd.suspense=o}},[e,n]),r},useTransition:function(e){var n=lx(N0),t=n[0];return n=n[1],[N2(nB.bind(null,n,e),[n,e]),t]}},gp=null,fm=null,G0=!1;function YD(e,n){var t=af(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=n,t.return=e,t.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function oI(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,!0):!1;case 13:return!1;default:return!1}}function JS(e){if(G0){var n=fm;if(n){var t=n;if(!oI(e,n)){if(n=Vg(t.nextSibling),!n||!oI(e,n)){e.effectTag=e.effectTag&-1025|2,G0=!1,gp=e;return}YD(gp,t)}gp=e,fm=Vg(n.firstChild)}else e.effectTag=e.effectTag&-1025|2,G0=!1,gp=e}}function aI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gp=e}function ux(e){if(e!==gp)return!1;if(!G0)return aI(e),G0=!0,!1;var n=e.type;if(e.tag!==5||n!=="head"&&n!=="body"&&!WS(n,e.memoizedProps))for(n=fm;n;)YD(e,n),n=Vg(n.nextSibling);if(aI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(jn(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t===hD){if(n===0){fm=Vg(e.nextSibling);break e}n--}else t!==dD&&t!==RO&&t!==UO||n++}e=e.nextSibling}fm=null}}else fm=gp?Vg(e.stateNode.nextSibling):null;return!0}function jw(){fm=gp=null,G0=!1}var ZY=ah.ReactCurrentOwner,of=!1;function Sc(e,n,t,r){n.child=e===null?VO(n,null,t,r):Cy(n,e.child,t,r)}function sI(e,n,t,r,i){t=t.render;var o=n.ref;return Hg(n,i),r=JO(e,n,t,r,o,i),e!==null&&!of?(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),yp(e,n,i)):(n.effectTag|=1,Sc(e,n,r,i),n.child)}function lI(e,n,t,r,i,o){if(e===null){var s=t.type;return typeof s=="function"&&!sB(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=s,qD(e,n,s,r,i,o)):(e=A2(t.type,null,r,null,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}return s=e.child,i<o&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:GC,t(i,r)&&e.ref===n.ref)?yp(e,n,o):(n.effectTag|=1,e=i1(s,r),e.ref=n.ref,e.return=n,n.child=e)}function qD(e,n,t,r,i,o){return e!==null&&GC(e.memoizedProps,r)&&e.ref===n.ref&&(of=!1,i<o)?(n.expirationTime=e.expirationTime,yp(e,n,o)):e6(e,n,t,r,o)}function VD(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.effectTag|=128)}function e6(e,n,t,r,i){var o=VA(t)?r1:Zu.current;return o=vy(n,o),Hg(n,i),t=JO(e,n,t,r,o,i),e!==null&&!of?(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),yp(e,n,i)):(n.effectTag|=1,Sc(e,n,t,i),n.child)}function uI(e,n,t,r,i){if(VA(t)){var o=!0;i2(n)}else o=!1;if(Hg(n,i),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),LD(n,t,r),VS(n,t,r,i),r=!0;else if(e===null){var s=n.stateNode,a=n.memoizedProps;s.props=a;var p=s.context,g=t.contextType;typeof g=="object"&&g!==null?g=yd(g):(g=VA(t)?r1:Zu.current,g=vy(n,g));var b=t.getDerivedStateFromProps,B=typeof b=="function"||typeof s.getSnapshotBeforeUpdate=="function";B||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||p!==g)&&tI(n,s,r,g),im=!1;var k=n.memoizedState;s.state=k,QC(n,r,s,i),p=n.memoizedState,a!==r||k!==p||qA.current||im?(typeof b=="function"&&(L2(n,t,b,r),p=n.memoizedState),(a=im||eI(n,t,a,r,k,p,g))?(B||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.effectTag|=4)):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),n.memoizedProps=r,n.memoizedState=p),s.props=r,s.state=p,s.context=g,r=a):(typeof s.componentDidMount=="function"&&(n.effectTag|=4),r=!1)}else s=n.stateNode,qO(e,n),a=n.memoizedProps,s.props=n.type===n.elementType?a:th(n.type,a),p=s.context,g=t.contextType,typeof g=="object"&&g!==null?g=yd(g):(g=VA(t)?r1:Zu.current,g=vy(n,g)),b=t.getDerivedStateFromProps,(B=typeof b=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||p!==g)&&tI(n,s,r,g),im=!1,p=n.memoizedState,s.state=p,QC(n,r,s,i),k=n.memoizedState,a!==r||p!==k||qA.current||im?(typeof b=="function"&&(L2(n,t,b,r),k=n.memoizedState),(b=im||eI(n,t,a,r,p,k,g))?(B||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,g),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,g)),typeof s.componentDidUpdate=="function"&&(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.effectTag|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(n.effectTag|=256),n.memoizedProps=r,n.memoizedState=k),s.props=r,s.state=k,s.context=g,r=b):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(n.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(n.effectTag|=256),r=!1);return t6(e,n,t,r,o,i)}function t6(e,n,t,r,i,o){VD(e,n);var s=(n.effectTag&64)!==0;if(!r&&!s)return i&&qk(n,t,!1),yp(e,n,o);r=n.stateNode,ZY.current=n;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.effectTag|=1,e!==null&&s?(n.child=Cy(n,e.child,null,o),n.child=Cy(n,null,a,o)):Sc(e,n,a,o),n.memoizedState=r.state,i&&qk(n,t,!0),n.child}function AI(e){var n=e.stateNode;n.pendingContext?Yk(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Yk(e,n.context,!1),HS(e,n.containerInfo)}var Ww={dehydrated:null,retryTime:0};function cI(e,n,t){var r=n.mode,i=n.pendingProps,o=el.current,s=!1,a;if((a=(n.effectTag&64)!==0)||(a=(o&2)!==0&&(e===null||e.memoizedState!==null)),a?(s=!0,n.effectTag&=-65):e!==null&&e.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(o|=1),cl(el,o&1),e===null){if(i.fallback!==void 0&&JS(n),s){if(s=i.fallback,i=pm(null,r,0,null),i.return=n,!(n.mode&2))for(e=n.memoizedState!==null?n.child.child:n.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return t=pm(s,r,t,null),t.return=n,i.sibling=t,n.memoizedState=Ww,n.child=i,t}return r=i.children,n.memoizedState=null,n.child=VO(n,null,r,t)}if(e.memoizedState!==null){if(e=e.child,r=e.sibling,s){if(i=i.fallback,t=i1(e,e.pendingProps),t.return=n,!(n.mode&2)&&(s=n.memoizedState!==null?n.child.child:n.child,s!==e.child))for(t.child=s;s!==null;)s.return=t,s=s.sibling;return r=i1(r,i),r.return=n,t.sibling=r,t.childExpirationTime=0,n.memoizedState=Ww,n.child=t,r}return t=Cy(n,e.child,i.children,t),n.memoizedState=null,n.child=t}if(e=e.child,s){if(s=i.fallback,i=pm(null,r,0,null),i.return=n,i.child=e,e!==null&&(e.return=i),!(n.mode&2))for(e=n.memoizedState!==null?n.child.child:n.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return t=pm(s,r,t,null),t.return=n,i.sibling=t,t.effectTag|=2,i.childExpirationTime=0,n.memoizedState=Ww,n.child=i,t}return n.memoizedState=null,n.child=Cy(n,e,i.children,t)}function dI(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;t!==null&&t.expirationTime<n&&(t.expirationTime=n),UD(e.return,n)}function Nw(e,n,t,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function hI(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;if(Sc(e,n,r.children,t),r=el.current,r&2)r=r&1|2,n.effectTag|=64;else{if(e!==null&&e.effectTag&64)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dI(e,t);else if(e.tag===19)dI(e,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(cl(el,r),!(n.mode&2))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&z2(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Nw(n,!1,i,t,o,n.lastEffect);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&z2(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Nw(n,!0,t,null,o,n.lastEffect);break;case"together":Nw(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function yp(e,n,t){e!==null&&(n.dependencies=e.dependencies);var r=n.expirationTime;if(r!==0&&U4(r),n.childExpirationTime<t)return null;if(e!==null&&n.child!==e.child)throw Error(jn(153));if(n.child!==null){for(e=n.child,t=i1(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=i1(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}var HD,n6,ZD,XD;HD=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};n6=function(){};ZD=function(e,n,t,r,i){var o=e.memoizedProps;if(o!==r){var s=n.stateNode;switch(P0(uf.current),e=null,t){case"input":o=OS(s,o),r=OS(s,r),e=[];break;case"option":o=IS(s,o),r=IS(s,r),e=[];break;case"select":o=vA({},o,{value:void 0}),r=vA({},r,{value:void 0}),e=[];break;case"textarea":o=TS(s,o),r=TS(s,r),e=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(s.onclick=T2)}RS(t,r);var a,p;t=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style")for(p in s=o[a],s)s.hasOwnProperty(p)&&(t||(t={}),t[p]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(my.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var g=r[a];if(s=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&g!==s&&(g!=null||s!=null))if(a==="style")if(s){for(p in s)!s.hasOwnProperty(p)||g&&g.hasOwnProperty(p)||(t||(t={}),t[p]="");for(p in g)g.hasOwnProperty(p)&&s[p]!==g[p]&&(t||(t={}),t[p]=g[p])}else t||(e||(e=[]),e.push(a,t)),t=g;else a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,s=s?s.__html:void 0,g!=null&&s!==g&&(e=e||[]).push(a,g)):a==="children"?s===g||typeof g!="string"&&typeof g!="number"||(e=e||[]).push(a,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(my.hasOwnProperty(a)?(g!=null&&tp(i,a),e||s===g||(e=[])):(e=e||[]).push(a,g))}t&&(e=e||[]).push("style",t),i=e,(n.updateQueue=i)&&(n.effectTag|=4)}};XD=function(e,n,t,r){t!==r&&(n.effectTag|=4)};function Ax(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function XY(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return VA(n.type)&&F2(),null;case 3:return _y(),Cs(qA),Cs(Zu),t=n.stateNode,t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),e!==null&&e.child!==null||!ux(n)||(n.effectTag|=4),n6(n),null;case 5:HO(n),t=P0(YC.current);var i=n.type;if(e!==null&&n.stateNode!=null)ZD(e,n,i,r,t),e.ref!==n.ref&&(n.effectTag|=128);else{if(!r){if(n.stateNode===null)throw Error(jn(166));return null}if(e=P0(uf.current),ux(n)){r=n.stateNode,i=n.type;var o=n.memoizedProps;switch(r[cm]=n,r[K2]=o,i){case"iframe":case"object":case"embed":Ls("load",r);break;case"video":case"audio":for(e=0;e<Zv.length;e++)Ls(Zv[e],r);break;case"source":Ls("error",r);break;case"img":case"image":case"link":Ls("error",r),Ls("load",r);break;case"form":Ls("reset",r),Ls("submit",r);break;case"details":Ls("toggle",r);break;case"input":wk(r,o),Ls("invalid",r),tp(t,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ls("invalid",r),tp(t,"onChange");break;case"textarea":Sk(r,o),Ls("invalid",r),tp(t,"onChange")}RS(i,o),e=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(e=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(e=["children",""+a]):my.hasOwnProperty(s)&&a!=null&&tp(t,s)}switch(i){case"input":nx(r),Mk(r,o,!0);break;case"textarea":nx(r),Ek(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=T2)}t=e,n.updateQueue=t,t!==null&&(n.effectTag|=4)}else{switch(s=t.nodeType===9?t:t.ownerDocument,e===Kk&&(e=QF(i)),e===Kk?i==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),i==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[cm]=n,e[K2]=r,HD(e,n,!1,!1),n.stateNode=e,s=LS(i,r),i){case"iframe":case"object":case"embed":Ls("load",e),a=r;break;case"video":case"audio":for(a=0;a<Zv.length;a++)Ls(Zv[a],e);a=r;break;case"source":Ls("error",e),a=r;break;case"img":case"image":case"link":Ls("error",e),Ls("load",e),a=r;break;case"form":Ls("reset",e),Ls("submit",e),a=r;break;case"details":Ls("toggle",e),a=r;break;case"input":wk(e,r),a=OS(e,r),Ls("invalid",e),tp(t,"onChange");break;case"option":a=IS(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=vA({},r,{value:void 0}),Ls("invalid",e),tp(t,"onChange");break;case"textarea":Sk(e,r),a=TS(e,r),Ls("invalid",e),tp(t,"onChange");break;default:a=r}RS(i,a);var p=a;for(o in p)if(p.hasOwnProperty(o)){var g=p[o];o==="style"?AD(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&$F(e,g)):o==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&zC(e,g):typeof g=="number"&&zC(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(my.hasOwnProperty(o)?g!=null&&tp(t,o):g!=null&&SO(e,o,g,s))}switch(i){case"input":nx(e),Mk(e,r,!1);break;case"textarea":nx(e),Ek(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dm(r.value));break;case"select":e.multiple=!!r.multiple,t=r.value,t!=null?qg(e,!!r.multiple,t,!1):r.defaultValue!=null&&qg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=T2)}fD(i,r)&&(n.effectTag|=4)}n.ref!==null&&(n.effectTag|=128)}return null;case 6:if(e&&n.stateNode!=null)XD(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(jn(166));t=P0(YC.current),P0(uf.current),ux(n)?(t=n.stateNode,r=n.memoizedProps,t[cm]=n,t.nodeValue!==r&&(n.effectTag|=4)):(t=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),t[cm]=n,n.stateNode=t)}return null;case 13:return Cs(el),r=n.memoizedState,n.effectTag&64?(n.expirationTime=t,n):(t=r!==null,r=!1,e===null?n.memoizedProps.fallback!==void 0&&ux(n):(i=e.memoizedState,r=i!==null,t||i===null||(i=e.child.sibling,i!==null&&(o=n.firstEffect,o!==null?(n.firstEffect=i,i.nextEffect=o):(n.firstEffect=n.lastEffect=i,i.nextEffect=null),i.effectTag=8))),t&&!r&&n.mode&2&&(e===null&&n.memoizedProps.unstable_avoidThisFallback!==!0||el.current&1?au===Q0&&(au=Y2):((au===Q0||au===Y2)&&(au=P4),VC!==0&&Kc!==null&&(U0(Kc,HA),yU(Kc,VC)))),(t||r)&&(n.effectTag|=4),null);case 4:return _y(),n6(n),null;case 10:return $O(n),null;case 17:return VA(n.type)&&F2(),null;case 19:if(Cs(el),r=n.memoizedState,r===null)return null;if(i=(n.effectTag&64)!==0,o=r.rendering,o===null){if(i)Ax(r,!1);else if(au!==Q0||e!==null&&e.effectTag&64)for(o=n.child;o!==null;){if(e=z2(o),e!==null){for(n.effectTag|=64,Ax(r,!1),i=e.updateQueue,i!==null&&(n.updateQueue=i,n.effectTag|=4),r.lastEffect===null&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=n.child;r!==null;)i=r,o=t,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,e=i.alternate,e===null?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return cl(el,el.current&1|2),n.child}o=o.sibling}}else{if(!i)if(e=z2(o),e!==null){if(n.effectTag|=64,i=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.effectTag|=4),Ax(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate)return n=n.lastEffect=r.lastEffect,n!==null&&(n.nextEffect=null),null}else 2*dd()-r.renderingStartTime>r.tailExpiration&&1<t&&(n.effectTag|=64,i=!0,Ax(r,!1),n.expirationTime=n.childExpirationTime=t-1);r.isBackwards?(o.sibling=n.child,n.child=o):(t=r.last,t!==null?t.sibling=o:n.child=o,r.last=o)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=dd()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=dd(),t.sibling=null,n=el.current,cl(el,i?n&1|2:n&1),t):null}throw Error(jn(156,n.tag))}function JY(e){switch(e.tag){case 1:VA(e.type)&&F2();var n=e.effectTag;return n&4096?(e.effectTag=n&-4097|64,e):null;case 3:if(_y(),Cs(qA),Cs(Zu),n=e.effectTag,n&64)throw Error(jn(285));return e.effectTag=n&-4097|64,e;case 5:return HO(e),null;case 13:return Cs(el),n=e.effectTag,n&4096?(e.effectTag=n&-4097|64,e):null;case 19:return Cs(el),null;case 4:return _y(),null;case 10:return $O(e),null;default:return null}}function rB(e,n){return{value:e,source:n,stack:BO(n)}}var eq=typeof WeakSet=="function"?WeakSet:Set;function r6(e,n){var t=n.source,r=n.stack;r===null&&t!==null&&(r=BO(t)),t!==null&&vp(t.type),n=n.value,e!==null&&e.tag===1&&vp(e.type);try{console.error(n)}catch(i){setTimeout(function(){throw i})}}function tq(e,n){try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(t){Y0(e,t)}}function fI(e){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(t){Y0(e,t)}else n.current=null}function nq(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.effectTag&256&&e!==null){var t=e.memoizedProps,r=e.memoizedState;e=n.stateNode,n=e.getSnapshotBeforeUpdate(n.elementType===n.type?t:th(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(jn(163))}function JD(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.destroy;t.destroy=void 0,r!==void 0&&r()}t=t.next}while(t!==n)}}function eU(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function rq(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:eU(3,t);return;case 1:if(e=t.stateNode,t.effectTag&4)if(n===null)e.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:th(t.type,n.memoizedProps);e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}n=t.updateQueue,n!==null&&Jk(t,n,e);return;case 3:if(n=t.updateQueue,n!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Jk(t,n,e)}return;case 5:e=t.stateNode,n===null&&t.effectTag&4&&fD(t.type,t.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&aD(t))));return;case 19:case 17:case 20:case 21:return}throw Error(jn(163))}function pI(e,n,t){switch(typeof c6=="function"&&c6(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e.next;Rm(97<t?97:t,function(){var i=r;do{var o=i.destroy;if(o!==void 0){var s=n;try{o()}catch(a){Y0(s,a)}}i=i.next}while(i!==r)})}break;case 1:fI(n),t=n.stateNode,typeof t.componentWillUnmount=="function"&&tq(n,t);break;case 5:fI(n);break;case 4:nU(e,n,t)}}function tU(e){var n=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,n!==null&&tU(n)}function mI(e){return e.tag===5||e.tag===3||e.tag===4}function gI(e){e:{for(var n=e.return;n!==null;){if(mI(n)){var t=n;break e}n=n.return}throw Error(jn(160))}switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:n=n.containerInfo,r=!0;break;case 4:n=n.containerInfo,r=!0;break;default:throw Error(jn(161))}t.effectTag&16&&(zC(n,""),t.effectTag&=-17);e:t:for(t=e;;){for(;t.sibling===null;){if(t.return===null||mI(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.effectTag&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.effectTag&2)){t=t.stateNode;break e}}r?i6(e,t,n):o6(e,t,n)}function i6(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=T2));else if(r!==4&&(e=e.child,e!==null))for(i6(e,n,t),e=e.sibling;e!==null;)i6(e,n,t),e=e.sibling}function o6(e,n,t){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(o6(e,n,t),e=e.sibling;e!==null;)o6(e,n,t),e=e.sibling}function nU(e,n,t){for(var r=n,i=!1,o,s;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(jn(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=e,p=r,g=t,b=p;;)if(pI(a,b,g),b.child!==null&&b.tag!==4)b.child.return=b,b=b.child;else{if(b===p)break e;for(;b.sibling===null;){if(b.return===null||b.return===p)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s?(a=o,p=r.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):o.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){o=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(pI(e,r,t),r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Gw(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:JD(3,n);return;case 1:return;case 5:var t=n.stateNode;if(t!=null){var r=n.memoizedProps,i=e!==null?e.memoizedProps:r;e=n.type;var o=n.updateQueue;if(n.updateQueue=null,o!==null){for(t[K2]=r,e==="input"&&r.type==="radio"&&r.name!=null&&WF(t,r),LS(e,i),n=LS(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?AD(t,a):s==="dangerouslySetInnerHTML"?$F(t,a):s==="children"?zC(t,a):SO(t,s,a,n)}switch(e){case"input":BS(t,r);break;case"textarea":NF(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,e=r.value,e!=null?qg(t,!!r.multiple,e,!1):n!==!!r.multiple&&(r.defaultValue!=null?qg(t,!!r.multiple,r.defaultValue,!0):qg(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(n.stateNode===null)throw Error(jn(162));n.stateNode.nodeValue=n.memoizedProps;return;case 3:n=n.stateNode,n.hydrate&&(n.hydrate=!1,aD(n.containerInfo));return;case 12:return;case 13:if(t=n,n.memoizedState===null?r=!1:(r=!0,t=n.child,aB=dd()),t!==null)e:for(e=t;;){if(e.tag===5)o=e.stateNode,r?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=e.stateNode,i=e.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,o.style.display=uD("display",i));else if(e.tag===6)e.stateNode.nodeValue=r?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){o=e.child.sibling,o.return=e,e=o;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}yI(n);return;case 19:yI(n);return;case 17:return}throw Error(jn(163))}function yI(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new eq),n.forEach(function(r){var i=hq.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}var iq=typeof WeakMap=="function"?WeakMap:Map;function rU(e,n,t){t=Sm(t,null),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){H2||(H2=!0,a6=r),r6(e,n)},t}function iU(e,n,t){t=Sm(t,null),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r6(e,n),r(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(Om===null?Om=new Set([this]):Om.add(this),r6(e,n));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),t}var oq=Math.ceil,Q2=ah.ReactCurrentDispatcher,oU=ah.ReactCurrentOwner,su=0,iB=8,sh=16,hf=32,Q0=0,$2=1,aU=2,Y2=3,P4=4,oB=5,Li=su,Kc=null,Zi=null,HA=0,au=Q0,F4=null,hp=1073741823,qC=1073741823,q2=null,VC=0,V2=!1,aB=0,sU=500,Gr=null,H2=!1,a6=null,Om=null,Z2=!1,vC=null,Jv=90,F0=null,CC=0,s6=null,l2=0;function Af(){return(Li&(sh|hf))!==su?1073741821-(dd()/10|0):l2!==0?l2:l2=1073741821-(dd()/10|0)}function $0(e,n,t){if(n=n.mode,!(n&2))return 1073741823;var r=T4();if(!(n&4))return r===99?1073741823:1073741822;if((Li&sh)!==su)return HA;if(t!==null)e=a2(e,t.timeoutMs|0||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=a2(e,150,100);break;case 97:case 96:e=a2(e,5e3,250);break;case 95:e=2;break;default:throw Error(jn(326))}return Kc!==null&&e===HA&&--e,e}function Bm(e,n){if(50<CC)throw CC=0,s6=null,Error(jn(185));if(e=D4(e,n),e!==null){var t=T4();n===1073741823?(Li&iB)!==su&&(Li&(sh|hf))===su?l6(e):(Pc(e),Li===su&&bf()):Pc(e),(Li&4)===su||t!==98&&t!==99||(F0===null?F0=new Map([[e,n]]):(t=F0.get(e),(t===void 0||t>n)&&F0.set(e,n)))}}function D4(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;t!==null&&t.expirationTime<n&&(t.expirationTime=n);var r=e.return,i=null;if(r===null&&e.tag===3)i=e.stateNode;else for(;r!==null;){if(t=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),t!==null&&t.childExpirationTime<n&&(t.childExpirationTime=n),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(Kc===i&&(U4(n),au===P4&&U0(i,HA)),yU(i,n)),i}function u2(e){var n=e.lastExpiredTime;if(n!==0||(n=e.firstPendingTime,!gU(e,n)))return n;var t=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=t>e?t:e,2>=e&&n!==e?0:e}function Pc(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zk(l6.bind(null,e));else{var n=u2(e),t=e.callbackNode;if(n===0)t!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Af();if(n===1073741823?r=99:n===1||n===2?r=95:(r=10*(1073741821-n)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),t!==null){var i=e.callbackPriority;if(e.callbackExpirationTime===n&&i>=r)return;t!==KD&&OD(t)}e.callbackExpirationTime=n,e.callbackPriority=r,n=n===1073741823?Zk(l6.bind(null,e)):FD(r,lU.bind(null,e),{timeout:10*(1073741821-n)-dd()}),e.callbackNode=n}}}function lU(e,n){if(l2=0,n)return n=Af(),d6(e,n),Pc(e),null;var t=u2(e);if(t!==0){if(n=e.callbackNode,(Li&(sh|hf))!==su)throw Error(jn(327));if(Fy(),e===Kc&&t===HA||D0(e,t),Zi!==null){var r=Li;Li|=sh;var i=dU();do try{lq();break}catch(a){cU(e,a)}while(!0);if(QO(),Li=r,Q2.current=i,au===$2)throw n=F4,D0(e,t),U0(e,t),Pc(e),n;if(Zi===null)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,r=au,Kc=null,r){case Q0:case $2:throw Error(jn(345));case aU:d6(e,2<t?2:t);break;case Y2:if(U0(e,t),r=e.lastSuspendedTime,t===r&&(e.nextKnownPendingLevel=u6(i)),hp===1073741823&&(i=aB+sU-dd(),10<i)){if(V2){var o=e.lastPingedTime;if(o===0||o>=t){e.lastPingedTime=t,D0(e,t);break}}if(o=u2(e),o!==0&&o!==t)break;if(r!==0&&r!==t){e.lastPingedTime=r;break}e.timeoutHandle=Rw(b0.bind(null,e),i);break}b0(e);break;case P4:if(U0(e,t),r=e.lastSuspendedTime,t===r&&(e.nextKnownPendingLevel=u6(i)),V2&&(i=e.lastPingedTime,i===0||i>=t)){e.lastPingedTime=t,D0(e,t);break}if(i=u2(e),i!==0&&i!==t)break;if(r!==0&&r!==t){e.lastPingedTime=r;break}if(qC!==1073741823?r=10*(1073741821-qC)-dd():hp===1073741823?r=0:(r=10*(1073741821-hp)-5e3,i=dd(),t=10*(1073741821-t)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oq(r/1960))-r,t<r&&(r=t)),10<r){e.timeoutHandle=Rw(b0.bind(null,e),r);break}b0(e);break;case oB:if(hp!==1073741823&&q2!==null){o=hp;var s=q2;if(r=s.busyMinDurationMs|0,0>=r?r=0:(i=s.busyDelayMs|0,o=dd()-(10*(1073741821-o)-(s.timeoutMs|0||5e3)),r=o<=i?0:i+r-o),10<r){U0(e,t),e.timeoutHandle=Rw(b0.bind(null,e),r);break}}b0(e);break;default:throw Error(jn(329))}if(Pc(e),e.callbackNode===n)return lU.bind(null,e)}}return null}function l6(e){var n=e.lastExpiredTime;if(n=n!==0?n:1073741823,(Li&(sh|hf))!==su)throw Error(jn(327));if(Fy(),e===Kc&&n===HA||D0(e,n),Zi!==null){var t=Li;Li|=sh;var r=dU();do try{sq();break}catch(i){cU(e,i)}while(!0);if(QO(),Li=t,Q2.current=r,au===$2)throw t=F4,D0(e,n),U0(e,n),Pc(e),t;if(Zi!==null)throw Error(jn(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,Kc=null,b0(e),Pc(e)}return null}function aq(){if(F0!==null){var e=F0;F0=null,e.forEach(function(n,t){d6(t,n),Pc(t)}),bf()}}function uU(e,n){var t=Li;Li|=1;try{return e(n)}finally{Li=t,Li===su&&bf()}}function AU(e,n){var t=Li;Li&=-2,Li|=iB;try{return e(n)}finally{Li=t,Li===su&&bf()}}function D0(e,n){e.finishedWork=null,e.finishedExpirationTime=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,oY(t)),Zi!==null)for(t=Zi.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&F2();break;case 3:_y(),Cs(qA),Cs(Zu);break;case 5:HO(r);break;case 4:_y();break;case 13:Cs(el);break;case 19:Cs(el);break;case 10:$O(r)}t=t.return}Kc=e,Zi=i1(e.current,null),HA=n,au=Q0,F4=null,qC=hp=1073741823,q2=null,VC=0,V2=!1}function cU(e,n){do{try{if(QO(),s2.current=G2,j2)for(var t=Wl.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}if(hm=0,Hu=Vu=Wl=null,j2=!1,Zi===null||Zi.return===null)return au=$2,F4=n,Zi=null;e:{var i=e,o=Zi.return,s=Zi,a=n;if(n=HA,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var p=a;if(!(s.mode&2)){var g=s.alternate;g?(s.updateQueue=g.updateQueue,s.memoizedState=g.memoizedState,s.expirationTime=g.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var b=(el.current&1)!==0,B=o;do{var k;if(k=B.tag===13){var P=B.memoizedState;if(P!==null)k=P.dehydrated!==null;else{var R=B.memoizedProps;k=R.fallback===void 0?!1:R.unstable_avoidThisFallback!==!0?!0:!b}}if(k){var Z=B.updateQueue;if(Z===null){var W=new Set;W.add(p),B.updateQueue=W}else Z.add(p);if(!(B.mode&2)){if(B.effectTag|=64,s.effectTag&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var Q=Sm(1073741823,null);Q.tag=2,Em(s,Q)}s.expirationTime=1073741823;break e}a=void 0,s=n;var q=i.pingCache;if(q===null?(q=i.pingCache=new iq,a=new Set,q.set(p,a)):(a=q.get(p),a===void 0&&(a=new Set,q.set(p,a))),!a.has(s)){a.add(s);var oe=dq.bind(null,i,p,s);p.then(oe,oe)}B.effectTag|=4096,B.expirationTime=n;break e}B=B.return}while(B!==null);a=Error((vp(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+BO(s))}au!==oB&&(au=aU),a=rB(a,s),B=o;do{switch(B.tag){case 3:p=a,B.effectTag|=4096,B.expirationTime=n;var re=rU(B,p,n);Xk(B,re);break e;case 1:p=a;var ce=B.type,se=B.stateNode;if(!(B.effectTag&64)&&(typeof ce.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Om===null||!Om.has(se)))){B.effectTag|=4096,B.expirationTime=n;var le=iU(B,p,n);Xk(B,le);break e}}B=B.return}while(B!==null)}Zi=pU(Zi)}catch(ye){n=ye;continue}break}while(!0)}function dU(){var e=Q2.current;return Q2.current=G2,e===null?G2:e}function hU(e,n){e<hp&&2<e&&(hp=e),n!==null&&e<qC&&2<e&&(qC=e,q2=n)}function U4(e){e>VC&&(VC=e)}function sq(){for(;Zi!==null;)Zi=fU(Zi)}function lq(){for(;Zi!==null&&!$Y();)Zi=fU(Zi)}function fU(e){var n=mU(e.alternate,e,HA);return e.memoizedProps=e.pendingProps,n===null&&(n=pU(e)),oU.current=null,n}function pU(e){Zi=e;do{var n=Zi.alternate;if(e=Zi.return,Zi.effectTag&2048){if(n=JY(Zi),n!==null)return n.effectTag&=2047,n;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(n=XY(n,Zi,HA),HA===1||Zi.childExpirationTime!==1){for(var t=0,r=Zi.child;r!==null;){var i=r.expirationTime,o=r.childExpirationTime;i>t&&(t=i),o>t&&(t=o),r=r.sibling}Zi.childExpirationTime=t}if(n!==null)return n;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=Zi.firstEffect),Zi.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=Zi.firstEffect),e.lastEffect=Zi.lastEffect),1<Zi.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=Zi:e.firstEffect=Zi,e.lastEffect=Zi))}if(n=Zi.sibling,n!==null)return n;Zi=e}while(Zi!==null);return au===Q0&&(au=oB),null}function u6(e){var n=e.expirationTime;return e=e.childExpirationTime,n>e?n:e}function b0(e){var n=T4();return Rm(99,uq.bind(null,e,n)),null}function uq(e,n){do Fy();while(vC!==null);if((Li&(sh|hf))!==su)throw Error(jn(327));var t=e.finishedWork,r=e.finishedExpirationTime;if(t===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,t===e.current)throw Error(jn(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=u6(t);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Kc&&(Zi=Kc=null,HA=0),1<t.effectTag?t.lastEffect!==null?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,i!==null){var o=Li;Li|=hf,oU.current=null,Dw=e2;var s=Dk();if(jS(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var p=a.getSelection&&a.getSelection();if(p&&p.rangeCount!==0){a=p.anchorNode;var g=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var B=0,k=-1,P=-1,R=0,Z=0,W=s,Q=null;t:for(;;){for(var q;W!==a||g!==0&&W.nodeType!==3||(k=B+g),W!==b||p!==0&&W.nodeType!==3||(P=B+p),W.nodeType===3&&(B+=W.nodeValue.length),(q=W.firstChild)!==null;)Q=W,W=q;for(;;){if(W===s)break t;if(Q===a&&++R===g&&(k=B),Q===b&&++Z===p&&(P=B),(q=W.nextSibling)!==null)break;W=Q,Q=W.parentNode}W=q}a=k===-1||P===-1?null:{start:k,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;Uw={activeElementDetached:null,focusedElem:s,selectionRange:a},e2=!1,Gr=i;do try{Aq()}catch(De){if(Gr===null)throw Error(jn(330));Y0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);Gr=i;do try{for(s=e,a=n;Gr!==null;){var oe=Gr.effectTag;if(oe&16&&zC(Gr.stateNode,""),oe&128){var re=Gr.alternate;if(re!==null){var ce=re.ref;ce!==null&&(typeof ce=="function"?ce(null):ce.current=null)}}switch(oe&1038){case 2:gI(Gr),Gr.effectTag&=-3;break;case 6:gI(Gr),Gr.effectTag&=-3,Gw(Gr.alternate,Gr);break;case 1024:Gr.effectTag&=-1025;break;case 1028:Gr.effectTag&=-1025,Gw(Gr.alternate,Gr);break;case 4:Gw(Gr.alternate,Gr);break;case 8:g=Gr,nU(s,g,a),tU(g)}Gr=Gr.nextEffect}}catch(De){if(Gr===null)throw Error(jn(330));Y0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);if(ce=Uw,re=Dk(),oe=ce.focusedElem,a=ce.selectionRange,re!==oe&&oe&&oe.ownerDocument&&cD(oe.ownerDocument.documentElement,oe)){for(a!==null&&jS(oe)&&(re=a.start,ce=a.end,ce===void 0&&(ce=re),"selectionStart"in oe?(oe.selectionStart=re,oe.selectionEnd=Math.min(ce,oe.value.length)):(ce=(re=oe.ownerDocument||document)&&re.defaultView||window,ce.getSelection&&(ce=ce.getSelection(),g=oe.textContent.length,s=Math.min(a.start,g),a=a.end===void 0?s:Math.min(a.end,g),!ce.extend&&s>a&&(g=a,a=s,s=g),g=Fk(oe,s),b=Fk(oe,a),g&&b&&(ce.rangeCount!==1||ce.anchorNode!==g.node||ce.anchorOffset!==g.offset||ce.focusNode!==b.node||ce.focusOffset!==b.offset)&&(re=re.createRange(),re.setStart(g.node,g.offset),ce.removeAllRanges(),s>a?(ce.addRange(re),ce.extend(b.node,b.offset)):(re.setEnd(b.node,b.offset),ce.addRange(re)))))),re=[],ce=oe;ce=ce.parentNode;)ce.nodeType===1&&re.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<re.length;oe++)ce=re[oe],ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}e2=!!Dw,Uw=Dw=null,e.current=t,Gr=i;do try{for(oe=e;Gr!==null;){var se=Gr.effectTag;if(se&36&&rq(oe,Gr.alternate,Gr),se&128){re=void 0;var le=Gr.ref;if(le!==null){var ye=Gr.stateNode;switch(Gr.tag){case 5:re=ye;break;default:re=ye}typeof le=="function"?le(re):le.current=re}}Gr=Gr.nextEffect}}catch(De){if(Gr===null)throw Error(jn(330));Y0(Gr,De),Gr=Gr.nextEffect}while(Gr!==null);Gr=null,YY(),Li=o}else e.current=t;if(Z2)Z2=!1,vC=e,Jv=n;else for(Gr=i;Gr!==null;)n=Gr.nextEffect,Gr.nextEffect=null,Gr=n;if(n=e.firstPendingTime,n===0&&(Om=null),n===1073741823?e===s6?CC++:(CC=0,s6=e):CC=0,typeof A6=="function"&&A6(t.stateNode,r),Pc(e),H2)throw H2=!1,e=a6,a6=null,e;return(Li&iB)!==su||bf(),null}function Aq(){for(;Gr!==null;){var e=Gr.effectTag;e&256&&nq(Gr.alternate,Gr),!(e&512)||Z2||(Z2=!0,FD(97,function(){return Fy(),null})),Gr=Gr.nextEffect}}function Fy(){if(Jv!==90){var e=97<Jv?97:Jv;return Jv=90,Rm(e,cq)}}function cq(){if(vC===null)return!1;var e=vC;if(vC=null,(Li&(sh|hf))!==su)throw Error(jn(331));var n=Li;for(Li|=hf,e=e.current.firstEffect;e!==null;){try{var t=e;if(t.effectTag&512)switch(t.tag){case 0:case 11:case 15:case 22:JD(5,t),eU(5,t)}}catch(r){if(e===null)throw Error(jn(330));Y0(e,r)}t=e.nextEffect,e.nextEffect=null,e=t}return Li=n,bf(),!0}function vI(e,n,t){n=rB(t,n),n=rU(e,n,1073741823),Em(e,n),e=D4(e,1073741823),e!==null&&Pc(e)}function Y0(e,n){if(e.tag===3)vI(e,e,n);else for(var t=e.return;t!==null;){if(t.tag===3){vI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Om===null||!Om.has(r))){e=rB(n,e),e=iU(t,e,1073741823),Em(t,e),t=D4(t,1073741823),t!==null&&Pc(t);break}}t=t.return}}function dq(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),Kc===e&&HA===t?au===P4||au===Y2&&hp===1073741823&&dd()-aB<sU?D0(e,HA):V2=!0:gU(e,t)&&(n=e.lastPingedTime,n!==0&&n<t||(e.lastPingedTime=t,Pc(e)))}function hq(e,n){var t=e.stateNode;t!==null&&t.delete(n),n=0,n===0&&(n=Af(),n=$0(n,e,null)),e=D4(e,n),e!==null&&Pc(e)}var mU;mU=function(e,n,t){var r=n.expirationTime;if(e!==null){var i=n.pendingProps;if(e.memoizedProps!==i||qA.current)of=!0;else{if(r<t){switch(of=!1,n.tag){case 3:AI(n),jw();break;case 5:if(nI(n),n.mode&4&&t!==1&&i.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:VA(n.type)&&i2(n);break;case 4:HS(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value,i=n.type._context,cl(D2,i._currentValue),i._currentValue=r;break;case 13:if(n.memoizedState!==null)return r=n.child.childExpirationTime,r!==0&&r>=t?cI(e,n,t):(cl(el,el.current&1),n=yp(e,n,t),n!==null?n.sibling:null);cl(el,el.current&1);break;case 19:if(r=n.childExpirationTime>=t,e.effectTag&64){if(r)return hI(e,n,t);n.effectTag|=64}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null),cl(el,el.current),!r)return null}return yp(e,n,t)}of=!1}}else of=!1;switch(n.expirationTime=0,n.tag){case 2:if(r=n.type,e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,i=vy(n,Zu.current),Hg(n,t),i=JO(null,n,r,e,i,t),n.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,VA(r)){var o=!0;i2(n)}else o=!1;n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YO(n);var s=r.getDerivedStateFromProps;typeof s=="function"&&L2(n,r,s,e),i.updater=K4,n.stateNode=i,i._reactInternalFiber=n,VS(n,r,e,t),n=t6(null,n,r,!0,o,t)}else n.tag=0,Sc(null,n,i,t),n=n.child;return n;case 16:e:{if(i=n.elementType,e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,W$(i),i._status!==1)throw i._result;switch(i=i._result,n.type=i,o=n.tag=mq(i),e=th(i,e),o){case 0:n=e6(null,n,i,e,t);break e;case 1:n=uI(null,n,i,e,t);break e;case 11:n=sI(null,n,i,e,t);break e;case 14:n=lI(null,n,i,th(i.type,e),r,t);break e}throw Error(jn(306,i,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:th(r,i),e6(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:th(r,i),uI(e,n,r,i,t);case 3:if(AI(n),r=n.updateQueue,e===null||r===null)throw Error(jn(282));if(r=n.pendingProps,i=n.memoizedState,i=i!==null?i.element:null,qO(e,n),QC(n,r,null,t),r=n.memoizedState.element,r===i)jw(),n=yp(e,n,t);else{if((i=n.stateNode.hydrate)&&(fm=Vg(n.stateNode.containerInfo.firstChild),gp=n,i=G0=!0),i)for(t=VO(n,null,r,t),n.child=t;t;)t.effectTag=t.effectTag&-3|1024,t=t.sibling;else Sc(e,n,r,t),jw();n=n.child}return n;case 5:return nI(n),e===null&&JS(n),r=n.type,i=n.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,WS(r,i)?s=null:o!==null&&WS(r,o)&&(n.effectTag|=16),VD(e,n),n.mode&4&&t!==1&&i.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(Sc(e,n,s,t),n=n.child),n;case 6:return e===null&&JS(n),null;case 13:return cI(e,n,t);case 4:return HS(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Cy(n,null,r,t):Sc(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:th(r,i),sI(e,n,r,i,t);case 7:return Sc(e,n,n.pendingProps,t),n.child;case 8:return Sc(e,n,n.pendingProps.children,t),n.child;case 12:return Sc(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,s=n.memoizedProps,o=i.value;var a=n.type._context;if(cl(D2,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=n1(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!qA.current){n=yp(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var p=a.dependencies;if(p!==null){s=a.child;for(var g=p.firstContext;g!==null;){if(g.context===r&&g.observedBits&o){a.tag===1&&(g=Sm(t,null),g.tag=2,Em(a,g)),a.expirationTime<t&&(a.expirationTime=t),g=a.alternate,g!==null&&g.expirationTime<t&&(g.expirationTime=t),UD(a.return,t),p.expirationTime<t&&(p.expirationTime=t);break}g=g.next}}else s=a.tag===10&&a.type===n.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===n){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Sc(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,o=n.pendingProps,r=o.children,Hg(n,t),i=yd(i,o.unstable_observedBits),r=r(i),n.effectTag|=1,Sc(e,n,r,t),n.child;case 14:return i=n.type,o=th(i,n.pendingProps),o=th(i.type,o),lI(e,n,i,o,r,t);case 15:return qD(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:th(r,i),e!==null&&(e.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,VA(r)?(e=!0,i2(n)):e=!1,Hg(n,t),LD(n,r,i),VS(n,r,i,t),t6(null,n,r,!0,e,t);case 19:return hI(e,n,t)}throw Error(jn(156,n.tag))};var A6=null,c6=null;function fq(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var t=n.inject(e);A6=function(r){try{n.onCommitFiberRoot(t,r,void 0,(r.current.effectTag&64)===64)}catch{}},c6=function(r){try{n.onCommitFiberUnmount(t,r)}catch{}}}catch{}return!0}function pq(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function af(e,n,t,r){return new pq(e,n,t,r)}function sB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mq(e){if(typeof e=="function")return sB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===EO)return 11;if(e===OO)return 14}return 2}function i1(e,n){var t=e.alternate;return t===null?(t=af(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.effectTag=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childExpirationTime=e.childExpirationTime,t.expirationTime=e.expirationTime,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function A2(e,n,t,r,i,o){var s=2;if(r=e,typeof e=="function")sB(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case E0:return pm(t.children,i,o,n);case j$:s=8,i|=7;break;case FF:s=8,i|=1;break;case Zx:return e=af(12,t,n,i|8),e.elementType=Zx,e.type=Zx,e.expirationTime=o,e;case Xx:return e=af(13,t,n,i),e.type=Xx,e.elementType=Xx,e.expirationTime=o,e;case ES:return e=af(19,t,n,i),e.elementType=ES,e.expirationTime=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DF:s=10;break e;case UF:s=9;break e;case EO:s=11;break e;case OO:s=14;break e;case RF:s=16,r=null;break e;case LF:s=22;break e}throw Error(jn(130,e==null?e:typeof e,""))}return n=af(s,t,n,i),n.elementType=e,n.type=r,n.expirationTime=o,n}function pm(e,n,t,r){return e=af(7,e,r,n),e.expirationTime=t,e}function Qw(e,n,t){return e=af(6,e,null,n),e.expirationTime=t,e}function $w(e,n,t){return n=af(4,e.children!==null?e.children:[],e.key,n),n.expirationTime=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function gq(e,n,t){this.tag=n,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function gU(e,n){var t=e.firstSuspendedTime;return e=e.lastSuspendedTime,t!==0&&t>=n&&e<=n}function U0(e,n){var t=e.firstSuspendedTime,r=e.lastSuspendedTime;t<n&&(e.firstSuspendedTime=n),(r>n||t===0)&&(e.lastSuspendedTime=n),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function yU(e,n){n>e.firstPendingTime&&(e.firstPendingTime=n);var t=e.firstSuspendedTime;t!==0&&(n>=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n>=e.lastSuspendedTime&&(e.lastSuspendedTime=n+1),n>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=n))}function d6(e,n){var t=e.lastExpiredTime;(t===0||t>n)&&(e.lastExpiredTime=n)}function X2(e,n,t,r){var i=n.current,o=Af(),s=yC.suspense;o=$0(o,i,s);e:if(t){t=t._reactInternalFiber;t:{if(p1(t)!==t||t.tag!==1)throw Error(jn(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(VA(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(jn(171))}if(t.tag===1){var p=t.type;if(VA(p)){t=ED(t,p,a);break e}}t=a}else t=Um;return n.context===null?n.context=t:n.pendingContext=t,n=Sm(o,s),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),Em(i,n),Bm(i,o),o}function Yw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CI(e,n){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<n&&(e.retryTime=n)}function lB(e,n){CI(e,n),(e=e.alternate)&&CI(e,n)}function uB(e,n,t){t=t!=null&&t.hydrate===!0;var r=new gq(e,n,t),i=af(3,null,null,n===2?7:n===1?3:0);r.current=i,i.stateNode=r,YO(i),e[O_]=r.current,t&&n!==0&&q$(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=r}uB.prototype.render=function(e){X2(e,this._internalRoot,null,null)};uB.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;X2(null,e,null,function(){n[O_]=null})};function P_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yq(e,n){if(n||(n=e?e.nodeType===9?e.documentElement:e.firstChild:null,n=!(!n||n.nodeType!==1||!n.hasAttribute("data-reactroot"))),!n)for(var t;t=e.lastChild;)e.removeChild(t);return new uB(e,0,n?{hydrate:!0}:void 0)}function R4(e,n,t,r,i){var o=t._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var g=Yw(s);a.call(g)}}X2(n,s,e,i)}else{if(o=t._reactRootContainer=yq(t,r),s=o._internalRoot,typeof i=="function"){var p=i;i=function(){var g=Yw(s);p.call(g)}}AU(function(){X2(n,s,e,i)})}return Yw(s)}function vq(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kg,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}iD=function(e){if(e.tag===13){var n=a2(Af(),150,100);Bm(e,n),lB(e,n)}};KO=function(e){e.tag===13&&(Bm(e,3),lB(e,3))};oD=function(e){if(e.tag===13){var n=Af();n=$0(n,e,null),Bm(e,n),lB(e,n)}};SS=function(e,n,t){switch(n){case"input":if(BS(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=zO(r);if(!i)throw Error(jn(90));jF(r),BS(r,i)}}}break;case"textarea":NF(e,t);break;case"select":n=t.value,n!=null&&qg(e,!!t.multiple,n,!1)}};_O=uU;TF=function(e,n,t,r,i){var o=Li;Li|=4;try{return Rm(98,e.bind(null,n,t,r,i))}finally{Li=o,Li===su&&bf()}};bO=function(){(Li&(1|sh|hf))===su&&(aq(),Fy())};KF=function(e,n){var t=Li;Li|=2;try{return e(n)}finally{Li=t,Li===su&&bf()}};function vU(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(n))throw Error(jn(200));return vq(e,n,null,t)}var Cq={Events:[k_,t1,zO,BF,MS,yy,function(e){IO(e,sY)},kF,IF,B4,O4,Fy,{current:!1}]};(function(e){var n=e.findFiberByHostInstance;return fq(vA({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ah.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JF(t),t===null?null:t.stateNode},findFiberByHostInstance:function(t){return n?n(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:B_,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});_d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cq;_d.createPortal=vU;_d.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternalFiber;if(n===void 0)throw typeof e.render=="function"?Error(jn(188)):Error(jn(268,Object.keys(e)));return e=JF(n),e=e===null?null:e.stateNode,e};_d.flushSync=function(e,n){if((Li&(sh|hf))!==su)throw Error(jn(187));var t=Li;Li|=1;try{return Rm(99,e.bind(null,n))}finally{Li=t,bf()}};_d.hydrate=function(e,n,t){if(!P_(n))throw Error(jn(200));return R4(null,e,n,!0,t)};_d.render=function(e,n,t){if(!P_(n))throw Error(jn(200));return R4(null,e,n,!1,t)};_d.unmountComponentAtNode=function(e){if(!P_(e))throw Error(jn(40));return e._reactRootContainer?(AU(function(){R4(null,null,e,!1,function(){e._reactRootContainer=null,e[O_]=null})}),!0):!1};_d.unstable_batchedUpdates=uU;_d.unstable_createPortal=function(e,n){return vU(e,n,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};_d.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!P_(t))throw Error(jn(200));if(e==null||e._reactInternalFiber===void 0)throw Error(jn(38));return R4(e,n,t,!1,r)};_d.version="16.14.0";function CU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CU)}catch(e){console.error(e)}}CU(),xF.exports=_d;var Nm=xF.exports;const _U=ma(Nm);var h6={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var t=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(s){if(s===void 0){console.error("Autobind error: No context provided.");return}var a=Object.getPrototypeOf(s);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(a),r.forEach(function(p){var g=Object.getOwnPropertyDescriptor(a,p);if(g===void 0){console.warn('Autobind: "'+p+'" method not found in class.');return}t.indexOf(p)!==-1||typeof g.value!="function"||Object.defineProperty(a,p,o(a,p,g))})}function o(s,a,p){var g=p.value;return{configurable:!0,get:function(){if(this===s||this.hasOwnProperty(a))return g;var B=g.bind(this);return Object.defineProperty(this,a,{value:B,configurable:!0,writable:!0}),B}}}e.exports=n.default})(h6,h6.exports);var _q=h6.exports,bq=_q;const xq=ma(bq);var J2={exports:{}};J2.exports;(function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",p="[object Date]",g="[object Error]",b="[object Function]",B="[object GeneratorFunction]",k="[object Map]",P="[object Number]",R="[object Object]",Z="[object Promise]",W="[object RegExp]",Q="[object Set]",q="[object String]",oe="[object Symbol]",re="[object WeakMap]",ce="[object ArrayBuffer]",se="[object DataView]",le="[object Float32Array]",ye="[object Float64Array]",De="[object Int8Array]",Ne="[object Int16Array]",et="[object Int32Array]",ft="[object Uint8Array]",Ke="[object Uint8ClampedArray]",rt="[object Uint16Array]",Ce="[object Uint32Array]",Rt=/[\\^$.*+?()[\]{}|]/g,jt=/\w*$/,tn=/^\[object .+?Constructor\]$/,Qt=/^(?:0|[1-9]\d*)$/,He={};He[o]=He[s]=He[ce]=He[se]=He[a]=He[p]=He[le]=He[ye]=He[De]=He[Ne]=He[et]=He[k]=He[P]=He[R]=He[W]=He[Q]=He[q]=He[oe]=He[ft]=He[Ke]=He[rt]=He[Ce]=!0,He[g]=He[b]=He[re]=!1;var Je=typeof window=="object"&&window&&window.Object===Object&&window,tt=typeof self=="object"&&self&&self.Object===Object&&self,rn=Je||tt||Function("return this")(),mt=n&&!n.nodeType&&n,dt=mt&&!0&&e&&!e.nodeType&&e,kt=dt&&dt.exports===mt;function Pt(ne,Ie){return ne.set(Ie[0],Ie[1]),ne}function Me(ne,Ie){return ne.add(Ie),ne}function he(ne,Ie){for(var At=-1,Yt=ne?ne.length:0;++At<Yt&&Ie(ne[At],At,ne)!==!1;);return ne}function be(ne,Ie){for(var At=-1,Yt=Ie.length,wr=ne.length;++At<Yt;)ne[wr+At]=Ie[At];return ne}function Pe(ne,Ie,At,Yt){var wr=-1,Tn=ne?ne.length:0;for(Yt&&Tn&&(At=ne[++wr]);++wr<Tn;)At=Ie(At,ne[wr],wr,ne);return At}function Ze(ne,Ie){for(var At=-1,Yt=Array(ne);++At<ne;)Yt[At]=Ie(At);return Yt}function nt(ne,Ie){return ne==null?void 0:ne[Ie]}function xt(ne){var Ie=!1;if(ne!=null&&typeof ne.toString!="function")try{Ie=!!(ne+"")}catch{}return Ie}function Ft(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt,wr){At[++Ie]=[wr,Yt]}),At}function Dt(ne,Ie){return function(At){return ne(Ie(At))}}function pt(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt){At[++Ie]=Yt}),At}var nr=Array.prototype,pn=Function.prototype,bn=Object.prototype,Jn=rn["__core-js_shared__"],mr=function(){var ne=/[^.]+$/.exec(Jn&&Jn.keys&&Jn.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),xr=pn.toString,Nr=bn.hasOwnProperty,Cr=bn.toString,fi=RegExp("^"+xr.call(Nr).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=kt?rn.Buffer:void 0,H=rn.Symbol,Y=rn.Uint8Array,Be=Dt(Object.getPrototypeOf,Object),st=Object.create,St=bn.propertyIsEnumerable,Et=nr.splice,Nt=Object.getOwnPropertySymbols,mn=we?we.isBuffer:void 0,Kn=Dt(Object.keys,Object),En=qa(rn,"DataView"),m=qa(rn,"Map"),Tt=qa(rn,"Promise"),Ur=qa(rn,"Set"),Wn=qa(rn,"WeakMap"),Te=qa(Object,"create"),de=Ha(En),ve=Ha(m),Se=Ha(Tt),Re=Ha(Ur),Xe=Ha(Wn),at=H?H.prototype:void 0,ht=at?at.valueOf:void 0;function Ve(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function _t(){this.__data__=Te?Te(null):{}}function Zt(ne){return this.has(ne)&&delete this.__data__[ne]}function Ht(ne){var Ie=this.__data__;if(Te){var At=Ie[ne];return At===r?void 0:At}return Nr.call(Ie,ne)?Ie[ne]:void 0}function qt(ne){var Ie=this.__data__;return Te?Ie[ne]!==void 0:Nr.call(Ie,ne)}function Vn(ne,Ie){var At=this.__data__;return At[ne]=Te&&Ie===void 0?r:Ie,this}Ve.prototype.clear=_t,Ve.prototype.delete=Zt,Ve.prototype.get=Ht,Ve.prototype.has=qt,Ve.prototype.set=Vn;function On(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function ir(){this.__data__=[]}function or(ne){var Ie=this.__data__,At=so(Ie,ne);if(At<0)return!1;var Yt=Ie.length-1;return At==Yt?Ie.pop():Et.call(Ie,At,1),!0}function Tr(ne){var Ie=this.__data__,At=so(Ie,ne);return At<0?void 0:Ie[At][1]}function Rr(ne){return so(this.__data__,ne)>-1}function Dr(ne,Ie){var At=this.__data__,Yt=so(At,ne);return Yt<0?At.push([ne,Ie]):At[Yt][1]=Ie,this}On.prototype.clear=ir,On.prototype.delete=or,On.prototype.get=Tr,On.prototype.has=Rr,On.prototype.set=Dr;function ei(ne){var Ie=-1,At=ne?ne.length:0;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function rr(){this.__data__={hash:new Ve,map:new(m||On),string:new Ve}}function li(ne){return Ws(this,ne).delete(ne)}function ki(ne){return Ws(this,ne).get(ne)}function Xi(ne){return Ws(this,ne).has(ne)}function xo(ne,Ie){return Ws(this,ne).set(ne,Ie),this}ei.prototype.clear=rr,ei.prototype.delete=li,ei.prototype.get=ki,ei.prototype.has=Xi,ei.prototype.set=xo;function pi(ne){this.__data__=new On(ne)}function Oo(){this.__data__=new On}function us(ne){return this.__data__.delete(ne)}function ka(ne){return this.__data__.get(ne)}function Ci(ne){return this.__data__.has(ne)}function Ms(ne,Ie){var At=this.__data__;if(At instanceof On){var Yt=At.__data__;if(!m||Yt.length<t-1)return Yt.push([ne,Ie]),this;At=this.__data__=new ei(Yt)}return At.set(ne,Ie),this}pi.prototype.clear=Oo,pi.prototype.delete=us,pi.prototype.get=ka,pi.prototype.has=Ci,pi.prototype.set=Ms;function Si(ne,Ie){var At=kl(ne)||pl(ne)?Ze(ne.length,String):[],Yt=At.length,wr=!!Yt;for(var Tn in ne)(Ie||Nr.call(ne,Tn))&&!(wr&&(Tn=="length"||bA(Tn,Yt)))&&At.push(Tn);return At}function Qn(ne,Ie,At){var Yt=ne[Ie];(!(Nr.call(ne,Ie)&&wA(Yt,At))||At===void 0&&!(Ie in ne))&&(ne[Ie]=At)}function so(ne,Ie){for(var At=ne.length;At--;)if(wA(ne[At][0],Ie))return At;return-1}function Go(ne,Ie){return ne&&Ya(Ie,rc(Ie),ne)}function Ji(ne,Ie,At,Yt,wr,Tn,_i){var Ti;if(Yt&&(Ti=Tn?Yt(ne,wr,Tn,_i):Yt(ne)),Ti!==void 0)return Ti;if(!As(ne))return ne;var Yr=kl(ne);if(Yr){if(Ti=_A(ne),!Ie)return rl(ne,Ti)}else{var Gi=Ns(ne),Fo=Gi==b||Gi==B;if(lu(ne))return Mn(ne,Ie);if(Gi==R||Gi==o||Fo&&!Tn){if(xt(ne))return Tn?ne:{};if(Ti=fl(Fo?{}:ne),!Ie)return ba(ne,Go(Ti,ne))}else{if(!He[Gi])return Tn?ne:{};Ti=tc(ne,Gi,Ji,Ie)}}_i||(_i=new pi);var xa=_i.get(ne);if(xa)return xa;if(_i.set(ne,Ti),!Yr)var jo=At?Ou(ne):rc(ne);return he(jo||ne,function(Ki,oa){jo&&(oa=Ki,Ki=ne[oa]),Qn(Ti,oa,Ji(Ki,Ie,At,Yt,oa,ne,_i))}),Ti}function ge(ne){return As(ne)?st(ne):{}}function $e(ne,Ie,At){var Yt=Ie(ne);return kl(ne)?Yt:be(Yt,At(ne))}function Xt(ne){return Cr.call(ne)}function sn(ne){if(!As(ne)||Ju(ne))return!1;var Ie=uu(ne)||xt(ne)?fi:tn;return Ie.test(Ha(ne))}function Kt(ne){if(!nc(ne))return Kn(ne);var Ie=[];for(var At in Object(ne))Nr.call(ne,At)&&At!="constructor"&&Ie.push(At);return Ie}function Mn(ne,Ie){if(Ie)return ne.slice();var At=new ne.constructor(ne.length);return ne.copy(At),At}function cr(ne){var Ie=new ne.constructor(ne.byteLength);return new Y(Ie).set(new Y(ne)),Ie}function Ii(ne,Ie){var At=Ie?cr(ne.buffer):ne.buffer;return new ne.constructor(At,ne.byteOffset,ne.byteLength)}function ii(ne,Ie,At){var Yt=Ie?At(Ft(ne),!0):Ft(ne);return Pe(Yt,Pt,new ne.constructor)}function ya(ne){var Ie=new ne.constructor(ne.source,jt.exec(ne));return Ie.lastIndex=ne.lastIndex,Ie}function $a(ne,Ie,At){var Yt=Ie?At(pt(ne),!0):pt(ne);return Pe(Yt,Me,new ne.constructor)}function Br(ne){return ht?Object(ht.call(ne)):{}}function mi(ne,Ie){var At=Ie?cr(ne.buffer):ne.buffer;return new ne.constructor(At,ne.byteOffset,ne.length)}function rl(ne,Ie){var At=-1,Yt=ne.length;for(Ie||(Ie=Array(Yt));++At<Yt;)Ie[At]=ne[At];return Ie}function Ya(ne,Ie,At,Yt){At||(At={});for(var wr=-1,Tn=Ie.length;++wr<Tn;){var _i=Ie[wr],Ti=Yt?Yt(At[_i],ne[_i],_i,At,ne):void 0;Qn(At,_i,Ti===void 0?ne[_i]:Ti)}return At}function ba(ne,Ie){return Ya(ne,Va(ne),Ie)}function Ou(ne){return $e(ne,rc,Va)}function Ws(ne,Ie){var At=ne.__data__;return xA(Ie)?At[typeof Ie=="string"?"string":"hash"]:At.map}function qa(ne,Ie){var At=nt(ne,Ie);return sn(At)?At:void 0}var Va=Nt?Dt(Nt,Object):mo,Ns=Xt;(En&&Ns(new En(new ArrayBuffer(1)))!=se||m&&Ns(new m)!=k||Tt&&Ns(Tt.resolve())!=Z||Ur&&Ns(new Ur)!=Q||Wn&&Ns(new Wn)!=re)&&(Ns=function(ne){var Ie=Cr.call(ne),At=Ie==R?ne.constructor:void 0,Yt=At?Ha(At):void 0;if(Yt)switch(Yt){case de:return se;case ve:return k;case Se:return Z;case Re:return Q;case Xe:return re}return Ie});function _A(ne){var Ie=ne.length,At=ne.constructor(Ie);return Ie&&typeof ne[0]=="string"&&Nr.call(ne,"index")&&(At.index=ne.index,At.input=ne.input),At}function fl(ne){return typeof ne.constructor=="function"&&!nc(ne)?ge(Be(ne)):{}}function tc(ne,Ie,At,Yt){var wr=ne.constructor;switch(Ie){case ce:return cr(ne);case a:case p:return new wr(+ne);case se:return Ii(ne,Yt);case le:case ye:case De:case Ne:case et:case ft:case Ke:case rt:case Ce:return mi(ne,Yt);case k:return ii(ne,Yt,At);case P:case q:return new wr(ne);case W:return ya(ne);case Q:return $a(ne,Yt,At);case oe:return Br(ne)}}function bA(ne,Ie){return Ie=Ie??i,!!Ie&&(typeof ne=="number"||Qt.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function xA(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function Ju(ne){return!!mr&&mr in ne}function nc(ne){var Ie=ne&&ne.constructor,At=typeof Ie=="function"&&Ie.prototype||bn;return ne===At}function Ha(ne){if(ne!=null){try{return xr.call(ne)}catch{}try{return ne+""}catch{}}return""}function Ss(ne){return Ji(ne,!0,!0)}function wA(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}function pl(ne){return eA(ne)&&Nr.call(ne,"callee")&&(!St.call(ne,"callee")||Cr.call(ne)==o)}var kl=Array.isArray;function Ho(ne){return ne!=null&&Bu(ne.length)&&!uu(ne)}function eA(ne){return Au(ne)&&Ho(ne)}var lu=mn||Ao;function uu(ne){var Ie=As(ne)?Cr.call(ne):"";return Ie==b||Ie==B}function Bu(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=i}function As(ne){var Ie=typeof ne;return!!ne&&(Ie=="object"||Ie=="function")}function Au(ne){return!!ne&&typeof ne=="object"}function rc(ne){return Ho(ne)?Si(ne):Kt(ne)}function mo(){return[]}function Ao(){return!1}e.exports=Ss})(J2,J2.exports);var wq=J2.exports;const _I=ma(wq);var bI=NaN,Mq="[object Symbol]",Sq=/^\s+|\s+$/g,Eq=/^[-+]0x[0-9a-f]+$/i,Oq=/^0b[01]+$/i,Bq=/^0o[0-7]+$/i,kq=parseInt,Iq=Object.prototype,Tq=Iq.toString;function Kq(e,n,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),n!==void 0&&(e=e>=n?e:n)),e}function xI(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Pq(e){return!!e&&typeof e=="object"}function Fq(e){return typeof e=="symbol"||Pq(e)&&Tq.call(e)==Mq}function qw(e){if(typeof e=="number")return e;if(Fq(e))return bI;if(xI(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=xI(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(Sq,"");var t=Oq.test(e);return t||Bq.test(e)?kq(e.slice(2),t?2:8):Eq.test(e)?bI:+e}function Dq(e,n,t){return t===void 0&&(t=n,n=void 0),t!==void 0&&(t=qw(t),t=t===t?t:0),n!==void 0&&(n=qw(n),n=n===n?n:0),Kq(qw(e),n,t)}var Uq=Dq;const wI=ma(Uq);var bU={},L4={};L4.byteLength=zq;L4.toByteArray=Wq;L4.fromByteArray=Qq;var ef=[],ud=[],Rq=typeof Uint8Array<"u"?Uint8Array:Array,Vw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ig=0,Lq=Vw.length;ig<Lq;++ig)ef[ig]=Vw[ig],ud[Vw.charCodeAt(ig)]=ig;ud[45]=62;ud[95]=63;function xU(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function zq(e){var n=xU(e),t=n[0],r=n[1];return(t+r)*3/4-r}function jq(e,n,t){return(n+t)*3/4-t}function Wq(e){var n,t=xU(e),r=t[0],i=t[1],o=new Rq(jq(e,r,i)),s=0,a=i>0?r-4:r,p;for(p=0;p<a;p+=4)n=ud[e.charCodeAt(p)]<<18|ud[e.charCodeAt(p+1)]<<12|ud[e.charCodeAt(p+2)]<<6|ud[e.charCodeAt(p+3)],o[s++]=n>>16&255,o[s++]=n>>8&255,o[s++]=n&255;return i===2&&(n=ud[e.charCodeAt(p)]<<2|ud[e.charCodeAt(p+1)]>>4,o[s++]=n&255),i===1&&(n=ud[e.charCodeAt(p)]<<10|ud[e.charCodeAt(p+1)]<<4|ud[e.charCodeAt(p+2)]>>2,o[s++]=n>>8&255,o[s++]=n&255),o}function Nq(e){return ef[e>>18&63]+ef[e>>12&63]+ef[e>>6&63]+ef[e&63]}function Gq(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Nq(r));return i.join("")}function Qq(e){for(var n,t=e.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(Gq(e,s,s+o>a?a:s+o));return r===1?(n=e[t-1],i.push(ef[n>>2]+ef[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(ef[n>>10]+ef[n>>4&63]+ef[n<<2&63]+"=")),i.join("")}var z4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */z4.read=function(e,n,t,r,i){var o,s,a=i*8-r-1,p=(1<<a)-1,g=p>>1,b=-7,B=t?i-1:0,k=t?-1:1,P=e[n+B];for(B+=k,o=P&(1<<-b)-1,P>>=-b,b+=a;b>0;o=o*256+e[n+B],B+=k,b-=8);for(s=o&(1<<-b)-1,o>>=-b,b+=r;b>0;s=s*256+e[n+B],B+=k,b-=8);if(o===0)o=1-g;else{if(o===p)return s?NaN:(P?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-g}return(P?-1:1)*s*Math.pow(2,o-r)};z4.write=function(e,n,t,r,i,o){var s,a,p,g=o*8-i-1,b=(1<<g)-1,B=b>>1,k=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=r?0:o-1,R=r?1:-1,Z=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,s=b):(s=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-s))<1&&(s--,p*=2),s+B>=1?n+=k/p:n+=k*Math.pow(2,1-B),n*p>=2&&(s++,p/=2),s+B>=b?(a=0,s=b):s+B>=1?(a=(n*p-1)*Math.pow(2,i),s=s+B):(a=n*Math.pow(2,B-1)*Math.pow(2,i),s=0));i>=8;e[t+P]=a&255,P+=R,a/=256,i-=8);for(s=s<<i|a,g+=i;g>0;e[t+P]=s&255,P+=R,s/=256,g-=8);e[t+P-R]|=Z*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const n=L4,t=z4,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=q,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const we=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(we,H),we.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(we){if(we>i)throw new RangeError('The value "'+we+'" is invalid for option "size"');const H=new Uint8Array(we);return Object.setPrototypeOf(H,a.prototype),H}function a(we,H,Y){if(typeof we=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(we)}return p(we,H,Y)}a.poolSize=8192;function p(we,H,Y){if(typeof we=="string")return k(we,H);if(ArrayBuffer.isView(we))return R(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we);if(mr(we,ArrayBuffer)||we&&mr(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mr(we,SharedArrayBuffer)||we&&mr(we.buffer,SharedArrayBuffer)))return Z(we,H,Y);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=we.valueOf&&we.valueOf();if(Be!=null&&Be!==we)return a.from(Be,H,Y);const st=W(we);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return a.from(we[Symbol.toPrimitive]("string"),H,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we)}a.from=function(we,H,Y){return p(we,H,Y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function b(we,H,Y){return g(we),we<=0?s(we):H!==void 0?typeof Y=="string"?s(we).fill(H,Y):s(we).fill(H):s(we)}a.alloc=function(we,H,Y){return b(we,H,Y)};function B(we){return g(we),s(we<0?0:Q(we)|0)}a.allocUnsafe=function(we){return B(we)},a.allocUnsafeSlow=function(we){return B(we)};function k(we,H){if((typeof H!="string"||H==="")&&(H="utf8"),!a.isEncoding(H))throw new TypeError("Unknown encoding: "+H);const Y=oe(we,H)|0;let Be=s(Y);const st=Be.write(we,H);return st!==Y&&(Be=Be.slice(0,st)),Be}function P(we){const H=we.length<0?0:Q(we.length)|0,Y=s(H);for(let Be=0;Be<H;Be+=1)Y[Be]=we[Be]&255;return Y}function R(we){if(mr(we,Uint8Array)){const H=new Uint8Array(we);return Z(H.buffer,H.byteOffset,H.byteLength)}return P(we)}function Z(we,H,Y){if(H<0||we.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<H+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return H===void 0&&Y===void 0?Be=new Uint8Array(we):Y===void 0?Be=new Uint8Array(we,H):Be=new Uint8Array(we,H,Y),Object.setPrototypeOf(Be,a.prototype),Be}function W(we){if(a.isBuffer(we)){const H=Q(we.length)|0,Y=s(H);return Y.length===0||we.copy(Y,0,0,H),Y}if(we.length!==void 0)return typeof we.length!="number"||xr(we.length)?s(0):P(we);if(we.type==="Buffer"&&Array.isArray(we.data))return P(we.data)}function Q(we){if(we>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return we|0}function q(we){return+we!=we&&(we=0),a.alloc(+we)}a.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==a.prototype},a.compare=function(H,Y){if(mr(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),mr(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(H)||!a.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===Y)return 0;let Be=H.length,st=Y.length;for(let St=0,Et=Math.min(Be,st);St<Et;++St)if(H[St]!==Y[St]){Be=H[St],st=Y[St];break}return Be<st?-1:st<Be?1:0},a.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(H,Y){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return a.alloc(0);let Be;if(Y===void 0)for(Y=0,Be=0;Be<H.length;++Be)Y+=H[Be].length;const st=a.allocUnsafe(Y);let St=0;for(Be=0;Be<H.length;++Be){let Et=H[Be];if(mr(Et,Uint8Array))St+Et.length>st.length?(a.isBuffer(Et)||(Et=a.from(Et)),Et.copy(st,St)):Uint8Array.prototype.set.call(st,Et,St);else if(a.isBuffer(Et))Et.copy(st,St);else throw new TypeError('"list" argument must be an Array of Buffers');St+=Et.length}return st};function oe(we,H){if(a.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||mr(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof we);const Y=we.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&Y===0)return 0;let st=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return pt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return bn(we).length;default:if(st)return Be?-1:pt(we).length;H=(""+H).toLowerCase(),st=!0}}a.byteLength=oe;function re(we,H,Y){let Be=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,H>>>=0,Y<=H))return"";for(we||(we="utf8");;)switch(we){case"hex":return Qt(this,H,Y);case"utf8":case"utf-8":return rt(this,H,Y);case"ascii":return jt(this,H,Y);case"latin1":case"binary":return tn(this,H,Y);case"base64":return Ke(this,H,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He(this,H,Y);default:if(Be)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Be=!0}}a.prototype._isBuffer=!0;function ce(we,H,Y){const Be=we[H];we[H]=we[Y],we[Y]=Be}a.prototype.swap16=function(){const H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<H;Y+=2)ce(this,Y,Y+1);return this},a.prototype.swap32=function(){const H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<H;Y+=4)ce(this,Y,Y+3),ce(this,Y+1,Y+2);return this},a.prototype.swap64=function(){const H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<H;Y+=8)ce(this,Y,Y+7),ce(this,Y+1,Y+6),ce(this,Y+2,Y+5),ce(this,Y+3,Y+4);return this},a.prototype.toString=function(){const H=this.length;return H===0?"":arguments.length===0?rt(this,0,H):re.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(H){if(!a.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:a.compare(this,H)===0},a.prototype.inspect=function(){let H="";const Y=e.INSPECT_MAX_BYTES;return H=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(H+=" ... "),"<Buffer "+H+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(H,Y,Be,st,St){if(mr(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(Y===void 0&&(Y=0),Be===void 0&&(Be=H?H.length:0),st===void 0&&(st=0),St===void 0&&(St=this.length),Y<0||Be>H.length||st<0||St>this.length)throw new RangeError("out of range index");if(st>=St&&Y>=Be)return 0;if(st>=St)return-1;if(Y>=Be)return 1;if(Y>>>=0,Be>>>=0,st>>>=0,St>>>=0,this===H)return 0;let Et=St-st,Nt=Be-Y;const mn=Math.min(Et,Nt),Kn=this.slice(st,St),En=H.slice(Y,Be);for(let m=0;m<mn;++m)if(Kn[m]!==En[m]){Et=Kn[m],Nt=En[m];break}return Et<Nt?-1:Nt<Et?1:0};function se(we,H,Y,Be,st){if(we.length===0)return-1;if(typeof Y=="string"?(Be=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,xr(Y)&&(Y=st?0:we.length-1),Y<0&&(Y=we.length+Y),Y>=we.length){if(st)return-1;Y=we.length-1}else if(Y<0)if(st)Y=0;else return-1;if(typeof H=="string"&&(H=a.from(H,Be)),a.isBuffer(H))return H.length===0?-1:le(we,H,Y,Be,st);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(we,H,Y):Uint8Array.prototype.lastIndexOf.call(we,H,Y):le(we,[H],Y,Be,st);throw new TypeError("val must be string, number or Buffer")}function le(we,H,Y,Be,st){let St=1,Et=we.length,Nt=H.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(we.length<2||H.length<2)return-1;St=2,Et/=2,Nt/=2,Y/=2}function mn(En,m){return St===1?En[m]:En.readUInt16BE(m*St)}let Kn;if(st){let En=-1;for(Kn=Y;Kn<Et;Kn++)if(mn(we,Kn)===mn(H,En===-1?0:Kn-En)){if(En===-1&&(En=Kn),Kn-En+1===Nt)return En*St}else En!==-1&&(Kn-=Kn-En),En=-1}else for(Y+Nt>Et&&(Y=Et-Nt),Kn=Y;Kn>=0;Kn--){let En=!0;for(let m=0;m<Nt;m++)if(mn(we,Kn+m)!==mn(H,m)){En=!1;break}if(En)return Kn}return-1}a.prototype.includes=function(H,Y,Be){return this.indexOf(H,Y,Be)!==-1},a.prototype.indexOf=function(H,Y,Be){return se(this,H,Y,Be,!0)},a.prototype.lastIndexOf=function(H,Y,Be){return se(this,H,Y,Be,!1)};function ye(we,H,Y,Be){Y=Number(Y)||0;const st=we.length-Y;Be?(Be=Number(Be),Be>st&&(Be=st)):Be=st;const St=H.length;Be>St/2&&(Be=St/2);let Et;for(Et=0;Et<Be;++Et){const Nt=parseInt(H.substr(Et*2,2),16);if(xr(Nt))return Et;we[Y+Et]=Nt}return Et}function De(we,H,Y,Be){return Jn(pt(H,we.length-Y),we,Y,Be)}function Ne(we,H,Y,Be){return Jn(nr(H),we,Y,Be)}function et(we,H,Y,Be){return Jn(bn(H),we,Y,Be)}function ft(we,H,Y,Be){return Jn(pn(H,we.length-Y),we,Y,Be)}a.prototype.write=function(H,Y,Be,st){if(Y===void 0)st="utf8",Be=this.length,Y=0;else if(Be===void 0&&typeof Y=="string")st=Y,Be=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(Be)?(Be=Be>>>0,st===void 0&&(st="utf8")):(st=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const St=this.length-Y;if((Be===void 0||Be>St)&&(Be=St),H.length>0&&(Be<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");st||(st="utf8");let Et=!1;for(;;)switch(st){case"hex":return ye(this,H,Y,Be);case"utf8":case"utf-8":return De(this,H,Y,Be);case"ascii":case"latin1":case"binary":return Ne(this,H,Y,Be);case"base64":return et(this,H,Y,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ft(this,H,Y,Be);default:if(Et)throw new TypeError("Unknown encoding: "+st);st=(""+st).toLowerCase(),Et=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ke(we,H,Y){return H===0&&Y===we.length?n.fromByteArray(we):n.fromByteArray(we.slice(H,Y))}function rt(we,H,Y){Y=Math.min(we.length,Y);const Be=[];let st=H;for(;st<Y;){const St=we[st];let Et=null,Nt=St>239?4:St>223?3:St>191?2:1;if(st+Nt<=Y){let mn,Kn,En,m;switch(Nt){case 1:St<128&&(Et=St);break;case 2:mn=we[st+1],(mn&192)===128&&(m=(St&31)<<6|mn&63,m>127&&(Et=m));break;case 3:mn=we[st+1],Kn=we[st+2],(mn&192)===128&&(Kn&192)===128&&(m=(St&15)<<12|(mn&63)<<6|Kn&63,m>2047&&(m<55296||m>57343)&&(Et=m));break;case 4:mn=we[st+1],Kn=we[st+2],En=we[st+3],(mn&192)===128&&(Kn&192)===128&&(En&192)===128&&(m=(St&15)<<18|(mn&63)<<12|(Kn&63)<<6|En&63,m>65535&&m<1114112&&(Et=m))}}Et===null?(Et=65533,Nt=1):Et>65535&&(Et-=65536,Be.push(Et>>>10&1023|55296),Et=56320|Et&1023),Be.push(Et),st+=Nt}return Rt(Be)}const Ce=4096;function Rt(we){const H=we.length;if(H<=Ce)return String.fromCharCode.apply(String,we);let Y="",Be=0;for(;Be<H;)Y+=String.fromCharCode.apply(String,we.slice(Be,Be+=Ce));return Y}function jt(we,H,Y){let Be="";Y=Math.min(we.length,Y);for(let st=H;st<Y;++st)Be+=String.fromCharCode(we[st]&127);return Be}function tn(we,H,Y){let Be="";Y=Math.min(we.length,Y);for(let st=H;st<Y;++st)Be+=String.fromCharCode(we[st]);return Be}function Qt(we,H,Y){const Be=we.length;(!H||H<0)&&(H=0),(!Y||Y<0||Y>Be)&&(Y=Be);let st="";for(let St=H;St<Y;++St)st+=Nr[we[St]];return st}function He(we,H,Y){const Be=we.slice(H,Y);let st="";for(let St=0;St<Be.length-1;St+=2)st+=String.fromCharCode(Be[St]+Be[St+1]*256);return st}a.prototype.slice=function(H,Y){const Be=this.length;H=~~H,Y=Y===void 0?Be:~~Y,H<0?(H+=Be,H<0&&(H=0)):H>Be&&(H=Be),Y<0?(Y+=Be,Y<0&&(Y=0)):Y>Be&&(Y=Be),Y<H&&(Y=H);const st=this.subarray(H,Y);return Object.setPrototypeOf(st,a.prototype),st};function Je(we,H,Y){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+H>Y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H],St=1,Et=0;for(;++Et<Y&&(St*=256);)st+=this[H+Et]*St;return st},a.prototype.readUintBE=a.prototype.readUIntBE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H+--Y],St=1;for(;Y>0&&(St*=256);)st+=this[H+--Y]*St;return st},a.prototype.readUint8=a.prototype.readUInt8=function(H,Y){return H=H>>>0,Y||Je(H,1,this.length),this[H]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(H,Y){return H=H>>>0,Y||Je(H,2,this.length),this[H]|this[H+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(H,Y){return H=H>>>0,Y||Je(H,2,this.length),this[H]<<8|this[H+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},a.prototype.readBigUInt64LE=Cr(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=Y+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24,St=this[++H]+this[++H]*2**8+this[++H]*2**16+Be*2**24;return BigInt(st)+(BigInt(St)<<BigInt(32))}),a.prototype.readBigUInt64BE=Cr(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=Y*2**24+this[++H]*2**16+this[++H]*2**8+this[++H],St=this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+Be;return(BigInt(st)<<BigInt(32))+BigInt(St)}),a.prototype.readIntLE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=this[H],St=1,Et=0;for(;++Et<Y&&(St*=256);)st+=this[H+Et]*St;return St*=128,st>=St&&(st-=Math.pow(2,8*Y)),st},a.prototype.readIntBE=function(H,Y,Be){H=H>>>0,Y=Y>>>0,Be||Je(H,Y,this.length);let st=Y,St=1,Et=this[H+--st];for(;st>0&&(St*=256);)Et+=this[H+--st]*St;return St*=128,Et>=St&&(Et-=Math.pow(2,8*Y)),Et},a.prototype.readInt8=function(H,Y){return H=H>>>0,Y||Je(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},a.prototype.readInt16LE=function(H,Y){H=H>>>0,Y||Je(H,2,this.length);const Be=this[H]|this[H+1]<<8;return Be&32768?Be|4294901760:Be},a.prototype.readInt16BE=function(H,Y){H=H>>>0,Y||Je(H,2,this.length);const Be=this[H+1]|this[H]<<8;return Be&32768?Be|4294901760:Be},a.prototype.readInt32LE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},a.prototype.readInt32BE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},a.prototype.readBigInt64LE=Cr(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=this[H+4]+this[H+5]*2**8+this[H+6]*2**16+(Be<<24);return(BigInt(st)<<BigInt(32))+BigInt(Y+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24)}),a.prototype.readBigInt64BE=Cr(function(H){H=H>>>0,nt(H,"offset");const Y=this[H],Be=this[H+7];(Y===void 0||Be===void 0)&&xt(H,this.length-8);const st=(Y<<24)+this[++H]*2**16+this[++H]*2**8+this[++H];return(BigInt(st)<<BigInt(32))+BigInt(this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+Be)}),a.prototype.readFloatLE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),t.read(this,H,!0,23,4)},a.prototype.readFloatBE=function(H,Y){return H=H>>>0,Y||Je(H,4,this.length),t.read(this,H,!1,23,4)},a.prototype.readDoubleLE=function(H,Y){return H=H>>>0,Y||Je(H,8,this.length),t.read(this,H,!0,52,8)},a.prototype.readDoubleBE=function(H,Y){return H=H>>>0,Y||Je(H,8,this.length),t.read(this,H,!1,52,8)};function tt(we,H,Y,Be,st,St){if(!a.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>st||H<St)throw new RangeError('"value" argument is out of bounds');if(Y+Be>we.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,Be=Be>>>0,!st){const Nt=Math.pow(2,8*Be)-1;tt(this,H,Y,Be,Nt,0)}let St=1,Et=0;for(this[Y]=H&255;++Et<Be&&(St*=256);)this[Y+Et]=H/St&255;return Y+Be},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,Be=Be>>>0,!st){const Nt=Math.pow(2,8*Be)-1;tt(this,H,Y,Be,Nt,0)}let St=Be-1,Et=1;for(this[Y+St]=H&255;--St>=0&&(Et*=256);)this[Y+St]=H/Et&255;return Y+Be},a.prototype.writeUint8=a.prototype.writeUInt8=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,1,255,0),this[Y]=H&255,Y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,65535,0),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,65535,0),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,4294967295,0),this[Y+3]=H>>>24,this[Y+2]=H>>>16,this[Y+1]=H>>>8,this[Y]=H&255,Y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,4294967295,0),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4};function rn(we,H,Y,Be,st){Ze(H,Be,st,we,Y,7);let St=Number(H&BigInt(4294967295));we[Y++]=St,St=St>>8,we[Y++]=St,St=St>>8,we[Y++]=St,St=St>>8,we[Y++]=St;let Et=Number(H>>BigInt(32)&BigInt(4294967295));return we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Et=Et>>8,we[Y++]=Et,Y}function mt(we,H,Y,Be,st){Ze(H,Be,st,we,Y,7);let St=Number(H&BigInt(4294967295));we[Y+7]=St,St=St>>8,we[Y+6]=St,St=St>>8,we[Y+5]=St,St=St>>8,we[Y+4]=St;let Et=Number(H>>BigInt(32)&BigInt(4294967295));return we[Y+3]=Et,Et=Et>>8,we[Y+2]=Et,Et=Et>>8,we[Y+1]=Et,Et=Et>>8,we[Y]=Et,Y+8}a.prototype.writeBigUInt64LE=Cr(function(H,Y=0){return rn(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Cr(function(H,Y=0){return mt(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,!st){const mn=Math.pow(2,8*Be-1);tt(this,H,Y,Be,mn-1,-mn)}let St=0,Et=1,Nt=0;for(this[Y]=H&255;++St<Be&&(Et*=256);)H<0&&Nt===0&&this[Y+St-1]!==0&&(Nt=1),this[Y+St]=(H/Et>>0)-Nt&255;return Y+Be},a.prototype.writeIntBE=function(H,Y,Be,st){if(H=+H,Y=Y>>>0,!st){const mn=Math.pow(2,8*Be-1);tt(this,H,Y,Be,mn-1,-mn)}let St=Be-1,Et=1,Nt=0;for(this[Y+St]=H&255;--St>=0&&(Et*=256);)H<0&&Nt===0&&this[Y+St+1]!==0&&(Nt=1),this[Y+St]=(H/Et>>0)-Nt&255;return Y+Be},a.prototype.writeInt8=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,1,127,-128),H<0&&(H=255+H+1),this[Y]=H&255,Y+1},a.prototype.writeInt16LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,32767,-32768),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},a.prototype.writeInt16BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,2,32767,-32768),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},a.prototype.writeInt32LE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,2147483647,-2147483648),this[Y]=H&255,this[Y+1]=H>>>8,this[Y+2]=H>>>16,this[Y+3]=H>>>24,Y+4},a.prototype.writeInt32BE=function(H,Y,Be){return H=+H,Y=Y>>>0,Be||tt(this,H,Y,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4},a.prototype.writeBigInt64LE=Cr(function(H,Y=0){return rn(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Cr(function(H,Y=0){return mt(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(we,H,Y,Be,st,St){if(Y+Be>we.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function kt(we,H,Y,Be,st){return H=+H,Y=Y>>>0,st||dt(we,H,Y,4),t.write(we,H,Y,Be,23,4),Y+4}a.prototype.writeFloatLE=function(H,Y,Be){return kt(this,H,Y,!0,Be)},a.prototype.writeFloatBE=function(H,Y,Be){return kt(this,H,Y,!1,Be)};function Pt(we,H,Y,Be,st){return H=+H,Y=Y>>>0,st||dt(we,H,Y,8),t.write(we,H,Y,Be,52,8),Y+8}a.prototype.writeDoubleLE=function(H,Y,Be){return Pt(this,H,Y,!0,Be)},a.prototype.writeDoubleBE=function(H,Y,Be){return Pt(this,H,Y,!1,Be)},a.prototype.copy=function(H,Y,Be,st){if(!a.isBuffer(H))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!st&&st!==0&&(st=this.length),Y>=H.length&&(Y=H.length),Y||(Y=0),st>0&&st<Be&&(st=Be),st===Be||H.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("sourceEnd out of bounds");st>this.length&&(st=this.length),H.length-Y<st-Be&&(st=H.length-Y+Be);const St=st-Be;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,Be,st):Uint8Array.prototype.set.call(H,this.subarray(Be,st),Y),St},a.prototype.fill=function(H,Y,Be,st){if(typeof H=="string"){if(typeof Y=="string"?(st=Y,Y=0,Be=this.length):typeof Be=="string"&&(st=Be,Be=this.length),st!==void 0&&typeof st!="string")throw new TypeError("encoding must be a string");if(typeof st=="string"&&!a.isEncoding(st))throw new TypeError("Unknown encoding: "+st);if(H.length===1){const Et=H.charCodeAt(0);(st==="utf8"&&Et<128||st==="latin1")&&(H=Et)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(Y<0||this.length<Y||this.length<Be)throw new RangeError("Out of range index");if(Be<=Y)return this;Y=Y>>>0,Be=Be===void 0?this.length:Be>>>0,H||(H=0);let St;if(typeof H=="number")for(St=Y;St<Be;++St)this[St]=H;else{const Et=a.isBuffer(H)?H:a.from(H,st),Nt=Et.length;if(Nt===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(St=0;St<Be-Y;++St)this[St+Y]=Et[St%Nt]}return this};const Me={};function he(we,H,Y){Me[we]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${we}]`,this.stack,delete this.name}get code(){return we}set code(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}toString(){return`${this.name} [${we}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?`${we} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(we,H){return`The "${we}" argument must be of type number. Received type ${typeof H}`},TypeError),he("ERR_OUT_OF_RANGE",function(we,H,Y){let Be=`The value of "${we}" is out of range.`,st=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?st=be(String(Y)):typeof Y=="bigint"&&(st=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(st=be(st)),st+="n"),Be+=` It must be ${H}. Received ${st}`,Be},RangeError);function be(we){let H="",Y=we.length;const Be=we[0]==="-"?1:0;for(;Y>=Be+4;Y-=3)H=`_${we.slice(Y-3,Y)}${H}`;return`${we.slice(0,Y)}${H}`}function Pe(we,H,Y){nt(H,"offset"),(we[H]===void 0||we[H+Y]===void 0)&&xt(H,we.length-(Y+1))}function Ze(we,H,Y,Be,st,St){if(we>Y||we<H){const Et=typeof H=="bigint"?"n":"";let Nt;throw St>3?H===0||H===BigInt(0)?Nt=`>= 0${Et} and < 2${Et} ** ${(St+1)*8}${Et}`:Nt=`>= -(2${Et} ** ${(St+1)*8-1}${Et}) and < 2 ** ${(St+1)*8-1}${Et}`:Nt=`>= ${H}${Et} and <= ${Y}${Et}`,new Me.ERR_OUT_OF_RANGE("value",Nt,we)}Pe(Be,st,St)}function nt(we,H){if(typeof we!="number")throw new Me.ERR_INVALID_ARG_TYPE(H,"number",we)}function xt(we,H,Y){throw Math.floor(we)!==we?(nt(we,Y),new Me.ERR_OUT_OF_RANGE(Y||"offset","an integer",we)):H<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(Y||"offset",`>= ${Y?1:0} and <= ${H}`,we)}const Ft=/[^+/0-9A-Za-z-_]/g;function Dt(we){if(we=we.split("=")[0],we=we.trim().replace(Ft,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function pt(we,H){H=H||1/0;let Y;const Be=we.length;let st=null;const St=[];for(let Et=0;Et<Be;++Et){if(Y=we.charCodeAt(Et),Y>55295&&Y<57344){if(!st){if(Y>56319){(H-=3)>-1&&St.push(239,191,189);continue}else if(Et+1===Be){(H-=3)>-1&&St.push(239,191,189);continue}st=Y;continue}if(Y<56320){(H-=3)>-1&&St.push(239,191,189),st=Y;continue}Y=(st-55296<<10|Y-56320)+65536}else st&&(H-=3)>-1&&St.push(239,191,189);if(st=null,Y<128){if((H-=1)<0)break;St.push(Y)}else if(Y<2048){if((H-=2)<0)break;St.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((H-=3)<0)break;St.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((H-=4)<0)break;St.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return St}function nr(we){const H=[];for(let Y=0;Y<we.length;++Y)H.push(we.charCodeAt(Y)&255);return H}function pn(we,H){let Y,Be,st;const St=[];for(let Et=0;Et<we.length&&!((H-=2)<0);++Et)Y=we.charCodeAt(Et),Be=Y>>8,st=Y%256,St.push(st),St.push(Be);return St}function bn(we){return n.toByteArray(Dt(we))}function Jn(we,H,Y,Be){let st;for(st=0;st<Be&&!(st+Y>=H.length||st>=we.length);++st)H[st+Y]=we[st];return st}function mr(we,H){return we instanceof H||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===H.name}function xr(we){return we!==we}const Nr=function(){const we="0123456789abcdef",H=new Array(256);for(let Y=0;Y<16;++Y){const Be=Y*16;for(let st=0;st<16;++st)H[Be+st]=we[Y]+we[st]}return H}();function Cr(we){return typeof BigInt>"u"?fi:we}function fi(){throw new Error("BigInt not supported")}})(bU);const $q=ma(bU);var Yq="Expected a function",wU="__lodash_hash_undefined__",MU=1/0,qq="[object Function]",Vq="[object GeneratorFunction]",Hq="[object Symbol]",Zq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xq=/^\w*$/,Jq=/^\./,eV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tV=/[\\^$.*+?()[\]{}|]/g,nV=/\\(\\)?/g,rV=/^\[object .+?Constructor\]$/,iV=typeof window=="object"&&window&&window.Object===Object&&window,oV=typeof self=="object"&&self&&self.Object===Object&&self,AB=iV||oV||Function("return this")();function aV(e,n){return e==null?void 0:e[n]}function sV(e){var n=!1;if(e!=null&&typeof e.toString!="function")try{n=!!(e+"")}catch{}return n}var lV=Array.prototype,uV=Function.prototype,SU=Object.prototype,Hw=AB["__core-js_shared__"],MI=function(){var e=/[^.]+$/.exec(Hw&&Hw.keys&&Hw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),EU=uV.toString,cB=SU.hasOwnProperty,OU=SU.toString,AV=RegExp("^"+EU.call(cB).replace(tV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),SI=AB.Symbol,cV=lV.splice,dV=BU(AB,"Map"),HC=BU(Object,"create"),EI=SI?SI.prototype:void 0,OI=EI?EI.toString:void 0;function o1(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function hV(){this.__data__=HC?HC(null):{}}function fV(e){return this.has(e)&&delete this.__data__[e]}function pV(e){var n=this.__data__;if(HC){var t=n[e];return t===wU?void 0:t}return cB.call(n,e)?n[e]:void 0}function mV(e){var n=this.__data__;return HC?n[e]!==void 0:cB.call(n,e)}function gV(e,n){var t=this.__data__;return t[e]=HC&&n===void 0?wU:n,this}o1.prototype.clear=hV;o1.prototype.delete=fV;o1.prototype.get=pV;o1.prototype.has=mV;o1.prototype.set=gV;function Dy(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function yV(){this.__data__=[]}function vV(e){var n=this.__data__,t=j4(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():cV.call(n,t,1),!0}function CV(e){var n=this.__data__,t=j4(n,e);return t<0?void 0:n[t][1]}function _V(e){return j4(this.__data__,e)>-1}function bV(e,n){var t=this.__data__,r=j4(t,e);return r<0?t.push([e,n]):t[r][1]=n,this}Dy.prototype.clear=yV;Dy.prototype.delete=vV;Dy.prototype.get=CV;Dy.prototype.has=_V;Dy.prototype.set=bV;function m1(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function xV(){this.__data__={hash:new o1,map:new(dV||Dy),string:new o1}}function wV(e){return W4(this,e).delete(e)}function MV(e){return W4(this,e).get(e)}function SV(e){return W4(this,e).has(e)}function EV(e,n){return W4(this,e).set(e,n),this}m1.prototype.clear=xV;m1.prototype.delete=wV;m1.prototype.get=MV;m1.prototype.has=SV;m1.prototype.set=EV;function j4(e,n){for(var t=e.length;t--;)if(RV(e[t][0],n))return t;return-1}function OV(e,n){n=TV(n,e)?[n]:IV(n);for(var t=0,r=n.length;e!=null&&t<r;)e=e[DV(n[t++])];return t&&t==r?e:void 0}function BV(e){if(!IU(e)||PV(e))return!1;var n=LV(e)||sV(e)?AV:rV;return n.test(UV(e))}function kV(e){if(typeof e=="string")return e;if(hB(e))return OI?OI.call(e):"";var n=e+"";return n=="0"&&1/e==-MU?"-0":n}function IV(e){return kU(e)?e:FV(e)}function W4(e,n){var t=e.__data__;return KV(n)?t[typeof n=="string"?"string":"hash"]:t.map}function BU(e,n){var t=aV(e,n);return BV(t)?t:void 0}function TV(e,n){if(kU(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||hB(e)?!0:Xq.test(e)||!Zq.test(e)||n!=null&&e in Object(n)}function KV(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function PV(e){return!!MI&&MI in e}var FV=dB(function(e){e=jV(e);var n=[];return Jq.test(e)&&n.push(""),e.replace(eV,function(t,r,i,o){n.push(i?o.replace(nV,"$1"):r||t)}),n});function DV(e){if(typeof e=="string"||hB(e))return e;var n=e+"";return n=="0"&&1/e==-MU?"-0":n}function UV(e){if(e!=null){try{return EU.call(e)}catch{}try{return e+""}catch{}}return""}function dB(e,n){if(typeof e!="function"||n&&typeof n!="function")throw new TypeError(Yq);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return t.cache=o.set(i,s),s};return t.cache=new(dB.Cache||m1),t}dB.Cache=m1;function RV(e,n){return e===n||e!==e&&n!==n}var kU=Array.isArray;function LV(e){var n=IU(e)?OU.call(e):"";return n==qq||n==Vq}function IU(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function zV(e){return!!e&&typeof e=="object"}function hB(e){return typeof e=="symbol"||zV(e)&&OU.call(e)==Hq}function jV(e){return e==null?"":kV(e)}function WV(e,n,t){var r=e==null?void 0:OV(e,n);return r===void 0?t:r}var NV=WV;const GV=ma(NV);var e3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e3.exports;(function(e,n){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",g=500,b="__lodash_placeholder__",B=1,k=2,P=4,R=1,Z=2,W=1,Q=2,q=4,oe=8,re=16,ce=32,se=64,le=128,ye=256,De=512,Ne=30,et="...",ft=800,Ke=16,rt=1,Ce=2,Rt=3,jt=1/0,tn=9007199254740991,Qt=17976931348623157e292,He=NaN,Je=4294967295,tt=Je-1,rn=Je>>>1,mt=[["ary",le],["bind",W],["bindKey",Q],["curry",oe],["curryRight",re],["flip",De],["partial",ce],["partialRight",se],["rearg",ye]],dt="[object Arguments]",kt="[object Array]",Pt="[object AsyncFunction]",Me="[object Boolean]",he="[object Date]",be="[object DOMException]",Pe="[object Error]",Ze="[object Function]",nt="[object GeneratorFunction]",xt="[object Map]",Ft="[object Number]",Dt="[object Null]",pt="[object Object]",nr="[object Promise]",pn="[object Proxy]",bn="[object RegExp]",Jn="[object Set]",mr="[object String]",xr="[object Symbol]",Nr="[object Undefined]",Cr="[object WeakMap]",fi="[object WeakSet]",we="[object ArrayBuffer]",H="[object DataView]",Y="[object Float32Array]",Be="[object Float64Array]",st="[object Int8Array]",St="[object Int16Array]",Et="[object Int32Array]",Nt="[object Uint8Array]",mn="[object Uint8ClampedArray]",Kn="[object Uint16Array]",En="[object Uint32Array]",m=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,Ur=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wn=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,de=RegExp(Wn.source),ve=RegExp(Te.source),Se=/<%-([\s\S]+?)%>/g,Re=/<%([\s\S]+?)%>/g,Xe=/<%=([\s\S]+?)%>/g,at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ht=/^\w*$/,Ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_t=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(_t.source),Ht=/^\s+/,qt=/\s/,Vn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,On=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tr=/[()=,{}\[\]\/\s]/,Rr=/\\(\\)?/g,Dr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ei=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,li=/^0b[01]+$/i,ki=/^\[object .+?Constructor\]$/,Xi=/^0o[0-7]+$/i,xo=/^(?:0|[1-9]\d*)$/,pi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ka="\\ud800-\\udfff",Ci="\\u0300-\\u036f",Ms="\\ufe20-\\ufe2f",Si="\\u20d0-\\u20ff",Qn=Ci+Ms+Si,so="\\u2700-\\u27bf",Go="a-z\\xdf-\\xf6\\xf8-\\xff",Ji="\\xac\\xb1\\xd7\\xf7",ge="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$e="\\u2000-\\u206f",Xt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\ufe0e\\ufe0f",Mn=Ji+ge+$e+Xt,cr="[']",Ii="["+ka+"]",ii="["+Mn+"]",ya="["+Qn+"]",$a="\\d+",Br="["+so+"]",mi="["+Go+"]",rl="[^"+ka+Mn+$a+so+Go+sn+"]",Ya="\\ud83c[\\udffb-\\udfff]",ba="(?:"+ya+"|"+Ya+")",Ou="[^"+ka+"]",Ws="(?:\\ud83c[\\udde6-\\uddff]){2}",qa="[\\ud800-\\udbff][\\udc00-\\udfff]",Va="["+sn+"]",Ns="\\u200d",_A="(?:"+mi+"|"+rl+")",fl="(?:"+Va+"|"+rl+")",tc="(?:"+cr+"(?:d|ll|m|re|s|t|ve))?",bA="(?:"+cr+"(?:D|LL|M|RE|S|T|VE))?",xA=ba+"?",Ju="["+Kt+"]?",nc="(?:"+Ns+"(?:"+[Ou,Ws,qa].join("|")+")"+Ju+xA+")*",Ha="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ss="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wA=Ju+xA+nc,pl="(?:"+[Br,Ws,qa].join("|")+")"+wA,kl="(?:"+[Ou+ya+"?",ya,Ws,qa,Ii].join("|")+")",Ho=RegExp(cr,"g"),eA=RegExp(ya,"g"),lu=RegExp(Ya+"(?="+Ya+")|"+kl+wA,"g"),uu=RegExp([Va+"?"+mi+"+"+tc+"(?="+[ii,Va,"$"].join("|")+")",fl+"+"+bA+"(?="+[ii,Va+_A,"$"].join("|")+")",Va+"?"+_A+"+"+tc,Va+"+"+bA,Ss,Ha,$a,pl].join("|"),"g"),Bu=RegExp("["+Ns+ka+Qn+Kt+"]"),As=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rc=-1,mo={};mo[Y]=mo[Be]=mo[st]=mo[St]=mo[Et]=mo[Nt]=mo[mn]=mo[Kn]=mo[En]=!0,mo[dt]=mo[kt]=mo[we]=mo[Me]=mo[H]=mo[he]=mo[Pe]=mo[Ze]=mo[xt]=mo[Ft]=mo[pt]=mo[bn]=mo[Jn]=mo[mr]=mo[Cr]=!1;var Ao={};Ao[dt]=Ao[kt]=Ao[we]=Ao[H]=Ao[Me]=Ao[he]=Ao[Y]=Ao[Be]=Ao[st]=Ao[St]=Ao[Et]=Ao[xt]=Ao[Ft]=Ao[pt]=Ao[bn]=Ao[Jn]=Ao[mr]=Ao[xr]=Ao[Nt]=Ao[mn]=Ao[Kn]=Ao[En]=!0,Ao[Pe]=Ao[Ze]=Ao[Cr]=!1;var ne={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},At={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wr=parseFloat,Tn=parseInt,_i=typeof window=="object"&&window&&window.Object===Object&&window,Ti=typeof self=="object"&&self&&self.Object===Object&&self,Yr=_i||Ti||Function("return this")(),Gi=n&&!n.nodeType&&n,Fo=Gi&&!0&&e&&!e.nodeType&&e,xa=Fo&&Fo.exports===Gi,jo=xa&&_i.process,Ki=function(){try{var bt=Fo&&Fo.require&&Fo.require("util").types;return bt||jo&&jo.binding&&jo.binding("util")}catch{}}(),oa=Ki&&Ki.isArrayBuffer,Ia=Ki&&Ki.isDate,Ta=Ki&&Ki.isMap,Gl=Ki&&Ki.isRegExp,ku=Ki&&Ki.isSet,ic=Ki&&Ki.isTypedArray;function cs(bt,on,Lt){switch(Lt.length){case 0:return bt.call(on);case 1:return bt.call(on,Lt[0]);case 2:return bt.call(on,Lt[0],Lt[1]);case 3:return bt.call(on,Lt[0],Lt[1],Lt[2])}return bt.apply(on,Lt)}function $m(bt,on,Lt,dr){for(var ti=-1,eo=bt==null?0:bt.length;++ti<eo;){var Xo=bt[ti];on(dr,Xo,Lt(Xo),bt)}return dr}function Ql(bt,on){for(var Lt=-1,dr=bt==null?0:bt.length;++Lt<dr&&on(bt[Lt],Lt,bt)!==!1;);return bt}function dh(bt,on){for(var Lt=bt==null?0:bt.length;Lt--&&on(bt[Lt],Lt,bt)!==!1;);return bt}function Rc(bt,on){for(var Lt=-1,dr=bt==null?0:bt.length;++Lt<dr;)if(!on(bt[Lt],Lt,bt))return!1;return!0}function Iu(bt,on){for(var Lt=-1,dr=bt==null?0:bt.length,ti=0,eo=[];++Lt<dr;){var Xo=bt[Lt];on(Xo,Lt,bt)&&(eo[ti++]=Xo)}return eo}function Lc(bt,on){var Lt=bt==null?0:bt.length;return!!Lt&&Do(bt,on,0)>-1}function MA(bt,on,Lt){for(var dr=-1,ti=bt==null?0:bt.length;++dr<ti;)if(Lt(on,bt[dr]))return!0;return!1}function Qo(bt,on){for(var Lt=-1,dr=bt==null?0:bt.length,ti=Array(dr);++Lt<dr;)ti[Lt]=on(bt[Lt],Lt,bt);return ti}function Tu(bt,on){for(var Lt=-1,dr=on.length,ti=bt.length;++Lt<dr;)bt[ti+Lt]=on[Lt];return bt}function wd(bt,on,Lt,dr){var ti=-1,eo=bt==null?0:bt.length;for(dr&&eo&&(Lt=bt[++ti]);++ti<eo;)Lt=on(Lt,bt[ti],ti,bt);return Lt}function SA(bt,on,Lt,dr){var ti=bt==null?0:bt.length;for(dr&&ti&&(Lt=bt[--ti]);ti--;)Lt=on(Lt,bt[ti],ti,bt);return Lt}function oc(bt,on){for(var Lt=-1,dr=bt==null?0:bt.length;++Lt<dr;)if(on(bt[Lt],Lt,bt))return!0;return!1}var cu=aa("length");function zc(bt){return bt.split("")}function Bp(bt){return bt.match(or)||[]}function hh(bt,on,Lt){var dr;return Lt(bt,function(ti,eo,Xo){if(on(ti,eo,Xo))return dr=eo,!1}),dr}function hi(bt,on,Lt,dr){for(var ti=bt.length,eo=Lt+(dr?1:-1);dr?eo--:++eo<ti;)if(on(bt[eo],eo,bt))return eo;return-1}function Do(bt,on,Lt){return on===on?tA(bt,on,Lt):hi(bt,fh,Lt)}function Ym(bt,on,Lt,dr){for(var ti=Lt-1,eo=bt.length;++ti<eo;)if(dr(bt[ti],on))return ti;return-1}function fh(bt){return bt!==bt}function Ku(bt,on){var Lt=bt==null?0:bt.length;return Lt?wo(bt,on)/Lt:He}function aa(bt){return function(on){return on==null?t:on[bt]}}function ph(bt){return function(on){return bt==null?t:bt[on]}}function Pi(bt,on,Lt,dr,ti){return ti(bt,function(eo,Xo,co){Lt=dr?(dr=!1,eo):on(Lt,eo,Xo,co)}),Lt}function Md(bt,on){var Lt=bt.length;for(bt.sort(on);Lt--;)bt[Lt]=bt[Lt].value;return bt}function wo(bt,on){for(var Lt,dr=-1,ti=bt.length;++dr<ti;){var eo=on(bt[dr]);eo!==t&&(Lt=Lt===t?eo:Lt+eo)}return Lt}function go(bt,on){for(var Lt=-1,dr=Array(bt);++Lt<bt;)dr[Lt]=on(Lt);return dr}function ac(bt,on){return Qo(on,function(Lt){return[Lt,bt[Lt]]})}function jc(bt){return bt&&bt.slice(0,yh(bt)+1).replace(Ht,"")}function Gs(bt){return function(on){return bt(on)}}function mh(bt,on){return Qo(on,function(Lt){return bt[Lt]})}function $l(bt,on){return bt.has(on)}function Il(bt,on){for(var Lt=-1,dr=bt.length;++Lt<dr&&Do(on,bt[Lt],0)>-1;);return Lt}function EA(bt,on){for(var Lt=bt.length;Lt--&&Do(on,bt[Lt],0)>-1;);return Lt}function gh(bt,on){for(var Lt=bt.length,dr=0;Lt--;)bt[Lt]===on&&++dr;return dr}var Sd=ph(ne),du=ph(Ie);function Pu(bt){return"\\"+Yt[bt]}function Wc(bt,on){return bt==null?t:bt[on]}function OA(bt){return Bu.test(bt)}function Of(bt){return As.test(bt)}function kp(bt){for(var on,Lt=[];!(on=bt.next()).done;)Lt.push(on.value);return Lt}function sc(bt){var on=-1,Lt=Array(bt.size);return bt.forEach(function(dr,ti){Lt[++on]=[ti,dr]}),Lt}function Nc(bt,on){return function(Lt){return bt(on(Lt))}}function Tl(bt,on){for(var Lt=-1,dr=bt.length,ti=0,eo=[];++Lt<dr;){var Xo=bt[Lt];(Xo===on||Xo===b)&&(bt[Lt]=b,eo[ti++]=Lt)}return eo}function ml(bt){var on=-1,Lt=Array(bt.size);return bt.forEach(function(dr){Lt[++on]=dr}),Lt}function Zo(bt){var on=-1,Lt=Array(bt.size);return bt.forEach(function(dr){Lt[++on]=[dr,dr]}),Lt}function tA(bt,on,Lt){for(var dr=Lt-1,ti=bt.length;++dr<ti;)if(bt[dr]===on)return dr;return-1}function il(bt,on,Lt){for(var dr=Lt+1;dr--;)if(bt[dr]===on)return dr;return dr}function BA(bt){return OA(bt)?Yl(bt):cu(bt)}function gl(bt){return OA(bt)?lc(bt):zc(bt)}function yh(bt){for(var on=bt.length;on--&&qt.test(bt.charAt(on)););return on}var nA=ph(At);function Yl(bt){for(var on=lu.lastIndex=0;lu.test(bt);)++on;return on}function lc(bt){return bt.match(lu)||[]}function Ed(bt){return bt.match(uu)||[]}var Od=function bt(on){on=on==null?Yr:hu.defaults(Yr.Object(),on,hu.pick(Yr,Au));var Lt=on.Array,dr=on.Date,ti=on.Error,eo=on.Function,Xo=on.Math,co=on.Object,ds=on.RegExp,Gc=on.String,hs=on.TypeError,Bd=Lt.prototype,Es=eo.prototype,Jo=co.prototype,fu=on["__core-js_shared__"],Os=Es.toString,Vi=Jo.hasOwnProperty,vh=0,Ch=function(){var v=/[^.]+$/.exec(fu&&fu.keys&&fu.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),yl=Jo.toString,kA=Os.call(co),wa=Yr._,Qs=ds("^"+Os.call(Vi).replace(_t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=xa?on.Buffer:t,Kl=on.Symbol,rA=on.Uint8Array,uc=zn?zn.allocUnsafe:t,pu=Nc(co.getPrototypeOf,co),Nn=co.create,Ac=Jo.propertyIsEnumerable,IA=Bd.splice,Bf=Kl?Kl.isConcatSpreadable:t,Fu=Kl?Kl.iterator:t,mu=Kl?Kl.toStringTag:t,TA=function(){try{var v=rd(co,"defineProperty");return v({},"",{}),v}catch{}}(),kf=on.clearTimeout!==Yr.clearTimeout&&on.clearTimeout,cc=dr&&dr.now!==Yr.Date.now&&dr.now,Du=on.setTimeout!==Yr.setTimeout&&on.setTimeout,yo=Xo.ceil,gu=Xo.floor,Qc=co.getOwnPropertySymbols,Ip=zn?zn.isBuffer:t,If=on.isFinite,kd=Bd.join,_h=Nc(co.keys,co),to=Xo.max,ea=Xo.min,gr=dr.now,Er=on.parseInt,KA=Xo.random,dc=Bd.reverse,$c=rd(on,"DataView"),$o=rd(on,"Map"),iA=rd(on,"Promise"),va=rd(on,"Set"),oA=rd(on,"WeakMap"),vl=rd(co,"create"),Uo=oA&&new oA,Ro={},Tf=Xa($c),Uu=Xa($o),Ru=Xa(iA),aA=Xa(va),Kf=Xa(oA),Yc=Kl?Kl.prototype:t,Lu=Yc?Yc.valueOf:t,bh=Yc?Yc.toString:t;function ke(v){if(fn(v)&&!ee(v)&&!(v instanceof jr)){if(v instanceof no)return v;if(Vi.call(v,"__wrapped__"))return bl(v)}return new no(v)}var Cl=function(){function v(){}return function(S){if(!_n(S))return{};if(Nn)return Nn(S);v.prototype=S;var F=new v;return v.prototype=t,F}}();function Ka(){}function no(v,S){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=t}ke.templateSettings={escape:Se,evaluate:Re,interpolate:Xe,variable:"",imports:{_:ke}},ke.prototype=Ka.prototype,ke.prototype.constructor=ke,no.prototype=Cl(Ka.prototype),no.prototype.constructor=no;function jr(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Je,this.__views__=[]}function sa(){var v=new jr(this.__wrapped__);return v.__actions__=qs(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=qs(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=qs(this.__views__),v}function hc(){if(this.__filtered__){var v=new jr(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function fc(){var v=this.__wrapped__.value(),S=this.__dir__,F=ee(v),X=S<0,_e=F?v.length:0,Ue=rv(0,_e,this.__views__),ot=Ue.start,yt=Ue.end,Bt=yt-ot,gn=X?yt:ot-1,yn=this.__iteratees__,kn=yn.length,hr=0,Wr=ea(Bt,this.__takeCount__);if(!F||!X&&_e==Bt&&Wr==Bt)return kh(v,this.__actions__);var ui=[];e:for(;Bt--&&hr<Wr;){gn+=S;for(var ro=-1,Ai=v[gn];++ro<kn;){var po=yn[ro],So=po.iteratee,xc=po.type,hA=So(Ai);if(xc==Ce)Ai=hA;else if(!hA){if(xc==rt)continue e;break e}}ui[hr++]=Ai}return ui}jr.prototype=Cl(Ka.prototype),jr.prototype.constructor=jr;function $s(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function Pf(){this.__data__=vl?vl(null):{},this.size=0}function Id(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}function pc(v){var S=this.__data__;if(vl){var F=S[v];return F===p?t:F}return Vi.call(S,v)?S[v]:t}function Td(v){var S=this.__data__;return vl?S[v]!==t:Vi.call(S,v)}function xh(v,S){var F=this.__data__;return this.size+=this.has(v)?0:1,F[v]=vl&&S===t?p:S,this}$s.prototype.clear=Pf,$s.prototype.delete=Id,$s.prototype.get=pc,$s.prototype.has=Td,$s.prototype.set=xh;function _l(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function Ff(){this.__data__=[],this.size=0}function O(v){var S=this.__data__,F=ln(S,v);if(F<0)return!1;var X=S.length-1;return F==X?S.pop():IA.call(S,F,1),--this.size,!0}function u(v){var S=this.__data__,F=ln(S,v);return F<0?t:S[F][1]}function f(v){return ln(this.__data__,v)>-1}function C(v,S){var F=this.__data__,X=ln(F,v);return X<0?(++this.size,F.push([v,S])):F[X][1]=S,this}_l.prototype.clear=Ff,_l.prototype.delete=O,_l.prototype.get=u,_l.prototype.has=f,_l.prototype.set=C;function M(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var X=v[S];this.set(X[0],X[1])}}function I(){this.size=0,this.__data__={hash:new $s,map:new($o||_l),string:new $s}}function L(v){var S=zh(this,v).delete(v);return this.size-=S?1:0,S}function j(v){return zh(this,v).get(v)}function G(v){return zh(this,v).has(v)}function te(v,S){var F=zh(this,v),X=F.size;return F.set(v,S),this.size+=F.size==X?0:1,this}M.prototype.clear=I,M.prototype.delete=L,M.prototype.get=j,M.prototype.has=G,M.prototype.set=te;function ue(v){var S=-1,F=v==null?0:v.length;for(this.__data__=new M;++S<F;)this.add(v[S])}function fe(v){return this.__data__.set(v,p),this}function Ee(v){return this.__data__.has(v)}ue.prototype.add=ue.prototype.push=fe,ue.prototype.has=Ee;function ze(v){var S=this.__data__=new _l(v);this.size=S.size}function Fe(){this.__data__=new _l,this.size=0}function Ge(v){var S=this.__data__,F=S.delete(v);return this.size=S.size,F}function je(v){return this.__data__.get(v)}function ct(v){return this.__data__.has(v)}function Ot(v,S){var F=this.__data__;if(F instanceof _l){var X=F.__data__;if(!$o||X.length<i-1)return X.push([v,S]),this.size=++F.size,this;F=this.__data__=new M(X)}return F.set(v,S),this.size=F.size,this}ze.prototype.clear=Fe,ze.prototype.delete=Ge,ze.prototype.get=je,ze.prototype.has=ct,ze.prototype.set=Ot;function Ye(v,S){var F=ee(v),X=!F&&V(v),_e=!F&&!X&&Le(v),Ue=!F&&!X&&!_e&&Ds(v),ot=F||X||_e||Ue,yt=ot?go(v.length,Gc):[],Bt=yt.length;for(var gn in v)(S||Vi.call(v,gn))&&!(ot&&(gn=="length"||_e&&(gn=="offset"||gn=="parent")||Ue&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||x(gn,Bt)))&&yt.push(gn);return yt}function Ct(v){var S=v.length;return S?v[Kp(0,S-1)]:t}function Gt(v,S){return Da(qs(v),Zn(S,0,v.length))}function It(v){return Da(qs(v))}function Jt(v,S,F){(F!==t&&!K(v[S],F)||F===t&&!(S in v))&&In(v,S,F)}function An(v,S,F){var X=v[S];(!(Vi.call(v,S)&&K(X,F))||F===t&&!(S in v))&&In(v,S,F)}function ln(v,S){for(var F=v.length;F--;)if(K(v[F][0],S))return F;return-1}function vn(v,S,F,X){return Fi(v,function(_e,Ue,ot){S(X,_e,F(_e),ot)}),X}function er(v,S){return v&&Wu(S,Sl(S),v)}function kr(v,S){return v&&Wu(S,Ra(S),v)}function In(v,S,F){S=="__proto__"&&TA?TA(v,S,{configurable:!0,enumerable:!0,value:F,writable:!0}):v[S]=F}function _r(v,S){for(var F=-1,X=S.length,_e=Lt(X),Ue=v==null;++F<X;)_e[F]=Ue?t:Sv(v,S[F]);return _e}function Zn(v,S,F){return v===v&&(F!==t&&(v=v<=F?v:F),S!==t&&(v=v>=S?v:S)),v}function zi(v,S,F,X,_e,Ue){var ot,yt=S&B,Bt=S&k,gn=S&P;if(F&&(ot=_e?F(v,X,_e,Ue):F(v)),ot!==t)return ot;if(!_n(v))return v;var yn=ee(v);if(yn){if(ot=iv(v),!yt)return qs(v,ot)}else{var kn=Ts(v),hr=kn==Ze||kn==nt;if(Le(v))return e0(v,yt);if(kn==pt||kn==dt||hr&&!_e){if(ot=Bt||hr?{}:o0(v),!yt)return Bt?Wf(v,kr(ot,v)):t0(v,er(ot,v))}else{if(!Ao[kn])return _e?v:{};ot=jh(v,kn,yt)}}Ue||(Ue=new ze);var Wr=Ue.get(v);if(Wr)return Wr;Ue.set(v,ot),ts(v)?v.forEach(function(Ai){ot.add(zi(Ai,S,F,Ai,v,Ue))}):sr(v)&&v.forEach(function(Ai,po){ot.set(po,zi(Ai,S,F,po,v,Ue))});var ui=gn?Bt?Rh:Np:Bt?Ra:Sl,ro=yn?t:ui(v);return Ql(ro||v,function(Ai,po){ro&&(po=Ai,Ai=v[po]),An(ot,po,zi(Ai,S,F,po,v,Ue))}),ot}function bi(v){var S=Sl(v);return function(F){return Hr(F,v,S)}}function Hr(v,S,F){var X=F.length;if(v==null)return!X;for(v=co(v);X--;){var _e=F[X],Ue=S[_e],ot=v[_e];if(ot===t&&!(_e in v)||!Ue(ot))return!1}return!0}function gi(v,S,F){if(typeof v!="function")throw new hs(s);return Or(function(){v.apply(t,F)},S)}function Yo(v,S,F,X){var _e=-1,Ue=Lc,ot=!0,yt=v.length,Bt=[],gn=S.length;if(!yt)return Bt;F&&(S=Qo(S,Gs(F))),X?(Ue=MA,ot=!1):S.length>=i&&(Ue=$l,ot=!1,S=new ue(S));e:for(;++_e<yt;){var yn=v[_e],kn=F==null?yn:F(yn);if(yn=X||yn!==0?yn:0,ot&&kn===kn){for(var hr=gn;hr--;)if(S[hr]===kn)continue e;Bt.push(yn)}else Ue(S,kn,X)||Bt.push(yn)}return Bt}var Fi=Ld(Is),Bs=Ld(yu,!0);function fs(v,S){var F=!0;return Fi(v,function(X,_e,Ue){return F=!!S(X,_e,Ue),F}),F}function Wo(v,S,F){for(var X=-1,_e=v.length;++X<_e;){var Ue=v[X],ot=S(Ue);if(ot!=null&&(yt===t?ot===ot&&!No(ot):F(ot,yt)))var yt=ot,Bt=Ue}return Bt}function ks(v,S,F,X){var _e=v.length;for(F=$r(F),F<0&&(F=-F>_e?0:_e+F),X=X===t||X>_e?_e:$r(X),X<0&&(X+=_e),X=F>X?0:vs(X);F<X;)v[F++]=S;return v}function Ca(v,S){var F=[];return Fi(v,function(X,_e,Ue){S(X,_e,Ue)&&F.push(X)}),F}function vo(v,S,F,X,_e){var Ue=-1,ot=v.length;for(F||(F=h),_e||(_e=[]);++Ue<ot;){var yt=v[Ue];S>0&&F(yt)?S>1?vo(yt,S-1,F,X,_e):Tu(_e,yt):X||(_e[_e.length]=yt)}return _e}var Pl=K1(),PA=K1(!0);function Is(v,S){return v&&Pl(v,S,Sl)}function yu(v,S){return v&&PA(v,S,Sl)}function _a(v,S){return Iu(S,function(F){return Dn(v[F])})}function Bo(v,S){S=ed(S,v);for(var F=0,X=S.length;v!=null&&F<X;)v=v[Sa(S[F++])];return F&&F==X?v:t}function Ei(v,S,F){var X=S(v);return ee(v)?X:Tu(X,F(v))}function ho(v){return v==null?v===t?Nr:Dt:mu&&mu in co(v)?Qf(v):cn(v)}function Mo(v,S){return v>S}function Pa(v,S){return v!=null&&Vi.call(v,S)}function Za(v,S){return v!=null&&S in co(v)}function ta(v,S,F){return v>=ea(S,F)&&v<to(S,F)}function mc(v,S,F){for(var X=F?MA:Lc,_e=v[0].length,Ue=v.length,ot=Ue,yt=Lt(Ue),Bt=1/0,gn=[];ot--;){var yn=v[ot];ot&&S&&(yn=Qo(yn,Gs(S))),Bt=ea(yn.length,Bt),yt[ot]=!F&&(S||_e>=120&&yn.length>=120)?new ue(ot&&yn):t}yn=v[0];var kn=-1,hr=yt[0];e:for(;++kn<_e&&gn.length<Bt;){var Wr=yn[kn],ui=S?S(Wr):Wr;if(Wr=F||Wr!==0?Wr:0,!(hr?$l(hr,ui):X(gn,ui,F))){for(ot=Ue;--ot;){var ro=yt[ot];if(!(ro?$l(ro,ui):X(v[ot],ui,F)))continue e}hr&&hr.push(ui),gn.push(Wr)}}return gn}function la(v,S,F,X){return Is(v,function(_e,Ue,ot){S(X,F(_e),Ue,ot)}),X}function FA(v,S,F){S=ed(S,v),v=Gn(v,S);var X=v==null?v:v[Sa(uA(S))];return X==null?t:cs(X,v,F)}function wh(v){return fn(v)&&ho(v)==dt}function ql(v){return fn(v)&&ho(v)==we}function DA(v){return fn(v)&&ho(v)==he}function Ys(v,S,F,X,_e){return v===S?!0:v==null||S==null||!fn(v)&&!fn(S)?v!==v&&S!==S:Kd(v,S,F,X,Ys,_e)}function Kd(v,S,F,X,_e,Ue){var ot=ee(v),yt=ee(S),Bt=ot?kt:Ts(v),gn=yt?kt:Ts(S);Bt=Bt==dt?pt:Bt,gn=gn==dt?pt:gn;var yn=Bt==pt,kn=gn==pt,hr=Bt==gn;if(hr&&Le(v)){if(!Le(S))return!1;ot=!0,yn=!1}if(hr&&!yn)return Ue||(Ue=new ze),ot||Ds(v)?_u(v,S,F,X,_e,Ue):Wp(v,S,Bt,F,X,_e,Ue);if(!(F&R)){var Wr=yn&&Vi.call(v,"__wrapped__"),ui=kn&&Vi.call(S,"__wrapped__");if(Wr||ui){var ro=Wr?v.value():v,Ai=ui?S.value():S;return Ue||(Ue=new ze),_e(ro,Ai,F,X,Ue)}}return hr?(Ue||(Ue=new ze),i0(v,S,F,X,_e,Ue)):!1}function gc(v){return fn(v)&&Ts(v)==xt}function Mh(v,S,F,X){var _e=F.length,Ue=_e,ot=!X;if(v==null)return!Ue;for(v=co(v);_e--;){var yt=F[_e];if(ot&&yt[2]?yt[1]!==v[yt[0]]:!(yt[0]in v))return!1}for(;++_e<Ue;){yt=F[_e];var Bt=yt[0],gn=v[Bt],yn=yt[1];if(ot&&yt[2]){if(gn===t&&!(Bt in v))return!1}else{var kn=new ze;if(X)var hr=X(gn,yn,Bt,v,S,kn);if(!(hr===t?Ys(yn,gn,R|Z,X,kn):hr))return!1}}return!0}function zu(v){if(!_n(v)||J(v))return!1;var S=Dn(v)?Qs:ki;return S.test(Xa(v))}function Df(v){return fn(v)&&ho(v)==bn}function qc(v){return fn(v)&&Ts(v)==Jn}function E1(v){return fn(v)&&$n(v.length)&&!!mo[ho(v)]}function Vc(v){return typeof v=="function"?v:v==null?GA:typeof v=="object"?ee(v)?Oh(v[0],v[1]):Eh(v):dk(v)}function Hc(v){if(!pe(v))return _h(v);var S=[];for(var F in co(v))Vi.call(v,F)&&F!="constructor"&&S.push(F);return S}function Sh(v){if(!_n(v))return Ut(v);var S=pe(v),F=[];for(var X in v)X=="constructor"&&(S||!Vi.call(v,X))||F.push(X);return F}function ju(v,S){return v<S}function qm(v,S){var F=-1,X=me(v)?Lt(v.length):[];return Fi(v,function(_e,Ue,ot){X[++F]=S(_e,Ue,ot)}),X}function Eh(v){var S=Co(v);return S.length==1&&S[0][2]?qe(S[0][0],S[0][1]):function(F){return F===v||Mh(F,v,S)}}function Oh(v,S){return E(v)&&We(S)?qe(Sa(v),S):function(F){var X=Sv(F,v);return X===t&&X===S?Ev(F,v):Ys(S,X,R|Z)}}function Vl(v,S,F,X,_e){v!==S&&Pl(S,function(Ue,ot){if(_e||(_e=new ze),_n(Ue))Pd(v,S,ot,F,Vl,X,_e);else{var yt=X?X(Fn(v,ot),Ue,ot+"",v,S,_e):t;yt===t&&(yt=Ue),Jt(v,ot,yt)}},Ra)}function Pd(v,S,F,X,_e,Ue,ot){var yt=Fn(v,F),Bt=Fn(S,F),gn=ot.get(Bt);if(gn){Jt(v,F,gn);return}var yn=Ue?Ue(yt,Bt,F+"",v,S,ot):t,kn=yn===t;if(kn){var hr=ee(Bt),Wr=!hr&&Le(Bt),ui=!hr&&!Wr&&Ds(Bt);yn=Bt,hr||Wr||ui?ee(yt)?yn=yt:xe(yt)?yn=qs(yt):Wr?(kn=!1,yn=e0(Bt,!0)):ui?(kn=!1,yn=ua(Bt,!0)):yn=[]:Ea(Bt)||V(Bt)?(yn=yt,V(yt)?yn=wl(yt):(!_n(yt)||Dn(yt))&&(yn=o0(Bt))):kn=!1}kn&&(ot.set(Bt,yn),_e(yn,Bt,X,Ue,ot),ot.delete(Bt)),Jt(v,F,yn)}function Fd(v,S){var F=v.length;if(F)return S+=S<0?F:0,x(S,F)?v[S]:t}function O1(v,S,F){S.length?S=Qo(S,function(Ue){return ee(Ue)?function(ot){return Bo(ot,Ue.length===1?Ue[0]:Ue)}:Ue}):S=[GA];var X=-1;S=Qo(S,Gs(Qr()));var _e=qm(v,function(Ue,ot,yt){var Bt=Qo(S,function(gn){return gn(Ue)});return{criteria:Bt,index:++X,value:Ue}});return Md(_e,function(Ue,ot){return T1(Ue,ot,F)})}function ol(v,S){return Dd(v,S,function(F,X){return Ev(v,X)})}function Dd(v,S,F){for(var X=-1,_e=S.length,Ue={};++X<_e;){var ot=S[X],yt=Bo(v,ot);F(yt,ot)&&Bh(Ue,ed(ot,v),yt)}return Ue}function Vm(v){return function(S){return Bo(S,v)}}function Tp(v,S,F,X){var _e=X?Ym:Do,Ue=-1,ot=S.length,yt=v;for(v===S&&(S=qs(S)),F&&(yt=Qo(v,Gs(F)));++Ue<ot;)for(var Bt=0,gn=S[Ue],yn=F?F(gn):gn;(Bt=_e(yt,yn,Bt,X))>-1;)yt!==v&&IA.call(yt,Bt,1),IA.call(v,Bt,1);return v}function ps(v,S){for(var F=v?S.length:0,X=F-1;F--;){var _e=S[F];if(F==X||_e!==Ue){var Ue=_e;x(_e)?IA.call(v,_e,1):Dp(v,_e)}}return v}function Kp(v,S){return v+gu(KA()*(S-v+1))}function Pp(v,S,F,X){for(var _e=-1,Ue=to(yo((S-v)/(F||1)),0),ot=Lt(Ue);Ue--;)ot[X?Ue:++_e]=v,v+=F;return ot}function Hm(v,S){var F="";if(!v||S<1||S>tn)return F;do S%2&&(F+=v),S=gu(S/2),S&&(v+=v);while(S);return F}function ji(v,S){return yr(Bn(v,S,GA),v+"")}function Zm(v){return Ct(rg(v))}function Xm(v,S){var F=rg(v);return Da(F,Zn(S,0,F.length))}function Bh(v,S,F,X){if(!_n(v))return v;S=ed(S,v);for(var _e=-1,Ue=S.length,ot=Ue-1,yt=v;yt!=null&&++_e<Ue;){var Bt=Sa(S[_e]),gn=F;if(Bt==="__proto__"||Bt==="constructor"||Bt==="prototype")return v;if(_e!=ot){var yn=yt[Bt];gn=X?X(yn,Bt,yt):t,gn===t&&(gn=_n(yn)?yn:x(S[_e+1])?[]:{})}An(yt,Bt,gn),yt=yt[Bt]}return v}var Fp=Uo?function(v,S){return Uo.set(v,S),v}:GA,B1=TA?function(v,S){return TA(v,"toString",{configurable:!0,enumerable:!1,value:Sw(S),writable:!0})}:GA;function Jm(v){return Da(rg(v))}function Ma(v,S,F){var X=-1,_e=v.length;S<0&&(S=-S>_e?0:_e+S),F=F>_e?_e:F,F<0&&(F+=_e),_e=S>F?0:F-S>>>0,S>>>=0;for(var Ue=Lt(_e);++X<_e;)Ue[X]=v[X+S];return Ue}function al(v,S){var F;return Fi(v,function(X,_e,Ue){return F=S(X,_e,Ue),!F}),!!F}function Zc(v,S,F){var X=0,_e=v==null?X:v.length;if(typeof S=="number"&&S===S&&_e<=rn){for(;X<_e;){var Ue=X+_e>>>1,ot=v[Ue];ot!==null&&!No(ot)&&(F?ot<=S:ot<S)?X=Ue+1:_e=Ue}return _e}return Ud(v,S,GA,F)}function Ud(v,S,F,X){var _e=0,Ue=v==null?0:v.length;if(Ue===0)return 0;S=F(S);for(var ot=S!==S,yt=S===null,Bt=No(S),gn=S===t;_e<Ue;){var yn=gu((_e+Ue)/2),kn=F(v[yn]),hr=kn!==t,Wr=kn===null,ui=kn===kn,ro=No(kn);if(ot)var Ai=X||ui;else gn?Ai=ui&&(X||hr):yt?Ai=ui&&hr&&(X||!Wr):Bt?Ai=ui&&hr&&!Wr&&(X||!ro):Wr||ro?Ai=!1:Ai=X?kn<=S:kn<S;Ai?_e=yn+1:Ue=yn}return ea(Ue,tt)}function sA(v,S){for(var F=-1,X=v.length,_e=0,Ue=[];++F<X;){var ot=v[F],yt=S?S(ot):ot;if(!F||!K(yt,Bt)){var Bt=yt;Ue[_e++]=ot===0?0:ot}}return Ue}function k1(v){return typeof v=="number"?v:No(v)?He:+v}function vu(v){if(typeof v=="string")return v;if(ee(v))return Qo(v,vu)+"";if(No(v))return bh?bh.call(v):"";var S=v+"";return S=="0"&&1/v==-jt?"-0":S}function Cu(v,S,F){var X=-1,_e=Lc,Ue=v.length,ot=!0,yt=[],Bt=yt;if(F)ot=!1,_e=MA;else if(Ue>=i){var gn=S?null:F1(v);if(gn)return ml(gn);ot=!1,_e=$l,Bt=new ue}else Bt=S?[]:yt;e:for(;++X<Ue;){var yn=v[X],kn=S?S(yn):yn;if(yn=F||yn!==0?yn:0,ot&&kn===kn){for(var hr=Bt.length;hr--;)if(Bt[hr]===kn)continue e;S&&Bt.push(kn),yt.push(yn)}else _e(Bt,kn,F)||(Bt!==yt&&Bt.push(kn),yt.push(yn))}return yt}function Dp(v,S){return S=ed(S,v),v=Gn(v,S),v==null||delete v[Sa(uA(S))]}function Uf(v,S,F,X){return Bh(v,S,F(Bo(v,S)),X)}function Xc(v,S,F,X){for(var _e=v.length,Ue=X?_e:-1;(X?Ue--:++Ue<_e)&&S(v[Ue],Ue,v););return F?Ma(v,X?0:Ue,X?Ue+1:_e):Ma(v,X?Ue+1:0,X?_e:Ue)}function kh(v,S){var F=v;return F instanceof jr&&(F=F.value()),wd(S,function(X,_e){return _e.func.apply(_e.thisArg,Tu([X],_e.args))},F)}function Hl(v,S,F){var X=v.length;if(X<2)return X?Cu(v[0]):[];for(var _e=-1,Ue=Lt(X);++_e<X;)for(var ot=v[_e],yt=-1;++yt<X;)yt!=_e&&(Ue[_e]=Yo(Ue[_e]||ot,v[yt],S,F));return Cu(vo(Ue,1),S,F)}function Jc(v,S,F){for(var X=-1,_e=v.length,Ue=S.length,ot={};++X<_e;){var yt=X<Ue?S[X]:t;F(ot,v[X],yt)}return ot}function Rf(v){return xe(v)?v:[]}function Lf(v){return typeof v=="function"?v:GA}function ed(v,S){return ee(v)?v:E(v,S)?[v]:Aa(ai(v))}var zf=ji;function yc(v,S,F){var X=v.length;return F=F===t?X:F,!S&&F>=X?v:Ma(v,S,F)}var I1=kf||function(v){return Yr.clearTimeout(v)};function e0(v,S){if(S)return v.slice();var F=v.length,X=uc?uc(F):new v.constructor(F);return v.copy(X),X}function td(v){var S=new v.constructor(v.byteLength);return new rA(S).set(new rA(v)),S}function tv(v,S){var F=S?td(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.byteLength)}function Ih(v){var S=new v.constructor(v.source,ei.exec(v));return S.lastIndex=v.lastIndex,S}function jf(v){return Lu?co(Lu.call(v)):{}}function ua(v,S){var F=S?td(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.length)}function Th(v,S){if(v!==S){var F=v!==t,X=v===null,_e=v===v,Ue=No(v),ot=S!==t,yt=S===null,Bt=S===S,gn=No(S);if(!yt&&!gn&&!Ue&&v>S||Ue&&ot&&Bt&&!yt&&!gn||X&&ot&&Bt||!F&&Bt||!_e)return 1;if(!X&&!Ue&&!gn&&v<S||gn&&F&&_e&&!X&&!Ue||yt&&F&&_e||!ot&&_e||!Bt)return-1}return 0}function T1(v,S,F){for(var X=-1,_e=v.criteria,Ue=S.criteria,ot=_e.length,yt=F.length;++X<ot;){var Bt=Th(_e[X],Ue[X]);if(Bt){if(X>=yt)return Bt;var gn=F[X];return Bt*(gn=="desc"?-1:1)}}return v.index-S.index}function Rd(v,S,F,X){for(var _e=-1,Ue=v.length,ot=F.length,yt=-1,Bt=S.length,gn=to(Ue-ot,0),yn=Lt(Bt+gn),kn=!X;++yt<Bt;)yn[yt]=S[yt];for(;++_e<ot;)(kn||_e<Ue)&&(yn[F[_e]]=v[_e]);for(;gn--;)yn[yt++]=v[_e++];return yn}function Kh(v,S,F,X){for(var _e=-1,Ue=v.length,ot=-1,yt=F.length,Bt=-1,gn=S.length,yn=to(Ue-yt,0),kn=Lt(yn+gn),hr=!X;++_e<yn;)kn[_e]=v[_e];for(var Wr=_e;++Bt<gn;)kn[Wr+Bt]=S[Bt];for(;++ot<yt;)(hr||_e<Ue)&&(kn[Wr+F[ot]]=v[_e++]);return kn}function qs(v,S){var F=-1,X=v.length;for(S||(S=Lt(X));++F<X;)S[F]=v[F];return S}function Wu(v,S,F,X){var _e=!F;F||(F={});for(var Ue=-1,ot=S.length;++Ue<ot;){var yt=S[Ue],Bt=X?X(F[yt],v[yt],yt,F,v):t;Bt===t&&(Bt=v[yt]),_e?In(F,yt,Bt):An(F,yt,Bt)}return F}function t0(v,S){return Wu(v,Cc(v),S)}function Wf(v,S){return Wu(v,U1(v),S)}function nd(v,S){return function(F,X){var _e=ee(F)?$m:vn,Ue=S?S():{};return _e(F,v,Qr(X,2),Ue)}}function Nu(v){return ji(function(S,F){var X=-1,_e=F.length,Ue=_e>1?F[_e-1]:t,ot=_e>2?F[2]:t;for(Ue=v.length>3&&typeof Ue=="function"?(_e--,Ue):t,ot&&_(F[0],F[1],ot)&&(Ue=_e<3?t:Ue,_e=1),S=co(S);++X<_e;){var yt=F[X];yt&&v(S,yt,X,Ue)}return S})}function Ld(v,S){return function(F,X){if(F==null)return F;if(!me(F))return v(F,X);for(var _e=F.length,Ue=S?_e:-1,ot=co(F);(S?Ue--:++Ue<_e)&&X(ot[Ue],Ue,ot)!==!1;);return F}}function K1(v){return function(S,F,X){for(var _e=-1,Ue=co(S),ot=X(S),yt=ot.length;yt--;){var Bt=ot[v?yt:++_e];if(F(Ue[Bt],Bt,Ue)===!1)break}return S}}function n0(v,S,F){var X=S&W,_e=zd(v);function Ue(){var ot=this&&this!==Yr&&this instanceof Ue?_e:v;return ot.apply(X?F:this,arguments)}return Ue}function Ph(v){return function(S){S=ai(S);var F=OA(S)?gl(S):t,X=F?F[0]:S.charAt(0),_e=F?yc(F,1).join(""):S.slice(1);return X[v]()+_e}}function Fh(v){return function(S){return wd(Ak(uk(S).replace(Ho,"")),v,"")}}function zd(v){return function(){var S=arguments;switch(S.length){case 0:return new v;case 1:return new v(S[0]);case 2:return new v(S[0],S[1]);case 3:return new v(S[0],S[1],S[2]);case 4:return new v(S[0],S[1],S[2],S[3]);case 5:return new v(S[0],S[1],S[2],S[3],S[4]);case 6:return new v(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new v(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var F=Cl(v.prototype),X=v.apply(F,S);return _n(X)?X:F}}function nv(v,S,F){var X=zd(v);function _e(){for(var Ue=arguments.length,ot=Lt(Ue),yt=Ue,Bt=Lh(_e);yt--;)ot[yt]=arguments[yt];var gn=Ue<3&&ot[0]!==Bt&&ot[Ue-1]!==Bt?[]:Tl(ot,Bt);if(Ue-=gn.length,Ue<F)return Gu(v,S,Dh,_e.placeholder,t,ot,gn,t,t,F-Ue);var yn=this&&this!==Yr&&this instanceof _e?X:v;return cs(yn,this,ot)}return _e}function Nf(v){return function(S,F,X){var _e=co(S);if(!me(S)){var Ue=Qr(F,3);S=Sl(S),F=function(yt){return Ue(_e[yt],yt,_e)}}var ot=v(S,F,X);return ot>-1?_e[Ue?S[ot]:ot]:t}}function Up(v){return UA(function(S){var F=S.length,X=F,_e=no.prototype.thru;for(v&&S.reverse();X--;){var Ue=S[X];if(typeof Ue!="function")throw new hs(s);if(_e&&!ot&&Gd(Ue)=="wrapper")var ot=new no([],!0)}for(X=ot?X:F;++X<F;){Ue=S[X];var yt=Gd(Ue),Bt=yt=="wrapper"?vc(Ue):t;Bt&&$(Bt[0])&&Bt[1]==(le|oe|ce|ye)&&!Bt[4].length&&Bt[9]==1?ot=ot[Gd(Bt[0])].apply(ot,Bt[3]):ot=Ue.length==1&&$(Ue)?ot[yt]():ot.thru(Ue)}return function(){var gn=arguments,yn=gn[0];if(ot&&gn.length==1&&ee(yn))return ot.plant(yn).value();for(var kn=0,hr=F?S[kn].apply(this,gn):yn;++kn<F;)hr=S[kn].call(this,hr);return hr}})}function Dh(v,S,F,X,_e,Ue,ot,yt,Bt,gn){var yn=S&le,kn=S&W,hr=S&Q,Wr=S&(oe|re),ui=S&De,ro=hr?t:zd(v);function Ai(){for(var po=arguments.length,So=Lt(po),xc=po;xc--;)So[xc]=arguments[xc];if(Wr)var hA=Lh(Ai),wc=gh(So,hA);if(X&&(So=Rd(So,X,_e,Wr)),Ue&&(So=Kh(So,Ue,ot,Wr)),po-=wc,Wr&&po<gn){var sl=Tl(So,hA);return Gu(v,S,Dh,Ai.placeholder,F,So,sl,yt,Bt,gn-po)}var Zd=kn?F:this,qf=hr?Zd[v]:v;return po=So.length,yt?So=Cn(So,yt):ui&&po>1&&So.reverse(),yn&&Bt<po&&(So.length=Bt),this&&this!==Yr&&this instanceof Ai&&(qf=ro||zd(qf)),qf.apply(Zd,So)}return Ai}function Rp(v,S){return function(F,X){return la(F,v,S(X),{})}}function jd(v,S){return function(F,X){var _e;if(F===t&&X===t)return S;if(F!==t&&(_e=F),X!==t){if(_e===t)return X;typeof F=="string"||typeof X=="string"?(F=vu(F),X=vu(X)):(F=k1(F),X=k1(X)),_e=v(F,X)}return _e}}function Lp(v){return UA(function(S){return S=Qo(S,Gs(Qr())),ji(function(F){var X=this;return v(S,function(_e){return cs(_e,X,F)})})})}function zp(v,S){S=S===t?" ":vu(S);var F=S.length;if(F<2)return F?Hm(S,v):S;var X=Hm(S,yo(v/BA(S)));return OA(S)?yc(gl(X),0,v).join(""):X.slice(0,v)}function P1(v,S,F,X){var _e=S&W,Ue=zd(v);function ot(){for(var yt=-1,Bt=arguments.length,gn=-1,yn=X.length,kn=Lt(yn+Bt),hr=this&&this!==Yr&&this instanceof ot?Ue:v;++gn<yn;)kn[gn]=X[gn];for(;Bt--;)kn[gn++]=arguments[++yt];return cs(hr,_e?F:this,kn)}return ot}function Wd(v){return function(S,F,X){return X&&typeof X!="number"&&_(S,F,X)&&(F=X=t),S=ns(S),F===t?(F=S,S=0):F=ns(F),X=X===t?S<F?1:-1:ns(X),Pp(S,F,X,v)}}function Gf(v){return function(S,F){return typeof S=="string"&&typeof F=="string"||(S=Zr(S),F=Zr(F)),v(S,F)}}function Gu(v,S,F,X,_e,Ue,ot,yt,Bt,gn){var yn=S&oe,kn=yn?ot:t,hr=yn?t:ot,Wr=yn?Ue:t,ui=yn?t:Ue;S|=yn?ce:se,S&=~(yn?se:ce),S&q||(S&=~(W|Q));var ro=[v,S,_e,Wr,kn,ui,hr,yt,Bt,gn],Ai=F.apply(t,ro);return $(v)&&ar(Ai,ro),Ai.placeholder=X,oi(Ai,v,S)}function r0(v){var S=Xo[v];return function(F,X){if(F=Zr(F),X=X==null?0:ea($r(X),292),X&&If(F)){var _e=(ai(F)+"e").split("e"),Ue=S(_e[0]+"e"+(+_e[1]+X));return _e=(ai(Ue)+"e").split("e"),+(_e[0]+"e"+(+_e[1]-X))}return S(F)}}var F1=va&&1/ml(new va([,-0]))[1]==jt?function(v){return new va(v)}:Bw;function Nd(v){return function(S){var F=Ts(S);return F==xt?sc(S):F==Jn?Zo(S):ac(S,v(S))}}function fo(v,S,F,X,_e,Ue,ot,yt){var Bt=S&Q;if(!Bt&&typeof v!="function")throw new hs(s);var gn=X?X.length:0;if(gn||(S&=~(ce|se),X=_e=t),ot=ot===t?ot:to($r(ot),0),yt=yt===t?yt:$r(yt),gn-=_e?_e.length:0,S&se){var yn=X,kn=_e;X=_e=t}var hr=Bt?t:vc(v),Wr=[v,S,F,X,_e,yn,kn,Ue,ot,yt];if(hr&&gt(Wr,hr),v=Wr[0],S=Wr[1],F=Wr[2],X=Wr[3],_e=Wr[4],yt=Wr[9]=Wr[9]===t?Bt?0:v.length:to(Wr[9]-gn,0),!yt&&S&(oe|re)&&(S&=~(oe|re)),!S||S==W)var ui=n0(v,S,F);else S==oe||S==re?ui=nv(v,S,yt):(S==ce||S==(W|ce))&&!_e.length?ui=P1(v,S,F,X):ui=Dh.apply(t,Wr);var ro=hr?Fp:ar;return oi(ro(ui,Wr),v,S)}function D1(v,S,F,X){return v===t||K(v,Jo[F])&&!Vi.call(X,F)?S:v}function jp(v,S,F,X,_e,Ue){return _n(v)&&_n(S)&&(Ue.set(S,v),Vl(v,S,t,jp,Ue),Ue.delete(S)),v}function Uh(v){return Ea(v)?t:v}function _u(v,S,F,X,_e,Ue){var ot=F&R,yt=v.length,Bt=S.length;if(yt!=Bt&&!(ot&&Bt>yt))return!1;var gn=Ue.get(v),yn=Ue.get(S);if(gn&&yn)return gn==S&&yn==v;var kn=-1,hr=!0,Wr=F&Z?new ue:t;for(Ue.set(v,S),Ue.set(S,v);++kn<yt;){var ui=v[kn],ro=S[kn];if(X)var Ai=ot?X(ro,ui,kn,S,v,Ue):X(ui,ro,kn,v,S,Ue);if(Ai!==t){if(Ai)continue;hr=!1;break}if(Wr){if(!oc(S,function(po,So){if(!$l(Wr,So)&&(ui===po||_e(ui,po,F,X,Ue)))return Wr.push(So)})){hr=!1;break}}else if(!(ui===ro||_e(ui,ro,F,X,Ue))){hr=!1;break}}return Ue.delete(v),Ue.delete(S),hr}function Wp(v,S,F,X,_e,Ue,ot){switch(F){case H:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case we:return!(v.byteLength!=S.byteLength||!Ue(new rA(v),new rA(S)));case Me:case he:case Ft:return K(+v,+S);case Pe:return v.name==S.name&&v.message==S.message;case bn:case mr:return v==S+"";case xt:var yt=sc;case Jn:var Bt=X&R;if(yt||(yt=ml),v.size!=S.size&&!Bt)return!1;var gn=ot.get(v);if(gn)return gn==S;X|=Z,ot.set(v,S);var yn=_u(yt(v),yt(S),X,_e,Ue,ot);return ot.delete(v),yn;case xr:if(Lu)return Lu.call(v)==Lu.call(S)}return!1}function i0(v,S,F,X,_e,Ue){var ot=F&R,yt=Np(v),Bt=yt.length,gn=Np(S),yn=gn.length;if(Bt!=yn&&!ot)return!1;for(var kn=Bt;kn--;){var hr=yt[kn];if(!(ot?hr in S:Vi.call(S,hr)))return!1}var Wr=Ue.get(v),ui=Ue.get(S);if(Wr&&ui)return Wr==S&&ui==v;var ro=!0;Ue.set(v,S),Ue.set(S,v);for(var Ai=ot;++kn<Bt;){hr=yt[kn];var po=v[hr],So=S[hr];if(X)var xc=ot?X(So,po,hr,S,v,Ue):X(po,So,hr,v,S,Ue);if(!(xc===t?po===So||_e(po,So,F,X,Ue):xc)){ro=!1;break}Ai||(Ai=hr=="constructor")}if(ro&&!Ai){var hA=v.constructor,wc=S.constructor;hA!=wc&&"constructor"in v&&"constructor"in S&&!(typeof hA=="function"&&hA instanceof hA&&typeof wc=="function"&&wc instanceof wc)&&(ro=!1)}return Ue.delete(v),Ue.delete(S),ro}function UA(v){return yr(Bn(v,t,Ua),v+"")}function Np(v){return Ei(v,Sl,Cc)}function Rh(v){return Ei(v,Ra,U1)}var vc=Uo?function(v){return Uo.get(v)}:Bw;function Gd(v){for(var S=v.name+"",F=Ro[S],X=Vi.call(Ro,S)?F.length:0;X--;){var _e=F[X],Ue=_e.func;if(Ue==null||Ue==v)return _e.name}return S}function Lh(v){var S=Vi.call(ke,"placeholder")?ke:v;return S.placeholder}function Qr(){var v=ke.iteratee||Ew;return v=v===Ew?Vc:v,arguments.length?v(arguments[0],arguments[1]):v}function zh(v,S){var F=v.__data__;return U(S)?F[typeof S=="string"?"string":"hash"]:F.map}function Co(v){for(var S=Sl(v),F=S.length;F--;){var X=S[F],_e=v[X];S[F]=[X,_e,We(_e)]}return S}function rd(v,S){var F=Wc(v,S);return zu(F)?F:t}function Qf(v){var S=Vi.call(v,mu),F=v[mu];try{v[mu]=t;var X=!0}catch{}var _e=yl.call(v);return X&&(S?v[mu]=F:delete v[mu]),_e}var Cc=Qc?function(v){return v==null?[]:(v=co(v),Iu(Qc(v),function(S){return Ac.call(v,S)}))}:kw,U1=Qc?function(v){for(var S=[];v;)Tu(S,Cc(v)),v=pu(v);return S}:kw,Ts=ho;($c&&Ts(new $c(new ArrayBuffer(1)))!=H||$o&&Ts(new $o)!=xt||iA&&Ts(iA.resolve())!=nr||va&&Ts(new va)!=Jn||oA&&Ts(new oA)!=Cr)&&(Ts=function(v){var S=ho(v),F=S==pt?v.constructor:t,X=F?Xa(F):"";if(X)switch(X){case Tf:return H;case Uu:return xt;case Ru:return nr;case aA:return Jn;case Kf:return Cr}return S});function rv(v,S,F){for(var X=-1,_e=F.length;++X<_e;){var Ue=F[X],ot=Ue.size;switch(Ue.type){case"drop":v+=ot;break;case"dropRight":S-=ot;break;case"take":S=ea(S,v+ot);break;case"takeRight":v=to(v,S-ot);break}}return{start:v,end:S}}function Fa(v){var S=v.match(On);return S?S[1].split(ir):[]}function R1(v,S,F){S=ed(S,v);for(var X=-1,_e=S.length,Ue=!1;++X<_e;){var ot=Sa(S[X]);if(!(Ue=v!=null&&F(v,ot)))break;v=v[ot]}return Ue||++X!=_e?Ue:(_e=v==null?0:v.length,!!_e&&$n(_e)&&x(ot,_e)&&(ee(v)||V(v)))}function iv(v){var S=v.length,F=new v.constructor(S);return S&&typeof v[0]=="string"&&Vi.call(v,"index")&&(F.index=v.index,F.input=v.input),F}function o0(v){return typeof v.constructor=="function"&&!pe(v)?Cl(pu(v)):{}}function jh(v,S,F){var X=v.constructor;switch(S){case we:return td(v);case Me:case he:return new X(+v);case H:return tv(v,F);case Y:case Be:case st:case St:case Et:case Nt:case mn:case Kn:case En:return ua(v,F);case xt:return new X;case Ft:case mr:return new X(v);case bn:return Ih(v);case Jn:return new X;case xr:return jf(v)}}function A(v,S){var F=S.length;if(!F)return v;var X=F-1;return S[X]=(F>1?"& ":"")+S[X],S=S.join(F>2?", ":" "),v.replace(Vn,`{
/* [wrapped with `+S+`] */
`)}function h(v){return ee(v)||V(v)||!!(Bf&&v&&v[Bf])}function x(v,S){var F=typeof v;return S=S??tn,!!S&&(F=="number"||F!="symbol"&&xo.test(v))&&v>-1&&v%1==0&&v<S}function _(v,S,F){if(!_n(F))return!1;var X=typeof S;return(X=="number"?me(F)&&x(S,F.length):X=="string"&&S in F)?K(F[S],v):!1}function E(v,S){if(ee(v))return!1;var F=typeof v;return F=="number"||F=="symbol"||F=="boolean"||v==null||No(v)?!0:ht.test(v)||!at.test(v)||S!=null&&v in co(S)}function U(v){var S=typeof v;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?v!=="__proto__":v===null}function $(v){var S=Gd(v),F=ke[S];if(typeof F!="function"||!(S in jr.prototype))return!1;if(v===F)return!0;var X=vc(F);return!!X&&v===X[0]}function J(v){return!!Ch&&Ch in v}var ae=fu?Dn:Iw;function pe(v){var S=v&&v.constructor,F=typeof S=="function"&&S.prototype||Jo;return v===F}function We(v){return v===v&&!_n(v)}function qe(v,S){return function(F){return F==null?!1:F[v]===S&&(S!==t||v in co(F))}}function wt(v){var S=Vp(v,function(X){return F.size===g&&F.clear(),X}),F=S.cache;return S}function gt(v,S){var F=v[1],X=S[1],_e=F|X,Ue=_e<(W|Q|le),ot=X==le&&F==oe||X==le&&F==ye&&v[7].length<=S[8]||X==(le|ye)&&S[7].length<=S[8]&&F==oe;if(!(Ue||ot))return v;X&W&&(v[2]=S[2],_e|=F&W?0:q);var yt=S[3];if(yt){var Bt=v[3];v[3]=Bt?Rd(Bt,yt,S[4]):yt,v[4]=Bt?Tl(v[3],b):S[4]}return yt=S[5],yt&&(Bt=v[5],v[5]=Bt?Kh(Bt,yt,S[6]):yt,v[6]=Bt?Tl(v[5],b):S[6]),yt=S[7],yt&&(v[7]=yt),X&le&&(v[8]=v[8]==null?S[8]:ea(v[8],S[8])),v[9]==null&&(v[9]=S[9]),v[0]=S[0],v[1]=_e,v}function Ut(v){var S=[];if(v!=null)for(var F in co(v))S.push(F);return S}function cn(v){return yl.call(v)}function Bn(v,S,F){return S=to(S===t?v.length-1:S,0),function(){for(var X=arguments,_e=-1,Ue=to(X.length-S,0),ot=Lt(Ue);++_e<Ue;)ot[_e]=X[S+_e];_e=-1;for(var yt=Lt(S+1);++_e<S;)yt[_e]=X[_e];return yt[S]=F(ot),cs(v,this,yt)}}function Gn(v,S){return S.length<2?v:Bo(v,Ma(S,0,-1))}function Cn(v,S){for(var F=v.length,X=ea(S.length,F),_e=qs(v);X--;){var Ue=S[X];v[X]=x(Ue,F)?_e[Ue]:t}return v}function Fn(v,S){if(!(S==="constructor"&&typeof v[S]=="function")&&S!="__proto__")return v[S]}var ar=ko(Fp),Or=Du||function(v,S){return Yr.setTimeout(v,S)},yr=ko(B1);function oi(v,S,F){var X=S+"";return yr(v,A(X,Ja(Fa(X),F)))}function ko(v){var S=0,F=0;return function(){var X=gr(),_e=Ke-(X-F);if(F=X,_e>0){if(++S>=ft)return arguments[0]}else S=0;return v.apply(t,arguments)}}function Da(v,S){var F=-1,X=v.length,_e=X-1;for(S=S===t?X:S;++F<S;){var Ue=Kp(F,_e),ot=v[Ue];v[Ue]=v[F],v[F]=ot}return v.length=S,v}var Aa=wt(function(v){var S=[];return v.charCodeAt(0)===46&&S.push(""),v.replace(Ve,function(F,X,_e,Ue){S.push(_e?Ue.replace(Rr,"$1"):X||F)}),S});function Sa(v){if(typeof v=="string"||No(v))return v;var S=v+"";return S=="0"&&1/v==-jt?"-0":S}function Xa(v){if(v!=null){try{return Os.call(v)}catch{}try{return v+""}catch{}}return""}function Ja(v,S){return Ql(mt,function(F){var X="_."+F[0];S&F[1]&&!Lc(v,X)&&v.push(X)}),v.sort()}function bl(v){if(v instanceof jr)return v.clone();var S=new no(v.__wrapped__,v.__chain__);return S.__actions__=qs(v.__actions__),S.__index__=v.__index__,S.__values__=v.__values__,S}function Vs(v,S,F){(F?_(v,S,F):S===t)?S=1:S=to($r(S),0);var X=v==null?0:v.length;if(!X||S<1)return[];for(var _e=0,Ue=0,ot=Lt(yo(X/S));_e<X;)ot[Ue++]=Ma(v,_e,_e+=S);return ot}function ms(v){for(var S=-1,F=v==null?0:v.length,X=0,_e=[];++S<F;){var Ue=v[S];Ue&&(_e[X++]=Ue)}return _e}function es(){var v=arguments.length;if(!v)return[];for(var S=Lt(v-1),F=arguments[0],X=v;X--;)S[X-1]=arguments[X];return Tu(ee(F)?qs(F):[F],vo(S,1))}var na=ji(function(v,S){return xe(v)?Yo(v,vo(S,1,xe,!0)):[]}),gs=ji(function(v,S){var F=uA(S);return xe(F)&&(F=t),xe(v)?Yo(v,vo(S,1,xe,!0),Qr(F,2)):[]}),Qd=ji(function(v,S){var F=uA(S);return xe(F)&&(F=t),xe(v)?Yo(v,vo(S,1,xe,!0),t,F):[]});function RA(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),Ma(v,S<0?0:S,X)):[]}function Ks(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),S=X-S,Ma(v,0,S<0?0:S)):[]}function LA(v,S){return v&&v.length?Xc(v,Qr(S,3),!0,!0):[]}function Ps(v,S){return v&&v.length?Xc(v,Qr(S,3),!0):[]}function a0(v,S,F,X){var _e=v==null?0:v.length;return _e?(F&&typeof F!="number"&&_(v,S,F)&&(F=0,X=_e),ks(v,S,F,X)):[]}function lA(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var _e=F==null?0:$r(F);return _e<0&&(_e=to(X+_e,0)),hi(v,Qr(S,3),_e)}function _c(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var _e=X-1;return F!==t&&(_e=$r(F),_e=F<0?to(X+_e,0):ea(_e,X-1)),hi(v,Qr(S,3),_e,!0)}function Ua(v){var S=v==null?0:v.length;return S?vo(v,1):[]}function Hs(v){var S=v==null?0:v.length;return S?vo(v,jt):[]}function $d(v,S){var F=v==null?0:v.length;return F?(S=S===t?1:$r(S),vo(v,S)):[]}function zA(v){for(var S=-1,F=v==null?0:v.length,X={};++S<F;){var _e=v[S];X[_e[0]]=_e[1]}return X}function Gp(v){return v&&v.length?v[0]:t}function s0(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var _e=F==null?0:$r(F);return _e<0&&(_e=to(X+_e,0)),Do(v,S,_e)}function Qp(v){var S=v==null?0:v.length;return S?Ma(v,0,-1):[]}var L1=ji(function(v){var S=Qo(v,Rf);return S.length&&S[0]===v[0]?mc(S):[]}),z1=ji(function(v){var S=uA(v),F=Qo(v,Rf);return S===uA(F)?S=t:F.pop(),F.length&&F[0]===v[0]?mc(F,Qr(S,2)):[]}),Z5=ji(function(v){var S=uA(v),F=Qo(v,Rf);return S=typeof S=="function"?S:t,S&&F.pop(),F.length&&F[0]===v[0]?mc(F,t,S):[]});function Cb(v,S){return v==null?"":kd.call(v,S)}function uA(v){var S=v==null?0:v.length;return S?v[S-1]:t}function X5(v,S,F){var X=v==null?0:v.length;if(!X)return-1;var _e=X;return F!==t&&(_e=$r(F),_e=_e<0?to(X+_e,0):ea(_e,X-1)),S===S?il(v,S,_e):hi(v,fh,_e,!0)}function _b(v,S){return v&&v.length?Fd(v,$r(S)):t}var bb=ji(j1);function j1(v,S){return v&&v.length&&S&&S.length?Tp(v,S):v}function ov(v,S,F){return v&&v.length&&S&&S.length?Tp(v,S,Qr(F,2)):v}function J5(v,S,F){return v&&v.length&&S&&S.length?Tp(v,S,t,F):v}var ew=UA(function(v,S){var F=v==null?0:v.length,X=_r(v,S);return ps(v,Qo(S,function(_e){return x(_e,F)?+_e:_e}).sort(Th)),X});function xb(v,S){var F=[];if(!(v&&v.length))return F;var X=-1,_e=[],Ue=v.length;for(S=Qr(S,3);++X<Ue;){var ot=v[X];S(ot,X,v)&&(F.push(ot),_e.push(X))}return ps(v,_e),F}function $f(v){return v==null?v:dc.call(v)}function id(v,S,F){var X=v==null?0:v.length;return X?(F&&typeof F!="number"&&_(v,S,F)?(S=0,F=X):(S=S==null?0:$r(S),F=F===t?X:$r(F)),Ma(v,S,F)):[]}function Wh(v,S){return Zc(v,S)}function wb(v,S,F){return Ud(v,S,Qr(F,2))}function av(v,S){var F=v==null?0:v.length;if(F){var X=Zc(v,S);if(X<F&&K(v[X],S))return X}return-1}function tw(v,S){return Zc(v,S,!0)}function nw(v,S,F){return Ud(v,S,Qr(F,2),!0)}function W1(v,S){var F=v==null?0:v.length;if(F){var X=Zc(v,S,!0)-1;if(K(v[X],S))return X}return-1}function sv(v){return v&&v.length?sA(v):[]}function rw(v,S){return v&&v.length?sA(v,Qr(S,2)):[]}function lv(v){var S=v==null?0:v.length;return S?Ma(v,1,S):[]}function uv(v,S,F){return v&&v.length?(S=F||S===t?1:$r(S),Ma(v,0,S<0?0:S)):[]}function $p(v,S,F){var X=v==null?0:v.length;return X?(S=F||S===t?1:$r(S),S=X-S,Ma(v,S<0?0:S,X)):[]}function Mb(v,S){return v&&v.length?Xc(v,Qr(S,3),!1,!0):[]}function Sb(v,S){return v&&v.length?Xc(v,Qr(S,3)):[]}var Av=ji(function(v){return Cu(vo(v,1,xe,!0))}),Eb=ji(function(v){var S=uA(v);return xe(S)&&(S=t),Cu(vo(v,1,xe,!0),Qr(S,2))}),N1=ji(function(v){var S=uA(v);return S=typeof S=="function"?S:t,Cu(vo(v,1,xe,!0),t,S)});function Ob(v){return v&&v.length?Cu(v):[]}function iw(v,S){return v&&v.length?Cu(v,Qr(S,2)):[]}function ow(v,S){return S=typeof S=="function"?S:t,v&&v.length?Cu(v,t,S):[]}function G1(v){if(!(v&&v.length))return[];var S=0;return v=Iu(v,function(F){if(xe(F))return S=to(F.length,S),!0}),go(S,function(F){return Qo(v,aa(F))})}function Bb(v,S){if(!(v&&v.length))return[];var F=G1(v);return S==null?F:Qo(F,function(X){return cs(S,t,X)})}var aw=ji(function(v,S){return xe(v)?Yo(v,S):[]}),sw=ji(function(v){return Hl(Iu(v,xe))}),lw=ji(function(v){var S=uA(v);return xe(S)&&(S=t),Hl(Iu(v,xe),Qr(S,2))}),cv=ji(function(v){var S=uA(v);return S=typeof S=="function"?S:t,Hl(Iu(v,xe),t,S)}),Nh=ji(G1);function kb(v,S){return Jc(v||[],S||[],An)}function Ib(v,S){return Jc(v||[],S||[],Bh)}var Tb=ji(function(v){var S=v.length,F=S>1?v[S-1]:t;return F=typeof F=="function"?(v.pop(),F):t,Bb(v,F)});function dv(v){var S=ke(v);return S.__chain__=!0,S}function Kb(v,S){return S(v),v}function Yp(v,S){return S(v)}var Q1=UA(function(v){var S=v.length,F=S?v[0]:0,X=this.__wrapped__,_e=function(Ue){return _r(Ue,v)};return S>1||this.__actions__.length||!(X instanceof jr)||!x(F)?this.thru(_e):(X=X.slice(F,+F+(S?1:0)),X.__actions__.push({func:Yp,args:[_e],thisArg:t}),new no(X,this.__chain__).thru(function(Ue){return S&&!Ue.length&&Ue.push(t),Ue}))});function Pb(){return dv(this)}function hv(){return new no(this.value(),this.__chain__)}function Fb(){this.__values__===t&&(this.__values__=xl(this.value()));var v=this.__index__>=this.__values__.length,S=v?t:this.__values__[this.__index__++];return{done:v,value:S}}function AA(){return this}function l0(v){for(var S,F=this;F instanceof Ka;){var X=bl(F);X.__index__=0,X.__values__=t,S?_e.__wrapped__=X:S=X;var _e=X;F=F.__wrapped__}return _e.__wrapped__=v,S}function Db(){var v=this.__wrapped__;if(v instanceof jr){var S=v;return this.__actions__.length&&(S=new jr(this)),S=S.reverse(),S.__actions__.push({func:Yp,args:[$f],thisArg:t}),new no(S,this.__chain__)}return this.thru($f)}function Ub(){return kh(this.__wrapped__,this.__actions__)}var Rb=nd(function(v,S,F){Vi.call(v,F)?++v[F]:In(v,F,1)});function Lb(v,S,F){var X=ee(v)?Rc:fs;return F&&_(v,S,F)&&(S=t),X(v,Qr(S,3))}function zb(v,S){var F=ee(v)?Iu:Ca;return F(v,Qr(S,3))}var jb=Nf(lA),uw=Nf(_c);function Wb(v,S){return vo(Yd(v,S),1)}function Gh(v,S){return vo(Yd(v,S),jt)}function Nb(v,S,F){return F=F===t?1:$r(F),vo(Yd(v,S),F)}function fv(v,S){var F=ee(v)?Ql:Fi;return F(v,Qr(S,3))}function pv(v,S){var F=ee(v)?dh:Bs;return F(v,Qr(S,3))}var Gb=nd(function(v,S,F){Vi.call(v,F)?v[F].push(S):In(v,F,[S])});function Aw(v,S,F,X){v=me(v)?v:rg(v),F=F&&!X?$r(F):0;var _e=v.length;return F<0&&(F=to(_e+F,0)),ys(v)?F<=_e&&v.indexOf(S,F)>-1:!!_e&&Do(v,S,F)>-1}var cw=ji(function(v,S,F){var X=-1,_e=typeof S=="function",Ue=me(v)?Lt(v.length):[];return Fi(v,function(ot){Ue[++X]=_e?cs(S,ot,F):FA(ot,S,F)}),Ue}),Qb=nd(function(v,S,F){In(v,F,S)});function Yd(v,S){var F=ee(v)?Qo:qm;return F(v,Qr(S,3))}function $b(v,S,F,X){return v==null?[]:(ee(S)||(S=S==null?[]:[S]),F=X?t:F,ee(F)||(F=F==null?[]:[F]),O1(v,S,F))}var $1=nd(function(v,S,F){v[F?0:1].push(S)},function(){return[[],[]]});function Yb(v,S,F){var X=ee(v)?wd:Pi,_e=arguments.length<3;return X(v,Qr(S,4),F,_e,Fi)}function Y1(v,S,F){var X=ee(v)?SA:Pi,_e=arguments.length<3;return X(v,Qr(S,4),F,_e,Bs)}function q1(v,S){var F=ee(v)?Iu:Ca;return F(v,u0(Qr(S,3)))}function V1(v){var S=ee(v)?Ct:Zm;return S(v)}function dw(v,S,F){(F?_(v,S,F):S===t)?S=1:S=$r(S);var X=ee(v)?Gt:Xm;return X(v,S)}function hw(v){var S=ee(v)?It:Jm;return S(v)}function fw(v){if(v==null)return 0;if(me(v))return ys(v)?BA(v):v.length;var S=Ts(v);return S==xt||S==Jn?v.size:Hc(v).length}function pw(v,S,F){var X=ee(v)?oc:al;return F&&_(v,S,F)&&(S=t),X(v,Qr(S,3))}var qp=ji(function(v,S){if(v==null)return[];var F=S.length;return F>1&&_(v,S[0],S[1])?S=[]:F>2&&_(S[0],S[1],S[2])&&(S=[S[0]]),O1(v,vo(S,1),[])}),Fs=cc||function(){return Yr.Date.now()};function Qh(v,S){if(typeof S!="function")throw new hs(s);return v=$r(v),function(){if(--v<1)return S.apply(this,arguments)}}function H1(v,S,F){return S=F?t:S,S=v&&S==null?v.length:S,fo(v,le,t,t,t,t,S)}function mv(v,S){var F;if(typeof S!="function")throw new hs(s);return v=$r(v),function(){return--v>0&&(F=S.apply(this,arguments)),v<=1&&(S=t),F}}var Z1=ji(function(v,S,F){var X=W;if(F.length){var _e=Tl(F,Lh(Z1));X|=ce}return fo(v,X,S,F,_e)}),X1=ji(function(v,S,F){var X=W|Q;if(F.length){var _e=Tl(F,Lh(X1));X|=ce}return fo(S,X,v,F,_e)});function qb(v,S,F){S=F?t:S;var X=fo(v,oe,t,t,t,t,t,S);return X.placeholder=qb.placeholder,X}function gv(v,S,F){S=F?t:S;var X=fo(v,re,t,t,t,t,t,S);return X.placeholder=gv.placeholder,X}function yv(v,S,F){var X,_e,Ue,ot,yt,Bt,gn=0,yn=!1,kn=!1,hr=!0;if(typeof v!="function")throw new hs(s);S=Zr(S)||0,_n(F)&&(yn=!!F.leading,kn="maxWait"in F,Ue=kn?to(Zr(F.maxWait)||0,S):Ue,hr="trailing"in F?!!F.trailing:hr);function Wr(sl){var Zd=X,qf=_e;return X=_e=t,gn=sl,ot=v.apply(qf,Zd),ot}function ui(sl){return gn=sl,yt=Or(po,S),yn?Wr(sl):ot}function ro(sl){var Zd=sl-Bt,qf=sl-gn,hk=S-Zd;return kn?ea(hk,Ue-qf):hk}function Ai(sl){var Zd=sl-Bt,qf=sl-gn;return Bt===t||Zd>=S||Zd<0||kn&&qf>=Ue}function po(){var sl=Fs();if(Ai(sl))return So(sl);yt=Or(po,ro(sl))}function So(sl){return yt=t,hr&&X?Wr(sl):(X=_e=t,ot)}function xc(){yt!==t&&I1(yt),gn=0,X=Bt=_e=yt=t}function hA(){return yt===t?ot:So(Fs())}function wc(){var sl=Fs(),Zd=Ai(sl);if(X=arguments,_e=this,Bt=sl,Zd){if(yt===t)return ui(Bt);if(kn)return I1(yt),yt=Or(po,S),Wr(Bt)}return yt===t&&(yt=Or(po,S)),ot}return wc.cancel=xc,wc.flush=hA,wc}var mw=ji(function(v,S){return gi(v,1,S)}),Vb=ji(function(v,S,F){return gi(v,Zr(S)||0,F)});function vv(v){return fo(v,De)}function Vp(v,S){if(typeof v!="function"||S!=null&&typeof S!="function")throw new hs(s);var F=function(){var X=arguments,_e=S?S.apply(this,X):X[0],Ue=F.cache;if(Ue.has(_e))return Ue.get(_e);var ot=v.apply(this,X);return F.cache=Ue.set(_e,ot)||Ue,ot};return F.cache=new(Vp.Cache||M),F}Vp.Cache=M;function u0(v){if(typeof v!="function")throw new hs(s);return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}function A0(v){return mv(2,v)}var Cv=zf(function(v,S){S=S.length==1&&ee(S[0])?Qo(S[0],Gs(Qr())):Qo(vo(S,1),Gs(Qr()));var F=S.length;return ji(function(X){for(var _e=-1,Ue=ea(X.length,F);++_e<Ue;)X[_e]=S[_e].call(this,X[_e]);return cs(v,this,X)})}),J1=ji(function(v,S){var F=Tl(S,Lh(J1));return fo(v,ce,t,S,F)}),eg=ji(function(v,S){var F=Tl(S,Lh(eg));return fo(v,se,t,S,F)}),tg=UA(function(v,S){return fo(v,ye,t,t,t,S)});function c0(v,S){if(typeof v!="function")throw new hs(s);return S=S===t?S:$r(S),ji(v,S)}function _v(v,S){if(typeof v!="function")throw new hs(s);return S=S==null?0:to($r(S),0),ji(function(F){var X=F[S],_e=yc(F,0,S);return X&&Tu(_e,X),cs(v,this,_e)})}function bv(v,S,F){var X=!0,_e=!0;if(typeof v!="function")throw new hs(s);return _n(F)&&(X="leading"in F?!!F.leading:X,_e="trailing"in F?!!F.trailing:_e),yv(v,S,{leading:X,maxWait:S,trailing:_e})}function xv(v){return H1(v,1)}function gw(v,S){return J1(Lf(S),v)}function c(){if(!arguments.length)return[];var v=arguments[0];return ee(v)?v:[v]}function l(v){return zi(v,P)}function d(v,S){return S=typeof S=="function"?S:t,zi(v,P,S)}function y(v){return zi(v,B|P)}function w(v,S){return S=typeof S=="function"?S:t,zi(v,B|P,S)}function T(v,S){return S==null||Hr(v,S,Sl(S))}function K(v,S){return v===S||v!==v&&S!==S}var D=Gf(Mo),z=Gf(function(v,S){return v>=S}),V=wh(function(){return arguments}())?wh:function(v){return fn(v)&&Vi.call(v,"callee")&&!Ac.call(v,"callee")},ee=Lt.isArray,Ae=oa?Gs(oa):ql;function me(v){return v!=null&&$n(v.length)&&!Dn(v)}function xe(v){return fn(v)&&me(v)}function Oe(v){return v===!0||v===!1||fn(v)&&ho(v)==Me}var Le=Ip||Iw,Qe=Ia?Gs(Ia):DA;function it(v){return fn(v)&&v.nodeType===1&&!Ea(v)}function Mt(v){if(v==null)return!0;if(me(v)&&(ee(v)||typeof v=="string"||typeof v.splice=="function"||Le(v)||Ds(v)||V(v)))return!v.length;var S=Ts(v);if(S==xt||S==Jn)return!v.size;if(pe(v))return!Hc(v).length;for(var F in v)if(Vi.call(v,F))return!1;return!0}function lt(v,S){return Ys(v,S)}function vt(v,S,F){F=typeof F=="function"?F:t;var X=F?F(v,S):t;return X===t?Ys(v,S,t,F):!!X}function en(v){if(!fn(v))return!1;var S=ho(v);return S==Pe||S==be||typeof v.message=="string"&&typeof v.name=="string"&&!Ea(v)}function un(v){return typeof v=="number"&&If(v)}function Dn(v){if(!_n(v))return!1;var S=ho(v);return S==Ze||S==nt||S==Pt||S==pn}function vr(v){return typeof v=="number"&&v==$r(v)}function $n(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=tn}function _n(v){var S=typeof v;return v!=null&&(S=="object"||S=="function")}function fn(v){return v!=null&&typeof v=="object"}var sr=Ta?Gs(Ta):gc;function Un(v,S){return v===S||Mh(v,S,Co(S))}function wn(v,S,F){return F=typeof F=="function"?F:t,Mh(v,S,Co(S),F)}function Ir(v){return ia(v)&&v!=+v}function br(v){if(ae(v))throw new ti(o);return zu(v)}function Oi(v){return v===null}function ra(v){return v==null}function ia(v){return typeof v=="number"||fn(v)&&ho(v)==Ft}function Ea(v){if(!fn(v)||ho(v)!=pt)return!1;var S=pu(v);if(S===null)return!0;var F=Vi.call(S,"constructor")&&S.constructor;return typeof F=="function"&&F instanceof F&&Os.call(F)==kA}var Zl=Gl?Gs(Gl):Df;function Xl(v){return vr(v)&&v>=-tn&&v<=tn}var ts=ku?Gs(ku):qc;function ys(v){return typeof v=="string"||!ee(v)&&fn(v)&&ho(v)==mr}function No(v){return typeof v=="symbol"||fn(v)&&ho(v)==xr}var Ds=ic?Gs(ic):E1;function Jl(v){return v===t}function Us(v){return fn(v)&&Ts(v)==Cr}function Rs(v){return fn(v)&&ho(v)==fi}var Fl=Gf(ju),eu=Gf(function(v,S){return v<=S});function xl(v){if(!v)return[];if(me(v))return ys(v)?gl(v):qs(v);if(Fu&&v[Fu])return kp(v[Fu]());var S=Ts(v),F=S==xt?sc:S==Jn?ml:rg;return F(v)}function ns(v){if(!v)return v===0?v:0;if(v=Zr(v),v===jt||v===-jt){var S=v<0?-1:1;return S*Qt}return v===v?v:0}function $r(v){var S=ns(v),F=S%1;return S===S?F?S-F:S:0}function vs(v){return v?Zn($r(v),0,Je):0}function Zr(v){if(typeof v=="number")return v;if(No(v))return He;if(_n(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=_n(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=jc(v);var F=li.test(v);return F||Xi.test(v)?Tn(v.slice(2),F?2:8):rr.test(v)?He:+v}function wl(v){return Wu(v,Ra(v))}function Ml(v){return v?Zn($r(v),-tn,tn):v===0?v:0}function ai(v){return v==null?"":vu(v)}var jA=Nu(function(v,S){if(pe(S)||me(S)){Wu(S,Sl(S),v);return}for(var F in S)Vi.call(S,F)&&An(v,F,S[F])}),WA=Nu(function(v,S){Wu(S,Ra(S),v)}),Qu=Nu(function(v,S,F,X){Wu(S,Ra(S),v,X)}),qd=Nu(function(v,S,F,X){Wu(S,Sl(S),v,X)}),NA=UA(_r);function cA(v,S){var F=Cl(v);return S==null?F:er(F,S)}var bu=ji(function(v,S){v=co(v);var F=-1,X=S.length,_e=X>2?S[2]:t;for(_e&&_(S[0],S[1],_e)&&(X=1);++F<X;)for(var Ue=S[F],ot=Ra(Ue),yt=-1,Bt=ot.length;++yt<Bt;){var gn=ot[yt],yn=v[gn];(yn===t||K(yn,Jo[gn])&&!Vi.call(v,gn))&&(v[gn]=Ue[gn])}return v}),Vd=ji(function(v){return v.push(t,jp),cs(ex,t,v)});function d0(v,S){return hh(v,Qr(S,3),Is)}function Hb(v,S){return hh(v,Qr(S,3),yu)}function wv(v,S){return v==null?v:Pl(v,Qr(S,3),Ra)}function Mv(v,S){return v==null?v:PA(v,Qr(S,3),Ra)}function Hd(v,S){return v&&Is(v,Qr(S,3))}function Zb(v,S){return v&&yu(v,Qr(S,3))}function Xb(v){return v==null?[]:_a(v,Sl(v))}function yw(v){return v==null?[]:_a(v,Ra(v))}function Sv(v,S,F){var X=v==null?t:Bo(v,S);return X===t?F:X}function vw(v,S){return v!=null&&R1(v,S,Pa)}function Ev(v,S){return v!=null&&R1(v,S,Za)}var Cw=Rp(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=yl.call(S)),v[S]=F},Sw(GA)),_w=Rp(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=yl.call(S)),Vi.call(v,S)?v[S].push(F):v[S]=[F]},Qr),bw=ji(FA);function Sl(v){return me(v)?Ye(v):Hc(v)}function Ra(v){return me(v)?Ye(v,!0):Sh(v)}function ng(v,S){var F={};return S=Qr(S,3),Is(v,function(X,_e,Ue){In(F,S(X,_e,Ue),X)}),F}function Jb(v,S){var F={};return S=Qr(S,3),Is(v,function(X,_e,Ue){In(F,_e,S(X,_e,Ue))}),F}var xw=Nu(function(v,S,F){Vl(v,S,F)}),ex=Nu(function(v,S,F,X){Vl(v,S,F,X)}),ww=UA(function(v,S){var F={};if(v==null)return F;var X=!1;S=Qo(S,function(Ue){return Ue=ed(Ue,v),X||(X=Ue.length>1),Ue}),Wu(v,Rh(v),F),X&&(F=zi(F,B|k|P,Uh));for(var _e=S.length;_e--;)Dp(F,S[_e]);return F});function Dl(v,S){return $h(v,u0(Qr(S)))}var dA=UA(function(v,S){return v==null?{}:ol(v,S)});function $h(v,S){if(v==null)return{};var F=Qo(Rh(v),function(X){return[X]});return S=Qr(S),Dd(v,F,function(X,_e){return S(X,_e[0])})}function bc(v,S,F){S=ed(S,v);var X=-1,_e=S.length;for(_e||(_e=1,v=t);++X<_e;){var Ue=v==null?t:v[Sa(S[X])];Ue===t&&(X=_e,Ue=F),v=Dn(Ue)?Ue.call(v):Ue}return v}function Yf(v,S,F){return v==null?v:Bh(v,S,F)}function od(v,S,F,X){return X=typeof X=="function"?X:t,v==null?v:Bh(v,S,F,X)}var ak=Nd(Sl),sk=Nd(Ra);function LG(v,S,F){var X=ee(v),_e=X||Le(v)||Ds(v);if(S=Qr(S,4),F==null){var Ue=v&&v.constructor;_e?F=X?new Ue:[]:_n(v)?F=Dn(Ue)?Cl(pu(v)):{}:F={}}return(_e?Ql:Is)(v,function(ot,yt,Bt){return S(F,ot,yt,Bt)}),F}function zG(v,S){return v==null?!0:Dp(v,S)}function jG(v,S,F){return v==null?v:Uf(v,S,Lf(F))}function WG(v,S,F,X){return X=typeof X=="function"?X:t,v==null?v:Uf(v,S,Lf(F),X)}function rg(v){return v==null?[]:mh(v,Sl(v))}function NG(v){return v==null?[]:mh(v,Ra(v))}function GG(v,S,F){return F===t&&(F=S,S=t),F!==t&&(F=Zr(F),F=F===F?F:0),S!==t&&(S=Zr(S),S=S===S?S:0),Zn(Zr(v),S,F)}function QG(v,S,F){return S=ns(S),F===t?(F=S,S=0):F=ns(F),v=Zr(v),ta(v,S,F)}function $G(v,S,F){if(F&&typeof F!="boolean"&&_(v,S,F)&&(S=F=t),F===t&&(typeof S=="boolean"?(F=S,S=t):typeof v=="boolean"&&(F=v,v=t)),v===t&&S===t?(v=0,S=1):(v=ns(v),S===t?(S=v,v=0):S=ns(S)),v>S){var X=v;v=S,S=X}if(F||v%1||S%1){var _e=KA();return ea(v+_e*(S-v+wr("1e-"+((_e+"").length-1))),S)}return Kp(v,S)}var YG=Fh(function(v,S,F){return S=S.toLowerCase(),v+(F?lk(S):S)});function lk(v){return Mw(ai(v).toLowerCase())}function uk(v){return v=ai(v),v&&v.replace(pi,Sd).replace(eA,"")}function qG(v,S,F){v=ai(v),S=vu(S);var X=v.length;F=F===t?X:Zn($r(F),0,X);var _e=F;return F-=S.length,F>=0&&v.slice(F,_e)==S}function VG(v){return v=ai(v),v&&ve.test(v)?v.replace(Te,du):v}function HG(v){return v=ai(v),v&&Zt.test(v)?v.replace(_t,"\\$&"):v}var ZG=Fh(function(v,S,F){return v+(F?"-":"")+S.toLowerCase()}),XG=Fh(function(v,S,F){return v+(F?" ":"")+S.toLowerCase()}),JG=Ph("toLowerCase");function eQ(v,S,F){v=ai(v),S=$r(S);var X=S?BA(v):0;if(!S||X>=S)return v;var _e=(S-X)/2;return zp(gu(_e),F)+v+zp(yo(_e),F)}function tQ(v,S,F){v=ai(v),S=$r(S);var X=S?BA(v):0;return S&&X<S?v+zp(S-X,F):v}function nQ(v,S,F){v=ai(v),S=$r(S);var X=S?BA(v):0;return S&&X<S?zp(S-X,F)+v:v}function rQ(v,S,F){return F||S==null?S=0:S&&(S=+S),Er(ai(v).replace(Ht,""),S||0)}function iQ(v,S,F){return(F?_(v,S,F):S===t)?S=1:S=$r(S),Hm(ai(v),S)}function oQ(){var v=arguments,S=ai(v[0]);return v.length<3?S:S.replace(v[1],v[2])}var aQ=Fh(function(v,S,F){return v+(F?"_":"")+S.toLowerCase()});function sQ(v,S,F){return F&&typeof F!="number"&&_(v,S,F)&&(S=F=t),F=F===t?Je:F>>>0,F?(v=ai(v),v&&(typeof S=="string"||S!=null&&!Zl(S))&&(S=vu(S),!S&&OA(v))?yc(gl(v),0,F):v.split(S,F)):[]}var lQ=Fh(function(v,S,F){return v+(F?" ":"")+Mw(S)});function uQ(v,S,F){return v=ai(v),F=F==null?0:Zn($r(F),0,v.length),S=vu(S),v.slice(F,F+S.length)==S}function AQ(v,S,F){var X=ke.templateSettings;F&&_(v,S,F)&&(S=t),v=ai(v),S=Qu({},S,X,D1);var _e=Qu({},S.imports,X.imports,D1),Ue=Sl(_e),ot=mh(_e,Ue),yt,Bt,gn=0,yn=S.interpolate||Oo,kn="__p += '",hr=ds((S.escape||Oo).source+"|"+yn.source+"|"+(yn===Xe?Dr:Oo).source+"|"+(S.evaluate||Oo).source+"|$","g"),Wr="//# sourceURL="+(Vi.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rc+"]")+`
`;v.replace(hr,function(Ai,po,So,xc,hA,wc){return So||(So=xc),kn+=v.slice(gn,wc).replace(us,Pu),po&&(yt=!0,kn+=`' +
__e(`+po+`) +
'`),hA&&(Bt=!0,kn+=`';
`+hA+`;
__p += '`),So&&(kn+=`' +
((__t = (`+So+`)) == null ? '' : __t) +
'`),gn=wc+Ai.length,Ai}),kn+=`';
`;var ui=Vi.call(S,"variable")&&S.variable;if(!ui)kn=`with (obj) {
`+kn+`
}
`;else if(Tr.test(ui))throw new ti(a);kn=(Bt?kn.replace(m,""):kn).replace(Tt,"$1").replace(Ur,"$1;"),kn="function("+(ui||"obj")+`) {
`+(ui?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(yt?", __e = _.escape":"")+(Bt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+kn+`return __p
}`;var ro=ck(function(){return eo(Ue,Wr+"return "+kn).apply(t,ot)});if(ro.source=kn,en(ro))throw ro;return ro}function cQ(v){return ai(v).toLowerCase()}function dQ(v){return ai(v).toUpperCase()}function hQ(v,S,F){if(v=ai(v),v&&(F||S===t))return jc(v);if(!v||!(S=vu(S)))return v;var X=gl(v),_e=gl(S),Ue=Il(X,_e),ot=EA(X,_e)+1;return yc(X,Ue,ot).join("")}function fQ(v,S,F){if(v=ai(v),v&&(F||S===t))return v.slice(0,yh(v)+1);if(!v||!(S=vu(S)))return v;var X=gl(v),_e=EA(X,gl(S))+1;return yc(X,0,_e).join("")}function pQ(v,S,F){if(v=ai(v),v&&(F||S===t))return v.replace(Ht,"");if(!v||!(S=vu(S)))return v;var X=gl(v),_e=Il(X,gl(S));return yc(X,_e).join("")}function mQ(v,S){var F=Ne,X=et;if(_n(S)){var _e="separator"in S?S.separator:_e;F="length"in S?$r(S.length):F,X="omission"in S?vu(S.omission):X}v=ai(v);var Ue=v.length;if(OA(v)){var ot=gl(v);Ue=ot.length}if(F>=Ue)return v;var yt=F-BA(X);if(yt<1)return X;var Bt=ot?yc(ot,0,yt).join(""):v.slice(0,yt);if(_e===t)return Bt+X;if(ot&&(yt+=Bt.length-yt),Zl(_e)){if(v.slice(yt).search(_e)){var gn,yn=Bt;for(_e.global||(_e=ds(_e.source,ai(ei.exec(_e))+"g")),_e.lastIndex=0;gn=_e.exec(yn);)var kn=gn.index;Bt=Bt.slice(0,kn===t?yt:kn)}}else if(v.indexOf(vu(_e),yt)!=yt){var hr=Bt.lastIndexOf(_e);hr>-1&&(Bt=Bt.slice(0,hr))}return Bt+X}function gQ(v){return v=ai(v),v&&de.test(v)?v.replace(Wn,nA):v}var yQ=Fh(function(v,S,F){return v+(F?" ":"")+S.toUpperCase()}),Mw=Ph("toUpperCase");function Ak(v,S,F){return v=ai(v),S=F?t:S,S===t?Of(v)?Ed(v):Bp(v):v.match(S)||[]}var ck=ji(function(v,S){try{return cs(v,t,S)}catch(F){return en(F)?F:new ti(F)}}),vQ=UA(function(v,S){return Ql(S,function(F){F=Sa(F),In(v,F,Z1(v[F],v))}),v});function CQ(v){var S=v==null?0:v.length,F=Qr();return v=S?Qo(v,function(X){if(typeof X[1]!="function")throw new hs(s);return[F(X[0]),X[1]]}):[],ji(function(X){for(var _e=-1;++_e<S;){var Ue=v[_e];if(cs(Ue[0],this,X))return cs(Ue[1],this,X)}})}function _Q(v){return bi(zi(v,B))}function Sw(v){return function(){return v}}function bQ(v,S){return v==null||v!==v?S:v}var xQ=Up(),wQ=Up(!0);function GA(v){return v}function Ew(v){return Vc(typeof v=="function"?v:zi(v,B))}function MQ(v){return Eh(zi(v,B))}function SQ(v,S){return Oh(v,zi(S,B))}var EQ=ji(function(v,S){return function(F){return FA(F,v,S)}}),OQ=ji(function(v,S){return function(F){return FA(v,F,S)}});function Ow(v,S,F){var X=Sl(S),_e=_a(S,X);F==null&&!(_n(S)&&(_e.length||!X.length))&&(F=S,S=v,v=this,_e=_a(S,Sl(S)));var Ue=!(_n(F)&&"chain"in F)||!!F.chain,ot=Dn(v);return Ql(_e,function(yt){var Bt=S[yt];v[yt]=Bt,ot&&(v.prototype[yt]=function(){var gn=this.__chain__;if(Ue||gn){var yn=v(this.__wrapped__),kn=yn.__actions__=qs(this.__actions__);return kn.push({func:Bt,args:arguments,thisArg:v}),yn.__chain__=gn,yn}return Bt.apply(v,Tu([this.value()],arguments))})}),v}function BQ(){return Yr._===this&&(Yr._=wa),this}function Bw(){}function kQ(v){return v=$r(v),ji(function(S){return Fd(S,v)})}var IQ=Lp(Qo),TQ=Lp(Rc),KQ=Lp(oc);function dk(v){return E(v)?aa(Sa(v)):Vm(v)}function PQ(v){return function(S){return v==null?t:Bo(v,S)}}var FQ=Wd(),DQ=Wd(!0);function kw(){return[]}function Iw(){return!1}function UQ(){return{}}function RQ(){return""}function LQ(){return!0}function zQ(v,S){if(v=$r(v),v<1||v>tn)return[];var F=Je,X=ea(v,Je);S=Qr(S),v-=Je;for(var _e=go(X,S);++F<v;)S(F);return _e}function jQ(v){return ee(v)?Qo(v,Sa):No(v)?[v]:qs(Aa(ai(v)))}function WQ(v){var S=++vh;return ai(v)+S}var NQ=jd(function(v,S){return v+S},0),GQ=r0("ceil"),QQ=jd(function(v,S){return v/S},1),$Q=r0("floor");function YQ(v){return v&&v.length?Wo(v,GA,Mo):t}function qQ(v,S){return v&&v.length?Wo(v,Qr(S,2),Mo):t}function VQ(v){return Ku(v,GA)}function HQ(v,S){return Ku(v,Qr(S,2))}function ZQ(v){return v&&v.length?Wo(v,GA,ju):t}function XQ(v,S){return v&&v.length?Wo(v,Qr(S,2),ju):t}var JQ=jd(function(v,S){return v*S},1),e$=r0("round"),t$=jd(function(v,S){return v-S},0);function n$(v){return v&&v.length?wo(v,GA):0}function r$(v,S){return v&&v.length?wo(v,Qr(S,2)):0}return ke.after=Qh,ke.ary=H1,ke.assign=jA,ke.assignIn=WA,ke.assignInWith=Qu,ke.assignWith=qd,ke.at=NA,ke.before=mv,ke.bind=Z1,ke.bindAll=vQ,ke.bindKey=X1,ke.castArray=c,ke.chain=dv,ke.chunk=Vs,ke.compact=ms,ke.concat=es,ke.cond=CQ,ke.conforms=_Q,ke.constant=Sw,ke.countBy=Rb,ke.create=cA,ke.curry=qb,ke.curryRight=gv,ke.debounce=yv,ke.defaults=bu,ke.defaultsDeep=Vd,ke.defer=mw,ke.delay=Vb,ke.difference=na,ke.differenceBy=gs,ke.differenceWith=Qd,ke.drop=RA,ke.dropRight=Ks,ke.dropRightWhile=LA,ke.dropWhile=Ps,ke.fill=a0,ke.filter=zb,ke.flatMap=Wb,ke.flatMapDeep=Gh,ke.flatMapDepth=Nb,ke.flatten=Ua,ke.flattenDeep=Hs,ke.flattenDepth=$d,ke.flip=vv,ke.flow=xQ,ke.flowRight=wQ,ke.fromPairs=zA,ke.functions=Xb,ke.functionsIn=yw,ke.groupBy=Gb,ke.initial=Qp,ke.intersection=L1,ke.intersectionBy=z1,ke.intersectionWith=Z5,ke.invert=Cw,ke.invertBy=_w,ke.invokeMap=cw,ke.iteratee=Ew,ke.keyBy=Qb,ke.keys=Sl,ke.keysIn=Ra,ke.map=Yd,ke.mapKeys=ng,ke.mapValues=Jb,ke.matches=MQ,ke.matchesProperty=SQ,ke.memoize=Vp,ke.merge=xw,ke.mergeWith=ex,ke.method=EQ,ke.methodOf=OQ,ke.mixin=Ow,ke.negate=u0,ke.nthArg=kQ,ke.omit=ww,ke.omitBy=Dl,ke.once=A0,ke.orderBy=$b,ke.over=IQ,ke.overArgs=Cv,ke.overEvery=TQ,ke.overSome=KQ,ke.partial=J1,ke.partialRight=eg,ke.partition=$1,ke.pick=dA,ke.pickBy=$h,ke.property=dk,ke.propertyOf=PQ,ke.pull=bb,ke.pullAll=j1,ke.pullAllBy=ov,ke.pullAllWith=J5,ke.pullAt=ew,ke.range=FQ,ke.rangeRight=DQ,ke.rearg=tg,ke.reject=q1,ke.remove=xb,ke.rest=c0,ke.reverse=$f,ke.sampleSize=dw,ke.set=Yf,ke.setWith=od,ke.shuffle=hw,ke.slice=id,ke.sortBy=qp,ke.sortedUniq=sv,ke.sortedUniqBy=rw,ke.split=sQ,ke.spread=_v,ke.tail=lv,ke.take=uv,ke.takeRight=$p,ke.takeRightWhile=Mb,ke.takeWhile=Sb,ke.tap=Kb,ke.throttle=bv,ke.thru=Yp,ke.toArray=xl,ke.toPairs=ak,ke.toPairsIn=sk,ke.toPath=jQ,ke.toPlainObject=wl,ke.transform=LG,ke.unary=xv,ke.union=Av,ke.unionBy=Eb,ke.unionWith=N1,ke.uniq=Ob,ke.uniqBy=iw,ke.uniqWith=ow,ke.unset=zG,ke.unzip=G1,ke.unzipWith=Bb,ke.update=jG,ke.updateWith=WG,ke.values=rg,ke.valuesIn=NG,ke.without=aw,ke.words=Ak,ke.wrap=gw,ke.xor=sw,ke.xorBy=lw,ke.xorWith=cv,ke.zip=Nh,ke.zipObject=kb,ke.zipObjectDeep=Ib,ke.zipWith=Tb,ke.entries=ak,ke.entriesIn=sk,ke.extend=WA,ke.extendWith=Qu,Ow(ke,ke),ke.add=NQ,ke.attempt=ck,ke.camelCase=YG,ke.capitalize=lk,ke.ceil=GQ,ke.clamp=GG,ke.clone=l,ke.cloneDeep=y,ke.cloneDeepWith=w,ke.cloneWith=d,ke.conformsTo=T,ke.deburr=uk,ke.defaultTo=bQ,ke.divide=QQ,ke.endsWith=qG,ke.eq=K,ke.escape=VG,ke.escapeRegExp=HG,ke.every=Lb,ke.find=jb,ke.findIndex=lA,ke.findKey=d0,ke.findLast=uw,ke.findLastIndex=_c,ke.findLastKey=Hb,ke.floor=$Q,ke.forEach=fv,ke.forEachRight=pv,ke.forIn=wv,ke.forInRight=Mv,ke.forOwn=Hd,ke.forOwnRight=Zb,ke.get=Sv,ke.gt=D,ke.gte=z,ke.has=vw,ke.hasIn=Ev,ke.head=Gp,ke.identity=GA,ke.includes=Aw,ke.indexOf=s0,ke.inRange=QG,ke.invoke=bw,ke.isArguments=V,ke.isArray=ee,ke.isArrayBuffer=Ae,ke.isArrayLike=me,ke.isArrayLikeObject=xe,ke.isBoolean=Oe,ke.isBuffer=Le,ke.isDate=Qe,ke.isElement=it,ke.isEmpty=Mt,ke.isEqual=lt,ke.isEqualWith=vt,ke.isError=en,ke.isFinite=un,ke.isFunction=Dn,ke.isInteger=vr,ke.isLength=$n,ke.isMap=sr,ke.isMatch=Un,ke.isMatchWith=wn,ke.isNaN=Ir,ke.isNative=br,ke.isNil=ra,ke.isNull=Oi,ke.isNumber=ia,ke.isObject=_n,ke.isObjectLike=fn,ke.isPlainObject=Ea,ke.isRegExp=Zl,ke.isSafeInteger=Xl,ke.isSet=ts,ke.isString=ys,ke.isSymbol=No,ke.isTypedArray=Ds,ke.isUndefined=Jl,ke.isWeakMap=Us,ke.isWeakSet=Rs,ke.join=Cb,ke.kebabCase=ZG,ke.last=uA,ke.lastIndexOf=X5,ke.lowerCase=XG,ke.lowerFirst=JG,ke.lt=Fl,ke.lte=eu,ke.max=YQ,ke.maxBy=qQ,ke.mean=VQ,ke.meanBy=HQ,ke.min=ZQ,ke.minBy=XQ,ke.stubArray=kw,ke.stubFalse=Iw,ke.stubObject=UQ,ke.stubString=RQ,ke.stubTrue=LQ,ke.multiply=JQ,ke.nth=_b,ke.noConflict=BQ,ke.noop=Bw,ke.now=Fs,ke.pad=eQ,ke.padEnd=tQ,ke.padStart=nQ,ke.parseInt=rQ,ke.random=$G,ke.reduce=Yb,ke.reduceRight=Y1,ke.repeat=iQ,ke.replace=oQ,ke.result=bc,ke.round=e$,ke.runInContext=bt,ke.sample=V1,ke.size=fw,ke.snakeCase=aQ,ke.some=pw,ke.sortedIndex=Wh,ke.sortedIndexBy=wb,ke.sortedIndexOf=av,ke.sortedLastIndex=tw,ke.sortedLastIndexBy=nw,ke.sortedLastIndexOf=W1,ke.startCase=lQ,ke.startsWith=uQ,ke.subtract=t$,ke.sum=n$,ke.sumBy=r$,ke.template=AQ,ke.times=zQ,ke.toFinite=ns,ke.toInteger=$r,ke.toLength=vs,ke.toLower=cQ,ke.toNumber=Zr,ke.toSafeInteger=Ml,ke.toString=ai,ke.toUpper=dQ,ke.trim=hQ,ke.trimEnd=fQ,ke.trimStart=pQ,ke.truncate=mQ,ke.unescape=gQ,ke.uniqueId=WQ,ke.upperCase=yQ,ke.upperFirst=Mw,ke.each=fv,ke.eachRight=pv,ke.first=Gp,Ow(ke,function(){var v={};return Is(ke,function(S,F){Vi.call(ke.prototype,F)||(v[F]=S)}),v}(),{chain:!1}),ke.VERSION=r,Ql(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){ke[v].placeholder=ke}),Ql(["drop","take"],function(v,S){jr.prototype[v]=function(F){F=F===t?1:to($r(F),0);var X=this.__filtered__&&!S?new jr(this):this.clone();return X.__filtered__?X.__takeCount__=ea(F,X.__takeCount__):X.__views__.push({size:ea(F,Je),type:v+(X.__dir__<0?"Right":"")}),X},jr.prototype[v+"Right"]=function(F){return this.reverse()[v](F).reverse()}}),Ql(["filter","map","takeWhile"],function(v,S){var F=S+1,X=F==rt||F==Rt;jr.prototype[v]=function(_e){var Ue=this.clone();return Ue.__iteratees__.push({iteratee:Qr(_e,3),type:F}),Ue.__filtered__=Ue.__filtered__||X,Ue}}),Ql(["head","last"],function(v,S){var F="take"+(S?"Right":"");jr.prototype[v]=function(){return this[F](1).value()[0]}}),Ql(["initial","tail"],function(v,S){var F="drop"+(S?"":"Right");jr.prototype[v]=function(){return this.__filtered__?new jr(this):this[F](1)}}),jr.prototype.compact=function(){return this.filter(GA)},jr.prototype.find=function(v){return this.filter(v).head()},jr.prototype.findLast=function(v){return this.reverse().find(v)},jr.prototype.invokeMap=ji(function(v,S){return typeof v=="function"?new jr(this):this.map(function(F){return FA(F,v,S)})}),jr.prototype.reject=function(v){return this.filter(u0(Qr(v)))},jr.prototype.slice=function(v,S){v=$r(v);var F=this;return F.__filtered__&&(v>0||S<0)?new jr(F):(v<0?F=F.takeRight(-v):v&&(F=F.drop(v)),S!==t&&(S=$r(S),F=S<0?F.dropRight(-S):F.take(S-v)),F)},jr.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},jr.prototype.toArray=function(){return this.take(Je)},Is(jr.prototype,function(v,S){var F=/^(?:filter|find|map|reject)|While$/.test(S),X=/^(?:head|last)$/.test(S),_e=ke[X?"take"+(S=="last"?"Right":""):S],Ue=X||/^find/.test(S);_e&&(ke.prototype[S]=function(){var ot=this.__wrapped__,yt=X?[1]:arguments,Bt=ot instanceof jr,gn=yt[0],yn=Bt||ee(ot),kn=function(po){var So=_e.apply(ke,Tu([po],yt));return X&&hr?So[0]:So};yn&&F&&typeof gn=="function"&&gn.length!=1&&(Bt=yn=!1);var hr=this.__chain__,Wr=!!this.__actions__.length,ui=Ue&&!hr,ro=Bt&&!Wr;if(!Ue&&yn){ot=ro?ot:new jr(this);var Ai=v.apply(ot,yt);return Ai.__actions__.push({func:Yp,args:[kn],thisArg:t}),new no(Ai,hr)}return ui&&ro?v.apply(this,yt):(Ai=this.thru(kn),ui?X?Ai.value()[0]:Ai.value():Ai)})}),Ql(["pop","push","shift","sort","splice","unshift"],function(v){var S=Bd[v],F=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",X=/^(?:pop|shift)$/.test(v);ke.prototype[v]=function(){var _e=arguments;if(X&&!this.__chain__){var Ue=this.value();return S.apply(ee(Ue)?Ue:[],_e)}return this[F](function(ot){return S.apply(ee(ot)?ot:[],_e)})}}),Is(jr.prototype,function(v,S){var F=ke[S];if(F){var X=F.name+"";Vi.call(Ro,X)||(Ro[X]=[]),Ro[X].push({name:S,func:F})}}),Ro[Dh(t,Q).name]=[{name:"wrapper",func:t}],jr.prototype.clone=sa,jr.prototype.reverse=hc,jr.prototype.value=fc,ke.prototype.at=Q1,ke.prototype.chain=Pb,ke.prototype.commit=hv,ke.prototype.next=Fb,ke.prototype.plant=l0,ke.prototype.reverse=Db,ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=Ub,ke.prototype.first=ke.prototype.head,Fu&&(ke.prototype[Fu]=AA),ke},hu=Od();Fo?((Fo.exports=hu)._=hu,Gi._=hu):Yr._=hu}).call(_f)})(e3,e3.exports);var N4=e3.exports;const f6=ma(N4);function QV(e,n,t){const r=n<0?e.length+n:n;if(r>=0&&r<e.length){const i=t<0?e.length+t:t,[o]=e.splice(n,1);e.splice(i,0,o)}}function $V(e){for(var n=5381,t=e.length;t;)n=n*33^e.charCodeAt(--t);return n>>>0}var YV=$V;const BI=ma(YV);var qV=8,VV={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},HV={"*":{type:"source"}},ZV=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],XV={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},JV={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},eH={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tH={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},nH={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},rH={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},iH={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},oH=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],aH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},sH={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},lH={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},uH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},AH={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},cH={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},dH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},hH={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},fH={type:"array",value:"*"},pH={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},mH={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},gH={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},yH={type:"array",value:"*",minimum:1},vH={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},CH={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},_H={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},bH=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],xH={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},wH={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},MH={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},SH={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},EH={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},OH={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},BH={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},kH={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},IH={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},TH={"*":{type:"string"}},pa={$version:qV,$root:VV,sources:HV,source:ZV,source_vector:XV,source_raster:JV,source_raster_dem:eH,source_geojson:tH,source_video:nH,source_image:rH,layer:iH,layout:oH,layout_background:aH,layout_fill:sH,layout_circle:lH,layout_heatmap:uH,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:AH,layout_symbol:cH,layout_raster:dH,layout_hillshade:hH,filter:fH,filter_operator:pH,geometry_type:mH,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:gH,expression:yH,light:vH,sky:CH,terrain:_H,paint:bH,paint_fill:xH,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:wH,paint_circle:MH,paint_heatmap:SH,paint_symbol:EH,paint_raster:OH,paint_hillshade:BH,paint_background:kH,transition:IH,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:TH};const KH=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function PH(e,n){const t={};for(const r in e)r!=="ref"&&(t[r]=e[r]);return KH.forEach(r=>{r in n&&(t[r]=n[r])}),t}function FH(e){e=e.slice();const n=Object.create(null);for(let t=0;t<e.length;t++)n[e[t].id]=e[t];for(let t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=PH(e[t],n[e[t].ref]));return e}function Na(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!Na(e[t],n[t]))return!1;return!0}if(typeof e=="object"&&e!==null&&n!==null){if(typeof n!="object"||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(!Na(e[r],n[r]))return!1;return!0}return e===n}function Ad(e,n){e.push(n)}function TU(e,n,t){Ad(t,{command:"addSource",args:[e,n[e]]})}function KU(e,n,t){Ad(n,{command:"removeSource",args:[e]}),t[e]=!0}function DH(e,n,t,r){KU(e,t,r),TU(e,n,t)}function UH(e,n,t){let r;for(r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)&&r!=="data"&&!Na(e[t][r],n[t][r]))return!1;for(r in n[t])if(Object.prototype.hasOwnProperty.call(n[t],r)&&r!=="data"&&!Na(e[t][r],n[t][r]))return!1;return!0}function RH(e,n,t,r){e=e||{},n=n||{};let i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(n,i)||KU(i,t,r));for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(e,i)?Na(e[i],n[i])||(e[i].type==="geojson"&&n[i].type==="geojson"&&UH(e,n,i)?Ad(t,{command:"setGeoJSONSourceData",args:[i,n[i].data]}):DH(i,n,t,r)):TU(i,n,t))}function cx(e,n,t,r,i,o){e=e||{},n=n||{};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(Na(e[s],n[s])||t.push({command:o,args:[r,s,n[s],i]}));for(const s in n)!Object.prototype.hasOwnProperty.call(n,s)||Object.prototype.hasOwnProperty.call(e,s)||Na(e[s],n[s])||t.push({command:o,args:[r,s,n[s],i]})}function kI(e){return e.id}function II(e,n){return e[n.id]=n,e}function LH(e,n,t){e=e||[],n=n||[];const r=e.map(kI),i=n.map(kI),o=e.reduce(II,{}),s=n.reduce(II,{}),a=r.slice(),p=Object.create(null);let g,b,B,k,P;for(let R=0,Z=0;R<r.length;R++)g=r[R],Object.prototype.hasOwnProperty.call(s,g)?Z++:(Ad(t,{command:"removeLayer",args:[g]}),a.splice(a.indexOf(g,Z),1));for(let R=0,Z=0;R<i.length;R++)g=i[i.length-1-R],a[a.length-1-R]!==g&&(Object.prototype.hasOwnProperty.call(o,g)?(Ad(t,{command:"removeLayer",args:[g]}),a.splice(a.lastIndexOf(g,a.length-Z),1)):Z++,k=a[a.length-R],Ad(t,{command:"addLayer",args:[s[g],k]}),a.splice(a.length-R,0,g),p[g]=!0);for(let R=0;R<i.length;R++)if(g=i[R],b=o[g],B=s[g],!(p[g]||Na(b,B))){if(!Na(b.source,B.source)||!Na(b["source-layer"],B["source-layer"])||!Na(b.type,B.type)){Ad(t,{command:"removeLayer",args:[g]}),k=a[a.lastIndexOf(g)+1],Ad(t,{command:"addLayer",args:[B,k]});continue}cx(b.layout,B.layout,t,g,null,"setLayoutProperty"),cx(b.paint,B.paint,t,g,null,"setPaintProperty"),Na(b.filter,B.filter)||Ad(t,{command:"setFilter",args:[g,B.filter]}),(!Na(b.minzoom,B.minzoom)||!Na(b.maxzoom,B.maxzoom))&&Ad(t,{command:"setLayerZoomRange",args:[g,B.minzoom,B.maxzoom]});for(P in b)Object.prototype.hasOwnProperty.call(b,P)&&(P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?cx(b[P],B[P],t,g,P.slice(6),"setPaintProperty"):Na(b[P],B[P])||Ad(t,{command:"setLayerProperty",args:[g,P,B[P]]})));for(P in B)!Object.prototype.hasOwnProperty.call(B,P)||Object.prototype.hasOwnProperty.call(b,P)||P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?cx(b[P],B[P],t,g,P.slice(6),"setPaintProperty"):Na(b[P],B[P])||Ad(t,{command:"setLayerProperty",args:[g,P,B[P]]}))}}function zH(e,n){if(!e)return[{command:"setStyle",args:[n]}];let t=[];try{if(!Na(e.version,n.version))return[{command:"setStyle",args:[n]}];Na(e.center,n.center)||t.push({command:"setCenter",args:[n.center]}),Na(e.zoom,n.zoom)||t.push({command:"setZoom",args:[n.zoom]}),Na(e.bearing,n.bearing)||t.push({command:"setBearing",args:[n.bearing]}),Na(e.pitch,n.pitch)||t.push({command:"setPitch",args:[n.pitch]}),Na(e.sprite,n.sprite)||t.push({command:"setSprite",args:[n.sprite]}),Na(e.glyphs,n.glyphs)||t.push({command:"setGlyphs",args:[n.glyphs]}),Na(e.transition,n.transition)||t.push({command:"setTransition",args:[n.transition]}),Na(e.light,n.light)||t.push({command:"setLight",args:[n.light]}),Na(e.terrain,n.terrain)||t.push({command:"setTerrain",args:[n.terrain]});const r={},i=[];RH(e.sources,n.sources,i,r);const o=[];e.layers&&e.layers.forEach(s=>{"source"in s&&r[s.source]?t.push({command:"removeLayer",args:[s.id]}):o.push(s)}),t=t.concat(i),LH(o,n.layers,t)}catch(r){console.warn("Unable to compute style diff:",r),t=[{command:"setStyle",args:[n]}]}return t}class Hn{constructor(n,t,r,i){this.message=(n?`${n}: `:"")+r,i&&(this.identifier=i),t!=null&&t.__line__&&(this.line=t.__line__)}}function by(e,...n){for(const t of n)for(const r in t)e[r]=t[r];return e}class tf extends Error{constructor(n,t){super(t),this.message=t,this.key=n}}let jH=class PU{constructor(n,t=[]){this.parent=n,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(n){return new PU(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}};const G4={kind:"null"},tr={kind:"number"},uo={kind:"string"},Qi={kind:"boolean"},cf={kind:"color"},Xg={kind:"object"},Yi={kind:"value"},WH={kind:"error"},Q4={kind:"collator"},$4={kind:"formatted"},Y4={kind:"padding"},F_={kind:"resolvedImage"},q4={kind:"variableAnchorOffsetCollection"};function Oc(e,n){return{kind:"array",itemType:e,N:n}}function _s(e){if(e.kind==="array"){const n=_s(e.itemType);return typeof e.N=="number"?`array<${n}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${n}>`}else return e.kind}const NH=[G4,tr,uo,Qi,cf,$4,Xg,Oc(Yi),Y4,F_,q4];function ZC(e,n){if(n.kind==="error")return null;if(e.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!ZC(e.itemType,n.itemType))&&(typeof e.N!="number"||e.N===n.N))return null}else{if(e.kind===n.kind)return null;if(e.kind==="value"){for(const t of NH)if(!ZC(t,n))return null}}return`Expected ${_s(e)} but found ${_s(n)} instead.`}function fB(e,n){return n.some(t=>t.kind===e.kind)}function XC(e,n){return n.some(t=>t==="null"?e===null:t==="array"?Array.isArray(e):t==="object"?e&&!Array.isArray(e)&&typeof e=="object":t===typeof e)}function Fv(e,n){return e.kind==="array"&&n.kind==="array"?e.itemType.kind===n.itemType.kind&&typeof e.N=="number":e.kind===n.kind}const FU=.96422,DU=1,UU=.82521,RU=4/29,Jg=6/29,LU=3*Jg*Jg,GH=Jg*Jg*Jg,QH=Math.PI/180,$H=180/Math.PI;function zU(e){return e=e%360,e<0&&(e+=360),e}function jU([e,n,t,r]){e=Zw(e),n=Zw(n),t=Zw(t);let i,o;const s=Xw((.2225045*e+.7168786*n+.0606169*t)/DU);e===n&&n===t?i=o=s:(i=Xw((.4360747*e+.3850649*n+.1430804*t)/FU),o=Xw((.0139322*e+.0971045*n+.7141733*t)/UU));const a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o),r]}function Zw(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Xw(e){return e>GH?Math.pow(e,1/3):e/LU+RU}function WU([e,n,t,r]){let i=(e+16)/116,o=isNaN(n)?i:i+n/500,s=isNaN(t)?i:i-t/200;return i=DU*eM(i),o=FU*eM(o),s=UU*eM(s),[Jw(3.1338561*o-1.6168667*i-.4906146*s),Jw(-.9787684*o+1.9161415*i+.033454*s),Jw(.0719453*o-.2289914*i+1.4052427*s),r]}function Jw(e){return e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055,e<0?0:e>1?1:e}function eM(e){return e>Jg?e*e*e:LU*(e-RU)}function YH(e){const[n,t,r,i]=jU(e),o=Math.sqrt(t*t+r*r);return[Math.round(o*1e4)?zU(Math.atan2(r,t)*$H):NaN,o,n,i]}function qH([e,n,t,r]){return e=isNaN(e)?0:e*QH,WU([t,Math.cos(e)*n,Math.sin(e)*n,r])}function VH([e,n,t,r]){e=zU(e),n/=100,t/=100;function i(o){const s=(o+e/30)%12,a=n*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(s-3,9-s,1))}return[i(0),i(8),i(4),r]}function HH(e){if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];const n=ZH[e];if(n){const[i,o,s]=n;return[i/255,o/255,s/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const o=e.length<6?1:2;let s=1;return[dx(e.slice(s,s+=o)),dx(e.slice(s,s+=o)),dx(e.slice(s,s+=o)),dx(e.slice(s,s+o)||"ff")]}if(e.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=e.match(i);if(o){const[s,a,p,g,b,B,k,P,R,Z,W,Q]=o,q=[g||" ",k||" ",Z].join("");if(q==="  "||q==="  /"||q===",,"||q===",,,"){const oe=[p,B,R].join(""),re=oe==="%%%"?100:oe===""?255:0;if(re){const ce=[yg(+a/re,0,1),yg(+b/re,0,1),yg(+P/re,0,1),W?TI(+W,Q):1];if(KI(ce))return ce}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=e.match(t);if(r){const[i,o,s,a,p,g,b,B,k]=r,P=[s||" ",p||" ",b].join("");if(P==="  "||P==="  /"||P===",,"||P===",,,"){const R=[+o,yg(+a,0,100),yg(+g,0,100),B?TI(+B,k):1];if(KI(R))return VH(R)}}}function dx(e){return parseInt(e.padEnd(2,e),16)/255}function TI(e,n){return yg(n?e/100:e,0,1)}function yg(e,n,t){return Math.min(Math.max(n,e),t)}function KI(e){return!e.some(Number.isNaN)}const ZH={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let xs=class p6{constructor(n,t,r,i=1,o=!0){this.r=n,this.g=t,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[n,t,r,i]))}static parse(n){if(n instanceof p6)return n;if(typeof n!="string")return;const t=HH(n);if(t)return new p6(...t,!1)}get rgb(){const{r:n,g:t,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[n/o,t/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",YH(this.rgb))}get lab(){return this.overwriteGetter("lab",jU(this.rgb))}overwriteGetter(n,t){return Object.defineProperty(this,n,{value:t}),t}toString(){const[n,t,r,i]=this.rgb;return`rgba(${[n,t,r].map(o=>Math.round(o*255)).join(",")},${i})`}};xs.black=new xs(0,0,0,1);xs.white=new xs(1,1,1,1);xs.transparent=new xs(0,0,0,0);xs.red=new xs(1,0,0,1);let pB=class{constructor(n,t,r){n?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,t){return this.collator.compare(n,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},m6=class{constructor(n,t,r,i,o){this.text=n,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}},Uy=class c2{constructor(n){this.sections=n}static fromString(n){return new c2([new m6(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof c2?n:c2.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}};class Fc{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Fc)return n;if(typeof n=="number")return new Fc([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const t of n)if(typeof t!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]];break}return new Fc(n)}}toString(){return JSON.stringify(this.values)}}const XH=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ff{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof ff)return n;if(!(!Array.isArray(n)||n.length<1||n.length%2!==0)){for(let t=0;t<n.length;t+=2){const r=n[t],i=n[t+1];if(typeof r!="string"||!XH.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new ff(n)}}toString(){return JSON.stringify(this.values)}}let g1=class NU{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new NU({name:n,available:!1}):null}};function GU(e,n,t,r){return typeof e=="number"&&e>=0&&e<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,n,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,n,t,r]:[e,n,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function t3(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof xs||e instanceof pB||e instanceof Uy||e instanceof Fc||e instanceof ff||e instanceof g1)return!0;if(Array.isArray(e)){for(const n of e)if(!t3(n))return!1;return!0}else if(typeof e=="object"){for(const n in e)if(!t3(e[n]))return!1;return!0}else return!1}function zl(e){if(e===null)return G4;if(typeof e=="string")return uo;if(typeof e=="boolean")return Qi;if(typeof e=="number")return tr;if(e instanceof xs)return cf;if(e instanceof pB)return Q4;if(e instanceof Uy)return $4;if(e instanceof Fc)return Y4;if(e instanceof ff)return q4;if(e instanceof g1)return F_;if(Array.isArray(e)){const n=e.length;let t;for(const r of e){const i=zl(r);if(!t)t=i;else{if(t===i)continue;t=Yi;break}}return Oc(t||Yi,n)}else return Xg}function _C(e){const n=typeof e;return e===null?"":n==="string"||n==="number"||n==="boolean"?String(e):e instanceof xs||e instanceof Uy||e instanceof Fc||e instanceof ff||e instanceof g1?e.toString():JSON.stringify(e)}let n3=class QU{constructor(n,t){this.type=n,this.value=t}static parse(n,t){if(n.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!t3(n[1]))return t.error("invalid value");const r=n[1];let i=zl(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new QU(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},hl=class{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}};const hx={string:uo,number:tr,boolean:Qi,object:Xg};let fp=class $U{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in hx)||g==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=hx[g],r++}else a=Yi;let p;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return t.error('The length argument to "array" must be a positive integer literal',2);p=n[2],r++}i=Oc(a,p)}else{if(!hx[o])throw new Error(`Types doesn't contain name = ${o}`);i=hx[o]}const s=[];for(;r<n.length;r++){const a=t.parse(n[r],r,Yi);if(!a)return null;s.push(a)}return new $U(i,s)}evaluate(n){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(n);if(ZC(this.type,zl(r))){if(t===this.args.length-1)throw new hl(`Expected value to be of type ${_s(this.type)}, but found ${_s(zl(r))} instead.`)}else return r}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const PI={"to-boolean":Qi,"to-color":cf,"to-number":tr,"to-string":uo};let Dg=class YU{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[0];if(!PI[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&n.length!==2)return t.error("Expected one argument.");const i=PI[r],o=[];for(let s=1;s<n.length;s++){const a=t.parse(n[s],s,Yi);if(!a)return null;o.push(a)}return new YU(i,o)}evaluate(n){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(n);case"color":{let t,r;for(const i of this.args){if(t=i.evaluate(n),r=null,t instanceof xs)return t;if(typeof t=="string"){const o=n.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=GU(t[0],t[1],t[2],t[3]),!r))return new xs(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new hl(r||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const r of this.args){t=r.evaluate(n);const i=Fc.parse(t);if(i)return i}throw new hl(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const r of this.args){t=r.evaluate(n);const i=ff.parse(t);if(i)return i}throw new hl(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const r of this.args){if(t=r.evaluate(n),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new hl(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Uy.fromString(_C(this.args[0].evaluate(n)));case"resolvedImage":return g1.fromString(_C(this.args[0].evaluate(n)));default:return _C(this.args[0].evaluate(n))}}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}};const JH=["Unknown","Point","LineString","Polygon"];let qU=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?JH[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let t=this._parseColorCache[n];return t||(t=this._parseColorCache[n]=xs.parse(n)),t}},VU=class HU{constructor(n,t,r=[],i,o=new jH,s=[]){this.registry=n,this.path=r,this.key=r.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=i,this._isConstant=t}parse(n,t,r,i,o={}){return t?this.concat(t,r,i)._parse(n,o):this._parse(n,o)}_parse(n,t){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new fp(o,[i]):s==="coerce"?new Dg(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,p=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&p.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(p.kind==="value"||p.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="padding"&&(p.kind==="value"||p.kind==="number"||p.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="variableAnchorOffsetCollection"&&(p.kind==="value"||p.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,p))return null}if(!(s instanceof n3)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new qU;try{s=new n3(s.type,s.evaluate(a))}catch(p){return this.error(p.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,t,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new HU(this.registry,this._isConstant,i,t||null,o,this.errors)}error(n,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new tf(r,n))}checkSubtype(n,t){const r=ZC(n,t);return r&&this.error(r),r}},ZU=class XU{constructor(n,t,r){this.type=Q4,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=t}static parse(n,t){if(n.length!==2)return t.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Qi);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Qi);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,uo),!s)?null:new XU(i,o,s)}evaluate(n){return new pB(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}};const km=8192;function mB(e,n){e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[1]),e[2]=Math.max(e[2],n[0]),e[3]=Math.max(e[3],n[1])}function eZ(e){return(180+e)/360}function tZ(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function r3(e,n){return!(e[0]<=n[0]||e[2]>=n[2]||e[1]<=n[1]||e[3]>=n[3])}function nZ(e,n){const t=eZ(e[0]),r=tZ(e[1]),i=Math.pow(2,n.z);return[Math.round(t*i*km),Math.round(r*i*km)]}function rZ(e,n,t){const r=e[0]-n[0],i=e[1]-n[1],o=e[0]-t[0],s=e[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function iZ(e,n,t){return n[1]>e[1]!=t[1]>e[1]&&e[0]<(t[0]-n[0])*(e[1]-n[1])/(t[1]-n[1])+n[0]}function gB(e,n){let t=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(rZ(e,o[s],o[s+1]))return!1;iZ(e,o[s],o[s+1])&&(t=!t)}}return t}function oZ(e,n){for(let t=0;t<n.length;t++)if(gB(e,n[t]))return!0;return!1}function aZ(e,n){return e[0]*n[1]-e[1]*n[0]}function FI(e,n,t,r){const i=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],a=n[1]-t[1],p=r[0]-t[0],g=r[1]-t[1],b=i*g-p*o,B=s*g-p*a;return b>0&&B<0||b<0&&B>0}function sZ(e,n,t,r){const i=[n[0]-e[0],n[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return aZ(o,i)===0?!1:!!(FI(e,n,t,r)&&FI(t,r,e,n))}function lZ(e,n,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(sZ(e,n,r[i],r[i+1]))return!0;return!1}function JU(e,n){for(let t=0;t<e.length;++t)if(!gB(e[t],n))return!1;for(let t=0;t<e.length-1;++t)if(lZ(e[t],e[t+1],n))return!1;return!0}function uZ(e,n){for(let t=0;t<n.length;t++)if(JU(e,n[t]))return!0;return!1}function yB(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let s=0;s<e[i].length;s++){const a=nZ(e[i][s],t);mB(n,a),o.push(a)}r.push(o)}return r}function eR(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=yB(e[i],n,t);r.push(o)}return r}function tR(e,n,t,r){if(e[0]<t[0]||e[0]>t[2]){const i=r*.5;let o=e[0]-t[0]>i?-r:t[0]-e[0]>i?r:0;o===0&&(o=e[0]-t[2]>i?-r:t[2]-e[0]>i?r:0),e[0]+=o}mB(n,e)}function AZ(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function DI(e,n,t,r){const i=Math.pow(2,r.z)*km,o=[r.x*km,r.y*km],s=[];for(const a of e)for(const p of a){const g=[p.x+o[0],p.y+o[1]];tR(g,n,t,i),s.push(g)}return s}function UI(e,n,t,r){const i=Math.pow(2,r.z)*km,o=[r.x*km,r.y*km],s=[];for(const a of e){const p=[];for(const g of a){const b=[g.x+o[0],g.y+o[1]];mB(n,b),p.push(b)}s.push(p)}if(n[2]-n[0]<=i/2){AZ(n);for(const a of s)for(const p of a)tR(p,n,t,i)}return s}function cZ(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(n.type==="Polygon"){const o=yB(n.coordinates,r,i),s=DI(e.geometry(),t,r,i);if(!r3(t,r))return!1;for(const a of s)if(!gB(a,o))return!1}if(n.type==="MultiPolygon"){const o=eR(n.coordinates,r,i),s=DI(e.geometry(),t,r,i);if(!r3(t,r))return!1;for(const a of s)if(!oZ(a,o))return!1}return!0}function dZ(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(n.type==="Polygon"){const o=yB(n.coordinates,r,i),s=UI(e.geometry(),t,r,i);if(!r3(t,r))return!1;for(const a of s)if(!JU(a,o))return!1}if(n.type==="MultiPolygon"){const o=eR(n.coordinates,r,i),s=UI(e.geometry(),t,r,i);if(!r3(t,r))return!1;for(const a of s)if(!uZ(a,o))return!1}return!0}let vB=class d2{constructor(n,t){this.type=Qi,this.geojson=n,this.geometries=t}static parse(n,t){if(n.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(t3(n[1])){const r=n[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:s,coordinates:a}=o.geometry;s==="Polygon"&&i.push(a),s==="MultiPolygon"&&i.push(...a)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new d2(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new d2(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new d2(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return cZ(n,this.geometries);if(n.geometryType()==="LineString")return dZ(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},nR=class rR{constructor(n,t){this.type=t.type,this.name=n,this.boundExpression=t}static parse(n,t){if(n.length!==2||typeof n[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=n[1];return t.scope.has(r)?new rR(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}},Ry=class eC{constructor(n,t,r,i){this.name=n,this.type=t,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,t){const r=n[0],i=eC.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let p=null;for(const[g,b]of a){p=new VU(t.registry,i3,t.path,null,t.scope);const B=[];let k=!1;for(let P=1;P<n.length;P++){const R=n[P],Z=Array.isArray(g)?g[P-1]:g.type,W=p.parse(R,1+B.length,Z);if(!W){k=!0;break}B.push(W)}if(!k){if(Array.isArray(g)&&g.length!==B.length){p.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const R=Array.isArray(g)?g[P]:g.type,Z=B[P];p.concat(P+1).checkSubtype(R,Z.type)}if(p.errors.length===0)return new eC(r,o,b,B)}}if(a.length===1)t.errors.push(...p.errors);else{const b=(a.length?a:s).map(([k])=>hZ(k)).join(" | "),B=[];for(let k=1;k<n.length;k++){const P=t.parse(n[k],1+B.length);if(!P)return null;B.push(_s(P.type))}t.error(`Expected arguments of type ${b}, but found (${B.join(", ")}) instead.`)}return null}static register(n,t){eC.definitions=t;for(const r in t)n[r]=eC}};function hZ(e){return Array.isArray(e)?`(${e.map(_s).join(", ")})`:`(${_s(e.type)}...)`}function i3(e){if(e instanceof nR)return i3(e.boundExpression);if(e instanceof Ry&&e.name==="error")return!1;if(e instanceof ZU)return!1;if(e instanceof vB)return!1;const n=e instanceof Dg||e instanceof fp;let t=!0;return e.eachChild(r=>{n?t=t&&i3(r):t=t&&r instanceof n3}),t?V4(e)&&H4(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function V4(e){if(e instanceof Ry){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof vB)return!1;let n=!0;return e.eachChild(t=>{n&&!V4(t)&&(n=!1)}),n}function JC(e){if(e instanceof Ry&&e.name==="feature-state")return!1;let n=!0;return e.eachChild(t=>{n&&!JC(t)&&(n=!1)}),n}function H4(e,n){if(e instanceof Ry&&n.indexOf(e.name)>=0)return!1;let t=!0;return e.eachChild(r=>{t&&!H4(r,n)&&(t=!1)}),t}function Z4(e,n){const t=e.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=e[o],a=e[o+1],s<=n){if(o===t||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new hl("Input is not a number.");return 0}let iR=class oR{constructor(n,t,r){this.type=n,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,t){if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(n[1],1,tr);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],p=n[s+1],g=s,b=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=t.parse(p,b,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new oR(o,r,i)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=Z4(t,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function fZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pZ=aR;function aR(e,n,t,r){this.cx=3*e,this.bx=3*(t-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=t,this.p2y=r}aR.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,n){if(n===void 0&&(n=1e-6),e<0)return 0;if(e>1)return 1;for(var t=e,r=0;r<8;r++){var i=this.sampleCurveX(t)-e;if(Math.abs(i)<n)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=e,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-e)<n));r++)e>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(e,n){return this.sampleCurveY(this.solveCurveX(e,n))}};var mZ=fZ(pZ);function gZ(e){return e==="rgb"||e==="hcl"||e==="lab"}function q0(e,n,t){return e+t*(n-e)}function yZ(e,n,t,r="rgb"){switch(r){case"rgb":{const[i,o,s,a]=o3(e.rgb,n.rgb,t);return new xs(i,o,s,a,!1)}case"hcl":{const[i,o,s,a]=e.hcl,[p,g,b,B]=n.hcl;let k,P;if(!isNaN(i)&&!isNaN(p)){let q=p-i;p>i&&q>180?q-=360:p<i&&i-p>180&&(q+=360),k=i+t*q}else isNaN(i)?isNaN(p)?k=NaN:(k=p,(s===1||s===0)&&(P=g)):(k=i,(b===1||b===0)&&(P=o));const[R,Z,W,Q]=qH([k,P??q0(o,g,t),q0(s,b,t),q0(a,B,t)]);return new xs(R,Z,W,Q,!1)}case"lab":{const[i,o,s,a]=WU(o3(e.lab,n.lab,t));return new xs(i,o,s,a,!1)}}}function o3(e,n,t){return e.map((r,i)=>q0(r,n[i],t))}function vZ(e,n,t){return new Fc(o3(e.values,n.values,t))}function CZ(e,n,t){const r=e.values,i=n.values;if(r.length!==i.length)throw new hl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${n.toString()}`);const o=[];for(let s=0;s<r.length;s+=2){if(r[s]!==i[s])throw new hl(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${r[s]}, to[${s}]: ${i[s]}`);o.push(r[s]);const[a,p]=r[s+1],[g,b]=i[s+1];o.push([q0(a,g,t),q0(p,b,t)])}return new ff(o)}const h2={number:q0,color:yZ,array:o3,padding:vZ,variableAnchorOffsetCollection:CZ};let Cp=class g6{constructor(n,t,r,i,o){this.type=n,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,t,r,i){let o=0;if(n.name==="exponential")o=tM(t,n.base,r,i);else if(n.name==="linear")o=tM(t,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new mZ(s[0],s[1],s[2],s[3]).solve(tM(t,1,r,i))}return o}static parse(n,t){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(b=>typeof b!="number"||b<0||b>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,tr),!o)return null;const a=[];let p=null;r==="interpolate-hcl"||r==="interpolate-lab"?p=cf:t.expectedType&&t.expectedType.kind!=="value"&&(p=t.expectedType);for(let g=0;g<s.length;g+=2){const b=s[g],B=s[g+1],k=g+3,P=g+4;if(typeof b!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(a.length&&a[a.length-1][0]>=b)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const R=t.parse(B,P,p);if(!R)return null;p=p||R.type,a.push([b,R])}return!Fv(p,tr)&&!Fv(p,cf)&&!Fv(p,Y4)&&!Fv(p,q4)&&!Fv(p,Oc(tr))?t.error(`Type ${_s(p)} is not interpolatable.`):new g6(p,r,i,o,a)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=Z4(t,i),a=t[s],p=t[s+1],g=g6.interpolationFactor(this.interpolation,i,a,p),b=r[s].evaluate(n),B=r[s+1].evaluate(n);switch(this.operator){case"interpolate":return h2[this.type.kind](b,B,g);case"interpolate-hcl":return h2.color(b,B,g,"hcl");case"interpolate-lab":return h2.color(b,B,g,"lab")}}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}};function tM(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let sR=class y6{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const p=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!p)return null;r=r||p.type,o.push(p)}if(!r)throw new Error("No output type");return i&&o.some(a=>ZC(i,a.type))?new y6(Yi,o):new y6(r,o)}evaluate(n){let t=null,r=0,i;for(const o of this.args)if(r++,t=o.evaluate(n),t&&t instanceof g1&&!t.available&&(i||(i=t.name),t=null,r===this.args.length&&(t=i)),t!==null)break;return t}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}},lR=class uR{constructor(n,t){this.type=t.type,this.bindings=[].concat(n),this.result=t}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const t of this.bindings)n(t[1]);n(this.result)}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(n[n.length-1],n.length-1,t.expectedType,r);return i?new uR(r,i):null}outputDefined(){return this.result.outputDefined()}},_Z=class AR{constructor(n,t,r){this.type=n,this.index=t,this.input=r}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,tr),i=t.parse(n[2],2,Oc(t.expectedType||Yi));if(!r||!i)return null;const o=i.type;return new AR(o.itemType,r,i)}evaluate(n){const t=this.index.evaluate(n),r=this.input.evaluate(n);if(t<0)throw new hl(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new hl(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new hl(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}},bZ=class cR{constructor(n,t){this.type=Qi,this.needle=n,this.haystack=t}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,Yi);return!r||!i?null:fB(r.type,[Qi,uo,tr,G4,Yi])?new cR(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_s(r.type)} instead`)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!r)return!1;if(!XC(t,["boolean","string","number","null"]))throw new hl(`Expected first argument to be of type boolean, string, number or null, but found ${_s(zl(t))} instead.`);if(!XC(r,["string","array"]))throw new hl(`Expected second argument to be of type array or string, but found ${_s(zl(r))} instead.`);return r.indexOf(t)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}},xZ=class v6{constructor(n,t,r){this.type=tr,this.needle=n,this.haystack=t,this.fromIndex=r}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,Yi);if(!r||!i)return null;if(!fB(r.type,[Qi,uo,tr,G4,Yi]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_s(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,tr);return o?new v6(r,i,o):null}else return new v6(r,i)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!XC(t,["boolean","string","number","null"]))throw new hl(`Expected first argument to be of type boolean, string, number or null, but found ${_s(zl(t))} instead.`);if(!XC(r,["string","array"]))throw new hl(`Expected second argument to be of type array or string, but found ${_s(zl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}},wZ=class dR{constructor(n,t,r,i,o,s){this.inputType=n,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,t){if(n.length<5)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let b=n[g];const B=n[g+1];Array.isArray(b)||(b=[b]);const k=t.concat(g);if(b.length===0)return k.error("Expected at least one branch label.");for(const R of b){if(typeof R!="number"&&typeof R!="string")return k.error("Branch labels must be numbers or strings.");if(typeof R=="number"&&Math.abs(R)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof R=="number"&&Math.floor(R)!==R)return k.error("Numeric branch labels must be integer values.");if(!r)r=zl(R);else if(k.checkSubtype(r,zl(R)))return null;if(typeof o[String(R)]<"u")return k.error("Branch labels must be unique.");o[String(R)]=s.length}const P=t.parse(B,g,i);if(!P)return null;i=i||P.type,s.push(P)}const a=t.parse(n[1],1,Yi);if(!a)return null;const p=t.parse(n[n.length-1],n.length-1,i);return!p||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new dR(r,i,a,o,s,p)}evaluate(n){const t=this.input.evaluate(n);return(zl(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}},MZ=class hR{constructor(n,t,r){this.type=n,this.branches=t,this.otherwise=r}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=t.parse(n[s],s,Qi);if(!a)return null;const p=t.parse(n[s+1],s+1,r);if(!p)return null;i.push([a,p]),r=r||p.type}const o=t.parse(n[n.length-1],n.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new hR(r,i,o)}evaluate(n){for(const[t,r]of this.branches)if(t.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[t,r]of this.branches)n(t),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,t])=>t.outputDefined())&&this.otherwise.outputDefined()}},SZ=class C6{constructor(n,t,r,i){this.type=n,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Yi),i=t.parse(n[2],2,tr);if(!r||!i)return null;if(!fB(r.type,[Oc(Yi),uo,Yi]))return t.error(`Expected first argument to be of type array or string, but found ${_s(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,tr);return o?new C6(r.type,r,i,o):null}else return new C6(r.type,r,i)}evaluate(n){const t=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!XC(t,["string","array"]))throw new hl(`Expected first argument to be of type array or string, but found ${_s(zl(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return t.slice(r,i)}return t.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}};function RI(e,n){return e==="=="||e==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function EZ(e,n,t){return n===t}function OZ(e,n,t){return n!==t}function BZ(e,n,t){return n<t}function kZ(e,n,t){return n>t}function IZ(e,n,t){return n<=t}function TZ(e,n,t){return n>=t}function fR(e,n,t,r){return r.compare(n,t)===0}function KZ(e,n,t,r){return!fR(e,n,t,r)}function PZ(e,n,t,r){return r.compare(n,t)<0}function FZ(e,n,t,r){return r.compare(n,t)>0}function DZ(e,n,t,r){return r.compare(n,t)<=0}function UZ(e,n,t,r){return r.compare(n,t)>=0}function Ly(e,n,t){const r=e!=="=="&&e!=="!=";return class pR{constructor(o,s,a){this.type=Qi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let p=s.parse(o[1],1,Yi);if(!p)return null;if(!RI(a,p.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${_s(p.type)}'.`);let g=s.parse(o[2],2,Yi);if(!g)return null;if(!RI(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${_s(g.type)}'.`);if(p.type.kind!==g.type.kind&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${_s(p.type)}' and '${_s(g.type)}'.`);r&&(p.type.kind==="value"&&g.type.kind!=="value"?p=new fp(g.type,[p]):p.type.kind!=="value"&&g.type.kind==="value"&&(g=new fp(p.type,[g])));let b=null;if(o.length===4){if(p.type.kind!=="string"&&g.type.kind!=="string"&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(b=s.parse(o[3],3,Q4),!b)return null}return new pR(p,g,b)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const p=zl(s),g=zl(a);if(p.kind!==g.kind||!(p.kind==="string"||p.kind==="number"))throw new hl(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${p.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const p=zl(s),g=zl(a);if(p.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const RZ=Ly("==",EZ,fR),LZ=Ly("!=",OZ,KZ),zZ=Ly("<",BZ,PZ),jZ=Ly(">",kZ,FZ),WZ=Ly("<=",IZ,DZ),NZ=Ly(">=",TZ,UZ);let GZ=class mR{constructor(n,t,r,i,o){this.type=uo,this.number=n,this.locale=t,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(n,t){if(n.length!==3)return t.error("Expected two arguments.");const r=t.parse(n[1],1,tr);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,uo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,uo),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=t.parse(i["min-fraction-digits"],1,tr),!a))return null;let p=null;return i["max-fraction-digits"]&&(p=t.parse(i["max-fraction-digits"],1,tr),!p)?null:new mR(r,o,s,a,p)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}},QZ=class gR{constructor(n){this.type=$4,this.sections=n}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let p=null;if(a["font-scale"]&&(p=t.parse(a["font-scale"],1,tr),!p))return null;let g=null;if(a["text-font"]&&(g=t.parse(a["text-font"],1,Oc(uo)),!g))return null;let b=null;if(a["text-color"]&&(b=t.parse(a["text-color"],1,cf),!b))return null;const B=i[i.length-1];B.scale=p,B.font=g,B.textColor=b}else{const p=t.parse(n[s],1,Yi);if(!p)return null;const g=p.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:p,scale:null,font:null,textColor:null})}}return new gR(i)}evaluate(n){const t=r=>{const i=r.content.evaluate(n);return zl(i)===F_?new m6("",i,null,null,null):new m6(_C(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new Uy(this.sections.map(t))}eachChild(n){for(const t of this.sections)n(t.content),t.scale&&n(t.scale),t.font&&n(t.font),t.textColor&&n(t.textColor)}outputDefined(){return!1}},$Z=class yR{constructor(n){this.type=F_,this.input=n}static parse(n,t){if(n.length!==2)return t.error("Expected two arguments.");const r=t.parse(n[1],1,uo);return r?new yR(r):t.error("No image name provided.")}evaluate(n){const t=this.input.evaluate(n),r=g1.fromString(t);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(t)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}},YZ=class vR{constructor(n){this.type=tr,this.input=n}static parse(n,t){if(n.length!==2)return t.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=t.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${_s(r.type)} instead.`):new vR(r):null}evaluate(n){const t=this.input.evaluate(n);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new hl(`Expected value to be of type string or array, but found ${_s(zl(t))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}};const CB={"==":RZ,"!=":LZ,">":jZ,"<":zZ,">=":NZ,"<=":WZ,array:fp,at:_Z,boolean:fp,case:MZ,coalesce:sR,collator:ZU,format:QZ,image:$Z,in:bZ,"index-of":xZ,interpolate:Cp,"interpolate-hcl":Cp,"interpolate-lab":Cp,length:YZ,let:lR,literal:n3,match:wZ,number:fp,"number-format":GZ,object:fp,slice:SZ,step:iR,string:fp,"to-boolean":Dg,"to-color":Dg,"to-number":Dg,"to-string":Dg,var:nR,within:vB};function LI(e,[n,t,r,i]){n=n.evaluate(e),t=t.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=GU(n,t,r,o);if(s)throw new hl(s);return new xs(n/255,t/255,r/255,o,!1)}function zI(e,n){return e in n}function nM(e,n){const t=n[e];return typeof t>"u"?null:t}function qZ(e,n,t,r){for(;t<=r;){const i=t+r>>1;if(n[i]===e)return!0;n[i]>e?r=i-1:t=i+1}return!1}function h0(e){return{type:e}}Ry.register(CB,{error:[WH,[uo],(e,[n])=>{throw new hl(n.evaluate(e))}],typeof:[uo,[Yi],(e,[n])=>_s(zl(n.evaluate(e)))],"to-rgba":[Oc(tr,4),[cf],(e,[n])=>{const[t,r,i,o]=n.evaluate(e).rgb;return[t*255,r*255,i*255,o]}],rgb:[cf,[tr,tr,tr],LI],rgba:[cf,[tr,tr,tr,tr],LI],has:{type:Qi,overloads:[[[uo],(e,[n])=>zI(n.evaluate(e),e.properties())],[[uo,Xg],(e,[n,t])=>zI(n.evaluate(e),t.evaluate(e))]]},get:{type:Yi,overloads:[[[uo],(e,[n])=>nM(n.evaluate(e),e.properties())],[[uo,Xg],(e,[n,t])=>nM(n.evaluate(e),t.evaluate(e))]]},"feature-state":[Yi,[uo],(e,[n])=>nM(n.evaluate(e),e.featureState||{})],properties:[Xg,[],e=>e.properties()],"geometry-type":[uo,[],e=>e.geometryType()],id:[Yi,[],e=>e.id()],zoom:[tr,[],e=>e.globals.zoom],"heatmap-density":[tr,[],e=>e.globals.heatmapDensity||0],"line-progress":[tr,[],e=>e.globals.lineProgress||0],accumulated:[Yi,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[tr,h0(tr),(e,n)=>{let t=0;for(const r of n)t+=r.evaluate(e);return t}],"*":[tr,h0(tr),(e,n)=>{let t=1;for(const r of n)t*=r.evaluate(e);return t}],"-":{type:tr,overloads:[[[tr,tr],(e,[n,t])=>n.evaluate(e)-t.evaluate(e)],[[tr],(e,[n])=>-n.evaluate(e)]]},"/":[tr,[tr,tr],(e,[n,t])=>n.evaluate(e)/t.evaluate(e)],"%":[tr,[tr,tr],(e,[n,t])=>n.evaluate(e)%t.evaluate(e)],ln2:[tr,[],()=>Math.LN2],pi:[tr,[],()=>Math.PI],e:[tr,[],()=>Math.E],"^":[tr,[tr,tr],(e,[n,t])=>Math.pow(n.evaluate(e),t.evaluate(e))],sqrt:[tr,[tr],(e,[n])=>Math.sqrt(n.evaluate(e))],log10:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))/Math.LN10],ln:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))],log2:[tr,[tr],(e,[n])=>Math.log(n.evaluate(e))/Math.LN2],sin:[tr,[tr],(e,[n])=>Math.sin(n.evaluate(e))],cos:[tr,[tr],(e,[n])=>Math.cos(n.evaluate(e))],tan:[tr,[tr],(e,[n])=>Math.tan(n.evaluate(e))],asin:[tr,[tr],(e,[n])=>Math.asin(n.evaluate(e))],acos:[tr,[tr],(e,[n])=>Math.acos(n.evaluate(e))],atan:[tr,[tr],(e,[n])=>Math.atan(n.evaluate(e))],min:[tr,h0(tr),(e,n)=>Math.min(...n.map(t=>t.evaluate(e)))],max:[tr,h0(tr),(e,n)=>Math.max(...n.map(t=>t.evaluate(e)))],abs:[tr,[tr],(e,[n])=>Math.abs(n.evaluate(e))],round:[tr,[tr],(e,[n])=>{const t=n.evaluate(e);return t<0?-Math.round(-t):Math.round(t)}],floor:[tr,[tr],(e,[n])=>Math.floor(n.evaluate(e))],ceil:[tr,[tr],(e,[n])=>Math.ceil(n.evaluate(e))],"filter-==":[Qi,[uo,Yi],(e,[n,t])=>e.properties()[n.value]===t.value],"filter-id-==":[Qi,[Yi],(e,[n])=>e.id()===n.value],"filter-type-==":[Qi,[uo],(e,[n])=>e.geometryType()===n.value],"filter-<":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<r}],"filter->":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>r}],"filter-<=":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<=r}],"filter->=":[Qi,[uo,Yi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Qi,[Yi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>=r}],"filter-has":[Qi,[Yi],(e,[n])=>n.value in e.properties()],"filter-has-id":[Qi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Qi,[Oc(uo)],(e,[n])=>n.value.indexOf(e.geometryType())>=0],"filter-id-in":[Qi,[Oc(Yi)],(e,[n])=>n.value.indexOf(e.id())>=0],"filter-in-small":[Qi,[uo,Oc(Yi)],(e,[n,t])=>t.value.indexOf(e.properties()[n.value])>=0],"filter-in-large":[Qi,[uo,Oc(Yi)],(e,[n,t])=>qZ(e.properties()[n.value],t.value,0,t.value.length-1)],all:{type:Qi,overloads:[[[Qi,Qi],(e,[n,t])=>n.evaluate(e)&&t.evaluate(e)],[h0(Qi),(e,n)=>{for(const t of n)if(!t.evaluate(e))return!1;return!0}]]},any:{type:Qi,overloads:[[[Qi,Qi],(e,[n,t])=>n.evaluate(e)||t.evaluate(e)],[h0(Qi),(e,n)=>{for(const t of n)if(t.evaluate(e))return!0;return!1}]]},"!":[Qi,[Qi],(e,[n])=>!n.evaluate(e)],"is-supported-script":[Qi,[uo],(e,[n])=>{const t=e.globals&&e.globals.isSupportedScript;return t?t(n.evaluate(e)):!0}],upcase:[uo,[uo],(e,[n])=>n.evaluate(e).toUpperCase()],downcase:[uo,[uo],(e,[n])=>n.evaluate(e).toLowerCase()],concat:[uo,h0(Yi),(e,n)=>n.map(t=>_C(t.evaluate(e))).join("")],"resolved-locale":[uo,[Q4],(e,[n])=>n.evaluate(e).resolvedLocale()]});function _6(e){return{result:"success",value:e}}function vg(e){return{result:"error",value:e}}function a3(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function CR(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function _B(e){return!!e.expression&&e.expression.interpolated}function Ko(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function D_(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function VZ(e){return e}function bB(e,n){const t=n.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,s=e.type||(_B(n)?"exponential":"interval");if(t||n.type==="padding"){const b=t?xs.parse:Fc.parse;e=by({},e),e.stops&&(e.stops=e.stops.map(B=>[B[0],b(B[1])])),e.default?e.default=b(e.default):e.default=b(n.default)}if(e.colorSpace&&!gZ(e.colorSpace))throw new Error(`Unknown color space: "${e.colorSpace}"`);let a,p,g;if(s==="exponential")a=jI;else if(s==="interval")a=ZZ;else if(s==="categorical"){a=HZ,p=Object.create(null);for(const b of e.stops)p[b[0]]=b[1];g=typeof e.stops[0][0]}else if(s==="identity")a=XZ;else throw new Error(`Unknown function type "${s}"`);if(r){const b={},B=[];for(let R=0;R<e.stops.length;R++){const Z=e.stops[R],W=Z[0].zoom;b[W]===void 0&&(b[W]={zoom:W,type:e.type,property:e.property,default:e.default,stops:[]},B.push(W)),b[W].stops.push([Z[0].value,Z[1]])}const k=[];for(const R of B)k.push([b[R].zoom,bB(b[R],n)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Cp.interpolationFactor.bind(void 0,P),zoomStops:k.map(R=>R[0]),evaluate({zoom:R},Z){return jI({stops:k,base:e.base},n,R).evaluate(R,Z)}}}else if(o){const b=s==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:b,interpolationFactor:Cp.interpolationFactor.bind(void 0,b),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(e,n,B,p,g)}}else return{kind:"source",evaluate(b,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?U_(e.default,n.default):a(e,n,k,p,g)}}}function U_(e,n,t){if(e!==void 0)return e;if(n!==void 0)return n;if(t!==void 0)return t}function HZ(e,n,t,r,i){const o=typeof t===i?r[t]:void 0;return U_(o,e.default,n.default)}function ZZ(e,n,t){if(Ko(t)!=="number")return U_(e.default,n.default);const r=e.stops.length;if(r===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[r-1][0])return e.stops[r-1][1];const i=Z4(e.stops.map(o=>o[0]),t);return e.stops[i][1]}function jI(e,n,t){const r=e.base!==void 0?e.base:1;if(Ko(t)!=="number")return U_(e.default,n.default);const i=e.stops.length;if(i===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[i-1][0])return e.stops[i-1][1];const o=Z4(e.stops.map(b=>b[0]),t),s=JZ(t,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],p=e.stops[o+1][1],g=h2[n.type]||VZ;return typeof a.evaluate=="function"?{evaluate(...b){const B=a.evaluate.apply(void 0,b),k=p.evaluate.apply(void 0,b);if(!(B===void 0||k===void 0))return g(B,k,s,e.colorSpace)}}:g(a,p,s,e.colorSpace)}function XZ(e,n,t){switch(n.type){case"color":t=xs.parse(t);break;case"formatted":t=Uy.fromString(t.toString());break;case"resolvedImage":t=g1.fromString(t.toString());break;case"padding":t=Fc.parse(t);break;default:Ko(t)!==n.type&&(n.type!=="enum"||!n.values[t])&&(t=void 0)}return U_(t,e.default,n.default)}function JZ(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}let _R=class{constructor(n,t){this.expression=n,this._warningHistory={},this._evaluator=new qU,this._defaultValue=t?rX(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._evaluator.globals=n,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(n,t,r,i,o,s){this._evaluator.globals=n,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new hl(`Expected value to be one of ${Object.keys(this._enumValues).map(p=>JSON.stringify(p)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}};function R_(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in CB}function xB(e,n){const t=new VU(CB,i3,[],n?nX(n):void 0),r=t.parse(e,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?_6(new _R(r,n)):vg(t.errors)}let b6=class{constructor(n,t){this.kind=n,this._styleExpression=t,this.isStateDependent=n!=="constant"&&!JC(t.expression)}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}},x6=class{constructor(n,t,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=n!=="camera"&&!JC(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}interpolationFactor(n,t,r){return this.interpolationType?Cp.interpolationFactor(this.interpolationType,n,t,r):0}};function eX(e){return e._styleExpression!==void 0}function wB(e,n){const t=xB(e,n);if(t.result==="error")return t;const r=t.value.expression,i=V4(r);if(!i&&!a3(n))return vg([new tf("","data expressions not supported")]);const o=H4(r,["zoom"]);if(!o&&!CR(n))return vg([new tf("","zoom expressions not supported")]);const s=f2(r);if(!s&&!o)return vg([new tf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof tf)return vg([s]);if(s instanceof Cp&&!_B(n))return vg([new tf("",'"interpolate" expressions cannot be used with this property')]);if(!s)return _6(i?new b6("constant",t.value):new b6("source",t.value));const a=s instanceof Cp?s.interpolation:void 0;return _6(i?new x6("camera",t.value,s.labels,a):new x6("composite",t.value,s.labels,a))}let bR=class xR{constructor(n,t){this._parameters=n,this._specification=t,by(this,bB(this._parameters,this._specification))}static deserialize(n){return new xR(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}};function tX(e,n){if(D_(e))return new bR(e,n);if(R_(e)){const t=wB(e,n);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=e;return n.type==="color"&&typeof e=="string"?t=xs.parse(e):n.type==="padding"&&(typeof e=="number"||Array.isArray(e))?t=Fc.parse(e):n.type==="variableAnchorOffsetCollection"&&Array.isArray(e)&&(t=ff.parse(e)),{kind:"constant",evaluate:()=>t}}}function f2(e){let n=null;if(e instanceof lR)n=f2(e.result);else if(e instanceof sR){for(const t of e.args)if(n=f2(t),n)break}else(e instanceof iR||e instanceof Cp)&&e.input instanceof Ry&&e.input.name==="zoom"&&(n=e);return n instanceof tf||e.eachChild(t=>{const r=f2(t);r instanceof tf?n=r:!n&&r?n=new tf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new tf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function nX(e){const n={color:cf,string:uo,number:tr,enum:uo,boolean:Qi,formatted:$4,padding:Y4,resolvedImage:F_,variableAnchorOffsetCollection:q4};return e.type==="array"?Oc(n[e.value]||Yi,e.length):n[e.type]}function rX(e){return e.type==="color"&&D_(e.default)?new xs(0,0,0,0):e.type==="color"?xs.parse(e.default)||null:e.type==="padding"?Fc.parse(e.default)||null:e.type==="variableAnchorOffsetCollection"?ff.parse(e.default)||null:e.default===void 0?null:e.default}function X4(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const n of e.slice(1))if(!X4(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function bC(e,n={}){if(X4(e))return e;if(!e)return!0;const t=e,r=t[0];if(e.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=e;return oX(i,o,r,n)}case"any":{const[,...i]=t;return["any",...i.map(s=>{const a={},p=bC(s,a),g=iX(a);return g===!0?p:["case",g,p,!1]})]}case"all":{const[,...i]=t,o=i.map(s=>bC(s,n));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=t;return["!",bC(["any",...i],{})]}case"in":{const[,i,...o]=t;return WI(i,o)}case"!in":{const[,i,...o]=t;return WI(i,o,!0)}case"has":return NI(t[1]);case"!has":return["!",NI(t[1])];default:return!0}}function iX(e){const n=[];for(const t in e){const r=t==="$id"?["id"]:["get",t];n.push(["==",["typeof",r],e[t]])}return n.length===0?!0:n.length===1?n[0]:["all",...n]}function oX(e,n,t,r){let i;if(e==="$type")return[t,["geometry-type"],n];if(e==="$id"?i=["id"]:i=["get",e],r&&n!==null){const o=typeof n;r[e]=o}return t==="=="&&e!=="$id"&&n===null?["all",["has",e],["==",i,null]]:t==="!="&&e!=="$id"&&n===null?["any",["!",["has",e]],["!=",i,null]]:[t,i,n]}function WI(e,n,t=!1){if(n.length===0)return t;let r;e==="$type"?r=["geometry-type"]:e==="$id"?r=["id"]:r=["get",e];let i=!0;const o=typeof n[0];for(const s of n)if(typeof s!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const s=n.sort().filter((a,p)=>p===0||n[p-1]!==a);return["match",r,s,!t,t]}return t?["all",...n.map(s=>["!=",r,s])]:["any",...n.map(s=>["==",r,s])]}function NI(e){return e==="$type"?!0:e==="$id"?["!=",["id"],null]:["has",e]}function e_(e){return typeof e=="object"?["literal",e]:e}function wR(e,n){let t=e.stops;if(!t)return aX(e,n);const r=t&&typeof t[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return t=t.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],MR(s[1])]:[s[0],e_(s[1])]),r?sX(e,n,t):o?uX(e,n,t):w6(e,n,t)}function aX(e,n){const t=["get",e.property];if(e.default===void 0)return n.type==="string"?["string",t]:t;if(n.type==="enum")return["match",t,Object.keys(n.values),t,e.default];{const r=[n.type==="color"?"to-color":n.type,t,e_(e.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function MB(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function sX(e,n,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const p=t[a],g=p[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([p[0].value,p[1]])}if(EB({},n)==="exponential"){const a=[MB(e),["linear"],["zoom"]];for(const p of o){const g=w6(r[p],n,i[p]);ey(a,p,g,!1)}return a}else{const a=["step",["zoom"]];for(const p of o){const g=w6(r[p],n,i[p]);ey(a,p,g,!0)}return SB(a),a}}function lX(e,n){if(e!==void 0)return e;if(n!==void 0)return n}function GI(e,n){const t=e_(lX(e.default,n.default));return t===void 0&&n.type==="resolvedImage"?"":t}function w6(e,n,t){const r=EB(e,n),i=["get",e.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(GI(e,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)ey(o,s[0],s[1],!1);return o.push(GI(e,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)ey(o,s[0],s[1],!0);return SB(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,e_(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,s=[MB(e),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)ey(s,a[0],a[1],!1);return e.default===void 0?s:["case",["==",["typeof",i],"number"],s,e_(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function uX(e,n,t,r=["zoom"]){const i=EB(e,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=e.base!==void 0?e.base:1;o=[MB(e),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)ey(o,a[0],a[1],s);return SB(o),o}function SB(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function ey(e,n,t,r){e.length>3&&n===e[e.length-2]||(r&&e.length===2||e.push(n),e.push(t))}function EB(e,n){return e.type?e.type:n.expression.interpolated?"exponential":"interval"}function MR(e){const n=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(e);i!==null;i=t.exec(e)){const o=e.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return e;if(r<e.length)n.push(e.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function AX(e){for(let n=0;n<pa.layout.length;n++)for(const t in pa[pa.layout[n]])if(t===e)return pa[pa.layout[n]][t];for(let n=0;n<pa.paint.length;n++)for(const t in pa[pa.paint[n]])if(t===e)return pa[pa.paint[n]][t];return null}function cX(e,n){for(const t in e.sources)n(e.sources[t])}function xC(e,n){for(const t of e.layers)n(t)}function OB(e,n,t){function r(i,o){const s=i[o];s&&Object.keys(s).forEach(a=>{t({path:[i.id,o,a],key:a,value:s[a],reference:AX(a),set(p){s[a]=p}})})}xC(e,i=>{n.paint&&r(i,"paint"),n.layout&&r(i,"layout")})}function SR(e){const n=e.key,t=e.value;return t?[new Hn(n,t,"constants have been deprecated as of v8")]:[]}function tl(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function a1(e){if(Array.isArray(e))return e.map(a1);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const n={};for(const t in e)n[t]=a1(e[t]);return n}return tl(e)}function hd(e){const n=e.key,t=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,s=e.styleSpec,a=e.validateSpec;let p=[];const g=Ko(t);if(g!=="object")return[new Hn(n,t,`object expected, ${g} found`)];for(const b in t){const B=b.split(".")[0],k=r[B]||r["*"];let P;if(i[B])P=i[B];else if(r[B])P=a;else if(i["*"])P=i["*"];else if(r["*"])P=a;else{p.push(new Hn(n,t[b],`unknown property "${b}"`));continue}p=p.concat(P({key:(n&&`${n}.`)+b,value:t[b],valueSpec:k,style:o,styleSpec:s,object:t,objectKey:b,validateSpec:a},t))}for(const b in r)i[b]||r[b].required&&r[b].default===void 0&&t[b]===void 0&&p.push(new Hn(n,t,`missing required property "${b}"`));return p}function BB(e){const n=e.value,t=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.key,a=e.arrayElementValidator||r;if(Ko(n)!=="array")return[new Hn(s,n,`array expected, ${Ko(n)} found`)];if(t.length&&n.length!==t.length)return[new Hn(s,n,`array length ${t.length} expected, length ${n.length} found`)];if(t["min-length"]&&n.length<t["min-length"])return[new Hn(s,n,`array length at least ${t["min-length"]} expected, length ${n.length} found`)];let p={type:t.value,values:t.values};o.$version<7&&(p.function=t.function),Ko(t.value)==="object"&&(p=t.value);let g=[];for(let b=0;b<n.length;b++)g=g.concat(a({array:n,arrayIndex:b,value:n[b],valueSpec:p,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${s}[${b}]`}));return g}function kB(e){const n=e.key,t=e.value,r=e.valueSpec;let i=Ko(t);return i==="number"&&t!==t&&(i="NaN"),i!=="number"?[new Hn(n,t,`number expected, ${i} found`)]:"minimum"in r&&t<r.minimum?[new Hn(n,t,`${t} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&t>r.maximum?[new Hn(n,t,`${t} is greater than the maximum value ${r.maximum}`)]:[]}function ER(e){const n=e.valueSpec,t=tl(e.value.type);let r,i={},o,s;const a=t!=="categorical"&&e.value.property===void 0,p=!a,g=Ko(e.value.stops)==="array"&&Ko(e.value.stops[0])==="array"&&Ko(e.value.stops[0][0])==="object",b=hd({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:B,default:R}});return t==="identity"&&a&&b.push(new Hn(e.key,e.value,'missing required property "property"')),t!=="identity"&&!e.value.stops&&b.push(new Hn(e.key,e.value,'missing required property "stops"')),t==="exponential"&&e.valueSpec.expression&&!_B(e.valueSpec)&&b.push(new Hn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(p&&!a3(e.valueSpec)?b.push(new Hn(e.key,e.value,"property functions not supported")):a&&!CR(e.valueSpec)&&b.push(new Hn(e.key,e.value,"zoom functions not supported"))),(t==="categorical"||g)&&e.value.property===void 0&&b.push(new Hn(e.key,e.value,'"property" property is required')),b;function B(Z){if(t==="identity")return[new Hn(Z.key,Z.value,'identity function may not have a "stops" property')];let W=[];const Q=Z.value;return W=W.concat(BB({key:Z.key,value:Q,valueSpec:Z.valueSpec,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:k})),Ko(Q)==="array"&&Q.length===0&&W.push(new Hn(Z.key,Q,"array must have at least one stop")),W}function k(Z){let W=[];const Q=Z.value,q=Z.key;if(Ko(Q)!=="array")return[new Hn(q,Q,`array expected, ${Ko(Q)} found`)];if(Q.length!==2)return[new Hn(q,Q,`array length 2 expected, length ${Q.length} found`)];if(g){if(Ko(Q[0])!=="object")return[new Hn(q,Q,`object expected, ${Ko(Q[0])} found`)];if(Q[0].zoom===void 0)return[new Hn(q,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new Hn(q,Q,"object stop key must have value")];if(s&&s>tl(Q[0].zoom))return[new Hn(q,Q[0].zoom,"stop zoom values must appear in ascending order")];tl(Q[0].zoom)!==s&&(s=tl(Q[0].zoom),o=void 0,i={}),W=W.concat(hd({key:`${q}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:kB,value:P}}))}else W=W.concat(P({key:`${q}[0]`,value:Q[0],valueSpec:{},validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec},Q));return R_(a1(Q[1]))?W.concat([new Hn(`${q}[1]`,Q[1],"expressions are not allowed in function stops.")]):W.concat(Z.validateSpec({key:`${q}[1]`,value:Q[1],valueSpec:n,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec}))}function P(Z,W){const Q=Ko(Z.value),q=tl(Z.value),oe=Z.value!==null?Z.value:W;if(!r)r=Q;else if(Q!==r)return[new Hn(Z.key,oe,`${Q} stop domain type must match previous stop domain type ${r}`)];if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new Hn(Z.key,oe,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&t!=="categorical"){let re=`number expected, ${Q} found`;return a3(n)&&t===void 0&&(re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Hn(Z.key,oe,re)]}return t==="categorical"&&Q==="number"&&(!isFinite(q)||Math.floor(q)!==q)?[new Hn(Z.key,oe,`integer expected, found ${q}`)]:t!=="categorical"&&Q==="number"&&o!==void 0&&q<o?[new Hn(Z.key,oe,"stop domain values must appear in ascending order")]:(o=q,t==="categorical"&&q in i?[new Hn(Z.key,oe,"stop domain values must be unique")]:(i[q]=!0,[]))}function R(Z){return Z.validateSpec({key:Z.key,value:Z.value,valueSpec:n,validateSpec:Z.validateSpec,style:Z.style,styleSpec:Z.styleSpec})}}function xy(e){const n=(e.expressionContext==="property"?wB:xB)(a1(e.value),e.valueSpec);if(n.result==="error")return n.value.map(r=>new Hn(`${e.key}${r.key}`,e.value,r.message));const t=n.value.expression||n.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!t.outputDefined())return[new Hn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!JC(t))return[new Hn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!JC(t))return[new Hn(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!H4(t,["zoom","feature-state"]))return[new Hn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!V4(t))return[new Hn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function dX(e){const n=e.value,t=e.key,r=Ko(n);return r!=="boolean"?[new Hn(t,n,`boolean expected, ${r} found`)]:[]}function hX(e){const n=e.key,t=e.value,r=Ko(t);return r!=="string"?[new Hn(n,t,`color expected, ${r} found`)]:xs.parse(String(t))?[]:[new Hn(n,t,`color expected, "${t}" found`)]}function t_(e){const n=e.key,t=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(tl(t))===-1&&i.push(new Hn(n,t,`expected one of [${r.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(r.values).indexOf(tl(t))===-1&&i.push(new Hn(n,t,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(t)} found`)),i}function IB(e){return X4(a1(e.value))?xy(by({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):OR(e)}function OR(e){const n=e.value,t=e.key;if(Ko(n)!=="array")return[new Hn(t,n,`array expected, ${Ko(n)} found`)];const r=e.styleSpec;let i,o=[];if(n.length<1)return[new Hn(t,n,"filter array must have at least 1 element")];switch(o=o.concat(t_({key:`${t}[0]`,value:n[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),tl(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&tl(n[1])==="$type"&&o.push(new Hn(t,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&o.push(new Hn(t,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(i=Ko(n[1]),i!=="string"&&o.push(new Hn(`${t}[1]`,n[1],`string expected, ${i} found`)));for(let s=2;s<n.length;s++)i=Ko(n[s]),tl(n[1])==="$type"?o=o.concat(t_({key:`${t}[${s}]`,value:n[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Hn(`${t}[${s}]`,n[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let s=1;s<n.length;s++)o=o.concat(OR({key:`${t}[${s}]`,value:n[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Ko(n[1]),n.length!==2?o.push(new Hn(t,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Hn(`${t}[1]`,n[1],`string expected, ${i} found`));break;case"within":i=Ko(n[1]),n.length!==2?o.push(new Hn(t,n,`filter array for "${n[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new Hn(`${t}[1]`,n[1],`object expected, ${i} found`));break}return o}function BR(e,n){const t=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,s=e.value,a=e.objectKey,p=o[`${n}_${e.layerType}`];if(!p)return[];const g=a.match(/^(.*)-transition$/);if(n==="paint"&&g&&p[g[1]]&&p[g[1]].transition)return r({key:t,value:s,valueSpec:o.transition,style:i,styleSpec:o});const b=e.valueSpec||p[a];if(!b)return[new Hn(t,s,`unknown property "${a}"`)];let B;if(Ko(s)==="string"&&a3(b)&&!b.tokens&&(B=/^{([^}]+)}$/.exec(s)))return[new Hn(t,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];const k=[];return e.layerType==="symbol"&&(a==="text-field"&&i&&!i.glyphs&&k.push(new Hn(t,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&D_(a1(s))&&tl(s.type)==="identity"&&k.push(new Hn(t,s,'"text-font" does not support identity functions'))),k.concat(r({key:e.key,value:s,valueSpec:b,style:i,styleSpec:o,expressionContext:"property",propertyType:n,propertyKey:a}))}function kR(e){return BR(e,"paint")}function IR(e){return BR(e,"layout")}function TR(e){let n=[];const t=e.value,r=e.key,i=e.style,o=e.styleSpec;!t.type&&!t.ref&&n.push(new Hn(r,t,'either "type" or "ref" is required'));let s=tl(t.type);const a=tl(t.ref);if(t.id){const p=tl(t.id);for(let g=0;g<e.arrayIndex;g++){const b=i.layers[g];tl(b.id)===p&&n.push(new Hn(r,t.id,`duplicate layer id "${t.id}", previously used at line ${b.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(g=>{g in t&&n.push(new Hn(r,t[g],`"${g}" is prohibited for ref layers`))});let p;i.layers.forEach(g=>{tl(g.id)===a&&(p=g)}),p?p.ref?n.push(new Hn(r,t.ref,"ref cannot reference another ref layer")):s=tl(p.type):n.push(new Hn(r,t.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!t.source)n.push(new Hn(r,t,'missing required property "source"'));else{const p=i.sources&&i.sources[t.source],g=p&&tl(p.type);p?g==="vector"&&s==="raster"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a raster source`)):g!=="raster-dem"&&s==="hillshade"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a raster-dem source`)):g==="raster"&&s!=="raster"?n.push(new Hn(r,t.source,`layer "${t.id}" requires a vector source`)):g==="vector"&&!t["source-layer"]?n.push(new Hn(r,t,`layer "${t.id}" must specify a "source-layer"`)):g==="raster-dem"&&s!=="hillshade"?n.push(new Hn(r,t.source,"raster-dem source can only be used with layer type 'hillshade'.")):s==="line"&&t.paint&&t.paint["line-gradient"]&&(g!=="geojson"||!p.lineMetrics)&&n.push(new Hn(r,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new Hn(r,t.source,`source "${t.source}" not found`))}return n=n.concat(hd({key:r,value:t,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*"(){return[]},type(){return e.validateSpec({key:`${r}.type`,value:t.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:t,objectKey:"type"})},filter:IB,layout(p){return hd({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(g){return IR(by({layerType:s},g))}}})},paint(p){return hd({layer:t,key:p.key,value:p.value,style:p.style,styleSpec:p.styleSpec,validateSpec:p.validateSpec,objectElementValidators:{"*"(g){return kR(by({layerType:s},g))}}})}}})),n}function s1(e){const n=e.value,t=e.key,r=Ko(n);return r!=="string"?[new Hn(t,n,`string expected, ${r} found`)]:[]}function fX(e){var n;const t=(n=e.sourceName)!==null&&n!==void 0?n:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,s=e.style;let a=[];const p=Ko(r);if(r===void 0)return a;if(p!=="object")return a.push(new Hn("source_raster_dem",r,`object expected, ${p} found`)),a;const b=tl(r.encoding)==="custom",B=["redFactor","greenFactor","blueFactor","baseShift"],k=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const P in r)!b&&B.includes(P)?a.push(new Hn(P,r[P],`In "${t}": "${P}" is only valid when "encoding" is set to "custom". ${k} encoding found`)):o[P]?a=a.concat(e.validateSpec({key:P,value:r[P],valueSpec:o[P],validateSpec:e.validateSpec,style:s,styleSpec:i})):a.push(new Hn(P,r[P],`unknown property "${P}"`));return a}const QI={promoteId:pX};function KR(e){const n=e.value,t=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!n.type)return[new Hn(t,n,'"type" is required')];const s=tl(n.type);let a;switch(s){case"vector":case"raster":return a=hd({key:t,value:n,valueSpec:r[`source_${s.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:QI,validateSpec:o}),a;case"raster-dem":return a=fX({sourceName:t,value:n,style:e.style,styleSpec:r,validateSpec:o}),a;case"geojson":if(a=hd({key:t,value:n,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:QI}),n.cluster)for(const p in n.clusterProperties){const[g,b]=n.clusterProperties[p],B=typeof g=="string"?[g,["accumulated"],["get",p]]:g;a.push(...xy({key:`${t}.${p}.map`,value:b,validateSpec:o,expressionContext:"cluster-map"})),a.push(...xy({key:`${t}.${p}.reduce`,value:B,validateSpec:o,expressionContext:"cluster-reduce"}))}return a;case"video":return hd({key:t,value:n,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return hd({key:t,value:n,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Hn(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return t_({key:`${t}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function pX({key:e,value:n}){if(Ko(n)==="string")return s1({key:e,value:n});{const t=[];for(const r in n)t.push(...s1({key:`${e}.${r}`,value:n[r]}));return t}}function PR(e){const n=e.value,t=e.styleSpec,r=t.light,i=e.style;let o=[];const s=Ko(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new Hn("light",n,`object expected, ${s} found`)]),o;for(const a in n){const p=a.match(/^(.*)-transition$/);p&&r[p[1]]&&r[p[1]].transition?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:t.transition,validateSpec:e.validateSpec,style:i,styleSpec:t})):r[a]?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:e.validateSpec,style:i,styleSpec:t})):o=o.concat([new Hn(a,n[a],`unknown property "${a}"`)])}return o}function FR(e){const n=e.value,t=e.styleSpec,r=t.sky,i=e.style,o=Ko(n);if(n===void 0)return[];if(o!=="object")return[new Hn("sky",n,`object expected, ${o} found`)];let s=[];for(const a in n)r[a]?s=s.concat(ty({key:a,value:n[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Hn(a,n[a],`unknown property "${a}"`)]);return s}function DR(e){const n=e.value,t=e.styleSpec,r=t.terrain,i=e.style;let o=[];const s=Ko(n);if(n===void 0)return o;if(s!=="object")return o=o.concat([new Hn("terrain",n,`object expected, ${s} found`)]),o;for(const a in n)r[a]?o=o.concat(e.validateSpec({key:a,value:n[a],valueSpec:r[a],validateSpec:e.validateSpec,style:i,styleSpec:t})):o=o.concat([new Hn(a,n[a],`unknown property "${a}"`)]);return o}function mX(e){return s1(e).length===0?[]:xy(e)}function gX(e){return s1(e).length===0?[]:xy(e)}function yX(e){const n=e.key,t=e.value;if(Ko(t)==="array"){if(t.length<1||t.length>4)return[new Hn(n,t,`padding requires 1 to 4 values; ${t.length} values found`)];const i={type:"number"};let o=[];for(let s=0;s<t.length;s++)o=o.concat(e.validateSpec({key:`${n}[${s}]`,value:t[s],validateSpec:e.validateSpec,valueSpec:i}));return o}else return kB({key:n,value:t,valueSpec:{}})}function vX(e){const n=e.key,t=e.value,r=Ko(t),i=e.styleSpec;if(r!=="array"||t.length<1||t.length%2!==0)return[new Hn(n,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let s=0;s<t.length;s+=2)o=o.concat(t_({key:`${n}[${s}]`,value:t[s],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(BB({key:`${n}[${s+1}]`,value:t[s+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o}function UR(e){let n=[];const t=e.value,r=e.key;if(Array.isArray(t)){const i=[],o=[];for(const s in t){t[s].id&&i.includes(t[s].id)&&n.push(new Hn(r,t,`all the sprites' ids must be unique, but ${t[s].id} is duplicated`)),i.push(t[s].id),t[s].url&&o.includes(t[s].url)&&n.push(new Hn(r,t,`all the sprites' URLs must be unique, but ${t[s].url} is duplicated`)),o.push(t[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};n=n.concat(hd({key:`${r}[${s}]`,value:t[s],valueSpec:a,validateSpec:e.validateSpec}))}return n}else return s1({key:r,value:t})}const $I={"*"(){return[]},array:BB,boolean:dX,number:kB,color:hX,constants:SR,enum:t_,filter:IB,function:ER,layer:TR,object:hd,source:KR,light:PR,sky:FR,terrain:DR,string:s1,formatted:mX,resolvedImage:gX,padding:yX,variableAnchorOffsetCollection:vX,sprite:UR};function ty(e){const n=e.value,t=e.valueSpec,r=e.styleSpec;return e.validateSpec=ty,t.expression&&D_(tl(n))?ER(e):t.expression&&R_(a1(n))?xy(e):t.type&&$I[t.type]?$I[t.type](e):hd(by({},e,{valueSpec:t.type?r[t.type]:t}))}function RR(e){const n=e.value,t=e.key,r=s1(e);return r.length||(n.indexOf("{fontstack}")===-1&&r.push(new Hn(t,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&r.push(new Hn(t,n,'"glyphs" url must include a "{range}" token'))),r}function bd(e,n=pa){let t=[];return t=t.concat(ty({key:"",value:e,valueSpec:n.$root,styleSpec:n,style:e,validateSpec:ty,objectElementValidators:{glyphs:RR,"*"(){return[]}}})),e.constants&&(t=t.concat(SR({key:"constants",value:e.constants,style:e,styleSpec:n,validateSpec:ty}))),LR(t)}bd.source=wf(xf(KR));bd.sprite=wf(xf(UR));bd.glyphs=wf(xf(RR));bd.light=wf(xf(PR));bd.sky=wf(xf(FR));bd.terrain=wf(xf(DR));bd.layer=wf(xf(TR));bd.filter=wf(xf(IB));bd.paintProperty=wf(xf(kR));bd.layoutProperty=wf(xf(IR));function xf(e){return function(n){return e({...n,validateSpec:ty})}}function LR(e){return[].concat(e).sort((n,t)=>n.line-t.line)}function wf(e){return function(...n){return LR(e.apply(this,n))}}const CX=/("(?:[^\\"]|\\.)*")|[:,]/g;function _X(e,n={}){const t=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),r=t===""?1/0:n.maxLength===void 0?80:n.maxLength;let{replacer:i}=n;return function o(s,a,p){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const g=JSON.stringify(s,i);if(g===void 0)return g;const b=r-a.length-p;if(g.length<=b){const B=g.replace(CX,(k,P)=>P||`${k} `);if(B.length<=b)return B}if(i!=null&&(s=JSON.parse(g),i=void 0),typeof s=="object"&&s!==null){const B=a+t,k=[];let P=0,R,Z;if(Array.isArray(s)){R="[",Z="]";const{length:W}=s;for(;P<W;P++)k.push(o(s[P],B,P===W-1?0:1)||"null")}else{R="{",Z="}";const W=Object.keys(s),{length:Q}=W;for(;P<Q;P++){const q=W[P],oe=`${JSON.stringify(q)}: `,re=o(s[q],B,oe.length+(P===Q-1?0:1));re!==void 0&&k.push(oe+re)}}if(k.length>0)return[R,t+k.join(`,
${B}`),Z].join(`
${a}`)}return g}(e,"",0)}function YI(e,n){const t={};for(const r in n)e[r]!==void 0&&(t[r]=e[r]);for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function zR(e,n=2){return e=YI(e,pa.$root),e.layers&&(e.layers=e.layers.map(t=>YI(t,pa.layer))),_X(e,{indent:n})}function rM(e,n){for(const t in e)t.indexOf("layout")===0&&n(e[t],t)}function qI(e,n){for(const t in e)t.indexOf("paint")===0&&n(e[t],t)}function M6(e,n){return typeof n=="string"&&n[0]==="@"?M6(e,e.constants[n]):n}function bX(e){return Array.isArray(e.stops)}function Dv(e,n,t){e[t]=e[n],delete e[n]}function xX(e){e.version=8,cX(e,i=>{i.type==="video"&&i.url!==void 0&&Dv(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),xC(e,i=>{rM(i,o=>{o["symbol-min-distance"]!==void 0&&Dv(o,"symbol-min-distance","symbol-spacing")}),qI(i,o=>{o["background-image"]!==void 0&&Dv(o,"background-image","background-pattern"),o["line-image"]!==void 0&&Dv(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&Dv(o,"fill-image","fill-pattern")})}),OB(e,{paint:!0,layout:!0},i=>{const o=M6(e,i.value);bX(o)&&o.stops.forEach(s=>{s[1]=M6(e,s[1])}),i.set(o)}),delete e.constants,xC(e,i=>{rM(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),qI(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function n(i){function o(s){return s.split(",").map(a=>a.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(s=>{s[1]=o(s[1])}),i;throw new Error("unexpected font value")}xC(e,i=>{rM(i,o=>{o["text-font"]&&(o["text-font"]=n(o["text-font"]))})});let t=0;for(let i=e.layers.length-1;i>=0;i--)if(e.layers[i].type!=="symbol"){t=i+1;break}const r=e.layers.splice(t);return r.reverse(),e.layers=e.layers.concat(r),e}function wX(e){const n=[];return xC(e,t=>{t.filter&&(t.filter=bC(t.filter))}),OB(e,{paint:!0,layout:!0},({path:t,value:r,reference:i,set:o})=>{R_(r)||(typeof r=="object"&&!Array.isArray(r)?(o(wR(r,i)),n.push(t.join("."))):i.tokens&&typeof r=="string"&&o(MR(r)))}),e}function MX(e){return JSON.parse(SX(JSON.stringify(e)))}function SX(e){return e.replace(/"hsla?\((.+?)\)"/gi,(n,t)=>{const r=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,s,a]=r.slice(1);return[o,s]=[o,s].map(p=>p.endsWith("%")?p:`${parseFloat(p)*100}%`),`"hsl${typeof a=="string"?"a":""}(${[i,o,s,a].filter(Boolean).join(",")})"`}return n})}function EX(e){let n=!1;if(e.version===7&&(e=xX(e),n=!0),e.version===8&&(n=!!wX(e),n=!0),OB(e,{paint:!0,layout:!0},({value:t,reference:r,set:i})=>{r.type==="color"&&i(MX(t))}),!n)throw new Error(`Cannot migrate from ${e.version}`);return e}const OX={StyleExpression:_R,StylePropertyFunction:bR,ZoomConstantExpression:b6,ZoomDependentExpression:x6,createExpression:xB,createPropertyExpression:wB,isExpression:R_,isExpressionFilter:X4,isZoomExpression:eX,normalizePropertyExpression:tX},BX={convertFunction:wR,createFunction:bB,isFunction:D_};var jR={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(_f,function(){var t={},r={};function i(s,a,p){if(r[s]=p,s==="index"){var g="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",b={};return r.shared(b),r.index(t,b),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),t}}i("shared",["exports"],function(s){function a(c,l,d,y){return new(d||(d=Promise))(function(w,T){function K(V){try{z(y.next(V))}catch(ee){T(ee)}}function D(V){try{z(y.throw(V))}catch(ee){T(ee)}}function z(V){var ee;V.done?w(V.value):(ee=V.value,ee instanceof d?ee:new d(function(Ae){Ae(ee)})).then(K,D)}z((y=y.apply(c,l||[])).next())})}function p(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var g=b;function b(c,l){this.x=c,this.y=l}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),y=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=y,this},_rotateAround:function(c,l){var d=Math.cos(c),y=Math.sin(c),w=l.y+y*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-y*(this.y-l.y),this.y=w,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(c){return c instanceof b?c:Array.isArray(c)?new b(c[0],c[1]):c};var B=p(g),k=P;function P(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}P.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var w=this.sampleCurveX(d)-c;if(Math.abs(w)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=w/T}var K=0,D=1;for(d=c,y=0;y<20&&(w=this.sampleCurveX(d),!(Math.abs(w-c)<l));y++)c>w?K=d:D=d,d=.5*(D-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var R=p(k);let Z,W;function Q(){return Z==null&&(Z=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Z}function q(){if(W==null&&(W=!1,Q())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let y=0;y<5*5;y++){const w=4*y;l.fillStyle=`rgb(${w},${w+1},${w+2})`,l.fillRect(y%5,Math.floor(y/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&d[y]!==y){W=!0;break}}}return W||!1}function oe(c,l,d,y){const w=new R(c,l,d,y);return function(T){return w.solve(T)}}const re=oe(.25,.1,.25,1);function ce(c,l,d){return Math.min(d,Math.max(l,c))}function se(c,l,d){const y=d-l,w=((c-l)%y+y)%y+l;return w===l?d:w}function le(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}let ye=1;function De(c,l,d){const y={};for(const w in c)y[w]=l.call(d||this,c[w],w,c);return y}function Ne(c,l,d){const y={};for(const w in c)l.call(d||this,c[w],w,c)&&(y[w]=c[w]);return y}function et(c){return Array.isArray(c)?c.map(et):typeof c=="object"&&c?De(c,et):c}const ft={};function Ke(c){ft[c]||(typeof console<"u"&&console.warn(c),ft[c]=!0)}function rt(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function Ce(c){let l=0;for(let d,y,w=0,T=c.length,K=T-1;w<T;K=w++)d=c[w],y=c[K],l+=(y.x-d.x)*(d.y+y.y);return l}function Rt(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let jt=null;function tn(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function He(c,l,d,y,w){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(c,{timestamp:0});try{const K=T==null?void 0:T.format;if(!K||!K.startsWith("BGR")&&!K.startsWith("RGB"))throw new Error(`Unrecognized format ${K}`);const D=K.startsWith("BGR"),z=new Uint8ClampedArray(y*w*4);if(yield T.copyTo(z,function(V,ee,Ae,me,xe){const Oe=4*Math.max(-ee,0),Le=(Math.max(0,Ae)-Ae)*me*4+Oe,Qe=4*me,it=Math.max(0,ee),Mt=Math.max(0,Ae);return{rect:{x:it,y:Mt,width:Math.min(V.width,ee+me)-it,height:Math.min(V.height,Ae+xe)-Mt},layout:[{offset:Le,stride:Qe}]}}(c,l,d,y,w)),D)for(let V=0;V<z.length;V+=4){const ee=z[V];z[V]=z[V+2],z[V+2]=ee}return z}finally{T.close()}})}let Je,tt;const rn="AbortError";function mt(){return new Error(rn)}const dt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function kt(c){return dt.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Pt="global-dispatcher";class Me extends Error{constructor(l,d,y,w){super(`AJAXError: ${d} (${l}): ${y}`),this.status=l,this.statusText=d,this.url=y,this.body=w}}const he=()=>Rt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,be=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const y=kt(c.url);if(y)return y(c,l);if(Rt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,targetMapId:Pt},l)}if(!(/^file:/.test(d=c.url)||/^file:/.test(he())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,w){return a(this,void 0,void 0,function*(){const T=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:he(),signal:w.signal});y.type==="json"&&T.headers.set("Accept","application/json");const K=yield fetch(T);if(!K.ok){const V=yield K.blob();throw new Me(K.status,K.statusText,y.url,V)}const D=y.type==="arrayBuffer"||y.type==="image"?K.arrayBuffer():y.type==="json"?K.json():K.text(),z=yield D;if(w.signal.aborted)throw mt();return{data:z,cacheControl:K.headers.get("Cache-Control"),expires:K.headers.get("Expires")}})}(c,l);if(Rt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,mustQueue:!0,targetMapId:Pt},l)}var d;return function(y,w){return new Promise((T,K)=>{const D=new XMLHttpRequest;D.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(D.responseType="arraybuffer");for(const z in y.headers)D.setRequestHeader(z,y.headers[z]);y.type==="json"&&(D.responseType="text",D.setRequestHeader("Accept","application/json")),D.withCredentials=y.credentials==="include",D.onerror=()=>{K(new Error(D.statusText))},D.onload=()=>{if(!w.signal.aborted)if((D.status>=200&&D.status<300||D.status===0)&&D.response!==null){let z=D.response;if(y.type==="json")try{z=JSON.parse(D.response)}catch(V){return void K(V)}T({data:z,cacheControl:D.getResponseHeader("Cache-Control"),expires:D.getResponseHeader("Expires")})}else{const z=new Blob([D.response],{type:D.getResponseHeader("Content-Type")});K(new Me(D.status,D.statusText,y.url,z))}},w.signal.addEventListener("abort",()=>{D.abort(),K(mt())}),D.send(y.body)})}(c,l)};function Pe(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function Ze(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function nt(c,l,d){if(d&&d[c]){const y=d[c].indexOf(l);y!==-1&&d[c].splice(y,1)}}class xt{constructor(l,d={}){le(this,d),this.type=l}}class Ft extends xt{constructor(l,d={}){super("error",le({error:l},d))}}class Dt{on(l,d){return this._listeners=this._listeners||{},Ze(l,d,this._listeners),this}off(l,d){return nt(l,d,this._listeners),nt(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(l,d,this._oneTimeListeners),this):new Promise(y=>this.once(l,y))}fire(l,d){typeof l=="string"&&(l=new xt(l,d||{}));const y=l.type;if(this.listens(y)){l.target=this;const w=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const D of w)D.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const D of T)nt(y,D,this._oneTimeListeners),D.call(this,l);const K=this._eventedParent;K&&(le(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),K.fire(l))}else l instanceof Ft&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const nr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function pn(c,l){const d={};for(const y in c)y!=="ref"&&(d[y]=c[y]);return nr.forEach(y=>{y in l&&(d[y]=l[y])}),d}function bn(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let d=0;d<c.length;d++)if(!bn(c[d],l[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const d in c)if(!bn(c[d],l[d]))return!1;return!0}return c===l}function Jn(c,l){c.push(l)}function mr(c,l,d){Jn(d,{command:"addSource",args:[c,l[c]]})}function xr(c,l,d){Jn(l,{command:"removeSource",args:[c]}),d[c]=!0}function Nr(c,l,d,y){xr(c,d,y),mr(c,l,d)}function Cr(c,l,d){let y;for(y in c[d])if(Object.prototype.hasOwnProperty.call(c[d],y)&&y!=="data"&&!bn(c[d][y],l[d][y]))return!1;for(y in l[d])if(Object.prototype.hasOwnProperty.call(l[d],y)&&y!=="data"&&!bn(c[d][y],l[d][y]))return!1;return!0}function fi(c,l,d,y,w,T){c=c||{},l=l||{};for(const K in c)Object.prototype.hasOwnProperty.call(c,K)&&(bn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],w]}));for(const K in l)Object.prototype.hasOwnProperty.call(l,K)&&!Object.prototype.hasOwnProperty.call(c,K)&&(bn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],w]}))}function we(c){return c.id}function H(c,l){return c[l.id]=l,c}class Y{constructor(l,d,y,w){this.message=(l?`${l}: `:"")+y,w&&(this.identifier=w),d!=null&&d.__line__&&(this.line=d.__line__)}}function Be(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}class st extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class St{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[y,w]of d)this.bindings[y]=w}concat(l){return new St(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Et={kind:"null"},Nt={kind:"number"},mn={kind:"string"},Kn={kind:"boolean"},En={kind:"color"},m={kind:"object"},Tt={kind:"value"},Ur={kind:"collator"},Wn={kind:"formatted"},Te={kind:"padding"},de={kind:"resolvedImage"},ve={kind:"variableAnchorOffsetCollection"};function Se(c,l){return{kind:"array",itemType:c,N:l}}function Re(c){if(c.kind==="array"){const l=Re(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const Xe=[Et,Nt,mn,Kn,En,Wn,m,Se(Tt),Te,de,ve];function at(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!at(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of Xe)if(!at(d,l))return null}}return`Expected ${Re(c)} but found ${Re(l)} instead.`}function ht(c,l){return l.some(d=>d.kind===c.kind)}function Ve(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function _t(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const Zt=.96422,Ht=.82521,qt=4/29,Vn=6/29,On=3*Vn*Vn,ir=Vn*Vn*Vn,or=Math.PI/180,Tr=180/Math.PI;function Rr(c){return(c%=360)<0&&(c+=360),c}function Dr([c,l,d,y]){let w,T;const K=rr((.2225045*(c=ei(c))+.7168786*(l=ei(l))+.0606169*(d=ei(d)))/1);c===l&&l===d?w=T=K:(w=rr((.4360747*c+.3850649*l+.1430804*d)/Zt),T=rr((.0139322*c+.0971045*l+.7141733*d)/Ht));const D=116*K-16;return[D<0?0:D,500*(w-K),200*(K-T),y]}function ei(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function rr(c){return c>ir?Math.pow(c,1/3):c/On+qt}function li([c,l,d,y]){let w=(c+16)/116,T=isNaN(l)?w:w+l/500,K=isNaN(d)?w:w-d/200;return w=1*Xi(w),T=Zt*Xi(T),K=Ht*Xi(K),[ki(3.1338561*T-1.6168667*w-.4906146*K),ki(-.9787684*T+1.9161415*w+.033454*K),ki(.0719453*T-.2289914*w+1.4052427*K),y]}function ki(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Xi(c){return c>Vn?c*c*c:On*(c-qt)}function xo(c){return parseInt(c.padEnd(2,c),16)/255}function pi(c,l){return Oo(l?c/100:c,0,1)}function Oo(c,l,d){return Math.min(Math.max(l,c),d)}function us(c){return!c.some(Number.isNaN)}const ka={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Ci{constructor(l,d,y,w=1,T=!0){this.r=l,this.g=d,this.b=y,this.a=w,T||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[l,d,y,w]))}static parse(l){if(l instanceof Ci)return l;if(typeof l!="string")return;const d=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const w=ka[y];if(w){const[K,D,z]=w;return[K/255,D/255,z/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const K=y.length<6?1:2;let D=1;return[xo(y.slice(D,D+=K)),xo(y.slice(D,D+=K)),xo(y.slice(D,D+=K)),xo(y.slice(D,D+K)||"ff")]}if(y.startsWith("rgb")){const K=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(K){const[D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it,Mt]=K,lt=[ee||" ",xe||" ",Qe].join("");if(lt==="  "||lt==="  /"||lt===",,"||lt===",,,"){const vt=[V,me,Le].join(""),en=vt==="%%%"?100:vt===""?255:0;if(en){const un=[Oo(+z/en,0,1),Oo(+Ae/en,0,1),Oo(+Oe/en,0,1),it?pi(+it,Mt):1];if(us(un))return un}}return}}const T=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[K,D,z,V,ee,Ae,me,xe,Oe]=T,Le=[z||" ",ee||" ",me].join("");if(Le==="  "||Le==="  /"||Le===",,"||Le===",,,"){const Qe=[+D,Oo(+V,0,100),Oo(+Ae,0,100),xe?pi(+xe,Oe):1];if(us(Qe))return function([it,Mt,lt,vt]){function en(un){const Dn=(un+it/30)%12,vr=Mt*Math.min(lt,1-lt);return lt-vr*Math.max(-1,Math.min(Dn-3,9-Dn,1))}return it=Rr(it),Mt/=100,lt/=100,[en(0),en(8),en(4),vt]}(Qe)}}}(l);return d?new Ci(...d,!1):void 0}get rgb(){const{r:l,g:d,b:y,a:w}=this,T=w||1/0;return this.overwriteGetter("rgb",[l/T,d/T,y/T,w])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,y,w,T]=Dr(l),K=Math.sqrt(y*y+w*w);return[Math.round(1e4*K)?Rr(Math.atan2(w,y)*Tr):NaN,K,d,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Dr(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,y,w]=this.rgb;return`rgba(${[l,d,y].map(T=>Math.round(255*T)).join(",")},${w})`}}Ci.black=new Ci(0,0,0,1),Ci.white=new Ci(1,1,1,1),Ci.transparent=new Ci(0,0,0,0),Ci.red=new Ci(1,0,0,1);class Ms{constructor(l,d,y){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Si{constructor(l,d,y,w,T){this.text=l,this.image=d,this.scale=y,this.fontStack=w,this.textColor=T}}class Qn{constructor(l){this.sections=l}static fromString(l){return new Qn([new Si(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Qn?l:Qn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class so{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof so)return l;if(typeof l=="number")return new so([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new so(l)}}toString(){return JSON.stringify(this.values)}}const Go=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ji{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ji)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const y=l[d],w=l[d+1];if(typeof y!="string"||!Go.has(y)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new Ji(l)}}toString(){return JSON.stringify(this.values)}}class ge{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ge({name:l,available:!1}):null}}function $e(c,l,d,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,d,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,d,y]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Xt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Ci||c instanceof Ms||c instanceof Qn||c instanceof so||c instanceof Ji||c instanceof ge)return!0;if(Array.isArray(c)){for(const l of c)if(!Xt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Xt(c[l]))return!1;return!0}return!1}function sn(c){if(c===null)return Et;if(typeof c=="string")return mn;if(typeof c=="boolean")return Kn;if(typeof c=="number")return Nt;if(c instanceof Ci)return En;if(c instanceof Ms)return Ur;if(c instanceof Qn)return Wn;if(c instanceof so)return Te;if(c instanceof Ji)return ve;if(c instanceof ge)return de;if(Array.isArray(c)){const l=c.length;let d;for(const y of c){const w=sn(y);if(d){if(d===w)continue;d=Tt;break}d=w}return Se(d||Tt,l)}return m}function Kt(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof Ci||c instanceof Qn||c instanceof so||c instanceof Ji||c instanceof ge?c.toString():JSON.stringify(c)}class Mn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Xt(l[1]))return d.error("invalid value");const y=l[1];let w=sn(y);const T=d.expectedType;return w.kind!=="array"||w.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(w=T),new Mn(w,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class cr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Ii={string:mn,number:Nt,boolean:Kn,object:m};class ii{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let y,w=1;const T=l[0];if(T==="array"){let D,z;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in Ii)||V==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);D=Ii[V],w++}else D=Tt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);z=l[2],w++}y=Se(D,z)}else{if(!Ii[T])throw new Error(`Types doesn't contain name = ${T}`);y=Ii[T]}const K=[];for(;w<l.length;w++){const D=d.parse(l[w],w,Tt);if(!D)return null;K.push(D)}return new ii(y,K)}evaluate(l){for(let d=0;d<this.args.length;d++){const y=this.args[d].evaluate(l);if(!at(this.type,sn(y)))return y;if(d===this.args.length-1)throw new cr(`Expected value to be of type ${Re(this.type)}, but found ${Re(sn(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const ya={"to-boolean":Kn,"to-color":En,"to-number":Nt,"to-string":mn};class $a{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[0];if(!ya[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return d.error("Expected one argument.");const w=ya[y],T=[];for(let K=1;K<l.length;K++){const D=d.parse(l[K],K,Tt);if(!D)return null;T.push(D)}return new $a(w,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,y;for(const w of this.args){if(d=w.evaluate(l),y=null,d instanceof Ci)return d;if(typeof d=="string"){const T=l.parseColor(d);if(T)return T}else if(Array.isArray(d)&&(y=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:$e(d[0],d[1],d[2],d[3]),!y))return new Ci(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new cr(y||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const y of this.args){d=y.evaluate(l);const w=so.parse(d);if(w)return w}throw new cr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const y of this.args){d=y.evaluate(l);const w=Ji.parse(d);if(w)return w}throw new cr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const y of this.args){if(d=y.evaluate(l),d===null)return 0;const w=Number(d);if(!isNaN(w))return w}throw new cr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Qn.fromString(Kt(this.args[0].evaluate(l)));case"resolvedImage":return ge.fromString(Kt(this.args[0].evaluate(l)));default:return Kt(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Br=["Unknown","Point","LineString","Polygon"];class mi{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Br[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Ci.parse(l)),d}}class rl{constructor(l,d,y=[],w,T=new St,K=[]){this.registry=l,this.path=y,this.key=y.map(D=>`[${D}]`).join(""),this.scope=T,this.errors=K,this.expectedType=w,this._isConstant=d}parse(l,d,y,w,T={}){return d?this.concat(d,y,w)._parse(l,T):this._parse(l,T)}_parse(l,d){function y(w,T,K){return K==="assert"?new ii(T,[w]):K==="coerce"?new $a(T,[w]):w}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=l[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[w];if(T){let K=T.parse(l,this);if(!K)return null;if(this.expectedType){const D=this.expectedType,z=K.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||z.kind!=="value")if(D.kind!=="color"&&D.kind!=="formatted"&&D.kind!=="resolvedImage"||z.kind!=="value"&&z.kind!=="string")if(D.kind!=="padding"||z.kind!=="value"&&z.kind!=="number"&&z.kind!=="array")if(D.kind!=="variableAnchorOffsetCollection"||z.kind!=="value"&&z.kind!=="array"){if(this.checkSubtype(D,z))return null}else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"coerce");else K=y(K,D,d.typeAnnotation||"assert")}if(!(K instanceof Mn)&&K.type.kind!=="resolvedImage"&&this._isConstant(K)){const D=new mi;try{K=new Mn(K.type,K.evaluate(D))}catch(z){return this.error(z.message),null}}return K}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,y){const w=typeof l=="number"?this.path.concat(l):this.path,T=y?this.scope.concat(y):this.scope;return new rl(this.registry,this._isConstant,w,d||null,T,this.errors)}error(l,...d){const y=`${this.key}${d.map(w=>`[${w}]`).join("")}`;this.errors.push(new st(y,l))}checkSubtype(l,d){const y=at(l,d);return y&&this.error(y),y}}class Ya{constructor(l,d,y){this.type=Ur,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return d.error("Collator options argument must be an object.");const w=d.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Kn);if(!w)return null;const T=d.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Kn);if(!T)return null;let K=null;return y.locale&&(K=d.parse(y.locale,1,mn),!K)?null:new Ya(w,T,K)}evaluate(l){return new Ms(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const ba=8192;function Ou(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function Ws(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function qa(c,l){const d=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,w=Math.pow(2,l.z);return[Math.round(d*w*ba),Math.round(y*w*ba)]}function Va(c,l,d){const y=c[0]-l[0],w=c[1]-l[1],T=c[0]-d[0],K=c[1]-d[1];return y*K-T*w==0&&y*T<=0&&w*K<=0}function Ns(c,l){let d=!1;for(let K=0,D=l.length;K<D;K++){const z=l[K];for(let V=0,ee=z.length;V<ee-1;V++){if(Va(c,z[V],z[V+1]))return!1;(w=z[V])[1]>(y=c)[1]!=(T=z[V+1])[1]>y[1]&&y[0]<(T[0]-w[0])*(y[1]-w[1])/(T[1]-w[1])+w[0]&&(d=!d)}}var y,w,T;return d}function _A(c,l){for(let d=0;d<l.length;d++)if(Ns(c,l[d]))return!0;return!1}function fl(c,l,d,y){const w=y[0]-d[0],T=y[1]-d[1],K=(c[0]-d[0])*T-w*(c[1]-d[1]),D=(l[0]-d[0])*T-w*(l[1]-d[1]);return K>0&&D<0||K<0&&D>0}function tc(c,l,d){for(const V of d)for(let ee=0;ee<V.length-1;++ee)if((D=[(K=V[ee+1])[0]-(T=V[ee])[0],K[1]-T[1]])[0]*(z=[(w=l)[0]-(y=c)[0],w[1]-y[1]])[1]-D[1]*z[0]!=0&&fl(y,w,T,K)&&fl(T,K,y,w))return!0;var y,w,T,K,D,z;return!1}function bA(c,l){for(let d=0;d<c.length;++d)if(!Ns(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(tc(c[d],c[d+1],l))return!1;return!0}function xA(c,l){for(let d=0;d<l.length;d++)if(bA(c,l[d]))return!0;return!1}function Ju(c,l,d){const y=[];for(let w=0;w<c.length;w++){const T=[];for(let K=0;K<c[w].length;K++){const D=qa(c[w][K],d);Ou(l,D),T.push(D)}y.push(T)}return y}function nc(c,l,d){const y=[];for(let w=0;w<c.length;w++){const T=Ju(c[w],l,d);y.push(T)}return y}function Ha(c,l,d,y){if(c[0]<d[0]||c[0]>d[2]){const w=.5*y;let T=c[0]-d[0]>w?-y:d[0]-c[0]>w?y:0;T===0&&(T=c[0]-d[2]>w?-y:d[2]-c[0]>w?y:0),c[0]+=T}Ou(l,c)}function Ss(c,l,d,y){const w=Math.pow(2,y.z)*ba,T=[y.x*ba,y.y*ba],K=[];for(const D of c)for(const z of D){const V=[z.x+T[0],z.y+T[1]];Ha(V,l,d,w),K.push(V)}return K}function wA(c,l,d,y){const w=Math.pow(2,y.z)*ba,T=[y.x*ba,y.y*ba],K=[];for(const z of c){const V=[];for(const ee of z){const Ae=[ee.x+T[0],ee.y+T[1]];Ou(l,Ae),V.push(Ae)}K.push(V)}if(l[2]-l[0]<=w/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const z of K)for(const V of z)Ha(V,l,d,w)}var D;return K}class pl{constructor(l,d){this.type=Kn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Xt(l[1])){const y=l[1];if(y.type==="FeatureCollection"){const w=[];for(const T of y.features){const{type:K,coordinates:D}=T.geometry;K==="Polygon"&&w.push(D),K==="MultiPolygon"&&w.push(...D)}if(w.length)return new pl(y,{type:"MultiPolygon",coordinates:w})}else if(y.type==="Feature"){const w=y.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new pl(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new pl(y,y)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,y){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const D=Ju(y.coordinates,T,K),z=Ss(d.geometry(),w,T,K);if(!Ws(w,T))return!1;for(const V of z)if(!Ns(V,D))return!1}if(y.type==="MultiPolygon"){const D=nc(y.coordinates,T,K),z=Ss(d.geometry(),w,T,K);if(!Ws(w,T))return!1;for(const V of z)if(!_A(V,D))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,y){const w=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const D=Ju(y.coordinates,T,K),z=wA(d.geometry(),w,T,K);if(!Ws(w,T))return!1;for(const V of z)if(!bA(V,D))return!1}if(y.type==="MultiPolygon"){const D=nc(y.coordinates,T,K),z=wA(d.geometry(),w,T,K);if(!Ws(w,T))return!1;for(const V of z)if(!xA(V,D))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class kl{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const y=l[1];return d.scope.has(y)?new kl(y,d.scope.get(y)):d.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Ho{constructor(l,d,y,w){this.name=l,this.type=d,this._evaluate=y,this.args=w}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const y=l[0],w=Ho.definitions[y];if(!w)return d.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(w)?w[0]:w.type,K=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,D=K.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let z=null;for(const[V,ee]of D){z=new rl(d.registry,eA,d.path,null,d.scope);const Ae=[];let me=!1;for(let xe=1;xe<l.length;xe++){const Oe=l[xe],Le=Array.isArray(V)?V[xe-1]:V.type,Qe=z.parse(Oe,1+Ae.length,Le);if(!Qe){me=!0;break}Ae.push(Qe)}if(!me)if(Array.isArray(V)&&V.length!==Ae.length)z.error(`Expected ${V.length} arguments, but found ${Ae.length} instead.`);else{for(let xe=0;xe<Ae.length;xe++){const Oe=Array.isArray(V)?V[xe]:V.type,Le=Ae[xe];z.concat(xe+1).checkSubtype(Oe,Le.type)}if(z.errors.length===0)return new Ho(y,T,ee,Ae)}}if(D.length===1)d.errors.push(...z.errors);else{const V=(D.length?D:K).map(([Ae])=>{return me=Ae,Array.isArray(me)?`(${me.map(Re).join(", ")})`:`(${Re(me.type)}...)`;var me}).join(" | "),ee=[];for(let Ae=1;Ae<l.length;Ae++){const me=d.parse(l[Ae],1+ee.length);if(!me)return null;ee.push(Re(me.type))}d.error(`Expected arguments of type ${V}, but found (${ee.join(", ")}) instead.`)}return null}static register(l,d){Ho.definitions=d;for(const y in d)l[y]=Ho}}function eA(c){if(c instanceof kl)return eA(c.boundExpression);if(c instanceof Ho&&c.name==="error"||c instanceof Ya||c instanceof pl)return!1;const l=c instanceof $a||c instanceof ii;let d=!0;return c.eachChild(y=>{d=l?d&&eA(y):d&&y instanceof Mn}),!!d&&lu(c)&&Bu(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function lu(c){if(c instanceof Ho&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof pl)return!1;let l=!0;return c.eachChild(d=>{l&&!lu(d)&&(l=!1)}),l}function uu(c){if(c instanceof Ho&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!uu(d)&&(l=!1)}),l}function Bu(c,l){if(c instanceof Ho&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(y=>{d&&!Bu(y,l)&&(d=!1)}),d}function As(c,l){const d=c.length-1;let y,w,T=0,K=d,D=0;for(;T<=K;)if(D=Math.floor((T+K)/2),y=c[D],w=c[D+1],y<=l){if(D===d||l<w)return D;T=D+1}else{if(!(y>l))throw new cr("Input is not a number.");K=D-1}return 0}class Au{constructor(l,d,y){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[w,T]of y)this.labels.push(w),this.outputs.push(T)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const y=d.parse(l[1],1,Nt);if(!y)return null;const w=[];let T=null;d.expectedType&&d.expectedType.kind!=="value"&&(T=d.expectedType);for(let K=1;K<l.length;K+=2){const D=K===1?-1/0:l[K],z=l[K+1],V=K,ee=K+1;if(typeof D!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(w.length&&w[w.length-1][0]>=D)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Ae=d.parse(z,ee,T);if(!Ae)return null;T=T||Ae.type,w.push([D,Ae])}return new Au(T,y,w)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=d[0])return y[0].evaluate(l);const T=d.length;return w>=d[T-1]?y[T-1].evaluate(l):y[As(d,w)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function rc(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var mo=Ao;function Ao(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}Ao.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var w=this.sampleCurveX(d)-c;if(Math.abs(w)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=w/T}var K=0,D=1;for(d=c,y=0;y<20&&(w=this.sampleCurveX(d),!(Math.abs(w-c)<l));y++)c>w?K=d:D=d,d=.5*(D-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var ne=rc(mo);function Ie(c,l,d){return c+d*(l-c)}function At(c,l,d){return c.map((y,w)=>Ie(y,l[w],d))}const Yt={number:Ie,color:function(c,l,d,y="rgb"){switch(y){case"rgb":{const[w,T,K,D]=At(c.rgb,l.rgb,d);return new Ci(w,T,K,D,!1)}case"hcl":{const[w,T,K,D]=c.hcl,[z,V,ee,Ae]=l.hcl;let me,xe;if(isNaN(w)||isNaN(z))isNaN(w)?isNaN(z)?me=NaN:(me=z,K!==1&&K!==0||(xe=V)):(me=w,ee!==1&&ee!==0||(xe=T));else{let Mt=z-w;z>w&&Mt>180?Mt-=360:z<w&&w-z>180&&(Mt+=360),me=w+d*Mt}const[Oe,Le,Qe,it]=function([Mt,lt,vt,en]){return Mt=isNaN(Mt)?0:Mt*or,li([vt,Math.cos(Mt)*lt,Math.sin(Mt)*lt,en])}([me,xe??Ie(T,V,d),Ie(K,ee,d),Ie(D,Ae,d)]);return new Ci(Oe,Le,Qe,it,!1)}case"lab":{const[w,T,K,D]=li(At(c.lab,l.lab,d));return new Ci(w,T,K,D,!1)}}},array:At,padding:function(c,l,d){return new so(At(c.values,l.values,d))},variableAnchorOffsetCollection:function(c,l,d){const y=c.values,w=l.values;if(y.length!==w.length)throw new cr(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const T=[];for(let K=0;K<y.length;K+=2){if(y[K]!==w[K])throw new cr(`Cannot interpolate values containing mismatched anchors. from[${K}]: ${y[K]}, to[${K}]: ${w[K]}`);T.push(y[K]);const[D,z]=y[K+1],[V,ee]=w[K+1];T.push([Ie(D,V,d),Ie(z,ee,d)])}return new Ji(T)}};class wr{constructor(l,d,y,w,T){this.type=l,this.operator=d,this.interpolation=y,this.input=w,this.labels=[],this.outputs=[];for(const[K,D]of T)this.labels.push(K),this.outputs.push(D)}static interpolationFactor(l,d,y,w){let T=0;if(l.name==="exponential")T=Tn(d,l.base,y,w);else if(l.name==="linear")T=Tn(d,1,y,w);else if(l.name==="cubic-bezier"){const K=l.controlPoints;T=new ne(K[0],K[1],K[2],K[3]).solve(Tn(d,1,y,w))}return T}static parse(l,d){let[y,w,T,...K]=l;if(!Array.isArray(w)||w.length===0)return d.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const V=w[1];if(typeof V!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:V}}else{if(w[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const V=w.slice(1);if(V.length!==4||V.some(ee=>typeof ee!="number"||ee<0||ee>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(T=d.parse(T,2,Nt),!T)return null;const D=[];let z=null;y==="interpolate-hcl"||y==="interpolate-lab"?z=En:d.expectedType&&d.expectedType.kind!=="value"&&(z=d.expectedType);for(let V=0;V<K.length;V+=2){const ee=K[V],Ae=K[V+1],me=V+3,xe=V+4;if(typeof ee!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(D.length&&D[D.length-1][0]>=ee)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',me);const Oe=d.parse(Ae,xe,z);if(!Oe)return null;z=z||Oe.type,D.push([ee,Oe])}return _t(z,Nt)||_t(z,En)||_t(z,Te)||_t(z,ve)||_t(z,Se(Nt))?new wr(z,y,w,T,D):d.error(`Type ${Re(z)} is not interpolatable.`)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=d[0])return y[0].evaluate(l);const T=d.length;if(w>=d[T-1])return y[T-1].evaluate(l);const K=As(d,w),D=wr.interpolationFactor(this.interpolation,w,d[K],d[K+1]),z=y[K].evaluate(l),V=y[K+1].evaluate(l);switch(this.operator){case"interpolate":return Yt[this.type.kind](z,V,D);case"interpolate-hcl":return Yt.color(z,V,D,"hcl");case"interpolate-lab":return Yt.color(z,V,D,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Tn(c,l,d,y){const w=y-d,T=c-d;return w===0?0:l===1?T/w:(Math.pow(l,T)-1)/(Math.pow(l,w)-1)}class _i{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let y=null;const w=d.expectedType;w&&w.kind!=="value"&&(y=w);const T=[];for(const D of l.slice(1)){const z=d.parse(D,1+T.length,y,void 0,{typeAnnotation:"omit"});if(!z)return null;y=y||z.type,T.push(z)}if(!y)throw new Error("No output type");const K=w&&T.some(D=>at(w,D.type));return new _i(K?Tt:y,T)}evaluate(l){let d,y=null,w=0;for(const T of this.args)if(w++,y=T.evaluate(l),y&&y instanceof ge&&!y.available&&(d||(d=y.name),y=null,w===this.args.length&&(y=d)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Ti{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let T=1;T<l.length-1;T+=2){const K=l[T];if(typeof K!="string")return d.error(`Expected string, but found ${typeof K} instead.`,T);if(/[^a-zA-Z0-9_]/.test(K))return d.error("Variable names must contain only alphanumeric characters or '_'.",T);const D=d.parse(l[T+1],T+1);if(!D)return null;y.push([K,D])}const w=d.parse(l[l.length-1],l.length-1,d.expectedType,y);return w?new Ti(y,w):null}outputDefined(){return this.result.outputDefined()}}class Yr{constructor(l,d,y){this.type=l,this.index=d,this.input=y}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Nt),w=d.parse(l[2],2,Se(d.expectedType||Tt));return y&&w?new Yr(w.type.itemType,y,w):null}evaluate(l){const d=this.index.evaluate(l),y=this.input.evaluate(l);if(d<0)throw new cr(`Array index out of bounds: ${d} < 0.`);if(d>=y.length)throw new cr(`Array index out of bounds: ${d} > ${y.length-1}.`);if(d!==Math.floor(d))throw new cr(`Array index must be an integer, but found ${d} instead.`);return y[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Gi{constructor(l,d){this.type=Kn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Tt);return y&&w?ht(y.type,[Kn,mn,Nt,Et,Tt])?new Gi(y,w):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Re(y.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!Ve(d,["boolean","string","number","null"]))throw new cr(`Expected first argument to be of type boolean, string, number or null, but found ${Re(sn(d))} instead.`);if(!Ve(y,["string","array"]))throw new cr(`Expected second argument to be of type array or string, but found ${Re(sn(y))} instead.`);return y.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Fo{constructor(l,d,y){this.type=Nt,this.needle=l,this.haystack=d,this.fromIndex=y}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Tt);if(!y||!w)return null;if(!ht(y.type,[Kn,mn,Nt,Et,Tt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Re(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Nt);return T?new Fo(y,w,T):null}return new Fo(y,w)}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!Ve(d,["boolean","string","number","null"]))throw new cr(`Expected first argument to be of type boolean, string, number or null, but found ${Re(sn(d))} instead.`);if(!Ve(y,["string","array"]))throw new cr(`Expected second argument to be of type array or string, but found ${Re(sn(y))} instead.`);if(this.fromIndex){const w=this.fromIndex.evaluate(l);return y.indexOf(d,w)}return y.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class xa{constructor(l,d,y,w,T,K){this.inputType=l,this.type=d,this.input=y,this.cases=w,this.outputs=T,this.otherwise=K}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let y,w;d.expectedType&&d.expectedType.kind!=="value"&&(w=d.expectedType);const T={},K=[];for(let V=2;V<l.length-1;V+=2){let ee=l[V];const Ae=l[V+1];Array.isArray(ee)||(ee=[ee]);const me=d.concat(V);if(ee.length===0)return me.error("Expected at least one branch label.");for(const Oe of ee){if(typeof Oe!="number"&&typeof Oe!="string")return me.error("Branch labels must be numbers or strings.");if(typeof Oe=="number"&&Math.abs(Oe)>Number.MAX_SAFE_INTEGER)return me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Oe=="number"&&Math.floor(Oe)!==Oe)return me.error("Numeric branch labels must be integer values.");if(y){if(me.checkSubtype(y,sn(Oe)))return null}else y=sn(Oe);if(T[String(Oe)]!==void 0)return me.error("Branch labels must be unique.");T[String(Oe)]=K.length}const xe=d.parse(Ae,V,w);if(!xe)return null;w=w||xe.type,K.push(xe)}const D=d.parse(l[1],1,Tt);if(!D)return null;const z=d.parse(l[l.length-1],l.length-1,w);return z?D.type.kind!=="value"&&d.concat(1).checkSubtype(y,D.type)?null:new xa(y,w,D,T,K,z):null}evaluate(l){const d=this.input.evaluate(l);return(sn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class jo{constructor(l,d,y){this.type=l,this.branches=d,this.otherwise=y}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let y;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);const w=[];for(let K=1;K<l.length-1;K+=2){const D=d.parse(l[K],K,Kn);if(!D)return null;const z=d.parse(l[K+1],K+1,y);if(!z)return null;w.push([D,z]),y=y||z.type}const T=d.parse(l[l.length-1],l.length-1,y);if(!T)return null;if(!y)throw new Error("Can't infer output type");return new jo(y,w,T)}evaluate(l){for(const[d,y]of this.branches)if(d.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,y]of this.branches)l(d),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Ki{constructor(l,d,y,w){this.type=l,this.input=d,this.beginIndex=y,this.endIndex=w}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Tt),w=d.parse(l[2],2,Nt);if(!y||!w)return null;if(!ht(y.type,[Se(Tt),mn,Tt]))return d.error(`Expected first argument to be of type array or string, but found ${Re(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Nt);return T?new Ki(y.type,y,w,T):null}return new Ki(y.type,y,w)}evaluate(l){const d=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!Ve(d,["string","array"]))throw new cr(`Expected first argument to be of type array or string, but found ${Re(sn(d))} instead.`);if(this.endIndex){const w=this.endIndex.evaluate(l);return d.slice(y,w)}return d.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function oa(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Ia(c,l,d,y){return y.compare(l,d)===0}function Ta(c,l,d){const y=c!=="=="&&c!=="!=";return class WR{constructor(T,K,D){this.type=Kn,this.lhs=T,this.rhs=K,this.collator=D,this.hasUntypedArgument=T.type.kind==="value"||K.type.kind==="value"}static parse(T,K){if(T.length!==3&&T.length!==4)return K.error("Expected two or three arguments.");const D=T[0];let z=K.parse(T[1],1,Tt);if(!z)return null;if(!oa(D,z.type))return K.concat(1).error(`"${D}" comparisons are not supported for type '${Re(z.type)}'.`);let V=K.parse(T[2],2,Tt);if(!V)return null;if(!oa(D,V.type))return K.concat(2).error(`"${D}" comparisons are not supported for type '${Re(V.type)}'.`);if(z.type.kind!==V.type.kind&&z.type.kind!=="value"&&V.type.kind!=="value")return K.error(`Cannot compare types '${Re(z.type)}' and '${Re(V.type)}'.`);y&&(z.type.kind==="value"&&V.type.kind!=="value"?z=new ii(V.type,[z]):z.type.kind!=="value"&&V.type.kind==="value"&&(V=new ii(z.type,[V])));let ee=null;if(T.length===4){if(z.type.kind!=="string"&&V.type.kind!=="string"&&z.type.kind!=="value"&&V.type.kind!=="value")return K.error("Cannot use collator to compare non-string types.");if(ee=K.parse(T[3],3,Ur),!ee)return null}return new WR(z,V,ee)}evaluate(T){const K=this.lhs.evaluate(T),D=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){const z=sn(K),V=sn(D);if(z.kind!==V.kind||z.kind!=="string"&&z.kind!=="number")throw new cr(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${z.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const z=sn(K),V=sn(D);if(z.kind!=="string"||V.kind!=="string")return l(T,K,D)}return this.collator?d(T,K,D,this.collator.evaluate(T)):l(T,K,D)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const Gl=Ta("==",function(c,l,d){return l===d},Ia),ku=Ta("!=",function(c,l,d){return l!==d},function(c,l,d,y){return!Ia(0,l,d,y)}),ic=Ta("<",function(c,l,d){return l<d},function(c,l,d,y){return y.compare(l,d)<0}),cs=Ta(">",function(c,l,d){return l>d},function(c,l,d,y){return y.compare(l,d)>0}),$m=Ta("<=",function(c,l,d){return l<=d},function(c,l,d,y){return y.compare(l,d)<=0}),Ql=Ta(">=",function(c,l,d){return l>=d},function(c,l,d,y){return y.compare(l,d)>=0});class dh{constructor(l,d,y,w,T){this.type=mn,this.number=l,this.locale=d,this.currency=y,this.minFractionDigits=w,this.maxFractionDigits=T}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const y=d.parse(l[1],1,Nt);if(!y)return null;const w=l[2];if(typeof w!="object"||Array.isArray(w))return d.error("NumberFormat options argument must be an object.");let T=null;if(w.locale&&(T=d.parse(w.locale,1,mn),!T))return null;let K=null;if(w.currency&&(K=d.parse(w.currency,1,mn),!K))return null;let D=null;if(w["min-fraction-digits"]&&(D=d.parse(w["min-fraction-digits"],1,Nt),!D))return null;let z=null;return w["max-fraction-digits"]&&(z=d.parse(w["max-fraction-digits"],1,Nt),!z)?null:new dh(y,T,K,D,z)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Rc{constructor(l){this.type=Wn,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return d.error("First argument must be an image or text section.");const w=[];let T=!1;for(let K=1;K<=l.length-1;++K){const D=l[K];if(T&&typeof D=="object"&&!Array.isArray(D)){T=!1;let z=null;if(D["font-scale"]&&(z=d.parse(D["font-scale"],1,Nt),!z))return null;let V=null;if(D["text-font"]&&(V=d.parse(D["text-font"],1,Se(mn)),!V))return null;let ee=null;if(D["text-color"]&&(ee=d.parse(D["text-color"],1,En),!ee))return null;const Ae=w[w.length-1];Ae.scale=z,Ae.font=V,Ae.textColor=ee}else{const z=d.parse(l[K],1,Tt);if(!z)return null;const V=z.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,w.push({content:z,scale:null,font:null,textColor:null})}}return new Rc(w)}evaluate(l){return new Qn(this.sections.map(d=>{const y=d.content.evaluate(l);return sn(y)===de?new Si("",y,null,null,null):new Si(Kt(y),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class Iu{constructor(l){this.type=de,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const y=d.parse(l[1],1,mn);return y?new Iu(y):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),y=ge.fromString(d);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(d)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class Lc{constructor(l){this.type=Nt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=d.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Re(y.type)} instead.`):new Lc(y):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new cr(`Expected value to be of type string or array, but found ${Re(sn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const MA={"==":Gl,"!=":ku,">":cs,"<":ic,">=":Ql,"<=":$m,array:ii,at:Yr,boolean:ii,case:jo,coalesce:_i,collator:Ya,format:Rc,image:Iu,in:Gi,"index-of":Fo,interpolate:wr,"interpolate-hcl":wr,"interpolate-lab":wr,length:Lc,let:Ti,literal:Mn,match:xa,number:ii,"number-format":dh,object:ii,slice:Ki,step:Au,string:ii,"to-boolean":$a,"to-color":$a,"to-number":$a,"to-string":$a,var:kl,within:pl};function Qo(c,[l,d,y,w]){l=l.evaluate(c),d=d.evaluate(c),y=y.evaluate(c);const T=w?w.evaluate(c):1,K=$e(l,d,y,T);if(K)throw new cr(K);return new Ci(l/255,d/255,y/255,T,!1)}function Tu(c,l){return c in l}function wd(c,l){const d=l[c];return d===void 0?null:d}function SA(c){return{type:c}}function oc(c){return{result:"success",value:c}}function cu(c){return{result:"error",value:c}}function zc(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Bp(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function hh(c){return!!c.expression&&c.expression.interpolated}function hi(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Do(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function Ym(c){return c}function fh(c,l){const d=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",w=y||!(y||c.property!==void 0),T=c.type||(hh(l)?"exponential":"interval");if(d||l.type==="padding"){const ee=d?Ci.parse:so.parse;(c=Be({},c)).stops&&(c.stops=c.stops.map(Ae=>[Ae[0],ee(Ae[1])])),c.default=ee(c.default?c.default:l.default)}if(c.colorSpace&&(K=c.colorSpace)!=="rgb"&&K!=="hcl"&&K!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var K;let D,z,V;if(T==="exponential")D=Pi;else if(T==="interval")D=ph;else if(T==="categorical"){D=aa,z=Object.create(null);for(const ee of c.stops)z[ee[0]]=ee[1];V=typeof c.stops[0][0]}else{if(T!=="identity")throw new Error(`Unknown function type "${T}"`);D=Md}if(y){const ee={},Ae=[];for(let Oe=0;Oe<c.stops.length;Oe++){const Le=c.stops[Oe],Qe=Le[0].zoom;ee[Qe]===void 0&&(ee[Qe]={zoom:Qe,type:c.type,property:c.property,default:c.default,stops:[]},Ae.push(Qe)),ee[Qe].stops.push([Le[0].value,Le[1]])}const me=[];for(const Oe of Ae)me.push([ee[Oe].zoom,fh(ee[Oe],l)]);const xe={name:"linear"};return{kind:"composite",interpolationType:xe,interpolationFactor:wr.interpolationFactor.bind(void 0,xe),zoomStops:me.map(Oe=>Oe[0]),evaluate:({zoom:Oe},Le)=>Pi({stops:me,base:c.base},l,Oe).evaluate(Oe,Le)}}if(w){const ee=T==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:ee,interpolationFactor:wr.interpolationFactor.bind(void 0,ee),zoomStops:c.stops.map(Ae=>Ae[0]),evaluate:({zoom:Ae})=>D(c,l,Ae,z,V)}}return{kind:"source",evaluate(ee,Ae){const me=Ae&&Ae.properties?Ae.properties[c.property]:void 0;return me===void 0?Ku(c.default,l.default):D(c,l,me,z,V)}}}function Ku(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function aa(c,l,d,y,w){return Ku(typeof d===w?y[d]:void 0,c.default,l.default)}function ph(c,l,d){if(hi(d)!=="number")return Ku(c.default,l.default);const y=c.stops.length;if(y===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[y-1][0])return c.stops[y-1][1];const w=As(c.stops.map(T=>T[0]),d);return c.stops[w][1]}function Pi(c,l,d){const y=c.base!==void 0?c.base:1;if(hi(d)!=="number")return Ku(c.default,l.default);const w=c.stops.length;if(w===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[w-1][0])return c.stops[w-1][1];const T=As(c.stops.map(ee=>ee[0]),d),K=function(ee,Ae,me,xe){const Oe=xe-me,Le=ee-me;return Oe===0?0:Ae===1?Le/Oe:(Math.pow(Ae,Le)-1)/(Math.pow(Ae,Oe)-1)}(d,y,c.stops[T][0],c.stops[T+1][0]),D=c.stops[T][1],z=c.stops[T+1][1],V=Yt[l.type]||Ym;return typeof D.evaluate=="function"?{evaluate(...ee){const Ae=D.evaluate.apply(void 0,ee),me=z.evaluate.apply(void 0,ee);if(Ae!==void 0&&me!==void 0)return V(Ae,me,K,c.colorSpace)}}:V(D,z,K,c.colorSpace)}function Md(c,l,d){switch(l.type){case"color":d=Ci.parse(d);break;case"formatted":d=Qn.fromString(d.toString());break;case"resolvedImage":d=ge.fromString(d.toString());break;case"padding":d=so.parse(d);break;default:hi(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Ku(d,c.default,l.default)}Ho.register(MA,{error:[{kind:"error"},[mn],(c,[l])=>{throw new cr(l.evaluate(c))}],typeof:[mn,[Tt],(c,[l])=>Re(sn(l.evaluate(c)))],"to-rgba":[Se(Nt,4),[En],(c,[l])=>{const[d,y,w,T]=l.evaluate(c).rgb;return[255*d,255*y,255*w,T]}],rgb:[En,[Nt,Nt,Nt],Qo],rgba:[En,[Nt,Nt,Nt,Nt],Qo],has:{type:Kn,overloads:[[[mn],(c,[l])=>Tu(l.evaluate(c),c.properties())],[[mn,m],(c,[l,d])=>Tu(l.evaluate(c),d.evaluate(c))]]},get:{type:Tt,overloads:[[[mn],(c,[l])=>wd(l.evaluate(c),c.properties())],[[mn,m],(c,[l,d])=>wd(l.evaluate(c),d.evaluate(c))]]},"feature-state":[Tt,[mn],(c,[l])=>wd(l.evaluate(c),c.featureState||{})],properties:[m,[],c=>c.properties()],"geometry-type":[mn,[],c=>c.geometryType()],id:[Tt,[],c=>c.id()],zoom:[Nt,[],c=>c.globals.zoom],"heatmap-density":[Nt,[],c=>c.globals.heatmapDensity||0],"line-progress":[Nt,[],c=>c.globals.lineProgress||0],accumulated:[Tt,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Nt,SA(Nt),(c,l)=>{let d=0;for(const y of l)d+=y.evaluate(c);return d}],"*":[Nt,SA(Nt),(c,l)=>{let d=1;for(const y of l)d*=y.evaluate(c);return d}],"-":{type:Nt,overloads:[[[Nt,Nt],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[Nt],(c,[l])=>-l.evaluate(c)]]},"/":[Nt,[Nt,Nt],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[Nt,[Nt,Nt],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[Nt,[],()=>Math.LN2],pi:[Nt,[],()=>Math.PI],e:[Nt,[],()=>Math.E],"^":[Nt,[Nt,Nt],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[Nt,[Nt],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))],log2:[Nt,[Nt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[Nt,[Nt],(c,[l])=>Math.sin(l.evaluate(c))],cos:[Nt,[Nt],(c,[l])=>Math.cos(l.evaluate(c))],tan:[Nt,[Nt],(c,[l])=>Math.tan(l.evaluate(c))],asin:[Nt,[Nt],(c,[l])=>Math.asin(l.evaluate(c))],acos:[Nt,[Nt],(c,[l])=>Math.acos(l.evaluate(c))],atan:[Nt,[Nt],(c,[l])=>Math.atan(l.evaluate(c))],min:[Nt,SA(Nt),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[Nt,SA(Nt),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[Nt,[Nt],(c,[l])=>Math.abs(l.evaluate(c))],round:[Nt,[Nt],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[Nt,[Nt],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[Nt,[Nt],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Kn,[mn,Tt],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Kn,[Tt],(c,[l])=>c.id()===l.value],"filter-type-==":[Kn,[mn],(c,[l])=>c.geometryType()===l.value],"filter-<":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y<w}],"filter-id-<":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<y}],"filter->":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y>w}],"filter-id->":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>y}],"filter-<=":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y<=w}],"filter-id-<=":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<=y}],"filter->=":[Kn,[mn,Tt],(c,[l,d])=>{const y=c.properties()[l.value],w=d.value;return typeof y==typeof w&&y>=w}],"filter-id->=":[Kn,[Tt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>=y}],"filter-has":[Kn,[Tt],(c,[l])=>l.value in c.properties()],"filter-has-id":[Kn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Kn,[Se(mn)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Kn,[Se(Tt)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Kn,[mn,Se(Tt)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Kn,[mn,Se(Tt)],(c,[l,d])=>function(y,w,T,K){for(;T<=K;){const D=T+K>>1;if(w[D]===y)return!0;w[D]>y?K=D-1:T=D+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[SA(Kn),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[SA(Kn),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Kn,[Kn],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Kn,[mn],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[mn,[mn],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[mn,[mn],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[mn,SA(Tt),(c,l)=>l.map(d=>Kt(d.evaluate(c))).join("")],"resolved-locale":[mn,[Ur],(c,[l])=>l.evaluate(c).resolvedLocale()]});class wo{constructor(l,d){var y;this.expression=l,this._warningHistory={},this._evaluator=new mi,this._defaultValue=d?(y=d).type==="color"&&Do(y.default)?new Ci(0,0,0,0):y.type==="color"?Ci.parse(y.default)||null:y.type==="padding"?so.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?Ji.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=y,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K,this.expression.evaluate(this._evaluator)}evaluate(l,d,y,w,T,K){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=y||null,this._evaluator.canonical=w,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new cr(`Expected value to be one of ${Object.keys(this._enumValues).map(z=>JSON.stringify(z)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function go(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in MA}function ac(c,l){const d=new rl(MA,eA,[],l?function(w){const T={color:En,string:mn,number:Nt,enum:mn,boolean:Kn,formatted:Wn,padding:Te,resolvedImage:de,variableAnchorOffsetCollection:ve};return w.type==="array"?Se(T[w.value]||Tt,w.length):T[w.type]}(l):void 0),y=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?oc(new wo(y,l)):cu(d.errors)}class jc{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!uu(d.expression)}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,w,T,K)}evaluate(l,d,y,w,T,K){return this._styleExpression.evaluate(l,d,y,w,T,K)}}class Gs{constructor(l,d,y,w){this.kind=l,this.zoomStops=y,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!uu(d.expression),this.interpolationType=w}evaluateWithoutErrorHandling(l,d,y,w,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,w,T,K)}evaluate(l,d,y,w,T,K){return this._styleExpression.evaluate(l,d,y,w,T,K)}interpolationFactor(l,d,y){return this.interpolationType?wr.interpolationFactor(this.interpolationType,l,d,y):0}}function mh(c,l){const d=ac(c,l);if(d.result==="error")return d;const y=d.value.expression,w=lu(y);if(!w&&!zc(l))return cu([new st("","data expressions not supported")]);const T=Bu(y,["zoom"]);if(!T&&!Bp(l))return cu([new st("","zoom expressions not supported")]);const K=Il(y);return K||T?K instanceof st?cu([K]):K instanceof wr&&!hh(l)?cu([new st("",'"interpolate" expressions cannot be used with this property')]):oc(K?new Gs(w?"camera":"composite",d.value,K.labels,K instanceof wr?K.interpolation:void 0):new jc(w?"constant":"source",d.value)):cu([new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class $l{constructor(l,d){this._parameters=l,this._specification=d,Be(this,fh(this._parameters,this._specification))}static deserialize(l){return new $l(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Il(c){let l=null;if(c instanceof Ti)l=Il(c.result);else if(c instanceof _i){for(const d of c.args)if(l=Il(d),l)break}else(c instanceof Au||c instanceof wr)&&c.input instanceof Ho&&c.input.name==="zoom"&&(l=c);return l instanceof st||c.eachChild(d=>{const y=Il(d);y instanceof st?l=y:!l&&y?l=new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new st("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function EA(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!EA(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const gh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Sd(c){if(c==null)return{filter:()=>!0,needGeometry:!1};EA(c)||(c=Wc(c));const l=ac(c,gh);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,y,w)=>l.value.evaluate(d,y,{},w),needGeometry:Pu(c)}}function du(c,l){return c<l?-1:c>l?1:0}function Pu(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(Pu(c[l]))return!0;return!1}function Wc(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?OA(c[1],c[2],"=="):l==="!="?sc(OA(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?OA(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map(Wc))):l==="all"?["all"].concat(c.slice(1).map(Wc)):l==="none"?["all"].concat(c.slice(1).map(Wc).map(sc)):l==="in"?Of(c[1],c.slice(2)):l==="!in"?sc(Of(c[1],c.slice(2))):l==="has"?kp(c[1]):l==="!has"?sc(kp(c[1])):l!=="within"||c;var d}function OA(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function Of(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(du)]]:["filter-in-small",c,["literal",l]]}}function kp(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function sc(c){return["!",c]}function Nc(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let w="[";for(const T of c)w+=`${Nc(T)},`;return`${w}]`}const d=Object.keys(c).sort();let y="{";for(let w=0;w<d.length;w++)y+=`${JSON.stringify(d[w])}:${Nc(c[d[w]])},`;return`${y}}`}function Tl(c){let l="";for(const d of nr)l+=`/${Nc(c[d])}`;return l}function ml(c){const l=c.value;return l?[new Y(c.key,l,"constants have been deprecated as of v8")]:[]}function Zo(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function tA(c){if(Array.isArray(c))return c.map(tA);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=tA(c[d]);return l}return Zo(c)}function il(c){const l=c.key,d=c.value,y=c.valueSpec||{},w=c.objectElementValidators||{},T=c.style,K=c.styleSpec,D=c.validateSpec;let z=[];const V=hi(d);if(V!=="object")return[new Y(l,d,`object expected, ${V} found`)];for(const ee in d){const Ae=ee.split(".")[0],me=y[Ae]||y["*"];let xe;if(w[Ae])xe=w[Ae];else if(y[Ae])xe=D;else if(w["*"])xe=w["*"];else{if(!y["*"]){z.push(new Y(l,d[ee],`unknown property "${ee}"`));continue}xe=D}z=z.concat(xe({key:(l&&`${l}.`)+ee,value:d[ee],valueSpec:me,style:T,styleSpec:K,object:d,objectKey:ee,validateSpec:D},d))}for(const ee in y)w[ee]||y[ee].required&&y[ee].default===void 0&&d[ee]===void 0&&z.push(new Y(l,d,`missing required property "${ee}"`));return z}function BA(c){const l=c.value,d=c.valueSpec,y=c.style,w=c.styleSpec,T=c.key,K=c.arrayElementValidator||c.validateSpec;if(hi(l)!=="array")return[new Y(T,l,`array expected, ${hi(l)} found`)];if(d.length&&l.length!==d.length)return[new Y(T,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new Y(T,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let D={type:d.value,values:d.values};w.$version<7&&(D.function=d.function),hi(d.value)==="object"&&(D=d.value);let z=[];for(let V=0;V<l.length;V++)z=z.concat(K({array:l,arrayIndex:V,value:l[V],valueSpec:D,validateSpec:c.validateSpec,style:y,styleSpec:w,key:`${T}[${V}]`}));return z}function gl(c){const l=c.key,d=c.value,y=c.valueSpec;let w=hi(d);return w==="number"&&d!=d&&(w="NaN"),w!=="number"?[new Y(l,d,`number expected, ${w} found`)]:"minimum"in y&&d<y.minimum?[new Y(l,d,`${d} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&d>y.maximum?[new Y(l,d,`${d} is greater than the maximum value ${y.maximum}`)]:[]}function yh(c){const l=c.valueSpec,d=Zo(c.value.type);let y,w,T,K={};const D=d!=="categorical"&&c.value.property===void 0,z=!D,V=hi(c.value.stops)==="array"&&hi(c.value.stops[0])==="array"&&hi(c.value.stops[0][0])==="object",ee=il({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(xe){if(d==="identity")return[new Y(xe.key,xe.value,'identity function may not have a "stops" property')];let Oe=[];const Le=xe.value;return Oe=Oe.concat(BA({key:xe.key,value:Le,valueSpec:xe.valueSpec,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,arrayElementValidator:Ae})),hi(Le)==="array"&&Le.length===0&&Oe.push(new Y(xe.key,Le,"array must have at least one stop")),Oe},default:function(xe){return xe.validateSpec({key:xe.key,value:xe.value,valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec})}}});return d==="identity"&&D&&ee.push(new Y(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||ee.push(new Y(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!hh(c.valueSpec)&&ee.push(new Y(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(z&&!zc(c.valueSpec)?ee.push(new Y(c.key,c.value,"property functions not supported")):D&&!Bp(c.valueSpec)&&ee.push(new Y(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!V||c.value.property!==void 0||ee.push(new Y(c.key,c.value,'"property" property is required')),ee;function Ae(xe){let Oe=[];const Le=xe.value,Qe=xe.key;if(hi(Le)!=="array")return[new Y(Qe,Le,`array expected, ${hi(Le)} found`)];if(Le.length!==2)return[new Y(Qe,Le,`array length 2 expected, length ${Le.length} found`)];if(V){if(hi(Le[0])!=="object")return[new Y(Qe,Le,`object expected, ${hi(Le[0])} found`)];if(Le[0].zoom===void 0)return[new Y(Qe,Le,"object stop key must have zoom")];if(Le[0].value===void 0)return[new Y(Qe,Le,"object stop key must have value")];if(T&&T>Zo(Le[0].zoom))return[new Y(Qe,Le[0].zoom,"stop zoom values must appear in ascending order")];Zo(Le[0].zoom)!==T&&(T=Zo(Le[0].zoom),w=void 0,K={}),Oe=Oe.concat(il({key:`${Qe}[0]`,value:Le[0],valueSpec:{zoom:{}},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,objectElementValidators:{zoom:gl,value:me}}))}else Oe=Oe.concat(me({key:`${Qe}[0]`,value:Le[0],valueSpec:{},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec},Le));return go(tA(Le[1]))?Oe.concat([new Y(`${Qe}[1]`,Le[1],"expressions are not allowed in function stops.")]):Oe.concat(xe.validateSpec({key:`${Qe}[1]`,value:Le[1],valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec}))}function me(xe,Oe){const Le=hi(xe.value),Qe=Zo(xe.value),it=xe.value!==null?xe.value:Oe;if(y){if(Le!==y)return[new Y(xe.key,it,`${Le} stop domain type must match previous stop domain type ${y}`)]}else y=Le;if(Le!=="number"&&Le!=="string"&&Le!=="boolean")return[new Y(xe.key,it,"stop domain value must be a number, string, or boolean")];if(Le!=="number"&&d!=="categorical"){let Mt=`number expected, ${Le} found`;return zc(l)&&d===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Y(xe.key,it,Mt)]}return d!=="categorical"||Le!=="number"||isFinite(Qe)&&Math.floor(Qe)===Qe?d!=="categorical"&&Le==="number"&&w!==void 0&&Qe<w?[new Y(xe.key,it,"stop domain values must appear in ascending order")]:(w=Qe,d==="categorical"&&Qe in K?[new Y(xe.key,it,"stop domain values must be unique")]:(K[Qe]=!0,[])):[new Y(xe.key,it,`integer expected, found ${Qe}`)]}}function nA(c){const l=(c.expressionContext==="property"?mh:ac)(tA(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new Y(`${c.key}${y.key}`,c.value,y.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new Y(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!uu(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!uu(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!Bu(d,["zoom","feature-state"]))return[new Y(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!lu(d))return[new Y(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yl(c){const l=c.key,d=c.value,y=c.valueSpec,w=[];return Array.isArray(y.values)?y.values.indexOf(Zo(d))===-1&&w.push(new Y(l,d,`expected one of [${y.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(y.values).indexOf(Zo(d))===-1&&w.push(new Y(l,d,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(d)} found`)),w}function lc(c){return EA(tA(c.value))?nA(Be({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ed(c)}function Ed(c){const l=c.value,d=c.key;if(hi(l)!=="array")return[new Y(d,l,`array expected, ${hi(l)} found`)];const y=c.styleSpec;let w,T=[];if(l.length<1)return[new Y(d,l,"filter array must have at least 1 element")];switch(T=T.concat(Yl({key:`${d}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),Zo(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Zo(l[1])==="$type"&&T.push(new Y(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new Y(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(w=hi(l[1]),w!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${w} found`)));for(let K=2;K<l.length;K++)w=hi(l[K]),Zo(l[1])==="$type"?T=T.concat(Yl({key:`${d}[${K}]`,value:l[K],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&T.push(new Y(`${d}[${K}]`,l[K],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let K=1;K<l.length;K++)T=T.concat(Ed({key:`${d}[${K}]`,value:l[K],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":w=hi(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${w} found`));break;case"within":w=hi(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="object"&&T.push(new Y(`${d}[1]`,l[1],`object expected, ${w} found`))}return T}function Od(c,l){const d=c.key,y=c.validateSpec,w=c.style,T=c.styleSpec,K=c.value,D=c.objectKey,z=T[`${l}_${c.layerType}`];if(!z)return[];const V=D.match(/^(.*)-transition$/);if(l==="paint"&&V&&z[V[1]]&&z[V[1]].transition)return y({key:d,value:K,valueSpec:T.transition,style:w,styleSpec:T});const ee=c.valueSpec||z[D];if(!ee)return[new Y(d,K,`unknown property "${D}"`)];let Ae;if(hi(K)==="string"&&zc(ee)&&!ee.tokens&&(Ae=/^{([^}]+)}$/.exec(K)))return[new Y(d,K,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ae[1])} }\`.`)];const me=[];return c.layerType==="symbol"&&(D==="text-field"&&w&&!w.glyphs&&me.push(new Y(d,K,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&Do(tA(K))&&Zo(K.type)==="identity"&&me.push(new Y(d,K,'"text-font" does not support identity functions'))),me.concat(y({key:c.key,value:K,valueSpec:ee,style:w,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:D}))}function hu(c){return Od(c,"paint")}function bt(c){return Od(c,"layout")}function on(c){let l=[];const d=c.value,y=c.key,w=c.style,T=c.styleSpec;d.type||d.ref||l.push(new Y(y,d,'either "type" or "ref" is required'));let K=Zo(d.type);const D=Zo(d.ref);if(d.id){const z=Zo(d.id);for(let V=0;V<c.arrayIndex;V++){const ee=w.layers[V];Zo(ee.id)===z&&l.push(new Y(y,d.id,`duplicate layer id "${d.id}", previously used at line ${ee.id.__line__}`))}}if("ref"in d){let z;["type","source","source-layer","filter","layout"].forEach(V=>{V in d&&l.push(new Y(y,d[V],`"${V}" is prohibited for ref layers`))}),w.layers.forEach(V=>{Zo(V.id)===D&&(z=V)}),z?z.ref?l.push(new Y(y,d.ref,"ref cannot reference another ref layer")):K=Zo(z.type):l.push(new Y(y,d.ref,`ref layer "${D}" not found`))}else if(K!=="background")if(d.source){const z=w.sources&&w.sources[d.source],V=z&&Zo(z.type);z?V==="vector"&&K==="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster source`)):V!=="raster-dem"&&K==="hillshade"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster-dem source`)):V==="raster"&&K!=="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a vector source`)):V!=="vector"||d["source-layer"]?V==="raster-dem"&&K!=="hillshade"?l.push(new Y(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):K!=="line"||!d.paint||!d.paint["line-gradient"]||V==="geojson"&&z.lineMetrics||l.push(new Y(y,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Y(y,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new Y(y,d.source,`source "${d.source}" not found`))}else l.push(new Y(y,d,'missing required property "source"'));return l=l.concat(il({key:y,value:d,valueSpec:T.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${y}.type`,value:d.type,valueSpec:T.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:lc,layout:z=>il({layer:d,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":V=>bt(Be({layerType:K},V))}}),paint:z=>il({layer:d,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":V=>hu(Be({layerType:K},V))}})}})),l}function Lt(c){const l=c.value,d=c.key,y=hi(l);return y!=="string"?[new Y(d,l,`string expected, ${y} found`)]:[]}const dr={promoteId:function({key:c,value:l}){if(hi(l)==="string")return Lt({key:c,value:l});{const d=[];for(const y in l)d.push(...Lt({key:`${c}.${y}`,value:l[y]}));return d}}};function ti(c){const l=c.value,d=c.key,y=c.styleSpec,w=c.style,T=c.validateSpec;if(!l.type)return[new Y(d,l,'"type" is required')];const K=Zo(l.type);let D;switch(K){case"vector":case"raster":return D=il({key:d,value:l,valueSpec:y[`source_${K.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:dr,validateSpec:T}),D;case"raster-dem":return D=function(z){var V;const ee=(V=z.sourceName)!==null&&V!==void 0?V:"",Ae=z.value,me=z.styleSpec,xe=me.source_raster_dem,Oe=z.style;let Le=[];const Qe=hi(Ae);if(Ae===void 0)return Le;if(Qe!=="object")return Le.push(new Y("source_raster_dem",Ae,`object expected, ${Qe} found`)),Le;const it=Zo(Ae.encoding)==="custom",Mt=["redFactor","greenFactor","blueFactor","baseShift"],lt=z.value.encoding?`"${z.value.encoding}"`:"Default";for(const vt in Ae)!it&&Mt.includes(vt)?Le.push(new Y(vt,Ae[vt],`In "${ee}": "${vt}" is only valid when "encoding" is set to "custom". ${lt} encoding found`)):xe[vt]?Le=Le.concat(z.validateSpec({key:vt,value:Ae[vt],valueSpec:xe[vt],validateSpec:z.validateSpec,style:Oe,styleSpec:me})):Le.push(new Y(vt,Ae[vt],`unknown property "${vt}"`));return Le}({sourceName:d,value:l,style:c.style,styleSpec:y,validateSpec:T}),D;case"geojson":if(D=il({key:d,value:l,valueSpec:y.source_geojson,style:w,styleSpec:y,validateSpec:T,objectElementValidators:dr}),l.cluster)for(const z in l.clusterProperties){const[V,ee]=l.clusterProperties[z],Ae=typeof V=="string"?[V,["accumulated"],["get",z]]:V;D.push(...nA({key:`${d}.${z}.map`,value:ee,validateSpec:T,expressionContext:"cluster-map"})),D.push(...nA({key:`${d}.${z}.reduce`,value:Ae,validateSpec:T,expressionContext:"cluster-reduce"}))}return D;case"video":return il({key:d,value:l,valueSpec:y.source_video,style:w,validateSpec:T,styleSpec:y});case"image":return il({key:d,value:l,valueSpec:y.source_image,style:w,validateSpec:T,styleSpec:y});case"canvas":return[new Y(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yl({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:w,validateSpec:T,styleSpec:y})}}function eo(c){const l=c.value,d=c.styleSpec,y=d.light,w=c.style;let T=[];const K=hi(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("light",l,`object expected, ${K} found`)]),T;for(const D in l){const z=D.match(/^(.*)-transition$/);T=T.concat(z&&y[z[1]]&&y[z[1]].transition?c.validateSpec({key:D,value:l[D],valueSpec:d.transition,validateSpec:c.validateSpec,style:w,styleSpec:d}):y[D]?c.validateSpec({key:D,value:l[D],valueSpec:y[D],validateSpec:c.validateSpec,style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)])}return T}function Xo(c){const l=c.value,d=c.styleSpec,y=d.sky,w=c.style,T=hi(l);if(l===void 0)return[];if(T!=="object")return[new Y("sky",l,`object expected, ${T} found`)];let K=[];for(const D in l)K=K.concat(y[D]?hs({key:D,value:l[D],valueSpec:y[D],style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)]);return K}function co(c){const l=c.value,d=c.styleSpec,y=d.terrain,w=c.style;let T=[];const K=hi(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("terrain",l,`object expected, ${K} found`)]),T;for(const D in l)T=T.concat(y[D]?c.validateSpec({key:D,value:l[D],valueSpec:y[D],validateSpec:c.validateSpec,style:w,styleSpec:d}):[new Y(D,l[D],`unknown property "${D}"`)]);return T}function ds(c){let l=[];const d=c.value,y=c.key;if(Array.isArray(d)){const w=[],T=[];for(const K in d)d[K].id&&w.includes(d[K].id)&&l.push(new Y(y,d,`all the sprites' ids must be unique, but ${d[K].id} is duplicated`)),w.push(d[K].id),d[K].url&&T.includes(d[K].url)&&l.push(new Y(y,d,`all the sprites' URLs must be unique, but ${d[K].url} is duplicated`)),T.push(d[K].url),l=l.concat(il({key:`${y}[${K}]`,value:d[K],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return Lt({key:y,value:d})}const Gc={"*":()=>[],array:BA,boolean:function(c){const l=c.value,d=c.key,y=hi(l);return y!=="boolean"?[new Y(d,l,`boolean expected, ${y} found`)]:[]},number:gl,color:function(c){const l=c.key,d=c.value,y=hi(d);return y!=="string"?[new Y(l,d,`color expected, ${y} found`)]:Ci.parse(String(d))?[]:[new Y(l,d,`color expected, "${d}" found`)]},constants:ml,enum:Yl,filter:lc,function:yh,layer:on,object:il,source:ti,light:eo,sky:Xo,terrain:co,string:Lt,formatted:function(c){return Lt(c).length===0?[]:nA(c)},resolvedImage:function(c){return Lt(c).length===0?[]:nA(c)},padding:function(c){const l=c.key,d=c.value;if(hi(d)==="array"){if(d.length<1||d.length>4)return[new Y(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const y={type:"number"};let w=[];for(let T=0;T<d.length;T++)w=w.concat(c.validateSpec({key:`${l}[${T}]`,value:d[T],validateSpec:c.validateSpec,valueSpec:y}));return w}return gl({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,d=c.value,y=hi(d),w=c.styleSpec;if(y!=="array"||d.length<1||d.length%2!=0)return[new Y(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let K=0;K<d.length;K+=2)T=T.concat(Yl({key:`${l}[${K}]`,value:d[K],valueSpec:w.layout_symbol["text-anchor"]})),T=T.concat(BA({key:`${l}[${K+1}]`,value:d[K+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:w}));return T},sprite:ds};function hs(c){const l=c.value,d=c.valueSpec,y=c.styleSpec;return c.validateSpec=hs,d.expression&&Do(Zo(l))?yh(c):d.expression&&go(tA(l))?nA(c):d.type&&Gc[d.type]?Gc[d.type](c):il(Be({},c,{valueSpec:d.type?y[d.type]:d}))}function Bd(c){const l=c.value,d=c.key,y=Lt(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{range}" token'))),y}function Es(c,l=pt){let d=[];return d=d.concat(hs({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:hs,objectElementValidators:{glyphs:Bd,"*":()=>[]}})),c.constants&&(d=d.concat(ml({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:hs}))),fu(d)}function Jo(c){return function(l){return c({...l,validateSpec:hs})}}function fu(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function Os(c){return function(...l){return fu(c.apply(this,l))}}Es.source=Os(Jo(ti)),Es.sprite=Os(Jo(ds)),Es.glyphs=Os(Jo(Bd)),Es.light=Os(Jo(eo)),Es.sky=Os(Jo(Xo)),Es.terrain=Os(Jo(co)),Es.layer=Os(Jo(on)),Es.filter=Os(Jo(lc)),Es.paintProperty=Os(Jo(hu)),Es.layoutProperty=Os(Jo(bt));const Vi=Es,vh=Vi.light,Ch=Vi.paintProperty,yl=Vi.layoutProperty;function kA(c,l){let d=!1;if(l&&l.length)for(const y of l)c.fire(new Ft(new Error(y.message))),d=!0;return d}class wa{constructor(l,d,y){const w=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const K=new Int32Array(this.arrayBuffer);l=K[0],this.d=(d=K[1])+2*(y=K[2]);for(let z=0;z<this.d*this.d;z++){const V=K[3+z],ee=K[3+z+1];w.push(V===ee?null:K.subarray(V,ee))}const D=K[3+w.length+1];this.keys=K.subarray(K[3+w.length],D),this.bboxes=K.subarray(D),this.insert=this._insertReadonly}else{this.d=d+2*y;for(let K=0;K<this.d*this.d;K++)w.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=y,this.scale=d/l,this.uid=0;const T=y/d*l;this.min=-T,this.max=l+T}insert(l,d,y,w,T){this._forEachCell(d,y,w,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,y,w,T,K){this.cells[T].push(K)}query(l,d,y,w,T){const K=this.min,D=this.max;if(l<=K&&d<=K&&D<=y&&D<=w&&!T)return Array.prototype.slice.call(this.keys);{const z=[];return this._forEachCell(l,d,y,w,this._queryCell,z,{},T),z}}_queryCell(l,d,y,w,T,K,D,z){const V=this.cells[T];if(V!==null){const ee=this.keys,Ae=this.bboxes;for(let me=0;me<V.length;me++){const xe=V[me];if(D[xe]===void 0){const Oe=4*xe;(z?z(Ae[Oe+0],Ae[Oe+1],Ae[Oe+2],Ae[Oe+3]):l<=Ae[Oe+2]&&d<=Ae[Oe+3]&&y>=Ae[Oe+0]&&w>=Ae[Oe+1])?(D[xe]=!0,K.push(ee[xe])):D[xe]=!1}}}}_forEachCell(l,d,y,w,T,K,D,z){const V=this._convertToCellCoord(l),ee=this._convertToCellCoord(d),Ae=this._convertToCellCoord(y),me=this._convertToCellCoord(w);for(let xe=V;xe<=Ae;xe++)for(let Oe=ee;Oe<=me;Oe++){const Le=this.d*Oe+xe;if((!z||z(this._convertFromCellCoord(xe),this._convertFromCellCoord(Oe),this._convertFromCellCoord(xe+1),this._convertFromCellCoord(Oe+1)))&&T.call(this,l,d,y,w,Le,K,D,z))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let y=0;for(let K=0;K<this.cells.length;K++)y+=this.cells[K].length;const w=new Int32Array(d+y+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let T=d;for(let K=0;K<l.length;K++){const D=l[K];w[3+K]=T,w.set(D,T),T+=D.length}return w[3+l.length]=T,w.set(this.keys,T),T+=this.keys.length,w[3+l.length+1]=T,w.set(this.bboxes,T),T+=this.bboxes.length,w.buffer}static serialize(l,d){const y=l.toArrayBuffer();return d&&d.push(y),{buffer:y}}static deserialize(l){return new wa(l.buffer)}}const Qs={};function zn(c,l,d={}){if(Qs[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),Qs[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}zn("Object",Object),zn("TransferableGridIndex",wa),zn("Color",Ci),zn("Error",Error),zn("AJAXError",Me),zn("ResolvedImage",ge),zn("StylePropertyFunction",$l),zn("StyleExpression",wo,{omit:["_evaluator"]}),zn("ZoomDependentExpression",Gs),zn("ZoomConstantExpression",jc),zn("CompoundExpression",Ho,{omit:["_evaluate"]});for(const c in MA)MA[c]._classRegistryKey||zn(`Expression_${c}`,MA[c]);function Kl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function rA(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error)return c;if(Kl(c)||tn(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const y of c)d.push(rA(y,l));return d}if(typeof c=="object"){const d=c.constructor,y=d._classRegistryKey;if(!y)throw new Error(`can't serialize object of unregistered class ${d.name}`);if(!Qs[y])throw new Error(`${y} is not registered.`);const w=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&w===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in c){if(!c.hasOwnProperty(T)||Qs[y].omit.indexOf(T)>=0)continue;const K=c[T];w[T]=Qs[y].shallow.indexOf(T)>=0?K:rA(K,l)}c instanceof Error&&(w.message=c.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(w.$name=y),w}throw new Error("can't serialize object of type "+typeof c)}function uc(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Kl(c)||tn(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(uc);if(typeof c=="object"){const l=c.$name||"Object";if(!Qs[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Qs[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const y=Object.create(d.prototype);for(const w of Object.keys(c)){if(w==="$name")continue;const T=c[w];y[w]=Qs[l].shallow.indexOf(w)>=0?T:uc(T)}return y}throw new Error("can't deserialize object of type "+typeof c)}class pu{constructor(){this.first=!0}update(l,d){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Nn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function Ac(c){for(const l of c)if(Fu(l.charCodeAt(0)))return!0;return!1}function IA(c){for(const l of c)if(!Bf(l.charCodeAt(0)))return!1;return!0}function Bf(c){return!(Nn.Arabic(c)||Nn["Arabic Supplement"](c)||Nn["Arabic Extended-A"](c)||Nn["Arabic Presentation Forms-A"](c)||Nn["Arabic Presentation Forms-B"](c))}function Fu(c){return!(c!==746&&c!==747&&(c<4352||!(Nn["Bopomofo Extended"](c)||Nn.Bopomofo(c)||Nn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Nn["CJK Compatibility Ideographs"](c)||Nn["CJK Compatibility"](c)||Nn["CJK Radicals Supplement"](c)||Nn["CJK Strokes"](c)||!(!Nn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Nn["CJK Unified Ideographs Extension A"](c)||Nn["CJK Unified Ideographs"](c)||Nn["Enclosed CJK Letters and Months"](c)||Nn["Hangul Compatibility Jamo"](c)||Nn["Hangul Jamo Extended-A"](c)||Nn["Hangul Jamo Extended-B"](c)||Nn["Hangul Jamo"](c)||Nn["Hangul Syllables"](c)||Nn.Hiragana(c)||Nn["Ideographic Description Characters"](c)||Nn.Kanbun(c)||Nn["Kangxi Radicals"](c)||Nn["Katakana Phonetic Extensions"](c)||Nn.Katakana(c)&&c!==12540||!(!Nn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Nn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Nn["Unified Canadian Aboriginal Syllabics"](c)||Nn["Unified Canadian Aboriginal Syllabics Extended"](c)||Nn["Vertical Forms"](c)||Nn["Yijing Hexagram Symbols"](c)||Nn["Yi Syllables"](c)||Nn["Yi Radicals"](c))))}function mu(c){return!(Fu(c)||function(l){return!!(Nn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Nn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Nn["Letterlike Symbols"](l)||Nn["Number Forms"](l)||Nn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Nn["Control Pictures"](l)&&l!==9251||Nn["Optical Character Recognition"](l)||Nn["Enclosed Alphanumerics"](l)||Nn["Geometric Shapes"](l)||Nn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Nn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Nn["CJK Symbols and Punctuation"](l)||Nn.Katakana(l)||Nn["Private Use Area"](l)||Nn["CJK Compatibility Forms"](l)||Nn["Small Form Variants"](l)||Nn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function TA(c){return c>=1424&&c<=2303||Nn["Arabic Presentation Forms-A"](c)||Nn["Arabic Presentation Forms-B"](c)}function kf(c,l){return!(!l&&TA(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Nn.Khmer(c))}function cc(c){for(const l of c)if(TA(l.charCodeAt(0)))return!0;return!1}const Du=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class yo{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new pu,this.transition={})}isSupportedScript(l){return function(d,y){for(const w of d)if(!kf(w.charCodeAt(0),y))return!1;return!0}(l,Du.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*d}}}class gu{constructor(l,d){this.property=l,this.value=d,this.expression=function(y,w){if(Do(y))return new $l(y,w);if(go(y)){const T=mh(y,w);if(T.result==="error")throw new Error(T.value.map(K=>`${K.key}: ${K.message}`).join(", "));return T.value}{let T=y;return w.type==="color"&&typeof y=="string"?T=Ci.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(T=Ji.parse(y)):T=so.parse(y),{kind:"constant",evaluate:()=>T}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,y){return this.property.possiblyEvaluate(this,l,d,y)}}class Qc{constructor(l){this.property=l,this.value=new gu(l,void 0)}transitioned(l,d){return new If(this.property,this.value,d,le({},l.transition,this.transition),l.now)}untransitioned(){return new If(this.property,this.value,null,{},0)}}class Ip{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return et(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Qc(this._values[l].property)),this._values[l].value=new gu(this._values[l].property,d===null?void 0:et(d))}getTransition(l){return et(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Qc(this._values[l].property)),this._values[l].transition=et(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y);const w=this.getTransition(d);w!==void 0&&(l[`${d}-transition`]=w)}return l}transitioned(l,d){const y=new kd(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].transitioned(l,d._values[w]);return y}untransitioned(){const l=new kd(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class If{constructor(l,d,y,w,T){this.property=l,this.value=d,this.begin=T+w.delay||0,this.end=this.begin+w.duration||0,l.specification.transition&&(w.delay||w.duration)&&(this.prior=y)}possiblyEvaluate(l,d,y){const w=l.now||0,T=this.value.possiblyEvaluate(l,d,y),K=this.prior;if(K){if(w>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(w<this.begin)return K.possiblyEvaluate(l,d,y);{const D=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(K.possiblyEvaluate(l,d,y),T,function(z){if(z<=0)return 0;if(z>=1)return 1;const V=z*z,ee=V*z;return 4*(z<.5?ee:3*(z-V)+ee-.75)}(D))}}return T}}class kd{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,y){const w=new ea(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,d,y);return w}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class _h{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return et(this._values[l].value)}setValue(l,d){this._values[l]=new gu(this._values[l].property,d===null?void 0:et(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y)}return l}possiblyEvaluate(l,d,y){const w=new ea(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].possiblyEvaluate(l,d,y);return w}}class to{constructor(l,d,y){this.property=l,this.value=d,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,y,w){return this.property.evaluate(this.value,this.parameters,l,d,y,w)}}class ea{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class gr{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,y){const w=Yt[this.specification.type];return w?w(l,d,y):l}}class Er{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,y,w){return new to(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},y,w)}:l.expression,d)}interpolate(l,d,y){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new to(this,{kind:"constant",value:void 0},l.parameters);const w=Yt[this.specification.type];if(w){const T=w(l.value.value,d.value.value,y);return new to(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,d,y,w,T,K){return l.kind==="constant"?l.value:l.evaluate(d,y,w,T,K)}}class KA extends Er{possiblyEvaluate(l,d,y,w){if(l.value===void 0)return new to(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,w),K=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,D=this._calculate(K,K,K,d);return new to(this,{kind:"constant",value:D},d)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new to(this,{kind:"constant",value:T},d)}return new to(this,l.expression,d)}evaluate(l,d,y,w,T,K){if(l.kind==="source"){const D=l.evaluate(d,y,w,T,K);return this._calculate(D,D,D,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},y,w),l.evaluate({zoom:Math.floor(d.zoom)},y,w),l.evaluate({zoom:Math.floor(d.zoom)+1},y,w),d):l.value}_calculate(l,d,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class dc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,w){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,w);return this._calculate(T,T,T,d)}return this._calculate(l.expression.evaluate(new yo(Math.floor(d.zoom-1),d)),l.expression.evaluate(new yo(Math.floor(d.zoom),d)),l.expression.evaluate(new yo(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class $c{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,w){return!!l.expression.evaluate(d,null,{},y,w)}interpolate(){return!1}}class $o{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const y=l[d];y.specification.overridable&&this.overridableProperties.push(d);const w=this.defaultPropertyValues[d]=new gu(y,void 0),T=this.defaultTransitionablePropertyValues[d]=new Qc(y);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=w.possiblyEvaluate({})}}}zn("DataDrivenProperty",Er),zn("DataConstantProperty",gr),zn("CrossFadedDataDrivenProperty",KA),zn("CrossFadedProperty",dc),zn("ColorRampProperty",$c);const iA="-transition";class va extends Dt{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new _h(d.layout)),d.paint)){this._transitionablePaint=new Ip(d.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ea(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,y={}){d!=null&&this._validate(yl,`layers.${this.id}.layout.${l}`,l,d,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(iA)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,y={}){if(d!=null&&this._validate(Ch,`layers.${this.id}.paint.${l}`,l,d,y))return!1;if(l.endsWith(iA))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const w=this._transitionablePaint._values[l],T=w.property.specification["property-type"]==="cross-faded-data-driven",K=w.value.isDataDriven(),D=w.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const z=this._transitionablePaint._values[l].value;return z.isDataDriven()||K||T||this._handleOverridablePaintPropertyUpdate(l,D,z)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Ne(l,(d,y)=>!(d===void 0||y==="layout"&&!Object.keys(d).length||y==="paint"&&!Object.keys(d).length))}_validate(l,d,y,w,T={}){return(!T||T.validate!==!1)&&kA(this,l.call(Vi,{key:d,layerType:this.type,objectKey:y,value:w,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof to&&zc(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const oA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class vl{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Uo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ro(c,l=1){let d=0,y=0;return{members:c.map(w=>{const T=oA[w.type].BYTES_PER_ELEMENT,K=d=Tf(d,Math.max(l,T)),D=w.components||1;return y=Math.max(y,T),d+=T*D,{name:w.name,type:w.type,components:D,offset:K}}),size:Tf(d,Math.max(y,l)),alignment:l}}function Tf(c,l){return Math.ceil(c/l)*l}class Uu extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.int16[w+0]=d,this.int16[w+1]=y,l}}Uu.prototype.bytesPerElement=4,zn("StructArrayLayout2i4",Uu);class Ru extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.int16[T+0]=d,this.int16[T+1]=y,this.int16[T+2]=w,l}}Ru.prototype.bytesPerElement=6,zn("StructArrayLayout3i6",Ru);class aA extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=4*l;return this.int16[K+0]=d,this.int16[K+1]=y,this.int16[K+2]=w,this.int16[K+3]=T,l}}aA.prototype.bytesPerElement=8,zn("StructArrayLayout4i8",aA);class Kf extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=6*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.int16[z+2]=w,this.int16[z+3]=T,this.int16[z+4]=K,this.int16[z+5]=D,l}}Kf.prototype.bytesPerElement=12,zn("StructArrayLayout2i4i12",Kf);class Yc extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=4*l,V=8*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.uint8[V+4]=w,this.uint8[V+5]=T,this.uint8[V+6]=K,this.uint8[V+7]=D,l}}Yc.prototype.bytesPerElement=8,zn("StructArrayLayout2i4ub8",Yc);class Lu extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.float32[w+0]=d,this.float32[w+1]=y,l}}Lu.prototype.bytesPerElement=8,zn("StructArrayLayout2f8",Lu);class bh extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,l,d,y,w,T,K,D,z,V,ee)}emplace(l,d,y,w,T,K,D,z,V,ee,Ae){const me=10*l;return this.uint16[me+0]=d,this.uint16[me+1]=y,this.uint16[me+2]=w,this.uint16[me+3]=T,this.uint16[me+4]=K,this.uint16[me+5]=D,this.uint16[me+6]=z,this.uint16[me+7]=V,this.uint16[me+8]=ee,this.uint16[me+9]=Ae,l}}bh.prototype.bytesPerElement=20,zn("StructArrayLayout10ui20",bh);class ke extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,Ae,me){const xe=this.length;return this.resize(xe+1),this.emplace(xe,l,d,y,w,T,K,D,z,V,ee,Ae,me)}emplace(l,d,y,w,T,K,D,z,V,ee,Ae,me,xe){const Oe=12*l;return this.int16[Oe+0]=d,this.int16[Oe+1]=y,this.int16[Oe+2]=w,this.int16[Oe+3]=T,this.uint16[Oe+4]=K,this.uint16[Oe+5]=D,this.uint16[Oe+6]=z,this.uint16[Oe+7]=V,this.int16[Oe+8]=ee,this.int16[Oe+9]=Ae,this.int16[Oe+10]=me,this.int16[Oe+11]=xe,l}}ke.prototype.bytesPerElement=24,zn("StructArrayLayout4i4ui4i24",ke);class Cl extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.float32[T+0]=d,this.float32[T+1]=y,this.float32[T+2]=w,l}}Cl.prototype.bytesPerElement=12,zn("StructArrayLayout3f12",Cl);class Ka extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}Ka.prototype.bytesPerElement=4,zn("StructArrayLayout1ul4",Ka);class no extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V){const ee=this.length;return this.resize(ee+1),this.emplace(ee,l,d,y,w,T,K,D,z,V)}emplace(l,d,y,w,T,K,D,z,V,ee){const Ae=10*l,me=5*l;return this.int16[Ae+0]=d,this.int16[Ae+1]=y,this.int16[Ae+2]=w,this.int16[Ae+3]=T,this.int16[Ae+4]=K,this.int16[Ae+5]=D,this.uint32[me+3]=z,this.uint16[Ae+8]=V,this.uint16[Ae+9]=ee,l}}no.prototype.bytesPerElement=20,zn("StructArrayLayout6i1ul2ui20",no);class jr extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,y,w,T,K)}emplace(l,d,y,w,T,K,D){const z=6*l;return this.int16[z+0]=d,this.int16[z+1]=y,this.int16[z+2]=w,this.int16[z+3]=T,this.int16[z+4]=K,this.int16[z+5]=D,l}}jr.prototype.bytesPerElement=12,zn("StructArrayLayout2i2i2i12",jr);class sa extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T){const K=this.length;return this.resize(K+1),this.emplace(K,l,d,y,w,T)}emplace(l,d,y,w,T,K){const D=4*l,z=8*l;return this.float32[D+0]=d,this.float32[D+1]=y,this.float32[D+2]=w,this.int16[z+6]=T,this.int16[z+7]=K,l}}sa.prototype.bytesPerElement=16,zn("StructArrayLayout2f1f2i16",sa);class hc extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=12*l,D=3*l;return this.uint8[K+0]=d,this.uint8[K+1]=y,this.float32[D+1]=w,this.float32[D+2]=T,l}}hc.prototype.bytesPerElement=12,zn("StructArrayLayout2ub2f12",hc);class fc extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.uint16[T+0]=d,this.uint16[T+1]=y,this.uint16[T+2]=w,l}}fc.prototype.bytesPerElement=6,zn("StructArrayLayout3ui6",fc);class $s extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it)}emplace(l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it,Mt){const lt=24*l,vt=12*l,en=48*l;return this.int16[lt+0]=d,this.int16[lt+1]=y,this.uint16[lt+2]=w,this.uint16[lt+3]=T,this.uint32[vt+2]=K,this.uint32[vt+3]=D,this.uint32[vt+4]=z,this.uint16[lt+10]=V,this.uint16[lt+11]=ee,this.uint16[lt+12]=Ae,this.float32[vt+7]=me,this.float32[vt+8]=xe,this.uint8[en+36]=Oe,this.uint8[en+37]=Le,this.uint8[en+38]=Qe,this.uint32[vt+10]=it,this.int16[lt+22]=Mt,l}}$s.prototype.bytesPerElement=48,zn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",$s);class Pf extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it,Mt,lt,vt,en,un,Dn,vr,$n,_n,fn,sr){const Un=this.length;return this.resize(Un+1),this.emplace(Un,l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it,Mt,lt,vt,en,un,Dn,vr,$n,_n,fn,sr)}emplace(l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le,Qe,it,Mt,lt,vt,en,un,Dn,vr,$n,_n,fn,sr,Un){const wn=32*l,Ir=16*l;return this.int16[wn+0]=d,this.int16[wn+1]=y,this.int16[wn+2]=w,this.int16[wn+3]=T,this.int16[wn+4]=K,this.int16[wn+5]=D,this.int16[wn+6]=z,this.int16[wn+7]=V,this.uint16[wn+8]=ee,this.uint16[wn+9]=Ae,this.uint16[wn+10]=me,this.uint16[wn+11]=xe,this.uint16[wn+12]=Oe,this.uint16[wn+13]=Le,this.uint16[wn+14]=Qe,this.uint16[wn+15]=it,this.uint16[wn+16]=Mt,this.uint16[wn+17]=lt,this.uint16[wn+18]=vt,this.uint16[wn+19]=en,this.uint16[wn+20]=un,this.uint16[wn+21]=Dn,this.uint16[wn+22]=vr,this.uint32[Ir+12]=$n,this.float32[Ir+13]=_n,this.float32[Ir+14]=fn,this.uint16[wn+30]=sr,this.uint16[wn+31]=Un,l}}Pf.prototype.bytesPerElement=64,zn("StructArrayLayout8i15ui1ul2f2ui64",Pf);class Id extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}Id.prototype.bytesPerElement=4,zn("StructArrayLayout1f4",Id);class pc extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=3*l;return this.uint16[6*l+0]=d,this.float32[T+1]=y,this.float32[T+2]=w,l}}pc.prototype.bytesPerElement=12,zn("StructArrayLayout1ui2f12",pc);class Td extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,d,y)}emplace(l,d,y,w){const T=4*l;return this.uint32[2*l+0]=d,this.uint16[T+2]=y,this.uint16[T+3]=w,l}}Td.prototype.bytesPerElement=8,zn("StructArrayLayout1ul2ui8",Td);class xh extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const w=2*l;return this.uint16[w+0]=d,this.uint16[w+1]=y,l}}xh.prototype.bytesPerElement=4,zn("StructArrayLayout2ui4",xh);class _l extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}_l.prototype.bytesPerElement=2,zn("StructArrayLayout1ui2",_l);class Ff extends Uo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,w)}emplace(l,d,y,w,T){const K=4*l;return this.float32[K+0]=d,this.float32[K+1]=y,this.float32[K+2]=w,this.float32[K+3]=T,l}}Ff.prototype.bytesPerElement=16,zn("StructArrayLayout4f16",Ff);class O extends vl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new B(this.anchorPointX,this.anchorPointY)}}O.prototype.size=20;class u extends no{get(l){return new O(this,l)}}zn("CollisionBoxArray",u);class f extends vl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}f.prototype.size=48;class C extends $s{get(l){return new f(this,l)}}zn("PlacedSymbolArray",C);class M extends vl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}M.prototype.size=64;class I extends Pf{get(l){return new M(this,l)}}zn("SymbolInstanceArray",I);class L extends Id{getoffsetX(l){return this.float32[1*l+0]}}zn("GlyphOffsetArray",L);class j extends Ru{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}zn("SymbolLineVertexArray",j);class G extends vl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}G.prototype.size=12;class te extends pc{get(l){return new G(this,l)}}zn("TextAnchorOffsetArray",te);class ue extends vl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ue.prototype.size=8;class fe extends Td{get(l){return new ue(this,l)}}zn("FeatureIndexArray",fe);class Ee extends Uu{}class ze extends Uu{}class Fe extends Uu{}class Ge extends Kf{}class je extends Yc{}class ct extends Lu{}class Ot extends bh{}class Ye extends ke{}class Ct extends Cl{}class Gt extends Ka{}class It extends jr{}class Jt extends hc{}class An extends fc{}class ln extends xh{}const vn=Ro([{name:"a_pos",components:2,type:"Int16"}],4),{members:er}=vn;class kr{constructor(l=[]){this.segments=l}prepareSegment(l,d,y,w){let T=this.segments[this.segments.length-1];return l>kr.MAX_VERTEX_ARRAY_LENGTH&&Ke(`Max vertices per segment is ${kr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!T||T.vertexLength+l>kr.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==w)&&(T={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},w!==void 0&&(T.sortKey=w),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,y,w){return new kr([{vertexOffset:l,primitiveOffset:d,vertexLength:y,primitiveLength:w,vaos:{},sortKey:0}])}}function In(c,l){return 256*(c=ce(Math.floor(c),0,255))+ce(Math.floor(l),0,255)}kr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zn("SegmentVector",kr);const _r=Ro([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zn={exports:{}},zi={exports:{}};zi.exports=function(c,l){var d,y,w,T,K,D,z,V;for(y=c.length-(d=3&c.length),w=l,K=3432918353,D=461845907,V=0;V<y;)z=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,w=27492+(65535&(T=5*(65535&(w=(w^=z=(65535&(z=(z=(65535&z)*K+(((z>>>16)*K&65535)<<16)&4294967295)<<15|z>>>17))*D+(((z>>>16)*D&65535)<<16)&4294967295)<<13|w>>>19))+((5*(w>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(z=0,d){case 3:z^=(255&c.charCodeAt(V+2))<<16;case 2:z^=(255&c.charCodeAt(V+1))<<8;case 1:w^=z=(65535&(z=(z=(65535&(z^=255&c.charCodeAt(V)))*K+(((z>>>16)*K&65535)<<16)&4294967295)<<15|z>>>17))*D+(((z>>>16)*D&65535)<<16)&4294967295}return w^=c.length,w=2246822507*(65535&(w^=w>>>16))+((2246822507*(w>>>16)&65535)<<16)&4294967295,w=3266489909*(65535&(w^=w>>>13))+((3266489909*(w>>>16)&65535)<<16)&4294967295,(w^=w>>>16)>>>0};var bi=zi.exports,Hr={exports:{}};Hr.exports=function(c,l){for(var d,y=c.length,w=l^y,T=0;y>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(d>>>16)&65535)<<16),w=1540483477*(65535&w)+((1540483477*(w>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),y-=4,++T;switch(y){case 3:w^=(255&c.charCodeAt(T+2))<<16;case 2:w^=(255&c.charCodeAt(T+1))<<8;case 1:w=1540483477*(65535&(w^=255&c.charCodeAt(T)))+((1540483477*(w>>>16)&65535)<<16)}return w=1540483477*(65535&(w^=w>>>13))+((1540483477*(w>>>16)&65535)<<16),(w^=w>>>15)>>>0};var gi=bi,Yo=Hr.exports;Zn.exports=gi,Zn.exports.murmur3=gi,Zn.exports.murmur2=Yo;var Fi=p(Zn.exports);class Bs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,y,w){this.ids.push(fs(l)),this.positions.push(d,y,w)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=fs(l);let y=0,w=this.ids.length-1;for(;y<w;){const K=y+w>>1;this.ids[K]>=d?w=K:y=K+1}const T=[];for(;this.ids[y]===d;)T.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return T}static serialize(l,d){const y=new Float64Array(l.ids),w=new Uint32Array(l.positions);return Wo(y,w,0,y.length-1),d&&d.push(y.buffer,w.buffer),{ids:y,positions:w}}static deserialize(l){const d=new Bs;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function fs(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Fi(String(c))}function Wo(c,l,d,y){for(;d<y;){const w=c[d+y>>1];let T=d-1,K=y+1;for(;;){do T++;while(c[T]<w);do K--;while(c[K]>w);if(T>=K)break;ks(c,T,K),ks(l,3*T,3*K),ks(l,3*T+1,3*K+1),ks(l,3*T+2,3*K+2)}K-d<y-K?(Wo(c,l,d,K),d=K+1):(Wo(c,l,K+1,y),y=K)}}function ks(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}zn("FeaturePositionMap",Bs);class Ca{constructor(l,d){this.gl=l.gl,this.location=d}}class vo extends Ca{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Pl extends Ca{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class PA extends Ca{constructor(l,d){super(l,d),this.current=Ci.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Is=new Float32Array(16);function yu(c){return[In(255*c.r,255*c.g),In(255*c.b,255*c.a)]}class _a{constructor(l,d,y){this.value=l,this.uniformNames=d.map(w=>`u_${w}`),this.type=y}setUniform(l,d,y){l.set(y.constantOr(this.value))}getBinding(l,d,y){return this.type==="color"?new PA(l,d):new vo(l,d)}}class Bo{constructor(l,d){this.uniformNames=d.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,y,w){const T=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;T&&l.set(T)}getBinding(l,d,y){return y.substr(0,9)==="u_pattern"?new Pl(l,d):new vo(l,d)}}class Ei{constructor(l,d,y,w){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=d.map(T=>({name:`a_${T}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(l,d,y,w,T){const K=this.paintVertexArray.length,D=this.expression.evaluate(new yo(0),d,{},w,[],T);this.paintVertexArray.resize(l),this._setPaintValue(K,l,D)}updatePaintArray(l,d,y,w){const T=this.expression.evaluate({zoom:0},y,w);this._setPaintValue(l,d,T)}_setPaintValue(l,d,y){if(this.type==="color"){const w=yu(y);for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,w[0],w[1])}else{for(let w=l;w<d;w++)this.paintVertexArray.emplace(w,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ho{constructor(l,d,y,w,T,K){this.expression=l,this.uniformNames=d.map(D=>`u_${D}_t`),this.type=y,this.useIntegerZoom=w,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=d.map(D=>({name:`a_${D}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new K}populatePaintArray(l,d,y,w,T){const K=this.expression.evaluate(new yo(this.zoom),d,{},w,[],T),D=this.expression.evaluate(new yo(this.zoom+1),d,{},w,[],T),z=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(z,l,K,D)}updatePaintArray(l,d,y,w){const T=this.expression.evaluate({zoom:this.zoom},y,w),K=this.expression.evaluate({zoom:this.zoom+1},y,w);this._setPaintValue(l,d,T,K)}_setPaintValue(l,d,y,w){if(this.type==="color"){const T=yu(y),K=yu(w);for(let D=l;D<d;D++)this.paintVertexArray.emplace(D,T[0],T[1],K[0],K[1])}else{for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,y,w);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(w))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,w=ce(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(w)}getBinding(l,d,y){return new vo(l,d)}}class Mo{constructor(l,d,y,w,T,K){this.expression=l,this.type=d,this.useIntegerZoom=y,this.zoom=w,this.layerId=K,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,d,y){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(w,l,d.patterns&&d.patterns[this.layerId],y)}updatePaintArray(l,d,y,w,T){this._setPaintValues(l,d,y.patterns&&y.patterns[this.layerId],T)}_setPaintValues(l,d,y,w){if(!w||!y)return;const{min:T,mid:K,max:D}=y,z=w[T],V=w[K],ee=w[D];if(z&&V&&ee)for(let Ae=l;Ae<d;Ae++)this.zoomInPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],V.pixelRatio,z.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],ee.tl[0],ee.tl[1],ee.br[0],ee.br[1],V.pixelRatio,ee.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,_r.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,_r.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Pa{constructor(l,d,y){this.binders={},this._buffers=[];const w=[];for(const T in l.paint._values){if(!y(T))continue;const K=l.paint.get(T);if(!(K instanceof to&&zc(K.property.specification)))continue;const D=ta(T,l.type),z=K.value,V=K.property.specification.type,ee=K.property.useIntegerZoom,Ae=K.property.specification["property-type"],me=Ae==="cross-faded"||Ae==="cross-faded-data-driven";if(z.kind==="constant")this.binders[T]=me?new Bo(z.value,D):new _a(z.value,D,V),w.push(`/u_${T}`);else if(z.kind==="source"||me){const xe=mc(T,V,"source");this.binders[T]=me?new Mo(z,V,ee,d,xe,l.id):new Ei(z,D,V,xe),w.push(`/a_${T}`)}else{const xe=mc(T,V,"composite");this.binders[T]=new ho(z,D,V,ee,d,xe),w.push(`/z_${T}`)}}this.cacheKey=w.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Ei||d instanceof ho?d.maxValue:0}populatePaintArrays(l,d,y,w,T){for(const K in this.binders){const D=this.binders[K];(D instanceof Ei||D instanceof ho||D instanceof Mo)&&D.populatePaintArray(l,d,y,w,T)}}setConstantPatternPositions(l,d){for(const y in this.binders){const w=this.binders[y];w instanceof Bo&&w.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,y,w,T){let K=!1;for(const D in l){const z=d.getPositions(D);for(const V of z){const ee=y.feature(V.index);for(const Ae in this.binders){const me=this.binders[Ae];if((me instanceof Ei||me instanceof ho||me instanceof Mo)&&me.expression.isStateDependent===!0){const xe=w.paint.get(Ae);me.expression=xe.value,me.updatePaintArray(V.start,V.end,ee,l[D],T),K=!0}}}}return K}defines(){const l=[];for(const d in this.binders){const y=this.binders[d];(y instanceof _a||y instanceof Bo)&&l.push(...y.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ei||y instanceof ho)for(let w=0;w<y.paintVertexAttributes.length;w++)l.push(y.paintVertexAttributes[w].name);else if(y instanceof Mo)for(let w=0;w<_r.members.length;w++)l.push(_r.members[w].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof _a||y instanceof Bo||y instanceof ho)for(const w of y.uniformNames)l.push(w)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const y=[];for(const w in this.binders){const T=this.binders[w];if(T instanceof _a||T instanceof Bo||T instanceof ho){for(const K of T.uniformNames)if(d[K]){const D=T.getBinding(l,d[K],K);y.push({name:K,property:w,binding:D})}}}return y}setUniforms(l,d,y,w){for(const{name:T,property:K,binding:D}of d)this.binders[K].setUniform(D,w,y.get(K),T)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const y=this.binders[d];if(l&&y instanceof Mo){const w=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(y instanceof Ei||y instanceof ho)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const d in this.binders){const y=this.binders[d];(y instanceof Ei||y instanceof ho||y instanceof Mo)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Ei||d instanceof ho||d instanceof Mo)&&d.destroy()}}}class Za{constructor(l,d,y=()=>!0){this.programConfigurations={};for(const w of l)this.programConfigurations[w.id]=new Pa(w,d,y);this.needsUpload=!1,this._featureMap=new Bs,this._bufferOffset=0}populatePaintArrays(l,d,y,w,T,K){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(l,d,w,T,K);d.id!==void 0&&this._featureMap.add(d.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,y,w){for(const T of y)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,d,T,w)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function ta(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function mc(c,l,d){const y={color:{source:Lu,composite:Ff},number:{source:Id,composite:Lu}},w=function(T){return{"line-pattern":{source:Ot,composite:Ot},"fill-pattern":{source:Ot,composite:Ot},"fill-extrusion-pattern":{source:Ot,composite:Ot}}[T]}(c);return w&&w[d]||y[l][d]}zn("ConstantBinder",_a),zn("CrossFadedConstantBinder",Bo),zn("SourceExpressionBinder",Ei),zn("CrossFadedCompositeBinder",Mo),zn("CompositeExpressionBinder",ho),zn("ProgramConfiguration",Pa,{omit:["_buffers"]}),zn("ProgramConfigurationSet",Za);const la=8192,FA=Math.pow(2,14)-1,wh=-FA-1;function ql(c){const l=la/c.extent,d=c.loadGeometry();for(let y=0;y<d.length;y++){const w=d[y];for(let T=0;T<w.length;T++){const K=w[T],D=Math.round(K.x*l),z=Math.round(K.y*l);K.x=ce(D,wh,FA),K.y=ce(z,wh,FA),(D<K.x||D>K.x+1||z<K.y||z>K.y+1)&&Ke("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function DA(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?ql(c):[]}}function Ys(c,l,d,y,w){c.emplaceBack(2*l+(y+1)/2,2*d+(w+1)/2)}class Kd{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new ze,this.indexArray=new An,this.segments=new kr,this.programConfigurations=new Za(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){const w=this.layers[0],T=[];let K=null,D=!1;w.type==="circle"&&(K=w.layout.get("circle-sort-key"),D=!K.isConstant());for(const{feature:z,id:V,index:ee,sourceLayerIndex:Ae}of l){const me=this.layers[0]._featureFilter.needGeometry,xe=DA(z,me);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),xe,y))continue;const Oe=D?K.evaluate(xe,{},y):void 0,Le={id:V,properties:z.properties,type:z.type,sourceLayerIndex:Ae,index:ee,geometry:me?xe.geometry:ql(z),patterns:{},sortKey:Oe};T.push(Le)}D&&T.sort((z,V)=>z.sortKey-V.sortKey);for(const z of T){const{geometry:V,index:ee,sourceLayerIndex:Ae}=z,me=l[ee].feature;this.addFeature(z,V,ee,y),d.featureIndex.insert(me,V,ee,Ae,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,er),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,y,w){for(const T of d)for(const K of T){const D=K.x,z=K.y;if(D<0||D>=la||z<0||z>=la)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),ee=V.vertexLength;Ys(this.layoutVertexArray,D,z,-1,-1),Ys(this.layoutVertexArray,D,z,1,-1),Ys(this.layoutVertexArray,D,z,1,1),Ys(this.layoutVertexArray,D,z,-1,1),this.indexArray.emplaceBack(ee,ee+1,ee+2),this.indexArray.emplaceBack(ee,ee+3,ee+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},w)}}function gc(c,l){for(let d=0;d<c.length;d++)if(ju(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(ju(c,l[d]))return!0;return!!qc(c,l)}function Mh(c,l,d){return!!ju(c,l)||!!Vc(l,c,d)}function zu(c,l){if(c.length===1)return Sh(l,c[0]);for(let d=0;d<l.length;d++){const y=l[d];for(let w=0;w<y.length;w++)if(ju(c,y[w]))return!0}for(let d=0;d<c.length;d++)if(Sh(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(qc(c,l[d]))return!0;return!1}function Df(c,l,d){if(c.length>1){if(qc(c,l))return!0;for(let y=0;y<l.length;y++)if(Vc(l[y],c,d))return!0}for(let y=0;y<c.length;y++)if(Vc(c[y],l,d))return!0;return!1}function qc(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const y=c[d],w=c[d+1];for(let T=0;T<l.length-1;T++)if(E1(y,w,l[T],l[T+1]))return!0}return!1}function E1(c,l,d,y){return rt(c,d,y)!==rt(l,d,y)&&rt(c,l,d)!==rt(c,l,y)}function Vc(c,l,d){const y=d*d;if(l.length===1)return c.distSqr(l[0])<y;for(let w=1;w<l.length;w++)if(Hc(c,l[w-1],l[w])<y)return!0;return!1}function Hc(c,l,d){const y=l.distSqr(d);if(y===0)return c.distSqr(l);const w=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/y;return c.distSqr(w<0?l:w>1?d:d.sub(l)._mult(w)._add(l))}function Sh(c,l){let d,y,w,T=!1;for(let K=0;K<c.length;K++){d=c[K];for(let D=0,z=d.length-1;D<d.length;z=D++)y=d[D],w=d[z],y.y>l.y!=w.y>l.y&&l.x<(w.x-y.x)*(l.y-y.y)/(w.y-y.y)+y.x&&(T=!T)}return T}function ju(c,l){let d=!1;for(let y=0,w=c.length-1;y<c.length;w=y++){const T=c[y],K=c[w];T.y>l.y!=K.y>l.y&&l.x<(K.x-T.x)*(l.y-T.y)/(K.y-T.y)+T.x&&(d=!d)}return d}function qm(c,l,d){const y=d[0],w=d[2];if(c.x<y.x&&l.x<y.x||c.x>w.x&&l.x>w.x||c.y<y.y&&l.y<y.y||c.y>w.y&&l.y>w.y)return!1;const T=rt(c,l,d[0]);return T!==rt(c,l,d[1])||T!==rt(c,l,d[2])||T!==rt(c,l,d[3])}function Eh(c,l,d){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:d.programConfigurations.get(l.id).getMaxValue(c)}function Oh(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Vl(c,l,d,y,w){if(!l[0]&&!l[1])return c;const T=B.convert(l)._mult(w);d==="viewport"&&T._rotate(-y);const K=[];for(let D=0;D<c.length;D++)K.push(c[D].sub(T));return K}let Pd,Fd;zn("CircleBucket",Kd,{omit:["layers"]});var O1={get paint(){return Fd=Fd||new $o({"circle-radius":new Er(pt.paint_circle["circle-radius"]),"circle-color":new Er(pt.paint_circle["circle-color"]),"circle-blur":new Er(pt.paint_circle["circle-blur"]),"circle-opacity":new Er(pt.paint_circle["circle-opacity"]),"circle-translate":new gr(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new gr(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gr(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gr(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Er(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Er(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Er(pt.paint_circle["circle-stroke-opacity"])})},get layout(){return Pd=Pd||new $o({"circle-sort-key":new Er(pt.layout_circle["circle-sort-key"])})}},ol=1e-6,Dd=typeof Float32Array<"u"?Float32Array:Array;function Vm(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Tp(c,l,d){var y=l[0],w=l[1],T=l[2],K=l[3],D=l[4],z=l[5],V=l[6],ee=l[7],Ae=l[8],me=l[9],xe=l[10],Oe=l[11],Le=l[12],Qe=l[13],it=l[14],Mt=l[15],lt=d[0],vt=d[1],en=d[2],un=d[3];return c[0]=lt*y+vt*D+en*Ae+un*Le,c[1]=lt*w+vt*z+en*me+un*Qe,c[2]=lt*T+vt*V+en*xe+un*it,c[3]=lt*K+vt*ee+en*Oe+un*Mt,c[4]=(lt=d[4])*y+(vt=d[5])*D+(en=d[6])*Ae+(un=d[7])*Le,c[5]=lt*w+vt*z+en*me+un*Qe,c[6]=lt*T+vt*V+en*xe+un*it,c[7]=lt*K+vt*ee+en*Oe+un*Mt,c[8]=(lt=d[8])*y+(vt=d[9])*D+(en=d[10])*Ae+(un=d[11])*Le,c[9]=lt*w+vt*z+en*me+un*Qe,c[10]=lt*T+vt*V+en*xe+un*it,c[11]=lt*K+vt*ee+en*Oe+un*Mt,c[12]=(lt=d[12])*y+(vt=d[13])*D+(en=d[14])*Ae+(un=d[15])*Le,c[13]=lt*w+vt*z+en*me+un*Qe,c[14]=lt*T+vt*V+en*xe+un*it,c[15]=lt*K+vt*ee+en*Oe+un*Mt,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var ps,Kp=Tp;function Pp(c,l,d){var y=l[0],w=l[1],T=l[2],K=l[3];return c[0]=d[0]*y+d[4]*w+d[8]*T+d[12]*K,c[1]=d[1]*y+d[5]*w+d[9]*T+d[13]*K,c[2]=d[2]*y+d[6]*w+d[10]*T+d[14]*K,c[3]=d[3]*y+d[7]*w+d[11]*T+d[15]*K,c}ps=new Dd(4),Dd!=Float32Array&&(ps[0]=0,ps[1]=0,ps[2]=0,ps[3]=0);class Hm extends va{constructor(l){super(l,O1)}createBucket(l){return new Kd(l)}queryRadius(l){const d=l;return Eh("circle-radius",this,d)+Eh("circle-stroke-width",this,d)+Oh(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D,z){const V=Vl(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),K.angle,D),ee=this.paint.get("circle-radius").evaluate(d,y)+this.paint.get("circle-stroke-width").evaluate(d,y),Ae=this.paint.get("circle-pitch-alignment")==="map",me=Ae?V:function(Oe,Le){return Oe.map(Qe=>ji(Qe,Le))}(V,z),xe=Ae?ee*D:ee;for(const Oe of w)for(const Le of Oe){const Qe=Ae?Le:ji(Le,z);let it=xe;const Mt=Pp([],[Le.x,Le.y,0,1],z);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?it*=Mt[3]/K.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(it*=K.cameraToCenterDistance/Mt[3]),Mh(me,Qe,it))return!0}return!1}}function ji(c,l){const d=Pp([],[c.x,c.y,0,1],l);return new B(d[0]/d[3],d[1]/d[3])}class Zm extends Kd{}let Xm;zn("HeatmapBucket",Zm,{omit:["layers"]});var Bh={get paint(){return Xm=Xm||new $o({"heatmap-radius":new Er(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Er(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gr(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $c(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gr(pt.paint_heatmap["heatmap-opacity"])})}};function Fp(c,{width:l,height:d},y,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==l*d*y)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${l*d*y}`)}else w=new Uint8Array(l*d*y);return c.width=l,c.height=d,c.data=w,c}function B1(c,{width:l,height:d},y){if(l===c.width&&d===c.height)return;const w=Fp({},{width:l,height:d},y);Jm(c,w,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},y),c.width=l,c.height=d,c.data=w.data}function Jm(c,l,d,y,w,T){if(w.width===0||w.height===0)return l;if(w.width>c.width||w.height>c.height||d.x>c.width-w.width||d.y>c.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>l.width||w.height>l.height||y.x>l.width-w.width||y.y>l.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const K=c.data,D=l.data;if(K===D)throw new Error("srcData equals dstData, so image is already copied");for(let z=0;z<w.height;z++){const V=((d.y+z)*c.width+d.x)*T,ee=((y.y+z)*l.width+y.x)*T;for(let Ae=0;Ae<w.width*T;Ae++)D[ee+Ae]=K[V+Ae]}return l}class Ma{constructor(l,d){Fp(this,l,1,d)}resize(l){B1(this,l,1)}clone(){return new Ma({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,w,T){Jm(l,d,y,w,T,1)}}class al{constructor(l,d){Fp(this,l,4,d)}resize(l){B1(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new al({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,w,T){Jm(l,d,y,w,T,4)}}function Zc(c){const l={},d=c.resolution||256,y=c.clips?c.clips.length:1,w=c.image||new al({width:d,height:y});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const T=(K,D,z)=>{l[c.evaluationKey]=z;const V=c.expression.evaluate(l);w.data[K+D+0]=Math.floor(255*V.r/V.a),w.data[K+D+1]=Math.floor(255*V.g/V.a),w.data[K+D+2]=Math.floor(255*V.b/V.a),w.data[K+D+3]=Math.floor(255*V.a)};if(c.clips)for(let K=0,D=0;K<y;++K,D+=4*d)for(let z=0,V=0;z<d;z++,V+=4){const ee=z/(d-1),{start:Ae,end:me}=c.clips[K];T(D,V,Ae*(1-ee)+me*ee)}else for(let K=0,D=0;K<d;K++,D+=4)T(0,D,K/(d-1));return w}zn("AlphaImage",Ma),zn("RGBAImage",al);class Ud extends va{createBucket(l){return new Zm(l)}constructor(l){super(l,Bh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Zc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let sA;var k1={get paint(){return sA=sA||new $o({"hillshade-illumination-direction":new gr(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gr(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gr(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gr(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gr(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gr(pt.paint_hillshade["hillshade-accent-color"])})}};class vu extends va{constructor(l){super(l,k1)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Cu=Ro([{name:"a_pos",components:2,type:"Int16"}],4),{members:Dp}=Cu;var Uf={exports:{}};function Xc(c,l,d){d=d||2;var y,w,T,K,D,z,V,ee=l&&l.length,Ae=ee?l[0]*d:c.length,me=kh(c,0,Ae,d,!0),xe=[];if(!me||me.next===me.prev)return xe;if(ee&&(me=function(Le,Qe,it,Mt){var lt,vt,en,un=[];for(lt=0,vt=Qe.length;lt<vt;lt++)(en=kh(Le,Qe[lt]*Mt,lt<vt-1?Qe[lt+1]*Mt:Le.length,Mt,!1))===en.next&&(en.steiner=!0),un.push(tv(en));for(un.sort(yc),lt=0;lt<un.length;lt++)it=I1(un[lt],it);return it}(c,l,me,d)),c.length>80*d){y=T=c[0],w=K=c[1];for(var Oe=d;Oe<Ae;Oe+=d)(D=c[Oe])<y&&(y=D),(z=c[Oe+1])<w&&(w=z),D>T&&(T=D),z>K&&(K=z);V=(V=Math.max(T-y,K-w))!==0?32767/V:0}return Jc(me,xe,d,y,w,V,0),xe}function kh(c,l,d,y,w){var T,K;if(w===Nu(c,l,d,y)>0)for(T=l;T<d;T+=y)K=t0(T,c[T],c[T+1],K);else for(T=d-y;T>=l;T-=y)K=t0(T,c[T],c[T+1],K);return K&&Th(K,K.next)&&(Wf(K),K=K.next),K}function Hl(c,l){if(!c)return c;l||(l=c);var d,y=c;do if(d=!1,y.steiner||!Th(y,y.next)&&ua(y.prev,y,y.next)!==0)y=y.next;else{if(Wf(y),(y=l=y.prev)===y.next)break;d=!0}while(d||y!==l);return l}function Jc(c,l,d,y,w,T,K){if(c){!K&&T&&function(ee,Ae,me,xe){var Oe=ee;do Oe.z===0&&(Oe.z=td(Oe.x,Oe.y,Ae,me,xe)),Oe.prevZ=Oe.prev,Oe.nextZ=Oe.next,Oe=Oe.next;while(Oe!==ee);Oe.prevZ.nextZ=null,Oe.prevZ=null,function(Le){var Qe,it,Mt,lt,vt,en,un,Dn,vr=1;do{for(it=Le,Le=null,vt=null,en=0;it;){for(en++,Mt=it,un=0,Qe=0;Qe<vr&&(un++,Mt=Mt.nextZ);Qe++);for(Dn=vr;un>0||Dn>0&&Mt;)un!==0&&(Dn===0||!Mt||it.z<=Mt.z)?(lt=it,it=it.nextZ,un--):(lt=Mt,Mt=Mt.nextZ,Dn--),vt?vt.nextZ=lt:Le=lt,lt.prevZ=vt,vt=lt;it=Mt}vt.nextZ=null,vr*=2}while(en>1)}(Oe)}(c,y,w,T);for(var D,z,V=c;c.prev!==c.next;)if(D=c.prev,z=c.next,T?Lf(c,y,w,T):Rf(c))l.push(D.i/d|0),l.push(c.i/d|0),l.push(z.i/d|0),Wf(c),c=z.next,V=z.next;else if((c=z)===V){K?K===1?Jc(c=ed(Hl(c),l,d),l,d,y,w,T,2):K===2&&zf(c,l,d,y,w,T):Jc(Hl(c),l,d,y,w,T,1);break}}}function Rf(c){var l=c.prev,d=c,y=c.next;if(ua(l,d,y)>=0)return!1;for(var w=l.x,T=d.x,K=y.x,D=l.y,z=d.y,V=y.y,ee=w<T?w<K?w:K:T<K?T:K,Ae=D<z?D<V?D:V:z<V?z:V,me=w>T?w>K?w:K:T>K?T:K,xe=D>z?D>V?D:V:z>V?z:V,Oe=y.next;Oe!==l;){if(Oe.x>=ee&&Oe.x<=me&&Oe.y>=Ae&&Oe.y<=xe&&Ih(w,D,T,z,K,V,Oe.x,Oe.y)&&ua(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.next}return!0}function Lf(c,l,d,y){var w=c.prev,T=c,K=c.next;if(ua(w,T,K)>=0)return!1;for(var D=w.x,z=T.x,V=K.x,ee=w.y,Ae=T.y,me=K.y,xe=D<z?D<V?D:V:z<V?z:V,Oe=ee<Ae?ee<me?ee:me:Ae<me?Ae:me,Le=D>z?D>V?D:V:z>V?z:V,Qe=ee>Ae?ee>me?ee:me:Ae>me?Ae:me,it=td(xe,Oe,l,d,y),Mt=td(Le,Qe,l,d,y),lt=c.prevZ,vt=c.nextZ;lt&&lt.z>=it&&vt&&vt.z<=Mt;){if(lt.x>=xe&&lt.x<=Le&&lt.y>=Oe&&lt.y<=Qe&&lt!==w&&lt!==K&&Ih(D,ee,z,Ae,V,me,lt.x,lt.y)&&ua(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,vt.x>=xe&&vt.x<=Le&&vt.y>=Oe&&vt.y<=Qe&&vt!==w&&vt!==K&&Ih(D,ee,z,Ae,V,me,vt.x,vt.y)&&ua(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;lt&&lt.z>=it;){if(lt.x>=xe&&lt.x<=Le&&lt.y>=Oe&&lt.y<=Qe&&lt!==w&&lt!==K&&Ih(D,ee,z,Ae,V,me,lt.x,lt.y)&&ua(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;vt&&vt.z<=Mt;){if(vt.x>=xe&&vt.x<=Le&&vt.y>=Oe&&vt.y<=Qe&&vt!==w&&vt!==K&&Ih(D,ee,z,Ae,V,me,vt.x,vt.y)&&ua(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function ed(c,l,d){var y=c;do{var w=y.prev,T=y.next.next;!Th(w,T)&&T1(w,y,y.next,T)&&qs(w,T)&&qs(T,w)&&(l.push(w.i/d|0),l.push(y.i/d|0),l.push(T.i/d|0),Wf(y),Wf(y.next),y=c=T),y=y.next}while(y!==c);return Hl(y)}function zf(c,l,d,y,w,T){var K=c;do{for(var D=K.next.next;D!==K.prev;){if(K.i!==D.i&&jf(K,D)){var z=Wu(K,D);return K=Hl(K,K.next),z=Hl(z,z.next),Jc(K,l,d,y,w,T,0),void Jc(z,l,d,y,w,T,0)}D=D.next}K=K.next}while(K!==c)}function yc(c,l){return c.x-l.x}function I1(c,l){var d=function(w,T){var K,D=T,z=w.x,V=w.y,ee=-1/0;do{if(V<=D.y&&V>=D.next.y&&D.next.y!==D.y){var Ae=D.x+(V-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(Ae<=z&&Ae>ee&&(ee=Ae,K=D.x<D.next.x?D:D.next,Ae===z))return K}D=D.next}while(D!==T);if(!K)return null;var me,xe=K,Oe=K.x,Le=K.y,Qe=1/0;D=K;do z>=D.x&&D.x>=Oe&&z!==D.x&&Ih(V<Le?z:ee,V,Oe,Le,V<Le?ee:z,V,D.x,D.y)&&(me=Math.abs(V-D.y)/(z-D.x),qs(D,w)&&(me<Qe||me===Qe&&(D.x>K.x||D.x===K.x&&e0(K,D)))&&(K=D,Qe=me)),D=D.next;while(D!==xe);return K}(c,l);if(!d)return l;var y=Wu(d,c);return Hl(y,y.next),Hl(d,d.next)}function e0(c,l){return ua(c.prev,c,l.prev)<0&&ua(l.next,c,c.next)<0}function td(c,l,d,y,w){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*w|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*w|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function tv(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function Ih(c,l,d,y,w,T,K,D){return(w-K)*(l-D)>=(c-K)*(T-D)&&(c-K)*(y-D)>=(d-K)*(l-D)&&(d-K)*(T-D)>=(w-K)*(y-D)}function jf(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,y){var w=d;do{if(w.i!==d.i&&w.next.i!==d.i&&w.i!==y.i&&w.next.i!==y.i&&T1(w,w.next,d,y))return!0;w=w.next}while(w!==d);return!1}(c,l)&&(qs(c,l)&&qs(l,c)&&function(d,y){var w=d,T=!1,K=(d.x+y.x)/2,D=(d.y+y.y)/2;do w.y>D!=w.next.y>D&&w.next.y!==w.y&&K<(w.next.x-w.x)*(D-w.y)/(w.next.y-w.y)+w.x&&(T=!T),w=w.next;while(w!==d);return T}(c,l)&&(ua(c.prev,c,l.prev)||ua(c,l.prev,l))||Th(c,l)&&ua(c.prev,c,c.next)>0&&ua(l.prev,l,l.next)>0)}function ua(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function Th(c,l){return c.x===l.x&&c.y===l.y}function T1(c,l,d,y){var w=Kh(ua(c,l,d)),T=Kh(ua(c,l,y)),K=Kh(ua(d,y,c)),D=Kh(ua(d,y,l));return w!==T&&K!==D||!(w!==0||!Rd(c,d,l))||!(T!==0||!Rd(c,y,l))||!(K!==0||!Rd(d,c,y))||!(D!==0||!Rd(d,l,y))}function Rd(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function Kh(c){return c>0?1:c<0?-1:0}function qs(c,l){return ua(c.prev,c,c.next)<0?ua(c,l,c.next)>=0&&ua(c,c.prev,l)>=0:ua(c,l,c.prev)<0||ua(c,c.next,l)<0}function Wu(c,l){var d=new nd(c.i,c.x,c.y),y=new nd(l.i,l.x,l.y),w=c.next,T=l.prev;return c.next=l,l.prev=c,d.next=w,w.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function t0(c,l,d,y){var w=new nd(c,l,d);return y?(w.next=y.next,w.prev=y,y.next.prev=w,y.next=w):(w.prev=w,w.next=w),w}function Wf(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function nd(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nu(c,l,d,y){for(var w=0,T=l,K=d-y;T<d;T+=y)w+=(c[K]-c[T])*(c[T+1]+c[K+1]),K=T;return w}Uf.exports=Xc,Uf.exports.default=Xc,Xc.deviation=function(c,l,d,y){var w=l&&l.length,T=Math.abs(Nu(c,0,w?l[0]*d:c.length,d));if(w)for(var K=0,D=l.length;K<D;K++)T-=Math.abs(Nu(c,l[K]*d,K<D-1?l[K+1]*d:c.length,d));var z=0;for(K=0;K<y.length;K+=3){var V=y[K]*d,ee=y[K+1]*d,Ae=y[K+2]*d;z+=Math.abs((c[V]-c[Ae])*(c[ee+1]-c[V+1])-(c[V]-c[ee])*(c[Ae+1]-c[V+1]))}return T===0&&z===0?0:Math.abs((z-T)/T)},Xc.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},y=0,w=0;w<c.length;w++){for(var T=0;T<c[w].length;T++)for(var K=0;K<l;K++)d.vertices.push(c[w][T][K]);w>0&&d.holes.push(y+=c[w-1].length)}return d};var Ld=p(Uf.exports);function K1(c,l,d,y,w){n0(c,l,d||0,y||c.length-1,w||Fh)}function n0(c,l,d,y,w){for(;y>d;){if(y-d>600){var T=y-d+1,K=l-d+1,D=Math.log(T),z=.5*Math.exp(2*D/3),V=.5*Math.sqrt(D*z*(T-z)/T)*(K-T/2<0?-1:1);n0(c,l,Math.max(d,Math.floor(l-K*z/T+V)),Math.min(y,Math.floor(l+(T-K)*z/T+V)),w)}var ee=c[l],Ae=d,me=y;for(Ph(c,d,l),w(c[y],ee)>0&&Ph(c,d,y);Ae<me;){for(Ph(c,Ae,me),Ae++,me--;w(c[Ae],ee)<0;)Ae++;for(;w(c[me],ee)>0;)me--}w(c[d],ee)===0?Ph(c,d,me):Ph(c,++me,y),me<=l&&(d=me+1),l<=me&&(y=me-1)}}function Ph(c,l,d){var y=c[l];c[l]=c[d],c[d]=y}function Fh(c,l){return c<l?-1:c>l?1:0}function zd(c,l){const d=c.length;if(d<=1)return[c];const y=[];let w,T;for(let K=0;K<d;K++){const D=Ce(c[K]);D!==0&&(c[K].area=Math.abs(D),T===void 0&&(T=D<0),T===D<0?(w&&y.push(w),w=[c[K]]):w.push(c[K]))}if(w&&y.push(w),l>1)for(let K=0;K<y.length;K++)y[K].length<=l||(K1(y[K],l,1,y[K].length-1,nv),y[K]=y[K].slice(0,l));return y}function nv(c,l){return l.area-c.area}function Nf(c,l,d){const y=d.patternDependencies;let w=!1;for(const T of l){const K=T.paint.get(`${c}-pattern`);K.isConstant()||(w=!0);const D=K.constantOr(null);D&&(w=!0,y[D.to]=!0,y[D.from]=!0)}return w}function Up(c,l,d,y,w){const T=w.patternDependencies;for(const K of l){const D=K.paint.get(`${c}-pattern`).value;if(D.kind!=="constant"){let z=D.evaluate({zoom:y-1},d,{},w.availableImages),V=D.evaluate({zoom:y},d,{},w.availableImages),ee=D.evaluate({zoom:y+1},d,{},w.availableImages);z=z&&z.name?z.name:z,V=V&&V.name?V.name:V,ee=ee&&ee.name?ee.name:ee,T[z]=!0,T[V]=!0,T[ee]=!0,d.patterns[K.id]={min:z,mid:V,max:ee}}}return d}class Dh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fe,this.indexArray=new An,this.indexArray2=new ln,this.programConfigurations=new Za(l.layers,l.zoom),this.segments=new kr,this.segments2=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=Nf("fill",this.layers,d);const w=this.layers[0].layout.get("fill-sort-key"),T=!w.isConstant(),K=[];for(const{feature:D,id:z,index:V,sourceLayerIndex:ee}of l){const Ae=this.layers[0]._featureFilter.needGeometry,me=DA(D,Ae);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),me,y))continue;const xe=T?w.evaluate(me,{},y,d.availableImages):void 0,Oe={id:z,properties:D.properties,type:D.type,sourceLayerIndex:ee,index:V,geometry:Ae?me.geometry:ql(D),patterns:{},sortKey:xe};K.push(Oe)}T&&K.sort((D,z)=>D.sortKey-z.sortKey);for(const D of K){const{geometry:z,index:V,sourceLayerIndex:ee}=D;if(this.hasPattern){const Ae=Up("fill",this.layers,D,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(D,z,V,y,{});d.featureIndex.insert(l[V].feature,z,V,ee,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Dp),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,y,w,T){for(const K of zd(d,500)){let D=0;for(const xe of K)D+=xe.length;const z=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),V=z.vertexLength,ee=[],Ae=[];for(const xe of K){if(xe.length===0)continue;xe!==K[0]&&Ae.push(ee.length/2);const Oe=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Le=Oe.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Le+xe.length-1,Le),ee.push(xe[0].x),ee.push(xe[0].y);for(let Qe=1;Qe<xe.length;Qe++)this.layoutVertexArray.emplaceBack(xe[Qe].x,xe[Qe].y),this.indexArray2.emplaceBack(Le+Qe-1,Le+Qe),ee.push(xe[Qe].x),ee.push(xe[Qe].y);Oe.vertexLength+=xe.length,Oe.primitiveLength+=xe.length}const me=Ld(ee,Ae);for(let xe=0;xe<me.length;xe+=3)this.indexArray.emplaceBack(V+me[xe],V+me[xe+1],V+me[xe+2]);z.vertexLength+=D,z.primitiveLength+=me.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}}let Rp,jd;zn("FillBucket",Dh,{omit:["layers","patternFeatures"]});var Lp={get paint(){return jd=jd||new $o({"fill-antialias":new gr(pt.paint_fill["fill-antialias"]),"fill-opacity":new Er(pt.paint_fill["fill-opacity"]),"fill-color":new Er(pt.paint_fill["fill-color"]),"fill-outline-color":new Er(pt.paint_fill["fill-outline-color"]),"fill-translate":new gr(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new gr(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new KA(pt.paint_fill["fill-pattern"])})},get layout(){return Rp=Rp||new $o({"fill-sort-key":new Er(pt.layout_fill["fill-sort-key"])})}};class zp extends va{constructor(l){super(l,Lp)}recalculate(l,d){super.recalculate(l,d);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new Dh(l)}queryRadius(){return Oh(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D){return zu(Vl(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),K.angle,D),w)}isTileClipped(){return!0}}const P1=Ro([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Wd=Ro([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Gf}=P1;var Gu={},r0=g,F1=Nd;function Nd(c,l,d,y,w){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=w,c.readFields(fo,this,l)}function fo(c,l,d){c==1?l.id=d.readVarint():c==2?function(y,w){for(var T=y.readVarint()+y.pos;y.pos<T;){var K=w._keys[y.readVarint()],D=w._values[y.readVarint()];w.properties[K]=D}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function D1(c){for(var l,d,y=0,w=0,T=c.length,K=T-1;w<T;K=w++)y+=((d=c[K]).x-(l=c[w]).x)*(l.y+d.y);return y}Nd.types=["Unknown","Point","LineString","Polygon"],Nd.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,y=1,w=0,T=0,K=0,D=[];c.pos<d;){if(w<=0){var z=c.readVarint();y=7&z,w=z>>3}if(w--,y===1||y===2)T+=c.readSVarint(),K+=c.readSVarint(),y===1&&(l&&D.push(l),l=[]),l.push(new r0(T,K));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&D.push(l),D},Nd.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,y=0,w=0,T=0,K=1/0,D=-1/0,z=1/0,V=-1/0;c.pos<l;){if(y<=0){var ee=c.readVarint();d=7&ee,y=ee>>3}if(y--,d===1||d===2)(w+=c.readSVarint())<K&&(K=w),w>D&&(D=w),(T+=c.readSVarint())<z&&(z=T),T>V&&(V=T);else if(d!==7)throw new Error("unknown command "+d)}return[K,z,D,V]},Nd.prototype.toGeoJSON=function(c,l,d){var y,w,T=this.extent*Math.pow(2,d),K=this.extent*c,D=this.extent*l,z=this.loadGeometry(),V=Nd.types[this.type];function ee(xe){for(var Oe=0;Oe<xe.length;Oe++){var Le=xe[Oe];xe[Oe]=[360*(Le.x+K)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(Le.y+D)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var Ae=[];for(y=0;y<z.length;y++)Ae[y]=z[y][0];ee(z=Ae);break;case 2:for(y=0;y<z.length;y++)ee(z[y]);break;case 3:for(z=function(xe){var Oe=xe.length;if(Oe<=1)return[xe];for(var Le,Qe,it=[],Mt=0;Mt<Oe;Mt++){var lt=D1(xe[Mt]);lt!==0&&(Qe===void 0&&(Qe=lt<0),Qe===lt<0?(Le&&it.push(Le),Le=[xe[Mt]]):Le.push(xe[Mt]))}return Le&&it.push(Le),it}(z),y=0;y<z.length;y++)for(w=0;w<z[y].length;w++)ee(z[y][w])}z.length===1?z=z[0]:V="Multi"+V;var me={type:"Feature",geometry:{type:V,coordinates:z},properties:this.properties};return"id"in this&&(me.id=this.id),me};var jp=F1,Uh=_u;function _u(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(Wp,this,l),this.length=this._features.length}function Wp(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(y){for(var w=null,T=y.readVarint()+y.pos;y.pos<T;){var K=y.readVarint()>>3;w=K===1?y.readString():K===2?y.readFloat():K===3?y.readDouble():K===4?y.readVarint64():K===5?y.readVarint():K===6?y.readSVarint():K===7?y.readBoolean():null}return w}(d))}_u.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new jp(this._pbf,l,this.extent,this._keys,this._values)};var i0=Uh;function UA(c,l,d){if(c===3){var y=new i0(d,d.readVarint()+d.pos);y.length&&(l[y.name]=y)}}Gu.VectorTile=function(c,l){this.layers=c.readFields(UA,{},l)},Gu.VectorTileFeature=F1,Gu.VectorTileLayer=Uh;const Np=Gu.VectorTileFeature.types,Rh=Math.pow(2,13);function vc(c,l,d,y,w,T,K,D){c.emplaceBack(l,d,2*Math.floor(y*Rh)+K,w*Rh*2,T*Rh*2,Math.round(D))}class Gd{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ge,this.centroidVertexArray=new Ee,this.indexArray=new An,this.programConfigurations=new Za(l.layers,l.zoom),this.segments=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.features=[],this.hasPattern=Nf("fill-extrusion",this.layers,d);for(const{feature:w,id:T,index:K,sourceLayerIndex:D}of l){const z=this.layers[0]._featureFilter.needGeometry,V=DA(w,z);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),V,y))continue;const ee={id:T,sourceLayerIndex:D,index:K,geometry:z?V.geometry:ql(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(Up("fill-extrusion",this.layers,ee,this.zoom,d)):this.addFeature(ee,ee.geometry,K,y,{}),d.featureIndex.insert(w,ee.geometry,K,D,this.index,!0)}}addFeatures(l,d,y){for(const w of this.features){const{geometry:T}=w;this.addFeature(w,T,w.index,d,y)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Gf),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,Wd.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,y,w,T){const K={x:0,y:0,vertexCount:0};for(const D of zd(d,500)){let z=0;for(const Oe of D)z+=Oe.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Oe of D){if(Oe.length===0||Qr(Oe))continue;let Le=0;for(let Qe=0;Qe<Oe.length;Qe++){const it=Oe[Qe];if(Qe>=1){const Mt=Oe[Qe-1];if(!Lh(it,Mt)){V.vertexLength+4>kr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const lt=it.sub(Mt)._perp()._unit(),vt=Mt.dist(it);Le+vt>32768&&(Le=0),vc(this.layoutVertexArray,it.x,it.y,lt.x,lt.y,0,0,Le),vc(this.layoutVertexArray,it.x,it.y,lt.x,lt.y,0,1,Le),K.x+=2*it.x,K.y+=2*it.y,K.vertexCount+=2,Le+=vt,vc(this.layoutVertexArray,Mt.x,Mt.y,lt.x,lt.y,0,0,Le),vc(this.layoutVertexArray,Mt.x,Mt.y,lt.x,lt.y,0,1,Le),K.x+=2*Mt.x,K.y+=2*Mt.y,K.vertexCount+=2;const en=V.vertexLength;this.indexArray.emplaceBack(en,en+2,en+1),this.indexArray.emplaceBack(en+1,en+2,en+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+z>kr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(z,this.layoutVertexArray,this.indexArray)),Np[l.type]!=="Polygon")continue;const ee=[],Ae=[],me=V.vertexLength;for(const Oe of D)if(Oe.length!==0){Oe!==D[0]&&Ae.push(ee.length/2);for(let Le=0;Le<Oe.length;Le++){const Qe=Oe[Le];vc(this.layoutVertexArray,Qe.x,Qe.y,0,0,1,1,0),K.x+=Qe.x,K.y+=Qe.y,K.vertexCount+=1,ee.push(Qe.x),ee.push(Qe.y)}}const xe=Ld(ee,Ae);for(let Oe=0;Oe<xe.length;Oe+=3)this.indexArray.emplaceBack(me+xe[Oe],me+xe[Oe+2],me+xe[Oe+1]);V.primitiveLength+=xe.length/3,V.vertexLength+=z}for(let D=0;D<K.vertexCount;D++)this.centroidVertexArray.emplaceBack(Math.floor(K.x/K.vertexCount),Math.floor(K.y/K.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}}function Lh(c,l){return c.x===l.x&&(c.x<0||c.x>la)||c.y===l.y&&(c.y<0||c.y>la)}function Qr(c){return c.every(l=>l.x<0)||c.every(l=>l.x>la)||c.every(l=>l.y<0)||c.every(l=>l.y>la)}let zh;zn("FillExtrusionBucket",Gd,{omit:["layers","features"]});var Co={get paint(){return zh=zh||new $o({"fill-extrusion-opacity":new gr(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Er(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gr(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gr(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new KA(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Er(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Er(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gr(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class rd extends va{constructor(l){super(l,Co)}createBucket(l){return new Gd(l)}queryRadius(){return Oh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,y,w,T,K,D,z){const V=Vl(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),K.angle,D),ee=this.paint.get("fill-extrusion-height").evaluate(d,y),Ae=this.paint.get("fill-extrusion-base").evaluate(d,y),me=function(Oe,Le,Qe,it){const Mt=[];for(const lt of Oe){const vt=[lt.x,lt.y,0,1];Pp(vt,vt,Le),Mt.push(new B(vt[0]/vt[3],vt[1]/vt[3]))}return Mt}(V,z),xe=function(Oe,Le,Qe,it){const Mt=[],lt=[],vt=it[8]*Le,en=it[9]*Le,un=it[10]*Le,Dn=it[11]*Le,vr=it[8]*Qe,$n=it[9]*Qe,_n=it[10]*Qe,fn=it[11]*Qe;for(const sr of Oe){const Un=[],wn=[];for(const Ir of sr){const br=Ir.x,Oi=Ir.y,ra=it[0]*br+it[4]*Oi+it[12],ia=it[1]*br+it[5]*Oi+it[13],Ea=it[2]*br+it[6]*Oi+it[14],Zl=it[3]*br+it[7]*Oi+it[15],Xl=Ea+un,ts=Zl+Dn,ys=ra+vr,No=ia+$n,Ds=Ea+_n,Jl=Zl+fn,Us=new B((ra+vt)/ts,(ia+en)/ts);Us.z=Xl/ts,Un.push(Us);const Rs=new B(ys/Jl,No/Jl);Rs.z=Ds/Jl,wn.push(Rs)}Mt.push(Un),lt.push(wn)}return[Mt,lt]}(w,Ae,ee,z);return function(Oe,Le,Qe){let it=1/0;zu(Qe,Le)&&(it=Cc(Qe,Le[0]));for(let Mt=0;Mt<Le.length;Mt++){const lt=Le[Mt],vt=Oe[Mt];for(let en=0;en<lt.length-1;en++){const un=lt[en],Dn=[un,lt[en+1],vt[en+1],vt[en],un];gc(Qe,Dn)&&(it=Math.min(it,Cc(Qe,Dn)))}}return it!==1/0&&it}(xe[0],xe[1],me)}}function Qf(c,l){return c.x*l.x+c.y*l.y}function Cc(c,l){if(c.length===1){let d=0;const y=l[d++];let w;for(;!w||y.equals(w);)if(w=l[d++],!w)return 1/0;for(;d<l.length;d++){const T=l[d],K=c[0],D=w.sub(y),z=T.sub(y),V=K.sub(y),ee=Qf(D,D),Ae=Qf(D,z),me=Qf(z,z),xe=Qf(V,D),Oe=Qf(V,z),Le=ee*me-Ae*Ae,Qe=(me*xe-Ae*Oe)/Le,it=(ee*Oe-Ae*xe)/Le,Mt=y.z*(1-Qe-it)+w.z*Qe+T.z*it;if(isFinite(Mt))return Mt}return 1/0}{let d=1/0;for(const y of l)d=Math.min(d,y.z);return d}}const U1=Ro([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ts}=U1,rv=Ro([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Fa}=rv,R1=Gu.VectorTileFeature.types,iv=Math.cos(Math.PI/180*37.5),o0=Math.pow(2,14)/.5;class jh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new je,this.layoutVertexArray2=new ct,this.indexArray=new An,this.programConfigurations=new Za(l.layers,l.zoom),this.segments=new kr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=Nf("line",this.layers,d);const w=this.layers[0].layout.get("line-sort-key"),T=!w.isConstant(),K=[];for(const{feature:D,id:z,index:V,sourceLayerIndex:ee}of l){const Ae=this.layers[0]._featureFilter.needGeometry,me=DA(D,Ae);if(!this.layers[0]._featureFilter.filter(new yo(this.zoom),me,y))continue;const xe=T?w.evaluate(me,{},y):void 0,Oe={id:z,properties:D.properties,type:D.type,sourceLayerIndex:ee,index:V,geometry:Ae?me.geometry:ql(D),patterns:{},sortKey:xe};K.push(Oe)}T&&K.sort((D,z)=>D.sortKey-z.sortKey);for(const D of K){const{geometry:z,index:V,sourceLayerIndex:ee}=D;if(this.hasPattern){const Ae=Up("line",this.layers,D,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(D,z,V,y,{});d.featureIndex.insert(l[V].feature,z,V,ee,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Fa)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Ts),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,y,w,T){const K=this.layers[0].layout,D=K.get("line-join").evaluate(l,{}),z=K.get("line-cap"),V=K.get("line-miter-limit"),ee=K.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Ae of d)this.addLine(Ae,l,D,z,V,ee);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,w)}addLine(l,d,y,w,T,K){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let it=0;it<l.length-1;it++)this.totalDistance+=l[it].dist(l[it+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=R1[d.type]==="Polygon";let z=l.length;for(;z>=2&&l[z-1].equals(l[z-2]);)z--;let V=0;for(;V<z-1&&l[V].equals(l[V+1]);)V++;if(z<(D?3:2))return;y==="bevel"&&(T=1.05);const ee=this.overscaling<=16?15*la/(512*this.overscaling):0,Ae=this.segments.prepareSegment(10*z,this.layoutVertexArray,this.indexArray);let me,xe,Oe,Le,Qe;this.e1=this.e2=-1,D&&(me=l[z-2],Qe=l[V].sub(me)._unit()._perp());for(let it=V;it<z;it++){if(Oe=it===z-1?D?l[V+1]:void 0:l[it+1],Oe&&l[it].equals(Oe))continue;Qe&&(Le=Qe),me&&(xe=me),me=l[it],Qe=Oe?Oe.sub(me)._unit()._perp():Le,Le=Le||Qe;let Mt=Le.add(Qe);Mt.x===0&&Mt.y===0||Mt._unit();const lt=Le.x*Qe.x+Le.y*Qe.y,vt=Mt.x*Qe.x+Mt.y*Qe.y,en=vt!==0?1/vt:1/0,un=2*Math.sqrt(2-2*vt),Dn=vt<iv&&xe&&Oe,vr=Le.x*Qe.y-Le.y*Qe.x>0;if(Dn&&it>V){const fn=me.dist(xe);if(fn>2*ee){const sr=me.sub(me.sub(xe)._mult(ee/fn)._round());this.updateDistance(xe,sr),this.addCurrentVertex(sr,Le,0,0,Ae),xe=sr}}const $n=xe&&Oe;let _n=$n?y:D?"butt":w;if($n&&_n==="round"&&(en<K?_n="miter":en<=2&&(_n="fakeround")),_n==="miter"&&en>T&&(_n="bevel"),_n==="bevel"&&(en>2&&(_n="flipbevel"),en<T&&(_n="miter")),xe&&this.updateDistance(xe,me),_n==="miter")Mt._mult(en),this.addCurrentVertex(me,Mt,0,0,Ae);else if(_n==="flipbevel"){if(en>100)Mt=Qe.mult(-1);else{const fn=en*Le.add(Qe).mag()/Le.sub(Qe).mag();Mt._perp()._mult(fn*(vr?-1:1))}this.addCurrentVertex(me,Mt,0,0,Ae),this.addCurrentVertex(me,Mt.mult(-1),0,0,Ae)}else if(_n==="bevel"||_n==="fakeround"){const fn=-Math.sqrt(en*en-1),sr=vr?fn:0,Un=vr?0:fn;if(xe&&this.addCurrentVertex(me,Le,sr,Un,Ae),_n==="fakeround"){const wn=Math.round(180*un/Math.PI/20);for(let Ir=1;Ir<wn;Ir++){let br=Ir/wn;if(br!==.5){const ra=br-.5;br+=br*ra*(br-1)*((1.0904+lt*(lt*(3.55645-1.43519*lt)-3.2452))*ra*ra+(.848013+lt*(.215638*lt-1.06021)))}const Oi=Qe.sub(Le)._mult(br)._add(Le)._unit()._mult(vr?-1:1);this.addHalfVertex(me,Oi.x,Oi.y,!1,vr,0,Ae)}}Oe&&this.addCurrentVertex(me,Qe,-sr,-Un,Ae)}else if(_n==="butt")this.addCurrentVertex(me,Mt,0,0,Ae);else if(_n==="square"){const fn=xe?1:-1;this.addCurrentVertex(me,Mt,fn,fn,Ae)}else _n==="round"&&(xe&&(this.addCurrentVertex(me,Le,0,0,Ae),this.addCurrentVertex(me,Le,1,1,Ae,!0)),Oe&&(this.addCurrentVertex(me,Qe,-1,-1,Ae,!0),this.addCurrentVertex(me,Qe,0,0,Ae)));if(Dn&&it<z-1){const fn=me.dist(Oe);if(fn>2*ee){const sr=me.add(Oe.sub(me)._mult(ee/fn)._round());this.updateDistance(me,sr),this.addCurrentVertex(sr,Qe,0,0,Ae),me=sr}}}}addCurrentVertex(l,d,y,w,T,K=!1){const D=d.y*w-d.x,z=-d.y-d.x*w;this.addHalfVertex(l,d.x+d.y*y,d.y-d.x*y,K,!1,y,T),this.addHalfVertex(l,D,z,K,!0,-w,T),this.distance>o0/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,y,w,T,K))}addHalfVertex({x:l,y:d},y,w,T,K,D,z){const V=.5*(this.lineClips?this.scaledDistance*(o0-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(d<<1)+(K?1:0),Math.round(63*y)+128,Math.round(63*w)+128,1+(D===0?0:D<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ee=z.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ee),z.primitiveLength++),K?this.e2=ee:this.e1=ee}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let A,h;zn("LineBucket",jh,{omit:["layers","patternFeatures"]});var x={get paint(){return h=h||new $o({"line-opacity":new Er(pt.paint_line["line-opacity"]),"line-color":new Er(pt.paint_line["line-color"]),"line-translate":new gr(pt.paint_line["line-translate"]),"line-translate-anchor":new gr(pt.paint_line["line-translate-anchor"]),"line-width":new Er(pt.paint_line["line-width"]),"line-gap-width":new Er(pt.paint_line["line-gap-width"]),"line-offset":new Er(pt.paint_line["line-offset"]),"line-blur":new Er(pt.paint_line["line-blur"]),"line-dasharray":new dc(pt.paint_line["line-dasharray"]),"line-pattern":new KA(pt.paint_line["line-pattern"]),"line-gradient":new $c(pt.paint_line["line-gradient"])})},get layout(){return A=A||new $o({"line-cap":new gr(pt.layout_line["line-cap"]),"line-join":new Er(pt.layout_line["line-join"]),"line-miter-limit":new gr(pt.layout_line["line-miter-limit"]),"line-round-limit":new gr(pt.layout_line["line-round-limit"]),"line-sort-key":new Er(pt.layout_line["line-sort-key"])})}};class _ extends Er{possiblyEvaluate(l,d){return d=new yo(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,y,w){return d=le({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,y,w)}}let E;class U extends va{constructor(l){super(l,x),this.gradientVersion=0,E||(E=new _(x.paint.properties["line-width"].specification),E.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Au,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=E.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new jh(l)}queryRadius(l){const d=l,y=$(Eh("line-width",this,d),Eh("line-gap-width",this,d)),w=Eh("line-offset",this,d);return y/2+Math.abs(w)+Oh(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,y,w,T,K,D){const z=Vl(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),K.angle,D),V=D/2*$(this.paint.get("line-width").evaluate(d,y),this.paint.get("line-gap-width").evaluate(d,y)),ee=this.paint.get("line-offset").evaluate(d,y);return ee&&(w=function(Ae,me){const xe=[];for(let Oe=0;Oe<Ae.length;Oe++){const Le=Ae[Oe],Qe=[];for(let it=0;it<Le.length;it++){const Mt=Le[it-1],lt=Le[it],vt=Le[it+1],en=it===0?new B(0,0):lt.sub(Mt)._unit()._perp(),un=it===Le.length-1?new B(0,0):vt.sub(lt)._unit()._perp(),Dn=en._add(un)._unit(),vr=Dn.x*un.x+Dn.y*un.y;vr!==0&&Dn._mult(1/vr),Qe.push(Dn._mult(me)._add(lt))}xe.push(Qe)}return xe}(w,ee*D)),function(Ae,me,xe){for(let Oe=0;Oe<me.length;Oe++){const Le=me[Oe];if(Ae.length>=3){for(let Qe=0;Qe<Le.length;Qe++)if(ju(Ae,Le[Qe]))return!0}if(Df(Ae,Le,xe))return!0}return!1}(z,w,V)}isTileClipped(){return!0}}function $(c,l){return l>0?l+2*c:c}const J=Ro([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ae=Ro([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ro([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pe=Ro([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ro([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const We=Ro([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qe=Ro([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function wt(c,l,d){return c.sections.forEach(y=>{y.text=function(w,T,K){const D=T.layout.get("text-transform").evaluate(K,{});return D==="uppercase"?w=w.toLocaleUpperCase():D==="lowercase"&&(w=w.toLocaleLowerCase()),Du.applyArabicShaping&&(w=Du.applyArabicShaping(w)),w}(y.text,l,d)}),c}Ro([{name:"triangle",components:3,type:"Uint16"}]),Ro([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ro([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ro([{type:"Float32",name:"offsetX"}]),Ro([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ro([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const gt={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ut=24,cn=Cn,Bn=function(c,l,d,y,w){var T,K,D=8*w-y-1,z=(1<<D)-1,V=z>>1,ee=-7,Ae=d?w-1:0,me=d?-1:1,xe=c[l+Ae];for(Ae+=me,T=xe&(1<<-ee)-1,xe>>=-ee,ee+=D;ee>0;T=256*T+c[l+Ae],Ae+=me,ee-=8);for(K=T&(1<<-ee)-1,T>>=-ee,ee+=y;ee>0;K=256*K+c[l+Ae],Ae+=me,ee-=8);if(T===0)T=1-V;else{if(T===z)return K?NaN:1/0*(xe?-1:1);K+=Math.pow(2,y),T-=V}return(xe?-1:1)*K*Math.pow(2,T-y)},Gn=function(c,l,d,y,w,T){var K,D,z,V=8*T-w-1,ee=(1<<V)-1,Ae=ee>>1,me=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,xe=y?0:T-1,Oe=y?1:-1,Le=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(D=isNaN(l)?1:0,K=ee):(K=Math.floor(Math.log(l)/Math.LN2),l*(z=Math.pow(2,-K))<1&&(K--,z*=2),(l+=K+Ae>=1?me/z:me*Math.pow(2,1-Ae))*z>=2&&(K++,z/=2),K+Ae>=ee?(D=0,K=ee):K+Ae>=1?(D=(l*z-1)*Math.pow(2,w),K+=Ae):(D=l*Math.pow(2,Ae-1)*Math.pow(2,w),K=0));w>=8;c[d+xe]=255&D,xe+=Oe,D/=256,w-=8);for(K=K<<w|D,V+=w;V>0;c[d+xe]=255&K,xe+=Oe,K/=256,V-=8);c[d+xe-Oe]|=128*Le};function Cn(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}Cn.Varint=0,Cn.Fixed64=1,Cn.Bytes=2,Cn.Fixed32=5;var Fn=4294967296,ar=1/Fn,Or=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function yr(c){return c.type===Cn.Bytes?c.readVarint()+c.pos:c.pos+1}function oi(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function ko(c,l,d){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(y);for(var w=d.pos-1;w>=c;w--)d.buf[w+y]=d.buf[w]}function Da(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function Aa(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function Sa(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function Xa(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function Ja(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function bl(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function Vs(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function ms(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function es(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function na(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function gs(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function Qd(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}Cn.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),w=y>>3,T=this.pos;this.type=7&y,c(w,l,this),this.pos===T&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=na(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=Qd(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=na(this.buf,this.pos)+na(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readSFixed64:function(){var c=na(this.buf,this.pos)+Qd(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readFloat:function(){var c=Bn(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=Bn(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,y=this.buf;return l=127&(d=y[this.pos++]),d<128?l:(l|=(127&(d=y[this.pos++]))<<7,d<128?l:(l|=(127&(d=y[this.pos++]))<<14,d<128?l:(l|=(127&(d=y[this.pos++]))<<21,d<128?l:function(w,T,K){var D,z,V=K.buf;if(D=(112&(z=V[K.pos++]))>>4,z<128||(D|=(127&(z=V[K.pos++]))<<3,z<128)||(D|=(127&(z=V[K.pos++]))<<10,z<128)||(D|=(127&(z=V[K.pos++]))<<17,z<128)||(D|=(127&(z=V[K.pos++]))<<24,z<128)||(D|=(1&(z=V[K.pos++]))<<31,z<128))return oi(w,D,T);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&Or?function(d,y,w){return Or.decode(d.subarray(y,w))}(this.buf,l,c):function(d,y,w){for(var T="",K=y;K<w;){var D,z,V,ee=d[K],Ae=null,me=ee>239?4:ee>223?3:ee>191?2:1;if(K+me>w)break;me===1?ee<128&&(Ae=ee):me===2?(192&(D=d[K+1]))==128&&(Ae=(31&ee)<<6|63&D)<=127&&(Ae=null):me===3?(z=d[K+2],(192&(D=d[K+1]))==128&&(192&z)==128&&((Ae=(15&ee)<<12|(63&D)<<6|63&z)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):me===4&&(z=d[K+2],V=d[K+3],(192&(D=d[K+1]))==128&&(192&z)==128&&(192&V)==128&&((Ae=(15&ee)<<18|(63&D)<<12|(63&z)<<6|63&V)<=65535||Ae>=1114112)&&(Ae=null)),Ae===null?(Ae=65533,me=1):Ae>65535&&(Ae-=65536,T+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),T+=String.fromCharCode(Ae),K+=me}return T}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==Cn.Bytes)return c.push(this.readVarint(l));var d=yr(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==Cn.Bytes)return c.push(this.readSVarint());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==Cn.Bytes)return c.push(this.readBoolean());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==Cn.Bytes)return c.push(this.readFloat());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==Cn.Bytes)return c.push(this.readDouble());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==Cn.Bytes)return c.push(this.readFixed32());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==Cn.Bytes)return c.push(this.readSFixed32());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==Cn.Bytes)return c.push(this.readFixed64());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==Cn.Bytes)return c.push(this.readSFixed64());var l=yr(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===Cn.Varint)for(;this.buf[this.pos++]>127;);else if(l===Cn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===Cn.Fixed32)this.pos+=4;else{if(l!==Cn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),gs(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),gs(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),gs(this.buf,-1&c,this.pos),gs(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),gs(this.buf,-1&c,this.pos),gs(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var y,w;if(l>=0?(y=l%4294967296|0,w=l/4294967296|0):(w=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,w=w+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,K,D){D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,T>>>=7,D.buf[D.pos++]=127&T|128,D.buf[D.pos]=127&(T>>>=7)}(y,0,d),function(T,K){var D=(7&T)<<4;K.buf[K.pos++]|=D|((T>>>=3)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T)))))}(w,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,w,T){for(var K,D,z=0;z<w.length;z++){if((K=w.charCodeAt(z))>55295&&K<57344){if(!D){K>56319||z+1===w.length?(y[T++]=239,y[T++]=191,y[T++]=189):D=K;continue}if(K<56320){y[T++]=239,y[T++]=191,y[T++]=189,D=K;continue}K=D-55296<<10|K-56320|65536,D=null}else D&&(y[T++]=239,y[T++]=191,y[T++]=189,D=null);K<128?y[T++]=K:(K<2048?y[T++]=K>>6|192:(K<65536?y[T++]=K>>12|224:(y[T++]=K>>18|240,y[T++]=K>>12&63|128),y[T++]=K>>6&63|128),y[T++]=63&K|128)}return T}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&ko(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),Gn(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Gn(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var y=this.pos-d;y>=128&&ko(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,d){this.writeTag(c,Cn.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,Da,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,Aa,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,Ja,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,Sa,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,Xa,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,bl,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,Vs,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,ms,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,es,l)},writeBytesField:function(c,l){this.writeTag(c,Cn.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,Cn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,Cn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,Cn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,Cn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,Cn.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,Cn.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,Cn.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,Cn.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,Cn.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var RA=p(cn);const Ks=3;function LA(c,l,d){c===1&&d.readMessage(Ps,l)}function Ps(c,l,d){if(c===3){const{id:y,bitmap:w,width:T,height:K,left:D,top:z,advance:V}=d.readMessage(a0,{});l.push({id:y,bitmap:new Ma({width:T+2*Ks,height:K+2*Ks},w),metrics:{width:T,height:K,left:D,top:z,advance:V}})}}function a0(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}const lA=Ks;function _c(c){let l=0,d=0;for(const K of c)l+=K.w*K.h,d=Math.max(d,K.w);c.sort((K,D)=>D.h-K.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let w=0,T=0;for(const K of c)for(let D=y.length-1;D>=0;D--){const z=y[D];if(!(K.w>z.w||K.h>z.h)){if(K.x=z.x,K.y=z.y,T=Math.max(T,K.y+K.h),w=Math.max(w,K.x+K.w),K.w===z.w&&K.h===z.h){const V=y.pop();D<y.length&&(y[D]=V)}else K.h===z.h?(z.x+=K.w,z.w-=K.w):K.w===z.w?(z.y+=K.h,z.h-=K.h):(y.push({x:z.x+K.w,y:z.y,w:z.w-K.w,h:K.h}),z.y+=K.h,z.h-=K.h);break}}return{w,h:T,fill:l/(w*T)||0}}const Ua=1;class Hs{constructor(l,{pixelRatio:d,version:y,stretchX:w,stretchY:T,content:K}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=w,this.stretchY=T,this.content=K,this.version=y}get tl(){return[this.paddedRect.x+Ua,this.paddedRect.y+Ua]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ua,this.paddedRect.y+this.paddedRect.h-Ua]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ua)/this.pixelRatio,(this.paddedRect.h-2*Ua)/this.pixelRatio]}}class $d{constructor(l,d){const y={},w={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,y,T),this.addImages(d,w,T);const{w:K,h:D}=_c(T),z=new al({width:K||1,height:D||1});for(const V in l){const ee=l[V],Ae=y[V].paddedRect;al.copy(ee.data,z,{x:0,y:0},{x:Ae.x+Ua,y:Ae.y+Ua},ee.data)}for(const V in d){const ee=d[V],Ae=w[V].paddedRect,me=Ae.x+Ua,xe=Ae.y+Ua,Oe=ee.data.width,Le=ee.data.height;al.copy(ee.data,z,{x:0,y:0},{x:me,y:xe},ee.data),al.copy(ee.data,z,{x:0,y:Le-1},{x:me,y:xe-1},{width:Oe,height:1}),al.copy(ee.data,z,{x:0,y:0},{x:me,y:xe+Le},{width:Oe,height:1}),al.copy(ee.data,z,{x:Oe-1,y:0},{x:me-1,y:xe},{width:1,height:Le}),al.copy(ee.data,z,{x:0,y:0},{x:me+Oe,y:xe},{width:1,height:Le})}this.image=z,this.iconPositions=y,this.patternPositions=w}addImages(l,d,y){for(const w in l){const T=l[w],K={x:0,y:0,w:T.data.width+2*Ua,h:T.data.height+2*Ua};y.push(K),d[w]=new Hs(K,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),d),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),d)}patchUpdatedImage(l,d,y){if(!l||!d||l.version===d.version)return;l.version=d.version;const[w,T]=l.tl;y.update(d.data,void 0,{x:w,y:T})}}var zA;zn("ImagePosition",Hs),zn("ImageAtlas",$d),s.ah=void 0,(zA=s.ah||(s.ah={}))[zA.none=0]="none",zA[zA.horizontal=1]="horizontal",zA[zA.vertical=2]="vertical",zA[zA.horizontalOnly=3]="horizontalOnly";const Gp=-17;class s0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const y=new s0;return y.scale=l||1,y.fontStack=d,y}static forImage(l){const d=new s0;return d.imageName=l,d}}class Qp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const y=new Qp;for(let w=0;w<l.sections.length;w++){const T=l.sections[w];T.image?y.addImageSection(T):y.addTextSection(T,d)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let y=0;y<l.length;y++){const w=l.charCodeAt(y+1)||null,T=l.charCodeAt(y-1)||null;d+=w&&mu(w)&&!gt[l[y+1]]||T&&mu(T)&&!gt[l[y-1]]||!gt[l[y]]?l[y]:gt[l[y]]}return d}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&z1[this.text.charCodeAt(y)];y++)l++;let d=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&z1[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const y=new Qp;return y.text=this.text.substring(l,d),y.sectionIndex=this.sectionIndex.slice(l,d),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(s0.forText(l.scale,l.fontStack||d));const y=this.sections.length-1;for(let w=0;w<l.text.length;++w)this.sectionIndex.push(y)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void Ke("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(s0.forImage(d)),this.sectionIndex.push(this.sections.length-1)):Ke("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function L1(c,l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le){const Qe=Qp.fromFeature(c,w);let it;Ae===s.ah.vertical&&Qe.verticalizePunctuation();const{processBidirectionalText:Mt,processStyledBidirectionalText:lt}=Du;if(Mt&&Qe.sections.length===1){it=[];const un=Mt(Qe.toString(),j1(Qe,V,T,l,y,xe,Oe));for(const Dn of un){const vr=new Qp;vr.text=Dn,vr.sections=Qe.sections;for(let $n=0;$n<Dn.length;$n++)vr.sectionIndex.push(0);it.push(vr)}}else if(lt){it=[];const un=lt(Qe.text,Qe.sectionIndex,j1(Qe,V,T,l,y,xe,Oe));for(const Dn of un){const vr=new Qp;vr.text=Dn[0],vr.sectionIndex=Dn[1],vr.sections=Qe.sections,it.push(vr)}}else it=function(un,Dn){const vr=[],$n=un.text;let _n=0;for(const fn of Dn)vr.push(un.substring(_n,fn)),_n=fn;return _n<$n.length&&vr.push(un.substring(_n,$n.length)),vr}(Qe,j1(Qe,V,T,l,y,xe,Oe));const vt=[],en={positionedLines:vt,text:Qe.toString(),top:ee[1],bottom:ee[1],left:ee[0],right:ee[0],writingMode:Ae,iconsInText:!1,verticalizable:!1};return function(un,Dn,vr,$n,_n,fn,sr,Un,wn,Ir,br,Oi){let ra=0,ia=Gp,Ea=0,Zl=0;const Xl=Un==="right"?1:Un==="left"?0:.5;let ts=0;for(const Us of _n){Us.trim();const Rs=Us.getMaxScale(),Fl=(Rs-1)*Ut,eu={positionedGlyphs:[],lineOffset:0};un.positionedLines[ts]=eu;const xl=eu.positionedGlyphs;let ns=0;if(!Us.length()){ia+=fn,++ts;continue}for(let vs=0;vs<Us.length();vs++){const Zr=Us.getSection(vs),wl=Us.getSectionIndex(vs),Ml=Us.getCharCode(vs);let ai=0,jA=null,WA=null,Qu=null,qd=Ut;const NA=!(wn===s.ah.horizontal||!br&&!Fu(Ml)||br&&(z1[Ml]||(ys=Ml,Nn.Arabic(ys)||Nn["Arabic Supplement"](ys)||Nn["Arabic Extended-A"](ys)||Nn["Arabic Presentation Forms-A"](ys)||Nn["Arabic Presentation Forms-B"](ys))));if(Zr.imageName){const cA=$n[Zr.imageName];if(!cA)continue;Qu=Zr.imageName,un.iconsInText=un.iconsInText||!0,WA=cA.paddedRect;const bu=cA.displaySize;Zr.scale=Zr.scale*Ut/Oi,jA={width:bu[0],height:bu[1],left:Ua,top:-lA,advance:NA?bu[1]:bu[0]},ai=Fl+(Ut-bu[1]*Zr.scale),qd=jA.advance;const Vd=NA?bu[0]*Zr.scale-Ut*Rs:bu[1]*Zr.scale-Ut*Rs;Vd>0&&Vd>ns&&(ns=Vd)}else{const cA=vr[Zr.fontStack],bu=cA&&cA[Ml];if(bu&&bu.rect)WA=bu.rect,jA=bu.metrics;else{const Vd=Dn[Zr.fontStack],d0=Vd&&Vd[Ml];if(!d0)continue;jA=d0.metrics}ai=(Rs-Zr.scale)*Ut}NA?(un.verticalizable=!0,xl.push({glyph:Ml,imageName:Qu,x:ra,y:ia+ai,vertical:NA,scale:Zr.scale,fontStack:Zr.fontStack,sectionIndex:wl,metrics:jA,rect:WA}),ra+=qd*Zr.scale+Ir):(xl.push({glyph:Ml,imageName:Qu,x:ra,y:ia+ai,vertical:NA,scale:Zr.scale,fontStack:Zr.fontStack,sectionIndex:wl,metrics:jA,rect:WA}),ra+=jA.advance*Zr.scale+Ir)}xl.length!==0&&(Ea=Math.max(ra-Ir,Ea),J5(xl,0,xl.length-1,Xl,ns)),ra=0;const $r=fn*Rs+ns;eu.lineOffset=Math.max(ns,Fl),ia+=$r,Zl=Math.max($r,Zl),++ts}var ys;const No=ia-Gp,{horizontalAlign:Ds,verticalAlign:Jl}=ov(sr);(function(Us,Rs,Fl,eu,xl,ns,$r,vs,Zr){const wl=(Rs-Fl)*xl;let Ml=0;Ml=ns!==$r?-vs*eu-Gp:(-eu*Zr+.5)*$r;for(const ai of Us)for(const jA of ai.positionedGlyphs)jA.x+=wl,jA.y+=Ml})(un.positionedLines,Xl,Ds,Jl,Ea,Zl,fn,No,_n.length),un.top+=-Jl*No,un.bottom=un.top+No,un.left+=-Ds*Ea,un.right=un.left+Ea}(en,l,d,y,it,K,D,z,Ae,V,me,Le),!function(un){for(const Dn of un)if(Dn.positionedGlyphs.length!==0)return!1;return!0}(vt)&&en}const z1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Z5={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Cb(c,l,d,y,w,T){if(l.imageName){const K=y[l.imageName];return K?K.displaySize[0]*l.scale*Ut/T+w:0}{const K=d[l.fontStack],D=K&&K[c];return D?D.metrics.advance*l.scale+w:0}}function uA(c,l,d,y){const w=Math.pow(c-l,2);return y?c<l?w/2:2*w:w+Math.abs(d)*d}function X5(c,l,d){let y=0;return c===10&&(y-=1e4),d&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function _b(c,l,d,y,w,T){let K=null,D=uA(l,d,w,T);for(const z of y){const V=uA(l-z.x,d,w,T)+z.badness;V<=D&&(K=z,D=V)}return{index:c,x:l,priorBreak:K,badness:D}}function bb(c){return c?bb(c.priorBreak).concat(c.index):[]}function j1(c,l,d,y,w,T,K){if(T!=="point")return[];if(!c)return[];const D=[],z=function(me,xe,Oe,Le,Qe,it){let Mt=0;for(let lt=0;lt<me.length();lt++){const vt=me.getSection(lt);Mt+=Cb(me.getCharCode(lt),vt,Le,Qe,xe,it)}return Mt/Math.max(1,Math.ceil(Mt/Oe))}(c,l,d,y,w,K),V=c.text.indexOf("")>=0;let ee=0;for(let me=0;me<c.length();me++){const xe=c.getSection(me),Oe=c.getCharCode(me);if(z1[Oe]||(ee+=Cb(Oe,xe,y,w,l,K)),me<c.length()-1){const Le=!((Ae=Oe)<11904||!(Nn["Bopomofo Extended"](Ae)||Nn.Bopomofo(Ae)||Nn["CJK Compatibility Forms"](Ae)||Nn["CJK Compatibility Ideographs"](Ae)||Nn["CJK Compatibility"](Ae)||Nn["CJK Radicals Supplement"](Ae)||Nn["CJK Strokes"](Ae)||Nn["CJK Symbols and Punctuation"](Ae)||Nn["CJK Unified Ideographs Extension A"](Ae)||Nn["CJK Unified Ideographs"](Ae)||Nn["Enclosed CJK Letters and Months"](Ae)||Nn["Halfwidth and Fullwidth Forms"](Ae)||Nn.Hiragana(Ae)||Nn["Ideographic Description Characters"](Ae)||Nn["Kangxi Radicals"](Ae)||Nn["Katakana Phonetic Extensions"](Ae)||Nn.Katakana(Ae)||Nn["Vertical Forms"](Ae)||Nn["Yi Radicals"](Ae)||Nn["Yi Syllables"](Ae)));(Z5[Oe]||Le||xe.imageName)&&D.push(_b(me+1,ee,z,D,X5(Oe,c.getCharCode(me+1),Le&&V),!1))}}var Ae;return bb(_b(c.length(),ee,z,D,0,!0))}function ov(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function J5(c,l,d,y,w){if(!y&&!w)return;const T=c[d],K=(c[d].x+T.metrics.advance*T.scale)*y;for(let D=l;D<=d;D++)c[D].x-=K,c[D].y+=w}function ew(c,l,d){const{horizontalAlign:y,verticalAlign:w}=ov(d),T=l[0]-c.displaySize[0]*y,K=l[1]-c.displaySize[1]*w;return{image:c,top:K,bottom:K+c.displaySize[1],left:T,right:T+c.displaySize[0]}}function xb(c,l,d,y,w,T){const K=c.image;let D;if(K.content){const Qe=K.content,it=K.pixelRatio||1;D=[Qe[0]/it,Qe[1]/it,K.displaySize[0]-Qe[2]/it,K.displaySize[1]-Qe[3]/it]}const z=l.left*T,V=l.right*T;let ee,Ae,me,xe;d==="width"||d==="both"?(xe=w[0]+z-y[3],Ae=w[0]+V+y[1]):(xe=w[0]+(z+V-K.displaySize[0])/2,Ae=xe+K.displaySize[0]);const Oe=l.top*T,Le=l.bottom*T;return d==="height"||d==="both"?(ee=w[1]+Oe-y[0],me=w[1]+Le+y[2]):(ee=w[1]+(Oe+Le-K.displaySize[1])/2,me=ee+K.displaySize[1]),{image:K,top:ee,right:Ae,bottom:me,left:xe,collisionPadding:D}}const $f=255,id=128,Wh=$f*id;function wb(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new yo(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:w}=d;let T=0;for(;T<y.length&&y[T]<=c;)T++;T=Math.max(0,T-1);let K=T;for(;K<y.length&&y[K]<c+1;)K++;K=Math.min(y.length-1,K);const D=y[T],z=y[K];return d.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:z,interpolationType:w}:{kind:"camera",minZoom:D,maxZoom:z,minSize:d.evaluate(new yo(D)),maxSize:d.evaluate(new yo(z)),interpolationType:w}}}function av(c,l,d){let y="never";const w=c.get(l);return w?y=w:c.get(d)&&(y="always"),y}const tw=Gu.VectorTileFeature.types,nw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function W1(c,l,d,y,w,T,K,D,z,V,ee,Ae,me){const xe=D?Math.min(Wh,Math.round(D[0])):0,Oe=D?Math.min(Wh,Math.round(D[1])):0;c.emplaceBack(l,d,Math.round(32*y),Math.round(32*w),T,K,(xe<<1)+(z?1:0),Oe,16*V,16*ee,256*Ae,256*me)}function sv(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function rw(c){for(const l of c.sections)if(cc(l.text))return!0;return!1}class lv{constructor(l){this.layoutVertexArray=new Ye,this.indexArray=new An,this.programConfigurations=l,this.segments=new kr,this.dynamicLayoutVertexArray=new Ct,this.opacityVertexArray=new Gt,this.hasVisibleVertices=!1,this.placedSymbolArray=new C}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,y,w){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,J.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,ae.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,nw,!0),this.opacityVertexBuffer.itemSize=1),(y||w)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}zn("SymbolBuffers",lv);class uv{constructor(l,d,y){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new y,this.segments=new kr,this.collisionVertexArray=new Jt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,pe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}zn("CollisionBuffers",uv);class $p{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(K=>K.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Vm([]),this.placementViewportMatrix=Vm([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=wb(this.zoom,d["text-size"]),this.iconSizeData=wb(this.zoom,d["icon-size"]);const y=this.layers[0].layout,w=y.get("symbol-sort-key"),T=y.get("symbol-z-order");this.canOverlap=av(y,"text-overlap","text-allow-overlap")!=="never"||av(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(K=>s.ah[K])),this.stateDependentLayerIds=this.layers.filter(K=>K.isStateDependent()).map(K=>K.id),this.sourceID=l.sourceID}createArrays(){this.text=new lv(new Za(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new lv(new Za(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new L,this.lineVertexArray=new j,this.symbolInstances=new I,this.textAnchorOffsets=new te}calculateGlyphDependencies(l,d,y,w,T){for(let K=0;K<l.length;K++)if(d[l.charCodeAt(K)]=!0,(y||w)&&T){const D=gt[l.charAt(K)];D&&(d[D.charCodeAt(0)]=!0)}}populate(l,d,y){const w=this.layers[0],T=w.layout,K=T.get("text-font"),D=T.get("text-field"),z=T.get("icon-image"),V=(D.value.kind!=="constant"||D.value.value instanceof Qn&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),ee=z.value.kind!=="constant"||!!z.value.value||Object.keys(z.parameters).length>0,Ae=T.get("symbol-sort-key");if(this.features=[],!V&&!ee)return;const me=d.iconDependencies,xe=d.glyphDependencies,Oe=d.availableImages,Le=new yo(this.zoom);for(const{feature:Qe,id:it,index:Mt,sourceLayerIndex:lt}of l){const vt=w._featureFilter.needGeometry,en=DA(Qe,vt);if(!w._featureFilter.filter(Le,en,y))continue;let un,Dn;if(vt||(en.geometry=ql(Qe)),V){const $n=w.getValueAndResolveTokens("text-field",en,y,Oe),_n=Qn.factory($n);rw(_n)&&(this.hasRTLText=!0),(!this.hasRTLText||Du.getRTLTextPluginStatus()==="unavailable"||this.hasRTLText&&Du.isParsed())&&(un=wt(_n,w,en))}if(ee){const $n=w.getValueAndResolveTokens("icon-image",en,y,Oe);Dn=$n instanceof ge?$n:ge.fromString($n)}if(!un&&!Dn)continue;const vr=this.sortFeaturesByKey?Ae.evaluate(en,{},y):void 0;if(this.features.push({id:it,text:un,icon:Dn,index:Mt,sourceLayerIndex:lt,geometry:en.geometry,properties:Qe.properties,type:tw[Qe.type],sortKey:vr}),Dn&&(me[Dn.name]=!0),un){const $n=K.evaluate(en,{},y).join(","),_n=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ah.vertical)>=0;for(const fn of un.sections)if(fn.image)me[fn.image.name]=!0;else{const sr=Ac(un.toString()),Un=fn.fontStack||$n,wn=xe[Un]=xe[Un]||{};this.calculateGlyphDependencies(fn.text,wn,_n,this.allowVerticalPlacement,sr)}}}T.get("symbol-placement")==="line"&&(this.features=function(Qe){const it={},Mt={},lt=[];let vt=0;function en($n){lt.push(Qe[$n]),vt++}function un($n,_n,fn){const sr=Mt[$n];return delete Mt[$n],Mt[_n]=sr,lt[sr].geometry[0].pop(),lt[sr].geometry[0]=lt[sr].geometry[0].concat(fn[0]),sr}function Dn($n,_n,fn){const sr=it[_n];return delete it[_n],it[$n]=sr,lt[sr].geometry[0].shift(),lt[sr].geometry[0]=fn[0].concat(lt[sr].geometry[0]),sr}function vr($n,_n,fn){const sr=fn?_n[0][_n[0].length-1]:_n[0][0];return`${$n}:${sr.x}:${sr.y}`}for(let $n=0;$n<Qe.length;$n++){const _n=Qe[$n],fn=_n.geometry,sr=_n.text?_n.text.toString():null;if(!sr){en($n);continue}const Un=vr(sr,fn),wn=vr(sr,fn,!0);if(Un in Mt&&wn in it&&Mt[Un]!==it[wn]){const Ir=Dn(Un,wn,fn),br=un(Un,wn,lt[Ir].geometry);delete it[Un],delete Mt[wn],Mt[vr(sr,lt[br].geometry,!0)]=br,lt[Ir].geometry=null}else Un in Mt?un(Un,wn,fn):wn in it?Dn(Un,wn,fn):(en($n),it[Un]=vt-1,Mt[wn]=vt-1)}return lt.filter($n=>$n.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Qe,it)=>Qe.sortKey-it.sortKey)}update(l,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const y=this.lineVertexArray.length;if(l.segment!==void 0){let w=l.dist(d[l.segment+1]),T=l.dist(d[l.segment]);const K={};for(let D=l.segment+1;D<d.length;D++)K[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:w},D<d.length-1&&(w+=d[D+1].dist(d[D]));for(let D=l.segment||0;D>=0;D--)K[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:T},D>0&&(T+=d[D-1].dist(d[D]));for(let D=0;D<d.length;D++){const z=K[D];this.lineVertexArray.emplaceBack(z.x,z.y,z.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,d,y,w,T,K,D,z,V,ee,Ae,me){const xe=l.indexArray,Oe=l.layoutVertexArray,Le=l.segments.prepareSegment(4*d.length,Oe,xe,this.canOverlap?K.sortKey:void 0),Qe=this.glyphOffsetArray.length,it=Le.vertexLength,Mt=this.allowVerticalPlacement&&D===s.ah.vertical?Math.PI/2:0,lt=K.text&&K.text.sections;for(let vt=0;vt<d.length;vt++){const{tl:en,tr:un,bl:Dn,br:vr,tex:$n,pixelOffsetTL:_n,pixelOffsetBR:fn,minFontScaleX:sr,minFontScaleY:Un,glyphOffset:wn,isSDF:Ir,sectionIndex:br}=d[vt],Oi=Le.vertexLength,ra=wn[1];W1(Oe,z.x,z.y,en.x,ra+en.y,$n.x,$n.y,y,Ir,_n.x,_n.y,sr,Un),W1(Oe,z.x,z.y,un.x,ra+un.y,$n.x+$n.w,$n.y,y,Ir,fn.x,_n.y,sr,Un),W1(Oe,z.x,z.y,Dn.x,ra+Dn.y,$n.x,$n.y+$n.h,y,Ir,_n.x,fn.y,sr,Un),W1(Oe,z.x,z.y,vr.x,ra+vr.y,$n.x+$n.w,$n.y+$n.h,y,Ir,fn.x,fn.y,sr,Un),sv(l.dynamicLayoutVertexArray,z,Mt),xe.emplaceBack(Oi,Oi+1,Oi+2),xe.emplaceBack(Oi+1,Oi+2,Oi+3),Le.vertexLength+=4,Le.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wn[0]),vt!==d.length-1&&br===d[vt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Oe.length,K,K.index,{},me,lt&&lt[br])}l.placedSymbolArray.emplaceBack(z.x,z.y,Qe,this.glyphOffsetArray.length-Qe,it,V,ee,z.segment,y?y[0]:0,y?y[1]:0,w[0],w[1],D,0,!1,0,Ae)}_addCollisionDebugVertex(l,d,y,w,T,K){return d.emplaceBack(0,0),l.emplaceBack(y.x,y.y,w,T,Math.round(K.x),Math.round(K.y))}addCollisionDebugVertices(l,d,y,w,T,K,D){const z=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),V=z.vertexLength,ee=T.layoutVertexArray,Ae=T.collisionVertexArray,me=D.anchorX,xe=D.anchorY;this._addCollisionDebugVertex(ee,Ae,K,me,xe,new B(l,d)),this._addCollisionDebugVertex(ee,Ae,K,me,xe,new B(y,d)),this._addCollisionDebugVertex(ee,Ae,K,me,xe,new B(y,w)),this._addCollisionDebugVertex(ee,Ae,K,me,xe,new B(l,w)),z.vertexLength+=4;const Oe=T.indexArray;Oe.emplaceBack(V,V+1),Oe.emplaceBack(V+1,V+2),Oe.emplaceBack(V+2,V+3),Oe.emplaceBack(V+3,V),z.primitiveLength+=4}addDebugCollisionBoxes(l,d,y,w){for(let T=l;T<d;T++){const K=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(K.x1,K.y1,K.x2,K.y2,w?this.textCollisionBox:this.iconCollisionBox,K.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new uv(It,We.members,ln),this.iconCollisionBox=new uv(It,We.members,ln);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,y,w,T,K,D,z,V){const ee={};for(let Ae=d;Ae<y;Ae++){const me=l.get(Ae);ee.textBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.textFeatureIndex=me.featureIndex;break}for(let Ae=w;Ae<T;Ae++){const me=l.get(Ae);ee.verticalTextBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.verticalTextFeatureIndex=me.featureIndex;break}for(let Ae=K;Ae<D;Ae++){const me=l.get(Ae);ee.iconBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.iconFeatureIndex=me.featureIndex;break}for(let Ae=z;Ae<V;Ae++){const me=l.get(Ae);ee.verticalIconBox={x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,anchorPointX:me.anchorPointX,anchorPointY:me.anchorPointY},ee.verticalIconFeatureIndex=me.featureIndex;break}return ee}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const y=l.placedSymbolArray.get(d),w=y.vertexStartIndex+4*y.numGlyphs;for(let T=y.vertexStartIndex;T<w;T+=4)l.indexArray.emplaceBack(T,T+1,T+2),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),y=Math.cos(l),w=[],T=[],K=[];for(let D=0;D<this.symbolInstances.length;++D){K.push(D);const z=this.symbolInstances.get(D);w.push(0|Math.round(d*z.anchorX+y*z.anchorY)),T.push(z.featureIndex)}return K.sort((D,z)=>w[D]-w[z]||T[z]-T[D]),K}addToSortKeyRanges(l,d){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===d?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((w,T,K)=>{w>=0&&K.indexOf(w)===T&&this.addIndicesForPlacedSymbol(this.text,w)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Mb,Sb;zn("SymbolBucket",$p,{omit:["layers","collisionBoxArray","features","compareText"]}),$p.MAX_GLYPHS=65535,$p.addDynamicAttributes=sv;var Av={get paint(){return Sb=Sb||new $o({"icon-opacity":new Er(pt.paint_symbol["icon-opacity"]),"icon-color":new Er(pt.paint_symbol["icon-color"]),"icon-halo-color":new Er(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Er(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Er(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new gr(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new gr(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Er(pt.paint_symbol["text-opacity"]),"text-color":new Er(pt.paint_symbol["text-color"],{runtimeType:En,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Er(pt.paint_symbol["text-halo-color"]),"text-halo-width":new Er(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Er(pt.paint_symbol["text-halo-blur"]),"text-translate":new gr(pt.paint_symbol["text-translate"]),"text-translate-anchor":new gr(pt.paint_symbol["text-translate-anchor"])})},get layout(){return Mb=Mb||new $o({"symbol-placement":new gr(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new gr(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gr(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Er(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gr(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gr(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new gr(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new gr(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new gr(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gr(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Er(pt.layout_symbol["icon-size"]),"icon-text-fit":new gr(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gr(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Er(pt.layout_symbol["icon-image"]),"icon-rotate":new Er(pt.layout_symbol["icon-rotate"]),"icon-padding":new Er(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new gr(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Er(pt.layout_symbol["icon-offset"]),"icon-anchor":new Er(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gr(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gr(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gr(pt.layout_symbol["text-rotation-alignment"]),"text-field":new Er(pt.layout_symbol["text-field"]),"text-font":new Er(pt.layout_symbol["text-font"]),"text-size":new Er(pt.layout_symbol["text-size"]),"text-max-width":new Er(pt.layout_symbol["text-max-width"]),"text-line-height":new gr(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Er(pt.layout_symbol["text-letter-spacing"]),"text-justify":new Er(pt.layout_symbol["text-justify"]),"text-radial-offset":new Er(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gr(pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Er(pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Er(pt.layout_symbol["text-anchor"]),"text-max-angle":new gr(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new gr(pt.layout_symbol["text-writing-mode"]),"text-rotate":new Er(pt.layout_symbol["text-rotate"]),"text-padding":new gr(pt.layout_symbol["text-padding"]),"text-keep-upright":new gr(pt.layout_symbol["text-keep-upright"]),"text-transform":new Er(pt.layout_symbol["text-transform"]),"text-offset":new Er(pt.layout_symbol["text-offset"]),"text-allow-overlap":new gr(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new gr(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new gr(pt.layout_symbol["text-ignore-placement"]),"text-optional":new gr(pt.layout_symbol["text-optional"])})}};class Eb{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Et,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zn("FormatSectionOverride",Eb,{omit:["defaultValue"]});class N1 extends va{constructor(l){super(l,Av)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const w=[];for(const T of y)w.indexOf(T)<0&&w.push(T);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,y,w){const T=this.layout.get(l).evaluate(d,{},y,w),K=this._unevaluatedLayout._values[l];return K.isDataDriven()||go(K.value)||!T?T:function(D,z){return z.replace(/{([^{}]+)}/g,(V,ee)=>D&&ee in D?String(D[ee]):"")}(d.properties,T)}createBucket(l){return new $p(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of Av.paint.overridableProperties){if(!N1.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),y=new Eb(d),w=new wo(y,d.property.specification);let T=null;T=d.value.kind==="constant"||d.value.kind==="source"?new jc("source",w):new Gs("composite",w,d.value.zoomStops),this.paint._values[l]=new to(d.property,T,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,y){return!(!this.layout||d.isDataDriven()||y.isDataDriven())&&N1.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const y=l.get("text-field"),w=Av.paint.properties[d];let T=!1;const K=D=>{for(const z of D)if(w.overrides&&w.overrides.hasOverride(z))return void(T=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Qn)K(y.value.value.sections);else if(y.value.kind==="source"){const D=V=>{T||(V instanceof Mn&&sn(V.value)===Wn?K(V.value.sections):V instanceof Rc?K(V.sections):V.eachChild(D))},z=y.value;z._styleExpression&&D(z._styleExpression.expression)}return T}}let Ob;var iw={get paint(){return Ob=Ob||new $o({"background-color":new gr(pt.paint_background["background-color"]),"background-pattern":new dc(pt.paint_background["background-pattern"]),"background-opacity":new gr(pt.paint_background["background-opacity"])})}};class ow extends va{constructor(l){super(l,iw)}}let G1;var Bb={get paint(){return G1=G1||new $o({"raster-opacity":new gr(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new gr(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gr(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gr(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new gr(pt.paint_raster["raster-saturation"]),"raster-contrast":new gr(pt.paint_raster["raster-contrast"]),"raster-resampling":new gr(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new gr(pt.paint_raster["raster-fade-duration"])})}};class aw extends va{constructor(l){super(l,Bb)}}class sw extends va{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class lw{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const cv=63710088e-1;class Nh{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Nh(se(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,y=this.lat*d,w=l.lat*d,T=Math.sin(y)*Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos((l.lng-this.lng)*d);return cv*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof Nh)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Nh(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Nh(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const kb=2*Math.PI*cv;function Ib(c){return kb*Math.cos(c*Math.PI/180)}function Tb(c){return(180+c)/360}function dv(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Kb(c,l){return c/Ib(l)}function Yp(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class Q1{constructor(l,d,y=0){this.x=+l,this.y=+d,this.z=+y}static fromLngLat(l,d=0){const y=Nh.convert(l);return new Q1(Tb(y.lng),dv(y.lat),Kb(d,y.lat))}toLngLat(){return new Nh(360*this.x-180,Yp(this.y))}toAltitude(){return this.z*Ib(Yp(this.y))}meterInMercatorCoordinateUnits(){return 1/kb*(l=Yp(this.y),1/Math.cos(l*Math.PI/180));var l}}function Pb(c,l,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class hv{constructor(l,d,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=y,this.key=l0(0,l,l,d,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,y){const w=(K=this.y,D=this.z,z=Pb(256*(T=this.x),256*(K=Math.pow(2,D)-K-1),D),V=Pb(256*(T+1),256*(K+1),D),z[0]+","+z[1]+","+V[0]+","+V[1]);var T,K,D,z,V;const ee=function(Ae,me,xe){let Oe,Le="";for(let Qe=Ae;Qe>0;Qe--)Oe=1<<Qe-1,Le+=(me&Oe?1:0)+(xe&Oe?2:0);return Le}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,ee).replace(/{bbox-epsg-3857}/g,w)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new B((l.x*d-this.x)*la,(l.y*d-this.y)*la)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Fb{constructor(l,d){this.wrap=l,this.canonical=d,this.key=l0(l,d.z,d.z,d.x,d.y)}}class AA{constructor(l,d,y,w,T){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=d,this.canonical=new hv(y,+w,+T),this.key=l0(d,l,y,w,T)}clone(){return new AA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new AA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new AA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?l0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):l0(this.wrap*+d,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new AA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,y=2*this.canonical.x,w=2*this.canonical.y;return[new AA(d,this.wrap,d,y,w),new AA(d,this.wrap,d,y+1,w),new AA(d,this.wrap,d,y,w+1),new AA(d,this.wrap,d,y+1,w+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new AA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new AA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Fb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Q1(l.x-this.wrap,l.y))}}function l0(c,l,d,y,w){(c*=2)<0&&(c=-1*c-1);const T=1<<d;return(T*T*c+T*w+y).toString(36)+d.toString(36)+l.toString(36)}zn("CanonicalTileID",hv),zn("OverscaledTileID",AA,{omit:["posMatrix"]});class Db{constructor(l,d,y,w=1,T=1,K=1,D=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void Ke(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const z=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=w,this.greenFactor=T,this.blueFactor=K,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<z;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(z,V)]=this.data[this._idx(z-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,z)]=this.data[this._idx(V,z-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(z,-1)]=this.data[this._idx(z-1,0)],this.data[this._idx(-1,z)]=this.data[this._idx(0,z-1)],this.data[this._idx(z,z)]=this.data[this._idx(z-1,z-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<z;V++)for(let ee=0;ee<z;ee++){const Ae=this.get(V,ee);Ae>this.max&&(this.max=Ae),Ae<this.min&&(this.min=Ae)}}get(l,d){const y=new Uint8Array(this.data.buffer),w=4*this._idx(l,d);return this.unpack(y[w],y[w+1],y[w+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,y){return l*this.redFactor+d*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new al({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let w=d*this.dim,T=d*this.dim+this.dim,K=y*this.dim,D=y*this.dim+this.dim;switch(d){case-1:w=T-1;break;case 1:T=w+1}switch(y){case-1:K=D-1;break;case 1:D=K+1}const z=-d*this.dim,V=-y*this.dim;for(let ee=K;ee<D;ee++)for(let Ae=w;Ae<T;Ae++)this.data[this._idx(Ae,ee)]=l.data[this._idx(Ae+z,ee+V)]}}zn("DEMData",Db);class Ub{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const y=l[d];this._stringToNumber[y]=d,this._numberToString[d]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class Rb{constructor(l,d,y,w,T){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=y,l._y=w,this.properties=l.properties,this.id=T}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class Lb{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new wa(la,16,0),this.grid3D=new wa(la,16,0),this.featureIndexArray=new fe,this.promoteId=d}insert(l,d,y,w,T,K){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,w,T);const z=K?this.grid3D:this.grid;for(let V=0;V<d.length;V++){const ee=d[V],Ae=[1/0,1/0,-1/0,-1/0];for(let me=0;me<ee.length;me++){const xe=ee[me];Ae[0]=Math.min(Ae[0],xe.x),Ae[1]=Math.min(Ae[1],xe.y),Ae[2]=Math.max(Ae[2],xe.x),Ae[3]=Math.max(Ae[3],xe.y)}Ae[0]<la&&Ae[1]<la&&Ae[2]>=0&&Ae[3]>=0&&z.insert(D,Ae[0],Ae[1],Ae[2],Ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Gu.VectorTile(new RA(this.rawTileData)).layers,this.sourceLayerCoder=new Ub(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,y,w){this.loadVTLayers();const T=l.params||{},K=la/l.tileSize/l.scale,D=Sd(T.filter),z=l.queryGeometry,V=l.queryPadding*K,ee=jb(z),Ae=this.grid.query(ee.minX-V,ee.minY-V,ee.maxX+V,ee.maxY+V),me=jb(l.cameraQueryGeometry),xe=this.grid3D.query(me.minX-V,me.minY-V,me.maxX+V,me.maxY+V,(Qe,it,Mt,lt)=>function(vt,en,un,Dn,vr){for(const _n of vt)if(en<=_n.x&&un<=_n.y&&Dn>=_n.x&&vr>=_n.y)return!0;const $n=[new B(en,un),new B(en,vr),new B(Dn,vr),new B(Dn,un)];if(vt.length>2){for(const _n of $n)if(ju(vt,_n))return!0}for(let _n=0;_n<vt.length-1;_n++)if(qm(vt[_n],vt[_n+1],$n))return!0;return!1}(l.cameraQueryGeometry,Qe-V,it-V,Mt+V,lt+V));for(const Qe of xe)Ae.push(Qe);Ae.sort(uw);const Oe={};let Le;for(let Qe=0;Qe<Ae.length;Qe++){const it=Ae[Qe];if(it===Le)continue;Le=it;const Mt=this.featureIndexArray.get(it);let lt=null;this.loadMatchingFeature(Oe,Mt.bucketIndex,Mt.sourceLayerIndex,Mt.featureIndex,D,T.layers,T.availableImages,d,y,w,(vt,en,un)=>(lt||(lt=ql(vt)),en.queryIntersectsFeature(z,vt,un,lt,this.z,l.transform,K,l.pixelPosMatrix)))}return Oe}loadMatchingFeature(l,d,y,w,T,K,D,z,V,ee,Ae){const me=this.bucketLayerIDs[d];if(K&&!function(Qe,it){for(let Mt=0;Mt<Qe.length;Mt++)if(it.indexOf(Qe[Mt])>=0)return!0;return!1}(K,me))return;const xe=this.sourceLayerCoder.decode(y),Oe=this.vtLayers[xe].feature(w);if(T.needGeometry){const Qe=DA(Oe,!0);if(!T.filter(new yo(this.tileID.overscaledZ),Qe,this.tileID.canonical))return}else if(!T.filter(new yo(this.tileID.overscaledZ),Oe))return;const Le=this.getId(Oe,xe);for(let Qe=0;Qe<me.length;Qe++){const it=me[Qe];if(K&&K.indexOf(it)<0)continue;const Mt=z[it];if(!Mt)continue;let lt={};Le&&ee&&(lt=ee.getState(Mt.sourceLayer||"_geojsonTileLayer",Le));const vt=le({},V[it]);vt.paint=zb(vt.paint,Mt.paint,Oe,lt,D),vt.layout=zb(vt.layout,Mt.layout,Oe,lt,D);const en=!Ae||Ae(Oe,Mt,lt);if(!en)continue;const un=new Rb(Oe,this.z,this.x,this.y,Le);un.layer=vt;let Dn=l[it];Dn===void 0&&(Dn=l[it]=[]),Dn.push({featureIndex:w,feature:un,intersectionZ:en})}}lookupSymbolFeatures(l,d,y,w,T,K,D,z){const V={};this.loadVTLayers();const ee=Sd(T);for(const Ae of l)this.loadMatchingFeature(V,y,w,Ae,ee,K,D,z,d);return V}hasLayer(l){for(const d of this.bucketLayerIDs)for(const y of d)if(l===y)return!0;return!1}getId(l,d){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof y=="boolean"&&(y=Number(y))),y}}function zb(c,l,d,y,w){return De(c,(T,K)=>{const D=l instanceof ea?l.get(K):null;return D&&D.evaluate?D.evaluate(d,y,w):D})}function jb(c){let l=1/0,d=1/0,y=-1/0,w=-1/0;for(const T of c)l=Math.min(l,T.x),d=Math.min(d,T.y),y=Math.max(y,T.x),w=Math.max(w,T.y);return{minX:l,minY:d,maxX:y,maxY:w}}function uw(c,l){return l-c}function Wb(c,l,d,y,w){const T=[];for(let K=0;K<c.length;K++){const D=c[K];let z;for(let V=0;V<D.length-1;V++){let ee=D[V],Ae=D[V+1];ee.x<l&&Ae.x<l||(ee.x<l?ee=new B(l,ee.y+(l-ee.x)/(Ae.x-ee.x)*(Ae.y-ee.y))._round():Ae.x<l&&(Ae=new B(l,ee.y+(l-ee.x)/(Ae.x-ee.x)*(Ae.y-ee.y))._round()),ee.y<d&&Ae.y<d||(ee.y<d?ee=new B(ee.x+(d-ee.y)/(Ae.y-ee.y)*(Ae.x-ee.x),d)._round():Ae.y<d&&(Ae=new B(ee.x+(d-ee.y)/(Ae.y-ee.y)*(Ae.x-ee.x),d)._round()),ee.x>=y&&Ae.x>=y||(ee.x>=y?ee=new B(y,ee.y+(y-ee.x)/(Ae.x-ee.x)*(Ae.y-ee.y))._round():Ae.x>=y&&(Ae=new B(y,ee.y+(y-ee.x)/(Ae.x-ee.x)*(Ae.y-ee.y))._round()),ee.y>=w&&Ae.y>=w||(ee.y>=w?ee=new B(ee.x+(w-ee.y)/(Ae.y-ee.y)*(Ae.x-ee.x),w)._round():Ae.y>=w&&(Ae=new B(ee.x+(w-ee.y)/(Ae.y-ee.y)*(Ae.x-ee.x),w)._round()),z&&ee.equals(z[z.length-1])||(z=[ee],T.push(z)),z.push(Ae)))))}}return T}zn("FeatureIndex",Lb,{omit:["rawTileData","sourceLayerCoder"]});class Gh extends B{constructor(l,d,y,w){super(l,d),this.angle=y,w!==void 0&&(this.segment=w)}clone(){return new Gh(this.x,this.y,this.angle,this.segment)}}function Nb(c,l,d,y,w){if(l.segment===void 0||d===0)return!0;let T=l,K=l.segment+1,D=0;for(;D>-d/2;){if(K--,K<0)return!1;D-=c[K].dist(T),T=c[K]}D+=c[K].dist(c[K+1]),K++;const z=[];let V=0;for(;D<d/2;){const ee=c[K],Ae=c[K+1];if(!Ae)return!1;let me=c[K-1].angleTo(ee)-ee.angleTo(Ae);for(me=Math.abs((me+3*Math.PI)%(2*Math.PI)-Math.PI),z.push({distance:D,angleDelta:me}),V+=me;D-z[0].distance>y;)V-=z.shift().angleDelta;if(V>w)return!1;K++,D+=ee.dist(Ae)}return!0}function fv(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function pv(c,l,d){return c?.6*l*d:0}function Gb(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function Aw(c,l,d,y,w,T){const K=pv(d,w,T),D=Gb(d,y)*T;let z=0;const V=fv(c)/2;for(let ee=0;ee<c.length-1;ee++){const Ae=c[ee],me=c[ee+1],xe=Ae.dist(me);if(z+xe>V){const Oe=(V-z)/xe,Le=Yt.number(Ae.x,me.x,Oe),Qe=Yt.number(Ae.y,me.y,Oe),it=new Gh(Le,Qe,me.angleTo(Ae),ee);return it._round(),!K||Nb(c,it,D,K,l)?it:void 0}z+=xe}}function cw(c,l,d,y,w,T,K,D,z){const V=pv(y,T,K),ee=Gb(y,w),Ae=ee*K,me=c[0].x===0||c[0].x===z||c[0].y===0||c[0].y===z;return l-Ae<l/4&&(l=Ae+l/4),Qb(c,me?l/2*D%l:(ee/2+2*T)*K*D%l,l,V,d,Ae,me,!1,z)}function Qb(c,l,d,y,w,T,K,D,z){const V=T/2,ee=fv(c);let Ae=0,me=l-d,xe=[];for(let Oe=0;Oe<c.length-1;Oe++){const Le=c[Oe],Qe=c[Oe+1],it=Le.dist(Qe),Mt=Qe.angleTo(Le);for(;me+d<Ae+it;){me+=d;const lt=(me-Ae)/it,vt=Yt.number(Le.x,Qe.x,lt),en=Yt.number(Le.y,Qe.y,lt);if(vt>=0&&vt<z&&en>=0&&en<z&&me-V>=0&&me+V<=ee){const un=new Gh(vt,en,Mt,Oe);un._round(),y&&!Nb(c,un,T,y,w)||xe.push(un)}}Ae+=it}return D||xe.length||K||(xe=Qb(c,Ae/2,d,y,w,T,K,!0,z)),xe}zn("Anchor",Gh);const Yd=Ua;function $b(c,l,d,y){const w=[],T=c.image,K=T.pixelRatio,D=T.paddedRect.w-2*Yd,z=T.paddedRect.h-2*Yd,V=c.right-c.left,ee=c.bottom-c.top,Ae=T.stretchX||[[0,D]],me=T.stretchY||[[0,z]],xe=(fn,sr)=>fn+sr[1]-sr[0],Oe=Ae.reduce(xe,0),Le=me.reduce(xe,0),Qe=D-Oe,it=z-Le;let Mt=0,lt=Oe,vt=0,en=Le,un=0,Dn=Qe,vr=0,$n=it;if(T.content&&y){const fn=T.content;Mt=$1(Ae,0,fn[0]),vt=$1(me,0,fn[1]),lt=$1(Ae,fn[0],fn[2]),en=$1(me,fn[1],fn[3]),un=fn[0]-Mt,vr=fn[1]-vt,Dn=fn[2]-fn[0]-lt,$n=fn[3]-fn[1]-en}const _n=(fn,sr,Un,wn)=>{const Ir=Y1(fn.stretch-Mt,lt,V,c.left),br=q1(fn.fixed-un,Dn,fn.stretch,Oe),Oi=Y1(sr.stretch-vt,en,ee,c.top),ra=q1(sr.fixed-vr,$n,sr.stretch,Le),ia=Y1(Un.stretch-Mt,lt,V,c.left),Ea=q1(Un.fixed-un,Dn,Un.stretch,Oe),Zl=Y1(wn.stretch-vt,en,ee,c.top),Xl=q1(wn.fixed-vr,$n,wn.stretch,Le),ts=new B(Ir,Oi),ys=new B(ia,Oi),No=new B(ia,Zl),Ds=new B(Ir,Zl),Jl=new B(br/K,ra/K),Us=new B(Ea/K,Xl/K),Rs=l*Math.PI/180;if(Rs){const xl=Math.sin(Rs),ns=Math.cos(Rs),$r=[ns,-xl,xl,ns];ts._matMult($r),ys._matMult($r),Ds._matMult($r),No._matMult($r)}const Fl=fn.stretch+fn.fixed,eu=sr.stretch+sr.fixed;return{tl:ts,tr:ys,bl:Ds,br:No,tex:{x:T.paddedRect.x+Yd+Fl,y:T.paddedRect.y+Yd+eu,w:Un.stretch+Un.fixed-Fl,h:wn.stretch+wn.fixed-eu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Jl,pixelOffsetBR:Us,minFontScaleX:Dn/K/V,minFontScaleY:$n/K/ee,isSDF:d}};if(y&&(T.stretchX||T.stretchY)){const fn=Yb(Ae,Qe,Oe),sr=Yb(me,it,Le);for(let Un=0;Un<fn.length-1;Un++){const wn=fn[Un],Ir=fn[Un+1];for(let br=0;br<sr.length-1;br++)w.push(_n(wn,sr[br],Ir,sr[br+1]))}}else w.push(_n({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:z+1}));return w}function $1(c,l,d){let y=0;for(const w of c)y+=Math.max(l,Math.min(d,w[1]))-Math.max(l,Math.min(d,w[0]));return y}function Yb(c,l,d){const y=[{fixed:-Yd,stretch:0}];for(const[w,T]of c){const K=y[y.length-1];y.push({fixed:w-K.stretch,stretch:K.stretch}),y.push({fixed:w-K.stretch,stretch:K.stretch+(T-w)})}return y.push({fixed:l+Yd,stretch:d}),y}function Y1(c,l,d,y){return c/l*d+y}function q1(c,l,d,y){return c-l*d/y}class V1{constructor(l,d,y,w,T,K,D,z,V,ee){if(this.boxStartIndex=l.length,V){let Ae=K.top,me=K.bottom;const xe=K.collisionPadding;xe&&(Ae-=xe[1],me+=xe[3]);let Oe=me-Ae;Oe>0&&(Oe=Math.max(10,Oe),this.circleDiameter=Oe)}else{let Ae=K.top*D-z[0],me=K.bottom*D+z[2],xe=K.left*D-z[3],Oe=K.right*D+z[1];const Le=K.collisionPadding;if(Le&&(xe-=Le[0]*D,Ae-=Le[1]*D,Oe+=Le[2]*D,me+=Le[3]*D),ee){const Qe=new B(xe,Ae),it=new B(Oe,Ae),Mt=new B(xe,me),lt=new B(Oe,me),vt=ee*Math.PI/180;Qe._rotate(vt),it._rotate(vt),Mt._rotate(vt),lt._rotate(vt),xe=Math.min(Qe.x,it.x,Mt.x,lt.x),Oe=Math.max(Qe.x,it.x,Mt.x,lt.x),Ae=Math.min(Qe.y,it.y,Mt.y,lt.y),me=Math.max(Qe.y,it.y,Mt.y,lt.y)}l.emplaceBack(d.x,d.y,xe,Ae,Oe,me,y,w,T)}this.boxEndIndex=l.length}}class dw{constructor(l=[],d=hw){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:y}=this,w=d[l];for(;l>0;){const T=l-1>>1,K=d[T];if(y(w,K)>=0)break;d[l]=K,l=T}d[l]=w}_down(l){const{data:d,compare:y}=this,w=this.length>>1,T=d[l];for(;l<w;){let K=1+(l<<1),D=d[K];const z=K+1;if(z<this.length&&y(d[z],D)<0&&(K=z,D=d[z]),y(D,T)>=0)break;d[l]=D,l=K}d[l]=T}}function hw(c,l){return c<l?-1:c>l?1:0}function fw(c,l=1,d=!1){let y=1/0,w=1/0,T=-1/0,K=-1/0;const D=c[0];for(let xe=0;xe<D.length;xe++){const Oe=D[xe];(!xe||Oe.x<y)&&(y=Oe.x),(!xe||Oe.y<w)&&(w=Oe.y),(!xe||Oe.x>T)&&(T=Oe.x),(!xe||Oe.y>K)&&(K=Oe.y)}const z=Math.min(T-y,K-w);let V=z/2;const ee=new dw([],pw);if(z===0)return new B(y,w);for(let xe=y;xe<T;xe+=z)for(let Oe=w;Oe<K;Oe+=z)ee.push(new qp(xe+V,Oe+V,V,c));let Ae=function(xe){let Oe=0,Le=0,Qe=0;const it=xe[0];for(let Mt=0,lt=it.length,vt=lt-1;Mt<lt;vt=Mt++){const en=it[Mt],un=it[vt],Dn=en.x*un.y-un.x*en.y;Le+=(en.x+un.x)*Dn,Qe+=(en.y+un.y)*Dn,Oe+=3*Dn}return new qp(Le/Oe,Qe/Oe,0,xe)}(c),me=ee.length;for(;ee.length;){const xe=ee.pop();(xe.d>Ae.d||!Ae.d)&&(Ae=xe,d&&console.log("found best %d after %d probes",Math.round(1e4*xe.d)/1e4,me)),xe.max-Ae.d<=l||(V=xe.h/2,ee.push(new qp(xe.p.x-V,xe.p.y-V,V,c)),ee.push(new qp(xe.p.x+V,xe.p.y-V,V,c)),ee.push(new qp(xe.p.x-V,xe.p.y+V,V,c)),ee.push(new qp(xe.p.x+V,xe.p.y+V,V,c)),me+=4)}return d&&(console.log(`num probes: ${me}`),console.log(`best distance: ${Ae.d}`)),Ae.p}function pw(c,l){return l.max-c.max}function qp(c,l,d,y){this.p=new B(c,l),this.h=d,this.d=function(w,T){let K=!1,D=1/0;for(let z=0;z<T.length;z++){const V=T[z];for(let ee=0,Ae=V.length,me=Ae-1;ee<Ae;me=ee++){const xe=V[ee],Oe=V[me];xe.y>w.y!=Oe.y>w.y&&w.x<(Oe.x-xe.x)*(w.y-xe.y)/(Oe.y-xe.y)+xe.x&&(K=!K),D=Math.min(D,Hc(w,xe,Oe))}}return(K?1:-1)*Math.sqrt(D)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Fs;s.ap=void 0,(Fs=s.ap||(s.ap={}))[Fs.center=1]="center",Fs[Fs.left=2]="left",Fs[Fs.right=3]="right",Fs[Fs.top=4]="top",Fs[Fs.bottom=5]="bottom",Fs[Fs["top-left"]=6]="top-left",Fs[Fs["top-right"]=7]="top-right",Fs[Fs["bottom-left"]=8]="bottom-left",Fs[Fs["bottom-right"]=9]="bottom-right";const Qh=7,H1=Number.POSITIVE_INFINITY;function mv(c,l){return l[1]!==H1?function(d,y,w){let T=0,K=0;switch(y=Math.abs(y),w=Math.abs(w),d){case"top-right":case"top-left":case"top":K=w-Qh;break;case"bottom-right":case"bottom-left":case"bottom":K=-w+Qh}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,K]}(c,l[0],l[1]):function(d,y){let w=0,T=0;y<0&&(y=0);const K=y/Math.SQRT2;switch(d){case"top-right":case"top-left":T=K-Qh;break;case"bottom-right":case"bottom-left":T=-K+Qh;break;case"bottom":T=-y+Qh;break;case"top":T=y-Qh}switch(d){case"top-right":case"bottom-right":w=-K;break;case"top-left":case"bottom-left":w=K;break;case"left":w=y;break;case"right":w=-y}return[w,T]}(c,l[0])}function Z1(c,l,d){var y;const w=c.layout,T=(y=w.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(l,{},d);if(T){const D=T.values,z=[];for(let V=0;V<D.length;V+=2){const ee=z[V]=D[V],Ae=D[V+1].map(me=>me*Ut);ee.startsWith("top")?Ae[1]-=Qh:ee.startsWith("bottom")&&(Ae[1]+=Qh),z[V+1]=Ae}return new Ji(z)}const K=w.get("text-variable-anchor");if(K){let D;D=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(l,{},d)*Ut,H1]:w.get("text-offset").evaluate(l,{},d).map(V=>V*Ut);const z=[];for(const V of K)z.push(V,mv(V,D));return new Ji(z)}return null}function X1(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function qb(c,l,d,y,w,T,K,D,z,V,ee){let Ae=T.textMaxSize.evaluate(l,{});Ae===void 0&&(Ae=K);const me=c.layers[0].layout,xe=me.get("icon-offset").evaluate(l,{},ee),Oe=yv(d.horizontal),Le=K/24,Qe=c.tilePixelRatio*Le,it=c.tilePixelRatio*Ae/24,Mt=c.tilePixelRatio*D,lt=c.tilePixelRatio*me.get("symbol-spacing"),vt=me.get("text-padding")*c.tilePixelRatio,en=function(wn,Ir,br,Oi=1){const ra=wn.get("icon-padding").evaluate(Ir,{},br),ia=ra&&ra.values;return[ia[0]*Oi,ia[1]*Oi,ia[2]*Oi,ia[3]*Oi]}(me,l,ee,c.tilePixelRatio),un=me.get("text-max-angle")/180*Math.PI,Dn=me.get("text-rotation-alignment")!=="viewport"&&me.get("symbol-placement")!=="point",vr=me.get("icon-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",$n=me.get("symbol-placement"),_n=lt/2,fn=me.get("icon-text-fit");let sr;y&&fn!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(sr=xb(y,d.vertical,fn,me.get("icon-text-fit-padding"),xe,Le)),Oe&&(y=xb(y,Oe,fn,me.get("icon-text-fit-padding"),xe,Le)));const Un=(wn,Ir)=>{Ir.x<0||Ir.x>=la||Ir.y<0||Ir.y>=la||function(br,Oi,ra,ia,Ea,Zl,Xl,ts,ys,No,Ds,Jl,Us,Rs,Fl,eu,xl,ns,$r,vs,Zr,wl,Ml,ai,jA){const WA=br.addToLineVertexArray(Oi,ra);let Qu,qd,NA,cA,bu=0,Vd=0,d0=0,Hb=0,wv=-1,Mv=-1;const Hd={};let Zb=Fi("");if(br.allowVerticalPlacement&&ia.vertical){const Dl=ts.layout.get("text-rotate").evaluate(Zr,{},ai)+90;NA=new V1(ys,Oi,No,Ds,Jl,ia.vertical,Us,Rs,Fl,Dl),Xl&&(cA=new V1(ys,Oi,No,Ds,Jl,Xl,xl,ns,Fl,Dl))}if(Ea){const Dl=ts.layout.get("icon-rotate").evaluate(Zr,{}),dA=ts.layout.get("icon-text-fit")!=="none",$h=$b(Ea,Dl,Ml,dA),bc=Xl?$b(Xl,Dl,Ml,dA):void 0;qd=new V1(ys,Oi,No,Ds,Jl,Ea,xl,ns,!1,Dl),bu=4*$h.length;const Yf=br.iconSizeData;let od=null;Yf.kind==="source"?(od=[id*ts.layout.get("icon-size").evaluate(Zr,{})],od[0]>Wh&&Ke(`${br.layerIds[0]}: Value for "icon-size" is >= ${$f}. Reduce your "icon-size".`)):Yf.kind==="composite"&&(od=[id*wl.compositeIconSizes[0].evaluate(Zr,{},ai),id*wl.compositeIconSizes[1].evaluate(Zr,{},ai)],(od[0]>Wh||od[1]>Wh)&&Ke(`${br.layerIds[0]}: Value for "icon-size" is >= ${$f}. Reduce your "icon-size".`)),br.addSymbols(br.icon,$h,od,vs,$r,Zr,s.ah.none,Oi,WA.lineStartIndex,WA.lineLength,-1,ai),wv=br.icon.placedSymbolArray.length-1,bc&&(Vd=4*bc.length,br.addSymbols(br.icon,bc,od,vs,$r,Zr,s.ah.vertical,Oi,WA.lineStartIndex,WA.lineLength,-1,ai),Mv=br.icon.placedSymbolArray.length-1)}const Xb=Object.keys(ia.horizontal);for(const Dl of Xb){const dA=ia.horizontal[Dl];if(!Qu){Zb=Fi(dA.text);const bc=ts.layout.get("text-rotate").evaluate(Zr,{},ai);Qu=new V1(ys,Oi,No,Ds,Jl,dA,Us,Rs,Fl,bc)}const $h=dA.positionedLines.length===1;if(d0+=gv(br,Oi,dA,Zl,ts,Fl,Zr,eu,WA,ia.vertical?s.ah.horizontal:s.ah.horizontalOnly,$h?Xb:[Dl],Hd,wv,wl,ai),$h)break}ia.vertical&&(Hb+=gv(br,Oi,ia.vertical,Zl,ts,Fl,Zr,eu,WA,s.ah.vertical,["vertical"],Hd,Mv,wl,ai));const yw=Qu?Qu.boxStartIndex:br.collisionBoxArray.length,Sv=Qu?Qu.boxEndIndex:br.collisionBoxArray.length,vw=NA?NA.boxStartIndex:br.collisionBoxArray.length,Ev=NA?NA.boxEndIndex:br.collisionBoxArray.length,Cw=qd?qd.boxStartIndex:br.collisionBoxArray.length,_w=qd?qd.boxEndIndex:br.collisionBoxArray.length,bw=cA?cA.boxStartIndex:br.collisionBoxArray.length,Sl=cA?cA.boxEndIndex:br.collisionBoxArray.length;let Ra=-1;const ng=(Dl,dA)=>Dl&&Dl.circleDiameter?Math.max(Dl.circleDiameter,dA):dA;Ra=ng(Qu,Ra),Ra=ng(NA,Ra),Ra=ng(qd,Ra),Ra=ng(cA,Ra);const Jb=Ra>-1?1:0;Jb&&(Ra*=jA/Ut),br.glyphOffsetArray.length>=$p.MAX_GLYPHS&&Ke("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Zr.sortKey!==void 0&&br.addToSortKeyRanges(br.symbolInstances.length,Zr.sortKey);const xw=Z1(ts,Zr,ai),[ex,ww]=function(Dl,dA){const $h=Dl.length,bc=dA==null?void 0:dA.values;if((bc==null?void 0:bc.length)>0)for(let Yf=0;Yf<bc.length;Yf+=2){const od=bc[Yf+1];Dl.emplaceBack(s.ap[bc[Yf]],od[0],od[1])}return[$h,Dl.length]}(br.textAnchorOffsets,xw);br.symbolInstances.emplaceBack(Oi.x,Oi.y,Hd.right>=0?Hd.right:-1,Hd.center>=0?Hd.center:-1,Hd.left>=0?Hd.left:-1,Hd.vertical||-1,wv,Mv,Zb,yw,Sv,vw,Ev,Cw,_w,bw,Sl,No,d0,Hb,bu,Vd,Jb,0,Us,Ra,ex,ww)}(c,Ir,wn,d,y,w,sr,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,Qe,[vt,vt,vt,vt],Dn,z,Mt,en,vr,xe,l,T,V,ee,K)};if($n==="line")for(const wn of Wb(l.geometry,0,0,la,la)){const Ir=cw(wn,lt,un,d.vertical||Oe,y,24,it,c.overscaling,la);for(const br of Ir)Oe&&mw(c,Oe.text,_n,br)||Un(wn,br)}else if($n==="line-center"){for(const wn of l.geometry)if(wn.length>1){const Ir=Aw(wn,un,d.vertical||Oe,y,24,it);Ir&&Un(wn,Ir)}}else if(l.type==="Polygon")for(const wn of zd(l.geometry,0)){const Ir=fw(wn,16);Un(wn[0],new Gh(Ir.x,Ir.y,0))}else if(l.type==="LineString")for(const wn of l.geometry)Un(wn,new Gh(wn[0].x,wn[0].y,0));else if(l.type==="Point")for(const wn of l.geometry)for(const Ir of wn)Un([Ir],new Gh(Ir.x,Ir.y,0))}function gv(c,l,d,y,w,T,K,D,z,V,ee,Ae,me,xe,Oe){const Le=function(Mt,lt,vt,en,un,Dn,vr,$n){const _n=en.layout.get("text-rotate").evaluate(Dn,{})*Math.PI/180,fn=[];for(const sr of lt.positionedLines)for(const Un of sr.positionedGlyphs){if(!Un.rect)continue;const wn=Un.rect||{};let Ir=lA+1,br=!0,Oi=1,ra=0;const ia=(un||$n)&&Un.vertical,Ea=Un.metrics.advance*Un.scale/2;if($n&&lt.verticalizable&&(ra=sr.lineOffset/2-(Un.imageName?-(Ut-Un.metrics.width*Un.scale)/2:(Un.scale-1)*Ut)),Un.imageName){const vs=vr[Un.imageName];br=vs.sdf,Oi=vs.pixelRatio,Ir=Ua/Oi}const Zl=un?[Un.x+Ea,Un.y]:[0,0];let Xl=un?[0,0]:[Un.x+Ea+vt[0],Un.y+vt[1]-ra],ts=[0,0];ia&&(ts=Xl,Xl=[0,0]);const ys=Un.metrics.isDoubleResolution?2:1,No=(Un.metrics.left-Ir)*Un.scale-Ea+Xl[0],Ds=(-Un.metrics.top-Ir)*Un.scale+Xl[1],Jl=No+wn.w/ys*Un.scale/Oi,Us=Ds+wn.h/ys*Un.scale/Oi,Rs=new B(No,Ds),Fl=new B(Jl,Ds),eu=new B(No,Us),xl=new B(Jl,Us);if(ia){const vs=new B(-Ea,Ea-Gp),Zr=-Math.PI/2,wl=Ut/2-Ea,Ml=new B(5-Gp-wl,-(Un.imageName?wl:0)),ai=new B(...ts);Rs._rotateAround(Zr,vs)._add(Ml)._add(ai),Fl._rotateAround(Zr,vs)._add(Ml)._add(ai),eu._rotateAround(Zr,vs)._add(Ml)._add(ai),xl._rotateAround(Zr,vs)._add(Ml)._add(ai)}if(_n){const vs=Math.sin(_n),Zr=Math.cos(_n),wl=[Zr,-vs,vs,Zr];Rs._matMult(wl),Fl._matMult(wl),eu._matMult(wl),xl._matMult(wl)}const ns=new B(0,0),$r=new B(0,0);fn.push({tl:Rs,tr:Fl,bl:eu,br:xl,tex:wn,writingMode:lt.writingMode,glyphOffset:Zl,sectionIndex:Un.sectionIndex,isSDF:br,pixelOffsetTL:ns,pixelOffsetBR:$r,minFontScaleX:0,minFontScaleY:0})}return fn}(0,d,D,w,T,K,y,c.allowVerticalPlacement),Qe=c.textSizeData;let it=null;Qe.kind==="source"?(it=[id*w.layout.get("text-size").evaluate(K,{})],it[0]>Wh&&Ke(`${c.layerIds[0]}: Value for "text-size" is >= ${$f}. Reduce your "text-size".`)):Qe.kind==="composite"&&(it=[id*xe.compositeTextSizes[0].evaluate(K,{},Oe),id*xe.compositeTextSizes[1].evaluate(K,{},Oe)],(it[0]>Wh||it[1]>Wh)&&Ke(`${c.layerIds[0]}: Value for "text-size" is >= ${$f}. Reduce your "text-size".`)),c.addSymbols(c.text,Le,it,D,T,K,V,l,z.lineStartIndex,z.lineLength,me,Oe);for(const Mt of ee)Ae[Mt]=c.text.placedSymbolArray.length-1;return 4*Le.length}function yv(c){for(const l in c)return c[l];return null}function mw(c,l,d,y){const w=c.compareText;if(l in w){const T=w[l];for(let K=T.length-1;K>=0;K--)if(y.dist(T[K])<d)return!0}else w[l]=[];return w[l].push(y),!1}const Vb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class vv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,y]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const w=y>>4;if(w!==1)throw new Error(`Got v${w} data when expected v1.`);const T=Vb[15&y];if(!T)throw new Error("Unrecognized array type.");const[K]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new vv(D,K,T,l)}constructor(l,d=64,y=Float64Array,w){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=y,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=Vb.indexOf(this.ArrayType),K=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,z=(8-D%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${y}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+z,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+K+D+z),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+z,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=l,this.coords[this._pos++]=d,y}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return Vp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,y,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:K,nodeSize:D}=this,z=[0,T.length-1,0],V=[];for(;z.length;){const ee=z.pop()||0,Ae=z.pop()||0,me=z.pop()||0;if(Ae-me<=D){for(let Qe=me;Qe<=Ae;Qe++){const it=K[2*Qe],Mt=K[2*Qe+1];it>=l&&it<=y&&Mt>=d&&Mt<=w&&V.push(T[Qe])}continue}const xe=me+Ae>>1,Oe=K[2*xe],Le=K[2*xe+1];Oe>=l&&Oe<=y&&Le>=d&&Le<=w&&V.push(T[xe]),(ee===0?l<=Oe:d<=Le)&&(z.push(me),z.push(xe-1),z.push(1-ee)),(ee===0?y>=Oe:w>=Le)&&(z.push(xe+1),z.push(Ae),z.push(1-ee))}return V}within(l,d,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:T,nodeSize:K}=this,D=[0,w.length-1,0],z=[],V=y*y;for(;D.length;){const ee=D.pop()||0,Ae=D.pop()||0,me=D.pop()||0;if(Ae-me<=K){for(let Qe=me;Qe<=Ae;Qe++)J1(T[2*Qe],T[2*Qe+1],l,d)<=V&&z.push(w[Qe]);continue}const xe=me+Ae>>1,Oe=T[2*xe],Le=T[2*xe+1];J1(Oe,Le,l,d)<=V&&z.push(w[xe]),(ee===0?l-y<=Oe:d-y<=Le)&&(D.push(me),D.push(xe-1),D.push(1-ee)),(ee===0?l+y>=Oe:d+y>=Le)&&(D.push(xe+1),D.push(Ae),D.push(1-ee))}return z}}function Vp(c,l,d,y,w,T){if(w-y<=d)return;const K=y+w>>1;u0(c,l,K,y,w,T),Vp(c,l,d,y,K-1,1-T),Vp(c,l,d,K+1,w,1-T)}function u0(c,l,d,y,w,T){for(;w>y;){if(w-y>600){const V=w-y+1,ee=d-y+1,Ae=Math.log(V),me=.5*Math.exp(2*Ae/3),xe=.5*Math.sqrt(Ae*me*(V-me)/V)*(ee-V/2<0?-1:1);u0(c,l,d,Math.max(y,Math.floor(d-ee*me/V+xe)),Math.min(w,Math.floor(d+(V-ee)*me/V+xe)),T)}const K=l[2*d+T];let D=y,z=w;for(A0(c,l,y,d),l[2*w+T]>K&&A0(c,l,y,w);D<z;){for(A0(c,l,D,z),D++,z--;l[2*D+T]<K;)D++;for(;l[2*z+T]>K;)z--}l[2*y+T]===K?A0(c,l,y,z):(z++,A0(c,l,z,w)),z<=d&&(y=z+1),d<=z&&(w=z-1)}}function A0(c,l,d,y){Cv(c,d,y),Cv(l,2*d,2*y),Cv(l,2*d+1,2*y+1)}function Cv(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}function J1(c,l,d,y){const w=c-d,T=l-y;return w*w+T*T}var eg;s.bc=void 0,(eg=s.bc||(s.bc={})).create="create",eg.load="load",eg.fullLoad="fullLoad";let tg=null,c0=[];const _v=1e3/60,bv="loadTime",xv="fullLoadTime",gw={mark(c){performance.mark(c)},frame(c){const l=c;tg!=null&&c0.push(l-tg),tg=l},clearMetrics(){tg=null,c0=[],performance.clearMeasures(bv),performance.clearMeasures(xv);for(const c in s.bc)performance.clearMarks(s.bc[c])},getPerformanceMetrics(){performance.measure(bv,s.bc.create,s.bc.load),performance.measure(xv,s.bc.create,s.bc.fullLoad);const c=performance.getEntriesByName(bv)[0].duration,l=performance.getEntriesByName(xv)[0].duration,d=c0.length,y=1/(c0.reduce((T,K)=>T+K,0)/d/1e3),w=c0.filter(T=>T>_v).reduce((T,K)=>T+(K-_v)/_v,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:w/(d+w)*100,totalFrames:d}}};s.$=kr,s.A=Dd,s.B=function(c){if(jt==null){const l=c.navigator?c.navigator.userAgent:null;jt=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return jt},s.C=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new lw(()=>this.process()),this.subscription=function(d,y,w,T){return d.addEventListener(y,w,!1),{unsubscribe:()=>{d.removeEventListener(y,w,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=Rt(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((d,y)=>{const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[w]={resolve:d,reject:y},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[w];const D={id:w,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(D)},{once:!0});const T=[],K=Object.assign(Object.assign({},c),{id:w,sourceMapId:this.mapId,origin:location.origin,data:rA(c.data,T)});this.target.postMessage(K,{transfer:T})})}receive(c){const l=c.data,d=l.id;if(l.origin===location.origin&&(!l.targetMapId||this.mapId===l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[d];const y=this.abortControllers[d];return delete this.abortControllers[d],void(y&&y.abort())}if(Rt(self)||l.mustQueue)return this.tasks[d]=l,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return a(this,void 0,void 0,function*(){if(l.type==="<response>"){const w=this.resolveRejects[c];return delete this.resolveRejects[c],w?void(l.error?w.reject(uc(l.error)):w.resolve(uc(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=uc(l.data),y=new AbortController;this.abortControllers[c]=y;try{const w=yield this.messageHandlers[l.type](l.sourceMapId,d,y);this.completeTask(c,null,w)}catch(w){this.completeTask(c,w)}})}completeTask(c,l,d){const y=[];delete this.abortControllers[c];const w={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?rA(l):null,data:rA(d,y)};this.target.postMessage(w,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.D=gr,s.E=Dt,s.F=function(){var c=new Dd(16);return Dd!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},s.G=Pt,s.H=function(c,l,d){var y,w,T,K,D,z,V,ee,Ae,me,xe,Oe,Le=d[0],Qe=d[1],it=d[2];return l===c?(c[12]=l[0]*Le+l[4]*Qe+l[8]*it+l[12],c[13]=l[1]*Le+l[5]*Qe+l[9]*it+l[13],c[14]=l[2]*Le+l[6]*Qe+l[10]*it+l[14],c[15]=l[3]*Le+l[7]*Qe+l[11]*it+l[15]):(w=l[1],T=l[2],K=l[3],D=l[4],z=l[5],V=l[6],ee=l[7],Ae=l[8],me=l[9],xe=l[10],Oe=l[11],c[0]=y=l[0],c[1]=w,c[2]=T,c[3]=K,c[4]=D,c[5]=z,c[6]=V,c[7]=ee,c[8]=Ae,c[9]=me,c[10]=xe,c[11]=Oe,c[12]=y*Le+D*Qe+Ae*it+l[12],c[13]=w*Le+z*Qe+me*it+l[13],c[14]=T*Le+V*Qe+xe*it+l[14],c[15]=K*Le+ee*Qe+Oe*it+l[15]),c},s.I=Hs,s.J=function(c,l,d){var y=d[0],w=d[1],T=d[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*w,c[5]=l[5]*w,c[6]=l[6]*w,c[7]=l[7]*w,c[8]=l[8]*T,c[9]=l[9]*T,c[10]=l[10]*T,c[11]=l[11]*T,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},s.K=Tp,s.L=function(c,l){const d={};for(let y=0;y<l.length;y++){const w=l[y];w in c&&(d[w]=c[w])}return d},s.M=Nh,s.N=Tb,s.O=dv,s.P=B,s.Q=AA,s.R=al,s.S=Q,s.T=Ip,s.U=q,s.V=He,s.W=la,s.X=Ro,s.Y=Q1,s.Z=class extends aA{},s._=a,s.a=dt,s.a$=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},s.a0=hv,s.a1=Y,s.a2=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(d=>{l.onloadstart=()=>{d(l)};for(const y of c){const w=window.document.createElement("source");Pe(y)||(l.crossOrigin="Anonymous"),w.src=y,l.appendChild(w)}})},s.a3=function(){return ye++},s.a4=u,s.a5=$p,s.a6=Sd,s.a7=DA,s.a8=yo,s.a9=Rb,s.aA=et,s.aB=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let d=[];try{if(!bn(c.version,l.version))return[{command:"setStyle",args:[l]}];bn(c.center,l.center)||d.push({command:"setCenter",args:[l.center]}),bn(c.zoom,l.zoom)||d.push({command:"setZoom",args:[l.zoom]}),bn(c.bearing,l.bearing)||d.push({command:"setBearing",args:[l.bearing]}),bn(c.pitch,l.pitch)||d.push({command:"setPitch",args:[l.pitch]}),bn(c.sprite,l.sprite)||d.push({command:"setSprite",args:[l.sprite]}),bn(c.glyphs,l.glyphs)||d.push({command:"setGlyphs",args:[l.glyphs]}),bn(c.transition,l.transition)||d.push({command:"setTransition",args:[l.transition]}),bn(c.light,l.light)||d.push({command:"setLight",args:[l.light]}),bn(c.terrain,l.terrain)||d.push({command:"setTerrain",args:[l.terrain]});const y={},w=[];(function(K,D,z,V){let ee;for(ee in D=D||{},K=K||{})Object.prototype.hasOwnProperty.call(K,ee)&&(Object.prototype.hasOwnProperty.call(D,ee)||xr(ee,z,V));for(ee in D)Object.prototype.hasOwnProperty.call(D,ee)&&(Object.prototype.hasOwnProperty.call(K,ee)?bn(K[ee],D[ee])||(K[ee].type==="geojson"&&D[ee].type==="geojson"&&Cr(K,D,ee)?Jn(z,{command:"setGeoJSONSourceData",args:[ee,D[ee].data]}):Nr(ee,D,z,V)):mr(ee,D,z))})(c.sources,l.sources,w,y);const T=[];c.layers&&c.layers.forEach(K=>{"source"in K&&y[K.source]?d.push({command:"removeLayer",args:[K.id]}):T.push(K)}),d=d.concat(w),function(K,D,z){D=D||[];const V=(K=K||[]).map(we),ee=D.map(we),Ae=K.reduce(H,{}),me=D.reduce(H,{}),xe=V.slice(),Oe=Object.create(null);let Le,Qe,it,Mt,lt;for(let vt=0,en=0;vt<V.length;vt++)Le=V[vt],Object.prototype.hasOwnProperty.call(me,Le)?en++:(Jn(z,{command:"removeLayer",args:[Le]}),xe.splice(xe.indexOf(Le,en),1));for(let vt=0,en=0;vt<ee.length;vt++)Le=ee[ee.length-1-vt],xe[xe.length-1-vt]!==Le&&(Object.prototype.hasOwnProperty.call(Ae,Le)?(Jn(z,{command:"removeLayer",args:[Le]}),xe.splice(xe.lastIndexOf(Le,xe.length-en),1)):en++,Mt=xe[xe.length-vt],Jn(z,{command:"addLayer",args:[me[Le],Mt]}),xe.splice(xe.length-vt,0,Le),Oe[Le]=!0);for(let vt=0;vt<ee.length;vt++)if(Le=ee[vt],Qe=Ae[Le],it=me[Le],!Oe[Le]&&!bn(Qe,it))if(bn(Qe.source,it.source)&&bn(Qe["source-layer"],it["source-layer"])&&bn(Qe.type,it.type)){for(lt in fi(Qe.layout,it.layout,z,Le,null,"setLayoutProperty"),fi(Qe.paint,it.paint,z,Le,null,"setPaintProperty"),bn(Qe.filter,it.filter)||Jn(z,{command:"setFilter",args:[Le,it.filter]}),bn(Qe.minzoom,it.minzoom)&&bn(Qe.maxzoom,it.maxzoom)||Jn(z,{command:"setLayerZoomRange",args:[Le,it.minzoom,it.maxzoom]}),Qe)Object.prototype.hasOwnProperty.call(Qe,lt)&&lt!=="layout"&&lt!=="paint"&&lt!=="filter"&&lt!=="metadata"&&lt!=="minzoom"&&lt!=="maxzoom"&&(lt.indexOf("paint.")===0?fi(Qe[lt],it[lt],z,Le,lt.slice(6),"setPaintProperty"):bn(Qe[lt],it[lt])||Jn(z,{command:"setLayerProperty",args:[Le,lt,it[lt]]}));for(lt in it)Object.prototype.hasOwnProperty.call(it,lt)&&!Object.prototype.hasOwnProperty.call(Qe,lt)&&lt!=="layout"&&lt!=="paint"&&lt!=="filter"&&lt!=="metadata"&&lt!=="minzoom"&&lt!=="maxzoom"&&(lt.indexOf("paint.")===0?fi(Qe[lt],it[lt],z,Le,lt.slice(6),"setPaintProperty"):bn(Qe[lt],it[lt])||Jn(z,{command:"setLayerProperty",args:[Le,lt,it[lt]]}))}else Jn(z,{command:"removeLayer",args:[Le]}),Mt=xe[xe.lastIndexOf(Le)+1],Jn(z,{command:"addLayer",args:[it,Mt]})}(T,l.layers,d)}catch(y){console.warn("Unable to compute style diff:",y),d=[{command:"setStyle",args:[l]}]}return d},s.aC=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},s.aD=function c(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let y=0;y<l.length;y++)if(!c(l[y],d[y]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const y in l)if(!c(l[y],d[y]))return!1;return!0}return l===d},s.aE=De,s.aF=Ne,s.aG=class extends Ca{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},s.aH=vo,s.aI=class extends Ca{constructor(c,l){super(c,l),this.current=Is}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},s.aJ=Pl,s.aK=class extends Ca{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},s.aL=class extends Ca{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},s.aM=PA,s.aN=function(c,l,d,y,w,T,K){var D=1/(l-d),z=1/(y-w),V=1/(T-K);return c[0]=-2*D,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*z,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+d)*D,c[13]=(w+y)*z,c[14]=(K+T)*V,c[15]=1,c},s.aO=Ci,s.aP=Kp,s.aQ=class extends sa{},s.aR=qe,s.aS=class extends fc{},s.aT=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},s.aU=Zc,s.aV=Ee,s.aW=class extends _l{},s.aX=An,s.aY=function(c,l){var d=c[0],y=c[1],w=c[2],T=c[3],K=c[4],D=c[5],z=c[6],V=c[7],ee=c[8],Ae=c[9],me=c[10],xe=c[11],Oe=c[12],Le=c[13],Qe=c[14],it=c[15],Mt=l[0],lt=l[1],vt=l[2],en=l[3],un=l[4],Dn=l[5],vr=l[6],$n=l[7],_n=l[8],fn=l[9],sr=l[10],Un=l[11],wn=l[12],Ir=l[13],br=l[14],Oi=l[15];return Math.abs(d-Mt)<=ol*Math.max(1,Math.abs(d),Math.abs(Mt))&&Math.abs(y-lt)<=ol*Math.max(1,Math.abs(y),Math.abs(lt))&&Math.abs(w-vt)<=ol*Math.max(1,Math.abs(w),Math.abs(vt))&&Math.abs(T-en)<=ol*Math.max(1,Math.abs(T),Math.abs(en))&&Math.abs(K-un)<=ol*Math.max(1,Math.abs(K),Math.abs(un))&&Math.abs(D-Dn)<=ol*Math.max(1,Math.abs(D),Math.abs(Dn))&&Math.abs(z-vr)<=ol*Math.max(1,Math.abs(z),Math.abs(vr))&&Math.abs(V-$n)<=ol*Math.max(1,Math.abs(V),Math.abs($n))&&Math.abs(ee-_n)<=ol*Math.max(1,Math.abs(ee),Math.abs(_n))&&Math.abs(Ae-fn)<=ol*Math.max(1,Math.abs(Ae),Math.abs(fn))&&Math.abs(me-sr)<=ol*Math.max(1,Math.abs(me),Math.abs(sr))&&Math.abs(xe-Un)<=ol*Math.max(1,Math.abs(xe),Math.abs(Un))&&Math.abs(Oe-wn)<=ol*Math.max(1,Math.abs(Oe),Math.abs(wn))&&Math.abs(Le-Ir)<=ol*Math.max(1,Math.abs(Le),Math.abs(Ir))&&Math.abs(Qe-br)<=ol*Math.max(1,Math.abs(Qe),Math.abs(br))&&Math.abs(it-Oi)<=ol*Math.max(1,Math.abs(it),Math.abs(Oi))},s.aZ=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},s.a_=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},s.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,y,w,T)=>{const K=w||T;return l[y]=!K||K.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},s.ab=function(c,l){const d=[];for(const y in c)y in l||d.push(y);return d},s.ac=ce,s.ad=function(c,l,d){var y=Math.sin(d),w=Math.cos(d),T=l[0],K=l[1],D=l[2],z=l[3],V=l[4],ee=l[5],Ae=l[6],me=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=T*w+V*y,c[1]=K*w+ee*y,c[2]=D*w+Ae*y,c[3]=z*w+me*y,c[4]=V*w-T*y,c[5]=ee*w-K*y,c[6]=Ae*w-D*y,c[7]=me*w-z*y,c},s.ae=function(c){var l=new Dd(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},s.af=Pp,s.ag=function(c,l){let d=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:w,minZoom:T,maxZoom:K}=c,D=w?ce(wr.interpolationFactor(w,l,T,K),0,1):0;c.kind==="camera"?y=Yt.number(c.minSize,c.maxSize,D):d=D}return{uSizeT:d,uSize:y}},s.ai=function(c,{uSize:l,uSizeT:d},{lowerSize:y,upperSize:w}){return c.kind==="source"?y/id:c.kind==="composite"?Yt.number(y/id,w/id,d):l},s.aj=sv,s.ak=function(c,l,d,y){const w=l.y-c.y,T=l.x-c.x,K=y.y-d.y,D=y.x-d.x,z=K*T-D*w;if(z===0)return null;const V=(D*(c.y-d.y)-K*(c.x-d.x))/z;return new B(c.x+V*T,c.y+V*w)},s.al=Wb,s.am=gc,s.an=Vm,s.ao=Ut,s.aq=av,s.ar=function(c,l){var d=l[0],y=l[1],w=l[2],T=l[3],K=l[4],D=l[5],z=l[6],V=l[7],ee=l[8],Ae=l[9],me=l[10],xe=l[11],Oe=l[12],Le=l[13],Qe=l[14],it=l[15],Mt=d*D-y*K,lt=d*z-w*K,vt=d*V-T*K,en=y*z-w*D,un=y*V-T*D,Dn=w*V-T*z,vr=ee*Le-Ae*Oe,$n=ee*Qe-me*Oe,_n=ee*it-xe*Oe,fn=Ae*Qe-me*Le,sr=Ae*it-xe*Le,Un=me*it-xe*Qe,wn=Mt*Un-lt*sr+vt*fn+en*_n-un*$n+Dn*vr;return wn?(c[0]=(D*Un-z*sr+V*fn)*(wn=1/wn),c[1]=(w*sr-y*Un-T*fn)*wn,c[2]=(Le*Dn-Qe*un+it*en)*wn,c[3]=(me*un-Ae*Dn-xe*en)*wn,c[4]=(z*_n-K*Un-V*$n)*wn,c[5]=(d*Un-w*_n+T*$n)*wn,c[6]=(Qe*vt-Oe*Dn-it*lt)*wn,c[7]=(ee*Dn-me*vt+xe*lt)*wn,c[8]=(K*sr-D*_n+V*vr)*wn,c[9]=(y*_n-d*sr-T*vr)*wn,c[10]=(Oe*un-Le*vt+it*Mt)*wn,c[11]=(Ae*vt-ee*un-xe*Mt)*wn,c[12]=(D*$n-K*fn-z*vr)*wn,c[13]=(d*fn-y*$n+w*vr)*wn,c[14]=(Le*lt-Oe*en-Qe*Mt)*wn,c[15]=(ee*en-Ae*lt+me*Mt)*wn,c):null},s.as=X1,s.at=ov,s.au=vv,s.av=function(){const c={},l=pt.$version;for(const d in pt.$root){const y=pt.$root[d];if(y.required){let w=null;w=d==="version"?l:y.type==="array"?[]:{},w!=null&&(c[d]=w)}}return c},s.aw=pu,s.ax=he,s.ay=function(c){c=c.slice();const l=Object.create(null);for(let d=0;d<c.length;d++)l[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=pn(c[d],l[c[d].ref]));return c},s.az=function(c){if(c.type==="custom")return new sw(c);switch(c.type){case"background":return new ow(c);case"circle":return new Hm(c);case"fill":return new zp(c);case"fill-extrusion":return new rd(c);case"heatmap":return new Ud(c);case"hillshade":return new vu(c);case"line":return new U(c);case"raster":return new aw(c);case"symbol":return new N1(c)}},s.b=tn,s.b0=se,s.b1=Fb,s.b2=Kb,s.b3=function(c,l,d,y,w){var T,K=1/Math.tan(l/2);return c[0]=K/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=K,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,w!=null&&w!==1/0?(c[10]=(w+y)*(T=1/(y-w)),c[14]=2*w*y*T):(c[10]=-1,c[14]=-2*y),c},s.b4=function(c,l,d){var y=Math.sin(d),w=Math.cos(d),T=l[4],K=l[5],D=l[6],z=l[7],V=l[8],ee=l[9],Ae=l[10],me=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=T*w+V*y,c[5]=K*w+ee*y,c[6]=D*w+Ae*y,c[7]=z*w+me*y,c[8]=V*w-T*y,c[9]=ee*w-K*y,c[10]=Ae*w-D*y,c[11]=me*w-z*y,c},s.b5=oe,s.b6=re,s.b7=function(c){return c*Math.PI/180},s.b8=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},s.b9=class extends Ru{},s.ba=cv,s.bb=gw,s.bd=Me,s.be=function(c,l){dt.REGISTERED_PROTOCOLS[c]=l},s.bf=function(c){delete dt.REGISTERED_PROTOCOLS[c]},s.bg=function(c,l){const d={};for(let w=0;w<c.length;w++){const T=l&&l[c[w].id]||Tl(c[w]);l&&(l[c[w].id]=T);let K=d[T];K||(K=d[T]=[]),K.push(c[w])}const y=[];for(const w in d)y.push(d[w]);return y},s.bh=zn,s.bi=Ub,s.bj=Lb,s.bk=$d,s.bl=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=la/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],d=l.layout,y=l._unevaluatedLayout._values,w={layoutIconSize:y["icon-size"].possiblyEvaluate(new yo(c.bucket.zoom+1),c.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new yo(c.bucket.zoom+1),c.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new yo(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:ee}=c.bucket.textSizeData;w.compositeTextSizes=[y["text-size"].possiblyEvaluate(new yo(V),c.canonical),y["text-size"].possiblyEvaluate(new yo(ee),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:ee}=c.bucket.iconSizeData;w.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new yo(V),c.canonical),y["icon-size"].possiblyEvaluate(new yo(ee),c.canonical)]}const T=d.get("text-line-height")*Ut,K=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",D=d.get("text-keep-upright"),z=d.get("text-size");for(const V of c.bucket.features){const ee=d.get("text-font").evaluate(V,{},c.canonical).join(","),Ae=z.evaluate(V,{},c.canonical),me=w.layoutTextSize.evaluate(V,{},c.canonical),xe=w.layoutIconSize.evaluate(V,{},c.canonical),Oe={horizontal:{},vertical:void 0},Le=V.text;let Qe,it=[0,0];if(Le){const vt=Le.toString(),en=d.get("text-letter-spacing").evaluate(V,{},c.canonical)*Ut,un=IA(vt)?en:0,Dn=d.get("text-anchor").evaluate(V,{},c.canonical),vr=Z1(l,V,c.canonical);if(!vr){const Un=d.get("text-radial-offset").evaluate(V,{},c.canonical);it=Un?mv(Dn,[Un*Ut,H1]):d.get("text-offset").evaluate(V,{},c.canonical).map(wn=>wn*Ut)}let $n=K?"center":d.get("text-justify").evaluate(V,{},c.canonical);const _n=d.get("symbol-placement"),fn=_n==="point"?d.get("text-max-width").evaluate(V,{},c.canonical)*Ut:0,sr=()=>{c.bucket.allowVerticalPlacement&&Ac(vt)&&(Oe.vertical=L1(Le,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,"left",un,it,s.ah.vertical,!0,_n,me,Ae))};if(!K&&vr){const Un=new Set;if($n==="auto")for(let Ir=0;Ir<vr.values.length;Ir+=2)Un.add(X1(vr.values[Ir]));else Un.add($n);let wn=!1;for(const Ir of Un)if(!Oe.horizontal[Ir])if(wn)Oe.horizontal[Ir]=Oe.horizontal[0];else{const br=L1(Le,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,"center",Ir,un,it,s.ah.horizontal,!1,_n,me,Ae);br&&(Oe.horizontal[Ir]=br,wn=br.positionedLines.length===1)}sr()}else{$n==="auto"&&($n=X1(Dn));const Un=L1(Le,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,$n,un,it,s.ah.horizontal,!1,_n,me,Ae);Un&&(Oe.horizontal[$n]=Un),sr(),Ac(vt)&&K&&D&&(Oe.vertical=L1(Le,c.glyphMap,c.glyphPositions,c.imagePositions,ee,fn,T,Dn,$n,un,it,s.ah.vertical,!1,_n,me,Ae))}}let Mt=!1;if(V.icon&&V.icon.name){const vt=c.imageMap[V.icon.name];vt&&(Qe=ew(c.imagePositions[V.icon.name],d.get("icon-offset").evaluate(V,{},c.canonical),d.get("icon-anchor").evaluate(V,{},c.canonical)),Mt=!!vt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=Mt:c.bucket.sdfIcons!==Mt&&Ke("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const lt=yv(Oe.horizontal)||Oe.vertical;c.bucket.iconsInText=!!lt&&lt.iconsInText,(lt||Qe)&&qb(c.bucket,V,Oe,Qe,c.imageMap,w,me,xe,it,Mt,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},s.bm=jh,s.bn=Dh,s.bo=Gd,s.bp=Gu,s.bq=RA,s.br=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},s.bs=function(c,l,d,y,w){return a(this,void 0,void 0,function*(){if(q())try{return yield He(c,l,d,y,w)}catch{}return function(T,K,D,z,V){const ee=T.width,Ae=T.height;Je&&tt||(Je=new OffscreenCanvas(ee,Ae),tt=Je.getContext("2d",{willReadFrequently:!0})),Je.width=ee,Je.height=Ae,tt.drawImage(T,0,0,ee,Ae);const me=tt.getImageData(K,D,z,V);return tt.clearRect(0,0,ee,Ae),me.data}(c,l,d,y,w)})},s.bt=Db,s.bu=p,s.bv=g,s.bw=cn,s.bx=ac,s.by=function(c){return c.message===rn},s.bz=Du,s.c=mt,s.d=c=>a(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.e=le,s.f=c=>new Promise((l,d)=>{const y=new Image;y.onload=()=>{l(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=Qt})},y.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const w=new Blob([new Uint8Array(c)],{type:"image/png"});y.src=c.byteLength?URL.createObjectURL(w):Qt}),s.g=kt,s.h=(c,l)=>be(le(c,{type:"json"}),l),s.i=Rt,s.j=Ft,s.k=xt,s.l=(c,l)=>be(le(c,{type:"arrayBuffer"}),l),s.m=be,s.n=function(c){return new RA(c).readFields(LA,[])},s.o=Ma,s.p=_c,s.q=$o,s.r=vh,s.s=Pe,s.t=kA,s.u=Nn,s.v=pt,s.w=Ke,s.x=Vi,s.y=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},s.z=Yt}),i("worker",["./shared"],function(s){class a{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,ve){for(const Re of de){this._layerConfigs[Re.id]=Re;const Xe=this._layers[Re.id]=s.az(Re);Xe._featureFilter=s.a6(Xe.filter),this.keyCache[Re.id]&&delete this.keyCache[Re.id]}for(const Re of ve)delete this.keyCache[Re],delete this._layerConfigs[Re],delete this._layers[Re];this.familiesBySource={};const Se=s.bg(Object.values(this._layerConfigs),this.keyCache);for(const Re of Se){const Xe=Re.map(Ht=>this._layers[Ht.id]),at=Xe[0];if(at.visibility==="none")continue;const ht=at.source||"";let Ve=this.familiesBySource[ht];Ve||(Ve=this.familiesBySource[ht]={});const _t=at.sourceLayer||"_geojsonTileLayer";let Zt=Ve[_t];Zt||(Zt=Ve[_t]=[]),Zt.push(Xe)}}}class p{constructor(de){const ve={},Se=[];for(const ht in de){const Ve=de[ht],_t=ve[ht]={};for(const Zt in Ve){const Ht=Ve[+Zt];if(!Ht||Ht.bitmap.width===0||Ht.bitmap.height===0)continue;const qt={x:0,y:0,w:Ht.bitmap.width+2,h:Ht.bitmap.height+2};Se.push(qt),_t[Zt]={rect:qt,metrics:Ht.metrics}}}const{w:Re,h:Xe}=s.p(Se),at=new s.o({width:Re||1,height:Xe||1});for(const ht in de){const Ve=de[ht];for(const _t in Ve){const Zt=Ve[+_t];if(!Zt||Zt.bitmap.width===0||Zt.bitmap.height===0)continue;const Ht=ve[ht][_t].rect;s.o.copy(Zt.bitmap,at,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},Zt.bitmap)}}this.image=at,this.positions=ve}}s.bh("GlyphAtlas",p);class g{constructor(de){this.tileID=new s.Q(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.uid=de.uid,this.zoom=de.zoom,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.collectResourceTiming,this.returnDependencies=!!de.returnDependencies,this.promoteId=de.promoteId,this.inFlightDependencies=[]}parse(de,ve,Se,Re){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=de,this.collisionBoxArray=new s.a4;const Xe=new s.bi(Object.keys(de.layers).sort()),at=new s.bj(this.tileID,this.promoteId);at.bucketLayerIDs=[];const ht={},Ve={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Se},_t=ve.familiesBySource[this.source];for(const rr in _t){const li=de.layers[rr];if(!li)continue;li.version===1&&s.w(`Vector tile source "${this.source}" layer "${rr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ki=Xe.encode(rr),Xi=[];for(let xo=0;xo<li.length;xo++){const pi=li.feature(xo),Oo=at.getId(pi,rr);Xi.push({feature:pi,id:Oo,index:xo,sourceLayerIndex:ki})}for(const xo of _t[rr]){const pi=xo[0];pi.source!==this.source&&s.w(`layer.source = ${pi.source} does not equal this.source = ${this.source}`),pi.minzoom&&this.zoom<Math.floor(pi.minzoom)||pi.maxzoom&&this.zoom>=pi.maxzoom||pi.visibility!=="none"&&(b(xo,this.zoom,Se),(ht[pi.id]=pi.createBucket({index:at.bucketLayerIDs.length,layers:xo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ki,sourceID:this.source})).populate(Xi,Ve,this.tileID.canonical),at.bucketLayerIDs.push(xo.map(Oo=>Oo.id)))}}const Zt=s.aE(Ve.glyphDependencies,rr=>Object.keys(rr).map(Number));this.inFlightDependencies.forEach(rr=>rr==null?void 0:rr.abort()),this.inFlightDependencies=[];let Ht=Promise.resolve({});if(Object.keys(Zt).length){const rr=new AbortController;this.inFlightDependencies.push(rr),Ht=Re.sendAsync({type:"getGlyphs",data:{stacks:Zt,source:this.source,tileID:this.tileID,type:"glyphs"}},rr)}const qt=Object.keys(Ve.iconDependencies);let Vn=Promise.resolve({});if(qt.length){const rr=new AbortController;this.inFlightDependencies.push(rr),Vn=Re.sendAsync({type:"getImages",data:{icons:qt,source:this.source,tileID:this.tileID,type:"icons"}},rr)}const On=Object.keys(Ve.patternDependencies);let ir=Promise.resolve({});if(On.length){const rr=new AbortController;this.inFlightDependencies.push(rr),ir=Re.sendAsync({type:"getImages",data:{icons:On,source:this.source,tileID:this.tileID,type:"patterns"}},rr)}const[or,Tr,Rr]=yield Promise.all([Ht,Vn,ir]),Dr=new p(or),ei=new s.bk(Tr,Rr);for(const rr in ht){const li=ht[rr];li instanceof s.a5?(b(li.layers,this.zoom,Se),s.bl({bucket:li,glyphMap:or,glyphPositions:Dr.positions,imageMap:Tr,imagePositions:ei.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):li.hasPattern&&(li instanceof s.bm||li instanceof s.bn||li instanceof s.bo)&&(b(li.layers,this.zoom,Se),li.addFeatures(Ve,this.tileID.canonical,ei.patternPositions))}return this.status="done",{buckets:Object.values(ht).filter(rr=>!rr.isEmpty()),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Dr.image,imageAtlas:ei,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Tr:null,glyphPositions:this.returnDependencies?Dr.positions:null}})}}function b(Te,de,ve){const Se=new s.a8(de);for(const Re of Te)Re.recalculate(Se,ve)}class B{constructor(de,ve,Se){this.actor=de,this.layerIndex=ve,this.availableImages=Se,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(de,ve){return s._(this,void 0,void 0,function*(){const Se=yield s.l(de.request,ve);try{return{vectorTile:new s.bp.VectorTile(new s.bq(Se.data)),rawData:Se.data,cacheControl:Se.cacheControl,expires:Se.expires}}catch(Re){const Xe=new Uint8Array(Se.data);let at=`Unable to parse the tile at ${de.request.url}, `;throw at+=Xe[0]===31&&Xe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Re.messge}`,new Error(at)}})}loadTile(de){return s._(this,void 0,void 0,function*(){const ve=de.uid,Se=!!(de&&de.request&&de.request.collectResourceTiming)&&new s.br(de.request),Re=new g(de);this.loading[ve]=Re;const Xe=new AbortController;Re.abort=Xe;try{const at=yield this.loadVectorTile(de,Xe);if(delete this.loading[ve],!at)return null;const ht=at.rawData,Ve={};at.expires&&(Ve.expires=at.expires),at.cacheControl&&(Ve.cacheControl=at.cacheControl);const _t={};if(Se){const Ht=Se.finish();Ht&&(_t.resourceTiming=JSON.parse(JSON.stringify(Ht)))}Re.vectorTile=at.vectorTile;const Zt=Re.parse(at.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[ve]=Re,this.fetching[ve]={rawTileData:ht,cacheControl:Ve,resourceTiming:_t};try{const Ht=yield Zt;return s.e({rawTileData:ht.slice(0)},Ht,Ve,_t)}finally{delete this.fetching[ve]}}catch(at){throw delete this.loading[ve],Re.status="done",this.loaded[ve]=Re,at}})}reloadTile(de){return s._(this,void 0,void 0,function*(){const ve=de.uid;if(!this.loaded||!this.loaded[ve])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Se=this.loaded[ve];if(Se.showCollisionBoxes=de.showCollisionBoxes,Se.status==="parsing"){const Re=yield Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor);let Xe;if(this.fetching[ve]){const{rawTileData:at,cacheControl:ht,resourceTiming:Ve}=this.fetching[ve];delete this.fetching[ve],Xe=s.e({rawTileData:at.slice(0)},Re,ht,Ve)}else Xe=Re;return Xe}if(Se.status==="done"&&Se.vectorTile)return Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(de){return s._(this,void 0,void 0,function*(){const ve=this.loading,Se=de.uid;ve&&ve[Se]&&ve[Se].abort&&(ve[Se].abort.abort(),delete ve[Se])})}removeTile(de){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[de.uid]&&delete this.loaded[de.uid]})}}class k{constructor(){this.loaded={}}loadTile(de){return s._(this,void 0,void 0,function*(){const{uid:ve,encoding:Se,rawImageData:Re,redFactor:Xe,greenFactor:at,blueFactor:ht,baseShift:Ve}=de,_t=Re.width+2,Zt=Re.height+2,Ht=s.b(Re)?new s.R({width:_t,height:Zt},yield s.bs(Re,-1,-1,_t,Zt)):Re,qt=new s.bt(ve,Ht,Se,Xe,at,ht,Ve);return this.loaded=this.loaded||{},this.loaded[ve]=qt,qt})}removeTile(de){const ve=this.loaded,Se=de.uid;ve&&ve[Se]&&delete ve[Se]}}function P(Te,de){if(Te.length!==0){R(Te[0],de);for(var ve=1;ve<Te.length;ve++)R(Te[ve],!de)}}function R(Te,de){for(var ve=0,Se=0,Re=0,Xe=Te.length,at=Xe-1;Re<Xe;at=Re++){var ht=(Te[Re][0]-Te[at][0])*(Te[at][1]+Te[Re][1]),Ve=ve+ht;Se+=Math.abs(ve)>=Math.abs(ht)?ve-Ve+ht:ht-Ve+ve,ve=Ve}ve+Se>=0!=!!de&&Te.reverse()}var Z=s.bu(function Te(de,ve){var Se,Re=de&&de.type;if(Re==="FeatureCollection")for(Se=0;Se<de.features.length;Se++)Te(de.features[Se],ve);else if(Re==="GeometryCollection")for(Se=0;Se<de.geometries.length;Se++)Te(de.geometries[Se],ve);else if(Re==="Feature")Te(de.geometry,ve);else if(Re==="Polygon")P(de.coordinates,ve);else if(Re==="MultiPolygon")for(Se=0;Se<de.coordinates.length;Se++)P(de.coordinates[Se],ve);return de});const W=s.bp.VectorTileFeature.prototype.toGeoJSON;var Q={exports:{}},q=s.bv,oe=s.bp.VectorTileFeature,re=ce;function ce(Te,de){this.options=de||{},this.features=Te,this.length=Te.length}function se(Te,de){this.id=typeof Te.id=="number"?Te.id:void 0,this.type=Te.type,this.rawGeometry=Te.type===1?[Te.geometry]:Te.geometry,this.properties=Te.tags,this.extent=de||4096}ce.prototype.feature=function(Te){return new se(this.features[Te],this.options.extent)},se.prototype.loadGeometry=function(){var Te=this.rawGeometry;this.geometry=[];for(var de=0;de<Te.length;de++){for(var ve=Te[de],Se=[],Re=0;Re<ve.length;Re++)Se.push(new q(ve[Re][0],ve[Re][1]));this.geometry.push(Se)}return this.geometry},se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Te=this.geometry,de=1/0,ve=-1/0,Se=1/0,Re=-1/0,Xe=0;Xe<Te.length;Xe++)for(var at=Te[Xe],ht=0;ht<at.length;ht++){var Ve=at[ht];de=Math.min(de,Ve.x),ve=Math.max(ve,Ve.x),Se=Math.min(Se,Ve.y),Re=Math.max(Re,Ve.y)}return[de,Se,ve,Re]},se.prototype.toGeoJSON=oe.prototype.toGeoJSON;var le=s.bw,ye=re;function De(Te){var de=new le;return function(ve,Se){for(var Re in ve.layers)Se.writeMessage(3,Ne,ve.layers[Re])}(Te,de),de.finish()}function Ne(Te,de){var ve;de.writeVarintField(15,Te.version||1),de.writeStringField(1,Te.name||""),de.writeVarintField(5,Te.extent||4096);var Se={keys:[],values:[],keycache:{},valuecache:{}};for(ve=0;ve<Te.length;ve++)Se.feature=Te.feature(ve),de.writeMessage(2,et,Se);var Re=Se.keys;for(ve=0;ve<Re.length;ve++)de.writeStringField(3,Re[ve]);var Xe=Se.values;for(ve=0;ve<Xe.length;ve++)de.writeMessage(4,Rt,Xe[ve])}function et(Te,de){var ve=Te.feature;ve.id!==void 0&&de.writeVarintField(1,ve.id),de.writeMessage(2,ft,Te),de.writeVarintField(3,ve.type),de.writeMessage(4,Ce,ve)}function ft(Te,de){var ve=Te.feature,Se=Te.keys,Re=Te.values,Xe=Te.keycache,at=Te.valuecache;for(var ht in ve.properties){var Ve=ve.properties[ht],_t=Xe[ht];if(Ve!==null){_t===void 0&&(Se.push(ht),Xe[ht]=_t=Se.length-1),de.writeVarint(_t);var Zt=typeof Ve;Zt!=="string"&&Zt!=="boolean"&&Zt!=="number"&&(Ve=JSON.stringify(Ve));var Ht=Zt+":"+Ve,qt=at[Ht];qt===void 0&&(Re.push(Ve),at[Ht]=qt=Re.length-1),de.writeVarint(qt)}}}function Ke(Te,de){return(de<<3)+(7&Te)}function rt(Te){return Te<<1^Te>>31}function Ce(Te,de){for(var ve=Te.loadGeometry(),Se=Te.type,Re=0,Xe=0,at=ve.length,ht=0;ht<at;ht++){var Ve=ve[ht],_t=1;Se===1&&(_t=Ve.length),de.writeVarint(Ke(1,_t));for(var Zt=Se===3?Ve.length-1:Ve.length,Ht=0;Ht<Zt;Ht++){Ht===1&&Se!==1&&de.writeVarint(Ke(2,Zt-1));var qt=Ve[Ht].x-Re,Vn=Ve[Ht].y-Xe;de.writeVarint(rt(qt)),de.writeVarint(rt(Vn)),Re+=qt,Xe+=Vn}Se===3&&de.writeVarint(Ke(7,1))}}function Rt(Te,de){var ve=typeof Te;ve==="string"?de.writeStringField(1,Te):ve==="boolean"?de.writeBooleanField(7,Te):ve==="number"&&(Te%1!=0?de.writeDoubleField(3,Te):Te<0?de.writeSVarintField(6,Te):de.writeVarintField(5,Te))}Q.exports=De,Q.exports.fromVectorTileJs=De,Q.exports.fromGeojsonVt=function(Te,de){de=de||{};var ve={};for(var Se in Te)ve[Se]=new ye(Te[Se].features,de),ve[Se].name=Se,ve[Se].version=de.version,ve[Se].extent=de.extent;return De({layers:ve})},Q.exports.GeoJSONWrapper=ye;var jt=s.bu(Q.exports);const tn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Te=>Te},Qt=Math.fround||(He=new Float32Array(1),Te=>(He[0]=+Te,He[0]));var He;const Je=3,tt=5,rn=6;class mt{constructor(de){this.options=Object.assign(Object.create(tn),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:ve,minZoom:Se,maxZoom:Re}=this.options;ve&&console.time("total time");const Xe=`prepare ${de.length} points`;ve&&console.time(Xe),this.points=de;const at=[];for(let Ve=0;Ve<de.length;Ve++){const _t=de[Ve];if(!_t.geometry)continue;const[Zt,Ht]=_t.geometry.coordinates,qt=Qt(Pt(Zt)),Vn=Qt(Me(Ht));at.push(qt,Vn,1/0,Ve,-1,1),this.options.reduce&&at.push(0)}let ht=this.trees[Re+1]=this._createTree(at);ve&&console.timeEnd(Xe);for(let Ve=Re;Ve>=Se;Ve--){const _t=+Date.now();ht=this.trees[Ve]=this._createTree(this._cluster(ht,Ve)),ve&&console.log("z%d: %d clusters in %dms",Ve,ht.numItems,+Date.now()-_t)}return ve&&console.timeEnd("total time"),this}getClusters(de,ve){let Se=((de[0]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,de[1]));let Xe=de[2]===180?180:((de[2]+180)%360+360)%360-180;const at=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Se=-180,Xe=180;else if(Se>Xe){const Ht=this.getClusters([Se,Re,180,at],ve),qt=this.getClusters([-180,Re,Xe,at],ve);return Ht.concat(qt)}const ht=this.trees[this._limitZoom(ve)],Ve=ht.range(Pt(Se),Me(at),Pt(Xe),Me(Re)),_t=ht.data,Zt=[];for(const Ht of Ve){const qt=this.stride*Ht;Zt.push(_t[qt+tt]>1?dt(_t,qt,this.clusterProps):this.points[_t[qt+Je]])}return Zt}getChildren(de){const ve=this._getOriginId(de),Se=this._getOriginZoom(de),Re="No cluster with the specified id.",Xe=this.trees[Se];if(!Xe)throw new Error(Re);const at=Xe.data;if(ve*this.stride>=at.length)throw new Error(Re);const ht=this.options.radius/(this.options.extent*Math.pow(2,Se-1)),Ve=Xe.within(at[ve*this.stride],at[ve*this.stride+1],ht),_t=[];for(const Zt of Ve){const Ht=Zt*this.stride;at[Ht+4]===de&&_t.push(at[Ht+tt]>1?dt(at,Ht,this.clusterProps):this.points[at[Ht+Je]])}if(_t.length===0)throw new Error(Re);return _t}getLeaves(de,ve,Se){const Re=[];return this._appendLeaves(Re,de,ve=ve||10,Se=Se||0,0),Re}getTile(de,ve,Se){const Re=this.trees[this._limitZoom(de)],Xe=Math.pow(2,de),{extent:at,radius:ht}=this.options,Ve=ht/at,_t=(Se-Ve)/Xe,Zt=(Se+1+Ve)/Xe,Ht={features:[]};return this._addTileFeatures(Re.range((ve-Ve)/Xe,_t,(ve+1+Ve)/Xe,Zt),Re.data,ve,Se,Xe,Ht),ve===0&&this._addTileFeatures(Re.range(1-Ve/Xe,_t,1,Zt),Re.data,Xe,Se,Xe,Ht),ve===Xe-1&&this._addTileFeatures(Re.range(0,_t,Ve/Xe,Zt),Re.data,-1,Se,Xe,Ht),Ht.features.length?Ht:null}getClusterExpansionZoom(de){let ve=this._getOriginZoom(de)-1;for(;ve<=this.options.maxZoom;){const Se=this.getChildren(de);if(ve++,Se.length!==1)break;de=Se[0].properties.cluster_id}return ve}_appendLeaves(de,ve,Se,Re,Xe){const at=this.getChildren(ve);for(const ht of at){const Ve=ht.properties;if(Ve&&Ve.cluster?Xe+Ve.point_count<=Re?Xe+=Ve.point_count:Xe=this._appendLeaves(de,Ve.cluster_id,Se,Re,Xe):Xe<Re?Xe++:de.push(ht),de.length===Se)break}return Xe}_createTree(de){const ve=new s.au(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Se=0;Se<de.length;Se+=this.stride)ve.add(de[Se],de[Se+1]);return ve.finish(),ve.data=de,ve}_addTileFeatures(de,ve,Se,Re,Xe,at){for(const ht of de){const Ve=ht*this.stride,_t=ve[Ve+tt]>1;let Zt,Ht,qt;if(_t)Zt=kt(ve,Ve,this.clusterProps),Ht=ve[Ve],qt=ve[Ve+1];else{const ir=this.points[ve[Ve+Je]];Zt=ir.properties;const[or,Tr]=ir.geometry.coordinates;Ht=Pt(or),qt=Me(Tr)}const Vn={type:1,geometry:[[Math.round(this.options.extent*(Ht*Xe-Se)),Math.round(this.options.extent*(qt*Xe-Re))]],tags:Zt};let On;On=_t||this.options.generateId?ve[Ve+Je]:this.points[ve[Ve+Je]].id,On!==void 0&&(Vn.id=On),at.features.push(Vn)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,ve){const{radius:Se,extent:Re,reduce:Xe,minPoints:at}=this.options,ht=Se/(Re*Math.pow(2,ve)),Ve=de.data,_t=[],Zt=this.stride;for(let Ht=0;Ht<Ve.length;Ht+=Zt){if(Ve[Ht+2]<=ve)continue;Ve[Ht+2]=ve;const qt=Ve[Ht],Vn=Ve[Ht+1],On=de.within(Ve[Ht],Ve[Ht+1],ht),ir=Ve[Ht+tt];let or=ir;for(const Tr of On){const Rr=Tr*Zt;Ve[Rr+2]>ve&&(or+=Ve[Rr+tt])}if(or>ir&&or>=at){let Tr,Rr=qt*ir,Dr=Vn*ir,ei=-1;const rr=((Ht/Zt|0)<<5)+(ve+1)+this.points.length;for(const li of On){const ki=li*Zt;if(Ve[ki+2]<=ve)continue;Ve[ki+2]=ve;const Xi=Ve[ki+tt];Rr+=Ve[ki]*Xi,Dr+=Ve[ki+1]*Xi,Ve[ki+4]=rr,Xe&&(Tr||(Tr=this._map(Ve,Ht,!0),ei=this.clusterProps.length,this.clusterProps.push(Tr)),Xe(Tr,this._map(Ve,ki)))}Ve[Ht+4]=rr,_t.push(Rr/or,Dr/or,1/0,rr,-1,or),Xe&&_t.push(ei)}else{for(let Tr=0;Tr<Zt;Tr++)_t.push(Ve[Ht+Tr]);if(or>1)for(const Tr of On){const Rr=Tr*Zt;if(!(Ve[Rr+2]<=ve)){Ve[Rr+2]=ve;for(let Dr=0;Dr<Zt;Dr++)_t.push(Ve[Rr+Dr])}}}}return _t}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,ve,Se){if(de[ve+tt]>1){const at=this.clusterProps[de[ve+rn]];return Se?Object.assign({},at):at}const Re=this.points[de[ve+Je]].properties,Xe=this.options.map(Re);return Se&&Xe===Re?Object.assign({},Xe):Xe}}function dt(Te,de,ve){return{type:"Feature",id:Te[de+Je],properties:kt(Te,de,ve),geometry:{type:"Point",coordinates:[(Se=Te[de],360*(Se-.5)),he(Te[de+1])]}};var Se}function kt(Te,de,ve){const Se=Te[de+tt],Re=Se>=1e4?`${Math.round(Se/1e3)}k`:Se>=1e3?Math.round(Se/100)/10+"k":Se,Xe=Te[de+rn],at=Xe===-1?{}:Object.assign({},ve[Xe]);return Object.assign(at,{cluster:!0,cluster_id:Te[de+Je],point_count:Se,point_count_abbreviated:Re})}function Pt(Te){return Te/360+.5}function Me(Te){const de=Math.sin(Te*Math.PI/180),ve=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ve<0?0:ve>1?1:ve}function he(Te){const de=(180-360*Te)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function be(Te,de,ve,Se){for(var Re,Xe=Se,at=ve-de>>1,ht=ve-de,Ve=Te[de],_t=Te[de+1],Zt=Te[ve],Ht=Te[ve+1],qt=de+3;qt<ve;qt+=3){var Vn=Pe(Te[qt],Te[qt+1],Ve,_t,Zt,Ht);if(Vn>Xe)Re=qt,Xe=Vn;else if(Vn===Xe){var On=Math.abs(qt-at);On<ht&&(Re=qt,ht=On)}}Xe>Se&&(Re-de>3&&be(Te,de,Re,Se),Te[Re+2]=Xe,ve-Re>3&&be(Te,Re,ve,Se))}function Pe(Te,de,ve,Se,Re,Xe){var at=Re-ve,ht=Xe-Se;if(at!==0||ht!==0){var Ve=((Te-ve)*at+(de-Se)*ht)/(at*at+ht*ht);Ve>1?(ve=Re,Se=Xe):Ve>0&&(ve+=at*Ve,Se+=ht*Ve)}return(at=Te-ve)*at+(ht=de-Se)*ht}function Ze(Te,de,ve,Se){var Re={id:Te===void 0?null:Te,type:de,geometry:ve,tags:Se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Xe){var at=Xe.geometry,ht=Xe.type;if(ht==="Point"||ht==="MultiPoint"||ht==="LineString")nt(Xe,at);else if(ht==="Polygon"||ht==="MultiLineString")for(var Ve=0;Ve<at.length;Ve++)nt(Xe,at[Ve]);else if(ht==="MultiPolygon")for(Ve=0;Ve<at.length;Ve++)for(var _t=0;_t<at[Ve].length;_t++)nt(Xe,at[Ve][_t])}(Re),Re}function nt(Te,de){for(var ve=0;ve<de.length;ve+=3)Te.minX=Math.min(Te.minX,de[ve]),Te.minY=Math.min(Te.minY,de[ve+1]),Te.maxX=Math.max(Te.maxX,de[ve]),Te.maxY=Math.max(Te.maxY,de[ve+1])}function xt(Te,de,ve,Se){if(de.geometry){var Re=de.geometry.coordinates,Xe=de.geometry.type,at=Math.pow(ve.tolerance/((1<<ve.maxZoom)*ve.extent),2),ht=[],Ve=de.id;if(ve.promoteId?Ve=de.properties[ve.promoteId]:ve.generateId&&(Ve=Se||0),Xe==="Point")Ft(Re,ht);else if(Xe==="MultiPoint")for(var _t=0;_t<Re.length;_t++)Ft(Re[_t],ht);else if(Xe==="LineString")Dt(Re,ht,at,!1);else if(Xe==="MultiLineString"){if(ve.lineMetrics){for(_t=0;_t<Re.length;_t++)Dt(Re[_t],ht=[],at,!1),Te.push(Ze(Ve,"LineString",ht,de.properties));return}pt(Re,ht,at,!1)}else if(Xe==="Polygon")pt(Re,ht,at,!0);else{if(Xe!=="MultiPolygon"){if(Xe==="GeometryCollection"){for(_t=0;_t<de.geometry.geometries.length;_t++)xt(Te,{id:Ve,geometry:de.geometry.geometries[_t],properties:de.properties},ve,Se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(_t=0;_t<Re.length;_t++){var Zt=[];pt(Re[_t],Zt,at,!0),ht.push(Zt)}}Te.push(Ze(Ve,Xe,ht,de.properties))}}function Ft(Te,de){de.push(nr(Te[0])),de.push(pn(Te[1])),de.push(0)}function Dt(Te,de,ve,Se){for(var Re,Xe,at=0,ht=0;ht<Te.length;ht++){var Ve=nr(Te[ht][0]),_t=pn(Te[ht][1]);de.push(Ve),de.push(_t),de.push(0),ht>0&&(at+=Se?(Re*_t-Ve*Xe)/2:Math.sqrt(Math.pow(Ve-Re,2)+Math.pow(_t-Xe,2))),Re=Ve,Xe=_t}var Zt=de.length-3;de[2]=1,be(de,0,Zt,ve),de[Zt+2]=1,de.size=Math.abs(at),de.start=0,de.end=de.size}function pt(Te,de,ve,Se){for(var Re=0;Re<Te.length;Re++){var Xe=[];Dt(Te[Re],Xe,ve,Se),de.push(Xe)}}function nr(Te){return Te/360+.5}function pn(Te){var de=Math.sin(Te*Math.PI/180),ve=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ve<0?0:ve>1?1:ve}function bn(Te,de,ve,Se,Re,Xe,at,ht){if(Se/=de,Xe>=(ve/=de)&&at<Se)return Te;if(at<ve||Xe>=Se)return null;for(var Ve=[],_t=0;_t<Te.length;_t++){var Zt=Te[_t],Ht=Zt.geometry,qt=Zt.type,Vn=Re===0?Zt.minX:Zt.minY,On=Re===0?Zt.maxX:Zt.maxY;if(Vn>=ve&&On<Se)Ve.push(Zt);else if(!(On<ve||Vn>=Se)){var ir=[];if(qt==="Point"||qt==="MultiPoint")Jn(Ht,ir,ve,Se,Re);else if(qt==="LineString")mr(Ht,ir,ve,Se,Re,!1,ht.lineMetrics);else if(qt==="MultiLineString")Nr(Ht,ir,ve,Se,Re,!1);else if(qt==="Polygon")Nr(Ht,ir,ve,Se,Re,!0);else if(qt==="MultiPolygon")for(var or=0;or<Ht.length;or++){var Tr=[];Nr(Ht[or],Tr,ve,Se,Re,!0),Tr.length&&ir.push(Tr)}if(ir.length){if(ht.lineMetrics&&qt==="LineString"){for(or=0;or<ir.length;or++)Ve.push(Ze(Zt.id,qt,ir[or],Zt.tags));continue}qt!=="LineString"&&qt!=="MultiLineString"||(ir.length===1?(qt="LineString",ir=ir[0]):qt="MultiLineString"),qt!=="Point"&&qt!=="MultiPoint"||(qt=ir.length===3?"Point":"MultiPoint"),Ve.push(Ze(Zt.id,qt,ir,Zt.tags))}}}return Ve.length?Ve:null}function Jn(Te,de,ve,Se,Re){for(var Xe=0;Xe<Te.length;Xe+=3){var at=Te[Xe+Re];at>=ve&&at<=Se&&(de.push(Te[Xe]),de.push(Te[Xe+1]),de.push(Te[Xe+2]))}}function mr(Te,de,ve,Se,Re,Xe,at){for(var ht,Ve,_t=xr(Te),Zt=Re===0?fi:we,Ht=Te.start,qt=0;qt<Te.length-3;qt+=3){var Vn=Te[qt],On=Te[qt+1],ir=Te[qt+2],or=Te[qt+3],Tr=Te[qt+4],Rr=Re===0?Vn:On,Dr=Re===0?or:Tr,ei=!1;at&&(ht=Math.sqrt(Math.pow(Vn-or,2)+Math.pow(On-Tr,2))),Rr<ve?Dr>ve&&(Ve=Zt(_t,Vn,On,or,Tr,ve),at&&(_t.start=Ht+ht*Ve)):Rr>Se?Dr<Se&&(Ve=Zt(_t,Vn,On,or,Tr,Se),at&&(_t.start=Ht+ht*Ve)):Cr(_t,Vn,On,ir),Dr<ve&&Rr>=ve&&(Ve=Zt(_t,Vn,On,or,Tr,ve),ei=!0),Dr>Se&&Rr<=Se&&(Ve=Zt(_t,Vn,On,or,Tr,Se),ei=!0),!Xe&&ei&&(at&&(_t.end=Ht+ht*Ve),de.push(_t),_t=xr(Te)),at&&(Ht+=ht)}var rr=Te.length-3;Vn=Te[rr],On=Te[rr+1],ir=Te[rr+2],(Rr=Re===0?Vn:On)>=ve&&Rr<=Se&&Cr(_t,Vn,On,ir),rr=_t.length-3,Xe&&rr>=3&&(_t[rr]!==_t[0]||_t[rr+1]!==_t[1])&&Cr(_t,_t[0],_t[1],_t[2]),_t.length&&de.push(_t)}function xr(Te){var de=[];return de.size=Te.size,de.start=Te.start,de.end=Te.end,de}function Nr(Te,de,ve,Se,Re,Xe){for(var at=0;at<Te.length;at++)mr(Te[at],de,ve,Se,Re,Xe,!1)}function Cr(Te,de,ve,Se){Te.push(de),Te.push(ve),Te.push(Se)}function fi(Te,de,ve,Se,Re,Xe){var at=(Xe-de)/(Se-de);return Te.push(Xe),Te.push(ve+(Re-ve)*at),Te.push(1),at}function we(Te,de,ve,Se,Re,Xe){var at=(Xe-ve)/(Re-ve);return Te.push(de+(Se-de)*at),Te.push(Xe),Te.push(1),at}function H(Te,de){for(var ve=[],Se=0;Se<Te.length;Se++){var Re,Xe=Te[Se],at=Xe.type;if(at==="Point"||at==="MultiPoint"||at==="LineString")Re=Y(Xe.geometry,de);else if(at==="MultiLineString"||at==="Polygon"){Re=[];for(var ht=0;ht<Xe.geometry.length;ht++)Re.push(Y(Xe.geometry[ht],de))}else if(at==="MultiPolygon")for(Re=[],ht=0;ht<Xe.geometry.length;ht++){for(var Ve=[],_t=0;_t<Xe.geometry[ht].length;_t++)Ve.push(Y(Xe.geometry[ht][_t],de));Re.push(Ve)}ve.push(Ze(Xe.id,at,Re,Xe.tags))}return ve}function Y(Te,de){var ve=[];ve.size=Te.size,Te.start!==void 0&&(ve.start=Te.start,ve.end=Te.end);for(var Se=0;Se<Te.length;Se+=3)ve.push(Te[Se]+de,Te[Se+1],Te[Se+2]);return ve}function Be(Te,de){if(Te.transformed)return Te;var ve,Se,Re,Xe=1<<Te.z,at=Te.x,ht=Te.y;for(ve=0;ve<Te.features.length;ve++){var Ve=Te.features[ve],_t=Ve.geometry,Zt=Ve.type;if(Ve.geometry=[],Zt===1)for(Se=0;Se<_t.length;Se+=2)Ve.geometry.push(st(_t[Se],_t[Se+1],de,Xe,at,ht));else for(Se=0;Se<_t.length;Se++){var Ht=[];for(Re=0;Re<_t[Se].length;Re+=2)Ht.push(st(_t[Se][Re],_t[Se][Re+1],de,Xe,at,ht));Ve.geometry.push(Ht)}}return Te.transformed=!0,Te}function st(Te,de,ve,Se,Re,Xe){return[Math.round(ve*(Te*Se-Re)),Math.round(ve*(de*Se-Xe))]}function St(Te,de,ve,Se,Re){for(var Xe=de===Re.maxZoom?0:Re.tolerance/((1<<de)*Re.extent),at={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ve,y:Se,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ht=0;ht<Te.length;ht++){at.numFeatures++,Et(at,Te[ht],Xe,Re);var Ve=Te[ht].minX,_t=Te[ht].minY,Zt=Te[ht].maxX,Ht=Te[ht].maxY;Ve<at.minX&&(at.minX=Ve),_t<at.minY&&(at.minY=_t),Zt>at.maxX&&(at.maxX=Zt),Ht>at.maxY&&(at.maxY=Ht)}return at}function Et(Te,de,ve,Se){var Re=de.geometry,Xe=de.type,at=[];if(Xe==="Point"||Xe==="MultiPoint")for(var ht=0;ht<Re.length;ht+=3)at.push(Re[ht]),at.push(Re[ht+1]),Te.numPoints++,Te.numSimplified++;else if(Xe==="LineString")Nt(at,Re,Te,ve,!1,!1);else if(Xe==="MultiLineString"||Xe==="Polygon")for(ht=0;ht<Re.length;ht++)Nt(at,Re[ht],Te,ve,Xe==="Polygon",ht===0);else if(Xe==="MultiPolygon")for(var Ve=0;Ve<Re.length;Ve++){var _t=Re[Ve];for(ht=0;ht<_t.length;ht++)Nt(at,_t[ht],Te,ve,!0,ht===0)}if(at.length){var Zt=de.tags||null;if(Xe==="LineString"&&Se.lineMetrics){for(var Ht in Zt={},de.tags)Zt[Ht]=de.tags[Ht];Zt.mapbox_clip_start=Re.start/Re.size,Zt.mapbox_clip_end=Re.end/Re.size}var qt={geometry:at,type:Xe==="Polygon"||Xe==="MultiPolygon"?3:Xe==="LineString"||Xe==="MultiLineString"?2:1,tags:Zt};de.id!==null&&(qt.id=de.id),Te.features.push(qt)}}function Nt(Te,de,ve,Se,Re,Xe){var at=Se*Se;if(Se>0&&de.size<(Re?at:Se))ve.numPoints+=de.length/3;else{for(var ht=[],Ve=0;Ve<de.length;Ve+=3)(Se===0||de[Ve+2]>at)&&(ve.numSimplified++,ht.push(de[Ve]),ht.push(de[Ve+1])),ve.numPoints++;Re&&function(_t,Zt){for(var Ht=0,qt=0,Vn=_t.length,On=Vn-2;qt<Vn;On=qt,qt+=2)Ht+=(_t[qt]-_t[On])*(_t[qt+1]+_t[On+1]);if(Ht>0===Zt)for(qt=0,Vn=_t.length;qt<Vn/2;qt+=2){var ir=_t[qt],or=_t[qt+1];_t[qt]=_t[Vn-2-qt],_t[qt+1]=_t[Vn-1-qt],_t[Vn-2-qt]=ir,_t[Vn-1-qt]=or}}(ht,Xe),Te.push(ht)}}function mn(Te,de){var ve=(de=this.options=function(Re,Xe){for(var at in Xe)Re[at]=Xe[at];return Re}(Object.create(this.options),de)).debug;if(ve&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var Se=function(Re,Xe){var at=[];if(Re.type==="FeatureCollection")for(var ht=0;ht<Re.features.length;ht++)xt(at,Re.features[ht],Xe,ht);else xt(at,Re.type==="Feature"?Re:{geometry:Re},Xe);return at}(Te,de);this.tiles={},this.tileCoords=[],ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Se=function(Re,Xe){var at=Xe.buffer/Xe.extent,ht=Re,Ve=bn(Re,1,-1-at,at,0,-1,2,Xe),_t=bn(Re,1,1-at,2+at,0,-1,2,Xe);return(Ve||_t)&&(ht=bn(Re,1,-at,1+at,0,-1,2,Xe)||[],Ve&&(ht=H(Ve,1).concat(ht)),_t&&(ht=ht.concat(H(_t,-1)))),ht}(Se,de),Se.length&&this.splitTile(Se,0,0,0),ve&&(Se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kn(Te,de,ve){return 32*((1<<Te)*ve+de)+Te}function En(Te,de){return de?Te.properties[de]:Te.id}function m(Te,de){if(Te==null)return!0;if(Te.type==="Feature")return En(Te,de)!=null;if(Te.type==="FeatureCollection"){const ve=new Set;for(const Se of Te.features){const Re=En(Se,de);if(Re==null||ve.has(Re))return!1;ve.add(Re)}return!0}return!1}function Tt(Te,de){const ve=new Map;if(Te!=null)if(Te.type==="Feature")ve.set(En(Te,de),Te);else for(const Se of Te.features)ve.set(En(Se,de),Se);return ve}mn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},mn.prototype.splitTile=function(Te,de,ve,Se,Re,Xe,at){for(var ht=[Te,de,ve,Se],Ve=this.options,_t=Ve.debug;ht.length;){Se=ht.pop(),ve=ht.pop(),de=ht.pop(),Te=ht.pop();var Zt=1<<de,Ht=Kn(de,ve,Se),qt=this.tiles[Ht];if(!qt&&(_t>1&&console.time("creation"),qt=this.tiles[Ht]=St(Te,de,ve,Se,Ve),this.tileCoords.push({z:de,x:ve,y:Se}),_t)){_t>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,ve,Se,qt.numFeatures,qt.numPoints,qt.numSimplified),console.timeEnd("creation"));var Vn="z"+de;this.stats[Vn]=(this.stats[Vn]||0)+1,this.total++}if(qt.source=Te,Re){if(de===Ve.maxZoom||de===Re)continue;var On=1<<Re-de;if(ve!==Math.floor(Xe/On)||Se!==Math.floor(at/On))continue}else if(de===Ve.indexMaxZoom||qt.numPoints<=Ve.indexMaxPoints)continue;if(qt.source=null,Te.length!==0){_t>1&&console.time("clipping");var ir,or,Tr,Rr,Dr,ei,rr=.5*Ve.buffer/Ve.extent,li=.5-rr,ki=.5+rr,Xi=1+rr;ir=or=Tr=Rr=null,Dr=bn(Te,Zt,ve-rr,ve+ki,0,qt.minX,qt.maxX,Ve),ei=bn(Te,Zt,ve+li,ve+Xi,0,qt.minX,qt.maxX,Ve),Te=null,Dr&&(ir=bn(Dr,Zt,Se-rr,Se+ki,1,qt.minY,qt.maxY,Ve),or=bn(Dr,Zt,Se+li,Se+Xi,1,qt.minY,qt.maxY,Ve),Dr=null),ei&&(Tr=bn(ei,Zt,Se-rr,Se+ki,1,qt.minY,qt.maxY,Ve),Rr=bn(ei,Zt,Se+li,Se+Xi,1,qt.minY,qt.maxY,Ve),ei=null),_t>1&&console.timeEnd("clipping"),ht.push(ir||[],de+1,2*ve,2*Se),ht.push(or||[],de+1,2*ve,2*Se+1),ht.push(Tr||[],de+1,2*ve+1,2*Se),ht.push(Rr||[],de+1,2*ve+1,2*Se+1)}}},mn.prototype.getTile=function(Te,de,ve){var Se=this.options,Re=Se.extent,Xe=Se.debug;if(Te<0||Te>24)return null;var at=1<<Te,ht=Kn(Te,de=(de%at+at)%at,ve);if(this.tiles[ht])return Be(this.tiles[ht],Re);Xe>1&&console.log("drilling down to z%d-%d-%d",Te,de,ve);for(var Ve,_t=Te,Zt=de,Ht=ve;!Ve&&_t>0;)_t--,Zt=Math.floor(Zt/2),Ht=Math.floor(Ht/2),Ve=this.tiles[Kn(_t,Zt,Ht)];return Ve&&Ve.source?(Xe>1&&console.log("found parent tile z%d-%d-%d",_t,Zt,Ht),Xe>1&&console.time("drilling down"),this.splitTile(Ve.source,_t,Zt,Ht,Te,de,ve),Xe>1&&console.timeEnd("drilling down"),this.tiles[ht]?Be(this.tiles[ht],Re):null):null};class Ur extends B{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(de,ve){return s._(this,void 0,void 0,function*(){const Se=de.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Re=this._geoJSONIndex.getTile(Se.z,Se.x,Se.y);if(!Re)return null;const Xe=new class{constructor(ht){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.W,this.length=ht.length,this._features=ht}feature(ht){return new class{constructor(Ve){this._feature=Ve,this.extent=s.W,this.type=Ve.type,this.properties=Ve.tags,"id"in Ve&&!isNaN(Ve.id)&&(this.id=parseInt(Ve.id,10))}loadGeometry(){if(this._feature.type===1){const Ve=[];for(const _t of this._feature.geometry)Ve.push([new s.P(_t[0],_t[1])]);return Ve}{const Ve=[];for(const _t of this._feature.geometry){const Zt=[];for(const Ht of _t)Zt.push(new s.P(Ht[0],Ht[1]));Ve.push(Zt)}return Ve}}toGeoJSON(Ve,_t,Zt){return W.call(this,Ve,_t,Zt)}}(this._features[ht])}}(Re.features);let at=jt(Xe);return at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),{vectorTile:Xe,rawData:at.buffer}})}loadData(de){var ve;return s._(this,void 0,void 0,function*(){(ve=this._pendingRequest)===null||ve===void 0||ve.abort();const Se=!!(de&&de.request&&de.request.collectResourceTiming)&&new s.br(de.request);this._pendingRequest=new AbortController;try{let Re=yield this.loadGeoJSON(de,this._pendingRequest);if(delete this._pendingRequest,typeof Re!="object")throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`);if(Z(Re,!0),de.filter){const at=s.bx(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(at.result==="error")throw new Error(at.value.map(Ve=>`${Ve.key}: ${Ve.message}`).join(", "));Re={type:"FeatureCollection",features:Re.features.filter(Ve=>at.value.evaluate({zoom:0},Ve))}}this._geoJSONIndex=de.cluster?new mt(function({superclusterOptions:at,clusterProperties:ht}){if(!ht||!at)return at;const Ve={},_t={},Zt={accumulated:null,zoom:0},Ht={properties:null},qt=Object.keys(ht);for(const Vn of qt){const[On,ir]=ht[Vn],or=s.bx(ir),Tr=s.bx(typeof On=="string"?[On,["accumulated"],["get",Vn]]:On);Ve[Vn]=or.value,_t[Vn]=Tr.value}return at.map=Vn=>{Ht.properties=Vn;const On={};for(const ir of qt)On[ir]=Ve[ir].evaluate(Zt,Ht);return On},at.reduce=(Vn,On)=>{Ht.properties=On;for(const ir of qt)Zt.accumulated=Vn[ir],Vn[ir]=_t[ir].evaluate(Zt,Ht)},at}(de)).load(Re.features):function(at,ht){return new mn(at,ht)}(Re,de.geojsonVtOptions),this.loaded={};const Xe={};if(Se){const at=Se.finish();at&&(Xe.resourceTiming={},Xe.resourceTiming[de.source]=JSON.parse(JSON.stringify(at)))}return Xe}catch(Re){if(delete this._pendingRequest,s.by(Re))return{abandoned:!0};throw Re}})}reloadTile(de){const ve=this.loaded;return ve&&ve[de.uid]?super.reloadTile(de):this.loadTile(de)}loadGeoJSON(de,ve){return s._(this,void 0,void 0,function*(){const{promoteId:Se}=de;if(de.request){const Re=yield s.h(de.request,ve);return this._dataUpdateable=m(Re.data,Se)?Tt(Re.data,Se):void 0,Re.data}if(typeof de.data=="string")try{const Re=JSON.parse(de.data);return this._dataUpdateable=m(Re,Se)?Tt(Re,Se):void 0,Re}catch{throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`)}if(!de.dataDiff)throw new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${de.source}`);return function(Re,Xe,at){var ht,Ve,_t,Zt;if(Xe.removeAll&&Re.clear(),Xe.remove)for(const Ht of Xe.remove)Re.delete(Ht);if(Xe.add)for(const Ht of Xe.add){const qt=En(Ht,at);qt!=null&&Re.set(qt,Ht)}if(Xe.update)for(const Ht of Xe.update){let qt=Re.get(Ht.id);if(qt==null)continue;const Vn=!Ht.removeAllProperties&&(((ht=Ht.removeProperties)===null||ht===void 0?void 0:ht.length)>0||((Ve=Ht.addOrUpdateProperties)===null||Ve===void 0?void 0:Ve.length)>0);if((Ht.newGeometry||Ht.removeAllProperties||Vn)&&(qt=Object.assign({},qt),Re.set(Ht.id,qt),Vn&&(qt.properties=Object.assign({},qt.properties))),Ht.newGeometry&&(qt.geometry=Ht.newGeometry),Ht.removeAllProperties)qt.properties={};else if(((_t=Ht.removeProperties)===null||_t===void 0?void 0:_t.length)>0)for(const On of Ht.removeProperties)Object.prototype.hasOwnProperty.call(qt.properties,On)&&delete qt.properties[On];if(((Zt=Ht.addOrUpdateProperties)===null||Zt===void 0?void 0:Zt.length)>0)for(const{key:On,value:ir}of Ht.addOrUpdateProperties)qt.properties[On]=ir}}(this._dataUpdateable,de.dataDiff,Se),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(de){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(de){return this._geoJSONIndex.getClusterExpansionZoom(de.clusterId)}getClusterChildren(de){return this._geoJSONIndex.getChildren(de.clusterId)}getClusterLeaves(de){return this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset)}}class Wn{constructor(de){this.self=de,this.actor=new s.C(de),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ve,Se)=>{if(this.externalWorkerSourceTypes[ve])throw new Error(`Worker source with name "${ve}" already registered.`);this.externalWorkerSourceTypes[ve]=Se},this.self.addProtocol=s.be,this.self.removeProtocol=s.bf,this.self.registerRTLTextPlugin=ve=>{if(s.bz.isParsed())throw new Error("RTL text plugin already registered.");s.bz.setMethods(ve)},this.actor.registerMessageHandler("loadDEMTile",(ve,Se)=>this._getDEMWorkerSource(ve,Se.source).loadTile(Se)),this.actor.registerMessageHandler("removeDEMTile",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ve,Se.source).removeTile(Se)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterExpansionZoom(Se)})),this.actor.registerMessageHandler("getClusterChildren",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterChildren(Se)})),this.actor.registerMessageHandler("getClusterLeaves",(ve,Se)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,Se.type,Se.source).getClusterLeaves(Se)})),this.actor.registerMessageHandler("loadData",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).loadData(Se)),this.actor.registerMessageHandler("loadTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).loadTile(Se)),this.actor.registerMessageHandler("reloadTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).reloadTile(Se)),this.actor.registerMessageHandler("abortTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).abortTile(Se)),this.actor.registerMessageHandler("removeTile",(ve,Se)=>this._getWorkerSource(ve,Se.type,Se.source).removeTile(Se)),this.actor.registerMessageHandler("removeSource",(ve,Se)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[ve]||!this.workerSources[ve][Se.type]||!this.workerSources[ve][Se.type][Se.source])return;const Re=this.workerSources[ve][Se.type][Se.source];delete this.workerSources[ve][Se.type][Se.source],Re.removeSource!==void 0&&Re.removeSource(Se)})),this.actor.registerMessageHandler("setReferrer",(ve,Se)=>s._(this,void 0,void 0,function*(){this.referrer=Se})),this.actor.registerMessageHandler("syncRTLPluginState",(ve,Se)=>this._syncRTLPluginState(ve,Se)),this.actor.registerMessageHandler("importScript",(ve,Se)=>s._(this,void 0,void 0,function*(){this.self.importScripts(Se)})),this.actor.registerMessageHandler("setImages",(ve,Se)=>this._setImages(ve,Se)),this.actor.registerMessageHandler("updateLayers",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).update(Se.layers,Se.removedIds)})),this.actor.registerMessageHandler("setLayers",(ve,Se)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).replace(Se)}))}_setImages(de,ve){return s._(this,void 0,void 0,function*(){this.availableImages[de]=ve;for(const Se in this.workerSources[de]){const Re=this.workerSources[de][Se];for(const Xe in Re)Re[Xe].availableImages=ve}})}_syncRTLPluginState(de,ve){return s._(this,void 0,void 0,function*(){s.bz.setState(ve);const Se=s.bz.getPluginURL();if(ve.pluginStatus==="loaded"&&!s.bz.isParsed()&&Se!=null){this.self.importScripts(Se);const Re=s.bz.isParsed();if(Re)return Re;throw new Error(`RTL Text Plugin failed to import scripts from ${Se}`)}return!1})}_getAvailableImages(de){let ve=this.availableImages[de];return ve||(ve=[]),ve}_getLayerIndex(de){let ve=this.layerIndexes[de];return ve||(ve=this.layerIndexes[de]=new a),ve}_getWorkerSource(de,ve,Se){if(this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][ve]||(this.workerSources[de][ve]={}),!this.workerSources[de][ve][Se]){const Re={sendAsync:(Xe,at)=>(Xe.targetMapId=de,this.actor.sendAsync(Xe,at))};switch(ve){case"vector":this.workerSources[de][ve][Se]=new B(Re,this._getLayerIndex(de),this._getAvailableImages(de));break;case"geojson":this.workerSources[de][ve][Se]=new Ur(Re,this._getLayerIndex(de),this._getAvailableImages(de));break;default:this.workerSources[de][ve][Se]=new this.externalWorkerSourceTypes[ve](Re,this._getLayerIndex(de),this._getAvailableImages(de))}}return this.workerSources[de][ve][Se]}_getDEMWorkerSource(de,ve){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][ve]||(this.demWorkerSources[de][ve]=new k),this.demWorkerSources[de][ve]}}return s.i(self)&&(self.worker=new Wn(self)),Wn}),i("index",["exports","./shared"],function(s,a){var p="4.0.0";let g,b;const B={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:O=>new Promise((u,f)=>{const C=requestAnimationFrame(u);O.signal.addEventListener("abort",()=>{cancelAnimationFrame(C),f(a.c())})}),getImageData(O,u=0){return this.getImageCanvasContext(O).getImageData(-u,-u,O.width+2*u,O.height+2*u)},getImageCanvasContext(O){const u=window.document.createElement("canvas"),f=u.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return u.width=O.width,u.height=O.height,f.drawImage(O,0,0,O.width,O.height),f},resolveURL:O=>(g||(g=document.createElement("a")),g.href=O,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(b==null&&(b=matchMedia("(prefers-reduced-motion: reduce)")),b.matches)}};class k{static testProp(u){if(!k.docStyle)return u[0];for(let f=0;f<u.length;f++)if(u[f]in k.docStyle)return u[f];return u[0]}static create(u,f,C){const M=window.document.createElement(u);return f!==void 0&&(M.className=f),C&&C.appendChild(M),M}static createNS(u,f){return window.document.createElementNS(u,f)}static disableDrag(){k.docStyle&&k.selectProp&&(k.userSelect=k.docStyle[k.selectProp],k.docStyle[k.selectProp]="none")}static enableDrag(){k.docStyle&&k.selectProp&&(k.docStyle[k.selectProp]=k.userSelect)}static setTransform(u,f){u.style[k.transformProp]=f}static addEventListener(u,f,C,M={}){u.addEventListener(f,C,"passive"in M?M:M.capture)}static removeEventListener(u,f,C,M={}){u.removeEventListener(f,C,"passive"in M?M:M.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",k.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",k.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",k.suppressClickInternal,!0)},0)}static getScale(u){const f=u.getBoundingClientRect();return{x:f.width/u.offsetWidth||1,y:f.height/u.offsetHeight||1,boundingClientRect:f}}static getPoint(u,f,C){const M=f.boundingClientRect;return new a.P((C.clientX-M.left)/f.x-u.clientLeft,(C.clientY-M.top)/f.y-u.clientTop)}static mousePos(u,f){const C=k.getScale(u);return k.getPoint(u,C,f)}static touchPos(u,f){const C=[],M=k.getScale(u);for(let I=0;I<f.length;I++)C.push(k.getPoint(u,M,f[I]));return C}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}k.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,k.selectProp=k.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),k.transformProp=k.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(O){!W&&Z&&(Q?q(O):R=O)}};let R,Z,W=!1,Q=!1;function q(O){const u=O.createTexture();O.bindTexture(O.TEXTURE_2D,u);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,Z),O.isContextLost())return;P.supported=!0}catch{}O.deleteTexture(u),W=!0}var oe,re;typeof document<"u"&&(Z=document.createElement("img"),Z.onload=function(){R&&q(R),R=null,Q=!0},Z.onerror=function(){W=!0,R=null},Z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(O){let u,f,C,M;O.resetRequestQueue=()=>{u=[],f=0,C=0,M={}},O.addThrottleControl=G=>{const te=C++;return M[te]=G,te},O.removeThrottleControl=G=>{delete M[G],L()},O.getImage=(G,te,ue=!0)=>new Promise((fe,Ee)=>{P.supported&&(G.headers||(G.headers={}),G.headers.accept="image/webp,*/*"),a.e(G,{type:"image"}),u.push({abortController:te,requestParameters:G,supportImageRefresh:ue,state:"queued",onError:ze=>{Ee(ze)},onSuccess:ze=>{fe(ze)}}),L()});const I=G=>a._(this,void 0,void 0,function*(){G.state="running";const{requestParameters:te,supportImageRefresh:ue,onError:fe,onSuccess:Ee,abortController:ze}=G,Fe=ue===!1&&!a.i(self)&&!a.g(te.url)&&(!te.headers||Object.keys(te.headers).reduce((ct,Ot)=>ct&&Ot==="accept",!0));f++;const Ge=Fe?j(te,ze):a.m(te,ze);try{const ct=yield Ge;delete G.abortController,G.state="completed",ct.data instanceof HTMLImageElement||a.b(ct.data)?Ee(ct):ct.data&&Ee({data:yield(je=ct.data,typeof createImageBitmap=="function"?a.d(je):a.f(je)),cacheControl:ct.cacheControl,expires:ct.expires})}catch(ct){delete G.abortController,fe(ct)}finally{f--,L()}var je}),L=()=>{const G=(()=>{for(const te of Object.keys(M))if(M[te]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let te=f;te<G&&u.length>0;te++){const ue=u.shift();ue.abortController.signal.aborted?te--:I(ue)}},j=(G,te)=>new Promise((ue,fe)=>{const Ee=new Image,ze=G.url,Fe=G.credentials;Fe&&Fe==="include"?Ee.crossOrigin="use-credentials":(Fe&&Fe==="same-origin"||!a.s(ze))&&(Ee.crossOrigin="anonymous"),te.signal.addEventListener("abort",()=>{Ee.src="",fe(a.c())}),Ee.fetchPriority="high",Ee.onload=()=>{Ee.onerror=Ee.onload=null,ue({data:Ee})},Ee.onerror=()=>{Ee.onerror=Ee.onload=null,te.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ee.src=ze})}(oe||(oe={})),oe.resetRequestQueue(),function(O){O.Glyphs="Glyphs",O.Image="Image",O.Source="Source",O.SpriteImage="SpriteImage",O.SpriteJSON="SpriteJSON",O.Style="Style",O.Tile="Tile",O.Unknown="Unknown"}(re||(re={}));class ce{constructor(u){this._transformRequestFn=u}transformRequest(u,f){return this._transformRequestFn&&this._transformRequestFn(u,f)||{url:u}}normalizeSpriteURL(u,f,C){const M=function(I){const L=I.match(se);if(!L)throw new Error(`Unable to parse URL "${I}"`);return{protocol:L[1],authority:L[2],path:L[3]||"/",params:L[4]?L[4].split("&"):[]}}(u);return M.path+=`${f}${C}`,function(I){const L=I.params.length?`?${I.params.join("&")}`:"";return`${I.protocol}://${I.authority}${I.path}${L}`}(M)}setTransformRequest(u){this._transformRequestFn=u}}const se=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function le(O){var u=new a.A(3);return u[0]=O[0],u[1]=O[1],u[2]=O[2],u}var ye,De=function(O,u,f){return O[0]=u[0]-f[0],O[1]=u[1]-f[1],O[2]=u[2]-f[2],O};ye=new a.A(3),a.A!=Float32Array&&(ye[0]=0,ye[1]=0,ye[2]=0);var Ne=function(O){var u=O[0],f=O[1];return u*u+f*f};function et(O){const u=[];if(typeof O=="string")u.push({id:"default",url:O});else if(O&&O.length>0){const f=[];for(const{id:C,url:M}of O){const I=`${C}${M}`;f.indexOf(I)===-1&&(f.push(I),u.push({id:C,url:M}))}}return u}(function(){var O=new a.A(2);a.A!=Float32Array&&(O[0]=0,O[1]=0)})();class ft{constructor(u,f,C,M){this.context=u,this.format=C,this.texture=u.gl.createTexture(),this.update(f,M)}update(u,f,C){const{width:M,height:I}=u,L=!(this.size&&this.size[0]===M&&this.size[1]===I||C),{context:j}=this,{gl:G}=j;if(this.useMipmap=!!(f&&f.useMipmap),G.bindTexture(G.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===G.RGBA&&(!f||f.premultiply!==!1)),L)this.size=[M,I],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.b(u)?G.texImage2D(G.TEXTURE_2D,0,this.format,this.format,G.UNSIGNED_BYTE,u):G.texImage2D(G.TEXTURE_2D,0,this.format,M,I,0,this.format,G.UNSIGNED_BYTE,u.data);else{const{x:te,y:ue}=C||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.b(u)?G.texSubImage2D(G.TEXTURE_2D,0,te,ue,G.RGBA,G.UNSIGNED_BYTE,u):G.texSubImage2D(G.TEXTURE_2D,0,te,ue,M,I,G.RGBA,G.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&G.generateMipmap(G.TEXTURE_2D)}bind(u,f,C){const{context:M}=this,{gl:I}=M;I.bindTexture(I.TEXTURE_2D,this.texture),C!==I.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(C=I.LINEAR),u!==this.filter&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,u),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,C||u),this.filter=u),f!==this.wrap&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,f),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function Ke(O){const{userImage:u}=O;return!!(u&&u.render&&u.render())&&(O.data.replace(new Uint8Array(u.data.buffer)),!0)}class rt extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:f,promiseResolve:C}of this.requestors)C(this._getImagesForIds(f));this.requestors=[]}}getImage(u){const f=this.images[u];if(f&&!f.data&&f.spriteData){const C=f.spriteData;f.data=new a.R({width:C.width,height:C.height},C.context.getImageData(C.x,C.y,C.width,C.height).data),f.spriteData=null}return f}addImage(u,f){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,f)&&(this.images[u]=f)}_validate(u,f){let C=!0;const M=f.data||f.spriteData;return this._validateStretch(f.stretchX,M&&M.width)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "stretchX" value`))),C=!1),this._validateStretch(f.stretchY,M&&M.height)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "stretchY" value`))),C=!1),this._validateContent(f.content,f)||(this.fire(new a.j(new Error(`Image "${u}" has invalid "content" value`))),C=!1),C}_validateStretch(u,f){if(!u)return!0;let C=0;for(const M of u){if(M[0]<C||M[1]<M[0]||f<M[1])return!1;C=M[1]}return!0}_validateContent(u,f){if(!u)return!0;if(u.length!==4)return!1;const C=f.spriteData,M=C&&C.width||f.data.width,I=C&&C.height||f.data.height;return!(u[0]<0||M<u[0]||u[1]<0||I<u[1]||u[2]<0||M<u[2]||u[3]<0||I<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,f,C=!0){const M=this.getImage(u);if(C&&(M.data.width!==f.data.width||M.data.height!==f.data.height))throw new Error(`size mismatch between old image (${M.data.width}x${M.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=M.version+1,this.images[u]=f,this.updatedImages[u]=!0}removeImage(u){const f=this.images[u];delete this.images[u],delete this.patterns[u],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise((f,C)=>{let M=!0;if(!this.isLoaded())for(const I of u)this.images[I]||(M=!1);this.isLoaded()||M?f(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:f})})}_getImagesForIds(u){const f={};for(const C of u){let M=this.getImage(C);M||(this.fire(new a.k("styleimagemissing",{id:C})),M=this.getImage(C)),M?f[C]={data:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:!!(M.userImage&&M.userImage.render)}:a.w(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:u,height:f}=this.atlasImage;return{width:u,height:f}}getPattern(u){const f=this.patterns[u],C=this.getImage(u);if(!C)return null;if(f&&f.position.version===C.version)return f.position;if(f)f.position.version=C.version;else{const M={w:C.data.width+2,h:C.data.height+2,x:0,y:0},I=new a.I(M,C);this.patterns[u]={bin:M,position:I}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const f=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ft(u,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const I in this.patterns)u.push(this.patterns[I].bin);const{w:f,h:C}=a.p(u),M=this.atlasImage;M.resize({width:f||1,height:C||1});for(const I in this.patterns){const{bin:L}=this.patterns[I],j=L.x+1,G=L.y+1,te=this.getImage(I).data,ue=te.width,fe=te.height;a.R.copy(te,M,{x:0,y:0},{x:j,y:G},{width:ue,height:fe}),a.R.copy(te,M,{x:0,y:fe-1},{x:j,y:G-1},{width:ue,height:1}),a.R.copy(te,M,{x:0,y:0},{x:j,y:G+fe},{width:ue,height:1}),a.R.copy(te,M,{x:ue-1,y:0},{x:j-1,y:G},{width:1,height:fe}),a.R.copy(te,M,{x:0,y:0},{x:j+ue,y:G},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const f of u){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const C=this.getImage(f);C||a.w(`Image with ID: "${f}" was not found`),Ke(C)&&this.updateImage(f,C)}}}const Ce=1e20;function Rt(O,u,f,C,M,I,L,j,G){for(let te=u;te<u+C;te++)jt(O,f*I+te,I,M,L,j,G);for(let te=f;te<f+M;te++)jt(O,te*I+u,1,C,L,j,G)}function jt(O,u,f,C,M,I,L){I[0]=0,L[0]=-Ce,L[1]=Ce,M[0]=O[u];for(let j=1,G=0,te=0;j<C;j++){M[j]=O[u+j*f];const ue=j*j;do{const fe=I[G];te=(M[j]-M[fe]+ue-fe*fe)/(j-fe)/2}while(te<=L[G]&&--G>-1);G++,I[G]=j,L[G]=te,L[G+1]=Ce}for(let j=0,G=0;j<C;j++){for(;L[G+1]<j;)G++;const te=I[G],ue=j-te;O[u+j*f]=M[te]+ue*ue}}class tn{constructor(u,f){this.requestManager=u,this.localIdeographFontFamily=f,this.entries={}}setURL(u){this.url=u}getGlyphs(u){return a._(this,void 0,void 0,function*(){const f=[];for(const I in u)for(const L of u[I])f.push(this._getAndCacheGlyphsPromise(I,L));const C=yield Promise.all(f),M={};for(const{stack:I,id:L,glyph:j}of C)M[I]||(M[I]={}),M[I][L]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};return M})}_getAndCacheGlyphsPromise(u,f){return a._(this,void 0,void 0,function*(){let C=this.entries[u];C||(C=this.entries[u]={glyphs:{},requests:{},ranges:{}});let M=C.glyphs[f];if(M!==void 0)return{stack:u,id:f,glyph:M};if(M=this._tinySDF(C,u,f),M)return C.glyphs[f]=M,{stack:u,id:f,glyph:M};const I=Math.floor(f/256);if(256*I>65535)throw new Error("glyphs > 65535 not supported");if(C.ranges[I])return{stack:u,id:f,glyph:M};if(!this.url)throw new Error("glyphsUrl is not set");if(!C.requests[I]){const j=tn.loadGlyphRange(u,I,this.url,this.requestManager);C.requests[I]=j}const L=yield C.requests[I];for(const j in L)this._doesCharSupportLocalGlyph(+j)||(C.glyphs[+j]=L[+j]);return C.ranges[I]=!0,{stack:u,id:f,glyph:L[f]||null}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](u)||a.u["Hangul Syllables"](u)||a.u.Hiragana(u)||a.u.Katakana(u))}_tinySDF(u,f,C){const M=this.localIdeographFontFamily;if(!M||!this._doesCharSupportLocalGlyph(C))return;let I=u.tinySDF;if(!I){let j="400";/bold/i.test(f)?j="900":/medium/i.test(f)?j="500":/light/i.test(f)&&(j="200"),I=u.tinySDF=new tn.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:M,fontWeight:j})}const L=I.draw(String.fromCharCode(C));return{id:C,bitmap:new a.o({width:L.width||60,height:L.height||60},L.data),metrics:{width:L.glyphWidth/2||24,height:L.glyphHeight/2||24,left:L.glyphLeft/2+.5||0,top:L.glyphTop/2-27.5||-8,advance:L.glyphAdvance/2||24,isDoubleResolution:!0}}}}tn.loadGlyphRange=function(O,u,f,C){return a._(this,void 0,void 0,function*(){const M=256*u,I=M+255,L=C.transformRequest(f.replace("{fontstack}",O).replace("{range}",`${M}-${I}`),re.Glyphs),j=yield a.l(L,new AbortController);if(!j||!j.data)throw new Error(`Could not load glyph range. range: ${u}, ${M}-${I}`);const G={};for(const te of a.n(j.data))G[te.id]=te;return G})},tn.TinySDF=class{constructor({fontSize:O=24,buffer:u=3,radius:f=8,cutoff:C=.25,fontFamily:M="sans-serif",fontWeight:I="normal",fontStyle:L="normal"}={}){this.buffer=u,this.cutoff=C,this.radius=f;const j=this.size=O+4*u,G=this._createCanvas(j),te=this.ctx=G.getContext("2d",{willReadFrequently:!0});te.font=`${L} ${I} ${O}px ${M}`,te.textBaseline="alphabetic",te.textAlign="left",te.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(O){const u=document.createElement("canvas");return u.width=u.height=O,u}draw(O){const{width:u,actualBoundingBoxAscent:f,actualBoundingBoxDescent:C,actualBoundingBoxLeft:M,actualBoundingBoxRight:I}=this.ctx.measureText(O),L=Math.ceil(f),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(I-M))),G=Math.min(this.size-this.buffer,L+Math.ceil(C)),te=j+2*this.buffer,ue=G+2*this.buffer,fe=Math.max(te*ue,0),Ee=new Uint8ClampedArray(fe),ze={data:Ee,width:te,height:ue,glyphWidth:j,glyphHeight:G,glyphTop:L,glyphLeft:0,glyphAdvance:u};if(j===0||G===0)return ze;const{ctx:Fe,buffer:Ge,gridInner:je,gridOuter:ct}=this;Fe.clearRect(Ge,Ge,j,G),Fe.fillText(O,Ge,Ge+L);const Ot=Fe.getImageData(Ge,Ge,j,G);ct.fill(Ce,0,fe),je.fill(0,0,fe);for(let Ye=0;Ye<G;Ye++)for(let Ct=0;Ct<j;Ct++){const Gt=Ot.data[4*(Ye*j+Ct)+3]/255;if(Gt===0)continue;const It=(Ye+Ge)*te+Ct+Ge;if(Gt===1)ct[It]=0,je[It]=Ce;else{const Jt=.5-Gt;ct[It]=Jt>0?Jt*Jt:0,je[It]=Jt<0?Jt*Jt:0}}Rt(ct,0,0,te,ue,te,this.f,this.v,this.z),Rt(je,Ge,Ge,j,G,te,this.f,this.v,this.z);for(let Ye=0;Ye<fe;Ye++){const Ct=Math.sqrt(ct[Ye])-Math.sqrt(je[Ye]);Ee[Ye]=Math.round(255-255*(Ct/this.radius+this.cutoff))}return ze}};class Qt{constructor(){this.specification=a.v.light.position}possiblyEvaluate(u,f){return a.y(u.expression.evaluate(f))}interpolate(u,f,C){return{x:a.z.number(u.x,f.x,C),y:a.z.number(u.y,f.y,C),z:a.z.number(u.z,f.z,C)}}}let He;class Je extends a.E{constructor(u){super(),He=He||new a.q({anchor:new a.D(a.v.light.anchor),position:new Qt,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(He),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,f={}){if(!this._validate(a.r,u,f))for(const C in u){const M=u[C];C.endsWith("-transition")?this._transitionable.setTransition(C.slice(0,-11),M):this._transitionable.setValue(C,M)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,f,C){return(!C||C.validate!==!1)&&a.t(this,u.call(a.x,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}class tt{constructor(u,f){this.width=u,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,f){const C=u.join(",")+String(f);return this.dashEntry[C]||(this.dashEntry[C]=this.addDash(u,f)),this.dashEntry[C]}getDashRanges(u,f,C){const M=[];let I=u.length%2==1?-u[u.length-1]*C:0,L=u[0]*C,j=!0;M.push({left:I,right:L,isDash:j,zeroLength:u[0]===0});let G=u[0];for(let te=1;te<u.length;te++){j=!j;const ue=u[te];I=G*C,G+=ue,L=G*C,M.push({left:I,right:L,isDash:j,zeroLength:ue===0})}return M}addRoundDash(u,f,C){const M=f/2;for(let I=-C;I<=C;I++){const L=this.width*(this.nextRow+C+I);let j=0,G=u[j];for(let te=0;te<this.width;te++){te/G.right>1&&(G=u[++j]);const ue=Math.abs(te-G.left),fe=Math.abs(te-G.right),Ee=Math.min(ue,fe);let ze;const Fe=I/C*(M+1);if(G.isDash){const Ge=M-Math.abs(Fe);ze=Math.sqrt(Ee*Ee+Ge*Ge)}else ze=M-Math.sqrt(Ee*Ee+Fe*Fe);this.data[L+te]=Math.max(0,Math.min(255,ze+128))}}}addRegularDash(u){for(let j=u.length-1;j>=0;--j){const G=u[j],te=u[j+1];G.zeroLength?u.splice(j,1):te&&te.isDash===G.isDash&&(te.left=G.left,u.splice(j,1))}const f=u[0],C=u[u.length-1];f.isDash===C.isDash&&(f.left=C.left-this.width,C.right=f.right+this.width);const M=this.width*this.nextRow;let I=0,L=u[I];for(let j=0;j<this.width;j++){j/L.right>1&&(L=u[++I]);const G=Math.abs(j-L.left),te=Math.abs(j-L.right),ue=Math.min(G,te);this.data[M+j]=Math.max(0,Math.min(255,(L.isDash?ue:-ue)+128))}}addDash(u,f){const C=f?7:0,M=2*C+1;if(this.nextRow+M>this.height)return a.w("LineAtlas out of space"),null;let I=0;for(let j=0;j<u.length;j++)I+=u[j];if(I!==0){const j=this.width/I,G=this.getDashRanges(u,this.width,j);f?this.addRoundDash(G,j,C):this.addRegularDash(G)}const L={y:(this.nextRow+C+.5)/this.height,height:2*C/this.height,width:I};return this.nextRow+=M,this.dirty=!0,L}bind(u){const f=u.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const rn="maplibre_preloaded_worker_pool";class mt{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<mt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[rn]}numActive(){return Object.keys(this.active).length}}const dt=Math.floor(B.hardwareConcurrency/2);let kt,Pt;function Me(){return kt||(kt=new mt),kt}mt.workerCount=a.B(globalThis)?Math.max(Math.min(dt,3),1):1;class he{constructor(u,f){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=f;const C=this.workerPool.acquire(f);for(let M=0;M<C.length;M++){const I=new a.C(C[M],f);I.name=`Worker ${M}`,this.actors.push(I)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,f){const C=[];for(const M of this.actors)C.push(M.sendAsync({type:u,data:f}));return Promise.all(C)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,f){for(const C of this.actors)C.registerMessageHandler(u,f)}}function be(){return Pt||(Pt=new he(Me(),a.G),Pt.registerMessageHandler("getResource",(O,u,f)=>a.m(u,f))),Pt}function Pe(O,u){const f=a.F();return a.H(f,f,[1,1,0]),a.J(f,f,[.5*O.width,.5*O.height,1]),a.K(f,f,O.calculatePosMatrix(u.toUnwrapped()))}function Ze(O,u,f,C,M,I){const L=function(fe,Ee,ze){if(fe)for(const Fe of fe){const Ge=Ee[Fe];if(Ge&&Ge.source===ze&&Ge.type==="fill-extrusion")return!0}else for(const Fe in Ee){const Ge=Ee[Fe];if(Ge.source===ze&&Ge.type==="fill-extrusion")return!0}return!1}(M&&M.layers,u,O.id),j=I.maxPitchScaleFactor(),G=O.tilesIn(C,j,L);G.sort(nt);const te=[];for(const fe of G)te.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(u,f,O._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,M,I,j,Pe(O.transform,fe.tileID))});const ue=function(fe){const Ee={},ze={};for(const Fe of fe){const Ge=Fe.queryResults,je=Fe.wrappedTileID,ct=ze[je]=ze[je]||{};for(const Ot in Ge){const Ye=Ge[Ot],Ct=ct[Ot]=ct[Ot]||{},Gt=Ee[Ot]=Ee[Ot]||[];for(const It of Ye)Ct[It.featureIndex]||(Ct[It.featureIndex]=!0,Gt.push(It))}}return Ee}(te);for(const fe in ue)ue[fe].forEach(Ee=>{const ze=Ee.feature,Fe=O.getFeatureState(ze.layer["source-layer"],ze.id);ze.source=ze.layer.source,ze.layer["source-layer"]&&(ze.sourceLayer=ze.layer["source-layer"]),ze.state=Fe});return ue}function nt(O,u){const f=O.tileID,C=u.tileID;return f.overscaledZ-C.overscaledZ||f.canonical.y-C.canonical.y||f.wrap-C.wrap||f.canonical.x-C.canonical.x}function xt(O,u,f){return a._(this,void 0,void 0,function*(){let C=O;if(O.url?C=(yield a.h(u.transformRequest(O.url,re.Source),f)).data:yield B.frameAsync(f),!C)return null;const M=a.L(a.e(C,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in C&&C.vector_layers&&(M.vectorLayerIds=C.vector_layers.map(I=>I.id)),M})}class Ft{constructor(u,f){u&&(f?this.setSouthWest(u).setNorthEast(f):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof a.M?new a.M(u.lng,u.lat):a.M.convert(u),this}setSouthWest(u){return this._sw=u instanceof a.M?new a.M(u.lng,u.lat):a.M.convert(u),this}extend(u){const f=this._sw,C=this._ne;let M,I;if(u instanceof a.M)M=u,I=u;else{if(!(u instanceof Ft))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(Ft.convert(u)):this.extend(a.M.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(a.M.convert(u)):this;if(M=u._sw,I=u._ne,!M||!I)return this}return f||C?(f.lng=Math.min(M.lng,f.lng),f.lat=Math.min(M.lat,f.lat),C.lng=Math.max(I.lng,C.lng),C.lat=Math.max(I.lat,C.lat)):(this._sw=new a.M(M.lng,M.lat),this._ne=new a.M(I.lng,I.lat)),this}getCenter(){return new a.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.M(this.getWest(),this.getNorth())}getSouthEast(){return new a.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:f,lat:C}=a.M.convert(u);let M=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(M=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=C&&C<=this._ne.lat&&M}static convert(u){return u instanceof Ft?u:u&&new Ft(u)}static fromLngLat(u,f=0){const C=360*f/40075017,M=C/Math.cos(Math.PI/180*u.lat);return new Ft(new a.M(u.lng-M,u.lat-C),new a.M(u.lng+M,u.lat+C))}}class Dt{constructor(u,f,C){this.bounds=Ft.convert(this.validateBounds(u)),this.minzoom=f||0,this.maxzoom=C||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const f=Math.pow(2,u.z),C=Math.floor(a.N(this.bounds.getWest())*f),M=Math.floor(a.O(this.bounds.getNorth())*f),I=Math.ceil(a.N(this.bounds.getEast())*f),L=Math.ceil(a.O(this.bounds.getSouth())*f);return u.x>=C&&u.x<I&&u.y>=M&&u.y<L}}class pt extends a.E{constructor(u,f,C,M){if(super(),this.id=u,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.L(f,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(M)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield xt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new a.j(u))}})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(u){return a._(this,void 0,void 0,function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C={request:this.map._requestManager.transformRequest(f,re.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};C.request.collectResourceTiming=this._collectResourceTiming;let M="reloadTile";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise((I,L)=>{u.reloadPromise={resolve:I,reject:L}})}else u.actor=this.dispatcher.getActor(),M="loadTile";u.abortController=new AbortController;try{const I=yield u.actor.sendAsync({type:M,data:C},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,I)}catch(I){if(delete u.abortController,u.aborted)return;if(I&&I.status!==404)throw I;this._afterTileLoadWorkerResponse(u,null)}})}_afterTileLoadWorkerResponse(u,f){if(f&&f.resourceTiming&&(u.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&u.setExpiryData(f),u.loadVectorData(f,this.map.painter),u.reloadPromise){const C=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(C.resolve).catch(C.reject)}}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"abortTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class nr extends a.E{constructor(u,f,C,M){super(),this.id=u,this.dispatcher=C,this.setEventedParent(M),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},f),a.e(this,a.L(f,["url","scheme","tileSize"]))}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield xt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new a.j(u))}})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}serialize(){return a.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return a._(this,void 0,void 0,function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const C=yield oe.getImage(this.map._requestManager.transformRequest(f,re.Tile),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(C&&C.data){this.map._refreshExpiredTiles&&C.cacheControl&&C.expires&&u.setExpiryData({cacheControl:C.cacheControl,expires:C.expires});const M=this.map.painter.context,I=M.gl,L=C.data;u.texture=this.map.painter.getTileTexture(L.width),u.texture?u.texture.update(L,{useMipmap:!0}):(u.texture=new ft(M,L,I.RGBA,{useMipmap:!0}),u.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),M.extTextureFilterAnisotropic&&I.texParameterf(I.TEXTURE_2D,M.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,M.extTextureFilterAnisotropicMax)),u.state="loaded"}}catch(C){if(delete u.abortController,u.aborted)u.state="unloaded";else if(C)throw u.state="errored",C}})}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)})}hasTransition(){return!1}}class pn extends nr{constructor(u,f,C,M){super(u,f,C,M),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(u){return a._(this,void 0,void 0,function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C=this.map._requestManager.transformRequest(f,re.Tile);u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const M=yield oe.getImage(C,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(M&&M.data){const I=M.data;this.map._refreshExpiredTiles&&M.cacheControl&&M.expires&&u.setExpiryData({cacheControl:M.cacheControl,expires:M.expires});const L=a.b(I)&&a.S()?I:yield this.readImageNow(I),j={type:this.type,uid:u.uid,source:this.id,rawImageData:L,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const G=yield u.actor.sendAsync({type:"loadDEMTile",data:j});u.dem=G,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(M){if(delete u.abortController,u.aborted)u.state="unloaded";else if(M)throw u.state="errored",M}})}readImageNow(u){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.U()){const f=u.width+2,C=u.height+2;try{return new a.R({width:f,height:C},yield a.V(u,-1,-1,f,C))}catch{}}return B.getImageData(u,1)})}_getNeighboringTiles(u){const f=u.canonical,C=Math.pow(2,f.z),M=(f.x-1+C)%C,I=f.x===0?u.wrap-1:u.wrap,L=(f.x+1+C)%C,j=f.x+1===C?u.wrap+1:u.wrap,G={};return G[new a.Q(u.overscaledZ,I,f.z,M,f.y).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,f.z,L,f.y).key]={backfilled:!1},f.y>0&&(G[new a.Q(u.overscaledZ,I,f.z,M,f.y-1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,u.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,f.z,L,f.y-1).key]={backfilled:!1}),f.y+1<C&&(G[new a.Q(u.overscaledZ,I,f.z,M,f.y+1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,u.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},G[new a.Q(u.overscaledZ,j,f.z,L,f.y+1).key]={backfilled:!1}),G}unloadTile(u){return a._(this,void 0,void 0,function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:u.uid,source:this.id}}))})}}class bn extends a.E{constructor(u,f,C,M){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=C.getActor(),this.setEventedParent(M),this._data=f.data,this._options=a.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const I=a.W/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*I,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*I,extent:a.W,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:a.W,radius:(f.clusterRadius||50)*I,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData(),this}updateData(u){return this._updateWorkerData(u),this}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u&&(u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=u.clusterRadius),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=u.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,f,C){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:u,limit:f,offset:C}})}_updateWorkerData(u){return a._(this,void 0,void 0,function*(){const f=a.e({type:this.type},this.workerOptions);u?f.dataDiff=u:typeof this._data=="string"?(f.request=this.map._requestManager.transformRequest(B.resolveURL(this._data),re.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"}));try{const C=yield this.actor.sendAsync({type:"loadData",data:f});if(this._pendingLoads--,this._removed||C.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let M=null;C.resourceTiming&&C.resourceTiming[this.id]&&(M=C.resourceTiming[this.id].slice(0));const I={dataType:"source"};this._collectResourceTiming&&M&&M.length>0&&a.e(I,{resourceTiming:M}),this.fire(new a.k("data",Object.assign(Object.assign({},I),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},I),{sourceDataType:"content"})))}catch(C){if(this._pendingLoads--,this._removed)return void this.fire(new a.k("dataabort",{dataType:"source"}));this.fire(new a.j(C))}})}loaded(){return this._pendingLoads===0}loadTile(u){return a._(this,void 0,void 0,function*(){const f=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const C={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.abortController=new AbortController;const M=yield this.actor.sendAsync({type:f,data:C},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(M,this.map.painter,f==="reloadTile")})}abortTile(u){return a._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0})}unloadTile(u){return a._(this,void 0,void 0,function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Jn=a.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class mr extends a.E{constructor(u,f,C,M){super(),this.id=u,this.dispatcher=C,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(M),this.options=f}load(u){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield oe.getImage(this.map._requestManager.transformRequest(this.url,re.Image),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,u&&(this.coordinates=u),this._finishLoading())}catch(f){this._request=null,this.fire(new a.j(f))}})}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const f=u.map(a.Y.fromLngLat);this.tileID=function(M){let I=1/0,L=1/0,j=-1/0,G=-1/0;for(const Ee of M)I=Math.min(I,Ee.x),L=Math.min(L,Ee.y),j=Math.max(j,Ee.x),G=Math.max(G,Ee.y);const te=Math.max(j-I,G-L),ue=Math.max(0,Math.floor(-Math.log(te)/Math.LN2)),fe=Math.pow(2,ue);return new a.a0(ue,Math.floor((I+j)/2*fe),Math.floor((L+G)/2*fe))}(f),this.minzoom=this.maxzoom=this.tileID.z;const C=f.map(M=>this.tileID.getTilePoint(M)._round());return this._boundsArray=new a.Z,this._boundsArray.emplaceBack(C[0].x,C[0].y,0,0),this._boundsArray.emplaceBack(C[1].x,C[1].y,a.W,0),this._boundsArray.emplaceBack(C[3].x,C[3].y,0,a.W),this._boundsArray.emplaceBack(C[2].x,C[2].y,a.W,a.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,f=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ft(u,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let C=!1;for(const M in this.tiles){const I=this.tiles[M];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,C=!0)}C&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class xr extends mr{constructor(u,f,C,M){super(u,f,C,M),this.roundZoom=!0,this.type="video",this.options=f}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const f of u.urls)this.urls.push(this.map._requestManager.transformRequest(f,re.Source).url);try{const f=yield a.a2(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new a.j(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const f=this.video.seekable;u<f.start(0)||u>f.end(0)?this.fire(new a.j(new a.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,f=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new ft(u,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let C=!1;for(const M in this.tiles){const I=this.tiles[M];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,C=!0)}C&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Nr extends mr{constructor(u,f,C,M){super(u,f,C,M),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(L=>typeof L!="number"))||this.fire(new a.j(new a.a1(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.a1(`sources.${u}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new a.j(new a.a1(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.a1(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.a1(`sources.${u}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,C=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=a.$.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ft(f,this.canvas,C.RGBA,{premultiply:!0});let M=!1;for(const I in this.tiles){const L=this.tiles[I];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,M=!0)}M&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const Cr={},fi=O=>{switch(O){case"geojson":return bn;case"image":return mr;case"raster":return nr;case"raster-dem":return pn;case"vector":return pt;case"video":return xr;case"canvas":return Nr}return Cr[O]};class we extends a.E{constructor(){super(...arguments),this.pluginStatus="unavailable",this.pluginURL=null,this.dispatcher=be(),this.queue=[]}_sendPluginStateToWorker(){return a._(this,void 0,void 0,function*(){yield this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}),this.fire(new a.k("pluginStateChange",{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}))})}getRTLTextPluginStatus(){return this.pluginStatus}clearRTLTextPlugin(){this.pluginStatus="unavailable",this.pluginURL=null}setRTLTextPlugin(u,f=!1){return a._(this,void 0,void 0,function*(){if(this.pluginStatus==="deferred"||this.pluginStatus==="loading"||this.pluginStatus==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");this.pluginURL=B.resolveURL(u),this.pluginStatus="deferred",yield this._sendPluginStateToWorker(),f||(yield this._downloadRTLTextPlugin())})}_downloadRTLTextPlugin(){return a._(this,void 0,void 0,function*(){if(this.pluginStatus!=="deferred"||!this.pluginURL)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");try{this.pluginStatus="loading",yield this._sendPluginStateToWorker(),yield a.l({url:this.pluginURL},new AbortController),this.pluginStatus="loaded"}catch{this.pluginStatus="error"}yield this._sendPluginStateToWorker()})}lazyLoadRTLTextPlugin(){return a._(this,void 0,void 0,function*(){this.pluginStatus==="deferred"&&(yield this._downloadRTLTextPlugin())})}}let H=null;function Y(){return H||(H=new we),H}class Be{constructor(u,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=u,this.uid=a.a3(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const f=u+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,f,C){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(M,I){const L={};if(!I)return L;for(const j of M){const G=j.layerIds.map(te=>I.getLayer(te)).filter(Boolean);if(G.length!==0){j.layers=G,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(te=>G.filter(ue=>ue.id===te)[0]));for(const te of G)L[te.id]=j}}return L}(u.buckets,f.style),this.hasSymbolBuckets=!1;for(const M in this.buckets){const I=this.buckets[M];if(I instanceof a.a5){if(this.hasSymbolBuckets=!0,!C)break;I.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const M in this.buckets){const I=this.buckets[M];if(I instanceof a.a5&&I.hasRTLText){this.hasRTLText=!0,Y().lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const M in this.buckets){const I=this.buckets[M];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(M).queryRadius(I))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new a.a4}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const C in this.buckets){const M=this.buckets[C];M.uploadPending()&&M.upload(u)}const f=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ft(u,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ft(u,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,f,C,M,I,L,j,G,te,ue){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:M,cameraQueryGeometry:I,scale:L,tileSize:this.tileSize,pixelPosMatrix:ue,transform:G,params:j,queryPadding:this.queryPadding*te},u,f,C):{}}querySourceFeatures(u,f){const C=this.latestFeatureIndex;if(!C||!C.rawTileData)return;const M=C.loadVTLayers(),I=f&&f.sourceLayer?f.sourceLayer:"",L=M._geojsonTileLayer||M[I];if(!L)return;const j=a.a6(f&&f.filter),{z:G,x:te,y:ue}=this.tileID.canonical,fe={z:G,x:te,y:ue};for(let Ee=0;Ee<L.length;Ee++){const ze=L.feature(Ee);if(j.needGeometry){const je=a.a7(ze,!0);if(!j.filter(new a.a8(this.tileID.overscaledZ),je,this.tileID.canonical))continue}else if(!j.filter(new a.a8(this.tileID.overscaledZ),ze))continue;const Fe=C.getId(ze,I),Ge=new a.a9(ze,G,te,ue,Fe);Ge.tile=fe,u.push(Ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const f=this.expirationTime;if(u.cacheControl){const C=a.aa(u.cacheControl);C["max-age"]&&(this.expirationTime=Date.now()+1e3*C["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const C=Date.now();let M=!1;if(this.expirationTime>C)M=!1;else if(f)if(this.expirationTime<f)M=!0;else{const I=this.expirationTime-f;I?this.expirationTime=C+Math.max(I,3e4):M=!0}else M=!0;M?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const C=this.latestFeatureIndex.loadVTLayers();for(const M in this.buckets){if(!f.style.hasLayer(M))continue;const I=this.buckets[M],L=I.layers[0].sourceLayer||"_geojsonTileLayer",j=C[L],G=u[L];if(!j||!G||Object.keys(G).length===0)continue;I.update(G,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const te=f&&f.style&&f.style.getLayer(M);te&&(this.queryPadding=Math.max(this.queryPadding,te.queryRadius(I)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<B.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=B.now()+u}setDependencies(u,f){const C={};for(const M of f)C[M]=!0;this.dependencies[u]=C}hasDependency(u,f){for(const C of u){const M=this.dependencies[C];if(M){for(const I of f)if(M[I])return!0}}return!1}}class st{constructor(u,f){this.max=u,this.onRemove=f,this.reset()}reset(){for(const u in this.data)for(const f of this.data[u])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(u,f,C){const M=u.wrapped().key;this.data[M]===void 0&&(this.data[M]=[]);const I={value:f,timeout:void 0};if(C!==void 0&&(I.timeout=setTimeout(()=>{this.remove(u,I)},C)),this.data[M].push(I),this.order.push(M),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const f=this.data[u].shift();return f.timeout&&clearTimeout(f.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),f.value}getByKey(u){const f=this.data[u];return f?f[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,f){if(!this.has(u))return this;const C=u.wrapped().key,M=f===void 0?0:this.data[C].indexOf(f),I=this.data[C][M];return this.data[C].splice(M,1),I.timeout&&clearTimeout(I.timeout),this.data[C].length===0&&delete this.data[C],this.onRemove(I.value),this.order.splice(this.order.indexOf(C),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(u){const f=[];for(const C in this.data)for(const M of this.data[C])u(M.value)||f.push(M);for(const C of f)this.remove(C.value.tileID,C)}}class St{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,f,C){const M=String(f);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][M]=this.stateChanges[u][M]||{},a.e(this.stateChanges[u][M],C),this.deletedStates[u]===null){this.deletedStates[u]={};for(const I in this.state[u])I!==M&&(this.deletedStates[u][I]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][M]===null){this.deletedStates[u][M]={};for(const I in this.state[u][M])C[I]||(this.deletedStates[u][M][I]=null)}else for(const I in C)this.deletedStates[u]&&this.deletedStates[u][M]&&this.deletedStates[u][M][I]===null&&delete this.deletedStates[u][M][I]}removeFeatureState(u,f,C){if(this.deletedStates[u]===null)return;const M=String(f);if(this.deletedStates[u]=this.deletedStates[u]||{},C&&f!==void 0)this.deletedStates[u][M]!==null&&(this.deletedStates[u][M]=this.deletedStates[u][M]||{},this.deletedStates[u][M][C]=null);else if(f!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][M])for(C in this.deletedStates[u][M]={},this.stateChanges[u][M])this.deletedStates[u][M][C]=null;else this.deletedStates[u][M]=null;else this.deletedStates[u]=null}getState(u,f){const C=String(f),M=a.e({},(this.state[u]||{})[C],(this.stateChanges[u]||{})[C]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const I=this.deletedStates[u][f];if(I===null)return{};for(const L in I)delete M[L]}return M}initializeTileState(u,f){u.setFeatureState(this.state,f)}coalesceChanges(u,f){const C={};for(const M in this.stateChanges){this.state[M]=this.state[M]||{};const I={};for(const L in this.stateChanges[M])this.state[M][L]||(this.state[M][L]={}),a.e(this.state[M][L],this.stateChanges[M][L]),I[L]=this.state[M][L];C[M]=I}for(const M in this.deletedStates){this.state[M]=this.state[M]||{};const I={};if(this.deletedStates[M]===null)for(const L in this.state[M])I[L]={},this.state[M][L]={};else for(const L in this.deletedStates[M]){if(this.deletedStates[M][L]===null)this.state[M][L]={};else for(const j of Object.keys(this.deletedStates[M][L]))delete this.state[M][L][j];I[L]=this.state[M][L]}C[M]=C[M]||{},a.e(C[M],I)}if(this.stateChanges={},this.deletedStates={},Object.keys(C).length!==0)for(const M in u)u[M].setFeatureState(C,f)}}class Et extends a.E{constructor(u,f,C){super(),this.id=u,this.dispatcher=C,this.on("data",M=>{M.dataType==="source"&&M.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&M.dataType==="source"&&M.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((M,I,L,j)=>{const G=new(fi(I.type))(M,I,L,j);if(G.id!==M)throw new Error(`Expected Source id to be ${M} instead of ${G.id}`);return G})(u,f,C,this),this._tiles={},this._cache=new st(0,M=>this._unloadTile(M)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new St,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const f=this._tiles[u];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,f,C){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,f,C)}catch(M){u.state="errored",M.status!==404?this._source.fire(new a.j(M,{tile:u})):this.update(this.transform,this.terrain)}})}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new a.k("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const C=this._tiles[f];C.upload(u),C.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(Nt).map(u=>u.key)}getRenderableIds(u){const f=[];for(const C in this._tiles)this._isIdRenderable(C,u)&&f.push(this._tiles[C]);return u?f.sort((C,M)=>{const I=C.tileID,L=M.tileID,j=new a.P(I.canonical.x,I.canonical.y)._rotate(this.transform.angle),G=new a.P(L.canonical.x,L.canonical.y)._rotate(this.transform.angle);return I.overscaledZ-L.overscaledZ||G.y-j.y||G.x-j.x}).map(C=>C.tileID.key):f.map(C=>C.tileID).sort(Nt).map(C=>C.key)}hasRenderableParent(u){const f=this.findLoadedParent(u,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(u,f){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(f||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,f){return a._(this,void 0,void 0,function*(){const C=this._tiles[u];C&&(C.state!=="loading"&&(C.state=f),yield this._loadTile(C,u,f))})}_tileLoaded(u,f,C){u.timeAdded=B.now(),C==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(f,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const f=this.getRenderableIds();for(let M=0;M<f.length;M++){const I=f[M];if(u.neighboringTiles&&u.neighboringTiles[I]){const L=this.getTileByID(I);C(u,L),C(L,u)}}function C(M,I){M.needsHillshadePrepare=!0,M.needsTerrainPrepare=!0;let L=I.tileID.canonical.x-M.tileID.canonical.x;const j=I.tileID.canonical.y-M.tileID.canonical.y,G=Math.pow(2,M.tileID.canonical.z),te=I.tileID.key;L===0&&j===0||Math.abs(j)>1||(Math.abs(L)>1&&(Math.abs(L+G)===1?L+=G:Math.abs(L-G)===1&&(L-=G)),I.dem&&M.dem&&(M.dem.backfillBorder(I.dem,L,j),M.neighboringTiles&&M.neighboringTiles[te]&&(M.neighboringTiles[te].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,f,C,M){for(const I in this._tiles){let L=this._tiles[I];if(M[I]||!L.hasData()||L.tileID.overscaledZ<=f||L.tileID.overscaledZ>C)continue;let j=L.tileID;for(;L&&L.tileID.overscaledZ>f+1;){const te=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[te.key],L&&L.hasData()&&(j=te)}let G=j;for(;G.overscaledZ>f;)if(G=G.scaledTo(G.overscaledZ-1),u[G.key]){M[j.key]=j;break}}}findLoadedParent(u,f){if(u.key in this._loadedParentTiles){const C=this._loadedParentTiles[u.key];return C&&C.tileID.overscaledZ>=f?C:null}for(let C=u.overscaledZ-1;C>=f;C--){const M=u.scaledTo(C),I=this._getLoadedTile(M);if(I)return I}}_getLoadedTile(u){const f=this._tiles[u.key];return f&&f.hasData()?f:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const f=Math.ceil(u.width/this._source.tileSize)+1,C=Math.ceil(u.height/this._source.tileSize)+1,M=Math.floor(f*C*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),I=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,M):M;this._cache.setMaxSize(I)}handleWrapJump(u){const f=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,f){const C={};for(const M in this._tiles){const I=this._tiles[M];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+f),C[I.tileID.key]=I}this._tiles=C;for(const M in this._timers)clearTimeout(this._timers[M]),delete this._timers[M];for(const M in this._tiles)this._setTileReloadTimer(M,this._tiles[M])}}update(u,f){if(this.transform=u,this.terrain=f,!this._sourceLoaded||this._paused)return;let C;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?C=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(ue=>new a.Q(ue.canonical.z,ue.wrap,ue.canonical.z,ue.canonical.x,ue.canonical.y)):(C=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f}),this._source.hasTile&&(C=C.filter(ue=>this._source.hasTile(ue)))):C=[];const M=u.coveringZoomLevel(this._source),I=Math.max(M-Et.maxOverzooming,this._source.minzoom),L=Math.max(M+Et.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ue={};for(const fe of C)if(fe.canonical.z>this._source.minzoom){const Ee=fe.scaledTo(fe.canonical.z-1);ue[Ee.key]=Ee;const ze=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));ue[ze.key]=ze}C=C.concat(Object.values(ue))}const j=C.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const G=this._updateRetainedTiles(C,M);if(mn(this._source.type)){const ue={},fe={},Ee=Object.keys(G),ze=B.now();for(const Fe of Ee){const Ge=G[Fe],je=this._tiles[Fe];if(!je||je.fadeEndTime!==0&&je.fadeEndTime<=ze)continue;const ct=this.findLoadedParent(Ge,I);ct&&(this._addTile(ct.tileID),ue[ct.tileID.key]=ct.tileID),fe[Fe]=Ge}this._retainLoadedChildren(fe,M,L,G);for(const Fe in ue)G[Fe]||(this._coveredTiles[Fe]=!0,G[Fe]=ue[Fe]);if(f){const Fe={},Ge={};for(const je of C)this._tiles[je.key].hasData()?Fe[je.key]=je:Ge[je.key]=je;for(const je in Ge){const ct=Ge[je].children(this._source.maxzoom);this._tiles[ct[0].key]&&this._tiles[ct[1].key]&&this._tiles[ct[2].key]&&this._tiles[ct[3].key]&&(Fe[ct[0].key]=G[ct[0].key]=ct[0],Fe[ct[1].key]=G[ct[1].key]=ct[1],Fe[ct[2].key]=G[ct[2].key]=ct[2],Fe[ct[3].key]=G[ct[3].key]=ct[3],delete Ge[je])}for(const je in Ge){const ct=this.findLoadedParent(Ge[je],this._source.minzoom);if(ct){Fe[ct.tileID.key]=G[ct.tileID.key]=ct.tileID;for(const Ot in Fe)Fe[Ot].isChildOf(ct.tileID)&&delete Fe[Ot]}}for(const je in this._tiles)Fe[je]||(this._coveredTiles[je]=!0)}}for(const ue in G)this._tiles[ue].clearFadeHold();const te=a.ab(this._tiles,G);for(const ue of te){const fe=this._tiles[ue];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(ue)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,f){const C={},M={},I=Math.max(f-Et.maxOverzooming,this._source.minzoom),L=Math.max(f+Et.maxUnderzooming,this._source.minzoom),j={};for(const G of u){const te=this._addTile(G);C[G.key]=G,te.hasData()||f<this._source.maxzoom&&(j[G.key]=G)}this._retainLoadedChildren(j,f,L,C);for(const G of u){let te=this._tiles[G.key];if(te.hasData())continue;if(f+1>this._source.maxzoom){const fe=G.children(this._source.maxzoom)[0],Ee=this.getTile(fe);if(Ee&&Ee.hasData()){C[fe.key]=fe;continue}}else{const fe=G.children(this._source.maxzoom);if(C[fe[0].key]&&C[fe[1].key]&&C[fe[2].key]&&C[fe[3].key])continue}let ue=te.wasRequested();for(let fe=G.overscaledZ-1;fe>=I;--fe){const Ee=G.scaledTo(fe);if(M[Ee.key])break;if(M[Ee.key]=!0,te=this.getTile(Ee),!te&&ue&&(te=this._addTile(Ee)),te){const ze=te.hasData();if((ue||ze)&&(C[Ee.key]=Ee),ue=te.wasRequested(),ze)break}}}return C}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const f=[];let C,M=this._tiles[u].tileID;for(;M.overscaledZ>0;){if(M.key in this._loadedParentTiles){C=this._loadedParentTiles[M.key];break}f.push(M.key);const I=M.scaledTo(M.overscaledZ-1);if(C=this._getLoadedTile(I),C)break;M=I}for(const I of f)this._loadedParentTiles[I]=C}}_addTile(u){let f=this._tiles[u.key];if(f)return f;f=this._cache.getAndRemove(u),f&&(this._setTileReloadTimer(u.key,f),f.tileID=u,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,f)));const C=f;return f||(f=new Be(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(f,u.key,f.state)),f.uses++,this._tiles[u.key]=f,C||this._source.fire(new a.k("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(u,f){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const C=f.getExpiryTimeout();C&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},C))}_removeTile(u){const f=this._tiles[u];f&&(f.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,f,C){const M=[],I=this.transform;if(!I)return M;const L=C?I.getCameraQueryGeometry(u):u,j=u.map(Fe=>I.pointCoordinate(Fe,this.terrain)),G=L.map(Fe=>I.pointCoordinate(Fe,this.terrain)),te=this.getIds();let ue=1/0,fe=1/0,Ee=-1/0,ze=-1/0;for(const Fe of G)ue=Math.min(ue,Fe.x),fe=Math.min(fe,Fe.y),Ee=Math.max(Ee,Fe.x),ze=Math.max(ze,Fe.y);for(let Fe=0;Fe<te.length;Fe++){const Ge=this._tiles[te[Fe]];if(Ge.holdingForFade())continue;const je=Ge.tileID,ct=Math.pow(2,I.zoom-Ge.tileID.overscaledZ),Ot=f*Ge.queryPadding*a.W/Ge.tileSize/ct,Ye=[je.getTilePoint(new a.Y(ue,fe)),je.getTilePoint(new a.Y(Ee,ze))];if(Ye[0].x-Ot<a.W&&Ye[0].y-Ot<a.W&&Ye[1].x+Ot>=0&&Ye[1].y+Ot>=0){const Ct=j.map(It=>je.getTilePoint(It)),Gt=G.map(It=>je.getTilePoint(It));M.push({tile:Ge,tileID:je,queryGeometry:Ct,cameraQueryGeometry:Gt,scale:ct})}}return M}getVisibleCoordinates(u){const f=this.getRenderableIds(u).map(C=>this._tiles[C].tileID);for(const C of f)C.posMatrix=this.transform.calculatePosMatrix(C.toUnwrapped());return f}hasTransition(){if(this._source.hasTransition())return!0;if(mn(this._source.type)){const u=B.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=u)return!0}return!1}setFeatureState(u,f,C){this._state.updateState(u=u||"_geojsonTileLayer",f,C)}removeFeatureState(u,f,C){this._state.removeFeatureState(u=u||"_geojsonTileLayer",f,C)}getFeatureState(u,f){return this._state.getState(u=u||"_geojsonTileLayer",f)}setDependencies(u,f,C){const M=this._tiles[u];M&&M.setDependencies(f,C)}reloadTilesForDependencies(u,f){for(const C in this._tiles)this._tiles[C].hasDependency(u,f)&&this._reloadTile(C,"reloading");this._cache.filter(C=>!C.hasDependency(u,f))}}function Nt(O,u){const f=Math.abs(2*O.wrap)-+(O.wrap<0),C=Math.abs(2*u.wrap)-+(u.wrap<0);return O.overscaledZ-u.overscaledZ||C-f||u.canonical.y-O.canonical.y||u.canonical.x-O.canonical.x}function mn(O){return O==="raster"||O==="image"||O==="video"}Et.maxOverzooming=10,Et.maxUnderzooming=3;class Kn{constructor(u,f){this.reset(u,f)}reset(u,f){this.points=u||[],this._distances=[0];for(let C=1;C<this.points.length;C++)this._distances[C]=this._distances[C-1]+this.points[C].dist(this.points[C-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=a.ac(u,0,1);let f=1,C=this._distances[f];const M=u*this.paddedLength+this.padding;for(;C<M&&f<this._distances.length;)C=this._distances[++f];const I=f-1,L=this._distances[I],j=C-L,G=j>0?(M-L)/j:0;return this.points[I].mult(1-G).add(this.points[f].mult(G))}}function En(O,u){let f=!0;return O==="always"||O!=="never"&&u!=="never"||(f=!1),f}class m{constructor(u,f,C){const M=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(u/C),this.yCellCount=Math.ceil(f/C);for(let L=0;L<this.xCellCount*this.yCellCount;L++)M.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=f,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,f,C,M,I){this._forEachCell(f,C,M,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(f),this.bboxes.push(C),this.bboxes.push(M),this.bboxes.push(I)}insertCircle(u,f,C,M){this._forEachCell(f-M,C-M,f+M,C+M,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(f),this.circles.push(C),this.circles.push(M)}_insertBoxCell(u,f,C,M,I,L){this.boxCells[I].push(L)}_insertCircleCell(u,f,C,M,I,L){this.circleCells[I].push(L)}_query(u,f,C,M,I,L,j){if(C<0||u>this.width||M<0||f>this.height)return[];const G=[];if(u<=0&&f<=0&&this.width<=C&&this.height<=M){if(I)return[{key:null,x1:u,y1:f,x2:C,y2:M}];for(let te=0;te<this.boxKeys.length;te++)G.push({key:this.boxKeys[te],x1:this.bboxes[4*te],y1:this.bboxes[4*te+1],x2:this.bboxes[4*te+2],y2:this.bboxes[4*te+3]});for(let te=0;te<this.circleKeys.length;te++){const ue=this.circles[3*te],fe=this.circles[3*te+1],Ee=this.circles[3*te+2];G.push({key:this.circleKeys[te],x1:ue-Ee,y1:fe-Ee,x2:ue+Ee,y2:fe+Ee})}}else this._forEachCell(u,f,C,M,this._queryCell,G,{hitTest:I,overlapMode:L,seenUids:{box:{},circle:{}}},j);return G}query(u,f,C,M){return this._query(u,f,C,M,!1,null)}hitTest(u,f,C,M,I,L){return this._query(u,f,C,M,!0,I,L).length>0}hitTestCircle(u,f,C,M,I){const L=u-C,j=u+C,G=f-C,te=f+C;if(j<0||L>this.width||te<0||G>this.height)return!1;const ue=[];return this._forEachCell(L,G,j,te,this._queryCellCircle,ue,{hitTest:!0,overlapMode:M,circle:{x:u,y:f,radius:C},seenUids:{box:{},circle:{}}},I),ue.length>0}_queryCell(u,f,C,M,I,L,j,G){const{seenUids:te,hitTest:ue,overlapMode:fe}=j,Ee=this.boxCells[I];if(Ee!==null){const Fe=this.bboxes;for(const Ge of Ee)if(!te.box[Ge]){te.box[Ge]=!0;const je=4*Ge,ct=this.boxKeys[Ge];if(u<=Fe[je+2]&&f<=Fe[je+3]&&C>=Fe[je+0]&&M>=Fe[je+1]&&(!G||G(ct))&&(!ue||!En(fe,ct.overlapMode))&&(L.push({key:ct,x1:Fe[je],y1:Fe[je+1],x2:Fe[je+2],y2:Fe[je+3]}),ue))return!0}}const ze=this.circleCells[I];if(ze!==null){const Fe=this.circles;for(const Ge of ze)if(!te.circle[Ge]){te.circle[Ge]=!0;const je=3*Ge,ct=this.circleKeys[Ge];if(this._circleAndRectCollide(Fe[je],Fe[je+1],Fe[je+2],u,f,C,M)&&(!G||G(ct))&&(!ue||!En(fe,ct.overlapMode))){const Ot=Fe[je],Ye=Fe[je+1],Ct=Fe[je+2];if(L.push({key:ct,x1:Ot-Ct,y1:Ye-Ct,x2:Ot+Ct,y2:Ye+Ct}),ue)return!0}}}return!1}_queryCellCircle(u,f,C,M,I,L,j,G){const{circle:te,seenUids:ue,overlapMode:fe}=j,Ee=this.boxCells[I];if(Ee!==null){const Fe=this.bboxes;for(const Ge of Ee)if(!ue.box[Ge]){ue.box[Ge]=!0;const je=4*Ge,ct=this.boxKeys[Ge];if(this._circleAndRectCollide(te.x,te.y,te.radius,Fe[je+0],Fe[je+1],Fe[je+2],Fe[je+3])&&(!G||G(ct))&&!En(fe,ct.overlapMode))return L.push(!0),!0}}const ze=this.circleCells[I];if(ze!==null){const Fe=this.circles;for(const Ge of ze)if(!ue.circle[Ge]){ue.circle[Ge]=!0;const je=3*Ge,ct=this.circleKeys[Ge];if(this._circlesCollide(Fe[je],Fe[je+1],Fe[je+2],te.x,te.y,te.radius)&&(!G||G(ct))&&!En(fe,ct.overlapMode))return L.push(!0),!0}}}_forEachCell(u,f,C,M,I,L,j,G){const te=this._convertToXCellCoord(u),ue=this._convertToYCellCoord(f),fe=this._convertToXCellCoord(C),Ee=this._convertToYCellCoord(M);for(let ze=te;ze<=fe;ze++)for(let Fe=ue;Fe<=Ee;Fe++)if(I.call(this,u,f,C,M,this.xCellCount*Fe+ze,L,j,G))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,f,C,M,I,L){const j=M-u,G=I-f,te=C+L;return te*te>j*j+G*G}_circleAndRectCollide(u,f,C,M,I,L,j){const G=(L-M)/2,te=Math.abs(u-(M+G));if(te>G+C)return!1;const ue=(j-I)/2,fe=Math.abs(f-(I+ue));if(fe>ue+C)return!1;if(te<=G||fe<=ue)return!0;const Ee=te-G,ze=fe-ue;return Ee*Ee+ze*ze<=C*C}}function Tt(O,u,f,C,M){const I=a.F();return u?(a.J(I,I,[1/M,1/M,1]),f||a.ad(I,I,C.angle)):a.K(I,C.labelPlaneMatrix,O),I}function Ur(O,u,f,C,M){if(u){const I=a.ae(O);return a.J(I,I,[M,M,1]),f||a.ad(I,I,-C.angle),I}return C.glCoordMatrix}function Wn(O,u,f){let C;f?(C=[O.x,O.y,f(O.x,O.y),1],a.af(C,C,u)):(C=[O.x,O.y,0,1],Vn(C,C,u));const M=C[3];return{point:new a.P(C[0]/M,C[1]/M),signedDistanceFromCamera:M}}function Te(O,u){return .5+O/u*.5}function de(O,u){const f=O[0]/O[3],C=O[1]/O[3];return f>=-u[0]&&f<=u[0]&&C>=-u[1]&&C<=u[1]}function ve(O,u,f,C,M,I,L,j,G,te){const ue=C?O.textSizeData:O.iconSizeData,fe=a.ag(ue,f.transform.zoom),Ee=[256/f.width*2+1,256/f.height*2+1],ze=C?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;ze.clear();const Fe=O.lineVertexArray,Ge=C?O.text.placedSymbolArray:O.icon.placedSymbolArray,je=f.transform.width/f.transform.height;let ct=!1;for(let Ot=0;Ot<Ge.length;Ot++){const Ye=Ge.get(Ot);if(Ye.hidden||Ye.writingMode===a.ah.vertical&&!ct){qt(Ye.numGlyphs,ze);continue}let Ct;if(ct=!1,te?(Ct=[Ye.anchorX,Ye.anchorY,te(Ye.anchorX,Ye.anchorY),1],a.af(Ct,Ct,u)):(Ct=[Ye.anchorX,Ye.anchorY,0,1],Vn(Ct,Ct,u)),!de(Ct,Ee)){qt(Ye.numGlyphs,ze);continue}const Gt=Te(f.transform.cameraToCenterDistance,Ct[3]),It=a.ai(ue,fe,Ye),Jt=L?It/Gt:It*Gt,An=new a.P(Ye.anchorX,Ye.anchorY),ln=Wn(An,M,te).point,vn={projections:{},offsets:{}},er=Xe(Ye,Jt,!1,j,u,M,I,O.glyphOffsetArray,Fe,ze,ln,An,vn,je,G,te);ct=er.useVertical,(er.notEnoughRoom||ct||er.needsFlipping&&Xe(Ye,Jt,!0,j,u,M,I,O.glyphOffsetArray,Fe,ze,ln,An,vn,je,G,te).notEnoughRoom)&&qt(Ye.numGlyphs,ze)}C?O.text.dynamicLayoutVertexBuffer.updateData(ze):O.icon.dynamicLayoutVertexBuffer.updateData(ze)}function Se(O,u,f,C,M,I,L,j,G,te,ue,fe,Ee){const ze=j.glyphStartIndex+j.numGlyphs,Fe=j.lineStartIndex,Ge=j.lineStartIndex+j.lineLength,je=u.getoffsetX(j.glyphStartIndex),ct=u.getoffsetX(ze-1),Ot=Zt(O*je,f,C,M,I,L,j.segment,Fe,Ge,G,te,ue,fe,Ee);if(!Ot)return null;const Ye=Zt(O*ct,f,C,M,I,L,j.segment,Fe,Ge,G,te,ue,fe,Ee);return Ye?{first:Ot,last:Ye}:null}function Re(O,u,f,C){return O===a.ah.horizontal&&Math.abs(f.y-u.y)>Math.abs(f.x-u.x)*C?{useVertical:!0}:(O===a.ah.vertical?u.y<f.y:u.x>f.x)?{needsFlipping:!0}:null}function Xe(O,u,f,C,M,I,L,j,G,te,ue,fe,Ee,ze,Fe,Ge){const je=u/24,ct=O.lineOffsetX*je,Ot=O.lineOffsetY*je;let Ye;if(O.numGlyphs>1){const Ct=O.glyphStartIndex+O.numGlyphs,Gt=O.lineStartIndex,It=O.lineStartIndex+O.lineLength,Jt=Se(je,j,ct,Ot,f,ue,fe,O,G,I,Ee,Fe,Ge);if(!Jt)return{notEnoughRoom:!0};const An=Wn(Jt.first.point,L,Ge).point,ln=Wn(Jt.last.point,L,Ge).point;if(C&&!f){const vn=Re(O.writingMode,An,ln,ze);if(vn)return vn}Ye=[Jt.first];for(let vn=O.glyphStartIndex+1;vn<Ct-1;vn++)Ye.push(Zt(je*j.getoffsetX(vn),ct,Ot,f,ue,fe,O.segment,Gt,It,G,I,Ee,Fe,Ge));Ye.push(Jt.last)}else{if(C&&!f){const Gt=Wn(fe,M,Ge).point,It=O.lineStartIndex+O.segment+1,Jt=new a.P(G.getx(It),G.gety(It)),An=Wn(Jt,M,Ge),ln=An.signedDistanceFromCamera>0?An.point:at(fe,Jt,Gt,1,M,Ge),vn=Re(O.writingMode,Gt,ln,ze);if(vn)return vn}const Ct=Zt(je*j.getoffsetX(O.glyphStartIndex),ct,Ot,f,ue,fe,O.segment,O.lineStartIndex,O.lineStartIndex+O.lineLength,G,I,Ee,Fe,Ge);if(!Ct)return{notEnoughRoom:!0};Ye=[Ct]}for(const Ct of Ye)a.aj(te,Ct.point,Ct.angle);return{}}function at(O,u,f,C,M,I){const L=Wn(O.add(O.sub(u)._unit()),M,I).point,j=f.sub(L);return f.add(j._mult(C/j.mag()))}function ht(O,u){const{projectionCache:f,lineVertexArray:C,labelPlaneMatrix:M,tileAnchorPoint:I,distanceFromAnchor:L,getElevation:j,previousVertex:G,direction:te,absOffsetX:ue}=u;if(f.projections[O])return f.projections[O];const fe=new a.P(C.getx(O),C.gety(O)),Ee=Wn(fe,M,j);if(Ee.signedDistanceFromCamera>0)return f.projections[O]=Ee.point,Ee.point;const ze=O-te;return at(L===0?I:new a.P(C.getx(ze),C.gety(ze)),fe,G,ue-L+1,M,j)}function Ve(O,u,f){return O._unit()._perp()._mult(u*f)}function _t(O,u,f,C,M,I,L,j){const{projectionCache:G,direction:te}=j;if(G.offsets[O])return G.offsets[O];const ue=f.add(u);if(O+te<C||O+te>=M)return G.offsets[O]=ue,ue;const fe=ht(O+te,j),Ee=Ve(fe.sub(f),L,te),ze=f.add(Ee),Fe=fe.add(Ee);return G.offsets[O]=a.ak(I,ue,ze,Fe)||ue,G.offsets[O]}function Zt(O,u,f,C,M,I,L,j,G,te,ue,fe,Ee,ze){const Fe=C?O-u:O+u;let Ge=Fe>0?1:-1,je=0;C&&(Ge*=-1,je=Math.PI),Ge<0&&(je+=Math.PI);let ct,Ot,Ye=Ge>0?j+L:j+L+1,Ct=M,Gt=M,It=0,Jt=0;const An=Math.abs(Fe),ln=[];let vn;for(;It+Jt<=An;){if(Ye+=Ge,Ye<j||Ye>=G)return null;It+=Jt,Gt=Ct,Ot=ct;const In={projectionCache:fe,lineVertexArray:te,labelPlaneMatrix:ue,tileAnchorPoint:I,distanceFromAnchor:It,getElevation:ze,previousVertex:Gt,direction:Ge,absOffsetX:An};if(Ct=ht(Ye,In),f===0)ln.push(Gt),vn=Ct.sub(Gt);else{let _r;const Zn=Ct.sub(Gt);_r=Zn.mag()===0?Ve(ht(Ye+Ge,In).sub(Ct),f,Ge):Ve(Zn,f,Ge),Ot||(Ot=Gt.add(_r)),ct=_t(Ye,_r,Ct,j,G,Ot,f,In),ln.push(Ot),vn=ct.sub(Ot)}Jt=vn.mag()}const er=vn._mult((An-It)/Jt)._add(Ot||Gt),kr=je+Math.atan2(Ct.y-Gt.y,Ct.x-Gt.x);return ln.push(er),{point:er,angle:Ee?kr:0,path:ln}}const Ht=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qt(O,u){for(let f=0;f<O;f++){const C=u.length;u.resize(C+4),u.float32.set(Ht,3*C)}}function Vn(O,u,f){const C=u[0],M=u[1];return O[0]=f[0]*C+f[4]*M+f[12],O[1]=f[1]*C+f[5]*M+f[13],O[3]=f[3]*C+f[7]*M+f[15],O}const On=100;class ir{constructor(u,f=new m(u.width+200,u.height+200,25),C=new m(u.width+200,u.height+200,25)){this.transform=u,this.grid=f,this.ignoredGrid=C,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+On,this.screenBottomBoundary=u.height+On,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,f,C,M,I,L){const j=this.projectAndGetPerspectiveRatio(M,u.anchorPointX,u.anchorPointY,L),G=C*j.perspectiveRatio,te=u.x1*G+j.point.x,ue=u.y1*G+j.point.y,fe=u.x2*G+j.point.x,Ee=u.y2*G+j.point.y;return!this.isInsideGrid(te,ue,fe,Ee)||f!=="always"&&this.grid.hitTest(te,ue,fe,Ee,f,I)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[te,ue,fe,Ee],offscreen:this.isOffscreen(te,ue,fe,Ee)}}placeCollisionCircles(u,f,C,M,I,L,j,G,te,ue,fe,Ee,ze,Fe){const Ge=[],je=new a.P(f.anchorX,f.anchorY),ct=Wn(je,L,Fe),Ot=Te(this.transform.cameraToCenterDistance,ct.signedDistanceFromCamera),Ye=(ue?I/Ot:I*Ot)/a.ao,Ct=Wn(je,j,Fe).point,Gt=Se(Ye,M,f.lineOffsetX*Ye,f.lineOffsetY*Ye,!1,Ct,je,f,C,j,{projections:{},offsets:{}},!1,Fe);let It=!1,Jt=!1,An=!0;if(Gt){const ln=.5*Ee*Ot+ze,vn=new a.P(-100,-100),er=new a.P(this.screenRightBoundary,this.screenBottomBoundary),kr=new Kn,In=Gt.first,_r=Gt.last;let Zn=[];for(let Hr=In.path.length-1;Hr>=1;Hr--)Zn.push(In.path[Hr]);for(let Hr=1;Hr<_r.path.length;Hr++)Zn.push(_r.path[Hr]);const zi=2.5*ln;if(G){const Hr=Zn.map(gi=>Wn(gi,G,Fe));Zn=Hr.some(gi=>gi.signedDistanceFromCamera<=0)?[]:Hr.map(gi=>gi.point)}let bi=[];if(Zn.length>0){const Hr=Zn[0].clone(),gi=Zn[0].clone();for(let Yo=1;Yo<Zn.length;Yo++)Hr.x=Math.min(Hr.x,Zn[Yo].x),Hr.y=Math.min(Hr.y,Zn[Yo].y),gi.x=Math.max(gi.x,Zn[Yo].x),gi.y=Math.max(gi.y,Zn[Yo].y);bi=Hr.x>=vn.x&&gi.x<=er.x&&Hr.y>=vn.y&&gi.y<=er.y?[Zn]:gi.x<vn.x||Hr.x>er.x||gi.y<vn.y||Hr.y>er.y?[]:a.al([Zn],vn.x,vn.y,er.x,er.y)}for(const Hr of bi){kr.reset(Hr,.25*ln);let gi=0;gi=kr.length<=.5*ln?1:Math.ceil(kr.paddedLength/zi)+1;for(let Yo=0;Yo<gi;Yo++){const Fi=Yo/Math.max(gi-1,1),Bs=kr.lerp(Fi),fs=Bs.x+On,Wo=Bs.y+On;Ge.push(fs,Wo,ln,0);const ks=fs-ln,Ca=Wo-ln,vo=fs+ln,Pl=Wo+ln;if(An=An&&this.isOffscreen(ks,Ca,vo,Pl),Jt=Jt||this.isInsideGrid(ks,Ca,vo,Pl),u!=="always"&&this.grid.hitTestCircle(fs,Wo,ln,u,fe)&&(It=!0,!te))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!te&&It||!Jt||Ot<this.perspectiveRatioCutoff?[]:Ge,offscreen:An,collisionDetected:It}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let C=1/0,M=1/0,I=-1/0,L=-1/0;for(const ue of u){const fe=new a.P(ue.x+On,ue.y+On);C=Math.min(C,fe.x),M=Math.min(M,fe.y),I=Math.max(I,fe.x),L=Math.max(L,fe.y),f.push(fe)}const j=this.grid.query(C,M,I,L).concat(this.ignoredGrid.query(C,M,I,L)),G={},te={};for(const ue of j){const fe=ue.key;if(G[fe.bucketInstanceId]===void 0&&(G[fe.bucketInstanceId]={}),G[fe.bucketInstanceId][fe.featureIndex])continue;const Ee=[new a.P(ue.x1,ue.y1),new a.P(ue.x2,ue.y1),new a.P(ue.x2,ue.y2),new a.P(ue.x1,ue.y2)];a.am(f,Ee)&&(G[fe.bucketInstanceId][fe.featureIndex]=!0,te[fe.bucketInstanceId]===void 0&&(te[fe.bucketInstanceId]=[]),te[fe.bucketInstanceId].push(fe.featureIndex))}return te}insertCollisionBox(u,f,C,M,I,L){(C?this.ignoredGrid:this.grid).insert({bucketInstanceId:M,featureIndex:I,collisionGroupID:L,overlapMode:f},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,f,C,M,I,L){const j=C?this.ignoredGrid:this.grid,G={bucketInstanceId:M,featureIndex:I,collisionGroupID:L,overlapMode:f};for(let te=0;te<u.length;te+=4)j.insertCircle(G,u[te],u[te+1],u[te+2])}projectAndGetPerspectiveRatio(u,f,C,M){let I;return M?(I=[f,C,M(f,C),1],a.af(I,I,u)):(I=[f,C,0,1],Vn(I,I,u)),{point:new a.P((I[0]/I[3]+1)/2*this.transform.width+On,(-I[1]/I[3]+1)/2*this.transform.height+On),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I[3]*.5}}isOffscreen(u,f,C,M){return C<On||u>=this.screenRightBoundary||M<On||f>this.screenBottomBoundary}isInsideGrid(u,f,C,M){return C>=0&&u<this.gridRightBoundary&&M>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const u=a.an([]);return a.H(u,u,[-100,-100,0]),u}}function or(O,u,f){return u*(a.W/(O.tileSize*Math.pow(2,f-O.tileID.overscaledZ)))}class Tr{constructor(u,f,C,M){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?f:-f))):M&&C?1:0,this.placed=C}isHidden(){return this.opacity===0&&!this.placed}}class Rr{constructor(u,f,C,M,I){this.text=new Tr(u?u.text:null,f,C,I),this.icon=new Tr(u?u.icon:null,f,M,I)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Dr{constructor(u,f,C){this.text=u,this.icon=f,this.skipFade=C}}class ei{constructor(){this.invProjMatrix=a.F(),this.viewportMatrix=a.F(),this.circles=[]}}class rr{constructor(u,f,C,M,I){this.bucketInstanceId=u,this.featureIndex=f,this.sourceLayerIndex=C,this.bucketIndex=M,this.tileID=I}}class li{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const f=++this.maxGroupID;this.collisionGroups[u]={ID:f,predicate:C=>C.collisionGroupID===f}}return this.collisionGroups[u]}}function ki(O,u,f,C,M){const{horizontalAlign:I,verticalAlign:L}=a.at(O);return new a.P(-(I-.5)*u+C[0]*M,-(L-.5)*f+C[1]*M)}function Xi(O,u,f,C,M,I){const{x1:L,x2:j,y1:G,y2:te,anchorPointX:ue,anchorPointY:fe}=O,Ee=new a.P(u,f);return C&&Ee._rotate(M?I:-I),{x1:L+Ee.x,y1:G+Ee.y,x2:j+Ee.x,y2:te+Ee.y,anchorPointX:ue,anchorPointY:fe}}class xo{constructor(u,f,C,M,I){this.transform=u.clone(),this.terrain=f,this.collisionIndex=new ir(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=C,this.retainedQueryData={},this.collisionGroups=new li(M),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,f,C,M){const I=C.getBucket(f),L=C.latestFeatureIndex;if(!I||!L||f.id!==I.layerIds[0])return;const j=C.collisionBoxArray,G=I.layers[0].layout,te=Math.pow(2,this.transform.zoom-C.tileID.overscaledZ),ue=C.tileSize/a.W,fe=this.transform.calculatePosMatrix(C.tileID.toUnwrapped()),Ee=G.get("text-pitch-alignment")==="map",ze=G.get("text-rotation-alignment")==="map",Fe=or(C,1,this.transform.zoom),Ge=Tt(fe,Ee,ze,this.transform,Fe);let je=null;if(Ee){const Ot=Ur(fe,Ee,ze,this.transform,Fe);je=a.K([],this.transform.labelPlaneMatrix,Ot)}this.retainedQueryData[I.bucketInstanceId]=new rr(I.bucketInstanceId,L,I.sourceLayerIndex,I.index,C.tileID);const ct={bucket:I,layout:G,posMatrix:fe,textLabelPlaneMatrix:Ge,labelToScreenMatrix:je,scale:te,textPixelRatio:ue,holdingForFade:C.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:a.ag(I.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(M)for(const Ot of I.sortKeyRanges){const{sortKey:Ye,symbolInstanceStart:Ct,symbolInstanceEnd:Gt}=Ot;u.push({sortKey:Ye,symbolInstanceStart:Ct,symbolInstanceEnd:Gt,parameters:ct})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:ct})}attemptAnchorPlacement(u,f,C,M,I,L,j,G,te,ue,fe,Ee,ze,Fe,Ge,je){const ct=a.ap[u.textAnchor],Ot=[u.textOffset0,u.textOffset1],Ye=ki(ct,C,M,Ot,I),Ct=this.collisionIndex.placeCollisionBox(Xi(f,Ye.x,Ye.y,L,j,this.transform.angle),fe,G,te,ue.predicate,je);if((!Ge||this.collisionIndex.placeCollisionBox(Xi(Ge,Ye.x,Ye.y,L,j,this.transform.angle),fe,G,te,ue.predicate,je).box.length!==0)&&Ct.box.length>0){let Gt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ee.crossTileID]&&this.prevPlacement.placements[Ee.crossTileID]&&this.prevPlacement.placements[Ee.crossTileID].text&&(Gt=this.prevPlacement.variableOffsets[Ee.crossTileID].anchor),Ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ee.crossTileID]={textOffset:Ot,width:C,height:M,anchor:ct,textBoxScale:I,prevAnchor:Gt},this.markUsedJustification(ze,ct,Ee,Fe),ze.allowVerticalPlacement&&(this.markUsedOrientation(ze,Fe,Ee),this.placedOrientations[Ee.crossTileID]=Fe),{shift:Ye,placedGlyphBoxes:Ct}}}placeLayerBucketPart(u,f,C){const{bucket:M,layout:I,posMatrix:L,textLabelPlaneMatrix:j,labelToScreenMatrix:G,textPixelRatio:te,holdingForFade:ue,collisionBoxArray:fe,partiallyEvaluatedTextSize:Ee,collisionGroup:ze}=u.parameters,Fe=I.get("text-optional"),Ge=I.get("icon-optional"),je=a.aq(I,"text-overlap","text-allow-overlap"),ct=je==="always",Ot=a.aq(I,"icon-overlap","icon-allow-overlap"),Ye=Ot==="always",Ct=I.get("text-rotation-alignment")==="map",Gt=I.get("text-pitch-alignment")==="map",It=I.get("icon-text-fit")!=="none",Jt=I.get("symbol-z-order")==="viewport-y",An=ct&&(Ye||!M.hasIconData()||Ge),ln=Ye&&(ct||!M.hasTextData()||Fe);!M.collisionArrays&&fe&&M.deserializeCollisionBoxes(fe);const vn=this.retainedQueryData[M.bucketInstanceId].tileID,er=this.terrain?(In,_r)=>this.terrain.getElevation(vn,In,_r):null,kr=(In,_r)=>{var Zn,zi;if(f[In.crossTileID])return;if(ue)return void(this.placements[In.crossTileID]=new Dr(!1,!1,!1));let bi=!1,Hr=!1,gi=!0,Yo=null,Fi={box:null,offscreen:null},Bs={box:null,offscreen:null},fs=null,Wo=null,ks=null,Ca=0,vo=0,Pl=0;_r.textFeatureIndex?Ca=_r.textFeatureIndex:In.useRuntimeCollisionCircles&&(Ca=In.featureIndex),_r.verticalTextFeatureIndex&&(vo=_r.verticalTextFeatureIndex);const PA=_r.textBox;if(PA){const _a=Mo=>{let Pa=a.ah.horizontal;if(M.allowVerticalPlacement&&!Mo&&this.prevPlacement){const Za=this.prevPlacement.placedOrientations[In.crossTileID];Za&&(this.placedOrientations[In.crossTileID]=Za,Pa=Za,this.markUsedOrientation(M,Pa,In))}return Pa},Bo=(Mo,Pa)=>{if(M.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&_r.verticalTextBox){for(const Za of M.writingModes)if(Za===a.ah.vertical?(Fi=Pa(),Bs=Fi):Fi=Mo(),Fi&&Fi.box&&Fi.box.length)break}else Fi=Mo()},Ei=In.textAnchorOffsetStartIndex,ho=In.textAnchorOffsetEndIndex;if(ho===Ei){const Mo=(Pa,Za)=>{const ta=this.collisionIndex.placeCollisionBox(Pa,je,te,L,ze.predicate,er);return ta&&ta.box&&ta.box.length&&(this.markUsedOrientation(M,Za,In),this.placedOrientations[In.crossTileID]=Za),ta};Bo(()=>Mo(PA,a.ah.horizontal),()=>{const Pa=_r.verticalTextBox;return M.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&Pa?Mo(Pa,a.ah.vertical):{box:null,offscreen:null}}),_a(Fi&&Fi.box&&Fi.box.length)}else{let Mo=a.ap[(zi=(Zn=this.prevPlacement)===null||Zn===void 0?void 0:Zn.variableOffsets[In.crossTileID])===null||zi===void 0?void 0:zi.anchor];const Pa=(ta,mc,la)=>{const FA=ta.x2-ta.x1,wh=ta.y2-ta.y1,ql=In.textBoxScale,DA=It&&Ot==="never"?mc:null;let Ys={box:[],offscreen:!1},Kd=je==="never"?1:2,gc="never";Mo&&Kd++;for(let Mh=0;Mh<Kd;Mh++){for(let zu=Ei;zu<ho;zu++){const Df=M.textAnchorOffsets.get(zu);if(Mo&&Df.textAnchor!==Mo)continue;const qc=this.attemptAnchorPlacement(Df,ta,FA,wh,ql,Ct,Gt,te,L,ze,gc,In,M,la,DA,er);if(qc&&(Ys=qc.placedGlyphBoxes,Ys&&Ys.box&&Ys.box.length))return bi=!0,Yo=qc.shift,Ys}Mo?Mo=null:gc=je}return Ys};Bo(()=>Pa(PA,_r.iconBox,a.ah.horizontal),()=>{const ta=_r.verticalTextBox;return M.allowVerticalPlacement&&!(Fi&&Fi.box&&Fi.box.length)&&In.numVerticalGlyphVertices>0&&ta?Pa(ta,_r.verticalIconBox,a.ah.vertical):{box:null,offscreen:null}}),Fi&&(bi=Fi.box,gi=Fi.offscreen);const Za=_a(Fi&&Fi.box);if(!bi&&this.prevPlacement){const ta=this.prevPlacement.variableOffsets[In.crossTileID];ta&&(this.variableOffsets[In.crossTileID]=ta,this.markUsedJustification(M,ta.anchor,In,Za))}}}if(fs=Fi,bi=fs&&fs.box&&fs.box.length>0,gi=fs&&fs.offscreen,In.useRuntimeCollisionCircles){const _a=M.text.placedSymbolArray.get(In.centerJustifiedTextSymbolIndex),Bo=a.ai(M.textSizeData,Ee,_a),Ei=I.get("text-padding");Wo=this.collisionIndex.placeCollisionCircles(je,_a,M.lineVertexArray,M.glyphOffsetArray,Bo,L,j,G,C,Gt,ze.predicate,In.collisionCircleDiameter,Ei,er),Wo.circles.length&&Wo.collisionDetected&&!C&&a.w("Collisions detected, but collision boxes are not shown"),bi=ct||Wo.circles.length>0&&!Wo.collisionDetected,gi=gi&&Wo.offscreen}if(_r.iconFeatureIndex&&(Pl=_r.iconFeatureIndex),_r.iconBox){const _a=Bo=>{const Ei=It&&Yo?Xi(Bo,Yo.x,Yo.y,Ct,Gt,this.transform.angle):Bo;return this.collisionIndex.placeCollisionBox(Ei,Ot,te,L,ze.predicate,er)};Bs&&Bs.box&&Bs.box.length&&_r.verticalIconBox?(ks=_a(_r.verticalIconBox),Hr=ks.box.length>0):(ks=_a(_r.iconBox),Hr=ks.box.length>0),gi=gi&&ks.offscreen}const Is=Fe||In.numHorizontalGlyphVertices===0&&In.numVerticalGlyphVertices===0,yu=Ge||In.numIconVertices===0;if(Is||yu?yu?Is||(Hr=Hr&&bi):bi=Hr&&bi:Hr=bi=Hr&&bi,bi&&fs&&fs.box&&this.collisionIndex.insertCollisionBox(fs.box,je,I.get("text-ignore-placement"),M.bucketInstanceId,Bs&&Bs.box&&vo?vo:Ca,ze.ID),Hr&&ks&&this.collisionIndex.insertCollisionBox(ks.box,Ot,I.get("icon-ignore-placement"),M.bucketInstanceId,Pl,ze.ID),Wo&&(bi&&this.collisionIndex.insertCollisionCircles(Wo.circles,je,I.get("text-ignore-placement"),M.bucketInstanceId,Ca,ze.ID),C)){const _a=M.bucketInstanceId;let Bo=this.collisionCircleArrays[_a];Bo===void 0&&(Bo=this.collisionCircleArrays[_a]=new ei);for(let Ei=0;Ei<Wo.circles.length;Ei+=4)Bo.circles.push(Wo.circles[Ei+0]),Bo.circles.push(Wo.circles[Ei+1]),Bo.circles.push(Wo.circles[Ei+2]),Bo.circles.push(Wo.collisionDetected?1:0)}if(In.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(M.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[In.crossTileID]=new Dr(bi||An,Hr||ln,gi||M.justReloaded),f[In.crossTileID]=!0};if(Jt){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const In=M.getSortedSymbolIndexes(this.transform.angle);for(let _r=In.length-1;_r>=0;--_r){const Zn=In[_r];kr(M.symbolInstances.get(Zn),M.collisionArrays[Zn])}}else for(let In=u.symbolInstanceStart;In<u.symbolInstanceEnd;In++)kr(M.symbolInstances.get(In),M.collisionArrays[In]);if(C&&M.bucketInstanceId in this.collisionCircleArrays){const In=this.collisionCircleArrays[M.bucketInstanceId];a.ar(In.invProjMatrix,L),In.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1}markUsedJustification(u,f,C,M){let I;I=M===a.ah.vertical?C.verticalPlacedTextSymbolIndex:{left:C.leftJustifiedTextSymbolIndex,center:C.centerJustifiedTextSymbolIndex,right:C.rightJustifiedTextSymbolIndex}[a.as(f)];const L=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex,C.verticalPlacedTextSymbolIndex];for(const j of L)j>=0&&(u.text.placedSymbolArray.get(j).crossTileID=I>=0&&j!==I?0:C.crossTileID)}markUsedOrientation(u,f,C){const M=f===a.ah.horizontal||f===a.ah.horizontalOnly?f:0,I=f===a.ah.vertical?f:0,L=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex];for(const j of L)u.text.placedSymbolArray.get(j).placedOrientation=M;C.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(C.verticalPlacedTextSymbolIndex).placedOrientation=I)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let C=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const M=f?f.symbolFadeChange(u):1,I=f?f.opacities:{},L=f?f.variableOffsets:{},j=f?f.placedOrientations:{};for(const G in this.placements){const te=this.placements[G],ue=I[G];ue?(this.opacities[G]=new Rr(ue,M,te.text,te.icon),C=C||te.text!==ue.text.placed||te.icon!==ue.icon.placed):(this.opacities[G]=new Rr(null,M,te.text,te.icon,te.skipFade),C=C||te.text||te.icon)}for(const G in I){const te=I[G];if(!this.opacities[G]){const ue=new Rr(te,M,!1,!1);ue.isHidden()||(this.opacities[G]=ue,C=C||te.text.placed||te.icon.placed)}}for(const G in L)this.variableOffsets[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.variableOffsets[G]=L[G]);for(const G in j)this.placedOrientations[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.placedOrientations[G]=j[G]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");C?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:u)}updateLayerOpacities(u,f){const C={};for(const M of f){const I=M.getBucket(u);I&&M.latestFeatureIndex&&u.id===I.layerIds[0]&&this.updateBucketOpacities(I,C,M.collisionBoxArray)}}updateBucketOpacities(u,f,C){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const M=u.layers[0],I=M.layout,L=new Rr(null,0,!1,!1,!0),j=I.get("text-allow-overlap"),G=I.get("icon-allow-overlap"),te=M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"),ue=I.get("text-rotation-alignment")==="map",fe=I.get("text-pitch-alignment")==="map",Ee=I.get("icon-text-fit")!=="none",ze=new Rr(null,0,j&&(G||!u.hasIconData()||I.get("icon-optional")),G&&(j||!u.hasTextData()||I.get("text-optional")),!0);!u.collisionArrays&&C&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(C);const Fe=(Ge,je,ct)=>{for(let Ot=0;Ot<je/4;Ot++)Ge.opacityVertexArray.emplaceBack(ct);Ge.hasVisibleVertices=Ge.hasVisibleVertices||ct!==Go};for(let Ge=0;Ge<u.symbolInstances.length;Ge++){const je=u.symbolInstances.get(Ge),{numHorizontalGlyphVertices:ct,numVerticalGlyphVertices:Ot,crossTileID:Ye}=je;let Ct=this.opacities[Ye];f[Ye]?Ct=L:Ct||(Ct=ze,this.opacities[Ye]=Ct),f[Ye]=!0;const Gt=je.numIconVertices>0,It=this.placedOrientations[je.crossTileID],Jt=It===a.ah.vertical,An=It===a.ah.horizontal||It===a.ah.horizontalOnly;if(ct>0||Ot>0){const ln=so(Ct.text);Fe(u.text,ct,Jt?Go:ln),Fe(u.text,Ot,An?Go:ln);const vn=Ct.text.isHidden();[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach(In=>{In>=0&&(u.text.placedSymbolArray.get(In).hidden=vn||Jt?1:0)}),je.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(je.verticalPlacedTextSymbolIndex).hidden=vn||An?1:0);const er=this.variableOffsets[je.crossTileID];er&&this.markUsedJustification(u,er.anchor,je,It);const kr=this.placedOrientations[je.crossTileID];kr&&(this.markUsedJustification(u,"left",je,kr),this.markUsedOrientation(u,kr,je))}if(Gt){const ln=so(Ct.icon),vn=!(Ee&&je.verticalPlacedIconSymbolIndex&&Jt);je.placedIconSymbolIndex>=0&&(Fe(u.icon,je.numIconVertices,vn?ln:Go),u.icon.placedSymbolArray.get(je.placedIconSymbolIndex).hidden=Ct.icon.isHidden()),je.verticalPlacedIconSymbolIndex>=0&&(Fe(u.icon,je.numVerticalIconVertices,vn?Go:ln),u.icon.placedSymbolArray.get(je.verticalPlacedIconSymbolIndex).hidden=Ct.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const ln=u.collisionArrays[Ge];if(ln){let vn=new a.P(0,0);if(ln.textBox||ln.verticalTextBox){let kr=!0;if(te){const In=this.variableOffsets[Ye];In?(vn=ki(In.anchor,In.width,In.height,In.textOffset,In.textBoxScale),ue&&vn._rotate(fe?this.transform.angle:-this.transform.angle)):kr=!1}ln.textBox&&pi(u.textCollisionBox.collisionVertexArray,Ct.text.placed,!kr||Jt,vn.x,vn.y),ln.verticalTextBox&&pi(u.textCollisionBox.collisionVertexArray,Ct.text.placed,!kr||An,vn.x,vn.y)}const er=!!(!An&&ln.verticalIconBox);ln.iconBox&&pi(u.iconCollisionBox.collisionVertexArray,Ct.icon.placed,er,Ee?vn.x:0,Ee?vn.y:0),ln.verticalIconBox&&pi(u.iconCollisionBox.collisionVertexArray,Ct.icon.placed,!er,Ee?vn.x:0,Ee?vn.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const Ge=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Ge.invProjMatrix,u.placementViewportMatrix=Ge.viewportMatrix,u.collisionCircleArray=Ge.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,f){const C=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*C>u}setStale(){this.stale=!0}}function pi(O,u,f,C,M){O.emplaceBack(u?1:0,f?1:0,C||0,M||0),O.emplaceBack(u?1:0,f?1:0,C||0,M||0),O.emplaceBack(u?1:0,f?1:0,C||0,M||0),O.emplaceBack(u?1:0,f?1:0,C||0,M||0)}const Oo=Math.pow(2,25),us=Math.pow(2,24),ka=Math.pow(2,17),Ci=Math.pow(2,16),Ms=Math.pow(2,9),Si=Math.pow(2,8),Qn=Math.pow(2,1);function so(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const u=O.placed?1:0,f=Math.floor(127*O.opacity);return f*Oo+u*us+f*ka+u*Ci+f*Ms+u*Si+f*Qn+u}const Go=0;class Ji{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,f,C,M,I){const L=this._bucketParts;for(;this._currentTileIndex<u.length;)if(f.getBucketParts(L,M,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,I())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort((j,G)=>j.sortKey-G.sortKey));this._currentPartIndex<L.length;)if(f.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,C),this._currentPartIndex++,I())return!0;return!1}}class ge{constructor(u,f,C,M,I,L,j,G){this.placement=new xo(u,f,L,j,G),this._currentPlacementIndex=C.length-1,this._forceFullPlacement=M,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(u,f,C){const M=B.now(),I=()=>!this._forceFullPlacement&&B.now()-M>2;for(;this._currentPlacementIndex>=0;){const L=f[u[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(L.type==="symbol"&&(!L.minzoom||L.minzoom<=j)&&(!L.maxzoom||L.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new Ji(L)),this._inProgressLayer.continuePlacement(C[L.source],this.placement,this._showCollisionBoxes,L,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const $e=512/a.W/2;class Xt{constructor(u,f,C){this.tileID=u,this.bucketInstanceId=C,this._symbolsByKey={};const M=new Map;for(let I=0;I<f.length;I++){const L=f.get(I),j=L.key,G=M.get(j);G?G.push(L):M.set(j,[L])}for(const[I,L]of M){const j={positions:L.map(G=>({x:Math.floor(G.anchorX*$e),y:Math.floor(G.anchorY*$e)})),crossTileIDs:L.map(G=>G.crossTileID)};if(j.positions.length>128){const G=new a.au(j.positions.length,16,Uint16Array);for(const{x:te,y:ue}of j.positions)G.add(te,ue);G.finish(),delete j.positions,j.index=G}this._symbolsByKey[I]=j}}getScaledCoordinates(u,f){const{x:C,y:M,z:I}=this.tileID.canonical,{x:L,y:j,z:G}=f.canonical,te=$e/Math.pow(2,G-I),ue=(j*a.W+u.anchorY)*te,fe=M*a.W*$e;return{x:Math.floor((L*a.W+u.anchorX)*te-C*a.W*$e),y:Math.floor(ue-fe)}}findMatches(u,f,C){const M=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let I=0;I<u.length;I++){const L=u.get(I);if(L.crossTileID)continue;const j=this._symbolsByKey[L.key];if(!j)continue;const G=this.getScaledCoordinates(L,f);if(j.index){const te=j.index.range(G.x-M,G.y-M,G.x+M,G.y+M).sort();for(const ue of te){const fe=j.crossTileIDs[ue];if(!C[fe]){C[fe]=!0,L.crossTileID=fe;break}}}else if(j.positions)for(let te=0;te<j.positions.length;te++){const ue=j.positions[te],fe=j.crossTileIDs[te];if(Math.abs(ue.x-G.x)<=M&&Math.abs(ue.y-G.y)<=M&&!C[fe]){C[fe]=!0,L.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:u})=>u)}}class sn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Kt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const f=Math.round((u-this.lng)/360);if(f!==0)for(const C in this.indexes){const M=this.indexes[C],I={};for(const L in M){const j=M[L];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+f),I[j.tileID.key]=j}this.indexes[C]=I}this.lng=u}addBucket(u,f,C){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let I=0;I<f.symbolInstances.length;I++)f.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const M=this.usedCrossTileIDs[u.overscaledZ];for(const I in this.indexes){const L=this.indexes[I];if(Number(I)>u.overscaledZ)for(const j in L){const G=L[j];G.tileID.isChildOf(u)&&G.findMatches(f.symbolInstances,u,M)}else{const j=L[u.scaledTo(Number(I)).key];j&&j.findMatches(f.symbolInstances,u,M)}}for(let I=0;I<f.symbolInstances.length;I++){const L=f.symbolInstances.get(I);L.crossTileID||(L.crossTileID=C.generate(),M[L.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Xt(u,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(u,f){for(const C of f.getCrossTileIDsLists())for(const M of C)delete this.usedCrossTileIDs[u][M]}removeStaleBuckets(u){let f=!1;for(const C in this.indexes){const M=this.indexes[C];for(const I in M)u[M[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(C,M[I]),delete M[I],f=!0)}return f}}class Mn{constructor(){this.layerIndexes={},this.crossTileIDs=new sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,f,C){let M=this.layerIndexes[u.id];M===void 0&&(M=this.layerIndexes[u.id]=new Kt);let I=!1;const L={};M.handleWrapJump(C);for(const j of f){const G=j.getBucket(u);G&&u.id===G.layerIds[0]&&(G.bucketInstanceId||(G.bucketInstanceId=++this.maxBucketInstanceId),M.addBucket(j.tileID,G,this.crossTileIDs)&&(I=!0),L[G.bucketInstanceId]=!0)}return M.removeStaleBuckets(L)&&(I=!0),I}pruneUnusedLayers(u){const f={};u.forEach(C=>{f[C]=!0});for(const C in this.layerIndexes)f[C]||delete this.layerIndexes[C]}}const cr=(O,u)=>a.t(O,u&&u.filter(f=>f.identifier!=="source.canvas")),Ii=a.av();class ii extends a.E{constructor(u,f={}){super(),this._rtlTextPluginStateChange=()=>{for(const C in this.sourceCaches){const M=this.sourceCaches[C].getSource().type;M!=="vector"&&M!=="geojson"||this.sourceCaches[C].reload()}},this.map=u,this.dispatcher=new he(Me(),u._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(C,M)=>this.getGlyphs(C,M)),this.dispatcher.registerMessageHandler("getImages",(C,M)=>this.getImages(C,M)),this.imageManager=new rt,this.imageManager.setEventedParent(this),this.glyphManager=new tn(u._requestManager,f.localIdeographFontFamily),this.lineAtlas=new tt(256,512),this.crossTileSymbolIndex=new Mn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.ax()),Y().on("pluginStateChange",this._rtlTextPluginStateChange),this.on("data",C=>{if(C.dataType!=="source"||C.sourceDataType!=="metadata")return;const M=this.sourceCaches[C.sourceId];if(!M)return;const I=M.getSource();if(I&&I.vectorLayerIds)for(const L in this._layers){const j=this._layers[L];j.source===I.id&&this._validateLayer(j)}})}loadURL(u,f={},C){this.fire(new a.k("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const M=this.map._requestManager.transformRequest(u,re.Style);this._loadStyleRequest=new AbortController,a.h(M,this._loadStyleRequest).then(I=>{this._loadStyleRequest=null,this._load(I.data,f,C)}).catch(I=>{this._loadStyleRequest=null,I&&this.fire(new a.j(I))})}loadJSON(u,f={},C){this.fire(new a.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(u,f,C)}).catch(()=>{})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(Ii,{validate:!1})}_load(u,f,C){var M;const I=f.transformStyle?f.transformStyle(C,u):u;if(!f.validate||!cr(this,a.x(I))){this._loaded=!0,this.stylesheet=I;for(const L in I.sources)this.addSource(L,I.sources[L],{validate:!1});I.sprite?this._loadSprite(I.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(I.glyphs),this._createLayers(),this.light=new Je(this.stylesheet.light),this.map.setTerrain((M=this.stylesheet.terrain)!==null&&M!==void 0?M:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const u=a.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",u),this._order=u.map(f=>f.id),this._layers={},this._serializedLayers=null;for(const f of u){const C=a.az(f);C.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=C}}_loadSprite(u,f=!1,C=void 0){let M;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(I,L,j,G){return a._(this,void 0,void 0,function*(){const te=et(I),ue=j>1?"@2x":"",fe={},Ee={};for(const{id:ze,url:Fe}of te){const Ge=L.transformRequest(L.normalizeSpriteURL(Fe,ue,".json"),re.SpriteJSON);fe[ze]=a.h(Ge,G);const je=L.transformRequest(L.normalizeSpriteURL(Fe,ue,".png"),re.SpriteImage);Ee[ze]=oe.getImage(je,G)}return yield Promise.all([...Object.values(fe),...Object.values(Ee)]),function(ze,Fe){return a._(this,void 0,void 0,function*(){const Ge={};for(const je in ze){Ge[je]={};const ct=B.getImageCanvasContext((yield Fe[je]).data),Ot=(yield ze[je]).data;for(const Ye in Ot){const{width:Ct,height:Gt,x:It,y:Jt,sdf:An,pixelRatio:ln,stretchX:vn,stretchY:er,content:kr}=Ot[Ye];Ge[je][Ye]={data:null,pixelRatio:ln,sdf:An,stretchX:vn,stretchY:er,content:kr,spriteData:{width:Ct,height:Gt,x:It,y:Jt,context:ct}}}}return Ge})}(fe,Ee)})}(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(I=>{if(this._spriteRequest=null,I)for(const L in I){this._spritesImagesIds[L]=[];const j=this._spritesImagesIds[L]?this._spritesImagesIds[L].filter(G=>!(G in I)):[];for(const G of j)this.imageManager.removeImage(G),this._changedImages[G]=!0;for(const G in I[L]){const te=L==="default"?G:`${L}:${G}`;this._spritesImagesIds[L].push(te),te in this.imageManager.images?this.imageManager.updateImage(te,I[L][G],!1):this.imageManager.addImage(te,I[L][G]),f&&(this._changedImages[te]=!0)}}}).catch(I=>{this._spriteRequest=null,M=I,this.fire(new a.j(M))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),C&&C(M)})}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(u){const f=this.sourceCaches[u.source];if(!f)return;const C=u.sourceLayer;if(!C)return;const M=f.getSource();(M.type==="geojson"||M.vectorLayerIds&&M.vectorLayerIds.indexOf(C)===-1)&&this.fire(new a.j(new Error(`Source layer "${C}" does not exist on source "${M.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u){const f=this._serializedAllLayers();if(!u||u.length===0)return Object.values(f);const C=[];for(const M of u)f[M]&&C.push(f[M]);return C}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const f=Object.keys(this._layers);for(const C of f){const M=this._layers[C];M.type!=="custom"&&(u[C]=M.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const f=this._changed;if(this._changed){const M=Object.keys(this._updatedLayers),I=Object.keys(this._removedLayers);(M.length||I.length)&&this._updateWorkerLayers(M,I);for(const L in this._updatedSources){const j=this._updatedSources[L];if(j==="reload")this._reloadSource(L);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(L)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const L in this._updatedPaintProps)this._layers[L].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const C={};for(const M in this.sourceCaches){const I=this.sourceCaches[M];C[M]=I.used,I.used=!1}for(const M of this._order){const I=this._layers[M];I.recalculate(u,this._availableImages),!I.isHidden(u.zoom)&&I.source&&(this.sourceCaches[I.source].used=!0)}for(const M in C){const I=this.sourceCaches[M];C[M]!==I.used&&I.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:M}))}this.light.recalculate(u),this.z=u.zoom,f&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(u),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,f={}){this._checkLoaded();const C=this.serialize();if(u=f.transformStyle?f.transformStyle(C,u):u,cr(this,a.x(u)))return!1;(u=a.aA(u)).layers=a.ay(u.layers);const M=a.aB(C,u),I=this._getOperationsToPerform(M);if(I.unimplemented.length>0)throw new Error(`Unimplemented: ${I.unimplemented.join(", ")}.`);if(I.operations.length===0)return!1;for(const L of I.operations)L();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const f=[],C=[];for(const M of u)switch(M.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,M.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,M.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,M.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,M.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,M.args));break;case"addSource":f.push(()=>this.addSource.apply(this,M.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,M.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,M.args));break;case"setLight":f.push(()=>this.setLight.apply(this,M.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,M.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,M.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,M.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,M.args));break;case"setTransition":f.push(()=>{});break;default:C.push(M.command)}return{operations:f,unimplemented:C}}addImage(u,f){if(this.getImage(u))return this.fire(new a.j(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,f),this._afterImageUpdated(u)}updateImage(u,f){this.imageManager.updateImage(u,f)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new a.j(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,f,C={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.x.source,`sources.${u}`,f,null,C))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const M=this.sourceCaches[u]=new Et(u,f,this.dispatcher);M.style=this,M.setEventedParent(this,()=>({isSourceLoaded:M.loaded(),source:M.serialize(),sourceId:u})),M.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const C in this._layers)if(this._layers[C].source===u)return this.fire(new a.j(new Error(`Source "${u}" cannot be removed while layer "${C}" is using it.`)));const f=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],f.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,f){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const C=this.sourceCaches[u].getSource();if(C.type!=="geojson")throw new Error(`geojsonSource.type is ${C.type}, which is !== 'geojson`);C.setData(f),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,f,C={}){this._checkLoaded();const M=u.id;if(this.getLayer(M))return void this.fire(new a.j(new Error(`Layer "${M}" already exists on this map.`)));let I;if(u.type==="custom"){if(cr(this,a.aC(u)))return;I=a.az(u)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(M,u.source),u=a.aA(u),u=a.e(u,{source:M})),this._validate(a.x.layer,`layers.${M}`,u,{arrayIndex:-1},C))return;I=a.az(u),this._validateLayer(I),I.setEventedParent(this,{layer:{id:M}})}const L=f?this._order.indexOf(f):this._order.length;if(f&&L===-1)this.fire(new a.j(new Error(`Cannot add layer "${M}" before non-existing layer "${f}".`)));else{if(this._order.splice(L,0,M),this._layerOrderChanged=!0,this._layers[M]=I,this._removedLayers[M]&&I.source&&I.type!=="custom"){const j=this._removedLayers[M];delete this._removedLayers[M],j.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",this.sourceCaches[I.source].pause())}this._updateLayer(I),I.onAdd&&I.onAdd(this.map)}}moveLayer(u,f){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new a.j(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===f)return;const C=this._order.indexOf(u);this._order.splice(C,1);const M=f?this._order.indexOf(f):this._order.length;f&&M===-1?this.fire(new a.j(new Error(`Cannot move layer "${u}" before non-existing layer "${f}".`))):(this._order.splice(M,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const f=this._layers[u];if(!f)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${u}".`)));f.setEventedParent(null);const C=this._order.indexOf(u);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=f,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],f.onRemove&&f.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,f,C){this._checkLoaded();const M=this.getLayer(u);M?M.minzoom===f&&M.maxzoom===C||(f!=null&&(M.minzoom=f),C!=null&&(M.maxzoom=C),this._updateLayer(M)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,f,C={}){this._checkLoaded();const M=this.getLayer(u);if(M){if(!a.aD(M.filter,f))return f==null?(M.filter=void 0,void this._updateLayer(M)):void(this._validate(a.x.filter,`layers.${M.id}.filter`,f,null,C)||(M.filter=a.aA(f),this._updateLayer(M)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return a.aA(this.getLayer(u).filter)}setLayoutProperty(u,f,C,M={}){this._checkLoaded();const I=this.getLayer(u);I?a.aD(I.getLayoutProperty(f),C)||(I.setLayoutProperty(f,C,M),this._updateLayer(I)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,f){const C=this.getLayer(u);if(C)return C.getLayoutProperty(f);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,f,C,M={}){this._checkLoaded();const I=this.getLayer(u);I?a.aD(I.getPaintProperty(f),C)||(I.setPaintProperty(f,C,M)&&this._updateLayer(I),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,f){return this.getLayer(u).getPaintProperty(f)}setFeatureState(u,f){this._checkLoaded();const C=u.source,M=u.sourceLayer,I=this.sourceCaches[C];if(I===void 0)return void this.fire(new a.j(new Error(`The source '${C}' does not exist in the map's style.`)));const L=I.getSource().type;L==="geojson"&&M?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):L!=="vector"||M?(u.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),I.setFeatureState(M,u.id,f)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,f){this._checkLoaded();const C=u.source,M=this.sourceCaches[C];if(M===void 0)return void this.fire(new a.j(new Error(`The source '${C}' does not exist in the map's style.`)));const I=M.getSource().type,L=I==="vector"?u.sourceLayer:void 0;I!=="vector"||L?f&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):M.removeFeatureState(L,u.id,f):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const f=u.source,C=u.sourceLayer,M=this.sourceCaches[f];if(M!==void 0)return M.getSource().type!=="vector"||C?(u.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),M.getFeatureState(C,u.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=a.aE(this.sourceCaches,I=>I.serialize()),f=this._serializeByIds(this._order),C=this.map.getTerrain()||void 0,M=this.stylesheet;return a.aF({version:M.version,name:M.name,metadata:M.metadata,light:M.light,center:M.center,zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,sprite:M.sprite,glyphs:M.glyphs,transition:M.transition,sources:u,layers:f,terrain:C},I=>I!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const f=L=>this._layers[L].type==="fill-extrusion",C={},M=[];for(let L=this._order.length-1;L>=0;L--){const j=this._order[L];if(f(j)){C[j]=L;for(const G of u){const te=G[j];if(te)for(const ue of te)M.push(ue)}}}M.sort((L,j)=>j.intersectionZ-L.intersectionZ);const I=[];for(let L=this._order.length-1;L>=0;L--){const j=this._order[L];if(f(j))for(let G=M.length-1;G>=0;G--){const te=M[G].feature;if(C[te.layer.id]<L)break;I.push(te),M.pop()}else for(const G of u){const te=G[j];if(te)for(const ue of te)I.push(ue.feature)}}return I}queryRenderedFeatures(u,f,C){f&&f.filter&&this._validate(a.x.filter,"queryRenderedFeatures.filter",f.filter,null,f);const M={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const j of f.layers){const G=this._layers[j];if(!G)return this.fire(new a.j(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];M[G.source]=!0}}const I=[];f.availableImages=this._availableImages;const L=this._serializedAllLayers();for(const j in this.sourceCaches)f.layers&&!M[j]||I.push(Ze(this.sourceCaches[j],this._layers,L,u,f,C));return this.placement&&I.push(function(j,G,te,ue,fe,Ee,ze){const Fe={},Ge=Ee.queryRenderedSymbols(ue),je=[];for(const ct of Object.keys(Ge).map(Number))je.push(ze[ct]);je.sort(nt);for(const ct of je){const Ot=ct.featureIndex.lookupSymbolFeatures(Ge[ct.bucketInstanceId],G,ct.bucketIndex,ct.sourceLayerIndex,fe.filter,fe.layers,fe.availableImages,j);for(const Ye in Ot){const Ct=Fe[Ye]=Fe[Ye]||[],Gt=Ot[Ye];Gt.sort((It,Jt)=>{const An=ct.featureSortOrder;if(An){const ln=An.indexOf(It.featureIndex);return An.indexOf(Jt.featureIndex)-ln}return Jt.featureIndex-It.featureIndex});for(const It of Gt)Ct.push(It)}}for(const ct in Fe)Fe[ct].forEach(Ot=>{const Ye=Ot.feature,Ct=te[j[ct].source].getFeatureState(Ye.layer["source-layer"],Ye.id);Ye.source=Ye.layer.source,Ye.layer["source-layer"]&&(Ye.sourceLayer=Ye.layer["source-layer"]),Ye.state=Ct});return Fe}(this._layers,L,this.sourceCaches,u,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(I)}querySourceFeatures(u,f){f&&f.filter&&this._validate(a.x.filter,"querySourceFeatures.filter",f.filter,null,f);const C=this.sourceCaches[u];return C?function(M,I){const L=M.getRenderableIds().map(te=>M.getTileByID(te)),j=[],G={};for(let te=0;te<L.length;te++){const ue=L[te],fe=ue.tileID.canonical.key;G[fe]||(G[fe]=!0,ue.querySourceFeatures(j,I))}return j}(C,f):[]}getLight(){return this.light.getLight()}setLight(u,f={}){this._checkLoaded();const C=this.light.getLight();let M=!1;for(const L in u)if(!a.aD(u[L],C[L])){M=!0;break}if(!M)return;const I={now:B.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,f),this.light.updateTransitions(I)}_validate(u,f,C,M,I={}){return(!I||I.validate!==!1)&&cr(this,u.call(a.x,a.e({key:f,style:this.serialize(),value:C,styleSpec:a.v},M)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Y().off("pluginStateChange",this._rtlTextPluginStateChange);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const C=this.sourceCaches[f];C.setEventedParent(null),C.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(u)}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const f in this.sourceCaches)this.sourceCaches[f].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,f,C,M,I=!1){let L=!1,j=!1;const G={};for(const te of this._order){const ue=this._layers[te];if(ue.type!=="symbol")continue;if(!G[ue.source]){const Ee=this.sourceCaches[ue.source];G[ue.source]=Ee.getRenderableIds(!0).map(ze=>Ee.getTileByID(ze)).sort((ze,Fe)=>Fe.tileID.overscaledZ-ze.tileID.overscaledZ||(ze.tileID.isLessThan(Fe.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(ue,G[ue.source],u.center.lng);L=L||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((I=I||this._layerOrderChanged||C===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(B.now(),u.zoom))&&(this.pauseablePlacement=new ge(u,this.map.terrain,this._order,I,f,C,M,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(B.now()),j=!0),L&&this.pauseablePlacement.placement.setStale()),j||L)for(const te of this._order){const ue=this._layers[te];ue.type==="symbol"&&this.placement.updateLayerOpacities(ue,G[ue.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(B.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,f){return a._(this,void 0,void 0,function*(){const C=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const M=this.sourceCaches[f.source];return M&&M.setDependencies(f.tileID.key,f.type,f.icons),C})}getGlyphs(u,f){return a._(this,void 0,void 0,function*(){const C=yield this.glyphManager.getGlyphs(f.stacks),M=this.sourceCaches[f.source];return M&&M.setDependencies(f.tileID.key,f.type,[""]),C})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,f={}){this._checkLoaded(),u&&this._validate(a.x.glyphs,"glyphs",u,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}addSprite(u,f,C={},M){this._checkLoaded();const I=[{id:u,url:f}],L=[...et(this.stylesheet.sprite),...I];this._validate(a.x.sprite,"sprite",L,null,C)||(this.stylesheet.sprite=L,this._loadSprite(I,!0,M))}removeSprite(u){this._checkLoaded();const f=et(this.stylesheet.sprite);if(f.find(C=>C.id===u)){if(this._spritesImagesIds[u])for(const C of this._spritesImagesIds[u])this.imageManager.removeImage(C),this._changedImages[C]=!0;f.splice(f.findIndex(C=>C.id===u),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return et(this.stylesheet.sprite)}setSprite(u,f={},C){this._checkLoaded(),u&&this._validate(a.x.sprite,"sprite",u,null,f)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,C):(this._unloadSprite(),C&&C(null)))}}var ya=a.X([{name:"a_pos",type:"Int16",components:2}]),$a="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Br={prelude:mi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:mi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:mi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:mi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:mi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:mi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:mi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:mi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:mi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:mi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:mi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:mi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:mi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:mi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:mi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:mi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:mi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:mi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:mi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:mi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:mi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:mi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:mi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",$a),terrainDepth:mi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",$a),terrainCoords:mi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",$a)};function mi(O,u){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=u.match(/attribute ([\w]+) ([\w]+)/g),M=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=I?I.concat(M):M,j={};return{fragmentSource:O=O.replace(f,(G,te,ue,fe,Ee)=>(j[Ee]=!0,te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
varying ${ue} ${fe} ${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`)),vertexSource:u=u.replace(f,(G,te,ue,fe,Ee)=>{const ze=fe==="float"?"vec2":"vec4",Fe=Ee.match(/color/)?"color":ze;return j[Ee]?te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
attribute ${ue} ${ze} a_${Ee};
varying ${ue} ${fe} ${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = a_${Ee};
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = unpack_mix_${Fe}(a_${Ee}, u_${Ee}_t);
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:te==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
attribute ${ue} ${ze} a_${Ee};
#else
uniform ${ue} ${fe} u_${Ee};
#endif
`:Fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = a_${Ee};
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${ue} ${fe} ${Ee} = unpack_mix_${Fe}(a_${Ee}, u_${Ee}_t);
#else
    ${ue} ${fe} ${Ee} = u_${Ee};
#endif
`}),staticAttributes:C,staticUniforms:L}}class rl{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,f,C,M,I,L,j,G,te){this.context=u;let ue=this.boundPaintVertexBuffers.length!==M.length;for(let fe=0;!ue&&fe<M.length;fe++)this.boundPaintVertexBuffers[fe]!==M[fe]&&(ue=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==C||ue||this.boundIndexBuffer!==I||this.boundVertexOffset!==L||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==G||this.boundDynamicVertexBuffer3!==te?this.freshBind(f,C,M,I,L,j,G,te):(u.bindVertexArray.set(this.vao),j&&j.bind(),I&&I.dynamicDraw&&I.bind(),G&&G.bind(),te&&te.bind())}freshBind(u,f,C,M,I,L,j,G){const te=u.numAttributes,ue=this.context,fe=ue.gl;this.vao&&this.destroy(),this.vao=ue.createVertexArray(),ue.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=C,this.boundIndexBuffer=M,this.boundVertexOffset=I,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=G,f.enableAttributes(fe,u);for(const Ee of C)Ee.enableAttributes(fe,u);L&&L.enableAttributes(fe,u),j&&j.enableAttributes(fe,u),G&&G.enableAttributes(fe,u),f.bind(),f.setVertexAttribPointers(fe,u,I);for(const Ee of C)Ee.bind(),Ee.setVertexAttribPointers(fe,u,I);L&&(L.bind(),L.setVertexAttribPointers(fe,u,I)),M&&M.bind(),j&&(j.bind(),j.setVertexAttribPointers(fe,u,I)),G&&(G.bind(),G.setVertexAttribPointers(fe,u,I)),ue.currentNumAttributes=te}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ya(O){const u=[];for(let f=0;f<O.length;f++){if(O[f]===null)continue;const C=O[f].split(" ");u.push(C.pop())}return u}class ba{constructor(u,f,C,M,I,L){const j=u.gl;this.program=j.createProgram();const G=Ya(f.staticAttributes),te=C?C.getBinderAttributes():[],ue=G.concat(te),fe=Br.prelude.staticUniforms?Ya(Br.prelude.staticUniforms):[],Ee=f.staticUniforms?Ya(f.staticUniforms):[],ze=C?C.getBinderUniforms():[],Fe=fe.concat(Ee).concat(ze),Ge=[];for(const It of Fe)Ge.indexOf(It)<0&&Ge.push(It);const je=C?C.defines():[];I&&je.push("#define OVERDRAW_INSPECTOR;"),L&&je.push("#define TERRAIN3D;");const ct=je.concat(Br.prelude.fragmentSource,f.fragmentSource).join(`
`),Ot=je.concat(Br.prelude.vertexSource,f.vertexSource).join(`
`),Ye=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Ye,ct),j.compileShader(Ye),!j.getShaderParameter(Ye,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(Ye)}`);j.attachShader(this.program,Ye);const Ct=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Ct,Ot),j.compileShader(Ct),!j.getShaderParameter(Ct,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(Ct)}`);j.attachShader(this.program,Ct),this.attributes={};const Gt={};this.numAttributes=ue.length;for(let It=0;It<this.numAttributes;It++)ue[It]&&(j.bindAttribLocation(this.program,It,ue[It]),this.attributes[ue[It]]=It);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(Ct),j.deleteShader(Ye);for(let It=0;It<Ge.length;It++){const Jt=Ge[It];if(Jt&&!Gt[Jt]){const An=j.getUniformLocation(this.program,Jt);An&&(Gt[Jt]=An)}}this.fixedUniforms=M(u,Gt),this.terrainUniforms=((It,Jt)=>({u_depth:new a.aG(It,Jt.u_depth),u_terrain:new a.aG(It,Jt.u_terrain),u_terrain_dim:new a.aH(It,Jt.u_terrain_dim),u_terrain_matrix:new a.aI(It,Jt.u_terrain_matrix),u_terrain_unpack:new a.aJ(It,Jt.u_terrain_unpack),u_terrain_exaggeration:new a.aH(It,Jt.u_terrain_exaggeration)}))(u,Gt),this.binderUniforms=C?C.getUniforms(u,Gt):[]}draw(u,f,C,M,I,L,j,G,te,ue,fe,Ee,ze,Fe,Ge,je,ct,Ot){const Ye=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(C),u.setStencilMode(M),u.setColorMode(I),u.setCullFace(L),G){u.activeTexture.set(Ye.TEXTURE2),Ye.bindTexture(Ye.TEXTURE_2D,G.depthTexture),u.activeTexture.set(Ye.TEXTURE3),Ye.bindTexture(Ye.TEXTURE_2D,G.texture);for(const Gt in this.terrainUniforms)this.terrainUniforms[Gt].set(G[Gt])}for(const Gt in this.fixedUniforms)this.fixedUniforms[Gt].set(j[Gt]);Ge&&Ge.setUniforms(u,this.binderUniforms,ze,{zoom:Fe});let Ct=0;switch(f){case Ye.LINES:Ct=2;break;case Ye.TRIANGLES:Ct=3;break;case Ye.LINE_STRIP:Ct=1}for(const Gt of Ee.get()){const It=Gt.vaos||(Gt.vaos={});(It[te]||(It[te]=new rl)).bind(u,this,ue,Ge?Ge.getPaintVertexBuffers():[],fe,Gt.vertexOffset,je,ct,Ot),Ye.drawElements(f,Gt.primitiveLength*Ct,Ye.UNSIGNED_SHORT,Gt.primitiveOffset*Ct*2)}}}function Ou(O,u,f){const C=1/or(f,1,u.transform.tileZoom),M=Math.pow(2,f.tileID.overscaledZ),I=f.tileSize*Math.pow(2,u.transform.tileZoom)/M,L=I*(f.tileID.canonical.x+f.tileID.wrap*M),j=I*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[C,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[L>>16,j>>16],u_pixel_coord_lower:[65535&L,65535&j]}}const Ws=(O,u,f,C)=>{const M=u.style.light,I=M.properties.get("position"),L=[I.x,I.y,I.z],j=function(){var te=new a.A(9);return a.A!=Float32Array&&(te[1]=0,te[2]=0,te[3]=0,te[5]=0,te[6]=0,te[7]=0),te[0]=1,te[4]=1,te[8]=1,te}();M.properties.get("anchor")==="viewport"&&function(te,ue){var fe=Math.sin(ue),Ee=Math.cos(ue);te[0]=Ee,te[1]=fe,te[2]=0,te[3]=-fe,te[4]=Ee,te[5]=0,te[6]=0,te[7]=0,te[8]=1}(j,-u.transform.angle),function(te,ue,fe){var Ee=ue[0],ze=ue[1],Fe=ue[2];te[0]=Ee*fe[0]+ze*fe[3]+Fe*fe[6],te[1]=Ee*fe[1]+ze*fe[4]+Fe*fe[7],te[2]=Ee*fe[2]+ze*fe[5]+Fe*fe[8]}(L,L,j);const G=M.properties.get("color");return{u_matrix:O,u_lightpos:L,u_lightintensity:M.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+f,u_opacity:C}},qa=(O,u,f,C,M,I,L)=>a.e(Ws(O,u,f,C),Ou(I,u,L),{u_height_factor:-Math.pow(2,M.overscaledZ)/L.tileSize/8}),Va=O=>({u_matrix:O}),Ns=(O,u,f,C)=>a.e(Va(O),Ou(f,u,C)),_A=(O,u)=>({u_matrix:O,u_world:u}),fl=(O,u,f,C,M)=>a.e(Ns(O,u,f,C),{u_world:M}),tc=(O,u,f,C)=>{const M=O.transform;let I,L;if(C.paint.get("circle-pitch-alignment")==="map"){const j=or(f,1,M.zoom);I=!0,L=[j,j]}else I=!1,L=M.pixelsToGLUnits;return{u_camera_to_center_distance:M.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:O.translatePosMatrix(u.posMatrix,f,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+I,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:L}},bA=(O,u,f)=>{const C=or(f,1,u.zoom),M=Math.pow(2,u.zoom-f.tileID.overscaledZ),I=f.tileID.overscaleFactor();return{u_matrix:O,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[u.pixelsToGLUnits[0]/(C*M),u.pixelsToGLUnits[1]/(C*M)],u_overscale_factor:I}},xA=(O,u,f=1)=>({u_matrix:O,u_color:u,u_overlay:0,u_overlay_scale:f}),Ju=O=>({u_matrix:O}),nc=(O,u,f,C)=>({u_matrix:O,u_extrude_scale:or(u,1,f),u_intensity:C});function Ha(O,u){const f=Math.pow(2,u.canonical.z),C=u.canonical.y;return[new a.Y(0,C/f).toLngLat().lat,new a.Y(0,(C+1)/f).toLngLat().lat]}const Ss=(O,u,f,C)=>{const M=O.transform;return{u_matrix:eA(O,u,f,C),u_ratio:1/or(u,1,M.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},wA=(O,u,f,C,M)=>a.e(Ss(O,u,f,M),{u_image:0,u_image_height:C}),pl=(O,u,f,C,M)=>{const I=O.transform,L=Ho(u,I);return{u_matrix:eA(O,u,f,M),u_texsize:u.imageAtlasTexture.size,u_ratio:1/or(u,1,I.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[L,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},kl=(O,u,f,C,M,I)=>{const L=O.lineAtlas,j=Ho(u,O.transform),G=f.layout.get("line-cap")==="round",te=L.getDash(C.from,G),ue=L.getDash(C.to,G),fe=te.width*M.fromScale,Ee=ue.width*M.toScale;return a.e(Ss(O,u,f,I),{u_patternscale_a:[j/fe,-te.height/2],u_patternscale_b:[j/Ee,-ue.height/2],u_sdfgamma:L.width/(256*Math.min(fe,Ee)*O.pixelRatio)/2,u_image:0,u_tex_y_a:te.y,u_tex_y_b:ue.y,u_mix:M.t})};function Ho(O,u){return 1/or(O,1,u.tileZoom)}function eA(O,u,f,C){return O.translatePosMatrix(C?C.posMatrix:u.tileID.posMatrix,u,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const lu=(O,u,f,C,M)=>{return{u_matrix:O,u_tl_parent:u,u_scale_parent:f,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*M.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:M.paint.get("raster-brightness-min"),u_brightness_high:M.paint.get("raster-brightness-max"),u_saturation_factor:(L=M.paint.get("raster-saturation"),L>0?1-1/(1.001-L):-L),u_contrast_factor:(I=M.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:uu(M.paint.get("raster-hue-rotate"))};var I,L};function uu(O){O*=Math.PI/180;const u=Math.sin(O),f=Math.cos(O);return[(2*f+1)/3,(-Math.sqrt(3)*u-f+1)/3,(Math.sqrt(3)*u-f+1)/3]}const Bu=(O,u,f,C,M,I,L,j,G,te)=>{const ue=M.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_pitch:ue.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:ue.width/ue.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:L,u_coord_matrix:j,u_is_text:+G,u_pitch_with_map:+C,u_texsize:te,u_texture:0}},As=(O,u,f,C,M,I,L,j,G,te,ue)=>{const fe=M.transform;return a.e(Bu(O,u,f,C,M,I,L,j,G,te),{u_gamma_scale:C?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:M.pixelRatio,u_is_halo:+ue})},Au=(O,u,f,C,M,I,L,j,G,te)=>a.e(As(O,u,f,C,M,I,L,j,!0,G,!0),{u_texsize_icon:te,u_texture_icon:1}),rc=(O,u,f)=>({u_matrix:O,u_opacity:u,u_color:f}),mo=(O,u,f,C,M,I)=>a.e(function(L,j,G,te){const ue=G.imageManager.getPattern(L.from.toString()),fe=G.imageManager.getPattern(L.to.toString()),{width:Ee,height:ze}=G.imageManager.getPixelSize(),Fe=Math.pow(2,te.tileID.overscaledZ),Ge=te.tileSize*Math.pow(2,G.transform.tileZoom)/Fe,je=Ge*(te.tileID.canonical.x+te.tileID.wrap*Fe),ct=Ge*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ue.tl,u_pattern_br_a:ue.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Ee,ze],u_mix:j.t,u_pattern_size_a:ue.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/or(te,1,G.transform.tileZoom),u_pixel_coord_upper:[je>>16,ct>>16],u_pixel_coord_lower:[65535&je,65535&ct]}}(C,I,f,M),{u_matrix:O,u_opacity:u}),Ao={fillExtrusion:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_lightpos:new a.aK(O,u.u_lightpos),u_lightintensity:new a.aH(O,u.u_lightintensity),u_lightcolor:new a.aK(O,u.u_lightcolor),u_vertical_gradient:new a.aH(O,u.u_vertical_gradient),u_opacity:new a.aH(O,u.u_opacity)}),fillExtrusionPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_lightpos:new a.aK(O,u.u_lightpos),u_lightintensity:new a.aH(O,u.u_lightintensity),u_lightcolor:new a.aK(O,u.u_lightcolor),u_vertical_gradient:new a.aH(O,u.u_vertical_gradient),u_height_factor:new a.aH(O,u.u_height_factor),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade),u_opacity:new a.aH(O,u.u_opacity)}),fill:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix)}),fillPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),fillOutline:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world)}),fillOutlinePattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world),u_image:new a.aG(O,u.u_image),u_texsize:new a.aL(O,u.u_texsize),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),circle:(O,u)=>({u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_scale_with_map:new a.aG(O,u.u_scale_with_map),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_extrude_scale:new a.aL(O,u.u_extrude_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_matrix:new a.aI(O,u.u_matrix)}),collisionBox:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aH(O,u.u_pixels_to_tile_units),u_extrude_scale:new a.aL(O,u.u_extrude_scale),u_overscale_factor:new a.aH(O,u.u_overscale_factor)}),collisionCircle:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_inv_matrix:new a.aI(O,u.u_inv_matrix),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_viewport_size:new a.aL(O,u.u_viewport_size)}),debug:(O,u)=>({u_color:new a.aM(O,u.u_color),u_matrix:new a.aI(O,u.u_matrix),u_overlay:new a.aG(O,u.u_overlay),u_overlay_scale:new a.aH(O,u.u_overlay_scale)}),clippingMask:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix)}),heatmap:(O,u)=>({u_extrude_scale:new a.aH(O,u.u_extrude_scale),u_intensity:new a.aH(O,u.u_intensity),u_matrix:new a.aI(O,u.u_matrix)}),heatmapTexture:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_world:new a.aL(O,u.u_world),u_image:new a.aG(O,u.u_image),u_color_ramp:new a.aG(O,u.u_color_ramp),u_opacity:new a.aH(O,u.u_opacity)}),hillshade:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_latrange:new a.aL(O,u.u_latrange),u_light:new a.aL(O,u.u_light),u_shadow:new a.aM(O,u.u_shadow),u_highlight:new a.aM(O,u.u_highlight),u_accent:new a.aM(O,u.u_accent)}),hillshadePrepare:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_image:new a.aG(O,u.u_image),u_dimension:new a.aL(O,u.u_dimension),u_zoom:new a.aH(O,u.u_zoom),u_unpack:new a.aJ(O,u.u_unpack)}),line:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels)}),lineGradient:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_image:new a.aG(O,u.u_image),u_image_height:new a.aH(O,u.u_image_height)}),linePattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texsize:new a.aL(O,u.u_texsize),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_image:new a.aG(O,u.u_image),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_scale:new a.aK(O,u.u_scale),u_fade:new a.aH(O,u.u_fade)}),lineSDF:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ratio:new a.aH(O,u.u_ratio),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new a.aL(O,u.u_units_to_pixels),u_patternscale_a:new a.aL(O,u.u_patternscale_a),u_patternscale_b:new a.aL(O,u.u_patternscale_b),u_sdfgamma:new a.aH(O,u.u_sdfgamma),u_image:new a.aG(O,u.u_image),u_tex_y_a:new a.aH(O,u.u_tex_y_a),u_tex_y_b:new a.aH(O,u.u_tex_y_b),u_mix:new a.aH(O,u.u_mix)}),raster:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_tl_parent:new a.aL(O,u.u_tl_parent),u_scale_parent:new a.aH(O,u.u_scale_parent),u_buffer_scale:new a.aH(O,u.u_buffer_scale),u_fade_t:new a.aH(O,u.u_fade_t),u_opacity:new a.aH(O,u.u_opacity),u_image0:new a.aG(O,u.u_image0),u_image1:new a.aG(O,u.u_image1),u_brightness_low:new a.aH(O,u.u_brightness_low),u_brightness_high:new a.aH(O,u.u_brightness_high),u_saturation_factor:new a.aH(O,u.u_saturation_factor),u_contrast_factor:new a.aH(O,u.u_contrast_factor),u_spin_weights:new a.aK(O,u.u_spin_weights)}),symbolIcon:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texture:new a.aG(O,u.u_texture)}),symbolSDF:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texture:new a.aG(O,u.u_texture),u_gamma_scale:new a.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_is_halo:new a.aG(O,u.u_is_halo)}),symbolTextAndIcon:(O,u)=>({u_is_size_zoom_constant:new a.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aG(O,u.u_is_size_feature_constant),u_size_t:new a.aH(O,u.u_size_t),u_size:new a.aH(O,u.u_size),u_camera_to_center_distance:new a.aH(O,u.u_camera_to_center_distance),u_pitch:new a.aH(O,u.u_pitch),u_rotate_symbol:new a.aG(O,u.u_rotate_symbol),u_aspect_ratio:new a.aH(O,u.u_aspect_ratio),u_fade_change:new a.aH(O,u.u_fade_change),u_matrix:new a.aI(O,u.u_matrix),u_label_plane_matrix:new a.aI(O,u.u_label_plane_matrix),u_coord_matrix:new a.aI(O,u.u_coord_matrix),u_is_text:new a.aG(O,u.u_is_text),u_pitch_with_map:new a.aG(O,u.u_pitch_with_map),u_texsize:new a.aL(O,u.u_texsize),u_texsize_icon:new a.aL(O,u.u_texsize_icon),u_texture:new a.aG(O,u.u_texture),u_texture_icon:new a.aG(O,u.u_texture_icon),u_gamma_scale:new a.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new a.aH(O,u.u_device_pixel_ratio),u_is_halo:new a.aG(O,u.u_is_halo)}),background:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_opacity:new a.aH(O,u.u_opacity),u_color:new a.aM(O,u.u_color)}),backgroundPattern:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_opacity:new a.aH(O,u.u_opacity),u_image:new a.aG(O,u.u_image),u_pattern_tl_a:new a.aL(O,u.u_pattern_tl_a),u_pattern_br_a:new a.aL(O,u.u_pattern_br_a),u_pattern_tl_b:new a.aL(O,u.u_pattern_tl_b),u_pattern_br_b:new a.aL(O,u.u_pattern_br_b),u_texsize:new a.aL(O,u.u_texsize),u_mix:new a.aH(O,u.u_mix),u_pattern_size_a:new a.aL(O,u.u_pattern_size_a),u_pattern_size_b:new a.aL(O,u.u_pattern_size_b),u_scale_a:new a.aH(O,u.u_scale_a),u_scale_b:new a.aH(O,u.u_scale_b),u_pixel_coord_upper:new a.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.aL(O,u.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aH(O,u.u_tile_units_to_pixels)}),terrain:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texture:new a.aG(O,u.u_texture),u_ele_delta:new a.aH(O,u.u_ele_delta)}),terrainDepth:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_ele_delta:new a.aH(O,u.u_ele_delta)}),terrainCoords:(O,u)=>({u_matrix:new a.aI(O,u.u_matrix),u_texture:new a.aG(O,u.u_texture),u_terrain_coords_id:new a.aH(O,u.u_terrain_coords_id),u_ele_delta:new a.aH(O,u.u_ele_delta)})};class ne{constructor(u,f,C){this.context=u;const M=u.gl;this.buffer=M.createBuffer(),this.dynamicDraw=!!C,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),M.bufferData(M.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ie={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class At{constructor(u,f,C,M){this.length=f.length,this.attributes=C,this.itemSize=f.bytesPerElement,this.dynamicDraw=M,this.context=u;const I=u.gl;this.buffer=I.createBuffer(),u.bindVertexBuffer.set(this.buffer),I.bufferData(I.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,f){for(let C=0;C<this.attributes.length;C++){const M=f.attributes[this.attributes[C].name];M!==void 0&&u.enableVertexAttribArray(M)}}setVertexAttribPointers(u,f,C){for(let M=0;M<this.attributes.length;M++){const I=this.attributes[M],L=f.attributes[I.name];L!==void 0&&u.vertexAttribPointer(L,I.components,u[Ie[I.type]],!1,this.itemSize,I.offset+this.itemSize*(C||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Yt=new WeakMap;function wr(O){var u;if(Yt.has(O))return Yt.get(O);{const f=(u=O.getParameter(O.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Yt.set(O,f),f}}class Tn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class _i extends Tn{getDefault(){return a.aO.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Ti extends Tn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class Yr extends Tn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Gi extends Tn{getDefault(){return[!0,!0,!0,!0]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Fo extends Tn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class xa extends Tn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class jo extends Tn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const f=this.current;(u.func!==f.func||u.ref!==f.ref||u.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Ki extends Tn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class oa extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=u,this.dirty=!1}}class Ia extends Tn{getDefault(){return[0,1]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class Ta extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=u,this.dirty=!1}}class Gl extends Tn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class ku extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.BLEND):f.disable(f.BLEND),this.current=u,this.dirty=!1}}class ic extends Tn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class cs extends Tn{getDefault(){return a.aO.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class $m extends Tn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class Ql extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=u,this.dirty=!1}}class dh extends Tn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class Rc extends Tn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class Iu extends Tn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class Lc extends Tn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class MA extends Tn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Qo extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Tu extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class wd extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class SA extends Tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class oc extends Tn{getDefault(){return null}set(u){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class cu extends Tn{getDefault(){return null}set(u){var f;if(u===this.current&&!this.dirty)return;const C=this.gl;wr(C)?C.bindVertexArray(u):(f=C.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class zc extends Tn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Bp extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class hh extends Tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class hi extends Tn{constructor(u,f){super(u),this.context=u,this.parent=f}getDefault(){return null}}class Do extends hi{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Ym extends hi{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class fh extends hi{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Ku{constructor(u,f,C,M,I){this.context=u,this.width=f,this.height=C;const L=u.gl,j=this.framebuffer=L.createFramebuffer();if(this.colorAttachment=new Do(u,j),M)this.depthAttachment=I?new fh(u,j):new Ym(u,j);else if(I)throw new Error("Stencil cannot be set without depth");if(L.checkFramebufferStatus(L.FRAMEBUFFER)!==L.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,f=this.colorAttachment.get();if(f&&u.deleteTexture(f),this.depthAttachment){const C=this.depthAttachment.get();C&&u.deleteRenderbuffer(C)}u.deleteFramebuffer(this.framebuffer)}}class aa{constructor(u,f,C){this.blendFunction=u,this.blendColor=f,this.mask=C}}aa.Replace=[1,0],aa.disabled=new aa(aa.Replace,a.aO.transparent,[!1,!1,!1,!1]),aa.unblended=new aa(aa.Replace,a.aO.transparent,[!0,!0,!0,!0]),aa.alphaBlended=new aa([1,771],a.aO.transparent,[!0,!0,!0,!0]);class ph{constructor(u){var f,C;if(this.gl=u,this.clearColor=new _i(this),this.clearDepth=new Ti(this),this.clearStencil=new Yr(this),this.colorMask=new Gi(this),this.depthMask=new Fo(this),this.stencilMask=new xa(this),this.stencilFunc=new jo(this),this.stencilOp=new Ki(this),this.stencilTest=new oa(this),this.depthRange=new Ia(this),this.depthTest=new Ta(this),this.depthFunc=new Gl(this),this.blend=new ku(this),this.blendFunc=new ic(this),this.blendColor=new cs(this),this.blendEquation=new $m(this),this.cullFace=new Ql(this),this.cullFaceSide=new dh(this),this.frontFace=new Rc(this),this.program=new Iu(this),this.activeTexture=new Lc(this),this.viewport=new MA(this),this.bindFramebuffer=new Qo(this),this.bindRenderbuffer=new Tu(this),this.bindTexture=new wd(this),this.bindVertexBuffer=new SA(this),this.bindElementBuffer=new oc(this),this.bindVertexArray=new cu(this),this.pixelStoreUnpack=new zc(this),this.pixelStoreUnpackPremultiplyAlpha=new Bp(this),this.pixelStoreUnpackFlipY=new hh(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),wr(u)){this.HALF_FLOAT=u.HALF_FLOAT;const M=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=u.RGBA16F)!==null&&f!==void 0?f:M==null?void 0:M.RGBA16F_EXT,this.RGB16F=(C=u.RGB16F)!==null&&C!==void 0?C:M==null?void 0:M.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const M=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=M==null?void 0:M.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,f){return new ne(this,u,f)}createVertexBuffer(u,f,C){return new At(this,u,f,C)}createRenderbuffer(u,f,C){const M=this.gl,I=M.createRenderbuffer();return this.bindRenderbuffer.set(I),M.renderbufferStorage(M.RENDERBUFFER,u,f,C),this.bindRenderbuffer.set(null),I}createFramebuffer(u,f,C,M){return new Ku(this,u,f,C,M)}clear({color:u,depth:f,stencil:C}){const M=this.gl;let I=0;u&&(I|=M.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(I|=M.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),C!==void 0&&(I|=M.STENCIL_BUFFER_BIT,this.clearStencil.set(C),this.stencilMask.set(255)),M.clear(I)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){a.aD(u.blendFunction,aa.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return wr(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var f;return wr(this.gl)?this.gl.deleteVertexArray(u):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}class Pi{constructor(u,f,C){this.func=u,this.mask=f,this.range=C}}Pi.ReadOnly=!1,Pi.ReadWrite=!0,Pi.disabled=new Pi(519,Pi.ReadOnly,[0,1]);const Md=7680;class wo{constructor(u,f,C,M,I,L){this.test=u,this.ref=f,this.mask=C,this.fail=M,this.depthFail=I,this.pass=L}}wo.disabled=new wo({func:519,mask:0},0,0,Md,Md,Md);class go{constructor(u,f,C){this.enable=u,this.mode=f,this.frontFace=C}}let ac;function jc(O,u,f,C,M,I,L){const j=O.context,G=j.gl,te=O.useProgram("collisionBox"),ue=[];let fe=0,Ee=0;for(let Ye=0;Ye<C.length;Ye++){const Ct=C[Ye],Gt=u.getTile(Ct),It=Gt.getBucket(f);if(!It)continue;let Jt=Ct.posMatrix;M[0]===0&&M[1]===0||(Jt=O.translatePosMatrix(Ct.posMatrix,Gt,M,I));const An=L?It.textCollisionBox:It.iconCollisionBox,ln=It.collisionCircleArray;if(ln.length>0){const vn=a.F(),er=Jt;a.aP(vn,It.placementInvProjMatrix,O.transform.glCoordMatrix),a.aP(vn,vn,It.placementViewportMatrix),ue.push({circleArray:ln,circleOffset:Ee,transform:er,invTransform:vn,coord:Ct}),fe+=ln.length/4,Ee=fe}An&&te.draw(j,G.LINES,Pi.disabled,wo.disabled,O.colorModeForRenderPass(),go.disabled,bA(Jt,O.transform,Gt),O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ct),f.id,An.layoutVertexBuffer,An.indexBuffer,An.segments,null,O.transform.zoom,null,null,An.collisionVertexBuffer)}if(!L||!ue.length)return;const ze=O.useProgram("collisionCircle"),Fe=new a.aQ;Fe.resize(4*fe),Fe._trim();let Ge=0;for(const Ye of ue)for(let Ct=0;Ct<Ye.circleArray.length/4;Ct++){const Gt=4*Ct,It=Ye.circleArray[Gt+0],Jt=Ye.circleArray[Gt+1],An=Ye.circleArray[Gt+2],ln=Ye.circleArray[Gt+3];Fe.emplace(Ge++,It,Jt,An,ln,0),Fe.emplace(Ge++,It,Jt,An,ln,1),Fe.emplace(Ge++,It,Jt,An,ln,2),Fe.emplace(Ge++,It,Jt,An,ln,3)}(!ac||ac.length<2*fe)&&(ac=function(Ye){const Ct=2*Ye,Gt=new a.aS;Gt.resize(Ct),Gt._trim();for(let It=0;It<Ct;It++){const Jt=6*It;Gt.uint16[Jt+0]=4*It+0,Gt.uint16[Jt+1]=4*It+1,Gt.uint16[Jt+2]=4*It+2,Gt.uint16[Jt+3]=4*It+2,Gt.uint16[Jt+4]=4*It+3,Gt.uint16[Jt+5]=4*It+0}return Gt}(fe));const je=j.createIndexBuffer(ac,!0),ct=j.createVertexBuffer(Fe,a.aR.members,!0);for(const Ye of ue){const Ct={u_matrix:Ye.transform,u_inv_matrix:Ye.invTransform,u_camera_to_center_distance:(Ot=O.transform).cameraToCenterDistance,u_viewport_size:[Ot.width,Ot.height]};ze.draw(j,G.TRIANGLES,Pi.disabled,wo.disabled,O.colorModeForRenderPass(),go.disabled,Ct,O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ye.coord),f.id,ct,je,a.$.simpleSegment(0,2*Ye.circleOffset,Ye.circleArray.length,Ye.circleArray.length/2),null,O.transform.zoom,null,null,null)}var Ot;ct.destroy(),je.destroy()}go.disabled=new go(!1,1029,2305),go.backCCW=new go(!0,1029,2305);const Gs=a.an(new Float32Array(16));function mh(O,u,f,C,M,I){const{horizontalAlign:L,verticalAlign:j}=a.at(O);return new a.P((-(L-.5)*u/M+C[0])*I,(-(j-.5)*f/M+C[1])*I)}function $l(O,u,f,C,M,I,L,j,G,te,ue){const fe=O.text.placedSymbolArray,Ee=O.text.dynamicLayoutVertexArray,ze=O.icon.dynamicLayoutVertexArray,Fe={};Ee.clear();for(let Ge=0;Ge<fe.length;Ge++){const je=fe.get(Ge),ct=je.hidden||!je.crossTileID||O.allowVerticalPlacement&&!je.placedOrientation?null:C[je.crossTileID];if(ct){const Ot=new a.P(je.anchorX,je.anchorY),Ye=Wn(Ot,f?L:I,ue),Ct=Te(M.cameraToCenterDistance,Ye.signedDistanceFromCamera);let Gt=a.ai(O.textSizeData,G,je)*Ct/a.ao;f&&(Gt*=O.tilePixelRatio/j);const{width:It,height:Jt,anchor:An,textOffset:ln,textBoxScale:vn}=ct,er=mh(An,It,Jt,ln,vn,Gt),kr=f?Wn(Ot.add(er),I,ue).point:Ye.point.add(u?er.rotate(-M.angle):er),In=O.allowVerticalPlacement&&je.placedOrientation===a.ah.vertical?Math.PI/2:0;for(let _r=0;_r<je.numGlyphs;_r++)a.aj(Ee,kr,In);te&&je.associatedIconIndex>=0&&(Fe[je.associatedIconIndex]={shiftedAnchor:kr,angle:In})}else qt(je.numGlyphs,Ee)}if(te){ze.clear();const Ge=O.icon.placedSymbolArray;for(let je=0;je<Ge.length;je++){const ct=Ge.get(je);if(ct.hidden)qt(ct.numGlyphs,ze);else{const Ot=Fe[je];if(Ot)for(let Ye=0;Ye<ct.numGlyphs;Ye++)a.aj(ze,Ot.shiftedAnchor,Ot.angle);else qt(ct.numGlyphs,ze)}}O.icon.dynamicLayoutVertexBuffer.updateData(ze)}O.text.dynamicLayoutVertexBuffer.updateData(Ee)}function Il(O,u,f){return f.iconsInText&&u?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function EA(O,u,f,C,M,I,L,j,G,te,ue,fe){const Ee=O.context,ze=Ee.gl,Fe=O.transform,Ge=j==="map",je=G==="map",ct=j!=="viewport"&&f.layout.get("symbol-placement")!=="point",Ot=Ge&&!je&&!ct,Ye=!f.layout.get("symbol-sort-key").isConstant();let Ct=!1;const Gt=O.depthModeForSublayer(0,Pi.ReadOnly),It=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Jt=[];for(const An of C){const ln=u.getTile(An),vn=ln.getBucket(f);if(!vn)continue;const er=M?vn.text:vn.icon;if(!er||!er.segments.get().length||!er.hasVisibleVertices)continue;const kr=er.programConfigurations.get(f.id),In=M||vn.sdfIcons,_r=M?vn.textSizeData:vn.iconSizeData,Zn=je||Fe.pitch!==0,zi=O.useProgram(Il(In,M,vn),kr),bi=a.ag(_r,Fe.zoom),Hr=O.style.map.terrain&&O.style.map.terrain.getTerrainData(An);let gi,Yo,Fi,Bs,fs=[0,0],Wo=null;if(M)Yo=ln.glyphAtlasTexture,Fi=ze.LINEAR,gi=ln.glyphAtlasTexture.size,vn.iconsInText&&(fs=ln.imageAtlasTexture.size,Wo=ln.imageAtlasTexture,Bs=Zn||O.options.rotating||O.options.zooming||_r.kind==="composite"||_r.kind==="camera"?ze.LINEAR:ze.NEAREST);else{const Mo=f.layout.get("icon-size").constantOr(0)!==1||vn.iconsNeedLinear;Yo=ln.imageAtlasTexture,Fi=In||O.options.rotating||O.options.zooming||Mo||Zn?ze.LINEAR:ze.NEAREST,gi=ln.imageAtlasTexture.size}const ks=or(ln,1,O.transform.zoom),Ca=Tt(An.posMatrix,je,Ge,O.transform,ks),vo=Ur(An.posMatrix,je,Ge,O.transform,ks),Pl=It&&vn.hasTextData(),PA=f.layout.get("icon-text-fit")!=="none"&&Pl&&vn.hasIconData();if(ct){const Mo=O.style.map.terrain?(Za,ta)=>O.style.map.terrain.getElevation(An,Za,ta):null,Pa=f.layout.get("text-rotation-alignment")==="map";ve(vn,An.posMatrix,O,M,Ca,vo,je,te,Pa,Mo)}const Is=O.translatePosMatrix(An.posMatrix,ln,I,L),yu=ct||M&&It||PA?Gs:Ca,_a=O.translatePosMatrix(vo,ln,I,L,!0),Bo=In&&f.paint.get(M?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ei;Ei=In?vn.iconsInText?Au(_r.kind,bi,Ot,je,O,Is,yu,_a,gi,fs):As(_r.kind,bi,Ot,je,O,Is,yu,_a,M,gi,!0):Bu(_r.kind,bi,Ot,je,O,Is,yu,_a,M,gi);const ho={program:zi,buffers:er,uniformValues:Ei,atlasTexture:Yo,atlasTextureIcon:Wo,atlasInterpolation:Fi,atlasInterpolationIcon:Bs,isSDF:In,hasHalo:Bo};if(Ye&&vn.canOverlap){Ct=!0;const Mo=er.segments.get();for(const Pa of Mo)Jt.push({segments:new a.$([Pa]),sortKey:Pa.sortKey,state:ho,terrainData:Hr})}else Jt.push({segments:er.segments,sortKey:0,state:ho,terrainData:Hr})}Ct&&Jt.sort((An,ln)=>An.sortKey-ln.sortKey);for(const An of Jt){const ln=An.state;if(Ee.activeTexture.set(ze.TEXTURE0),ln.atlasTexture.bind(ln.atlasInterpolation,ze.CLAMP_TO_EDGE),ln.atlasTextureIcon&&(Ee.activeTexture.set(ze.TEXTURE1),ln.atlasTextureIcon&&ln.atlasTextureIcon.bind(ln.atlasInterpolationIcon,ze.CLAMP_TO_EDGE)),ln.isSDF){const vn=ln.uniformValues;ln.hasHalo&&(vn.u_is_halo=1,gh(ln.buffers,An.segments,f,O,ln.program,Gt,ue,fe,vn,An.terrainData)),vn.u_is_halo=0}gh(ln.buffers,An.segments,f,O,ln.program,Gt,ue,fe,ln.uniformValues,An.terrainData)}}function gh(O,u,f,C,M,I,L,j,G,te){const ue=C.context;M.draw(ue,ue.gl.TRIANGLES,I,L,j,go.disabled,G,te,f.id,O.layoutVertexBuffer,O.indexBuffer,u,f.paint,C.transform.zoom,O.programConfigurations.get(f.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function Sd(O,u,f,C,M){if(!f||!C||!C.imageAtlas)return;const I=C.imageAtlas.patternPositions;let L=I[f.to.toString()],j=I[f.from.toString()];if(!L&&j&&(L=j),!j&&L&&(j=L),!L||!j){const G=M.getPaintProperty(u);L=I[G],j=I[G]}L&&j&&O.setConstantPatternPositions(L,j)}function du(O,u,f,C,M,I,L){const j=O.context.gl,G="fill-pattern",te=f.paint.get(G),ue=te&&te.constantOr(1),fe=f.getCrossfadeParameters();let Ee,ze,Fe,Ge,je;L?(ze=ue&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ee=j.LINES):(ze=ue?"fillPattern":"fill",Ee=j.TRIANGLES);const ct=te.constantOr(null);for(const Ot of C){const Ye=u.getTile(Ot);if(ue&&!Ye.patternsLoaded())continue;const Ct=Ye.getBucket(f);if(!Ct)continue;const Gt=Ct.programConfigurations.get(f.id),It=O.useProgram(ze,Gt),Jt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ot);ue&&(O.context.activeTexture.set(j.TEXTURE0),Ye.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Gt.updatePaintBuffers(fe)),Sd(Gt,G,ct,Ye,f);const An=Jt?Ot:null,ln=O.translatePosMatrix(An?An.posMatrix:Ot.posMatrix,Ye,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(L){Ge=Ct.indexBuffer2,je=Ct.segments2;const vn=[j.drawingBufferWidth,j.drawingBufferHeight];Fe=ze==="fillOutlinePattern"&&ue?fl(ln,O,fe,Ye,vn):_A(ln,vn)}else Ge=Ct.indexBuffer,je=Ct.segments,Fe=ue?Ns(ln,O,fe,Ye):Va(ln);It.draw(O.context,Ee,M,O.stencilModeForClipping(Ot),I,go.disabled,Fe,Jt,f.id,Ct.layoutVertexBuffer,Ge,je,f.paint,O.transform.zoom,Gt)}}function Pu(O,u,f,C,M,I,L){const j=O.context,G=j.gl,te="fill-extrusion-pattern",ue=f.paint.get(te),fe=ue.constantOr(1),Ee=f.getCrossfadeParameters(),ze=f.paint.get("fill-extrusion-opacity"),Fe=ue.constantOr(null);for(const Ge of C){const je=u.getTile(Ge),ct=je.getBucket(f);if(!ct)continue;const Ot=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge),Ye=ct.programConfigurations.get(f.id),Ct=O.useProgram(fe?"fillExtrusionPattern":"fillExtrusion",Ye);fe&&(O.context.activeTexture.set(G.TEXTURE0),je.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Ye.updatePaintBuffers(Ee)),Sd(Ye,te,Fe,je,f);const Gt=O.translatePosMatrix(Ge.posMatrix,je,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),It=f.paint.get("fill-extrusion-vertical-gradient"),Jt=fe?qa(Gt,O,It,ze,Ge,Ee,je):Ws(Gt,O,It,ze);Ct.draw(j,j.gl.TRIANGLES,M,I,L,go.backCCW,Jt,Ot,f.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,f.paint,O.transform.zoom,Ye,O.style.map.terrain&&ct.centroidVertexBuffer)}}function Wc(O,u,f,C,M,I,L){const j=O.context,G=j.gl,te=f.fbo;if(!te)return;const ue=O.useProgram("hillshade"),fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(u);j.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,te.colorAttachment.get()),ue.draw(j,G.TRIANGLES,M,I,L,go.disabled,((Ee,ze,Fe,Ge)=>{const je=Fe.paint.get("hillshade-shadow-color"),ct=Fe.paint.get("hillshade-highlight-color"),Ot=Fe.paint.get("hillshade-accent-color");let Ye=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Fe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=Ee.transform.angle);const Ct=!Ee.options.moving;return{u_matrix:Ge?Ge.posMatrix:Ee.transform.calculatePosMatrix(ze.tileID.toUnwrapped(),Ct),u_image:0,u_latrange:Ha(0,ze.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),Ye],u_shadow:je,u_highlight:ct,u_accent:Ot}})(O,f,C,fe?u:null),fe,C.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments)}function OA(O,u,f,C,M,I){const L=O.context,j=L.gl,G=u.dem;if(G&&G.data){const te=G.dim,ue=G.stride,fe=G.getPixels();if(L.activeTexture.set(j.TEXTURE1),L.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||O.getTileTexture(ue),u.demTexture){const ze=u.demTexture;ze.update(fe,{premultiply:!1}),ze.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else u.demTexture=new ft(L,fe,j.RGBA,{premultiply:!1}),u.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);L.activeTexture.set(j.TEXTURE0);let Ee=u.fbo;if(!Ee){const ze=new ft(L,{width:te,height:te,data:null},j.RGBA);ze.bind(j.LINEAR,j.CLAMP_TO_EDGE),Ee=u.fbo=L.createFramebuffer(te,te,!0,!1),Ee.colorAttachment.set(ze.texture)}L.bindFramebuffer.set(Ee.framebuffer),L.viewport.set([0,0,te,te]),O.useProgram("hillshadePrepare").draw(L,j.TRIANGLES,C,M,I,go.disabled,((ze,Fe)=>{const Ge=Fe.stride,je=a.F();return a.aN(je,0,a.W,-a.W,0,0,1),a.H(je,je,[0,-a.W,0]),{u_matrix:je,u_image:1,u_dimension:[Ge,Ge],u_zoom:ze.overscaledZ,u_unpack:Fe.getUnpackVector()}})(u.tileID,G),null,f.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function Of(O,u,f,C,M,I){const L=C.paint.get("raster-fade-duration");if(!I&&L>0){const j=B.now(),G=(j-O.timeAdded)/L,te=u?(j-u.timeAdded)/L:-1,ue=f.getSource(),fe=M.coveringZoomLevel({tileSize:ue.tileSize,roundZoom:ue.roundZoom}),Ee=!u||Math.abs(u.tileID.overscaledZ-fe)>Math.abs(O.tileID.overscaledZ-fe),ze=Ee&&O.refreshedUponExpiration?1:a.ac(Ee?G:1-te,0,1);return O.refreshedUponExpiration&&G>=1&&(O.refreshedUponExpiration=!1),u?{opacity:1,mix:1-ze}:{opacity:ze,mix:0}}return{opacity:1,mix:0}}const kp=new a.aO(1,0,0,1),sc=new a.aO(0,1,0,1),Nc=new a.aO(0,0,1,1),Tl=new a.aO(1,0,1,1),ml=new a.aO(0,1,1,1);function Zo(O,u,f,C){il(O,0,u+f/2,O.transform.width,f,C)}function tA(O,u,f,C){il(O,u-f/2,0,f,O.transform.height,C)}function il(O,u,f,C,M,I){const L=O.context,j=L.gl;j.enable(j.SCISSOR_TEST),j.scissor(u*O.pixelRatio,f*O.pixelRatio,C*O.pixelRatio,M*O.pixelRatio),L.clear({color:I}),j.disable(j.SCISSOR_TEST)}function BA(O,u,f){const C=O.context,M=C.gl,I=f.posMatrix,L=O.useProgram("debug"),j=Pi.disabled,G=wo.disabled,te=O.colorModeForRenderPass(),ue="$debug",fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(f);C.activeTexture.set(M.TEXTURE0);const Ee=u.getTileByID(f.key).latestRawTileData,ze=Math.floor((Ee&&Ee.byteLength||0)/1024),Fe=u.getTile(f).tileSize,Ge=512/Math.min(Fe,512)*(f.overscaledZ/O.transform.zoom)*.5;let je=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(je+=` => ${f.overscaledZ}`),function(ct,Ot){ct.initDebugOverlayCanvas();const Ye=ct.debugOverlayCanvas,Ct=ct.context.gl,Gt=ct.debugOverlayCanvas.getContext("2d");Gt.clearRect(0,0,Ye.width,Ye.height),Gt.shadowColor="white",Gt.shadowBlur=2,Gt.lineWidth=1.5,Gt.strokeStyle="white",Gt.textBaseline="top",Gt.font="bold 36px Open Sans, sans-serif",Gt.fillText(Ot,5,5),Gt.strokeText(Ot,5,5),ct.debugOverlayTexture.update(Ye),ct.debugOverlayTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE)}(O,`${je} ${ze}kB`),L.draw(C,M.TRIANGLES,j,G,aa.alphaBlended,go.disabled,xA(I,a.aO.transparent,Ge),null,ue,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),L.draw(C,M.LINE_STRIP,j,G,te,go.disabled,xA(I,a.aO.red),fe,ue,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function gl(O,u,f){const C=O.context,M=C.gl,I=O.colorModeForRenderPass(),L=new Pi(M.LEQUAL,Pi.ReadWrite,O.depthRangeFor3D),j=O.useProgram("terrain"),G=u.getTerrainMesh();C.bindFramebuffer.set(null),C.viewport.set([0,0,O.width,O.height]);for(const te of f){const ue=O.renderToTexture.getTexture(te),fe=u.getTerrainData(te.tileID);C.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,ue.texture);const Ee={u_matrix:O.transform.calculatePosMatrix(te.tileID.toUnwrapped()),u_texture:0,u_ele_delta:u.getMeshFrameDelta(O.transform.zoom)};j.draw(C,M.TRIANGLES,L,wo.disabled,I,go.backCCW,Ee,fe,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}class yh{constructor(u,f){this.context=new ph(u),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.F(),renderTime:0},this.setup(),this.numSublayers=Et.maxUnderzooming+Et.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Mn}resize(u,f,C){if(this.width=Math.floor(u*C),this.height=Math.floor(f*C),this.pixelRatio=C,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const M of this.style._order)this.style._layers[M].resize()}setup(){const u=this.context,f=new a.aV;f.emplaceBack(0,0),f.emplaceBack(a.W,0),f.emplaceBack(0,a.W),f.emplaceBack(a.W,a.W),this.tileExtentBuffer=u.createVertexBuffer(f,ya.members),this.tileExtentSegments=a.$.simpleSegment(0,0,4,2);const C=new a.aV;C.emplaceBack(0,0),C.emplaceBack(a.W,0),C.emplaceBack(0,a.W),C.emplaceBack(a.W,a.W),this.debugBuffer=u.createVertexBuffer(C,ya.members),this.debugSegments=a.$.simpleSegment(0,0,4,5);const M=new a.Z;M.emplaceBack(0,0,0,0),M.emplaceBack(a.W,0,a.W,0),M.emplaceBack(0,a.W,0,a.W),M.emplaceBack(a.W,a.W,a.W,a.W),this.rasterBoundsBuffer=u.createVertexBuffer(M,Jn.members),this.rasterBoundsSegments=a.$.simpleSegment(0,0,4,2);const I=new a.aV;I.emplaceBack(0,0),I.emplaceBack(1,0),I.emplaceBack(0,1),I.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(I,ya.members),this.viewportSegments=a.$.simpleSegment(0,0,4,2);const L=new a.aW;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(L);const j=new a.aX;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(j);const G=this.context.gl;this.stencilClearMode=new wo({func:G.ALWAYS,mask:0},0,255,G.ZERO,G.ZERO,G.ZERO)}clearStencil(){const u=this.context,f=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const C=a.F();a.aN(C,0,this.width,this.height,0,0,1),a.J(C,C,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,f.TRIANGLES,Pi.disabled,this.stencilClearMode,aa.disabled,go.disabled,Ju(C),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,f){if(this.currentStencilSource===u.source||!u.isTileClipped()||!f||!f.length)return;this.currentStencilSource=u.source;const C=this.context,M=C.gl;this.nextStencilID+f.length>256&&this.clearStencil(),C.setColorMode(aa.disabled),C.setDepthMode(Pi.disabled);const I=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const L of f){const j=this._tileClippingMaskIDs[L.key]=this.nextStencilID++,G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(L);I.draw(C,M.TRIANGLES,Pi.disabled,new wo({func:M.ALWAYS,mask:0},j,255,M.KEEP,M.KEEP,M.REPLACE),aa.disabled,go.disabled,Ju(L.posMatrix),G,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,f=this.context.gl;return new wo({func:f.NOTEQUAL,mask:255},u,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(u){const f=this.context.gl;return new wo({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(u){const f=this.context.gl,C=u.sort((L,j)=>j.overscaledZ-L.overscaledZ),M=C[C.length-1].overscaledZ,I=C[0].overscaledZ-M+1;if(I>1){this.currentStencilSource=void 0,this.nextStencilID+I>256&&this.clearStencil();const L={};for(let j=0;j<I;j++)L[j+M]=new wo({func:f.GEQUAL,mask:255},j+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=I,[L,C]}return[{[M]:wo.disabled},C]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new aa([u.CONSTANT_COLOR,u.ONE],new a.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?aa.unblended:aa.alphaBlended}depthModeForSublayer(u,f,C){if(!this.opaquePassEnabledForLayer())return Pi.disabled;const M=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Pi(C||this.context.gl.LEQUAL,f,[M,M])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,f){this.style=u,this.options=f,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(B.now()),this.imageManager.beginFrame();const C=this.style._order,M=this.style.sourceCaches,I={},L={},j={};for(const G in M){const te=M[G];te.used&&te.prepare(this.context),I[G]=te.getVisibleCoordinates(),L[G]=I[G].slice().reverse(),j[G]=te.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<C.length;G++)if(this.style._layers[C[G]].is3D()){this.opaquePassCutoff=G;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const G=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.aY(this.terrainFacilitator.matrix,this.transform.projMatrix)||G.length)&&(a.aZ(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(te,ue){const fe=te.context,Ee=fe.gl,ze=aa.unblended,Fe=new Pi(Ee.LEQUAL,Pi.ReadWrite,[0,1]),Ge=ue.getTerrainMesh(),je=ue.sourceCache.getRenderableTiles(),ct=te.useProgram("terrainDepth");fe.bindFramebuffer.set(ue.getFramebuffer("depth").framebuffer),fe.viewport.set([0,0,te.width/devicePixelRatio,te.height/devicePixelRatio]),fe.clear({color:a.aO.transparent,depth:1});for(const Ot of je){const Ye=ue.getTerrainData(Ot.tileID),Ct={u_matrix:te.transform.calculatePosMatrix(Ot.tileID.toUnwrapped()),u_ele_delta:ue.getMeshFrameDelta(te.transform.zoom)};ct.draw(fe,Ee.TRIANGLES,Fe,wo.disabled,ze,go.backCCW,Ct,Ye,"terrain",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}fe.bindFramebuffer.set(null),fe.viewport.set([0,0,te.width,te.height])}(this,this.style.map.terrain),function(te,ue){const fe=te.context,Ee=fe.gl,ze=aa.unblended,Fe=new Pi(Ee.LEQUAL,Pi.ReadWrite,[0,1]),Ge=ue.getTerrainMesh(),je=ue.getCoordsTexture(),ct=ue.sourceCache.getRenderableTiles(),Ot=te.useProgram("terrainCoords");fe.bindFramebuffer.set(ue.getFramebuffer("coords").framebuffer),fe.viewport.set([0,0,te.width/devicePixelRatio,te.height/devicePixelRatio]),fe.clear({color:a.aO.transparent,depth:1}),ue.coordsIndex=[];for(const Ye of ct){const Ct=ue.getTerrainData(Ye.tileID);fe.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_2D,je.texture);const Gt={u_matrix:te.transform.calculatePosMatrix(Ye.tileID.toUnwrapped()),u_terrain_coords_id:(255-ue.coordsIndex.length)/255,u_texture:0,u_ele_delta:ue.getMeshFrameDelta(te.transform.zoom)};Ot.draw(fe,Ee.TRIANGLES,Fe,wo.disabled,ze,go.backCCW,Gt,Ct,"terrain",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments),ue.coordsIndex.push(Ye.tileID.key)}fe.bindFramebuffer.set(null),fe.viewport.set([0,0,te.width,te.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const G of C){const te=this.style._layers[G];if(!te.hasOffscreenPass()||te.isHidden(this.transform.zoom))continue;const ue=L[te.source];(te.type==="custom"||ue.length)&&this.renderLayer(this,M[te.source],te,ue)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?a.aO.black:a.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const G=this.style._layers[C[this.currentLayer]],te=M[G.source],ue=I[G.source];this._renderTileClippingMasks(G,ue),this.renderLayer(this,te,G,ue)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const G=this.style._layers[C[this.currentLayer]],te=M[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G))continue;const ue=(G.type==="symbol"?j:L)[G.source];this._renderTileClippingMasks(G,I[G.source]),this.renderLayer(this,te,G,ue)}if(this.options.showTileBoundaries){const G=function(te,ue){let fe=null;const Ee=Object.values(te._layers).flatMap(je=>je.source&&!je.isHidden(ue)?[te.sourceCaches[je.source]]:[]),ze=Ee.filter(je=>je.getSource().type==="vector"),Fe=Ee.filter(je=>je.getSource().type!=="vector"),Ge=je=>{(!fe||fe.getSource().maxzoom<je.getSource().maxzoom)&&(fe=je)};return ze.forEach(je=>Ge(je)),fe||Fe.forEach(je=>Ge(je)),fe}(this.style,this.transform.zoom);G&&function(te,ue,fe){for(let Ee=0;Ee<fe.length;Ee++)BA(te,ue,fe[Ee])}(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){const te=G.transform.padding;Zo(G,G.transform.height-(te.top||0),3,kp),Zo(G,te.bottom||0,3,sc),tA(G,te.left||0,3,Nc),tA(G,G.transform.width-(te.right||0),3,Tl);const ue=G.transform.centerPoint;(function(fe,Ee,ze,Fe){il(fe,Ee-1,ze-10,2,20,Fe),il(fe,Ee-10,ze-1,20,2,Fe)})(G,ue.x,G.transform.height-ue.y,ml)}(this),this.context.setDefault()}renderLayer(u,f,C,M){if(!C.isHidden(this.transform.zoom)&&(C.type==="background"||C.type==="custom"||(M||[]).length))switch(this.id=C.id,C.type){case"symbol":(function(I,L,j,G,te){if(I.renderPass!=="translucent")return;const ue=wo.disabled,fe=I.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Ee,ze,Fe,Ge,je,ct,Ot){const Ye=ze.transform,Ct=je==="map",Gt=ct==="map";for(const It of Ee){const Jt=Ge.getTile(It),An=Jt.getBucket(Fe);if(!An||!An.text||!An.text.segments.get().length)continue;const ln=a.ag(An.textSizeData,Ye.zoom),vn=or(Jt,1,ze.transform.zoom),er=Tt(It.posMatrix,Gt,Ct,ze.transform,vn),kr=Fe.layout.get("icon-text-fit")!=="none"&&An.hasIconData();if(ln){const In=Math.pow(2,Ye.zoom-Jt.tileID.overscaledZ);$l(An,Ct,Gt,Ot,Ye,er,It.posMatrix,In,ln,kr,ze.style.map.terrain?(_r,Zn)=>ze.style.map.terrain.getElevation(It,_r,Zn):null)}}}(G,I,j,L,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),te),j.paint.get("icon-opacity").constantOr(1)!==0&&EA(I,L,j,G,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),ue,fe),j.paint.get("text-opacity").constantOr(1)!==0&&EA(I,L,j,G,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),ue,fe),L.map.showCollisionBoxes&&(jc(I,L,j,G,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),jc(I,L,j,G,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(u,f,C,M,this.style.placement.variableOffsets);break;case"circle":(function(I,L,j,G){if(I.renderPass!=="translucent")return;const te=j.paint.get("circle-opacity"),ue=j.paint.get("circle-stroke-width"),fe=j.paint.get("circle-stroke-opacity"),Ee=!j.layout.get("circle-sort-key").isConstant();if(te.constantOr(1)===0&&(ue.constantOr(1)===0||fe.constantOr(1)===0))return;const ze=I.context,Fe=ze.gl,Ge=I.depthModeForSublayer(0,Pi.ReadOnly),je=wo.disabled,ct=I.colorModeForRenderPass(),Ot=[];for(let Ye=0;Ye<G.length;Ye++){const Ct=G[Ye],Gt=L.getTile(Ct),It=Gt.getBucket(j);if(!It)continue;const Jt=It.programConfigurations.get(j.id),An=I.useProgram("circle",Jt),ln=It.layoutVertexBuffer,vn=It.indexBuffer,er=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ct),kr={programConfiguration:Jt,program:An,layoutVertexBuffer:ln,indexBuffer:vn,uniformValues:tc(I,Ct,Gt,j),terrainData:er};if(Ee){const In=It.segments.get();for(const _r of In)Ot.push({segments:new a.$([_r]),sortKey:_r.sortKey,state:kr})}else Ot.push({segments:It.segments,sortKey:0,state:kr})}Ee&&Ot.sort((Ye,Ct)=>Ye.sortKey-Ct.sortKey);for(const Ye of Ot){const{programConfiguration:Ct,program:Gt,layoutVertexBuffer:It,indexBuffer:Jt,uniformValues:An,terrainData:ln}=Ye.state;Gt.draw(ze,Fe.TRIANGLES,Ge,je,ct,go.disabled,An,ln,j.id,It,Jt,Ye.segments,j.paint,I.transform.zoom,Ct)}})(u,f,C,M);break;case"heatmap":(function(I,L,j,G){if(j.paint.get("heatmap-opacity")!==0)if(I.renderPass==="offscreen"){const te=I.context,ue=te.gl,fe=wo.disabled,Ee=new aa([ue.ONE,ue.ONE],a.aO.transparent,[!0,!0,!0,!0]);(function(ze,Fe,Ge){const je=ze.gl;ze.activeTexture.set(je.TEXTURE1),ze.viewport.set([0,0,Fe.width/4,Fe.height/4]);let ct=Ge.heatmapFbo;if(ct)je.bindTexture(je.TEXTURE_2D,ct.colorAttachment.get()),ze.bindFramebuffer.set(ct.framebuffer);else{const Ot=je.createTexture();je.bindTexture(je.TEXTURE_2D,Ot),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_S,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_WRAP_T,je.CLAMP_TO_EDGE),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MIN_FILTER,je.LINEAR),je.texParameteri(je.TEXTURE_2D,je.TEXTURE_MAG_FILTER,je.LINEAR),ct=Ge.heatmapFbo=ze.createFramebuffer(Fe.width/4,Fe.height/4,!1,!1),function(Ye,Ct,Gt,It){var Jt,An;const ln=Ye.gl,vn=(Jt=Ye.HALF_FLOAT)!==null&&Jt!==void 0?Jt:ln.UNSIGNED_BYTE,er=(An=Ye.RGBA16F)!==null&&An!==void 0?An:ln.RGBA;ln.texImage2D(ln.TEXTURE_2D,0,er,Ct.width/4,Ct.height/4,0,ln.RGBA,vn,null),It.colorAttachment.set(Gt)}(ze,Fe,Ot,ct)}})(te,I,j),te.clear({color:a.aO.transparent});for(let ze=0;ze<G.length;ze++){const Fe=G[ze];if(L.hasRenderableParent(Fe))continue;const Ge=L.getTile(Fe),je=Ge.getBucket(j);if(!je)continue;const ct=je.programConfigurations.get(j.id),Ot=I.useProgram("heatmap",ct),{zoom:Ye}=I.transform;Ot.draw(te,ue.TRIANGLES,Pi.disabled,fe,Ee,go.disabled,nc(Fe.posMatrix,Ge,Ye,j.paint.get("heatmap-intensity")),null,j.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,j.paint,I.transform.zoom,ct)}te.viewport.set([0,0,I.width,I.height])}else I.renderPass==="translucent"&&(I.context.setColorMode(I.colorModeForRenderPass()),function(te,ue){const fe=te.context,Ee=fe.gl,ze=ue.heatmapFbo;if(!ze)return;fe.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_2D,ze.colorAttachment.get()),fe.activeTexture.set(Ee.TEXTURE1);let Fe=ue.colorRampTexture;Fe||(Fe=ue.colorRampTexture=new ft(fe,ue.colorRamp,Ee.RGBA)),Fe.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE),te.useProgram("heatmapTexture").draw(fe,Ee.TRIANGLES,Pi.disabled,wo.disabled,te.colorModeForRenderPass(),go.disabled,((Ge,je,ct,Ot)=>{const Ye=a.F();a.aN(Ye,0,Ge.width,Ge.height,0,0,1);const Ct=Ge.context.gl;return{u_matrix:Ye,u_world:[Ct.drawingBufferWidth,Ct.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:je.paint.get("heatmap-opacity")}})(te,ue),null,ue.id,te.viewportBuffer,te.quadTriangleIndexBuffer,te.viewportSegments,ue.paint,te.transform.zoom)}(I,j))})(u,f,C,M);break;case"line":(function(I,L,j,G){if(I.renderPass!=="translucent")return;const te=j.paint.get("line-opacity"),ue=j.paint.get("line-width");if(te.constantOr(1)===0||ue.constantOr(1)===0)return;const fe=I.depthModeForSublayer(0,Pi.ReadOnly),Ee=I.colorModeForRenderPass(),ze=j.paint.get("line-dasharray"),Fe=j.paint.get("line-pattern"),Ge=Fe.constantOr(1),je=j.paint.get("line-gradient"),ct=j.getCrossfadeParameters(),Ot=Ge?"linePattern":ze?"lineSDF":je?"lineGradient":"line",Ye=I.context,Ct=Ye.gl;let Gt=!0;for(const It of G){const Jt=L.getTile(It);if(Ge&&!Jt.patternsLoaded())continue;const An=Jt.getBucket(j);if(!An)continue;const ln=An.programConfigurations.get(j.id),vn=I.context.program.get(),er=I.useProgram(Ot,ln),kr=Gt||er.program!==vn,In=I.style.map.terrain&&I.style.map.terrain.getTerrainData(It),_r=Fe.constantOr(null);if(_r&&Jt.imageAtlas){const bi=Jt.imageAtlas,Hr=bi.patternPositions[_r.to.toString()],gi=bi.patternPositions[_r.from.toString()];Hr&&gi&&ln.setConstantPatternPositions(Hr,gi)}const Zn=In?It:null,zi=Ge?pl(I,Jt,j,ct,Zn):ze?kl(I,Jt,j,ze,ct,Zn):je?wA(I,Jt,j,An.lineClipsArray.length,Zn):Ss(I,Jt,j,Zn);if(Ge)Ye.activeTexture.set(Ct.TEXTURE0),Jt.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),ln.updatePaintBuffers(ct);else if(ze&&(kr||I.lineAtlas.dirty))Ye.activeTexture.set(Ct.TEXTURE0),I.lineAtlas.bind(Ye);else if(je){const bi=An.gradients[j.id];let Hr=bi.texture;if(j.gradientVersion!==bi.version){let gi=256;if(j.stepInterpolant){const Yo=L.getSource().maxzoom,Fi=It.canonical.z===Yo?Math.ceil(1<<I.transform.maxZoom-It.canonical.z):1;gi=a.ac(a.aT(An.maxLineLength/a.W*1024*Fi),256,Ye.maxTextureSize)}bi.gradient=a.aU({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:gi,image:bi.gradient||void 0,clips:An.lineClipsArray}),bi.texture?bi.texture.update(bi.gradient):bi.texture=new ft(Ye,bi.gradient,Ct.RGBA),bi.version=j.gradientVersion,Hr=bi.texture}Ye.activeTexture.set(Ct.TEXTURE0),Hr.bind(j.stepInterpolant?Ct.NEAREST:Ct.LINEAR,Ct.CLAMP_TO_EDGE)}er.draw(Ye,Ct.TRIANGLES,fe,I.stencilModeForClipping(It),Ee,go.disabled,zi,In,j.id,An.layoutVertexBuffer,An.indexBuffer,An.segments,j.paint,I.transform.zoom,ln,An.layoutVertexBuffer2),Gt=!1}})(u,f,C,M);break;case"fill":(function(I,L,j,G){const te=j.paint.get("fill-color"),ue=j.paint.get("fill-opacity");if(ue.constantOr(1)===0)return;const fe=I.colorModeForRenderPass(),Ee=j.paint.get("fill-pattern"),ze=I.opaquePassEnabledForLayer()&&!Ee.constantOr(1)&&te.constantOr(a.aO.transparent).a===1&&ue.constantOr(0)===1?"opaque":"translucent";if(I.renderPass===ze){const Fe=I.depthModeForSublayer(1,I.renderPass==="opaque"?Pi.ReadWrite:Pi.ReadOnly);du(I,L,j,G,Fe,fe,!1)}if(I.renderPass==="translucent"&&j.paint.get("fill-antialias")){const Fe=I.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Pi.ReadOnly);du(I,L,j,G,Fe,fe,!0)}})(u,f,C,M);break;case"fill-extrusion":(function(I,L,j,G){const te=j.paint.get("fill-extrusion-opacity");if(te!==0&&I.renderPass==="translucent"){const ue=new Pi(I.context.gl.LEQUAL,Pi.ReadWrite,I.depthRangeFor3D);if(te!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))Pu(I,L,j,G,ue,wo.disabled,aa.disabled),Pu(I,L,j,G,ue,I.stencilModeFor3D(),I.colorModeForRenderPass());else{const fe=I.colorModeForRenderPass();Pu(I,L,j,G,ue,wo.disabled,fe)}}})(u,f,C,M);break;case"hillshade":(function(I,L,j,G){if(I.renderPass!=="offscreen"&&I.renderPass!=="translucent")return;const te=I.context,ue=I.depthModeForSublayer(0,Pi.ReadOnly),fe=I.colorModeForRenderPass(),[Ee,ze]=I.renderPass==="translucent"?I.stencilConfigForOverlap(G):[{},G];for(const Fe of ze){const Ge=L.getTile(Fe);Ge.needsHillshadePrepare!==void 0&&Ge.needsHillshadePrepare&&I.renderPass==="offscreen"?OA(I,Ge,j,ue,wo.disabled,fe):I.renderPass==="translucent"&&Wc(I,Fe,Ge,j,ue,Ee[Fe.overscaledZ],fe)}te.viewport.set([0,0,I.width,I.height])})(u,f,C,M);break;case"raster":(function(I,L,j,G){if(I.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!G.length)return;const te=I.context,ue=te.gl,fe=L.getSource(),Ee=I.useProgram("raster"),ze=I.colorModeForRenderPass(),[Fe,Ge]=fe instanceof mr?[{},G]:I.stencilConfigForOverlap(G),je=Ge[Ge.length-1].overscaledZ,ct=!I.options.moving;for(const Ot of Ge){const Ye=I.depthModeForSublayer(Ot.overscaledZ-je,j.paint.get("raster-opacity")===1?Pi.ReadWrite:Pi.ReadOnly,ue.LESS),Ct=L.getTile(Ot);Ct.registerFadeDuration(j.paint.get("raster-fade-duration"));const Gt=L.findLoadedParent(Ot,0),It=Of(Ct,Gt,L,j,I.transform,I.style.map.terrain);let Jt,An;const ln=j.paint.get("raster-resampling")==="nearest"?ue.NEAREST:ue.LINEAR;te.activeTexture.set(ue.TEXTURE0),Ct.texture.bind(ln,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),te.activeTexture.set(ue.TEXTURE1),Gt?(Gt.texture.bind(ln,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),Jt=Math.pow(2,Gt.tileID.overscaledZ-Ct.tileID.overscaledZ),An=[Ct.tileID.canonical.x*Jt%1,Ct.tileID.canonical.y*Jt%1]):Ct.texture.bind(ln,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST);const vn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ot),er=vn?Ot:null,kr=er?er.posMatrix:I.transform.calculatePosMatrix(Ot.toUnwrapped(),ct),In=lu(kr,An||[0,0],Jt||1,It,j);fe instanceof mr?Ee.draw(te,ue.TRIANGLES,Ye,wo.disabled,ze,go.disabled,In,vn,j.id,fe.boundsBuffer,I.quadTriangleIndexBuffer,fe.boundsSegments):Ee.draw(te,ue.TRIANGLES,Ye,Fe[Ot.overscaledZ],ze,go.disabled,In,vn,j.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}})(u,f,C,M);break;case"background":(function(I,L,j,G){const te=j.paint.get("background-color"),ue=j.paint.get("background-opacity");if(ue===0)return;const fe=I.context,Ee=fe.gl,ze=I.transform,Fe=ze.tileSize,Ge=j.paint.get("background-pattern");if(I.isPatternMissing(Ge))return;const je=!Ge&&te.a===1&&ue===1&&I.opaquePassEnabledForLayer()?"opaque":"translucent";if(I.renderPass!==je)return;const ct=wo.disabled,Ot=I.depthModeForSublayer(0,je==="opaque"?Pi.ReadWrite:Pi.ReadOnly),Ye=I.colorModeForRenderPass(),Ct=I.useProgram(Ge?"backgroundPattern":"background"),Gt=G||ze.coveringTiles({tileSize:Fe,terrain:I.style.map.terrain});Ge&&(fe.activeTexture.set(Ee.TEXTURE0),I.imageManager.bind(I.context));const It=j.getCrossfadeParameters();for(const Jt of Gt){const An=G?Jt.posMatrix:I.transform.calculatePosMatrix(Jt.toUnwrapped()),ln=Ge?mo(An,ue,I,Ge,{tileID:Jt,tileSize:Fe},It):rc(An,ue,te),vn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Jt);Ct.draw(fe,Ee.TRIANGLES,Ot,ct,Ye,go.disabled,ln,vn,j.id,I.tileExtentBuffer,I.quadTriangleIndexBuffer,I.tileExtentSegments)}})(u,0,C,M);break;case"custom":(function(I,L,j){const G=I.context,te=j.implementation;if(I.renderPass==="offscreen"){const ue=te.prerender;ue&&(I.setCustomLayerDefaults(),G.setColorMode(I.colorModeForRenderPass()),ue.call(te,G.gl,I.transform.customLayerMatrix()),G.setDirty(),I.setBaseState())}else if(I.renderPass==="translucent"){I.setCustomLayerDefaults(),G.setColorMode(I.colorModeForRenderPass()),G.setStencilMode(wo.disabled);const ue=te.renderingMode==="3d"?new Pi(I.context.gl.LEQUAL,Pi.ReadWrite,I.depthRangeFor3D):I.depthModeForSublayer(0,Pi.ReadOnly);G.setDepthMode(ue),te.render(G.gl,I.transform.customLayerMatrix()),G.setDirty(),I.setBaseState(),G.bindFramebuffer.set(null)}})(u,0,C)}}translatePosMatrix(u,f,C,M,I){if(!C[0]&&!C[1])return u;const L=I?M==="map"?this.transform.angle:0:M==="viewport"?-this.transform.angle:0;if(L){const te=Math.sin(L),ue=Math.cos(L);C=[C[0]*ue-C[1]*te,C[0]*te+C[1]*ue]}const j=[I?C[0]:or(f,C[0],this.transform.zoom),I?C[1]:or(f,C[1],this.transform.zoom),0],G=new Float32Array(16);return a.H(G,u,j),G}saveTileTexture(u){const f=this._tileTextures[u.size[0]];f?f.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const f=this._tileTextures[u];return f&&f.length>0?f.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const f=this.imageManager.getPattern(u.from.toString()),C=this.imageManager.getPattern(u.to.toString());return!f||!C}useProgram(u,f){this.cache=this.cache||{};const C=u+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[C]||(this.cache[C]=new ba(this.context,Br[u],f,Ao[u],this._showOverdrawInspector,this.style.map.terrain)),this.cache[C]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ft(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:f}=this.context.gl;return this.width!==u||this.height!==f}}class nA{constructor(u,f){this.points=u,this.planes=f}static fromInvProjectionMatrix(u,f,C){const M=Math.pow(2,C),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const G=1/(j=a.af([],j,u))[3]/f*M;return a.a_(j,j,[G,G,1/j[3],G])}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const G=function(Ee,ze){var Fe=ze[0],Ge=ze[1],je=ze[2],ct=Fe*Fe+Ge*Ge+je*je;return ct>0&&(ct=1/Math.sqrt(ct)),Ee[0]=ze[0]*ct,Ee[1]=ze[1]*ct,Ee[2]=ze[2]*ct,Ee}([],function(Ee,ze,Fe){var Ge=ze[0],je=ze[1],ct=ze[2],Ot=Fe[0],Ye=Fe[1],Ct=Fe[2];return Ee[0]=je*Ct-ct*Ye,Ee[1]=ct*Ot-Ge*Ct,Ee[2]=Ge*Ye-je*Ot,Ee}([],De([],I[j[0]],I[j[1]]),De([],I[j[2]],I[j[1]]))),te=-((ue=G)[0]*(fe=I[j[1]])[0]+ue[1]*fe[1]+ue[2]*fe[2]);var ue,fe;return G.concat(te)});return new nA(I,L)}}class Yl{constructor(u,f){this.min=u,this.max=f,this.center=function(C,M,I){return C[0]=.5*M[0],C[1]=.5*M[1],C[2]=.5*M[2],C}([],function(C,M,I){return C[0]=M[0]+I[0],C[1]=M[1]+I[1],C[2]=M[2]+I[2],C}([],this.min,this.max))}quadrant(u){const f=[u%2==0,u<2],C=le(this.min),M=le(this.max);for(let I=0;I<f.length;I++)C[I]=f[I]?this.min[I]:this.center[I],M[I]=f[I]?this.center[I]:this.max[I];return M[2]=this.max[2],new Yl(C,M)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const f=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let C=!0;for(let M=0;M<u.planes.length;M++){const I=u.planes[M];let L=0;for(let j=0;j<f.length;j++)a.a$(I,f[j])>=0&&L++;if(L===0)return 0;L!==f.length&&(C=!1)}if(C)return 2;for(let M=0;M<3;M++){let I=Number.MAX_VALUE,L=-Number.MAX_VALUE;for(let j=0;j<u.points.length;j++){const G=u.points[j][M]-this.min[M];I=Math.min(I,G),L=Math.max(L,G)}if(L<0||I>this.max[M]-this.min[M])return 0}return 1}}class lc{constructor(u=0,f=0,C=0,M=0){if(isNaN(u)||u<0||isNaN(f)||f<0||isNaN(C)||C<0||isNaN(M)||M<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=f,this.left=C,this.right=M}interpolate(u,f,C){return f.top!=null&&u.top!=null&&(this.top=a.z.number(u.top,f.top,C)),f.bottom!=null&&u.bottom!=null&&(this.bottom=a.z.number(u.bottom,f.bottom,C)),f.left!=null&&u.left!=null&&(this.left=a.z.number(u.left,f.left,C)),f.right!=null&&u.right!=null&&(this.right=a.z.number(u.right,f.right,C)),this}getCenter(u,f){const C=a.ac((this.left+u-this.right)/2,0,u),M=a.ac((this.top+f-this.bottom)/2,0,f);return new a.P(C,M)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new lc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Ed{constructor(u,f,C,M,I){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=I===void 0||!!I,this._minZoom=u||0,this._maxZoom=f||22,this._minPitch=C??0,this._maxPitch=M??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new lc,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const u=new Ed(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.apply(this),u}apply(u){this.tileSize=u.tileSize,this.latRange=u.latRange,this.width=u.width,this.height=u.height,this._center=u._center,this._elevation=u._elevation,this.minElevationForCurrentTile=u.minElevationForCurrentTile,this.zoom=u.zoom,this.angle=u.angle,this._fov=u._fov,this._pitch=u._pitch,this._unmodified=u._unmodified,this._edgeInsets=u._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const f=-a.b0(u,-180,180)*Math.PI/180;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=function(){var C=new a.A(4);return a.A!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C}(),function(C,M,I){var L=M[0],j=M[1],G=M[2],te=M[3],ue=Math.sin(I),fe=Math.cos(I);C[0]=L*fe+G*ue,C[1]=j*fe+te*ue,C[2]=L*-ue+G*fe,C[3]=j*-ue+te*fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const f=a.ac(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const f=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.tileZoom=Math.max(0,Math.floor(f)),this.scale=this.zoomScale(f),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,f,C){this._unmodified=!1,this._edgeInsets.interpolate(u,f,C),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const f=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(u){const f=[new a.b1(0,u)];if(this._renderWorldCopies){const C=this.pointCoordinate(new a.P(0,0)),M=this.pointCoordinate(new a.P(this.width,0)),I=this.pointCoordinate(new a.P(this.width,this.height)),L=this.pointCoordinate(new a.P(0,this.height)),j=Math.floor(Math.min(C.x,M.x,I.x,L.x)),G=Math.floor(Math.max(C.x,M.x,I.x,L.x)),te=1;for(let ue=j-te;ue<=G+te;ue++)ue!==0&&f.push(new a.b1(ue,u))}return f}coveringTiles(u){var f,C;let M=this.coveringZoomLevel(u);const I=M;if(u.minzoom!==void 0&&M<u.minzoom)return[];u.maxzoom!==void 0&&M>u.maxzoom&&(M=u.maxzoom);const L=this.pointCoordinate(this.getCameraPoint()),j=a.Y.fromLngLat(this.center),G=Math.pow(2,M),te=[G*L.x,G*L.y,0],ue=[G*j.x,G*j.y,0],fe=nA.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,M);let Ee=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Ee=M);const ze=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,Fe=Ye=>({aabb:new Yl([Ye*G,0,0],[(Ye+1)*G,G,0]),zoom:0,x:0,y:0,wrap:Ye,fullyVisible:!1}),Ge=[],je=[],ct=M,Ot=u.reparseOverscaled?I:M;if(this._renderWorldCopies)for(let Ye=1;Ye<=3;Ye++)Ge.push(Fe(-Ye)),Ge.push(Fe(Ye));for(Ge.push(Fe(0));Ge.length>0;){const Ye=Ge.pop(),Ct=Ye.x,Gt=Ye.y;let It=Ye.fullyVisible;if(!It){const er=Ye.aabb.intersects(fe);if(er===0)continue;It=er===2}const Jt=u.terrain?te:ue,An=Ye.aabb.distanceX(Jt),ln=Ye.aabb.distanceY(Jt),vn=Math.max(Math.abs(An),Math.abs(ln));if(Ye.zoom===ct||vn>ze+(1<<ct-Ye.zoom)-2&&Ye.zoom>=Ee){const er=ct-Ye.zoom,kr=te[0]-.5-(Ct<<er),In=te[1]-.5-(Gt<<er);je.push({tileID:new a.Q(Ye.zoom===ct?Ot:Ye.zoom,Ye.wrap,Ye.zoom,Ct,Gt),distanceSq:Ne([ue[0]-.5-Ct,ue[1]-.5-Gt]),tileDistanceToCamera:Math.sqrt(kr*kr+In*In)})}else for(let er=0;er<4;er++){const kr=(Ct<<1)+er%2,In=(Gt<<1)+(er>>1),_r=Ye.zoom+1;let Zn=Ye.aabb.quadrant(er);if(u.terrain){const zi=new a.Q(_r,Ye.wrap,_r,kr,In),bi=u.terrain.getMinMaxElevation(zi),Hr=(f=bi.minElevation)!==null&&f!==void 0?f:this.elevation,gi=(C=bi.maxElevation)!==null&&C!==void 0?C:this.elevation;Zn=new Yl([Zn.min[0],Zn.min[1],Hr],[Zn.max[0],Zn.max[1],gi])}Ge.push({aabb:Zn,zoom:_r,x:kr,y:In,wrap:Ye.wrap,fullyVisible:It})}}return je.sort((Ye,Ct)=>Ye.distanceSq-Ct.distanceSq).map(Ye=>Ye.tileID)}resize(u,f){this.width=u,this.height=f,this.pixelsToGLUnits=[2/u,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const f=a.ac(u.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.N(u.lng)*this.worldSize,a.O(f)*this.worldSize)}unproject(u){return new a.Y(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const f=this.pointLocation(this.centerPoint,u),C=u.getElevationForLngLatZoom(f,this.tileZoom);if(!(this.elevation-C))return;const M=this.getCameraPosition(),I=a.Y.fromLngLat(M.lngLat,M.altitude),L=a.Y.fromLngLat(f,C),j=I.x-L.x,G=I.y-L.y,te=I.z-L.z,ue=Math.sqrt(j*j+G*G+te*te),fe=this.scaleZoom(this.cameraToCenterDistance/ue/this.tileSize);this._elevation=C,this._center=f,this.zoom=fe}setLocationAtPoint(u,f){const C=this.pointCoordinate(f),M=this.pointCoordinate(this.centerPoint),I=this.locationCoordinate(u),L=new a.Y(I.x-(C.x-M.x),I.y-(C.y-M.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,f){return f?this.coordinatePoint(this.locationCoordinate(u),f.getElevationForLngLatZoom(u,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,f){return this.coordinateLocation(this.pointCoordinate(u,f))}locationCoordinate(u){return a.Y.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,f){if(f){const Ee=f.pointCoordinate(u);if(Ee!=null)return Ee}const C=[u.x,u.y,0,1],M=[u.x,u.y,1,1];a.af(C,C,this.pixelMatrixInverse),a.af(M,M,this.pixelMatrixInverse);const I=C[3],L=M[3],j=C[1]/I,G=M[1]/L,te=C[2]/I,ue=M[2]/L,fe=te===ue?0:(0-te)/(ue-te);return new a.Y(a.z.number(C[0]/I,M[0]/L,fe)/this.worldSize,a.z.number(j,G,fe)/this.worldSize)}coordinatePoint(u,f=0,C=this.pixelMatrix){const M=[u.x*this.worldSize,u.y*this.worldSize,f,1];return a.af(M,M,C),new a.P(M[0]/M[3],M[1]/M[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new Ft().extend(this.pointLocation(new a.P(0,u))).extend(this.pointLocation(new a.P(this.width,u))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ft([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(u,f=!1){const C=u.key,M=f?this._alignedPosMatrixCache:this._posMatrixCache;if(M[C])return M[C];const I=u.canonical,L=this.worldSize/this.zoomScale(I.z),j=I.x+Math.pow(2,I.z)*u.wrap,G=a.an(new Float64Array(16));return a.H(G,G,[j*L,I.y*L,0]),a.J(G,G,[L/a.W,L/a.W,1]),a.K(G,f?this.alignedProjMatrix:this.projMatrix,G),M[C]=new Float32Array(G),M[C]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let u,f,C,M,I=-90,L=90,j=-180,G=180;const te=this.size,ue=this._unmodified;if(this.latRange){const ze=this.latRange;I=a.O(ze[1])*this.worldSize,L=a.O(ze[0])*this.worldSize,u=L-I<te.y?te.y/(L-I):0}if(this.lngRange){const ze=this.lngRange;j=a.b0(a.N(ze[0])*this.worldSize,0,this.worldSize),G=a.b0(a.N(ze[1])*this.worldSize,0,this.worldSize),G<j&&(G+=this.worldSize),f=G-j<te.x?te.x/(G-j):0}const fe=this.point,Ee=Math.max(f||0,u||0);if(Ee)return this.center=this.unproject(new a.P(f?(G+j)/2:fe.x,u?(L+I)/2:fe.y)),this.zoom+=this.scaleZoom(Ee),this._unmodified=ue,void(this._constraining=!1);if(this.latRange){const ze=fe.y,Fe=te.y/2;ze-Fe<I&&(M=I+Fe),ze+Fe>L&&(M=L-Fe)}if(this.lngRange){const ze=(j+G)/2,Fe=a.b0(fe.x,ze-this.worldSize/2,ze+this.worldSize/2),Ge=te.x/2;Fe-Ge<j&&(C=j+Ge),Fe+Ge>G&&(C=G-Ge)}C===void 0&&M===void 0||(this.center=this.unproject(new a.P(C!==void 0?C:fe.x,M!==void 0?M:fe.y)).wrap()),this._unmodified=ue,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,f=this.point.x,C=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b2(1,this.center.lat)*this.worldSize;let M=a.an(new Float64Array(16));a.J(M,M,[this.width/2,-this.height/2,1]),a.H(M,M,[1,-1,0]),this.labelPlaneMatrix=M,M=a.an(new Float64Array(16)),a.J(M,M,[1,-1,1]),a.H(M,M,[-1,-1,0]),a.J(M,M,[2/this.width,2/this.height,1]),this.glCoordMatrix=M;const I=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),L=Math.min(this.elevation,this.minElevationForCurrentTile),j=I-L*this._pixelPerMeter/Math.cos(this._pitch),G=L<0?j:I,te=Math.PI/2+this._pitch,ue=this._fov*(.5+u.y/this.height),fe=Math.sin(ue)*G/Math.sin(a.ac(Math.PI-te-ue,.01,Math.PI-.01)),Ee=this.getHorizon(),ze=2*Math.atan(Ee/this.cameraToCenterDistance)*(.5+u.y/(2*Ee)),Fe=Math.sin(ze)*G/Math.sin(a.ac(Math.PI-te-ze,.01,Math.PI-.01)),Ge=Math.min(fe,Fe),je=1.01*(Math.cos(Math.PI/2-this._pitch)*Ge+G),ct=this.height/50;M=new Float64Array(16),a.b3(M,this._fov,this.width/this.height,ct,je),M[8]=2*-u.x/this.width,M[9]=2*u.y/this.height,a.J(M,M,[1,-1,1]),a.H(M,M,[0,0,-this.cameraToCenterDistance]),a.b4(M,M,this._pitch),a.ad(M,M,this.angle),a.H(M,M,[-f,-C,0]),this.mercatorMatrix=a.J([],M,[this.worldSize,this.worldSize,this.worldSize]),a.J(M,M,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.K(new Float64Array(16),this.labelPlaneMatrix,M),a.H(M,M,[0,0,-this.elevation]),this.projMatrix=M,this.invProjMatrix=a.ar([],M),this.pixelMatrix3D=a.K(new Float64Array(16),this.labelPlaneMatrix,M);const Ot=this.width%2/2,Ye=this.height%2/2,Ct=Math.cos(this.angle),Gt=Math.sin(this.angle),It=f-Math.round(f)+Ct*Ot+Gt*Ye,Jt=C-Math.round(C)+Ct*Ye+Gt*Ot,An=new Float64Array(M);if(a.H(An,An,[It>.5?It-1:It,Jt>.5?Jt-1:Jt,0]),this.alignedProjMatrix=An,M=a.ar(new Float64Array(16),this.pixelMatrix),!M)throw new Error("failed to invert matrix");this.pixelMatrixInverse=M,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new a.P(0,0)),f=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.af(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,u))}getCameraQueryGeometry(u){const f=this.getCameraPoint();if(u.length===1)return[u[0],f];{let C=f.x,M=f.y,I=f.x,L=f.y;for(const j of u)C=Math.min(C,j.x),M=Math.min(M,j.y),I=Math.max(I,j.x),L=Math.max(L,j.y);return[new a.P(C,M),new a.P(I,M),new a.P(I,L),new a.P(C,L),new a.P(C,M)]}}lngLatToCameraDepth(u,f){const C=this.locationCoordinate(u),M=[C.x*this.worldSize,C.y*this.worldSize,f,1];return a.af(M,M,this.projMatrix),M[2]/M[3]}}function Od(O,u){let f,C=!1,M=null,I=null;const L=()=>{M=null,C&&(O.apply(I,f),M=setTimeout(L,u),C=!1)};return(...j)=>(C=!0,I=this,f=j,M||L(),M)}class hu{constructor(u){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let C;return f.split("&").map(M=>M.split("=")).forEach(M=>{M[0]===this._hashName&&(C=M)}),(C&&C[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(f.length>=3&&!f.some(C=>isNaN(C))){const C=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:C,pitch:+(f[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,f)}catch{}},this._updateHash=Od(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const f=this._map.getCenter(),C=Math.round(100*this._map.getZoom())/100,M=Math.ceil((C*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,M),L=Math.round(f.lng*I)/I,j=Math.round(f.lat*I)/I,G=this._map.getBearing(),te=this._map.getPitch();let ue="";if(ue+=u?`/${L}/${j}/${C}`:`${C}/${j}/${L}`,(G||te)&&(ue+="/"+Math.round(10*G)/10),te&&(ue+=`/${Math.round(te)}`),this._hashName){const fe=this._hashName;let Ee=!1;const ze=window.location.hash.slice(1).split("&").map(Fe=>{const Ge=Fe.split("=")[0];return Ge===fe?(Ee=!0,`${Ge}=${ue}`):Fe}).filter(Fe=>Fe);return Ee||ze.push(`${fe}=${ue}`),`#${ze.join("&")}`}return`#${ue}`}}const bt={linearity:.3,easing:a.b5(0,0,.3,1)},on=a.e({deceleration:2500,maxSpeed:1400},bt),Lt=a.e({deceleration:20,maxSpeed:1400},bt),dr=a.e({deceleration:1e3,maxSpeed:360},bt),ti=a.e({deceleration:1e3,maxSpeed:90},bt);class eo{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:B.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,f=B.now();for(;u.length>0&&f-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:I}of this._inertiaBuffer)f.zoom+=I.zoomDelta||0,f.bearing+=I.bearingDelta||0,f.pitch+=I.pitchDelta||0,I.panDelta&&f.pan._add(I.panDelta),I.around&&(f.around=I.around),I.pinchAround&&(f.pinchAround=I.pinchAround);const C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,M={};if(f.pan.mag()){const I=co(f.pan.mag(),C,a.e({},on,u||{}));M.offset=f.pan.mult(I.amount/f.pan.mag()),M.center=this._map.transform.center,Xo(M,I)}if(f.zoom){const I=co(f.zoom,C,Lt);M.zoom=this._map.transform.zoom+I.amount,Xo(M,I)}if(f.bearing){const I=co(f.bearing,C,dr);M.bearing=this._map.transform.bearing+a.ac(I.amount,-179,179),Xo(M,I)}if(f.pitch){const I=co(f.pitch,C,ti);M.pitch=this._map.transform.pitch+I.amount,Xo(M,I)}if(M.zoom||M.bearing){const I=f.pinchAround===void 0?f.around:f.pinchAround;M.around=I?this._map.unproject(I):this._map.getCenter()}return this.clear(),a.e(M,{noMoveStart:!0})}}function Xo(O,u){(!O.duration||O.duration<u.duration)&&(O.duration=u.duration,O.easing=u.easing)}function co(O,u,f){const{maxSpeed:C,linearity:M,deceleration:I}=f,L=a.ac(O*M/(u/1e3),-C,C),j=Math.abs(L)/(I*M);return{easing:f.easing,duration:1e3*j,amount:L*(j/2)}}class ds extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,C,M={}){const I=k.mousePos(f.getCanvas(),C),L=f.unproject(I);super(u,a.e({point:I,lngLat:L,originalEvent:C},M)),this._defaultPrevented=!1,this.target=f}}class Gc extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,C){const M=u==="touchend"?C.changedTouches:C.touches,I=k.touchPos(f.getCanvasContainer(),M),L=I.map(G=>f.unproject(G)),j=I.reduce((G,te,ue,fe)=>G.add(te.div(fe.length)),new a.P(0,0));super(u,{points:I,point:j,lngLats:L,lngLat:f.unproject(j),originalEvent:C}),this._defaultPrevented=!1}}class hs extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,C){super(u,{originalEvent:C}),this._defaultPrevented=!1}}class Bd{constructor(u,f){this._map=u,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new hs(u.type,this._map,u))}mousedown(u,f){return this._mousedownPos=f,this._firePreventable(new ds(u.type,this._map,u))}mouseup(u){this._map.fire(new ds(u.type,this._map,u))}click(u,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new ds(u.type,this._map,u))}dblclick(u){return this._firePreventable(new ds(u.type,this._map,u))}mouseover(u){this._map.fire(new ds(u.type,this._map,u))}mouseout(u){this._map.fire(new ds(u.type,this._map,u))}touchstart(u){return this._firePreventable(new Gc(u.type,this._map,u))}touchmove(u){this._map.fire(new Gc(u.type,this._map,u))}touchend(u){this._map.fire(new Gc(u.type,this._map,u))}touchcancel(u){this._map.fire(new Gc(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Es{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new ds(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ds("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new ds(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jo{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.pointLocation(a.P.convert(u),this._map.terrain)}}class fu{constructor(u,f){this._map=u,this._tr=new Jo(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,f){this.isEnabled()&&u.shiftKey&&u.button===0&&(k.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(u,f){if(!this._active)return;const C=f;if(this._lastPos.equals(C)||!this._box&&C.dist(this._startPos)<this._clickTolerance)return;const M=this._startPos;this._lastPos=C,this._box||(this._box=k.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const I=Math.min(M.x,C.x),L=Math.max(M.x,C.x),j=Math.min(M.y,C.y),G=Math.max(M.y,C.y);k.setTransform(this._box,`translate(${I}px,${j}px)`),this._box.style.width=L-I+"px",this._box.style.height=G-j+"px"}mouseupWindow(u,f){if(!this._active||u.button!==0)return;const C=this._startPos,M=f;if(this.reset(),k.suppressClick(),C.x!==M.x||C.y!==M.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:u})),{cameraAnimation:I=>I.fitScreenCoordinates(C,M,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(k.remove(this._box),this._box=null),k.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,f){return this._map.fire(new a.k(u,{originalEvent:f}))}}function Os(O,u){if(O.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${u.length}`);const f={};for(let C=0;C<O.length;C++)f[O[C].identifier]=u[C];return f}class Vi{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,f,C){(this.centroid||C.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),C.length===this.numTouches&&(this.centroid=function(M){const I=new a.P(0,0);for(const L of M)I._add(L);return I.div(M.length)}(f),this.touches=Os(C,f)))}touchmove(u,f,C){if(this.aborted||!this.centroid)return;const M=Os(C,f);for(const I in this.touches){const L=M[I];(!L||L.dist(this.touches[I])>30)&&(this.aborted=!0)}}touchend(u,f,C){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),C.length===0){const M=!this.aborted&&this.centroid;if(this.reset(),M)return M}}}class vh{constructor(u){this.singleTap=new Vi(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,f,C){this.singleTap.touchstart(u,f,C)}touchmove(u,f,C){this.singleTap.touchmove(u,f,C)}touchend(u,f,C){const M=this.singleTap.touchend(u,f,C);if(M){const I=u.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(M)<30;if(I&&L||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=M,this.count===this.numTaps)return this.reset(),M}}}class Ch{constructor(u){this._tr=new Jo(u),this._zoomIn=new vh({numTouches:1,numTaps:2}),this._zoomOut=new vh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,f,C){this._zoomIn.touchstart(u,f,C),this._zoomOut.touchstart(u,f,C)}touchmove(u,f,C){this._zoomIn.touchmove(u,f,C),this._zoomOut.touchmove(u,f,C)}touchend(u,f,C){const M=this._zoomIn.touchend(u,f,C),I=this._zoomOut.touchend(u,f,C),L=this._tr;return M?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:L.zoom+1,around:L.unproject(M)},{originalEvent:u})}):I?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:L.zoom-1,around:L.unproject(I)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yl{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const f=this._moveFunction(...u);if(f.bearingDelta||f.pitchDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(u,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=f.length?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,f){if(!this.isEnabled())return;const C=this._lastPoint;if(!C)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const M=f.length?f[0]:f;return!this._moved&&M.dist(C)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=M,this._move(C,M))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&k.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const kA={0:1,2:2};class wa{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const f=k.mouseButton(u);this._eventButton=f}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!function(f,C){const M=kA[C];return f.buttons===void 0||(f.buttons&M)!==M}(u,this._eventButton)}isValidEndEvent(u){return k.mouseButton(u)===this._eventButton}}class Qs{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}const zn=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=function(u){u.preventDefault()}},Kl=({enable:O,clickTolerance:u,bearingDegreesPerPixelMoved:f=.8})=>{const C=new wa({checkCorrectEvent:M=>k.mouseButton(M)===0&&M.ctrlKey||k.mouseButton(M)===2});return new yl({clickTolerance:u,move:(M,I)=>({bearingDelta:(I.x-M.x)*f}),moveStateManager:C,enable:O,assignEvents:zn})},rA=({enable:O,clickTolerance:u,pitchDegreesPerPixelMoved:f=-.5})=>{const C=new wa({checkCorrectEvent:M=>k.mouseButton(M)===0&&M.ctrlKey||k.mouseButton(M)===2});return new yl({clickTolerance:u,move:(M,I)=>({pitchDelta:(I.y-M.y)*f}),moveStateManager:C,enable:O,assignEvents:zn})};class uc{constructor(u,f){this._clickTolerance=u.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(u,f,C){return this._calculateTransform(u,f,C)}touchmove(u,f,C){if(this._active&&!(C.length<this.minTouchs()))return u.preventDefault(),this._calculateTransform(u,f,C)}touchend(u,f,C){this._calculateTransform(u,f,C),this._active&&C.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,f,C){C.length>0&&(this._active=!0);const M=Os(C,f),I=new a.P(0,0),L=new a.P(0,0);let j=0;for(const te in M){const ue=M[te],fe=this._touches[te];fe&&(I._add(ue),L._add(ue.sub(fe)),j++,M[te]=ue)}if(this._touches=M,j<this.minTouchs()||!L.mag())return;const G=L.div(j);return this._sum._add(G),this._sum.mag()<this._clickTolerance?void 0:{around:I.div(j),panDelta:G}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,f,C){this._firstTwoTouches||C.length<2||(this._firstTwoTouches=[C[0].identifier,C[1].identifier],this._start([f[0],f[1]]))}touchmove(u,f,C){if(!this._firstTwoTouches)return;u.preventDefault();const[M,I]=this._firstTwoTouches,L=Nn(C,f,M),j=Nn(C,f,I);if(!L||!j)return;const G=this._aroundCenter?null:L.add(j).div(2);return this._move([L,j],G,u)}touchend(u,f,C){if(!this._firstTwoTouches)return;const[M,I]=this._firstTwoTouches,L=Nn(C,f,M),j=Nn(C,f,I);L&&j||(this._active&&k.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Nn(O,u,f){for(let C=0;C<O.length;C++)if(O[C].identifier===f)return u[C]}function Ac(O,u){return Math.log(O/u)/Math.LN2}class IA extends pu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,f){const C=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(Ac(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ac(this._distance,C),pinchAround:f}}}function Bf(O,u){return 180*O.angleWith(u)/Math.PI}class Fu extends pu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,f,C){const M=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Bf(this._vector,M),pinchAround:f}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const f=25/(Math.PI*this._minDiameter)*360,C=Bf(u,this._startVector);return Math.abs(C)<f}}function mu(O){return Math.abs(O.y)>Math.abs(O.x)}class TA extends pu{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,f,C){super.touchstart(u,f,C),this._currentTouchCount=C.length}_start(u){this._lastPoints=u,mu(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,f,C){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const M=u[0].sub(this._lastPoints[0]),I=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(M,I,C.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(M.y+I.y)/2*-.5}):void 0}gestureBeginsVertically(u,f,C){if(this._valid!==void 0)return this._valid;const M=u.mag()>=2,I=f.mag()>=2;if(!M&&!I)return;if(!M||!I)return this._firstMove===void 0&&(this._firstMove=C),C-this._firstMove<100&&void 0;const L=u.y>0==f.y>0;return mu(u)&&mu(f)&&L}}const kf={panStep:100,bearingStep:15,pitchStep:10};class cc{constructor(u){this._tr=new Jo(u);const f=kf;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let f=0,C=0,M=0,I=0,L=0;switch(u.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:u.shiftKey?C=-1:(u.preventDefault(),I=-1);break;case 39:u.shiftKey?C=1:(u.preventDefault(),I=1);break;case 38:u.shiftKey?M=1:(u.preventDefault(),L=-1);break;case 40:u.shiftKey?M=-1:(u.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(C=0,M=0),{cameraAnimation:j=>{const G=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:Du,zoom:f?Math.round(G.zoom)+f*(u.shiftKey?2:1):G.zoom,bearing:G.bearing+C*this._bearingStep,pitch:G.pitch+M*this._pitchStep,offset:[-I*this._panStep,-L*this._panStep],center:G.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Du(O){return O*(2-O)}const yo=4.000244140625;class gu{constructor(u,f){this._onTimeout=C=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(C)},this._map=u,this._tr=new Jo(u),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!u[this._map.cooperativeGestures._bypassKey])return;let f=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const C=B.now(),M=C-(this._lastWheelEventTime||0);this._lastWheelEventTime=C,f!==0&&f%yo==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":M>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(M*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),u.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=u,this._delta-=f,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=k.mousePos(this._map.getCanvas(),u),C=this._tr;this._around=f.y>C.transform.height/2-C.transform.getHorizon()?a.M.convert(this._aroundCenter?C.center:C.unproject(f)):a.M.convert(C.center),this._aroundPoint=C.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>yo?this._wheelZoomRate:this._defaultZoomRate;let G=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&G!==0&&(G=1/G);const te=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(te*G))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,C=this._startZoom,M=this._easing;let I,L=!1;if(this._type==="wheel"&&C&&M){const j=Math.min((B.now()-this._lastWheelEventTime)/200,1),G=M(j);I=a.z.number(C,f,G),j<1?this._frameId||(this._frameId=!0):L=!0}else I=f,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:I-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let f=a.b6;if(this._prevEase){const C=this._prevEase,M=(B.now()-C.start)/C.duration,I=C.easing(M+.01)-C.easing(M),L=.27/Math.sqrt(I*I+1e-4)*.01,j=Math.sqrt(.0729-L*L);f=a.b5(L,j,.25,1)}return this._prevEase={start:B.now(),duration:u,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Qc{constructor(u,f){this._clickZoom=u,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ip{constructor(u){this._tr=new Jo(u),this.reset()}reset(){this._active=!1}dblclick(u,f){return u.preventDefault(),{cameraAnimation:C=>{C.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class If{constructor(){this._tap=new vh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,f,C){if(!this._swipePoint)if(this._tapTime){const M=f[0],I=u.timeStamp-this._tapTime<500,L=this._tapPoint.dist(M)<30;I&&L?C.length>0&&(this._swipePoint=M,this._swipeTouch=C[0].identifier):this.reset()}else this._tap.touchstart(u,f,C)}touchmove(u,f,C){if(this._tapTime){if(this._swipePoint){if(C[0].identifier!==this._swipeTouch)return;const M=f[0],I=M.y-this._swipePoint.y;return this._swipePoint=M,u.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(u,f,C)}touchend(u,f,C){if(this._tapTime)this._swipePoint&&C.length===0&&this.reset();else{const M=this._tap.touchend(u,f,C);M&&(this._tapTime=u.timeStamp,this._tapPoint=M)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kd{constructor(u,f,C){this._el=u,this._mousePan=f,this._touchPan=C}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class _h{constructor(u,f,C){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=f,this._mousePitch=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class to{constructor(u,f,C,M){this._el=u,this._touchZoom=f,this._touchRotate=C,this._tapDragZoom=M,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ea{constructor(u,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=k.create("div","maplibregl-cooperative-gesture-screen",u);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const C=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),M=document.createElement("div");M.className="maplibregl-desktop-message",M.textContent=f,this._container.appendChild(M);const I=document.createElement("div");I.className="maplibregl-mobile-message",I.textContent=C,this._container.appendChild(I),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(k.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(u){this._onCooperativeGesture(u.touches.length===1)}wheel(u){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!u[this._bypassKey])}_onCooperativeGesture(u){this._enabled&&u&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const gr=O=>O.zoom||O.drag||O.pitch||O.rotate;class Er extends a.k{}function KA(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta}class dc{constructor(u,f){this.handleWindowEvent=M=>{this.handleEvent(M,`${M.type}Window`)},this.handleEvent=(M,I)=>{if(M.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const L=M.type==="renderFrame"?void 0:M,j={needsRenderFrame:!1},G={},te={},ue=M.touches,fe=ue?this._getMapTouches(ue):void 0,Ee=fe?k.touchPos(this._map.getCanvas(),fe):k.mousePos(this._map.getCanvas(),M);for(const{handlerName:Ge,handler:je,allowed:ct}of this._handlers){if(!je.isEnabled())continue;let Ot;this._blockedByActive(te,ct,Ge)?je.reset():je[I||M.type]&&(Ot=je[I||M.type](M,Ee,fe),this.mergeHandlerResult(j,G,Ot,Ge,L),Ot&&Ot.needsRenderFrame&&this._triggerRenderFrame()),(Ot||je.isActive())&&(te[Ge]=je)}const ze={};for(const Ge in this._previousActiveHandlers)te[Ge]||(ze[Ge]=L);this._previousActiveHandlers=te,(Object.keys(ze).length||KA(j))&&(this._changes.push([j,G,ze]),this._triggerRenderFrame()),(Object.keys(te).length||KA(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=j;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new eo(u),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const C=this._el;this._listeners=[[C,"touchstart",{passive:!0}],[C,"touchmove",{passive:!1}],[C,"touchend",void 0],[C,"touchcancel",void 0],[C,"mousedown",void 0],[C,"mousemove",void 0],[C,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[C,"mouseover",void 0],[C,"mouseout",void 0],[C,"dblclick",void 0],[C,"click",void 0],[C,"keydown",{capture:!1}],[C,"keyup",void 0],[C,"wheel",{passive:!1}],[C,"contextmenu",void 0],[window,"blur",void 0]];for(const[M,I,L]of this._listeners)k.addEventListener(M,I,M===document?this.handleWindowEvent:this.handleEvent,L)}destroy(){for(const[u,f,C]of this._listeners)k.removeEventListener(u,f,u===document?this.handleWindowEvent:this.handleEvent,C)}_addDefaultHandlers(u){const f=this._map,C=f.getCanvasContainer();this._add("mapEvent",new Bd(f,u));const M=f.boxZoom=new fu(f,u);this._add("boxZoom",M),u.interactive&&u.boxZoom&&M.enable();const I=f.cooperativeGestures=new ea(f,u.cooperativeGestures);this._add("cooperativeGestures",I),u.cooperativeGestures&&I.enable();const L=new Ch(f),j=new Ip(f);f.doubleClickZoom=new Qc(j,L),this._add("tapZoom",L),this._add("clickZoom",j),u.interactive&&u.doubleClickZoom&&f.doubleClickZoom.enable();const G=new If;this._add("tapDragZoom",G);const te=f.touchPitch=new TA(f);this._add("touchPitch",te),u.interactive&&u.touchPitch&&f.touchPitch.enable(u.touchPitch);const ue=Kl(u),fe=rA(u);f.dragRotate=new _h(u,ue,fe),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",fe,["mouseRotate"]),u.interactive&&u.dragRotate&&f.dragRotate.enable();const Ee=(({enable:Ot,clickTolerance:Ye})=>{const Ct=new wa({checkCorrectEvent:Gt=>k.mouseButton(Gt)===0&&!Gt.ctrlKey});return new yl({clickTolerance:Ye,move:(Gt,It)=>({around:It,panDelta:It.sub(Gt)}),activateOnStart:!0,moveStateManager:Ct,enable:Ot,assignEvents:zn})})(u),ze=new uc(u,f);f.dragPan=new kd(C,Ee,ze),this._add("mousePan",Ee),this._add("touchPan",ze,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&f.dragPan.enable(u.dragPan);const Fe=new Fu,Ge=new IA;f.touchZoomRotate=new to(C,Ge,Fe,G),this._add("touchRotate",Fe,["touchPan","touchZoom"]),this._add("touchZoom",Ge,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&f.touchZoomRotate.enable(u.touchZoomRotate);const je=f.scrollZoom=new gu(f,()=>this._triggerRenderFrame());this._add("scrollZoom",je,["mousePan"]),u.interactive&&u.scrollZoom&&f.scrollZoom.enable(u.scrollZoom);const ct=f.keyboard=new cc(f);this._add("keyboard",ct),u.interactive&&u.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new Es(f))}_add(u,f,C){this._handlers.push({handlerName:u,handler:f,allowed:C}),this._handlersById[u]=f}stop(u){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!gr(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,f,C){for(const M in u)if(M!==C&&(!f||f.indexOf(M)<0))return!0;return!1}_getMapTouches(u){const f=[];for(const C of u)this._el.contains(C.target)&&f.push(C);return f}mergeHandlerResult(u,f,C,M,I){if(!C)return;a.e(u,C);const L={handlerName:M,originalEvent:C.originalEvent||I};C.zoomDelta!==void 0&&(f.zoom=L),C.panDelta!==void 0&&(f.drag=L),C.pitchDelta!==void 0&&(f.pitch=L),C.bearingDelta!==void 0&&(f.rotate=L)}_applyChanges(){const u={},f={},C={};for(const[M,I,L]of this._changes)M.panDelta&&(u.panDelta=(u.panDelta||new a.P(0,0))._add(M.panDelta)),M.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+M.zoomDelta),M.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+M.bearingDelta),M.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+M.pitchDelta),M.around!==void 0&&(u.around=M.around),M.pinchAround!==void 0&&(u.pinchAround=M.pinchAround),M.noInertia&&(u.noInertia=M.noInertia),a.e(f,I),a.e(C,L);this._updateMapTransform(u,f,C),this._changes=[]}_updateMapTransform(u,f,C){const M=this._map,I=M._getTransformForUpdate(),L=M.terrain;if(!(KA(u)||L&&this._terrainMovement))return this._fireEvents(f,C,!0);let{panDelta:j,zoomDelta:G,bearingDelta:te,pitchDelta:ue,around:fe,pinchAround:Ee}=u;Ee!==void 0&&(fe=Ee),M._stop(!0),fe=fe||M.transform.centerPoint;const ze=I.pointLocation(j?fe.sub(j):fe);te&&(I.bearing+=te),ue&&(I.pitch+=ue),G&&(I.zoom+=G),L?this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?I.center=I.pointLocation(I.centerPoint.sub(j)):I.setLocationAtPoint(ze,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,I.setLocationAtPoint(ze,fe),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,I.recalculateZoom(M.terrain)})):I.setLocationAtPoint(ze,fe),M._applyUpdatedTransform(I),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(f,C,!0)}_fireEvents(u,f,C){const M=gr(this._eventsInProgress),I=gr(u),L={};for(const ue in u){const{originalEvent:fe}=u[ue];this._eventsInProgress[ue]||(L[`${ue}start`]=fe),this._eventsInProgress[ue]=u[ue]}!M&&I&&this._fireEvent("movestart",I.originalEvent);for(const ue in L)this._fireEvent(ue,L[ue]);I&&this._fireEvent("move",I.originalEvent);for(const ue in u){const{originalEvent:fe}=u[ue];this._fireEvent(ue,fe)}const j={};let G;for(const ue in this._eventsInProgress){const{handlerName:fe,originalEvent:Ee}=this._eventsInProgress[ue];this._handlersById[fe].isActive()||(delete this._eventsInProgress[ue],G=f[fe]||Ee,j[`${ue}end`]=G)}for(const ue in j)this._fireEvent(ue,j[ue]);const te=gr(this._eventsInProgress);if(C&&(M||I)&&!te){this._updatingCamera=!0;const ue=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fe=Ee=>Ee!==0&&-this._bearingSnap<Ee&&Ee<this._bearingSnap;!ue||!ue.essential&&B.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:G})),fe(this._map.getBearing())&&this._map.resetNorth()):(fe(ue.bearing||this._map.getBearing())&&(ue.bearing=0),ue.freezeElevation=!0,this._map.easeTo(ue,{originalEvent:G})),this._updatingCamera=!1}}_fireEvent(u,f){this._map.fire(new a.k(u,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Er("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class $c extends a.E{constructor(u,f){super(),this._renderFrameCallback=()=>{const C=Math.min((B.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(C)),C<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=f.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.M(this.transform.center.lng,this.transform.center.lat)}setCenter(u,f){return this.jumpTo({center:u},f)}panBy(u,f,C){return u=a.P.convert(u).mult(-1),this.panTo(this.transform.center,a.e({offset:u},f),C)}panTo(u,f,C){return this.easeTo(a.e({center:u},f),C)}getZoom(){return this.transform.zoom}setZoom(u,f){return this.jumpTo({zoom:u},f),this}zoomTo(u,f,C){return this.easeTo(a.e({zoom:u},f),C)}zoomIn(u,f){return this.zoomTo(this.getZoom()+1,u,f),this}zoomOut(u,f){return this.zoomTo(this.getZoom()-1,u,f),this}getBearing(){return this.transform.bearing}setBearing(u,f){return this.jumpTo({bearing:u},f),this}getPadding(){return this.transform.padding}setPadding(u,f){return this.jumpTo({padding:u},f),this}rotateTo(u,f,C){return this.easeTo(a.e({bearing:u},f),C)}resetNorth(u,f){return this.rotateTo(0,a.e({duration:1e3},u),f),this}resetNorthPitch(u,f){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},u),f),this}snapToNorth(u,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,f):this}getPitch(){return this.transform.pitch}setPitch(u,f){return this.jumpTo({pitch:u},f),this}cameraForBounds(u,f){u=Ft.convert(u);const C=f&&f.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),C,f)}_cameraForBoxAndBearing(u,f,C,M){const I={top:0,bottom:0,right:0,left:0};if(typeof(M=a.e({padding:I,offset:[0,0],maxZoom:this.transform.maxZoom},M)).padding=="number"){const er=M.padding;M.padding={top:er,bottom:er,right:er,left:er}}M.padding=a.e(I,M.padding);const L=this.transform,j=L.padding,G=new Ft(u,f),te=L.project(G.getNorthWest()),ue=L.project(G.getNorthEast()),fe=L.project(G.getSouthEast()),Ee=L.project(G.getSouthWest()),ze=a.b7(-C),Fe=te.rotate(ze),Ge=ue.rotate(ze),je=fe.rotate(ze),ct=Ee.rotate(ze),Ot=new a.P(Math.max(Fe.x,Ge.x,ct.x,je.x),Math.max(Fe.y,Ge.y,ct.y,je.y)),Ye=new a.P(Math.min(Fe.x,Ge.x,ct.x,je.x),Math.min(Fe.y,Ge.y,ct.y,je.y)),Ct=Ot.sub(Ye),Gt=(L.width-(j.left+j.right+M.padding.left+M.padding.right))/Ct.x,It=(L.height-(j.top+j.bottom+M.padding.top+M.padding.bottom))/Ct.y;if(It<0||Gt<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Jt=Math.min(L.scaleZoom(L.scale*Math.min(Gt,It)),M.maxZoom),An=a.P.convert(M.offset),ln=new a.P((M.padding.left-M.padding.right)/2,(M.padding.top-M.padding.bottom)/2).rotate(a.b7(C)),vn=An.add(ln).mult(L.scale/L.zoomScale(Jt));return{center:L.unproject(te.add(fe).div(2).sub(vn)),zoom:Jt,bearing:C}}fitBounds(u,f,C){return this._fitInternal(this.cameraForBounds(u,f),f,C)}fitScreenCoordinates(u,f,C,M,I){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(u)),this.transform.pointLocation(a.P.convert(f)),C,M),M,I)}_fitInternal(u,f,C){return u?(delete(f=a.e(u,f)).padding,f.linear?this.easeTo(f,C):this.flyTo(f,C)):this}jumpTo(u,f){this.stop();const C=this._getTransformForUpdate();let M=!1,I=!1,L=!1;return"zoom"in u&&C.zoom!==+u.zoom&&(M=!0,C.zoom=+u.zoom),u.center!==void 0&&(C.center=a.M.convert(u.center)),"bearing"in u&&C.bearing!==+u.bearing&&(I=!0,C.bearing=+u.bearing),"pitch"in u&&C.pitch!==+u.pitch&&(L=!0,C.pitch=+u.pitch),u.padding==null||C.isPaddingEqual(u.padding)||(C.padding=u.padding),this._applyUpdatedTransform(C),this.fire(new a.k("movestart",f)).fire(new a.k("move",f)),M&&this.fire(new a.k("zoomstart",f)).fire(new a.k("zoom",f)).fire(new a.k("zoomend",f)),I&&this.fire(new a.k("rotatestart",f)).fire(new a.k("rotate",f)).fire(new a.k("rotateend",f)),L&&this.fire(new a.k("pitchstart",f)).fire(new a.k("pitch",f)).fire(new a.k("pitchend",f)),this.fire(new a.k("moveend",f))}calculateCameraOptionsFromTo(u,f,C,M=0){const I=a.Y.fromLngLat(u,f),L=a.Y.fromLngLat(C,M),j=L.x-I.x,G=L.y-I.y,te=L.z-I.z,ue=Math.hypot(j,G,te);if(ue===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(j,G),Ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/ue/this.transform.tileSize),ze=180*Math.atan2(j,-G)/Math.PI;let Fe=180*Math.acos(fe/ue)/Math.PI;return Fe=te<0?90-Fe:90+Fe,{center:L.toLngLat(),zoom:Ee,pitch:Fe,bearing:ze}}easeTo(u,f){this._stop(!1,u.easeId),((u=a.e({offset:[0,0],duration:500,easing:a.b6},u)).animate===!1||!u.essential&&B.prefersReducedMotion)&&(u.duration=0);const C=this._getTransformForUpdate(),M=this.getZoom(),I=this.getBearing(),L=this.getPitch(),j=this.getPadding(),G="zoom"in u?+u.zoom:M,te="bearing"in u?this._normalizeBearing(u.bearing,I):I,ue="pitch"in u?+u.pitch:L,fe="padding"in u?u.padding:C.padding,Ee=a.P.convert(u.offset);let ze=C.centerPoint.add(Ee);const Fe=C.pointLocation(ze),Ge=a.M.convert(u.center||Fe);this._normalizeCenter(Ge);const je=C.project(Fe),ct=C.project(Ge).sub(je),Ot=C.zoomScale(G-M);let Ye,Ct;u.around&&(Ye=a.M.convert(u.around),Ct=C.locationPoint(Ye));const Gt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||G!==M,this._rotating=this._rotating||I!==te,this._pitching=this._pitching||ue!==L,this._padding=!C.isPaddingEqual(fe),this._easeId=u.easeId,this._prepareEase(f,u.noMoveStart,Gt),this.terrain&&this._prepareElevation(Ge),this._ease(It=>{if(this._zooming&&(C.zoom=a.z.number(M,G,It)),this._rotating&&(C.bearing=a.z.number(I,te,It)),this._pitching&&(C.pitch=a.z.number(L,ue,It)),this._padding&&(C.interpolatePadding(j,fe,It),ze=C.centerPoint.add(Ee)),this.terrain&&!u.freezeElevation&&this._updateElevation(It),Ye)C.setLocationAtPoint(Ye,Ct);else{const Jt=C.zoomScale(C.zoom-M),An=G>M?Math.min(2,Ot):Math.max(.5,Ot),ln=Math.pow(An,1-It),vn=C.unproject(je.add(ct.mult(It*ln)).mult(Jt));C.setLocationAtPoint(C.renderWorldCopies?vn.wrap():vn,ze)}this._applyUpdatedTransform(C),this._fireMoveEvents(f)},It=>{this.terrain&&this._finalizeElevation(),this._afterEase(f,It)},u),this}_prepareEase(u,f,C={}){this._moving=!0,f||C.moving||this.fire(new a.k("movestart",u)),this._zooming&&!C.zooming&&this.fire(new a.k("zoomstart",u)),this._rotating&&!C.rotating&&this.fire(new a.k("rotatestart",u)),this._pitching&&!C.pitching&&this.fire(new a.k("pitchstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&f!==this._elevationTarget){const C=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(C-(f-(C*u+this._elevationStart))/(1-u)),this._elevationTarget=f}this.transform.elevation=a.z.number(this._elevationStart,this._elevationTarget,u)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(u){if(!this.transformCameraUpdate)return;const f=u.clone(),{center:C,zoom:M,pitch:I,bearing:L,elevation:j}=this.transformCameraUpdate(f);C&&(f.center=C),M!==void 0&&(f.zoom=M),I!==void 0&&(f.pitch=I),L!==void 0&&(f.bearing=L),j!==void 0&&(f.elevation=j),this.transform.apply(f)}_fireMoveEvents(u){this.fire(new a.k("move",u)),this._zooming&&this.fire(new a.k("zoom",u)),this._rotating&&this.fire(new a.k("rotate",u)),this._pitching&&this.fire(new a.k("pitch",u))}_afterEase(u,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const C=this._zooming,M=this._rotating,I=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new a.k("zoomend",u)),M&&this.fire(new a.k("rotateend",u)),I&&this.fire(new a.k("pitchend",u)),this.fire(new a.k("moveend",u))}flyTo(u,f){if(!u.essential&&B.prefersReducedMotion){const Zn=a.L(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Zn,f)}this.stop(),u=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.b6},u);const C=this._getTransformForUpdate(),M=this.getZoom(),I=this.getBearing(),L=this.getPitch(),j=this.getPadding(),G="zoom"in u?a.ac(+u.zoom,C.minZoom,C.maxZoom):M,te="bearing"in u?this._normalizeBearing(u.bearing,I):I,ue="pitch"in u?+u.pitch:L,fe="padding"in u?u.padding:C.padding,Ee=C.zoomScale(G-M),ze=a.P.convert(u.offset);let Fe=C.centerPoint.add(ze);const Ge=C.pointLocation(Fe),je=a.M.convert(u.center||Ge);this._normalizeCenter(je);const ct=C.project(Ge),Ot=C.project(je).sub(ct);let Ye=u.curve;const Ct=Math.max(C.width,C.height),Gt=Ct/Ee,It=Ot.mag();if("minZoom"in u){const Zn=a.ac(Math.min(u.minZoom,M,G),C.minZoom,C.maxZoom),zi=Ct/C.zoomScale(Zn-M);Ye=Math.sqrt(zi/It*2)}const Jt=Ye*Ye;function An(Zn){const zi=(Gt*Gt-Ct*Ct+(Zn?-1:1)*Jt*Jt*It*It)/(2*(Zn?Gt:Ct)*Jt*It);return Math.log(Math.sqrt(zi*zi+1)-zi)}function ln(Zn){return(Math.exp(Zn)-Math.exp(-Zn))/2}function vn(Zn){return(Math.exp(Zn)+Math.exp(-Zn))/2}const er=An(!1);let kr=function(Zn){return vn(er)/vn(er+Ye*Zn)},In=function(Zn){return Ct*((vn(er)*(ln(zi=er+Ye*Zn)/vn(zi))-ln(er))/Jt)/It;var zi},_r=(An(!0)-er)/Ye;if(Math.abs(It)<1e-6||!isFinite(_r)){if(Math.abs(Ct-Gt)<1e-6)return this.easeTo(u,f);const Zn=Gt<Ct?-1:1;_r=Math.abs(Math.log(Gt/Ct))/Ye,In=function(){return 0},kr=function(zi){return Math.exp(Zn*Ye*zi)}}return u.duration="duration"in u?+u.duration:1e3*_r/("screenSpeed"in u?+u.screenSpeed/Ye:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=I!==te,this._pitching=ue!==L,this._padding=!C.isPaddingEqual(fe),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(je),this._ease(Zn=>{const zi=Zn*_r,bi=1/kr(zi);C.zoom=Zn===1?G:M+C.scaleZoom(bi),this._rotating&&(C.bearing=a.z.number(I,te,Zn)),this._pitching&&(C.pitch=a.z.number(L,ue,Zn)),this._padding&&(C.interpolatePadding(j,fe,Zn),Fe=C.centerPoint.add(ze)),this.terrain&&!u.freezeElevation&&this._updateElevation(Zn);const Hr=Zn===1?je:C.unproject(ct.add(Ot.mult(In(zi))).mult(bi));C.setLocationAtPoint(C.renderWorldCopies?Hr.wrap():Hr,Fe),this._applyUpdatedTransform(C),this._fireMoveEvents(f)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(f)},u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,f)}if(!u){const C=this.handlers;C&&C.stop(!1)}return this}_ease(u,f,C){C.animate===!1||C.duration===0?(u(1),f()):(this._easeStart=B.now(),this._easeOptions=C,this._onEaseFrame=u,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,f){u=a.b0(u,-180,180);const C=Math.abs(u-f);return Math.abs(u-360-f)<C&&(u-=360),Math.abs(u+360-f)<C&&(u+=360),u}_normalizeCenter(u){const f=this.transform;if(!f.renderWorldCopies||f.lngRange)return;const C=u.lng-f.center.lng;u.lng+=C>180?-360:C<-180?360:0}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(a.M.convert(u),this.transform.tileZoom)-this.transform.elevation:null}}const $o={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class iA{constructor(u=$o){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=k.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=k.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=k.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){k.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,f){const C=this._map._getUIString(`AttributionControl.${f}`);u.title=C,u.setAttribute("aria-label",C)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(M=>typeof M!="string"?"":M)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const M=this._map.style.stylesheet;this.styleOwner=M.owner,this.styleId=M.id}const f=this._map.style.sourceCaches;for(const M in f){const I=f[M];if(I.used||I.usedForTerrain){const L=I.getSource();L.attribution&&u.indexOf(L.attribution)<0&&u.push(L.attribution)}}u=u.filter(M=>String(M).trim()),u.sort((M,I)=>M.length-I.length),u=u.filter((M,I)=>{for(let L=I+1;L<u.length;L++)if(u[L].indexOf(M)>=0)return!1;return!0});const C=u.join(" | ");C!==this._attribHTML&&(this._attribHTML=C,u.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class va{constructor(u={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const C=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&C.classList.add("maplibregl-compact"):C.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=k.create("div","maplibregl-ctrl");const f=k.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){k.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class oA{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const f=++this._id;return this._queue.push({callback:u,id:f,cancelled:!1}),f}remove(u){const f=this._currentlyRunning,C=f?this._queue.concat(f):this._queue;for(const M of C)if(M.id===u)return void(M.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const C of f)if(!C.cancelled&&(C.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var vl=a.X([{name:"a_pos3d",type:"Int16",components:3}]);class Uo extends a.E{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(u,f){this.sourceCache.update(u,f),this._renderableTilesKeys=[];const C={};for(const M of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f}))C[M.key]=!0,this._renderableTilesKeys.push(M.key),this._tiles[M.key]||(M.posMatrix=new Float64Array(16),a.aN(M.posMatrix,0,a.W,0,a.W,0,1),this._tiles[M.key]=new Be(M,this.tileSize));for(const M in this._tiles)C[M]||delete this._tiles[M]}freeRtt(u){for(const f in this._tiles){const C=this._tiles[f];(!u||C.tileID.equals(u)||C.tileID.isChildOf(u)||u.isChildOf(C.tileID))&&(C.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const f={};for(const C of this._renderableTilesKeys){const M=this._tiles[C].tileID;if(M.canonical.equals(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16),a.aN(I.posMatrix,0,a.W,0,a.W,0,1),f[C]=I}else if(M.canonical.isChildOf(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const L=M.canonical.z-u.canonical.z,j=M.canonical.x-(M.canonical.x>>L<<L),G=M.canonical.y-(M.canonical.y>>L<<L),te=a.W>>L;a.aN(I.posMatrix,0,te,0,te,0,1),a.H(I.posMatrix,I.posMatrix,[-j*te,-G*te,0]),f[C]=I}else if(u.canonical.isChildOf(M.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const L=u.canonical.z-M.canonical.z,j=u.canonical.x-(u.canonical.x>>L<<L),G=u.canonical.y-(u.canonical.y>>L<<L),te=a.W>>L;a.aN(I.posMatrix,0,a.W,0,a.W,0,1),a.H(I.posMatrix,I.posMatrix,[j*te,G*te,0]),a.J(I.posMatrix,I.posMatrix,[1/2**L,1/2**L,0]),f[C]=I}}return f}getSourceTile(u,f){const C=this.sourceCache._source;let M=u.overscaledZ-this.deltaZoom;if(M>C.maxzoom&&(M=C.maxzoom),M<C.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(M).key);let I=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!I||!I.dem)&&f)for(;M>=C.minzoom&&(!I||!I.dem);)I=this.sourceCache.getTileByID(u.scaledTo(M--).key);return I}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(f=>f.timeAdded>=u)}}class Ro{constructor(u,f,C){this.painter=u,this.sourceCache=new Uo(f),this.options=C,this.exaggeration=typeof C.exaggeration=="number"?C.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,f,C,M=a.W){var I;if(!(f>=0&&f<M&&C>=0&&C<M))return 0;const L=this.getTerrainData(u),j=(I=L.tile)===null||I===void 0?void 0:I.dem;if(!j)return 0;const G=function(Fe,Ge,je){var ct=Ge[0],Ot=Ge[1];return Fe[0]=je[0]*ct+je[4]*Ot+je[12],Fe[1]=je[1]*ct+je[5]*Ot+je[13],Fe}([],[f/M*a.W,C/M*a.W],L.u_terrain_matrix),te=[G[0]*j.dim,G[1]*j.dim],ue=Math.floor(te[0]),fe=Math.floor(te[1]),Ee=te[0]-ue,ze=te[1]-fe;return j.get(ue,fe)*(1-Ee)*(1-ze)+j.get(ue+1,fe)*Ee*(1-ze)+j.get(ue,fe+1)*(1-Ee)*ze+j.get(ue+1,fe+1)*Ee*ze}getElevationForLngLatZoom(u,f){const{tileID:C,mercatorX:M,mercatorY:I}=this._getOverscaledTileIDFromLngLatZoom(u,f);return this.getElevation(C,M%a.W,I%a.W,a.W)}getElevation(u,f,C,M=a.W){return this.getDEMElevation(u,f,C,M)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const M=this.painter.context,I=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ft(M,I,M.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ft(M,new a.R({width:1,height:1}),M.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(M.gl.NEAREST,M.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.an([])}const f=this.sourceCache.getSourceTile(u,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const M=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new ft(M,f.dem.getPixels(),M.gl.RGBA,{premultiply:!1}),f.demTexture.bind(M.gl.NEAREST,M.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const C=f&&f+f.tileID.key+u.key;if(C&&!this._demMatrixCache[C]){const M=this.sourceCache.sourceCache._source.maxzoom;let I=u.canonical.z-f.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=M?I=u.canonical.z-M:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const L=u.canonical.x-(u.canonical.x>>I<<I),j=u.canonical.y-(u.canonical.y>>I<<I),G=a.b8(new Float64Array(16),[1/(a.W<<I),1/(a.W<<I),0]);a.H(G,G,[L*a.W,j*a.W,0]),this._demMatrixCache[u.key]={matrix:G,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:C?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(u){const f=this.painter,C=f.width/devicePixelRatio,M=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===C&&this._fbo.height===M||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ft(f.context,{width:C,height:M,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ft(f.context,{width:C,height:M,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(C,M,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,C,M))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let I=0,L=0;I<this._coordsTextureSize;I++)for(let j=0;j<this._coordsTextureSize;j++,L+=4)f[L+0]=255&j,f[L+1]=255&I,f[L+2]=j>>8<<4|I>>8,f[L+3]=0;const C=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),M=new ft(u,C,u.gl.RGBA,{premultiply:!1});return M.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=M,M}pointCoordinate(u){const f=new Uint8Array(4),C=this.painter.context,M=C.gl;C.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),M.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,M.RGBA,M.UNSIGNED_BYTE,f),C.bindFramebuffer.set(null);const I=f[0]+(f[2]>>4<<8),L=f[1]+((15&f[2])<<8),j=this.coordsIndex[255-f[3]],G=j&&this.sourceCache.getTileByID(j);if(!G)return null;const te=this._coordsTextureSize,ue=(1<<G.tileID.canonical.z)*te;return new a.Y((G.tileID.canonical.x*te+I)/ue+G.tileID.wrap,(G.tileID.canonical.y*te+L)/ue,this.getElevation(G.tileID,I,L,te))}depthAtPoint(u){const f=new Uint8Array(4),C=this.painter.context,M=C.gl;return C.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),M.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,M.RGBA,M.UNSIGNED_BYTE,f),C.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.painter.context,f=new a.b9,C=new a.aX,M=this.meshSize,I=a.W/M,L=M*M;for(let fe=0;fe<=M;fe++)for(let Ee=0;Ee<=M;Ee++)f.emplaceBack(Ee*I,fe*I,0);for(let fe=0;fe<L;fe+=M+1)for(let Ee=0;Ee<M;Ee++)C.emplaceBack(Ee+fe,M+Ee+fe+1,M+Ee+fe+2),C.emplaceBack(Ee+fe,M+Ee+fe+2,Ee+fe+1);const j=f.length,G=j+2*(M+1);for(const fe of[0,1])for(let Ee=0;Ee<=M;Ee++)for(const ze of[0,1])f.emplaceBack(Ee*I,fe*a.W,ze);for(let fe=0;fe<2*M;fe+=2)C.emplaceBack(G+fe,G+fe+1,G+fe+3),C.emplaceBack(G+fe,G+fe+3,G+fe+2),C.emplaceBack(j+fe,j+fe+3,j+fe+1),C.emplaceBack(j+fe,j+fe+2,j+fe+3);const te=f.length,ue=te+2*(M+1);for(const fe of[0,1])for(let Ee=0;Ee<=M;Ee++)for(const ze of[0,1])f.emplaceBack(fe*a.W,Ee*I,ze);for(let fe=0;fe<2*M;fe+=2)C.emplaceBack(te+fe,te+fe+1,te+fe+3),C.emplaceBack(te+fe,te+fe+3,te+fe+2),C.emplaceBack(ue+fe,ue+fe+3,ue+fe+1),C.emplaceBack(ue+fe,ue+fe+2,ue+fe+3);return this._mesh={indexBuffer:u.createIndexBuffer(C),vertexBuffer:u.createVertexBuffer(f,vl.members),segments:a.$.simpleSegment(0,0,f.length,C.length)},this._mesh}getMeshFrameDelta(u){return 2*Math.PI*a.ba/Math.pow(2,u)/5}getMinTileElevationForLngLatZoom(u,f){var C;const{tileID:M}=this._getOverscaledTileIDFromLngLatZoom(u,f);return(C=this.getMinMaxElevation(M).minElevation)!==null&&C!==void 0?C:0}getMinMaxElevation(u){const f=this.getTerrainData(u).tile,C={minElevation:null,maxElevation:null};return f&&f.dem&&(C.minElevation=f.dem.min*this.exaggeration,C.maxElevation=f.dem.max*this.exaggeration),C}_getOverscaledTileIDFromLngLatZoom(u,f){const C=a.Y.fromLngLat(u.wrap()),M=(1<<f)*a.W,I=C.x*M,L=C.y*M,j=Math.floor(I/a.W),G=Math.floor(L/a.W);return{tileID:new a.Q(f,0,f,j,G),mercatorX:I,mercatorY:L}}}class Tf{constructor(u,f,C){this._context=u,this._size=f,this._tileSize=C,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),C=new ft(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return C.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(C.texture),{id:u,fbo:f,texture:C,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>u.id!==f),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(u=>!u.inUse)===!1}}const Uu={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Ru{constructor(u,f){this.painter=u,this.terrain=f,this.pool=new Tf(u.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=u._order.filter(C=>!u._layers[C].isHidden(f)),this._coordsDescendingInv={};for(const C in u.sourceCaches){this._coordsDescendingInv[C]={};const M=u.sourceCaches[C].getVisibleCoordinates();for(const I of M){const L=this.terrain.sourceCache.getTerrainCoords(I);for(const j in L)this._coordsDescendingInv[C][j]||(this._coordsDescendingInv[C][j]=[]),this._coordsDescendingInv[C][j].push(L[j])}}this._coordsDescendingInvStr={};for(const C of u._order){const M=u._layers[C],I=M.source;if(Uu[M.type]&&!this._coordsDescendingInvStr[I]){this._coordsDescendingInvStr[I]={};for(const L in this._coordsDescendingInv[I])this._coordsDescendingInvStr[I][L]=this._coordsDescendingInv[I][L].map(j=>j.key).sort().join()}}for(const C of this._renderableTiles)for(const M in this._coordsDescendingInvStr){const I=this._coordsDescendingInvStr[M][C.tileID.key];I&&I!==C.rttCoords[M]&&(C.rtt=[])}}renderLayer(u){if(u.isHidden(this.painter.transform.zoom))return!1;const f=u.type,C=this.painter,M=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(Uu[f]&&(this._prevType&&Uu[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(u.id),!M))return!0;if(Uu[this._prevType]||Uu[f]&&M){this._prevType=f;const I=this._stacks.length-1,L=this._stacks[I]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&(gl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[I]){const te=this.pool.getObjectForId(j.rtt[I].id);if(te.stamp===j.rtt[I].stamp){this.pool.useObject(te);continue}}const G=this.pool.getOrCreateFreeObject();this.pool.useObject(G),this.pool.stampObject(G),j.rtt[I]={id:G.id,stamp:G.stamp},C.context.bindFramebuffer.set(G.fbo.framebuffer),C.context.clear({color:a.aO.transparent,stencil:0}),C.currentStencilSource=void 0;for(let te=0;te<L.length;te++){const ue=C.style._layers[L[te]],fe=ue.source?this._coordsDescendingInv[ue.source][j.tileID.key]:[j.tileID];C.context.viewport.set([0,0,G.fbo.width,G.fbo.height]),C._renderTileClippingMasks(ue,fe),C.renderLayer(C,C.style.sourceCaches[ue.source],ue,fe),ue.source&&(j.rttCoords[ue.source]=this._coordsDescendingInvStr[ue.source][j.tileID.key])}}return gl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Uu[f]}return!1}}const aA={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Kf=p,Yc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:$o,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Lu=O=>{O.touchstart=O.dragStart,O.touchmoveWindow=O.dragMove,O.touchend=O.dragEnd},bh={showCompass:!0,showZoom:!0,visualizePitch:!1};class ke{constructor(u,f,C=!1){this.mousedown=L=>{this.startMouse(a.e({},L,{ctrlKey:!0,preventDefault:()=>L.preventDefault()}),k.mousePos(this.element,L)),k.addEventListener(window,"mousemove",this.mousemove),k.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.moveMouse(L,k.mousePos(this.element,L))},this.mouseup=L=>{this.mouseRotate.dragEnd(L),this.mousePitch&&this.mousePitch.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=k.touchPos(this.element,L.targetTouches)[0],this.startTouch(L,this._startPos),k.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=k.touchPos(this.element,L.targetTouches)[0],this.moveTouch(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const M=u.dragRotate._mouseRotate.getClickTolerance(),I=u.dragRotate._mousePitch.getClickTolerance();this.element=f,this.mouseRotate=Kl({clickTolerance:M,enable:!0}),this.touchRotate=(({enable:L,clickTolerance:j,bearingDegreesPerPixelMoved:G=.8})=>{const te=new Qs;return new yl({clickTolerance:j,move:(ue,fe)=>({bearingDelta:(fe.x-ue.x)*G}),moveStateManager:te,enable:L,assignEvents:Lu})})({clickTolerance:M,enable:!0}),this.map=u,C&&(this.mousePitch=rA({clickTolerance:I,enable:!0}),this.touchPitch=(({enable:L,clickTolerance:j,pitchDegreesPerPixelMoved:G=-.5})=>{const te=new Qs;return new yl({clickTolerance:j,move:(ue,fe)=>({pitchDelta:(fe.y-ue.y)*G}),moveStateManager:te,enable:L,assignEvents:Lu})})({clickTolerance:I,enable:!0})),k.addEventListener(f,"mousedown",this.mousedown),k.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),k.addEventListener(f,"touchcancel",this.reset)}startMouse(u,f){this.mouseRotate.dragStart(u,f),this.mousePitch&&this.mousePitch.dragStart(u,f),k.disableDrag()}startTouch(u,f){this.touchRotate.dragStart(u,f),this.touchPitch&&this.touchPitch.dragStart(u,f),k.disableDrag()}moveMouse(u,f){const C=this.map,{bearingDelta:M}=this.mouseRotate.dragMove(u,f)||{};if(M&&C.setBearing(C.getBearing()+M),this.mousePitch){const{pitchDelta:I}=this.mousePitch.dragMove(u,f)||{};I&&C.setPitch(C.getPitch()+I)}}moveTouch(u,f){const C=this.map,{bearingDelta:M}=this.touchRotate.dragMove(u,f)||{};if(M&&C.setBearing(C.getBearing()+M),this.touchPitch){const{pitchDelta:I}=this.touchPitch.dragMove(u,f)||{};I&&C.setPitch(C.getPitch()+I)}}off(){const u=this.element;k.removeEventListener(u,"mousedown",this.mousedown),k.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend),k.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){k.enableDrag(),k.removeEventListener(window,"mousemove",this.mousemove),k.removeEventListener(window,"mouseup",this.mouseup),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend)}}let Cl;function Ka(O,u,f){if(O=new a.M(O.lng,O.lat),u){const C=new a.M(O.lng-360,O.lat),M=new a.M(O.lng+360,O.lat),I=f.locationPoint(O).distSqr(u);f.locationPoint(C).distSqr(u)<I?O=C:f.locationPoint(M).distSqr(u)<I&&(O=M)}for(;Math.abs(O.lng-f.center.lng)>180;){const C=f.locationPoint(O);if(C.x>=0&&C.y>=0&&C.x<=f.width&&C.y<=f.height)break;O.lng>f.center.lng?O.lng-=360:O.lng+=360}return O}const no={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jr(O,u,f){const C=O.classList;for(const M in no)C.remove(`maplibregl-${f}-anchor-${M}`);C.add(`maplibregl-${f}-anchor-${u}`)}class sa extends a.E{constructor(u){if(super(),this._onKeyPress=f=>{const C=f.code,M=f.charCode||f.keyCode;C!=="Space"&&C!=="Enter"&&M!==32&&M!==13||this.togglePopup()},this._onMapClick=f=>{const C=f.originalEvent.target,M=this._element;this._popup&&(C===M||M.contains(C))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const C=this._map.loaded()&&!this._map.isMoving();((f==null?void 0:f.type)==="terrain"||(f==null?void 0:f.type)==="render"&&!C)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Ka(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let M="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?M=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(M=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let I="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?I="rotateX(0deg)":this._pitchAlignment==="map"&&(I=`rotateX(${this._map.getPitch()}deg)`),f&&f.type!=="moveend"||(this._pos=this._pos.round()),k.setTransform(this._element,`${no[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${I} ${M}`),this._updateOpacity(f&&f.type==="moveend")},this._onMove=f=>{if(!this._isDragging){const C=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(u==null?void 0:u.opacity,u==null?void 0:u.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=a.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=k.create("div"),this._element.setAttribute("aria-label","Map marker");const f=k.createNS("http://www.w3.org/2000/svg","svg"),C=41,M=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${C}px`),f.setAttributeNS(null,"width",`${M}px`),f.setAttributeNS(null,"viewBox",`0 0 ${M} ${C}`);const I=k.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"stroke","none"),I.setAttributeNS(null,"stroke-width","1"),I.setAttributeNS(null,"fill","none"),I.setAttributeNS(null,"fill-rule","evenodd");const L=k.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill-rule","nonzero");const j=k.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const G=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ct of G){const Ot=k.createNS("http://www.w3.org/2000/svg","ellipse");Ot.setAttributeNS(null,"opacity","0.04"),Ot.setAttributeNS(null,"cx","10.5"),Ot.setAttributeNS(null,"cy","5.80029008"),Ot.setAttributeNS(null,"rx",ct.rx),Ot.setAttributeNS(null,"ry",ct.ry),j.appendChild(Ot)}const te=k.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"fill",this._color);const ue=k.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),te.appendChild(ue);const fe=k.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const Ee=k.createNS("http://www.w3.org/2000/svg","path");Ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(Ee);const ze=k.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ze.setAttributeNS(null,"fill","#FFFFFF");const Fe=k.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ge=k.createNS("http://www.w3.org/2000/svg","circle");Ge.setAttributeNS(null,"fill","#000000"),Ge.setAttributeNS(null,"opacity","0.25"),Ge.setAttributeNS(null,"cx","5.5"),Ge.setAttributeNS(null,"cy","5.5"),Ge.setAttributeNS(null,"r","5.4999962");const je=k.createNS("http://www.w3.org/2000/svg","circle");je.setAttributeNS(null,"fill","#FFFFFF"),je.setAttributeNS(null,"cx","5.5"),je.setAttributeNS(null,"cy","5.5"),je.setAttributeNS(null,"r","5.4999962"),Fe.appendChild(Ge),Fe.appendChild(je),L.appendChild(j),L.appendChild(te),L.appendChild(fe),L.appendChild(ze),L.appendChild(Fe),f.appendChild(L),f.setAttributeNS(null,"height",C*this._scale+"px"),f.setAttributeNS(null,"width",M*this._scale+"px"),this._element.appendChild(f),this._offset=a.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),jr(this._element,this._anchor,"marker"),u&&u.className)for(const f of u.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),k.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=a.M.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const M=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[M,-1*(38.1-13.5+M)],"bottom-right":[-M,-1*(38.1-13.5+M)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this}_updateOpacity(u=!1){if(!this._map.terrain)return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const f=this._map,C=f.terrain.depthAtPoint(this._pos),M=f.terrain.getElevationForLngLatZoom(this._lngLat,f.transform.tileZoom);if(f.transform.lngLatToCameraDepth(this._lngLat,M)-C<.006)return void(this._element.style.opacity=this._opacity);const I=-this._offset.y/f.transform._pixelPerMeter,L=Math.sin(f.getPitch()*Math.PI/180)*I,j=f.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),G=f.transform.lngLatToCameraDepth(this._lngLat,M+L);this._element.style.opacity=G-j>.006?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=a.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,f){return u===void 0&&f===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const hc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let fc=0,$s=!1;const Pf={maxWidth:100,unit:"metric"};function Id(O,u,f){const C=f&&f.maxWidth||100,M=O._container.clientHeight/2,I=O.unproject([0,M]),L=O.unproject([C,M]),j=I.distanceTo(L);if(f&&f.unit==="imperial"){const G=3.2808*j;G>5280?pc(u,C,G/5280,O._getUIString("ScaleControl.Miles")):pc(u,C,G,O._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?pc(u,C,j/1852,O._getUIString("ScaleControl.NauticalMiles")):j>=1e3?pc(u,C,j/1e3,O._getUIString("ScaleControl.Kilometers")):pc(u,C,j,O._getUIString("ScaleControl.Meters"))}function pc(O,u,f,C){const M=function(I){const L=Math.pow(10,`${Math.floor(I)}`.length-1);let j=I/L;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(G){const te=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*te)/te}(j),L*j}(f);O.style.width=u*(M/f)+"px",O.innerHTML=`${M}&nbsp;${C}`}const Td={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},xh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function _l(O){if(O){if(typeof O=="number"){const u=Math.round(Math.abs(O)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,O),"top-left":new a.P(u,u),"top-right":new a.P(-u,u),bottom:new a.P(0,-O),"bottom-left":new a.P(u,-u),"bottom-right":new a.P(-u,-u),left:new a.P(O,0),right:new a.P(-O,0)}}if(O instanceof a.P||Array.isArray(O)){const u=a.P.convert(O);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:a.P.convert(O.center||[0,0]),top:a.P.convert(O.top||[0,0]),"top-left":a.P.convert(O["top-left"]||[0,0]),"top-right":a.P.convert(O["top-right"]||[0,0]),bottom:a.P.convert(O.bottom||[0,0]),"bottom-left":a.P.convert(O["bottom-left"]||[0,0]),"bottom-right":a.P.convert(O["bottom-right"]||[0,0]),left:a.P.convert(O.left||[0,0]),right:a.P.convert(O.right||[0,0])}}return _l(new a.P(0,0))}const Ff=p;s.AJAXError=a.bd,s.Evented=a.E,s.LngLat=a.M,s.MercatorCoordinate=a.Y,s.Point=a.P,s.addProtocol=a.be,s.config=a.a,s.removeProtocol=a.bf,s.AttributionControl=iA,s.BoxZoomHandler=fu,s.CanvasSource=Nr,s.CooperativeGesturesHandler=ea,s.DoubleClickZoomHandler=Qc,s.DragPanHandler=kd,s.DragRotateHandler=_h,s.EdgeInsets=lc,s.FullscreenControl=class extends a.E{constructor(O={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){k.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=k.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);k.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=bn,s.GeolocateControl=class extends a.E{constructor(O){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",u)),this._finish()}},this._updateCamera=u=>{const f=new a.M(u.coords.longitude,u.coords.latitude),C=u.coords.accuracy,M=this._map.getBearing(),I=a.e({bearing:M},this.options.fitBoundsOptions),L=Ft.fromLngLat(f,C);this._map.fitBounds(L,I,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const f=new a.M(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=u=>{if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&$s)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=u=>{if(this._map){if(this._container.addEventListener("contextmenu",f=>f.preventDefault()),this._geolocateButton=k.create("button","maplibregl-ctrl-geolocate",this._container),k.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",u===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=k.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new sa({element:this._dotElement}),this._circleElement=k.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new sa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||f.originalEvent&&f.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},hc,O)}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(u=!1){return a._(this,void 0,void 0,function*(){if(Cl!==void 0&&!u)return Cl;if(window.navigator.permissions===void 0)return Cl=!!window.navigator.geolocation,Cl;try{Cl=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Cl=!!window.navigator.geolocation}return Cl})}().then(u=>this._setupUI(u)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),k.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,fc=0,$s=!1}_isOutOfMapMaxBounds(O){const u=this._map.getMaxBounds(),f=O.coords;return u&&(f.longitude<u.getWest()||f.longitude>u.getEast()||f.latitude<u.getSouth()||f.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const O=this._map.getBounds(),u=O.getSouthEast(),f=O.getNorthEast(),C=u.distanceTo(f),M=Math.ceil(this._accuracy/(C/this._map._container.clientHeight)*2);this._circleElement.style.width=`${M}px`,this._circleElement.style.height=`${M}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":fc--,$s=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),fc++,fc>1?(O={maximumAge:6e5,timeout:0},$s=!0):(O=this.options.positionOptions,$s=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.Hash=hu,s.ImageSource=mr,s.KeyboardHandler=cc,s.LngLatBounds=Ft,s.LogoControl=va,s.Map=class extends $c{constructor(O){if(a.bb.mark(a.bc.create),(O=a.e({},Yc,O)).minZoom!=null&&O.maxZoom!=null&&O.minZoom>O.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(O.minPitch!=null&&O.maxPitch!=null&&O.minPitch>O.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(O.minPitch!=null&&O.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(O.maxPitch!=null&&O.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ed(O.minZoom,O.maxZoom,O.minPitch,O.maxPitch,O.renderWorldCopies),{bearingSnap:O.bearingSnap}),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=O.interactive,this._maxTileCacheSize=O.maxTileCacheSize,this._maxTileCacheZoomLevels=O.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=O.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=O.preserveDrawingBuffer,this._antialias=O.antialias,this._trackResize=O.trackResize,this._bearingSnap=O.bearingSnap,this._refreshExpiredTiles=O.refreshExpiredTiles,this._fadeDuration=O.fadeDuration,this._crossSourceCollisions=O.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=O.collectResourceTiming,this._renderTaskQueue=new oA,this._controls=[],this._mapId=a.a3(),this._locale=a.e({},aA,O.locale),this._clickTolerance=O.clickTolerance,this._overridePixelRatio=O.pixelRatio,this._maxCanvasSize=O.maxCanvasSize,this.transformCameraUpdate=O.transformCameraUpdate,this._imageQueueHandle=oe.addThrottleControl(()=>this.isMoving()),this._requestManager=new ce(O.transformRequest),typeof O.container=="string"){if(this._container=document.getElementById(O.container),!this._container)throw new Error(`Container '${O.container}' not found.`)}else{if(!(O.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=O.container}if(O.maxBounds&&this.setMaxBounds(O.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const f=Od(C=>{this._trackResize&&!this._removed&&this.resize(C)._update()},50);this._resizeObserver=new ResizeObserver(C=>{u?f(C):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new dc(this,O),this._hash=O.hash&&new hu(typeof O.hash=="string"&&O.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:O.center,zoom:O.zoom,bearing:O.bearing,pitch:O.pitch}),O.bounds&&(this.resize(),this.fitBounds(O.bounds,a.e({},O.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=O.localIdeographFontFamily,this._validateStyle=O.validateStyle,O.style&&this.setStyle(O.style,{localIdeographFontFamily:O.localIdeographFontFamily}),O.attributionControl&&this.addControl(new iA(typeof O.attributionControl=="boolean"?void 0:O.attributionControl)),O.maplibreLogo&&this.addControl(new va,O.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new a.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new a.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new a.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(O,u){if(u===void 0&&(u=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=O.onAdd(this);this._controls.push(O);const C=this._controlPositions[u];return u.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(O);return u>-1&&this._controls.splice(u,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}calculateCameraOptionsFromTo(O,u,f,C){return C==null&&this.terrain&&(C=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(O,u,f,C)}resize(O){var u;const f=this._containerDimensions(),C=f[0],M=f[1],I=this._getClampedPixelRatio(C,M);if(this._resizeCanvas(C,M,I),this.painter.resize(C,M,I),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const G=this._getClampedPixelRatio(C,M);this._resizeCanvas(C,M,G),this.painter.resize(C,M,G)}this.transform.resize(C,M),(u=this._requestedCameraState)===null||u===void 0||u.resize(C,M);const L=!this._moving;return L&&(this.stop(),this.fire(new a.k("movestart",O)).fire(new a.k("move",O))),this.fire(new a.k("resize",O)),L&&this.fire(new a.k("moveend",O)),this}_getClampedPixelRatio(O,u){const{0:f,1:C}=this._maxCanvasSize,M=this.getPixelRatio(),I=O*M,L=u*M;return Math.min(I>f?f/I:1,L>C?C/L:1)*M}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(Ft.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.minZoom=O,this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.maxZoom=O,this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.minPitch=O,this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(O>=this.transform.minPitch)return this.transform.maxPitch=O,this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.renderWorldCopies=O,this._update()}project(O){return this.transform.locationPoint(a.M.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.pointLocation(a.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,u,f){if(O==="mouseenter"||O==="mouseover"){let C=!1;return{layer:u,listener:f,delegates:{mousemove:I=>{const L=this.getLayer(u)?this.queryRenderedFeatures(I.point,{layers:[u]}):[];L.length?C||(C=!0,f.call(this,new ds(O,this,I.originalEvent,{features:L}))):C=!1},mouseout:()=>{C=!1}}}}if(O==="mouseleave"||O==="mouseout"){let C=!1;return{layer:u,listener:f,delegates:{mousemove:L=>{(this.getLayer(u)?this.queryRenderedFeatures(L.point,{layers:[u]}):[]).length?C=!0:C&&(C=!1,f.call(this,new ds(O,this,L.originalEvent)))},mouseout:L=>{C&&(C=!1,f.call(this,new ds(O,this,L.originalEvent)))}}}}{const C=M=>{const I=this.getLayer(u)?this.queryRenderedFeatures(M.point,{layers:[u]}):[];I.length&&(M.features=I,f.call(this,M),delete M.features)};return{layer:u,listener:f,delegates:{[O]:C}}}}on(O,u,f){if(f===void 0)return super.on(O,u);const C=this._createDelegatedListener(O,u,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(C);for(const M in C.delegates)this.on(M,C.delegates[M]);return this}once(O,u,f){if(f===void 0)return super.once(O,u);const C=this._createDelegatedListener(O,u,f);for(const M in C.delegates)this.once(M,C.delegates[M]);return this}off(O,u,f){return f===void 0?super.off(O,u):(this._delegatedListeners&&this._delegatedListeners[O]&&(C=>{const M=this._delegatedListeners[O];for(let I=0;I<M.length;I++){const L=M[I];if(L.layer===u&&L.listener===f){for(const j in L.delegates)this.off(j,L.delegates[j]);return M.splice(I,1),this}}})(),this)}queryRenderedFeatures(O,u){if(!this.style)return[];let f;const C=O instanceof a.P||Array.isArray(O),M=C?O:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(C?{}:O)||{},M instanceof a.P||typeof M[0]=="number")f=[a.P.convert(M)];else{const I=a.P.convert(M[0]),L=a.P.convert(M[1]);f=[I,new a.P(L.x,I.y),L,new a.P(I.x,L.y),I]}return this.style.queryRenderedFeatures(f,u,this.transform)}querySourceFeatures(O,u){return this.style.querySourceFeatures(O,u)}setStyle(O,u){return(u=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(O,u))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const u=this._locale[O];if(u==null)throw new Error(`Missing UI string '${O}'`);return u}_updateStyle(O,u){if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(O,u));const f=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new ii(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,u,f):this.style.loadJSON(O,u,f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ii(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,u){if(typeof O=="string"){const f=this._requestManager.transformRequest(O,re.Style);a.h(f,new AbortController).then(C=>{this._updateDiff(C.data,u)}).catch(C=>{C&&this.fire(new a.j(C))})}else typeof O=="object"&&this._updateDiff(O,u)}_updateDiff(O,u){try{this.style.setState(O,u)&&this._update(!0)}catch(f){a.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(O,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(O,u){return this._lazyInitEmptyStyle(),this.style.addSource(O,u),this._update(!0)}isSourceLoaded(O){const u=this.style&&this.style.sourceCaches[O];if(u!==void 0)return u.loaded();this.fire(new a.j(new Error(`There is no source with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const u=this.style.sourceCaches[O.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);this.terrain===null&&u.reload();for(const f in this.style._layers){const C=this.style._layers[f];C.type==="hillshade"&&C.source===O.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ro(this.painter,u,O),this.painter.renderToTexture=new Ru(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=f=>{f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==O.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:O})),this}getTerrain(){var O,u;return(u=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const O=this.style&&this.style.sourceCaches;for(const u in O){const f=O[u]._tiles;for(const C in f){const M=f[C];if(M.state!=="loaded"&&M.state!=="errored")return!1}}return!0}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}addImage(O,u,f={}){const{pixelRatio:C=1,sdf:M=!1,stretchX:I,stretchY:L,content:j}=f;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||a.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:te,data:ue}=u,fe=u;return this.style.addImage(O,{data:new a.R({width:G,height:te},new Uint8Array(ue)),pixelRatio:C,stretchX:I,stretchY:L,content:j,sdf:M,version:0,userImage:fe}),fe.onAdd&&fe.onAdd(this,O),this}}{const{width:G,height:te,data:ue}=B.getImageData(u);this.style.addImage(O,{data:new a.R({width:G,height:te},ue),pixelRatio:C,stretchX:I,stretchY:L,content:j,sdf:M,version:0})}}updateImage(O,u){const f=this.style.getImage(O);if(!f)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const C=u instanceof HTMLImageElement||a.b(u)?B.getImageData(u):u,{width:M,height:I,data:L}=C;if(M===void 0||I===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(M!==f.data.width||I!==f.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(u instanceof HTMLImageElement||a.b(u));return f.data.replace(L,j),this.style.updateImage(O,f),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O){return oe.getImage(this._requestManager.transformRequest(O,re.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(O,u){return this._lazyInitEmptyStyle(),this.style.addLayer(O,u),this._update(!0)}moveLayer(O,u){return this.style.moveLayer(O,u),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,u,f){return this.style.setLayerZoomRange(O,u,f),this._update(!0)}setFilter(O,u,f={}){return this.style.setFilter(O,u,f),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,u,f,C={}){return this.style.setPaintProperty(O,u,f,C),this._update(!0)}getPaintProperty(O,u){return this.style.getPaintProperty(O,u)}setLayoutProperty(O,u,f,C={}){return this.style.setLayoutProperty(O,u,f,C),this._update(!0)}getLayoutProperty(O,u){return this.style.getLayoutProperty(O,u)}setGlyphs(O,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,u,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,u,f,C=>{C||this._update(!0)}),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,u,f=>{f||this._update(!0)}),this}setLight(O,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(O,u){return this.style.setFeatureState(O,u),this._update()}removeFeatureState(O,u){return this.style.removeFeatureState(O,u),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,u=0;return this._container&&(O=this._container.clientWidth||400,u=this._container.clientHeight||300),[O,u]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const u=this._canvasContainer=k.create("div","maplibregl-canvas-container",O);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=k.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),C=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],C);const M=this._controlContainer=k.create("div","maplibregl-control-container",O),I=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(L=>{I[L]=k.create("div",`maplibregl-ctrl-${L} `,M)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(O,u,f){this._canvas.width=Math.floor(f*O),this._canvas.height=Math.floor(f*u),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const O={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let u=null;this._canvas.addEventListener("webglcontextcreationerror",C=>{u={requestedAttributes:O},C&&(u.statusMessage=C.statusMessage,u.type=C.type)},{once:!0});const f=this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O);if(!f){const C="Failed to initialize WebGL";throw u?(u.message=C,new Error(JSON.stringify(u))):new Error(C)}this.painter=new yh(f,this.transform),P.testSupport(f)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){const u=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let f=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const M=this.transform.zoom,I=B.now();this.style.zoomHistory.update(M,I);const L=new a.a8(M,{now:I,fadeDuration:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=L.crossFadingFactor();j===1&&j===this._crossFadingFactor||(f=!0,this._crossFadingFactor=j),this.style.update(L)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,u,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:u,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bb.mark(a.bc.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||f)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const C=this._sourcesDirty||this._styleDirty||this._placementDirty;return C||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||C||(this._fullyLoaded=!0,a.bb.mark(a.bc.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),oe.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),k.remove(this._canvasContainer),k.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),a.bb.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(O=>{a.bb.frame(O),this._frameRequest=null,this._render(O)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return Kf}getCameraTargetElevation(){return this.transform.elevation}},s.MapMouseEvent=ds,s.MapTouchEvent=Gc,s.MapWheelEvent=hs,s.Marker=sa,s.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const u=this._map.getZoom(),f=u===this._map.getMaxZoom(),C=u===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=C,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",C.toString())},this._rotateCompassArrow=()=>{const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=u},this._setButtonTitle=(u,f)=>{const C=this._map._getUIString(`NavigationControl.${f}`);u.title=C,u.setAttribute("aria-label",C)},this.options=a.e({},bh,O),this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=k.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ke(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){k.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,u){const f=k.create("button",O,this._container);return f.type="button",f.addEventListener("click",u),f}},s.Popup=class extends a.E{constructor(O){super(),this.remove=()=>(this._content&&k.remove(this._content),this._container&&(k.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=k.create("div","maplibregl-popup",this._map.getContainer()),this._tip=k.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const L of this.options.className.split(" "))this._container.classList.add(L);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ka(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!u)return;const f=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);let C=this.options.anchor;const M=_l(this.options.offset);if(!C){const L=this._container.offsetWidth,j=this._container.offsetHeight;let G;G=f.y+M.bottom.y<j?["top"]:f.y>this._map.transform.height-j?["bottom"]:[],f.x<L/2?G.push("left"):f.x>this._map.transform.width-L/2&&G.push("right"),C=G.length===0?"bottom":G.join("-")}const I=f.add(M[C]).round();k.setTransform(this._container,`${no[C]} translate(${I.x}px,${I.y}px)`),jr(this._container,C,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Td),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=a.M.convert(O),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const u=document.createDocumentFragment(),f=document.createElement("body");let C;for(f.innerHTML=O;C=f.firstChild,C;)u.appendChild(C);return this.setDOMContent(u)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=k.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){this._container&&this._container.classList.add(O)}removeClassName(O){this._container&&this._container.classList.remove(O)}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}_createCloseButton(){this.options.closeButton&&(this._closeButton=k.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector(xh);O&&O.focus()}},s.RasterDEMTileSource=pn,s.RasterTileSource=nr,s.ScaleControl=class{constructor(O){this._onMove=()=>{Id(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,Id(this._map,this._container,this.options)},this.options=a.e({},Pf,O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){k.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=gu,s.Style=ii,s.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=O}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=k.create("button","maplibregl-ctrl-terrain",this._container),k.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){k.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=TA,s.TwoFingersTouchRotateHandler=Fu,s.TwoFingersTouchZoomHandler=IA,s.TwoFingersTouchZoomRotateHandler=to,s.VectorTileSource=pt,s.VideoSource=xr,s.addSourceType=(O,u)=>a._(void 0,void 0,void 0,function*(){if(fi(O))throw new Error(`A source type called "${O}" already exists.`);((f,C)=>{Cr[f]=C})(O,u)}),s.clearPrewarmedResources=function(){const O=kt;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(rn),kt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return Y().getRTLTextPluginStatus()},s.getVersion=function(){return Ff},s.getWorkerCount=function(){return mt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(O){return be().broadcast("importScript",O)},s.prewarm=function(){Me().acquire(rn)},s.setMaxParallelImageRequests=function(O){a.a.MAX_PARALLEL_IMAGE_REQUESTS=O},s.setRTLTextPlugin=function(O,u){return Y().setRTLTextPlugin(O,u)},s.setWorkerCount=function(O){mt.workerCount=O},s.setWorkerUrl=function(O){a.a.WORKER_URL=O}});var o=t;return o})})(jR);var kX=jR.exports;const p2=ma(kX);var _p={};function S6(e,n,t){var r={id:[n,t,"circle"].join("_"),source:n,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function E6(e,n,t,r){var i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function O6(e,n,t){var r={id:[n,t,"line"].join("_"),source:n,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function IX(e,n){var t=[],r=[],i=[];function o(s){var a=n.bind(null,s),p={circle:a(.8),line:a(.6),polygon:a(.3),polygonOutline:a(.6),default:a(1)};return p}return Object.keys(e).forEach(function(s){var a=e[s];if(!a||a.length===0){var p=o(s);r.push(S6(p.circle,s)),i.push(O6(p.line,s)),t.push(E6(p.polygon,p.polygonOutline,s))}else a.forEach(function(g){var b=o(g);r.push(S6(b.circle,s,g)),i.push(O6(b.line,s,g)),t.push(E6(b.polygon,b.polygonOutline,s,g))})}),t.concat(i).concat(r)}function TX(e,n,t){t=Object.assign({backgroundColor:"#fff"},t);var r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(e.sources).forEach(function(o){var s=e.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(e,{layers:[r].concat(n),soources:i})}_p.polygonLayer=E6;_p.lineLayer=O6;_p.circleLayer=S6;_p.generateInspectStyle=TX;_p.generateColoredLayers=IX;function KX(e,n){var t=document.createElement("div");return t.className="mapboxgl-ctrl mapboxgl-ctrl-group",t.appendChild(e),n||(t.style.display="none"),t}function PX(){var e=document.createElement("button");return e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",e.type="button",e["aria-label"]="Inspect",e}function TB(e){e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=PX(),this._btn.onclick=e.onToggle,this.elem=KX(this._btn,e.show)}TB.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"};TB.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"};var FX=TB,s3={exports:{}};s3.exports;(function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",b="[object Boolean]",B="[object Date]",k="[object Error]",P="[object Function]",R="[object GeneratorFunction]",Z="[object Map]",W="[object Number]",Q="[object Null]",q="[object Object]",oe="[object Promise]",re="[object Proxy]",ce="[object RegExp]",se="[object Set]",le="[object String]",ye="[object Symbol]",De="[object Undefined]",Ne="[object WeakMap]",et="[object ArrayBuffer]",ft="[object DataView]",Ke="[object Float32Array]",rt="[object Float64Array]",Ce="[object Int8Array]",Rt="[object Int16Array]",jt="[object Int32Array]",tn="[object Uint8Array]",Qt="[object Uint8ClampedArray]",He="[object Uint16Array]",Je="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,rn=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,dt={};dt[Ke]=dt[rt]=dt[Ce]=dt[Rt]=dt[jt]=dt[tn]=dt[Qt]=dt[He]=dt[Je]=!0,dt[a]=dt[p]=dt[et]=dt[b]=dt[ft]=dt[B]=dt[k]=dt[P]=dt[Z]=dt[W]=dt[q]=dt[ce]=dt[se]=dt[le]=dt[Ne]=!1;var kt=typeof window=="object"&&window&&window.Object===Object&&window,Pt=typeof self=="object"&&self&&self.Object===Object&&self,Me=kt||Pt||Function("return this")(),he=n&&!n.nodeType&&n,be=he&&!0&&e&&!e.nodeType&&e,Pe=be&&be.exports===he,Ze=Pe&&kt.process,nt=function(){try{return Ze&&Ze.binding&&Ze.binding("util")}catch{}}(),xt=nt&&nt.isTypedArray;function Ft(ne,Ie){for(var At=-1,Yt=ne==null?0:ne.length,wr=0,Tn=[];++At<Yt;){var _i=ne[At];Ie(_i,At,ne)&&(Tn[wr++]=_i)}return Tn}function Dt(ne,Ie){for(var At=-1,Yt=Ie.length,wr=ne.length;++At<Yt;)ne[wr+At]=Ie[At];return ne}function pt(ne,Ie){for(var At=-1,Yt=ne==null?0:ne.length;++At<Yt;)if(Ie(ne[At],At,ne))return!0;return!1}function nr(ne,Ie){for(var At=-1,Yt=Array(ne);++At<ne;)Yt[At]=Ie(At);return Yt}function pn(ne){return function(Ie){return ne(Ie)}}function bn(ne,Ie){return ne.has(Ie)}function Jn(ne,Ie){return ne==null?void 0:ne[Ie]}function mr(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt,wr){At[++Ie]=[wr,Yt]}),At}function xr(ne,Ie){return function(At){return ne(Ie(At))}}function Nr(ne){var Ie=-1,At=Array(ne.size);return ne.forEach(function(Yt){At[++Ie]=Yt}),At}var Cr=Array.prototype,fi=Function.prototype,we=Object.prototype,H=Me["__core-js_shared__"],Y=fi.toString,Be=we.hasOwnProperty,st=function(){var ne=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),St=we.toString,Et=RegExp("^"+Y.call(Be).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Pe?Me.Buffer:void 0,mn=Me.Symbol,Kn=Me.Uint8Array,En=we.propertyIsEnumerable,m=Cr.splice,Tt=mn?mn.toStringTag:void 0,Ur=Object.getOwnPropertySymbols,Wn=Nt?Nt.isBuffer:void 0,Te=xr(Object.keys,Object),de=Va(Me,"DataView"),ve=Va(Me,"Map"),Se=Va(Me,"Promise"),Re=Va(Me,"Set"),Xe=Va(Me,"WeakMap"),at=Va(Object,"create"),ht=Ha(de),Ve=Ha(ve),_t=Ha(Se),Zt=Ha(Re),Ht=Ha(Xe),qt=mn?mn.prototype:void 0,Vn=qt?qt.valueOf:void 0;function On(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function ir(){this.__data__=at?at(null):{},this.size=0}function or(ne){var Ie=this.has(ne)&&delete this.__data__[ne];return this.size-=Ie?1:0,Ie}function Tr(ne){var Ie=this.__data__;if(at){var At=Ie[ne];return At===r?void 0:At}return Be.call(Ie,ne)?Ie[ne]:void 0}function Rr(ne){var Ie=this.__data__;return at?Ie[ne]!==void 0:Be.call(Ie,ne)}function Dr(ne,Ie){var At=this.__data__;return this.size+=this.has(ne)?0:1,At[ne]=at&&Ie===void 0?r:Ie,this}On.prototype.clear=ir,On.prototype.delete=or,On.prototype.get=Tr,On.prototype.has=Rr,On.prototype.set=Dr;function ei(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function rr(){this.__data__=[],this.size=0}function li(ne){var Ie=this.__data__,At=Mn(Ie,ne);if(At<0)return!1;var Yt=Ie.length-1;return At==Yt?Ie.pop():m.call(Ie,At,1),--this.size,!0}function ki(ne){var Ie=this.__data__,At=Mn(Ie,ne);return At<0?void 0:Ie[At][1]}function Xi(ne){return Mn(this.__data__,ne)>-1}function xo(ne,Ie){var At=this.__data__,Yt=Mn(At,ne);return Yt<0?(++this.size,At.push([ne,Ie])):At[Yt][1]=Ie,this}ei.prototype.clear=rr,ei.prototype.delete=li,ei.prototype.get=ki,ei.prototype.has=Xi,ei.prototype.set=xo;function pi(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.clear();++Ie<At;){var Yt=ne[Ie];this.set(Yt[0],Yt[1])}}function Oo(){this.size=0,this.__data__={hash:new On,map:new(ve||ei),string:new On}}function us(ne){var Ie=qa(this,ne).delete(ne);return this.size-=Ie?1:0,Ie}function ka(ne){return qa(this,ne).get(ne)}function Ci(ne){return qa(this,ne).has(ne)}function Ms(ne,Ie){var At=qa(this,ne),Yt=At.size;return At.set(ne,Ie),this.size+=At.size==Yt?0:1,this}pi.prototype.clear=Oo,pi.prototype.delete=us,pi.prototype.get=ka,pi.prototype.has=Ci,pi.prototype.set=Ms;function Si(ne){var Ie=-1,At=ne==null?0:ne.length;for(this.__data__=new pi;++Ie<At;)this.add(ne[Ie])}function Qn(ne){return this.__data__.set(ne,r),this}function so(ne){return this.__data__.has(ne)}Si.prototype.add=Si.prototype.push=Qn,Si.prototype.has=so;function Go(ne){var Ie=this.__data__=new ei(ne);this.size=Ie.size}function Ji(){this.__data__=new ei,this.size=0}function ge(ne){var Ie=this.__data__,At=Ie.delete(ne);return this.size=Ie.size,At}function $e(ne){return this.__data__.get(ne)}function Xt(ne){return this.__data__.has(ne)}function sn(ne,Ie){var At=this.__data__;if(At instanceof ei){var Yt=At.__data__;if(!ve||Yt.length<t-1)return Yt.push([ne,Ie]),this.size=++At.size,this;At=this.__data__=new pi(Yt)}return At.set(ne,Ie),this.size=At.size,this}Go.prototype.clear=Ji,Go.prototype.delete=ge,Go.prototype.get=$e,Go.prototype.has=Xt,Go.prototype.set=sn;function Kt(ne,Ie){var At=pl(ne),Yt=!At&&wA(ne),wr=!At&&!Yt&&Ho(ne),Tn=!At&&!Yt&&!wr&&Au(ne),_i=At||Yt||wr||Tn,Ti=_i?nr(ne.length,String):[],Yr=Ti.length;for(var Gi in ne)(Ie||Be.call(ne,Gi))&&!(_i&&(Gi=="length"||wr&&(Gi=="offset"||Gi=="parent")||Tn&&(Gi=="buffer"||Gi=="byteLength"||Gi=="byteOffset")||tc(Gi,Yr)))&&Ti.push(Gi);return Ti}function Mn(ne,Ie){for(var At=ne.length;At--;)if(Ss(ne[At][0],Ie))return At;return-1}function cr(ne,Ie,At){var Yt=Ie(ne);return pl(ne)?Yt:Dt(Yt,At(ne))}function Ii(ne){return ne==null?ne===void 0?De:Q:Tt&&Tt in Object(ne)?Ns(ne):nc(ne)}function ii(ne){return As(ne)&&Ii(ne)==a}function ya(ne,Ie,At,Yt,wr){return ne===Ie?!0:ne==null||Ie==null||!As(ne)&&!As(Ie)?ne!==ne&&Ie!==Ie:$a(ne,Ie,At,Yt,ya,wr)}function $a(ne,Ie,At,Yt,wr,Tn){var _i=pl(ne),Ti=pl(Ie),Yr=_i?p:fl(ne),Gi=Ti?p:fl(Ie);Yr=Yr==a?q:Yr,Gi=Gi==a?q:Gi;var Fo=Yr==q,xa=Gi==q,jo=Yr==Gi;if(jo&&Ho(ne)){if(!Ho(Ie))return!1;_i=!0,Fo=!1}if(jo&&!Fo)return Tn||(Tn=new Go),_i||Au(ne)?Ya(ne,Ie,At,Yt,wr,Tn):ba(ne,Ie,Yr,At,Yt,wr,Tn);if(!(At&i)){var Ki=Fo&&Be.call(ne,"__wrapped__"),oa=xa&&Be.call(Ie,"__wrapped__");if(Ki||oa){var Ia=Ki?ne.value():ne,Ta=oa?Ie.value():Ie;return Tn||(Tn=new Go),wr(Ia,Ta,At,Yt,Tn)}}return jo?(Tn||(Tn=new Go),Ou(ne,Ie,At,Yt,wr,Tn)):!1}function Br(ne){if(!Bu(ne)||xA(ne))return!1;var Ie=lu(ne)?Et:rn;return Ie.test(Ha(ne))}function mi(ne){return As(ne)&&uu(ne.length)&&!!dt[Ii(ne)]}function rl(ne){if(!Ju(ne))return Te(ne);var Ie=[];for(var At in Object(ne))Be.call(ne,At)&&At!="constructor"&&Ie.push(At);return Ie}function Ya(ne,Ie,At,Yt,wr,Tn){var _i=At&i,Ti=ne.length,Yr=Ie.length;if(Ti!=Yr&&!(_i&&Yr>Ti))return!1;var Gi=Tn.get(ne);if(Gi&&Tn.get(Ie))return Gi==Ie;var Fo=-1,xa=!0,jo=At&o?new Si:void 0;for(Tn.set(ne,Ie),Tn.set(Ie,ne);++Fo<Ti;){var Ki=ne[Fo],oa=Ie[Fo];if(Yt)var Ia=_i?Yt(oa,Ki,Fo,Ie,ne,Tn):Yt(Ki,oa,Fo,ne,Ie,Tn);if(Ia!==void 0){if(Ia)continue;xa=!1;break}if(jo){if(!pt(Ie,function(Ta,Gl){if(!bn(jo,Gl)&&(Ki===Ta||wr(Ki,Ta,At,Yt,Tn)))return jo.push(Gl)})){xa=!1;break}}else if(!(Ki===oa||wr(Ki,oa,At,Yt,Tn))){xa=!1;break}}return Tn.delete(ne),Tn.delete(Ie),xa}function ba(ne,Ie,At,Yt,wr,Tn,_i){switch(At){case ft:if(ne.byteLength!=Ie.byteLength||ne.byteOffset!=Ie.byteOffset)return!1;ne=ne.buffer,Ie=Ie.buffer;case et:return!(ne.byteLength!=Ie.byteLength||!Tn(new Kn(ne),new Kn(Ie)));case b:case B:case W:return Ss(+ne,+Ie);case k:return ne.name==Ie.name&&ne.message==Ie.message;case ce:case le:return ne==Ie+"";case Z:var Ti=mr;case se:var Yr=Yt&i;if(Ti||(Ti=Nr),ne.size!=Ie.size&&!Yr)return!1;var Gi=_i.get(ne);if(Gi)return Gi==Ie;Yt|=o,_i.set(ne,Ie);var Fo=Ya(Ti(ne),Ti(Ie),Yt,wr,Tn,_i);return _i.delete(ne),Fo;case ye:if(Vn)return Vn.call(ne)==Vn.call(Ie)}return!1}function Ou(ne,Ie,At,Yt,wr,Tn){var _i=At&i,Ti=Ws(ne),Yr=Ti.length,Gi=Ws(Ie),Fo=Gi.length;if(Yr!=Fo&&!_i)return!1;for(var xa=Yr;xa--;){var jo=Ti[xa];if(!(_i?jo in Ie:Be.call(Ie,jo)))return!1}var Ki=Tn.get(ne);if(Ki&&Tn.get(Ie))return Ki==Ie;var oa=!0;Tn.set(ne,Ie),Tn.set(Ie,ne);for(var Ia=_i;++xa<Yr;){jo=Ti[xa];var Ta=ne[jo],Gl=Ie[jo];if(Yt)var ku=_i?Yt(Gl,Ta,jo,Ie,ne,Tn):Yt(Ta,Gl,jo,ne,Ie,Tn);if(!(ku===void 0?Ta===Gl||wr(Ta,Gl,At,Yt,Tn):ku)){oa=!1;break}Ia||(Ia=jo=="constructor")}if(oa&&!Ia){var ic=ne.constructor,cs=Ie.constructor;ic!=cs&&"constructor"in ne&&"constructor"in Ie&&!(typeof ic=="function"&&ic instanceof ic&&typeof cs=="function"&&cs instanceof cs)&&(oa=!1)}return Tn.delete(ne),Tn.delete(Ie),oa}function Ws(ne){return cr(ne,rc,_A)}function qa(ne,Ie){var At=ne.__data__;return bA(Ie)?At[typeof Ie=="string"?"string":"hash"]:At.map}function Va(ne,Ie){var At=Jn(ne,Ie);return Br(At)?At:void 0}function Ns(ne){var Ie=Be.call(ne,Tt),At=ne[Tt];try{ne[Tt]=void 0;var Yt=!0}catch{}var wr=St.call(ne);return Yt&&(Ie?ne[Tt]=At:delete ne[Tt]),wr}var _A=Ur?function(ne){return ne==null?[]:(ne=Object(ne),Ft(Ur(ne),function(Ie){return En.call(ne,Ie)}))}:mo,fl=Ii;(de&&fl(new de(new ArrayBuffer(1)))!=ft||ve&&fl(new ve)!=Z||Se&&fl(Se.resolve())!=oe||Re&&fl(new Re)!=se||Xe&&fl(new Xe)!=Ne)&&(fl=function(ne){var Ie=Ii(ne),At=Ie==q?ne.constructor:void 0,Yt=At?Ha(At):"";if(Yt)switch(Yt){case ht:return ft;case Ve:return Z;case _t:return oe;case Zt:return se;case Ht:return Ne}return Ie});function tc(ne,Ie){return Ie=Ie??s,!!Ie&&(typeof ne=="number"||mt.test(ne))&&ne>-1&&ne%1==0&&ne<Ie}function bA(ne){var Ie=typeof ne;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?ne!=="__proto__":ne===null}function xA(ne){return!!st&&st in ne}function Ju(ne){var Ie=ne&&ne.constructor,At=typeof Ie=="function"&&Ie.prototype||we;return ne===At}function nc(ne){return St.call(ne)}function Ha(ne){if(ne!=null){try{return Y.call(ne)}catch{}try{return ne+""}catch{}}return""}function Ss(ne,Ie){return ne===Ie||ne!==ne&&Ie!==Ie}var wA=ii(function(){return arguments}())?ii:function(ne){return As(ne)&&Be.call(ne,"callee")&&!En.call(ne,"callee")},pl=Array.isArray;function kl(ne){return ne!=null&&uu(ne.length)&&!lu(ne)}var Ho=Wn||Ao;function eA(ne,Ie){return ya(ne,Ie)}function lu(ne){if(!Bu(ne))return!1;var Ie=Ii(ne);return Ie==P||Ie==R||Ie==g||Ie==re}function uu(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=s}function Bu(ne){var Ie=typeof ne;return ne!=null&&(Ie=="object"||Ie=="function")}function As(ne){return ne!=null&&typeof ne=="object"}var Au=xt?pn(xt):mi;function rc(ne){return kl(ne)?Kt(ne):rl(ne)}function mo(){return[]}function Ao(){return!1}e.exports=eA})(s3,s3.exports);var NR=s3.exports;const B6=ma(NR);function DX(e){return typeof e>"u"||e===null?e:e instanceof Date?e.toLocaleString():typeof e=="object"||typeof e=="number"||typeof e=="string"?e.toString():e}function VI(e,n){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+e+'</div><div class="mapbox-gl-inspect_property-value">'+DX(n)+"</div></div>"}function UX(e){return'<div class="mapbox-gl-inspect_layer">'+e+"</div>"}function RX(e){var n=UX(e.layer["source-layer"]||e.layer.source),t=VI("$type",e.geometry.type),r=Object.keys(e.properties).map(function(i){return VI(i,e.properties[i])});return[n,t].concat(r).join("")}function LX(e){return e.map(function(n){return'<div class="mapbox-gl-inspect_feature">'+RX(n)+"</div>"}).join("")}function zX(e){return'<div class="mapbox-gl-inspect_popup">'+LX(e)+"</div>"}var jX=zX,J4={},k6={exports:{}};(function(e,n){(function(t,r){{var i=r();e&&e.exports&&(n=e.exports=i),n.randomColor=i}})(_f,function(){var t=null,r={};W();var i=function(re){if(re=re||{},re.seed&&re.seed===parseInt(re.seed,10))t=re.seed;else if(typeof re.seed=="string")t=oe(re.seed);else{if(re.seed!==void 0&&re.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var ce,se,le;if(re.count!==null&&re.count!==void 0){var ye=re.count,De=[];for(re.count=null;ye>De.length;)t&&re.seed&&(re.seed+=1),De.push(i(re));return re.count=ye,De}return ce=o(re),se=s(ce,re),le=a(ce,se,re),p([ce,se,le],re)};function o(re){var ce=b(re.hue),se=P(ce);return se<0&&(se=360+se),se}function s(re,ce){if(ce.luminosity==="random")return P([0,100]);if(ce.hue==="monochrome")return 0;var se=B(re),le=se[0],ye=se[1];switch(ce.luminosity){case"bright":le=55;break;case"dark":le=ye-10;break;case"light":ye=55;break}return P([le,ye])}function a(re,ce,se){var le=g(re,ce),ye=100;switch(se.luminosity){case"dark":ye=le+20;break;case"light":le=(ye+le)/2;break;case"random":le=0,ye=100;break}return P([le,ye])}function p(re,ce){switch(ce.format){case"hsvArray":return re;case"hslArray":return q(re);case"hsl":var se=q(re);return"hsl("+se[0]+", "+se[1]+"%, "+se[2]+"%)";case"hsla":var le=q(re);return"hsla("+le[0]+", "+le[1]+"%, "+le[2]+"%, "+Math.random()+")";case"rgbArray":return Q(re);case"rgb":var ye=Q(re);return"rgb("+ye.join(", ")+")";case"rgba":var De=Q(re);return"rgba("+De.join(", ")+", "+Math.random()+")";default:return R(re)}}function g(re,ce){for(var se=k(re).lowerBounds,le=0;le<se.length-1;le++){var ye=se[le][0],De=se[le][1],Ne=se[le+1][0],et=se[le+1][1];if(ce>=ye&&ce<=Ne){var ft=(et-De)/(Ne-ye),Ke=De-ft*ye;return ft*ce+Ke}}return 0}function b(re){if(typeof parseInt(re)=="number"){var ce=parseInt(re);if(ce<360&&ce>0)return[ce,ce]}if(typeof re=="string"&&r[re]){var se=r[re];if(se.hueRange)return se.hueRange}return[0,360]}function B(re){return k(re).saturationRange}function k(re){re>=334&&re<=360&&(re-=360);for(var ce in r){var se=r[ce];if(se.hueRange&&re>=se.hueRange[0]&&re<=se.hueRange[1])return r[ce]}return"Color not found"}function P(re){if(t===null)return Math.floor(re[0]+Math.random()*(re[1]+1-re[0]));var ce=re[1]||1,se=re[0]||0;t=(t*9301+49297)%233280;var le=t/233280;return Math.floor(se+le*(ce-se))}function R(re){var ce=Q(re);function se(ye){var De=ye.toString(16);return De.length==1?"0"+De:De}var le="#"+se(ce[0])+se(ce[1])+se(ce[2]);return le}function Z(re,ce,se){var le=se[0][0],ye=se[se.length-1][0],De=se[se.length-1][1],Ne=se[0][1];r[re]={hueRange:ce,lowerBounds:se,saturationRange:[le,ye],brightnessRange:[De,Ne]}}function W(){Z("monochrome",null,[[0,0],[100,0]]),Z("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),Z("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),Z("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),Z("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),Z("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),Z("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),Z("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function Q(re){var ce=re[0];ce===0&&(ce=1),ce===360&&(ce=359),ce=ce/360;var se=re[1]/100,le=re[2]/100,ye=Math.floor(ce*6),De=ce*6-ye,Ne=le*(1-se),et=le*(1-De*se),ft=le*(1-(1-De)*se),Ke=256,rt=256,Ce=256;switch(ye){case 0:Ke=le,rt=ft,Ce=Ne;break;case 1:Ke=et,rt=le,Ce=Ne;break;case 2:Ke=Ne,rt=le,Ce=ft;break;case 3:Ke=Ne,rt=et,Ce=le;break;case 4:Ke=ft,rt=Ne,Ce=le;break;case 5:Ke=le,rt=Ne,Ce=et;break}var Rt=[Math.floor(Ke*255),Math.floor(rt*255),Math.floor(Ce*255)];return Rt}function q(re){var ce=re[0],se=re[1]/100,le=re[2]/100,ye=(2-se)*le;return[ce,Math.round(se*le/(ye<1?ye:2-ye)*1e4)/100,ye/2*100]}function oe(re){for(var ce=0,se=0;se!==re.length&&!(ce>=Number.MAX_SAFE_INTEGER);se++)ce+=re.charCodeAt(se);return ce}return i})})(k6,k6.exports);var WX=k6.exports,NX=WX;function GX(e,n){var t="bright",r=null;/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport/.test(e)&&(r="orange"),/contour|building/.test(e)&&(r="monochrome"),/building/.test(e)&&(t="dark"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover/.test(e)&&(r="green");var i=NX({luminosity:t,hue:r,seed:e,format:"rgbArray"}),o=i.concat([n||1]);return"rgba("+o.join(", ")+")"}J4.brightColor=GX;var GR=_p,QX=FX,$X=NR,YX=jX,qX=J4;function VX(e){return e.metadata&&e.metadata["mapbox-gl-inspect:inspect"]}function HX(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"mapbox-gl-inspect:inspect":!0})})}function ZX(e){return(e.type==="raster"||e.type==="raster-dem")&&e.tileSize&&e.tiles?{type:e.type,tileSize:e.tileSize,tiles:e.tiles}:(e.type==="raster"||e.type==="raster-dem")&&e.url?{type:e.type,url:e.url}:e}function HI(e){return Object.keys(e.sources).forEach(function(n){e.sources[n]=ZX(e.sources[n])}),e}function XX(e){var n=e.version.split(".").map(parseFloat);n[0]<1&&n[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version.")}function Mf(e){if(!(this instanceof Mf))throw new Error("MapboxInspect needs to be called with the new keyword");var n=null;window.mapboxgl?(XX(window.mapboxgl),n=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):e.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:qX.brightColor,buildInspectStyle:GR.generateInspectStyle,renderPopup:YX,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new QX({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}Mf.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()};Mf.prototype._inspectStyle=function(){var e=GR.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})};Mf.prototype.render=function(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(HI(HX(this._inspectStyle()))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(HI(this._originalStyle)),this._toggle.setInspectIcon())};Mf.prototype._onSourceChange=function(){var e=this.sources,n=this._map,t=n.getStyle(),r=Object.keys(t.sources),i=Object.assign({},e);Object.keys(n.style.sourceCaches).forEach(function(o){var s=n.style.sourceCaches[o]||{_source:{}},a=s._source.vectorLayerIds;a?e[o]=a:s._source.type==="geojson"&&(e[o]=[])}),Object.keys(e).forEach(function(o){r.indexOf(o)===-1&&delete e[o]}),!$X(i,e)&&Object.keys(e).length>0&&this.render()};Mf.prototype._onStyleChange=function(){var e=this._map.getStyle();VX(e)||(this._originalStyle=e)};Mf.prototype._onMousemove=function(e){var n;this.options.selectThreshold===0?n=e.point:n=[[e.point.x-this.options.selectThreshold,e.point.y+this.options.selectThreshold],[e.point.x+this.options.selectThreshold,e.point.y-this.options.selectThreshold]];var t=this._map.queryRenderedFeatures(n,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=t.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup||e.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;e.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||e.type==="mousemove"&&!this.options.showMapPopupOnHover)return;e.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup)if(!t.length)this._popup.remove();else{this._popup.setLngLat(e.lngLat);var r=typeof this.options.renderPopup(t);r==="string"?this._popup.setHTML(this.options.renderPopup(t)):this._popup.setDOMContent(this.options.renderPopup(t)),this._popup.addTo(this._map)}};Mf.prototype.onAdd=function(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),this._toggle.elem};Mf.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0};var JX=Mf,eJ=JX,tJ=eJ;const nJ=ma(tJ);var QR={exports:{}},rJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iJ=rJ,oJ=iJ;function $R(){}function YR(){}YR.resetWarningCache=$R;var aJ=function(){function e(r,i,o,s,a,p){if(p!==oJ){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:YR,resetWarningCache:$R};return t.PropTypes=t,t};QR.exports=aJ();var uh=QR.exports;const Kr=ma(uh);var ZI=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function sJ(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Lm=function(n,t){var r=n.children,i=n.color,o=n.size,s=n.style,a=n.width,p=n.height,g=sJ(n,["children","color","size","style","width","height"]),b=t.reactIconBase,B=b===void 0?{}:b,k=o||B.size||"1em";return xn.createElement("svg",ZI({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:p||k,width:a||k},B,g,{style:ZI({verticalAlign:"middle",color:i||B.color},B.style||{},s)}))};Lm.propTypes={color:Kr.string,size:Kr.oneOfType([Kr.string,Kr.number]),width:Kr.oneOfType([Kr.string,Kr.number]),height:Kr.oneOfType([Kr.string,Kr.number]),style:Kr.object};Lm.contextTypes={reactIconBase:Kr.shape(Lm.propTypes)};function l3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",n="ace6118dd0ae83e2ceb20b70664ae2267741d924",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return l3=function(){return s},s}l3();class lJ extends xn.Component{render(){return l3().f[0]++,l3().s[0]++,N.jsx(Lm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function u3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",n="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return u3=function(){return s},s}u3();class fx extends xn.Component{render(){return u3().f[0]++,u3().s[0]++,N.jsx(Lm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function A3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",n="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return A3=function(){return s},s}A3();class uJ extends xn.Component{render(){return A3().f[0]++,A3().s[0]++,N.jsx(Lm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:N.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function c3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",n="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return c3=function(){return s},s}c3();class XI extends xn.Component{render(){return c3().f[0]++,c3().s[0]++,N.jsx(Lm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function d3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",n="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return d3=function(){return s},s}d3();class AJ extends xn.Component{render(){return d3().f[0]++,d3().s[0]++,N.jsx(Lm,{viewBox:"0 0 20 20",...this.props,children:N.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function zy(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function cJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"}}]})(e)}function dJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(e)}function hJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function fJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function pJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}}]})(e)}function mJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)}function gJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}}]})(e)}function yJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}}]})(e)}function qR(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function vJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(e)}function CJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}}]})(e)}function _J(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}}]})(e)}function bJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}}]})(e)}function I6(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}}]})(e)}function xJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}}]})(e)}function wJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}}]})(e)}function MJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function SJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function EJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function OJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function BJ(e){return nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"}},{tag:"path",attr:{d:"M10 3h4v12h-4z"}}]})(e)}function h3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",n="90c8ed80956547e1dbbdff164a42850c33eed62e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return h3=function(){return s},s}h3();class kJ extends xn.Component{render(){return h3().f[0]++,h3().s[0]++,N.jsx(BJ,{...this.props})}}function rs(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",n="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return rs=function(){return s},s}rs();class VR extends xn.Component{render(){rs().f[0]++;const n=(rs().s[0]++,{style:this.props.style});switch(rs().s[1]++,this.props.type){case"fill-extrusion":return rs().b[0][0]++,rs().s[2]++,N.jsx(XI,{...n});case"raster":return rs().b[0][1]++,rs().s[3]++,N.jsx(fx,{...n});case"hillshade":return rs().b[0][2]++,rs().s[4]++,N.jsx(fx,{...n});case"heatmap":return rs().b[0][3]++,rs().s[5]++,N.jsx(fx,{...n});case"fill":return rs().b[0][4]++,rs().s[6]++,N.jsx(fx,{...n});case"background":return rs().b[0][5]++,rs().s[7]++,N.jsx(XI,{...n});case"line":return rs().b[0][6]++,rs().s[8]++,N.jsx(lJ,{...n});case"symbol":return rs().b[0][7]++,rs().s[9]++,N.jsx(uJ,{...n});case"circle":return rs().b[0][8]++,rs().s[10]++,N.jsx(AJ,{...n});default:return rs().b[0][9]++,rs().s[11]++,N.jsx(kJ,{...n})}}}function Ar(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",n="8ac820d45b409d4d358e8cb1f505fcc4025456db",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:17,column:5}},3:{start:{line:8,column:4},end:{line:16,column:5}},4:{start:{line:9,column:6},end:{line:9,column:43}},5:{start:{line:10,column:28},end:{line:10,column:111}},6:{start:{line:10,column:79},end:{line:10,column:110}},7:{start:{line:11,column:6},end:{line:11,column:65}},8:{start:{line:13,column:6},end:{line:13,column:92}},9:{start:{line:14,column:6},end:{line:14,column:59}},10:{start:{line:15,column:6},end:{line:15,column:45}},11:{start:{line:18,column:2},end:{line:18,column:17}},12:{start:{line:22,column:4},end:{line:24,column:5}},13:{start:{line:23,column:6},end:{line:23,column:13}},14:{start:{line:25,column:4},end:{line:46,column:5}},15:{start:{line:26,column:25},end:{line:26,column:44}},16:{start:{line:28,column:6},end:{line:36,column:7}},17:{start:{line:29,column:8},end:{line:29,column:32}},18:{start:{line:30,column:13},end:{line:36,column:7}},19:{start:{line:31,column:8},end:{line:31,column:32}},20:{start:{line:32,column:13},end:{line:36,column:7}},21:{start:{line:33,column:8},end:{line:33,column:32}},22:{start:{line:34,column:13},end:{line:36,column:7}},23:{start:{line:35,column:8},end:{line:35,column:42}},24:{start:{line:37,column:6},end:{line:42,column:7}},25:{start:{line:38,column:22},end:{line:38,column:51}},26:{start:{line:39,column:8},end:{line:39,column:29}},27:{start:{line:41,column:8},end:{line:41,column:23}},28:{start:{line:44,column:6},end:{line:44,column:63}},29:{start:{line:45,column:6},end:{line:45,column:21}},30:{start:{line:49,column:20},end:{line:49,column:67}},31:{start:{line:50,column:18},end:{line:95,column:6}},32:{start:{line:51,column:21},end:{line:90,column:8}},33:{start:{line:52,column:29},end:{line:52,column:76}},34:{start:{line:53,column:8},end:{line:89,column:10}},35:{start:{line:70,column:20},end:{line:70,column:63}},36:{start:{line:91,column:6},end:{line:94,column:26}},37:{start:{line:96,column:4},end:{line:96,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:19,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:17,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:72},end:{line:10,column:73}},loc:{start:{line:10,column:79},end:{line:10,column:110}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:35},end:{line:47,column:3}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:11},end:{line:97,column:3}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:50,column:43},end:{line:50,column:44}},loc:{start:{line:50,column:62},end:{line:95,column:5}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:51,column:48},end:{line:51,column:49}},loc:{start:{line:51,column:66},end:{line:90,column:7}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:69,column:27},end:{line:69,column:28}},loc:{start:{line:69,column:33},end:{line:71,column:19}},line:69}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:16,column:5}},{start:{line:12,column:11},end:{line:16,column:5}}],line:8},1:{loc:{start:{line:13,column:47},end:{line:13,column:91}},type:"binary-expr",locations:[{start:{line:13,column:47},end:{line:13,column:85}},{start:{line:13,column:89},end:{line:13,column:91}}],line:13},2:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:28,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:36,column:7}},{start:{line:30,column:13},end:{line:36,column:7}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:100}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:72}},{start:{line:28,column:76},end:{line:28,column:100}}],line:28},5:{loc:{start:{line:30,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:30,column:13},end:{line:36,column:7}},{start:{line:32,column:13},end:{line:36,column:7}}],line:30},6:{loc:{start:{line:30,column:17},end:{line:30,column:107}},type:"binary-expr",locations:[{start:{line:30,column:17},end:{line:30,column:79}},{start:{line:30,column:83},end:{line:30,column:107}}],line:30},7:{loc:{start:{line:32,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:32,column:13},end:{line:36,column:7}},{start:{line:34,column:13},end:{line:36,column:7}}],line:32},8:{loc:{start:{line:32,column:17},end:{line:32,column:107}},type:"binary-expr",locations:[{start:{line:32,column:17},end:{line:32,column:79}},{start:{line:32,column:83},end:{line:32,column:107}}],line:32},9:{loc:{start:{line:34,column:13},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:13},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},10:{loc:{start:{line:34,column:17},end:{line:34,column:127}},type:"binary-expr",locations:[{start:{line:34,column:17},end:{line:34,column:89}},{start:{line:34,column:93},end:{line:34,column:127}}],line:34},11:{loc:{start:{line:37,column:6},end:{line:42,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:42,column:7}},{start:{line:40,column:13},end:{line:42,column:7}}],line:37},12:{loc:{start:{line:73,column:20},end:{line:77,column:24}},type:"binary-expr",locations:[{start:{line:73,column:20},end:{line:73,column:38}},{start:{line:73,column:58},end:{line:77,column:24}}],line:73},13:{loc:{start:{line:79,column:20},end:{line:82,column:24}},type:"binary-expr",locations:[{start:{line:79,column:20},end:{line:79,column:35}},{start:{line:79,column:55},end:{line:82,column:24}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AAqFU,cAkBsB,YAlBtB;AArFV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAExH,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,QAAQ,MAAM,cAAc,CAAC,IAAI,QAAQ,QAAQ,MAAM,cAAc,CAAC,KAAK,CAAC;AACpF,cAAQ,QAAQ,MAAM,cAAc,CAAC,EAAE,KAAK,OAAO;AAEnD,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AACjC,UAAI;AAEJ,UAAG,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AAC7F,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,YAAY,KAAK,WAAW,YAAY,GAAG;AACnG,mBAAW;AAAA,MACb,WACS,OAAO,UAAU,eAAe,KAAK,YAAY,sBAAsB,KAAK,WAAW,sBAAsB,GAAG;AACvH,mBAAW;AAAA,MACb;AAEA,UAAG,UAAU;AACX,cAAM,QAAQ,QAAQ,MAAM,MAAM,QAAQ;AAC1C,eAAO,OAAO,KAAK;AAAA,MACrB,OACK;AAEH,eAAO;AAAA,MACT;AAAA,IACF,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8ac820d45b409d4d358e8cb1f505fcc4025456db"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ar=function(){return s},s}Ar();function IJ(e){Ar().f[0]++;const n=(Ar().s[0]++,{}),t=(Ar().s[1]++,{});return Ar().s[2]++,e.forEach(r=>{if(Ar().f[1]++,Ar().s[3]++,Object.prototype.hasOwnProperty.call(t,r.layer.id)){Ar().b[0][0]++,Ar().s[4]++,t[r.layer.id]++;const i=(Ar().s[5]++,n[r.layer["source-layer"]].find(o=>(Ar().f[2]++,Ar().s[6]++,o.layer.id===r.layer.id)));Ar().s[7]++,i.counter=t[r.layer.id]}else Ar().b[0][1]++,Ar().s[8]++,n[r.layer["source-layer"]]=(Ar().b[1][0]++,n[r.layer["source-layer"]]||(Ar().b[1][1]++,[])),Ar().s[9]++,n[r.layer["source-layer"]].push(r),Ar().s[10]++,t[r.layer.id]=1}),Ar().s[11]++,n}class HR extends xn.Component{_getFeatureColor(n,t){if(Ar().f[3]++,Ar().s[12]++,n.layer.paint)Ar().b[2][1]++;else{Ar().b[2][0]++,Ar().s[13]++;return}Ar().s[14]++;try{const r=(Ar().s[15]++,n.layer.paint);let i;if(Ar().s[16]++,Ar().b[4][0]++,Object.prototype.hasOwnProperty.call(r,"text-color")&&(Ar().b[4][1]++,r["text-color"])?(Ar().b[3][0]++,Ar().s[17]++,i="text-color"):(Ar().b[3][1]++,Ar().s[18]++,Ar().b[6][0]++,Object.prototype.hasOwnProperty.call(r,"fill-color")&&(Ar().b[6][1]++,r["fill-color"])?(Ar().b[5][0]++,Ar().s[19]++,i="fill-color"):(Ar().b[5][1]++,Ar().s[20]++,Ar().b[8][0]++,Object.prototype.hasOwnProperty.call(r,"line-color")&&(Ar().b[8][1]++,r["line-color"])?(Ar().b[7][0]++,Ar().s[21]++,i="line-color"):(Ar().b[7][1]++,Ar().s[22]++,Ar().b[10][0]++,Object.prototype.hasOwnProperty.call(r,"fill-extrusion-color")&&(Ar().b[10][1]++,r["fill-extrusion-color"])?(Ar().b[9][0]++,Ar().s[23]++,i="fill-extrusion-color"):Ar().b[9][1]++))),Ar().s[24]++,i){Ar().b[11][0]++;const o=(Ar().s[25]++,n.layer.paint[i]);return Ar().s[26]++,String(o)}else return Ar().b[11][1]++,Ar().s[27]++,"black"}catch(r){return Ar().s[28]++,console.warn("Unable to get feature color, error:",r),Ar().s[29]++,"black"}}render(){Ar().f[4]++;const n=(Ar().s[30]++,IJ(this.props.features)),t=(Ar().s[31]++,Object.keys(n).map(r=>{Ar().f[5]++;const i=(Ar().s[32]++,n[r].map((o,s)=>{Ar().f[6]++;const a=(Ar().s[33]++,this._getFeatureColor(o,this.props.zoom));return Ar().s[34]++,N.jsxs("div",{className:"maputnik-popup-layer",children:[N.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),N.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{Ar().f[7]++,Ar().s[35]++,this.props.onLayerSelect(o.layer.id)},children:[(Ar().b[12][0]++,o.layer.type&&(Ar().b[12][1]++,N.jsx(VR,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(Ar().b[13][0]++,o.counter&&(Ar().b[13][1]++,N.jsxs("span",{children:["  ",o.counter]})))]})]},s)}));return Ar().s[36]++,N.jsxs("div",{children:[N.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return Ar().s[37]++,N.jsx("div",{className:"maputnik-feature-layer-popup",children:t})}}var ZR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)n.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(ZR);var TJ=ZR.exports;const pf=ma(TJ);function Eo(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",n="3158bd93bbefd1bd0e63d26617da070781685c25",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Eo=function(){return s},s}Eo();class KB extends xn.Component{constructor(t){Eo().f[0]++,Eo().s[0]++;super(t);nn(this,"onToggleDoc",(Eo().s[2]++,t=>{Eo().f[1]++,Eo().s[3]++,this.setState({open:t},()=>{Eo().f[2]++,Eo().s[4]++,this.props.onToggleDoc?(Eo().b[0][0]++,Eo().s[5]++,this.props.onToggleDoc(this.state.open)):Eo().b[0][1]++})}));Eo().s[1]++,this.state={open:!1}}render(){Eo().f[3]++;const{label:t,fieldSpec:r}=(Eo().s[6]++,this.props),{doc:i}=(Eo().s[7]++,Eo().b[1][0]++,r||(Eo().b[1][1]++,{}));if(Eo().s[8]++,i)return Eo().b[2][0]++,Eo().s[9]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsxs("div",{className:"maputnik-doc-target",children:[t,"",N.jsx("button",{"aria-label":this.state.open?(Eo().b[3][0]++,"close property documentation"):(Eo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Eo().b[4][0]++,"open"):(Eo().b[4][1]++,"closed")}`,onClick:()=>(Eo().f[4]++,Eo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+t,children:this.state.open?(Eo().b[5][0]++,N.jsx(hJ,{})):(Eo().b[5][1]++,N.jsx(fJ,{}))})]})});if(Eo().b[2][1]++,Eo().s[11]++,t)return Eo().b[6][0]++,Eo().s[12]++,N.jsx("label",{className:"maputnik-doc-wrapper",children:N.jsx("div",{className:"maputnik-doc-target",children:t})});Eo().b[6][1]++,Eo().s[13]++}}function da(){var e="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",n="17184511a0ae3c272ec6d16762ac334920d5242e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17184511a0ae3c272ec6d16762ac334920d5242e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return da=function(){return s},s}da();const JI=(da().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class PB extends xn.Component{render(){da().f[0]++;const{fieldSpec:n}=(da().s[1]++,this.props),{doc:t,values:r}=(da().s[2]++,n),i=(da().s[3]++,n["sdk-support"]),o=(da().s[4]++,da().b[0][0]++,!!r&&(da().b[0][1]++,!Array.isArray(r)));return da().s[5]++,N.jsxs(N.Fragment,{children:[(da().b[1][0]++,t&&(da().b[1][1]++,N.jsxs("div",{className:"SpecDoc",children:[N.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:t}),(da().b[2][0]++,o&&(da().b[2][1]++,N.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([s,a])=>(da().f[1]++,da().s[6]++,N.jsxs("li",{children:[N.jsx("code",{children:JSON.stringify(s)}),N.jsx("div",{children:a.doc})]},s)))})))]}))),(da().b[3][0]++,i&&(da().b[3][1]++,N.jsx("div",{className:"SpecDoc__sdk-support",children:N.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{}),Object.values(JI).map(s=>(da().f[2]++,da().s[7]++,N.jsx("th",{children:s},s)))]})}),N.jsx("tbody",{children:Object.entries(i).map(([s,a])=>(da().f[3]++,da().s[8]++,N.jsxs("tr",{children:[N.jsx("td",{children:s}),Object.keys(JI).map(p=>(da().f[4]++,da().s[9]++,Object.prototype.hasOwnProperty.call(a,p)?(da().b[4][0]++,da().s[10]++,N.jsx("td",{children:a[p]},p)):(da().b[4][1]++,da().s[11]++,N.jsx("td",{children:"no"},p))))]},s)))})]})})))]})}}function io(){var e="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",n="79082a0e6b5f812e7e85f0d24298fdd4bfc28eb8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAA6B;AACpC,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"79082a0e6b5f812e7e85f0d24298fdd4bfc28eb8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return io=function(){return s},s}io();class Po extends xn.Component{constructor(t){io().f[0]++,io().s[1]++;super(t);nn(this,"_blockEl",(io().s[0]++,null));nn(this,"onToggleDoc",(io().s[6]++,t=>{io().f[2]++,io().s[7]++,this.setState({showDoc:t})}));nn(this,"onLabelClick",(io().s[8]++,t=>{var o;io().f[3]++;const r=(io().s[9]++,t.nativeEvent.target),i=(io().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));io().s[11]++,io().b[3][0]++,t.nativeEvent.target.nodeName!=="INPUT"&&(io().b[3][1]++,!i)?(io().b[2][0]++,io().s[12]++,t.stopPropagation()):io().b[2][1]++,io().s[13]++,t.preventDefault()}));io().s[2]++,this.state={showDoc:!1}}onChange(t){io().f[1]++;const r=(io().s[3]++,t.target.value);if(io().s[4]++,this.props.onChange)return io().b[0][0]++,io().s[5]++,this.props.onChange(r===""?(io().b[1][0]++,void 0):(io().b[1][1]++,r));io().b[0][1]++}render(){return io().f[4]++,io().s[14]++,N.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:pf({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(io().b[4][0]++,this.props.fieldSpec&&(io().b[4][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(KB,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(io().b[5][0]++,!this.props.fieldSpec&&(io().b[5][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",ref:t=>(io().f[5]++,io().s[15]++,this._blockEl=t),children:this.props.children}),(io().b[6][0]++,this.props.fieldSpec&&(io().b[6][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(io().b[7][0]++,""):(io().b[7][1]++,"none")},children:N.jsx(PB,{fieldSpec:this.props.fieldSpec})})))]})}}function qr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",n="7edd0434d5570710fce0bf88d87716b3e75434c4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7edd0434d5570710fce0bf88d87716b3e75434c4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qr=function(){return s},s}qr();class vd extends xn.Component{constructor(n){qr().f[1]++,qr().s[1]++,super(n),qr().s[2]++,this.state={editing:!1,value:(qr().b[0][0]++,n.value||(qr().b[0][1]++,""))}}static getDerivedStateFromProps(n,t){if(qr().f[2]++,qr().s[3]++,t.editing)qr().b[1][1]++;else return qr().b[1][0]++,qr().s[4]++,{value:n.value};return qr().s[5]++,{}}render(){qr().f[3]++;let n,t;return qr().s[6]++,this.props.multi?(qr().b[2][0]++,qr().s[7]++,n="textarea",qr().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(qr().b[2][1]++,qr().s[9]++,n="input",qr().s[10]++,t=["maputnik-string"]),qr().s[11]++,this.props.disabled?(qr().b[3][0]++,qr().s[12]++,t.push("maputnik-string--disabled")):qr().b[3][1]++,qr().s[13]++,xn.createElement(n,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(qr().b[4][0]++,this.props.spellCheck):(qr().b[4][1]++,n!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(qr().b[5][0]++,""):(qr().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{qr().f[4]++,qr().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{qr().f[5]++,qr().s[15]++,this.props.onInput?(qr().b[6][0]++,qr().s[16]++,this.props.onInput(this.state.value)):qr().b[6][1]++})},onBlur:()=>{qr().f[6]++,qr().s[17]++,this.state.value!==this.props.value?(qr().b[7][0]++,qr().s[18]++,this.setState({editing:!1}),qr().s[19]++,this.props.onChange?(qr().b[8][0]++,qr().s[20]++,this.props.onChange(this.state.value)):qr().b[8][1]++):qr().b[7][1]++},onKeyDown:r=>{qr().f[7]++,qr().s[21]++,qr().b[10][0]++,r.keyCode===13&&(qr().b[10][1]++,this.props.onChange)?(qr().b[9][0]++,qr().s[22]++,this.props.onChange(this.state.value)):qr().b[9][1]++},required:this.props.required})}}nn(vd,"defaultProps",(qr().s[0]++,{onInput:()=>{qr().f[0]++}}));function f3(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",n="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return f3=function(){return s},s}f3();class rh extends xn.Component{render(){return f3().f[0]++,f3().s[0]++,N.jsx(Po,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(vd,{...this.props})})}}function Jr(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",n="50b90fa9d7d9eff2534e1385cb335e5d5d551a9d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:7,column:17}},1:{start:{line:7,column:4},end:{line:7,column:17}},2:{start:{line:8,column:2},end:{line:9,column:34}},3:{start:{line:9,column:4},end:{line:9,column:34}},4:{start:{line:10,column:2},end:{line:11,column:28}},5:{start:{line:11,column:4},end:{line:11,column:28}},6:{start:{line:12,column:2},end:{line:12,column:15}},7:{start:{line:15,column:2},end:{line:18,column:5}},8:{start:{line:16,column:21},end:{line:16,column:53}},9:{start:{line:17,column:4},end:{line:17,column:199}},10:{start:{line:21,column:2},end:{line:21,column:199}},11:{start:{line:24,column:2},end:{line:37,column:40}},12:{start:{line:40,column:25},end:{line:40,column:27}},13:{start:{line:41,column:2},end:{line:54,column:5}},14:{start:{line:42,column:25},end:{line:44,column:6}},15:{start:{line:43,column:6},end:{line:43,column:156}},16:{start:{line:45,column:4},end:{line:53,column:5}},17:{start:{line:46,column:6},end:{line:46,column:35}},18:{start:{line:48,column:6},end:{line:52,column:7}},19:{start:{line:49,column:8},end:{line:49,column:58}},20:{start:{line:51,column:8},end:{line:51,column:60}},21:{start:{line:55,column:2},end:{line:55,column:24}},22:{start:{line:59,column:21},end:{line:59,column:66}},23:{start:{line:60,column:4},end:{line:60,column:127}}},fnMap:{0:{name:"displayValue",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:29},end:{line:13,column:1}},line:5},1:{name:"renderProperties",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:35},end:{line:19,column:1}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:45},end:{line:15,column:46}},loc:{start:{line:15,column:63},end:{line:18,column:3}},line:15},3:{name:"renderFeatureId",decl:{start:{line:20,column:9},end:{line:20,column:24}},loc:{start:{line:20,column:34},end:{line:22,column:1}},line:20},4:{name:"renderFeature",decl:{start:{line:23,column:9},end:{line:23,column:22}},loc:{start:{line:23,column:37},end:{line:38,column:1}},line:23},5:{name:"removeDuplicatedFeatures",decl:{start:{line:39,column:9},end:{line:39,column:33}},loc:{start:{line:39,column:44},end:{line:56,column:1}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:41,column:19},end:{line:41,column:20}},loc:{start:{line:41,column:32},end:{line:54,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:42,column:50},end:{line:42,column:51}},loc:{start:{line:42,column:64},end:{line:44,column:5}},line:42},8:{name:"(anonymous_8)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:11},end:{line:61,column:3}},line:58}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:7,column:17}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:6},end:{line:6,column:52}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:34}},{start:{line:6,column:38},end:{line:6,column:52}}],line:6},2:{loc:{start:{line:8,column:2},end:{line:9,column:34}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},3:{loc:{start:{line:10,column:2},end:{line:11,column:28}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},4:{loc:{start:{line:10,column:6},end:{line:10,column:89}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:31}},{start:{line:10,column:35},end:{line:10,column:60}},{start:{line:10,column:64},end:{line:10,column:89}}],line:10},5:{loc:{start:{line:29,column:6},end:{line:32,column:10}},type:"binary-expr",locations:[{start:{line:29,column:6},end:{line:29,column:32}},{start:{line:29,column:52},end:{line:32,column:10}}],line:29},6:{loc:{start:{line:43,column:13},end:{line:43,column:155}},type:"binary-expr",locations:[{start:{line:43,column:13},end:{line:43,column:77}},{start:{line:43,column:81},end:{line:43,column:155}}],line:43},7:{loc:{start:{line:45,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:53,column:5}},{start:{line:47,column:11},end:{line:53,column:5}}],line:45},8:{loc:{start:{line:48,column:6},end:{line:52,column:7}},type:"if",locations:[{start:{line:48,column:6},end:{line:52,column:7}},{start:{line:50,column:13},end:{line:52,column:7}}],line:48}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AA2BM,cAagI,YAbhI;AA3BN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAYxB,SAAS,aAAa,OAAwC;AAC5D,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,iBAAiB,SAAyB;AACjD,SAAO,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACzD,UAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,WAAO,oBAAC,SAAyB,OAAO,cACtC,8BAAC,eAAY,OAAO,aAAa,QAAQ,GAAG,OAAO,EAAC,iBAAiB,cAAa,GAAE,KADnE,YAEnB;AAAA,EACF,CAAC;AACH;AAEA,SAAS,gBAAgB,SAAyB;AAChD,SAAO,oBAAC,SAAyB,OAAO,cACtC,8BAAC,eAAY,OAAO,aAAa,QAAQ,EAAE,GAAG,OAAO,EAAC,iBAAiB,cAAa,GAAG,KADtE,YAEnB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,SACN;AAAA,yBAAC,SAAI,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ;AAAA,IAC/K,oBAAC,SAA4B,OAAO,SAClC,8BAAC,eAAY,OAAO,QAAQ,SAAS,MAAM,OAAO,EAAC,iBAAiB,cAAa,GAAG,KAD1E,eAEZ;AAAA,IACC,gBAAgB,OAAO;AAAA,IACvB,iBAAiB,OAAO;AAAA,OANV,GAAG,QAAQ,WAAW,IAAI,GAAG,EAO9C;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACnB,mBAAS,IAAI,aAAa,GAC7B;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"50b90fa9d7d9eff2534e1385cb335e5d5d551a9d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Jr=function(){return s},s}Jr();function XR(e){return Jr().f[0]++,Jr().s[0]++,Jr().b[1][0]++,typeof e>"u"||(Jr().b[1][1]++,e===null)?(Jr().b[0][0]++,Jr().s[1]++,e):(Jr().b[0][1]++,Jr().s[2]++,e instanceof Date?(Jr().b[2][0]++,Jr().s[3]++,e.toLocaleString()):(Jr().b[2][1]++,Jr().s[4]++,Jr().b[4][0]++,typeof e=="object"||(Jr().b[4][1]++,typeof e=="number")||(Jr().b[4][2]++,typeof e=="string")?(Jr().b[3][0]++,Jr().s[5]++,e.toString()):(Jr().b[3][1]++,Jr().s[6]++,e)))}function KJ(e){return Jr().f[1]++,Jr().s[7]++,Object.keys(e.properties).map(n=>{Jr().f[2]++;const t=(Jr().s[8]++,e.properties[n]);return Jr().s[9]++,N.jsx(Po,{label:n,children:N.jsx(rh,{value:XR(t),style:{backgroundColor:"transparent"}})},n)})}function PJ(e){return Jr().f[3]++,Jr().s[10]++,N.jsx(Po,{label:"feature_id",children:N.jsx(rh,{value:XR(e.id),style:{backgroundColor:"transparent"}})},"feature-id")}function FJ(e,n){return Jr().f[4]++,Jr().s[11]++,N.jsxs("div",{children:[N.jsxs("div",{className:"maputnik-popup-layer-id",children:[e.layer.source,": ",e.layer["source-layer"],(Jr().b[5][0]++,e.inspectModeCounter&&(Jr().b[5][1]++,N.jsxs("span",{children:["  ",e.inspectModeCounter]})))]}),N.jsx(Po,{label:"$type",children:N.jsx(rh,{value:e.geometry.type,style:{backgroundColor:"transparent"}})},"property-type"),PJ(e),KJ(e)]},`${e.sourceLayer}-${n}`)}function DJ(e){Jr().f[5]++;const n=(Jr().s[12]++,[]);return Jr().s[13]++,e.forEach(t=>{Jr().f[6]++;const r=(Jr().s[14]++,n.findIndex(i=>(Jr().f[7]++,Jr().s[15]++,Jr().b[6][0]++,t.layer["source-layer"]===i.layer["source-layer"]&&(Jr().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(i.properties)))));Jr().s[16]++,r===-1?(Jr().b[7][0]++,Jr().s[17]++,n.push(t)):(Jr().b[7][1]++,Jr().s[18]++,"inspectModeCounter"in n[r]?(Jr().b[8][0]++,Jr().s[19]++,n[r].inspectModeCounter++):(Jr().b[8][1]++,Jr().s[20]++,n[r].inspectModeCounter=2))}),Jr().s[21]++,n}class UJ extends xn.Component{render(){Jr().f[8]++;const n=(Jr().s[22]++,DJ(this.props.features));return Jr().s[23]++,N.jsx("div",{className:"maputnik-feature-property-popup",children:n.map(FJ)})}}var JR={exports:{}},RJ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},eL={exports:{}},LJ=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},zJ=LJ,jJ=Array.prototype.concat,WJ=Array.prototype.slice,e9=eL.exports=function(n){for(var t=[],r=0,i=n.length;r<i;r++){var o=n[r];zJ(o)?t=jJ.call(t,WJ.call(o)):t.push(o)}return t};e9.wrap=function(e){return function(){return e(e9(arguments))}};var NJ=eL.exports,wC=RJ,L_=NJ,tL=Object.hasOwnProperty,nL=Object.create(null);for(var iM in wC)tL.call(wC,iM)&&(nL[wC[iM]]=iM);var Ic=JR.exports={to:{},get:{}};Ic.get=function(e){var n=e.substring(0,3).toLowerCase(),t,r;switch(n){case"hsl":t=Ic.get.hsl(e),r="hsl";break;case"hwb":t=Ic.get.hwb(e),r="hwb";break;default:t=Ic.get.rgb(e),r="rgb";break}return t?{model:r,value:t}:null};Ic.get.rgb=function(e){if(!e)return null;var n=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,p,g;if(a=e.match(t)){for(g=a[2],a=a[1],p=0;p<3;p++){var b=p*2;s[p]=parseInt(a.slice(b,b+2),16)}g&&(s[3]=parseInt(g,16)/255)}else if(a=e.match(n)){for(a=a[1],g=a[3],p=0;p<3;p++)s[p]=parseInt(a[p]+a[p],16);g&&(s[3]=parseInt(g+g,16)/255)}else if(a=e.match(r)){for(p=0;p<3;p++)s[p]=parseInt(a[p+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=e.match(i)){for(p=0;p<3;p++)s[p]=Math.round(parseFloat(a[p+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=e.match(o))?a[1]==="transparent"?[0,0,0,0]:tL.call(wC,a[1])?(s=wC[a[1]],s[3]=1,s):null:null;for(p=0;p<3;p++)s[p]=Im(s[p],0,255);return s[3]=Im(s[3],0,1),s};Ic.get.hsl=function(e){if(!e)return null;var n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=e.match(n);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Im(parseFloat(t[2]),0,100),s=Im(parseFloat(t[3]),0,100),a=Im(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Ic.get.hwb=function(e){if(!e)return null;var n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=e.match(n);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Im(parseFloat(t[2]),0,100),s=Im(parseFloat(t[3]),0,100),a=Im(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};Ic.to.hex=function(){var e=L_(arguments);return"#"+px(e[0])+px(e[1])+px(e[2])+(e[3]<1?px(Math.round(e[3]*255)):"")};Ic.to.rgb=function(){var e=L_(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Ic.to.rgb.percent=function(){var e=L_(arguments),n=Math.round(e[0]/255*100),t=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+n+"%, "+t+"%, "+r+"%)":"rgba("+n+"%, "+t+"%, "+r+"%, "+e[3]+")"};Ic.to.hsl=function(){var e=L_(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Ic.to.hwb=function(){var e=L_(arguments),n="";return e.length>=4&&e[3]!==1&&(n=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+n+")"};Ic.to.keyword=function(e){return nL[e.slice(0,3)]};function Im(e,n,t){return Math.min(Math.max(n,e),t)}function px(e){var n=Math.round(e).toString(16).toUpperCase();return n.length<2?"0"+n:n}var GJ=JR.exports,QJ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const n_=QJ,rL={};for(const e of Object.keys(n_))rL[n_[e]]=e;const zr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var iL=zr;for(const e of Object.keys(zr)){if(!("channels"in zr[e]))throw new Error("missing channels property: "+e);if(!("labels"in zr[e]))throw new Error("missing channel labels property: "+e);if(zr[e].labels.length!==zr[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:n,labels:t}=zr[e];delete zr[e].channels,delete zr[e].labels,Object.defineProperty(zr[e],"channels",{value:n}),Object.defineProperty(zr[e],"labels",{value:t})}zr.rgb.hsl=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(n,t,r),o=Math.max(n,t,r),s=o-i;let a,p;o===i?a=0:n===o?a=(t-r)/s:t===o?a=2+(r-n)/s:r===o&&(a=4+(n-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);const g=(i+o)/2;return o===i?p=0:g<=.5?p=s/(o+i):p=s/(2-o-i),[a,p*100,g*100]};zr.rgb.hsv=function(e){let n,t,r,i,o;const s=e[0]/255,a=e[1]/255,p=e[2]/255,g=Math.max(s,a,p),b=g-Math.min(s,a,p),B=function(k){return(g-k)/6/b+1/2};return b===0?(i=0,o=0):(o=b/g,n=B(s),t=B(a),r=B(p),s===g?i=r-t:a===g?i=1/3+n-r:p===g&&(i=2/3+t-n),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,g*100]};zr.rgb.hwb=function(e){const n=e[0],t=e[1];let r=e[2];const i=zr.rgb.hsl(e)[0],o=1/255*Math.min(n,Math.min(t,r));return r=1-1/255*Math.max(n,Math.max(t,r)),[i,o*100,r*100]};zr.rgb.cmyk=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(1-n,1-t,1-r),o=(1-n-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function $J(e,n){return(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2}zr.rgb.keyword=function(e){const n=rL[e];if(n)return n;let t=1/0,r;for(const i of Object.keys(n_)){const o=n_[i],s=$J(e,o);s<t&&(t=s,r=i)}return r};zr.keyword.rgb=function(e){return n_[e]};zr.rgb.xyz=function(e){let n=e[0]/255,t=e[1]/255,r=e[2]/255;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=n*.4124+t*.3576+r*.1805,o=n*.2126+t*.7152+r*.0722,s=n*.0193+t*.1192+r*.9505;return[i*100,o*100,s*100]};zr.rgb.lab=function(e){const n=zr.rgb.xyz(e);let t=n[0],r=n[1],i=n[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(t-r),a=200*(r-i);return[o,s,a]};zr.hsl.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;let i,o,s;if(t===0)return s=r*255,[s,s,s];r<.5?i=r*(1+t):i=r+t-r*t;const a=2*r-i,p=[0,0,0];for(let g=0;g<3;g++)o=n+1/3*-(g-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,p[g]=s*255;return p};zr.hsl.hsv=function(e){const n=e[0];let t=e[1]/100,r=e[2]/100,i=t;const o=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+t)/2,a=r===0?2*i/(o+i):2*t/(r+t);return[n,a*100,s*100]};zr.hsv.rgb=function(e){const n=e[0]/60,t=e[1]/100;let r=e[2]/100;const i=Math.floor(n)%6,o=n-Math.floor(n),s=255*r*(1-t),a=255*r*(1-t*o),p=255*r*(1-t*(1-o));switch(r*=255,i){case 0:return[r,p,s];case 1:return[a,r,s];case 2:return[s,r,p];case 3:return[s,a,r];case 4:return[p,s,r];case 5:return[r,s,a]}};zr.hsv.hsl=function(e){const n=e[0],t=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-t)*r;const a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[n,o*100,s*100]};zr.hwb.rgb=function(e){const n=e[0]/360;let t=e[1]/100,r=e[2]/100;const i=t+r;let o;i>1&&(t/=i,r/=i);const s=Math.floor(6*n),a=1-r;o=6*n-s,s&1&&(o=1-o);const p=t+o*(a-t);let g,b,B;switch(s){default:case 6:case 0:g=a,b=p,B=t;break;case 1:g=p,b=a,B=t;break;case 2:g=t,b=a,B=p;break;case 3:g=t,b=p,B=a;break;case 4:g=p,b=t,B=a;break;case 5:g=a,b=t,B=p;break}return[g*255,b*255,B*255]};zr.cmyk.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100,i=e[3]/100,o=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};zr.xyz.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100;let i,o,s;return i=n*3.2406+t*-1.5372+r*-.4986,o=n*-.9689+t*1.8758+r*.0415,s=n*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};zr.xyz.lab=function(e){let n=e[0],t=e[1],r=e[2];n/=95.047,t/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*t-16,o=500*(n-t),s=200*(t-r);return[i,o,s]};zr.lab.xyz=function(e){const n=e[0],t=e[1],r=e[2];let i,o,s;o=(n+16)/116,i=t/500+o,s=o-r/200;const a=o**3,p=i**3,g=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=p>.008856?p:(i-16/116)/7.787,s=g>.008856?g:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};zr.lab.lch=function(e){const n=e[0],t=e[1],r=e[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(t*t+r*r);return[n,s,i]};zr.lch.lab=function(e){const n=e[0],t=e[1],i=e[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[n,o,s]};zr.rgb.ansi16=function(e,n=null){const[t,r,i]=e;let o=n===null?zr.rgb.hsv(e)[2]:n;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};zr.hsv.ansi16=function(e){return zr.rgb.ansi16(zr.hsv.rgb(e),e[2])};zr.rgb.ansi256=function(e){const n=e[0],t=e[1],r=e[2];return n===t&&t===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};zr.ansi16.rgb=function(e){let n=e%10;if(n===0||n===7)return e>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const t=(~~(e>50)+1)*.5,r=(n&1)*t*255,i=(n>>1&1)*t*255,o=(n>>2&1)*t*255;return[r,i,o]};zr.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let n;const t=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,i=n%6/5*255;return[t,r,i]};zr.rgb.hex=function(e){const t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};zr.hex.rgb=function(e){const n=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let t=n[0];n[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const r=parseInt(t,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};zr.rgb.hcg=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,t),r),o=Math.min(Math.min(n,t),r),s=i-o;let a,p;return s<1?a=o/(1-s):a=0,s<=0?p=0:i===n?p=(t-r)/s%6:i===t?p=2+(r-n)/s:p=4+(n-t)/s,p/=6,p%=1,[p*360,s*100,a*100]};zr.hsl.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=t<.5?2*n*t:2*n*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[e[0],r*100,i*100]};zr.hsv.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=n*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[e[0],r*100,i*100]};zr.hcg.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],o=n%1*6,s=o%1,a=1-s;let p=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return p=(1-t)*r,[(t*i[0]+p)*255,(t*i[1]+p)*255,(t*i[2]+p)*255]};zr.hcg.hsv=function(e){const n=e[1]/100,t=e[2]/100,r=n+t*(1-n);let i=0;return r>0&&(i=n/r),[e[0],i*100,r*100]};zr.hcg.hsl=function(e){const n=e[1]/100,r=e[2]/100*(1-n)+.5*n;let i=0;return r>0&&r<.5?i=n/(2*r):r>=.5&&r<1&&(i=n/(2*(1-r))),[e[0],i*100,r*100]};zr.hcg.hwb=function(e){const n=e[1]/100,t=e[2]/100,r=n+t*(1-n);return[e[0],(r-n)*100,(1-r)*100]};zr.hwb.hcg=function(e){const n=e[1]/100,r=1-e[2]/100,i=r-n;let o=0;return i<1&&(o=(r-i)/(1-i)),[e[0],i*100,o*100]};zr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};zr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};zr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};zr.gray.hsl=function(e){return[0,0,e[0]]};zr.gray.hsv=zr.gray.hsl;zr.gray.hwb=function(e){return[0,100,e[0]]};zr.gray.cmyk=function(e){return[0,0,0,e[0]]};zr.gray.lab=function(e){return[e[0],0,0]};zr.gray.hex=function(e){const n=Math.round(e[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(r.length)+r};zr.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const p3=iL;function YJ(){const e={},n=Object.keys(p3);for(let t=n.length,r=0;r<t;r++)e[n[r]]={distance:-1,parent:null};return e}function qJ(e){const n=YJ(),t=[e];for(n[e].distance=0;t.length;){const r=t.pop(),i=Object.keys(p3[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],p=n[a];p.distance===-1&&(p.distance=n[r].distance+1,p.parent=r,t.unshift(a))}}return n}function VJ(e,n){return function(t){return n(e(t))}}function HJ(e,n){const t=[n[e].parent,e];let r=p3[n[e].parent][e],i=n[e].parent;for(;n[i].parent;)t.unshift(n[i].parent),r=VJ(p3[n[i].parent][i],r),i=n[i].parent;return r.conversion=t,r}var ZJ=function(e){const n=qJ(e),t={},r=Object.keys(n);for(let i=r.length,o=0;o<i;o++){const s=r[o];n[s].parent!==null&&(t[s]=HJ(s,n))}return t};const T6=iL,XJ=ZJ,Cg={},JJ=Object.keys(T6);function eee(e){const n=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(n.conversion=e.conversion),n}function tee(e){const n=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=e(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(n.conversion=e.conversion),n}JJ.forEach(e=>{Cg[e]={},Object.defineProperty(Cg[e],"channels",{value:T6[e].channels}),Object.defineProperty(Cg[e],"labels",{value:T6[e].labels});const n=XJ(e);Object.keys(n).forEach(r=>{const i=n[r];Cg[e][r]=tee(i),Cg[e][r].raw=eee(i)})});var nee=Cg;const _g=GJ,Bc=nee,oL=["keyword","gray","hex"],K6={};for(const e of Object.keys(Bc))K6[[...Bc[e].labels].sort().join("")]=e;const m3={};function ou(e,n){if(!(this instanceof ou))return new ou(e,n);if(n&&n in oL&&(n=null),n&&!(n in Bc))throw new Error("Unknown model: "+n);let t,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof ou)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=_g.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=Bc[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=n||"rgb",r=Bc[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=P6(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=i.sort().join("");if(!(o in K6))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=K6[o];const{labels:s}=Bc[this.model],a=[];for(t=0;t<s.length;t++)a.push(e[s[t]]);this.color=P6(a)}if(m3[this.model])for(r=Bc[this.model].channels,t=0;t<r;t++){const i=m3[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ou.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let n=this.model in _g.to?this:this.rgb();n=n.round(typeof e=="number"?e:1);const t=n.valpha===1?n.color:[...n.color,this.valpha];return _g.to[n.model](t)},percentString(e){const n=this.rgb().round(typeof e=="number"?e:1),t=n.valpha===1?n.color:[...n.color,this.valpha];return _g.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:n}=Bc[this.model],{labels:t}=Bc[this.model];for(let r=0;r<n;r++)e[t[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new ou([...this.color.map(iee(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new ou([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:Zs("rgb",0,Ul(255)),green:Zs("rgb",1,Ul(255)),blue:Zs("rgb",2,Ul(255)),hue:Zs(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Zs("hsl",1,Ul(100)),lightness:Zs("hsl",2,Ul(100)),saturationv:Zs("hsv",1,Ul(100)),value:Zs("hsv",2,Ul(100)),chroma:Zs("hcg",1,Ul(100)),gray:Zs("hcg",2,Ul(100)),white:Zs("hwb",1,Ul(100)),wblack:Zs("hwb",2,Ul(100)),cyan:Zs("cmyk",0,Ul(100)),magenta:Zs("cmyk",1,Ul(100)),yellow:Zs("cmyk",2,Ul(100)),black:Zs("cmyk",3,Ul(100)),x:Zs("xyz",0,Ul(95.047)),y:Zs("xyz",1,Ul(100)),z:Zs("xyz",2,Ul(108.833)),l:Zs("lab",0,Ul(100)),a:Zs("lab",1),b:Zs("lab",2),keyword(e){return e!==void 0?new ou(e):Bc[this.model].keyword(this.color)},hex(e){return e!==void 0?new ou(e):_g.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new ou(e);const n=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),_g.to.hex(n)+t},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,n=[];for(const[t,r]of e.entries()){const i=r/255;n[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(e){const n=this.luminosity(),t=e.luminosity();return n>t?(n+.05)/(t+.05):(t+.05)/(n+.05)},level(e){const n=this.contrast(e);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let n=0;n<3;n++)e.color[n]=255-e.color[n];return e},lighten(e){const n=this.hsl();return n.color[2]+=n.color[2]*e,n},darken(e){const n=this.hsl();return n.color[2]-=n.color[2]*e,n},saturate(e){const n=this.hsl();return n.color[1]+=n.color[1]*e,n},desaturate(e){const n=this.hsl();return n.color[1]-=n.color[1]*e,n},whiten(e){const n=this.hwb();return n.color[1]+=n.color[1]*e,n},blacken(e){const n=this.hwb();return n.color[2]+=n.color[2]*e,n},grayscale(){const e=this.rgb().color,n=e[0]*.3+e[1]*.59+e[2]*.11;return ou.rgb(n,n,n)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const n=this.hsl();let t=n.color[0];return t=(t+e)%360,t=t<0?360+t:t,n.color[0]=t,n},mix(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const t=e.rgb(),r=this.rgb(),i=n===void 0?.5:n,o=2*i-1,s=t.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,p=1-a;return ou.rgb(a*t.red()+p*r.red(),a*t.green()+p*r.green(),a*t.blue()+p*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(Bc)){if(oL.includes(e))continue;const{channels:n}=Bc[e];ou.prototype[e]=function(...t){return this.model===e?new ou(this):t.length>0?new ou(t,e):new ou([...oee(Bc[this.model][e].raw(this.color)),this.valpha],e)},ou[e]=function(...t){let r=t[0];return typeof r=="number"&&(r=P6(t,n)),new ou(r,e)}}function ree(e,n){return Number(e.toFixed(n))}function iee(e){return function(n){return ree(n,e)}}function Zs(e,n,t){e=Array.isArray(e)?e:[e];for(const r of e)(m3[r]||(m3[r]=[]))[n]=t;return e=e[0],function(r){let i;return r!==void 0?(t&&(r=t(r)),i=this[e](),i.color[n]=r,i):(i=this[e]().color[n],t&&(i=t(i)),i)}}function Ul(e){return function(n){return Math.max(0,Math.min(e,n))}}function oee(e){return Array.isArray(e)?e:[e]}function P6(e,n){for(let t=0;t<n;t++)typeof e[t]!="number"&&(e[t]=0);return e}var aee=ou;const F6=ma(aee);function ca(){var e="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",n="bc6e1b88794b9d2c3dff41979be33bc1153f4814",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bc6e1b88794b9d2c3dff41979be33bc1153f4814"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ca=function(){return s},s}ca();class see{constructor(){nn(this,"_map",(ca().s[0]++,void 0));nn(this,"_container",(ca().s[1]++,void 0));nn(this,"_textEl",(ca().s[2]++,null))}onAdd(n){return ca().f[0]++,ca().s[3]++,this._map=n,ca().s[4]++,this._container=document.createElement("div"),ca().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",ca().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),ca().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,ca().s[8]++,this._textEl=this._container.querySelector("span"),ca().s[9]++,this.addEventListeners(),ca().s[10]++,this._container}updateZoomLevel(){ca().f[1]++,ca().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){ca().f[2]++,ca().s[12]++,this._map.on("render",()=>(ca().f[3]++,ca().s[13]++,this.updateZoomLevel())),ca().s[14]++,this._map.on("zoomIn",()=>(ca().f[4]++,ca().s[15]++,this.updateZoomLevel())),ca().s[16]++,this._map.on("zoomOut",()=>(ca().f[5]++,ca().s[17]++,this.updateZoomLevel()))}onRemove(){ca().f[6]++,ca().s[18]++,this._container.parentNode.removeChild(this._container),ca().s[19]++,this._map=void 0}}function wi(){var e="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",n="a1afd3a6454022c4d7be658acdbd4aecf51f38d3",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AACA,OAAO,cAAc;AAErB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1afd3a6454022c4d7be658acdbd4aecf51f38d3"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return wi=function(){return s},s}wi();function oM(e,n){return wi().f[0]++,wi().s[0]++,e.type==="circle"?(wi().b[0][0]++,wi().s[1]++,e.paint["circle-radius"]=3):(wi().b[0][1]++,wi().s[2]++,e.type==="line"?(wi().b[1][0]++,wi().s[3]++,e.paint["line-width"]=2):wi().b[1][1]++),wi().s[4]++,"filter"in n?(wi().b[2][0]++,wi().s[5]++,e.filter=n.filter):(wi().b[2][1]++,wi().s[6]++,delete e.filter),wi().s[7]++,e.id=e.id+"_highlight",wi().s[8]++,e}function lee(e){if(wi().f[1]++,wi().s[9]++,wi().b[4][0]++,!e||(wi().b[4][1]++,e.type==="background")||(wi().b[4][2]++,e.type==="raster"))return wi().b[3][0]++,wi().s[10]++,null;wi().b[3][1]++;const n=(wi().s[11]++,wi().b[5][0]++,e["source-layer"]||(wi().b[5][1]++,"")),t=(wi().s[12]++,J4.brightColor(n,1));return wi().s[13]++,wi().b[7][0]++,e.type==="fill"||(wi().b[7][1]++,e.type==="fill-extrusion")?(wi().b[6][0]++,wi().s[14]++,oM(_p.polygonLayer(t,t,e.source,e["source-layer"]),e)):(wi().b[6][1]++,wi().s[15]++,wi().b[9][0]++,e.type==="symbol"||(wi().b[9][1]++,e.type==="circle")?(wi().b[8][0]++,wi().s[16]++,oM(_p.circleLayer(t,e.source,e["source-layer"]),e)):(wi().b[8][1]++,wi().s[17]++,e.type==="line"?(wi().b[10][0]++,wi().s[18]++,oM(_p.lineLayer(t,e.source,e["source-layer"]),e)):(wi().b[10][1]++,wi().s[19]++,null)))}function FB(){var e="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",n="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return FB=function(){return s},s}FB();FB().s[0]++;p2.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);function dn(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",n="cf2170ca14c8f07639bb91af4dc600c4bb0a376c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:16,column:2},end:{line:16,column:36}},1:{start:{line:17,column:2},end:{line:17,column:19}},2:{start:{line:20,column:26},end:{line:26,column:3}},3:{start:{line:27,column:16},end:{line:27,column:55}},4:{start:{line:28,column:2},end:{line:30,column:3}},5:{start:{line:29,column:4},end:{line:29,column:30}},6:{start:{line:31,column:18},end:{line:31,column:20}},7:{start:{line:32,column:2},end:{line:37,column:5}},8:{start:{line:33,column:19},end:{line:33,column:53}},9:{start:{line:34,column:4},end:{line:36,column:5}},10:{start:{line:35,column:6},end:{line:35,column:33}},11:{start:{line:38,column:23},end:{line:42,column:3}},12:{start:{line:43,column:2},end:{line:43,column:22}},13:{start:{line:46,column:24},end:{line:56,column:3}},14:{start:{line:57,column:14},end:{line:57,column:18}},15:{start:{line:59,column:4},end:{line:59,column:17}},16:{start:{line:60,column:4},end:{line:63,column:6}},17:{start:{line:66,column:4},end:{line:67,column:13}},18:{start:{line:67,column:6},end:{line:67,column:13}},19:{start:{line:68,column:4},end:{line:71,column:6}},20:{start:{line:74,column:17},end:{line:74,column:22}},21:{start:{line:75,column:4},end:{line:78,column:5}},22:{start:{line:76,column:6},end:{line:76,column:132}},23:{start:{line:79,column:4},end:{line:79,column:18}},24:{start:{line:82,column:16},end:{line:82,column:30}},25:{start:{line:83,column:4},end:{line:83,column:40}},26:{start:{line:84,column:4},end:{line:87,column:5}},27:{start:{line:85,column:6},end:{line:85,column:47}},28:{start:{line:86,column:6},end:{line:86,column:43}},29:{start:{line:88,column:4},end:{line:99,column:5}},30:{start:{line:89,column:6},end:{line:95,column:7}},31:{start:{line:90,column:8},end:{line:94,column:9}},32:{start:{line:91,column:10},end:{line:91,column:38}},33:{start:{line:93,column:10},end:{line:93,column:52}},34:{start:{line:96,column:6},end:{line:96,column:70}},35:{start:{line:97,column:6},end:{line:97,column:70}},36:{start:{line:98,column:6},end:{line:98,column:76}},37:{start:{line:102,column:20},end:{line:108,column:5}},38:{start:{line:109,column:16},end:{line:109,column:43}},39:{start:{line:110,column:26},end:{line:114,column:5}},40:{start:{line:111,column:21},end:{line:111,column:36}},41:{start:{line:112,column:19},end:{line:112,column:32}},42:{start:{line:113,column:6},end:{line:113,column:44}},43:{start:{line:115,column:4},end:{line:115,column:20}},44:{start:{line:116,column:4},end:{line:116,column:56}},45:{start:{line:117,column:4},end:{line:117,column:56}},46:{start:{line:118,column:4},end:{line:118,column:62}},47:{start:{line:119,column:24},end:{line:119,column:41}},48:{start:{line:120,column:4},end:{line:120,column:45}},49:{start:{line:121,column:16},end:{line:121,column:74}},50:{start:{line:122,column:4},end:{line:122,column:37}},51:{start:{line:123,column:20},end:{line:123,column:49}},52:{start:{line:124,column:20},end:{line:144,column:6}},53:{start:{line:134,column:8},end:{line:134,column:82}},54:{start:{line:136,column:62},end:{line:136,column:141}},55:{start:{line:138,column:8},end:{line:142,column:9}},56:{start:{line:139,column:10},end:{line:139,column:108}},57:{start:{line:141,column:10},end:{line:141,column:160}},58:{start:{line:145,column:4},end:{line:145,column:28}},59:{start:{line:146,column:4},end:{line:152,column:7}},60:{start:{line:147,column:6},end:{line:151,column:9}},61:{start:{line:153,column:4},end:{line:159,column:7}},62:{start:{line:154,column:6},end:{line:155,column:15}},63:{start:{line:155,column:8},end:{line:155,column:15}},64:{start:{line:156,column:6},end:{line:158,column:9}},65:{start:{line:160,column:4},end:{line:162,column:7}},66:{start:{line:161,column:6},end:{line:161,column:30}},67:{start:{line:163,column:4},end:{line:167,column:7}},68:{start:{line:164,column:6},end:{line:166,column:9}},69:{start:{line:168,column:4},end:{line:168,column:37}},70:{start:{line:169,column:4},end:{line:169,column:37}},71:{start:{line:171,column:22},end:{line:174,column:3}},72:{start:{line:172,column:18},end:{line:172,column:82}},73:{start:{line:172,column:66},end:{line:172,column:81}},74:{start:{line:173,column:4},end:{line:173,column:36}},75:{start:{line:176,column:4},end:{line:185,column:6}},76:{start:{line:182,column:20},end:{line:182,column:38}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:39},end:{line:18,column:1}},line:15},1:{name:"buildInspectStyle",decl:{start:{line:19,column:9},end:{line:19,column:26}},loc:{start:{line:19,column:78},end:{line:44,column:1}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:32,column:48},end:{line:32,column:49}},loc:{start:{line:32,column:62},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:47,column:17},end:{line:47,column:18}},loc:{start:{line:47,column:23},end:{line:48,column:5}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:49,column:18},end:{line:49,column:19}},loc:{start:{line:49,column:24},end:{line:50,column:5}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:51,column:19},end:{line:51,column:20}},loc:{start:{line:51,column:25},end:{line:52,column:5}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:53,column:14},end:{line:53,column:15}},loc:{start:{line:53,column:20},end:{line:54,column:5}},line:53},7:{name:"(anonymous_7)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:21},end:{line:64,column:3}},line:58},8:{name:"(anonymous_8)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:28},end:{line:72,column:3}},line:65},9:{name:"(anonymous_9)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:46},end:{line:80,column:3}},line:73},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:100,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:22},end:{line:170,column:3}},line:101},12:{name:"(anonymous_12)",decl:{start:{line:110,column:26},end:{line:110,column:27}},loc:{start:{line:110,column:32},end:{line:114,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:133,column:24},end:{line:133,column:25}},loc:{start:{line:133,column:44},end:{line:135,column:7}},line:133},14:{name:"(anonymous_14)",decl:{start:{line:136,column:25},end:{line:136,column:26}},loc:{start:{line:136,column:62},end:{line:136,column:141}},line:136},15:{name:"(anonymous_15)",decl:{start:{line:137,column:19},end:{line:137,column:20}},loc:{start:{line:137,column:33},end:{line:143,column:7}},line:137},16:{name:"(anonymous_16)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:31},end:{line:152,column:5}},line:146},17:{name:"(anonymous_17)",decl:{start:{line:153,column:19},end:{line:153,column:20}},loc:{start:{line:153,column:26},end:{line:159,column:5}},line:153},18:{name:"(anonymous_18)",decl:{start:{line:160,column:20},end:{line:160,column:21}},loc:{start:{line:160,column:27},end:{line:162,column:5}},line:160},19:{name:"(anonymous_19)",decl:{start:{line:163,column:19},end:{line:163,column:20}},loc:{start:{line:163,column:27},end:{line:167,column:5}},line:163},20:{name:"(anonymous_20)",decl:{start:{line:171,column:22},end:{line:171,column:23}},loc:{start:{line:171,column:30},end:{line:174,column:3}},line:171},21:{name:"(anonymous_21)",decl:{start:{line:172,column:55},end:{line:172,column:56}},loc:{start:{line:172,column:66},end:{line:172,column:81}},line:172},22:{name:"(anonymous_22)",decl:{start:{line:175,column:2},end:{line:175,column:3}},loc:{start:{line:175,column:11},end:{line:186,column:3}},line:175},23:{name:"(anonymous_23)",decl:{start:{line:182,column:13},end:{line:182,column:14}},loc:{start:{line:182,column:20},end:{line:182,column:38}},line:182}},branchMap:{0:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},1:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},2:{loc:{start:{line:34,column:8},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:32}},{start:{line:34,column:36},end:{line:34,column:64}}],line:34},3:{loc:{start:{line:66,column:4},end:{line:67,column:13}},type:"if",locations:[{start:{line:66,column:4},end:{line:67,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},4:{loc:{start:{line:76,column:15},end:{line:76,column:131}},type:"binary-expr",locations:[{start:{line:76,column:15},end:{line:76,column:71}},{start:{line:76,column:75},end:{line:76,column:131}}],line:76},5:{loc:{start:{line:84,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},6:{loc:{start:{line:84,column:8},end:{line:84,column:98}},type:"binary-expr",locations:[{start:{line:84,column:8},end:{line:84,column:26}},{start:{line:84,column:30},end:{line:84,column:98}}],line:84},7:{loc:{start:{line:88,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},8:{loc:{start:{line:89,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:89,column:6},end:{line:95,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},9:{loc:{start:{line:138,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:142,column:9}},{start:{line:140,column:15},end:{line:142,column:9}}],line:138},10:{loc:{start:{line:154,column:6},end:{line:155,column:15}},type:"if",locations:[{start:{line:154,column:6},end:{line:155,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AAyL6B;AAzL7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAE/G,OAAO,mBAAmB;AAE1B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAEP,SAAS,YAAY,OAAoB,WAA+B;AACtE,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AACtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,mBAAmB,OAA2B;AAC5C,QAAG,CAAC,KAAK,MAAM;AAAK;AAIpB,SAAK,MAAM,IAAI;AAAA,MACb,KAAK,MAAM,oBAAoB,MAAM,QAAQ;AAAA,MAC7C,EAAC,MAAM,KAAI;AAAA,IACb;AAAA,EACF;AAAA,EAEA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,SAAK,mBAAmB,KAAK,KAAK;AAElC,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAG7F,WAAK,MAAM,QAAQ,gBAAgB;AACnC,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK;AACP,UAAI,KAAK,MAAM,oBAAoB;AAIjC,YAAI;AACF,eAAK,MAAM,QAAQ,OAAO;AAAA,QAC5B,SAAQ,KAAK;AACX,kBAAQ,MAAM,uBAAuB,GAAG;AAAA,QAC1C;AAAA,MACF;AAEA,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,cAAc;AAAA,MAChC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cf2170ca14c8f07639bb91af4dc600c4bb0a376c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return dn=function(){return s},s}dn();function t9(e,n){return dn().f[0]++,dn().s[0]++,_U.render(e,n),dn().s[1]++,n}function uee(e,n,t){dn().f[1]++;const r=(dn().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(dn().s[3]++,lee(t));dn().s[4]++,i?(dn().b[0][0]++,dn().s[5]++,n.push(i)):dn().b[0][1]++;const o=(dn().s[6]++,{});dn().s[7]++,Object.keys(e.sources).forEach(a=>{dn().f[2]++;const p=(dn().s[8]++,e.sources[a]);dn().s[9]++,dn().b[2][0]++,p.type!=="raster"&&(dn().b[2][1]++,p.type!=="raster-dem")?(dn().b[1][0]++,dn().s[10]++,o[a]=p):dn().b[1][1]++});const s=(dn().s[11]++,{...e,sources:o,layers:[r].concat(n)});return dn().s[12]++,s}class aL extends xn.Component{constructor(t){dn().f[7]++,dn().s[15]++;super(t);nn(this,"container",(dn().s[14]++,null));nn(this,"onLayerSelectById",(dn().s[71]++,t=>{dn().f[20]++;const r=(dn().s[72]++,this.props.mapStyle.layers.findIndex(i=>(dn().f[21]++,dn().s[73]++,i.id===t)));dn().s[74]++,this.props.onLayerSelect(r)}));dn().s[16]++,this.state={map:null,inspect:null}}updateMapFromProps(t){if(dn().f[8]++,dn().s[17]++,this.state.map)dn().b[3][1]++;else{dn().b[3][0]++,dn().s[18]++;return}dn().s[19]++,this.state.map.setStyle(this.props.replaceAccessTokens(t.mapStyle),{diff:!0})}shouldComponentUpdate(t,r){dn().f[9]++;let i=(dn().s[20]++,!1);dn().s[21]++;try{dn().s[22]++,i=(dn().b[4][0]++,JSON.stringify(this.props)!==JSON.stringify(t)||(dn().b[4][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return dn().s[23]++,i}componentDidUpdate(){var r,i,o;dn().f[10]++;const t=(dn().s[24]++,this.state.map);if(dn().s[25]++,this.updateMapFromProps(this.props),dn().s[26]++,dn().b[6][0]++,this.state.inspect&&(dn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(dn().b[5][0]++,dn().s[27]++,this.state.inspect._popupBlocked=!1,dn().s[28]++,this.state.inspect.toggleInspector()):dn().b[5][1]++,dn().s[29]++,t){if(dn().b[7][0]++,dn().s[30]++,this.props.inspectModeEnabled){dn().b[8][0]++,dn().s[31]++;try{dn().s[32]++,this.state.inspect.render()}catch(s){dn().s[33]++,console.error("FIXME: Caught error",s)}}else dn().b[8][1]++;dn().s[34]++,t.showTileBoundaries=(r=this.props.options)==null?void 0:r.showTileBoundaries,dn().s[35]++,t.showCollisionBoxes=(i=this.props.options)==null?void 0:i.showCollisionBoxes,dn().s[36]++,t.showOverdrawInspector=(o=this.props.options)==null?void 0:o.showOverdrawInspector}else dn().b[7][1]++}componentDidMount(){dn().f[11]++;const t=(dn().s[37]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24}),r=(dn().s[38]++,new p2.Map(t));dn().s[39]++;const i=()=>{dn().f[12]++;const g=(dn().s[40]++,r.getCenter()),b=(dn().s[41]++,r.getZoom());dn().s[42]++,this.props.onChange({center:g,zoom:b})};dn().s[43]++,i(),dn().s[44]++,r.showTileBoundaries=t.showTileBoundaries,dn().s[45]++,r.showCollisionBoxes=t.showCollisionBoxes,dn().s[46]++,r.showOverdrawInspector=t.showOverdrawInspector;const o=(dn().s[47]++,new see);dn().s[48]++,r.addControl(o,"top-right");const s=(dn().s[49]++,new p2.NavigationControl({visualizePitch:!0}));dn().s[50]++,r.addControl(s,"top-right");const a=(dn().s[51]++,document.createElement("div")),p=(dn().s[52]++,new nJ({popup:new p2.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(g,b)=>(dn().f[13]++,dn().s[53]++,F6(J4.brightColor(g,b)).desaturate(.5).string()),buildInspectStyle:(g,b)=>(dn().f[14]++,dn().s[54]++,uee(g,b,this.props.highlightedLayer)),renderPopup:g=>(dn().f[15]++,dn().s[55]++,this.props.inspectModeEnabled?(dn().b[9][0]++,dn().s[56]++,t9(N.jsx(UJ,{features:g}),a)):(dn().b[9][1]++,dn().s[57]++,t9(N.jsx(HR,{features:g,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),a)))}));dn().s[58]++,r.addControl(p),dn().s[59]++,r.on("style.load",()=>{dn().f[16]++,dn().s[60]++,this.setState({map:r,inspect:p,zoom:r.getZoom()})}),dn().s[61]++,r.on("data",g=>{if(dn().f[17]++,dn().s[62]++,g.dataType!=="tile"){dn().b[10][0]++,dn().s[63]++;return}else dn().b[10][1]++;dn().s[64]++,this.props.onDataChange({map:this.state.map})}),dn().s[65]++,r.on("error",g=>{dn().f[18]++,dn().s[66]++,console.log("ERROR",g)}),dn().s[67]++,r.on("zoom",g=>{dn().f[19]++,dn().s[68]++,this.setState({zoom:r.getZoom()})}),dn().s[69]++,r.on("dragend",i),dn().s[70]++,r.on("zoomend",i)}render(){return dn().f[22]++,dn().s[75]++,N.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:t=>(dn().f[23]++,dn().s[76]++,this.container=t),"data-wd-key":"maplibre:map"})}}nn(aL,"defaultProps",(dn().s[13]++,{onMapLoaded:()=>{dn().f[3]++},onDataChange:()=>{dn().f[4]++},onLayerSelect:()=>{dn().f[5]++},onChange:()=>{dn().f[6]++},options:{}}));var Ep=function(){function e(n){this.propagationStopped,this.defaultPrevented,this.type=n,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const wy={PROPERTYCHANGE:"propertychange"};var Aee=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const DB=Aee;function cee(e,n,t){for(var r,i,o=t||l1,s=0,a=e.length,p=!1;s<a;)r=s+(a-s>>1),i=+o(e[r],n),i<0?s=r+1:(a=r,p=!i);return p?s:~s}function l1(e,n){return e>n?1:e<n?-1:0}function UB(e,n,t){var r=e.length;if(e[0]<=n)return 0;if(n<=e[r-1])return r-1;var i=void 0;if(t>0){for(i=1;i<r;++i)if(e[i]<n)return i-1}else if(t<0){for(i=1;i<r;++i)if(e[i]<=n)return i}else for(i=1;i<r;++i){if(e[i]==n)return i;if(e[i]<n)return typeof t=="function"?t(n,e[i-1],e[i])>0?i-1:i:e[i-1]-n<n-e[i]?i-1:i}return r-1}function dee(e,n,t){for(;n<t;){var r=e[n];e[n]=e[t],e[t]=r,++n,--t}}function df(e,n){for(var t=Array.isArray(n)?n:[n],r=t.length,i=0;i<r;i++)e[e.length]=t[i]}function y1(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function hee(e,n,t){var r=n||l1;return e.every(function(i,o){if(o===0)return!0;var s=r(e[o-1],i);return!(s>0||t&&s===0)})}function ny(){return!0}function e5(){return!1}function u1(){}function fee(e){var n=!1,t,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!n||this!==i||!y1(o,r))&&(n=!0,i=this,r=o,t=e.apply(this,arguments)),t}}var dl=typeof Object.assign=="function"?Object.assign:function(e,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function z_(e){for(var n in e)delete e[n]}var sL=typeof Object.values=="function"?Object.values:function(e){var n=[];for(var t in e)n.push(e[t]);return n};function A1(e){var n;for(n in e)return!1;return!n}var pee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mee=function(e){pee(n,e);function n(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return n.prototype.addEventListener=function(t,r){if(!(!t||!r)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(r)===-1&&o.push(r)}},n.prototype.dispatchEvent=function(t){var r=typeof t=="string",i=r?t:t.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new Ep(t):t;s.target||(s.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),p=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,p[i]=0),++a[i];for(var g,b=0,B=o.length;b<B;++b)if("handleEvent"in o[b]?g=o[b].handleEvent(s):g=o[b].call(this,s),g===!1||s.propagationStopped){g=!1;break}if(--a[i]===0){var k=p[i];for(delete p[i];k--;)this.removeEventListener(i,u1);delete a[i]}return g}},n.prototype.disposeInternal=function(){this.listeners_&&z_(this.listeners_)},n.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},n.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},n.prototype.removeEventListener=function(t,r){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=u1,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},n}(DB);const jy=mee,Bi={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function bo(e,n,t,r,i){if(r&&r!==e&&(t=t.bind(r)),i){var o=t;t=function(){e.removeEventListener(n,t),o.apply(this,arguments)}}var s={target:e,type:n,listener:t};return e.addEventListener(n,t),s}function g3(e,n,t,r){return bo(e,n,t,r,!0)}function Qa(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),z_(e))}var gee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t5=function(e){gee(n,e);function n(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return n.prototype.changed=function(){++this.revision_,this.dispatchEvent(Bi.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=bo(this,t[s],r);return o}else return bo(this,t,r)},n.prototype.onceInternal=function(t,r){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=g3(this,t[s],r)}else i=g3(this,t,r);return r.ol_key=i,i},n.prototype.unInternal=function(t,r){var i=r.ol_key;if(i)r_(i);else if(Array.isArray(t))for(var o=0,s=t.length;o<s;++o)this.removeEventListener(t[o],r);else this.removeEventListener(t,r)},n}(jy);t5.prototype.on;t5.prototype.once;t5.prototype.un;function r_(e){if(Array.isArray(e))for(var n=0,t=e.length;n<t;++n)Qa(e[n]);else Qa(e)}const lL=t5;function si(){return function(){throw new Error("Unimplemented abstract method.")}()}var yee=0;function Ni(e){return e.ol_uid||(e.ol_uid=String(++yee))}var vee="6.15.1",uL=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),n9=function(e){uL(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.key=r,o.oldValue=i,o}return n}(Ep),Ah=function(e){uL(n,e);function n(t){var r=e.call(this)||this;return r.on,r.once,r.un,Ni(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return n.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},n.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},n.prototype.getProperties=function(){return this.values_&&dl({},this.values_)||{}},n.prototype.hasProperties=function(){return!!this.values_},n.prototype.notify=function(t,r){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new n9(i,t,r)),i=wy.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new n9(i,t,r))},n.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},n.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},n.prototype.set=function(t,r,i){var o=this.values_||(this.values_={});if(i)o[t]=r;else{var s=o[t];o[t]=r,s!==r&&this.notify(t,s)}},n.prototype.setProperties=function(t,r){for(var i in t)this.set(i,t[i],r)},n.prototype.applyProperties=function(t){t.values_&&dl(this.values_||(this.values_={}),t.values_)},n.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],A1(this.values_)&&(this.values_=null),r||this.notify(t,i)}},n}(lL),Cee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_ee=function(e){Cee(n,e);function n(t){var r=this,i="v"+vee.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return r=e.call(this,o)||this,r.code=t,r.name="AssertionError",r.message=o,r}return n}(Error);const AL=_ee;function ao(e,n){if(!e)throw new AL(n)}var bee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xee=function(e){bee(n,e);function n(t){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;r.setGeometry(i)}else{var o=t;r.setProperties(o)}return r}return n.prototype.clone=function(){var t=new n(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Qa(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=bo(t,Bi.CHANGE,this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},n.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?wee(t):void 0,this.changed()},n.prototype.setId=function(t){this.id_=t,this.changed()},n.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},n}(Ah);function wee(e){if(typeof e=="function")return e;var n;if(Array.isArray(e))n=e;else{ao(typeof e.getZIndex=="function",41);var t=e;n=[t]}return function(){return n}}var yA={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},mf={};mf[yA.RADIANS]=6370997/(2*Math.PI);mf[yA.DEGREES]=2*Math.PI*6370997/360;mf[yA.FEET]=.3048;mf[yA.METERS]=1;mf[yA.USFEET]=1200/3937;var zm=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Mee=zm.indexOf("firefox")!==-1,See=zm.indexOf("safari")!==-1&&zm.indexOf("chrom")==-1;See&&(zm.indexOf("version/15.4")>=0||zm.match(/cpu (os|iphone os) 15_4 like mac os x/));var Eee=zm.indexOf("webkit")!==-1&&zm.indexOf("edge")==-1,Oee=zm.indexOf("macintosh")!==-1,cL=typeof devicePixelRatio<"u"?devicePixelRatio:1,n5=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Bee=typeof Image<"u"&&Image.prototype.decode,dL=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch{}return e}(),hL=new Array(6);function md(){return[1,0,0,1,0,0]}function r9(e){return r5(e,1,0,0,1,0,0)}function RB(e,n){var t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],p=n[0],g=n[1],b=n[2],B=n[3],k=n[4],P=n[5];return e[0]=t*p+i*g,e[1]=r*p+o*g,e[2]=t*b+i*B,e[3]=r*b+o*B,e[4]=t*k+i*P+s,e[5]=r*k+o*P+a,e}function r5(e,n,t,r,i,o,s){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function kee(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e}function ul(e,n){var t=n[0],r=n[1];return n[0]=e[0]*t+e[2]*r+e[4],n[1]=e[1]*t+e[3]*r+e[5],n}function aM(e,n,t){return RB(e,r5(hL,n,0,0,t,0,0))}function Iee(e,n,t){return r5(e,n,0,0,t,0,0)}function Tee(e,n,t){return RB(e,r5(hL,1,0,0,1,n,t))}function gf(e,n,t,r,i,o,s,a){var p=Math.sin(o),g=Math.cos(o);return e[0]=r*g,e[1]=i*p,e[2]=-r*p,e[3]=i*g,e[4]=s*r*g-a*r*p+n,e[5]=s*i*p+a*i*g+t,e}function LB(e,n){var t=Kee(n);ao(t!==0,32);var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],p=n[5];return e[0]=s/t,e[1]=-i/t,e[2]=-o/t,e[3]=r/t,e[4]=(o*p-s*a)/t,e[5]=-(r*p-i*a)/t,e}function Kee(e){return e[0]*e[3]-e[1]*e[2]}var i9;function fL(e){var n="matrix("+e.join(", ")+")";if(n5)return n;var t=i9||(i9=document.createElement("div"));return t.style.transform=n,t.style.transform}const iu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function D6(e){for(var n=Cd(),t=0,r=e.length;t<r;++t)MC(n,e[t]);return n}function Pee(e,n,t){var r=Math.min.apply(null,e),i=Math.min.apply(null,n),o=Math.max.apply(null,e),s=Math.max.apply(null,n);return yf(r,i,o,s,t)}function Tm(e,n,t){return t?(t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]+n,t[3]=e[3]+n,t):[e[0]-n,e[1]-n,e[2]+n,e[3]+n]}function pL(e,n){return n?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):e.slice()}function v1(e,n,t){var r,i;return n<e[0]?r=e[0]-n:e[2]<n?r=n-e[2]:r=0,t<e[1]?i=e[1]-t:e[3]<t?i=t-e[3]:i=0,r*r+i*i}function j_(e,n){return zB(e,n[0],n[1])}function mm(e,n){return e[0]<=n[0]&&n[2]<=e[2]&&e[1]<=n[1]&&n[3]<=e[3]}function zB(e,n,t){return e[0]<=n&&n<=e[2]&&e[1]<=t&&t<=e[3]}function U6(e,n){var t=e[0],r=e[1],i=e[2],o=e[3],s=n[0],a=n[1],p=iu.UNKNOWN;return s<t?p=p|iu.LEFT:s>i&&(p=p|iu.RIGHT),a<r?p=p|iu.BELOW:a>o&&(p=p|iu.ABOVE),p===iu.UNKNOWN&&(p=iu.INTERSECTING),p}function Cd(){return[1/0,1/0,-1/0,-1/0]}function yf(e,n,t,r,i){return i?(i[0]=e,i[1]=n,i[2]=t,i[3]=r,i):[e,n,t,r]}function W_(e){return yf(1/0,1/0,-1/0,-1/0,e)}function mL(e,n){var t=e[0],r=e[1];return yf(t,r,t,r,n)}function jB(e,n,t,r,i){var o=W_(i);return yL(o,e,n,t,r)}function My(e,n){return e[0]==n[0]&&e[2]==n[2]&&e[1]==n[1]&&e[3]==n[3]}function gL(e,n){return n[0]<e[0]&&(e[0]=n[0]),n[2]>e[2]&&(e[2]=n[2]),n[1]<e[1]&&(e[1]=n[1]),n[3]>e[3]&&(e[3]=n[3]),e}function MC(e,n){n[0]<e[0]&&(e[0]=n[0]),n[0]>e[2]&&(e[2]=n[0]),n[1]<e[1]&&(e[1]=n[1]),n[1]>e[3]&&(e[3]=n[1])}function yL(e,n,t,r,i){for(;t<r;t+=i)Fee(e,n[t],n[t+1]);return e}function Fee(e,n,t){e[0]=Math.min(e[0],n),e[1]=Math.min(e[1],t),e[2]=Math.max(e[2],n),e[3]=Math.max(e[3],t)}function vL(e,n){var t;return t=n(i5(e)),t||(t=n(o5(e)),t)||(t=n(a5(e)),t)||(t=n(Gm(e)),t)?t:!1}function R6(e){var n=0;return WB(e)||(n=ls(e)*ZA(e)),n}function i5(e){return[e[0],e[1]]}function o5(e){return[e[2],e[1]]}function jm(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Dee(e,n){var t;return n==="bottom-left"?t=i5(e):n==="bottom-right"?t=o5(e):n==="top-left"?t=Gm(e):n==="top-right"?t=a5(e):ao(!1,13),t}function L6(e,n,t,r,i){var o=z6(e,n,t,r),s=o[0],a=o[1],p=o[2],g=o[3],b=o[4],B=o[5],k=o[6],P=o[7];return yf(Math.min(s,p,b,k),Math.min(a,g,B,P),Math.max(s,p,b,k),Math.max(a,g,B,P),i)}function z6(e,n,t,r){var i=n*r[0]/2,o=n*r[1]/2,s=Math.cos(t),a=Math.sin(t),p=i*s,g=i*a,b=o*s,B=o*a,k=e[0],P=e[1];return[k-p+B,P-g-b,k-p-B,P-g+b,k+p-B,P+g+b,k+p+B,P+g-b,k-p+B,P-g-b]}function ZA(e){return e[3]-e[1]}function V0(e,n,t){var r=t||Cd();return Al(e,n)?(e[0]>n[0]?r[0]=e[0]:r[0]=n[0],e[1]>n[1]?r[1]=e[1]:r[1]=n[1],e[2]<n[2]?r[2]=e[2]:r[2]=n[2],e[3]<n[3]?r[3]=e[3]:r[3]=n[3]):W_(r),r}function Gm(e){return[e[0],e[3]]}function a5(e){return[e[2],e[3]]}function ls(e){return e[2]-e[0]}function Al(e,n){return e[0]<=n[2]&&e[2]>=n[0]&&e[1]<=n[3]&&e[3]>=n[1]}function WB(e){return e[2]<e[0]||e[3]<e[1]}function Uee(e,n){return n?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):e}function Ree(e,n,t){var r=!1,i=U6(e,n),o=U6(e,t);if(i===iu.INTERSECTING||o===iu.INTERSECTING)r=!0;else{var s=e[0],a=e[1],p=e[2],g=e[3],b=n[0],B=n[1],k=t[0],P=t[1],R=(P-B)/(k-b),Z=void 0,W=void 0;o&iu.ABOVE&&!(i&iu.ABOVE)&&(Z=k-(P-g)/R,r=Z>=s&&Z<=p),!r&&o&iu.RIGHT&&!(i&iu.RIGHT)&&(W=P-(k-p)*R,r=W>=a&&W<=g),!r&&o&iu.BELOW&&!(i&iu.BELOW)&&(Z=k-(P-a)/R,r=Z>=s&&Z<=p),!r&&o&iu.LEFT&&!(i&iu.LEFT)&&(W=P-(k-s)*R,r=W>=a&&W<=g)}return r}function Lee(e,n,t,r){var i=[];if(r>1)for(var o=e[2]-e[0],s=e[3]-e[1],a=0;a<r;++a)i.push(e[0]+o*a/r,e[1],e[2],e[1]+s*a/r,e[2]-o*a/r,e[3],e[0],e[3]-s*a/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];n(i,i,2);for(var p=[],g=[],a=0,b=i.length;a<b;a+=2)p.push(i[a]),g.push(i[a+1]);return Pee(p,g,t)}function CL(e,n){var t=n.getExtent(),r=jm(e);if(n.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var i=ls(t),o=Math.floor((r[0]-t[0])/i),s=o*i;e[0]-=s,e[2]-=s}return e}function zee(e,n){if(n.canWrapX()){var t=n.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[t[0],e[1],t[2],e[3]]];CL(e,n);var r=ls(t);if(ls(e)>r)return[[t[0],e[1],t[2],e[3]]];if(e[0]<t[0])return[[e[0]+r,e[1],t[2],e[3]],[t[0],e[1],e[2],e[3]]];if(e[2]>t[2])return[[e[0],e[1],t[2],e[3]],[t[0],e[1],e[2]-r,e[3]]]}return[e]}var jee=function(){function e(n){this.code_=n.code,this.units_=n.units,this.extent_=n.extent!==void 0?n.extent:null,this.worldExtent_=n.worldExtent!==void 0?n.worldExtent:null,this.axisOrientation_=n.axisOrientation!==void 0?n.axisOrientation:"enu",this.global_=n.global!==void 0?n.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=n.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=n.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||mf[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(n){this.global_=n,this.canWrapX_=!!(n&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n},e.prototype.setExtent=function(n){this.extent_=n,this.canWrapX_=!!(this.global_&&n)},e.prototype.setWorldExtent=function(n){this.worldExtent_=n},e.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();const NB=jee;function Bl(e,n,t){return Math.min(Math.max(e,n),t)}var Wee=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(n){var t=Math.exp(n);return(t+1/t)/2},e}(),Nee=function(){var e;return"log2"in Math?e=Math.log2:e=function(n){return Math.log(n)*Math.LOG2E},e}();function Gee(e,n,t,r,i,o){var s=i-t,a=o-r;if(s!==0||a!==0){var p=((e-t)*s+(n-r)*a)/(s*s+a*a);p>1?(t=i,r=o):p>0&&(t+=s*p,r+=a*p)}return H0(e,n,t,r)}function H0(e,n,t,r){var i=t-e,o=r-n;return i*i+o*o}function Qee(e){for(var n=e.length,t=0;t<n;t++){for(var r=t,i=Math.abs(e[t][t]),o=t+1;o<n;o++){var s=Math.abs(e[o][t]);s>i&&(i=s,r=o)}if(i===0)return null;var a=e[r];e[r]=e[t],e[t]=a;for(var p=t+1;p<n;p++)for(var g=-e[p][t]/e[t][t],b=t;b<n+1;b++)t==b?e[p][b]=0:e[p][b]+=g*e[t][b]}for(var B=new Array(n),k=n-1;k>=0;k--){B[k]=e[k][n]/e[k][k];for(var P=k-1;P>=0;P--)e[P][n]-=e[P][k]*B[k]}return B}function m2(e){return e*Math.PI/180}function Z0(e,n){var t=e%n;return t*n<0?t+n:t}function Ap(e,n,t){return e+t*(n-e)}function _L(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t}function mx(e,n){return Math.floor(_L(e,n))}function gx(e,n){return Math.ceil(_L(e,n))}var $ee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N_=6378137,Ug=Math.PI*N_,Yee=[-Ug,-Ug,Ug,Ug],qee=[-180,-85,180,85],yx=N_*Math.log(Math.tan(Math.PI/2)),og=function(e){$ee(n,e);function n(t){return e.call(this,{code:t,units:yA.METERS,extent:Yee,global:!0,worldExtent:qee,getPointResolution:function(r,i){return r/Wee(i[1]/N_)}})||this}return n}(NB),o9=[new og("EPSG:3857"),new og("EPSG:102100"),new og("EPSG:102113"),new og("EPSG:900913"),new og("http://www.opengis.net/def/crs/EPSG/0/3857"),new og("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Vee(e,n,t){var r=e.length,i=t>1?t:2,o=n;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var s=0;s<r;s+=i){o[s]=Ug*e[s]/180;var a=N_*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));a>yx?a=yx:a<-yx&&(a=-yx),o[s+1]=a}return o}function Hee(e,n,t){var r=e.length,i=t>1?t:2,o=n;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var s=0;s<r;s+=i)o[s]=180*e[s]/Ug,o[s+1]=360*Math.atan(Math.exp(e[s+1]/N_))/Math.PI-90;return o}var Zee=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xee=6378137,a9=[-180,-90,180,90],Jee=Math.PI*Xee/180,f0=function(e){Zee(n,e);function n(t,r){return e.call(this,{code:t,units:yA.DEGREES,extent:a9,axisOrientation:r,global:!0,metersPerUnit:Jee,worldExtent:a9})||this}return n}(NB),s9=[new f0("CRS:84"),new f0("EPSG:4326","neu"),new f0("urn:ogc:def:crs:OGC:1.3:CRS84"),new f0("urn:ogc:def:crs:OGC:2:84"),new f0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new f0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new f0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],j6={};function ete(e){return j6[e]||j6[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function tte(e,n){j6[e]=n}var ry={};function y3(e,n,t){var r=e.getCode(),i=n.getCode();r in ry||(ry[r]={}),ry[r][i]=t}function nte(e,n){var t;return e in ry&&n in ry[e]&&(t=ry[e][n]),t}function rte(e,n){return e[0]+=+n[0],e[1]+=+n[1],e}function v3(e,n){for(var t=!0,r=e.length-1;r>=0;--r)if(e[r]!=n[r]){t=!1;break}return t}function GB(e,n){var t=Math.cos(n),r=Math.sin(n),i=e[0]*t-e[1]*r,o=e[1]*t+e[0]*r;return e[0]=i,e[1]=o,e}function ite(e,n){return e[0]*=n,e[1]*=n,e}function QB(e,n){if(n.canWrapX()){var t=ls(n.getExtent()),r=ote(e,n,t);r&&(e[0]-=r*t)}return e}function ote(e,n,t){var r=n.getExtent(),i=0;if(n.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=t||ls(r);i=Math.floor((e[0]-r[0])/o)}return i}var ate=63710088e-1;function l9(e,n,t){var r=t||ate,i=m2(e[1]),o=m2(n[1]),s=(o-i)/2,a=m2(n[0]-e[0])/2,p=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))}var W6=!0;function bL(e){var n=e===void 0?!0:e;W6=!n}function $B(e,n,t){var r;if(n!==void 0){for(var i=0,o=e.length;i<o;++i)n[i]=e[i];r=n}else r=e.slice();return r}function xL(e,n,t){if(n!==void 0&&e!==n){for(var r=0,i=e.length;r<i;++r)n[r]=e[r];e=n}return e}function ste(e){tte(e.getCode(),e),y3(e,e,$B)}function lte(e){e.forEach(ste)}function js(e){return typeof e=="string"?ete(e):e||null}function u9(e,n,t,r){e=js(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(n,t),r&&r!==e.getUnits()){var s=e.getMetersPerUnit();s&&(i=i*s/mf[r])}}else{var a=e.getUnits();if(a==yA.DEGREES&&!r||r==yA.DEGREES)i=n;else{var p=s5(e,js("EPSG:4326"));if(p===xL&&a!==yA.DEGREES)i=n*e.getMetersPerUnit();else{var g=[t[0]-n/2,t[1],t[0]+n/2,t[1],t[0],t[1]-n/2,t[0],t[1]+n/2];g=p(g,g,2);var b=l9(g.slice(0,2),g.slice(2,4)),B=l9(g.slice(4,6),g.slice(6,8));i=(b+B)/2}var s=r?mf[r]:e.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function A9(e){lte(e),e.forEach(function(n){e.forEach(function(t){n!==t&&y3(n,t,$B)})})}function ute(e,n,t,r){e.forEach(function(i){n.forEach(function(o){y3(i,o,t),y3(o,i,r)})})}function YB(e,n){return e?typeof e=="string"?js(e):e:js(n)}function N6(e,n){return bL(),qB(e,"EPSG:4326",n!==void 0?n:"EPSG:3857")}function sM(e,n){var t=qB(e,n!==void 0?n:"EPSG:3857","EPSG:4326"),r=t[0];return(r<-180||r>180)&&(t[0]=Z0(r+180,360)-180),t}function O0(e,n){if(e===n)return!0;var t=e.getUnits()===n.getUnits();if(e.getCode()===n.getCode())return t;var r=s5(e,n);return r===$B&&t}function s5(e,n){var t=e.getCode(),r=n.getCode(),i=nte(t,r);return i||(i=xL),i}function C3(e,n){var t=js(e),r=js(n);return s5(t,r)}function qB(e,n,t){var r=C3(n,t);return r(e,void 0,e.length)}var Ate=null;function cte(){return Ate}function G6(e,n){return e}function rp(e,n){return W6&&!v3(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(W6=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function wL(e,n){return e}function R0(e,n){return e}function dte(){A9(o9),A9(s9),ute(s9,o9,Vee,Hee)}dte();function Km(e,n,t,r,i,o){for(var s=o||[],a=0,p=n;p<t;p+=r){var g=e[p],b=e[p+1];s[a++]=i[0]*g+i[2]*b+i[4],s[a++]=i[1]*g+i[3]*b+i[5]}return o&&s.length!=a&&(s.length=a),s}function ML(e,n,t,r,i,o,s){for(var a=s||[],p=Math.cos(i),g=Math.sin(i),b=o[0],B=o[1],k=0,P=n;P<t;P+=r){var R=e[P]-b,Z=e[P+1]-B;a[k++]=b+R*p-Z*g,a[k++]=B+R*g+Z*p;for(var W=P+2;W<P+r;++W)a[k++]=e[W]}return s&&a.length!=k&&(a.length=k),a}function hte(e,n,t,r,i,o,s,a){for(var p=a||[],g=s[0],b=s[1],B=0,k=n;k<t;k+=r){var P=e[k]-g,R=e[k+1]-b;p[B++]=g+i*P,p[B++]=b+o*R;for(var Z=k+2;Z<k+r;++Z)p[B++]=e[Z]}return a&&p.length!=B&&(p.length=B),p}function fte(e,n,t,r,i,o,s){for(var a=s||[],p=0,g=n;g<t;g+=r){a[p++]=e[g]+i,a[p++]=e[g+1]+o;for(var b=g+2;b<g+r;++b)a[p++]=e[b]}return s&&a.length!=p&&(a.length=p),a}var pte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c9=md(),mte=function(e){pte(n,e);function n(){var t=e.call(this)||this;return t.extent_=Cd(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=fee(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),t}return n.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},n.prototype.clone=function(){return si()},n.prototype.closestPointXY=function(t,r,i,o){return si()},n.prototype.containsXY=function(t,r){var i=this.getClosestPoint([t,r]);return i[0]===t&&i[1]===r},n.prototype.getClosestPoint=function(t,r){var i=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},n.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},n.prototype.computeExtent=function(t){return si()},n.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&W_(r),this.extentRevision_=this.getRevision()}return Uee(this.extent_,t)},n.prototype.rotate=function(t,r){si()},n.prototype.scale=function(t,r,i){si()},n.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},n.prototype.getSimplifiedGeometry=function(t){return si()},n.prototype.getType=function(){return si()},n.prototype.applyTransform=function(t){si()},n.prototype.intersectsExtent=function(t){return si()},n.prototype.translate=function(t,r){si()},n.prototype.transform=function(t,r){var i=js(t),o=i.getUnits()==yA.TILE_PIXELS?function(s,a,p){var g=i.getExtent(),b=i.getWorldExtent(),B=ZA(b)/ZA(g);return gf(c9,b[0],b[3],B,-B,0,0,0),Km(s,0,s.length,p,c9,a),C3(i,r)(s,a,p)}:C3(i,r);return this.applyTransform(o),this},n}(Ah);const SL=mte;var gte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yte=function(e){gte(n,e);function n(t){var r=e.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return n.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Qa),this.changeEventsKeys_.length=0},n.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,r=this.geometries_.length;t<r;++t)this.changeEventsKeys_.push(bo(this.geometries_[t],Bi.CHANGE,this.changed,this))},n.prototype.clone=function(){var t=new n(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){if(o<v1(this.getExtent(),t,r))return o;for(var s=this.geometries_,a=0,p=s.length;a<p;++a)o=s[a].closestPointXY(t,r,i,o);return o},n.prototype.containsXY=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(t,r))return!0;return!1},n.prototype.computeExtent=function(t){W_(t);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)gL(t,r[i].getExtent());return t},n.prototype.getGeometries=function(){return d9(this.geometries_)},n.prototype.getGeometriesArray=function(){return this.geometries_},n.prototype.getGeometriesArrayRecursive=function(){for(var t=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?t=t.concat(r[i].getGeometriesArrayRecursive()):t.push(r[i]);return t},n.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var p=i[s],g=p.getSimplifiedGeometry(t);r.push(g),g!==p&&(o=!0)}if(o){var b=new n(null);return b.setGeometriesArray(r),b}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},n.prototype.getType=function(){return"GeometryCollection"},n.prototype.intersectsExtent=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(t))return!0;return!1},n.prototype.isEmpty=function(){return this.geometries_.length===0},n.prototype.rotate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(t,r);this.changed()},n.prototype.scale=function(t,r,i){var o=i;o||(o=jm(this.getExtent()));for(var s=this.geometries_,a=0,p=s.length;a<p;++a)s[a].scale(t,r,o);this.changed()},n.prototype.setGeometries=function(t){this.setGeometriesArray(d9(t))},n.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},n.prototype.applyTransform=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(t);this.changed()},n.prototype.translate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(t,r);this.changed()},n.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},n}(SL);function d9(e){for(var n=[],t=0,r=e.length;t<r;++t)n.push(e[t].clone());return n}const vte=yte;var EL=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(n,t){var r;if(t){var i=t.dataProjection?js(t.dataProjection):this.readProjection(n);t.extent&&i&&i.getUnits()===yA.TILE_PIXELS&&(i=js(i),i.setWorldExtent(t.extent)),r={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(n){return dl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},n)},e.prototype.getType=function(){return si()},e.prototype.readFeature=function(n,t){return si()},e.prototype.readFeatures=function(n,t){return si()},e.prototype.readGeometry=function(n,t){return si()},e.prototype.readProjection=function(n){return si()},e.prototype.writeFeature=function(n,t){return si()},e.prototype.writeFeatures=function(n,t){return si()},e.prototype.writeGeometry=function(n,t){return si()},e}();function VB(e,n,t){var r=t?js(t.featureProjection):null,i=t?js(t.dataProjection):null,o;if(r&&i&&!O0(r,i)?o=(n?e.clone():e).transform(n?r:i,n?i:r):o=e,n&&t&&t.decimals!==void 0){var s=Math.pow(10,t.decimals),a=function(p){for(var g=0,b=p.length;g<b;++g)p[g]=Math.round(p[g]*s)/s;return p};o===e&&(o=e.clone()),o.applyTransform(a)}return o}var Cte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_te=function(e){Cte(n,e);function n(){return e.call(this)||this}return n.prototype.getType=function(){return"json"},n.prototype.readFeature=function(t,r){return this.readFeatureFromObject(vx(t),this.getReadOptions(t,r))},n.prototype.readFeatures=function(t,r){return this.readFeaturesFromObject(vx(t),this.getReadOptions(t,r))},n.prototype.readFeatureFromObject=function(t,r){return si()},n.prototype.readFeaturesFromObject=function(t,r){return si()},n.prototype.readGeometry=function(t,r){return this.readGeometryFromObject(vx(t),this.getReadOptions(t,r))},n.prototype.readGeometryFromObject=function(t,r){return si()},n.prototype.readProjection=function(t){return this.readProjectionFromObject(vx(t))},n.prototype.readProjectionFromObject=function(t){return si()},n.prototype.writeFeature=function(t,r){return JSON.stringify(this.writeFeatureObject(t,r))},n.prototype.writeFeatureObject=function(t,r){return si()},n.prototype.writeFeatures=function(t,r){return JSON.stringify(this.writeFeaturesObject(t,r))},n.prototype.writeFeaturesObject=function(t,r){return si()},n.prototype.writeGeometry=function(t,r){return JSON.stringify(this.writeGeometryObject(t,r))},n.prototype.writeGeometryObject=function(t,r){return si()},n}(EL);function vx(e){if(typeof e=="string"){var n=JSON.parse(e);return n||null}else return e!==null?e:null}const bte=_te,Oa={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var xte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wte=function(e){xte(n,e);function n(){var t=e.call(this)||this;return t.layout=Oa.XY,t.stride=2,t.flatCoordinates=null,t}return n.prototype.computeExtent=function(t){return jB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.getCoordinates=function(){return si()},n.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.getFlatCoordinates=function(){return this.flatCoordinates},n.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},n.prototype.getLayout=function(){return this.layout},n.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},n.prototype.getSimplifiedGeometryInternal=function(t){return this},n.prototype.getStride=function(){return this.stride},n.prototype.setFlatCoordinates=function(t,r){this.stride=h9(t),this.layout=t,this.flatCoordinates=r},n.prototype.setCoordinates=function(t,r){si()},n.prototype.setLayout=function(t,r,i){var o;if(t)o=h9(t);else{for(var s=0;s<i;++s)if(r.length===0){this.layout=Oa.XY,this.stride=2;return}else r=r[0];o=r.length,t=Mte(o)}this.layout=t,this.stride=o},n.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},n.prototype.rotate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();ML(i,0,i.length,o,t,r,i),this.changed()}},n.prototype.scale=function(t,r,i){var o=r;o===void 0&&(o=t);var s=i;s||(s=jm(this.getExtent()));var a=this.getFlatCoordinates();if(a){var p=this.getStride();hte(a,0,a.length,p,t,o,s,a),this.changed()}},n.prototype.translate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();fte(i,0,i.length,o,t,r,i),this.changed()}},n}(SL);function Mte(e){var n;return e==2?n=Oa.XY:e==3?n=Oa.XYZ:e==4&&(n=Oa.XYZM),n}function h9(e){var n;return e==Oa.XY?n=2:e==Oa.XYZ||e==Oa.XYM?n=3:e==Oa.XYZM&&(n=4),n}function Ste(e,n,t){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return Km(r,0,r.length,i,n,t)}else return null}const C1=wte;function f9(e,n,t,r,i,o,s){var a=e[n],p=e[n+1],g=e[t]-a,b=e[t+1]-p,B;if(g===0&&b===0)B=n;else{var k=((i-a)*g+(o-p)*b)/(g*g+b*b);if(k>1)B=t;else if(k>0){for(var P=0;P<r;++P)s[P]=Ap(e[n+P],e[t+P],k);s.length=r;return}else B=n}for(var P=0;P<r;++P)s[P]=e[B+P];s.length=r}function HB(e,n,t,r,i){var o=e[n],s=e[n+1];for(n+=r;n<t;n+=r){var a=e[n],p=e[n+1],g=H0(o,s,a,p);g>i&&(i=g),o=a,s=p}return i}function ZB(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=HB(e,n,a,r,i),n=a}return i}function Ete(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=ZB(e,n,a,r,i),n=a[a.length-1]}return i}function XB(e,n,t,r,i,o,s,a,p,g,b){if(n==t)return g;var B,k;if(i===0)if(k=H0(s,a,e[n],e[n+1]),k<g){for(B=0;B<r;++B)p[B]=e[n+B];return p.length=r,k}else return g;for(var P=b||[NaN,NaN],R=n+r;R<t;)if(f9(e,R-r,R,r,s,a,P),k=H0(s,a,P[0],P[1]),k<g){for(g=k,B=0;B<r;++B)p[B]=P[B];p.length=r,R+=r}else R+=r*Math.max((Math.sqrt(k)-Math.sqrt(g))/i|0,1);if(o&&(f9(e,t-r,n,r,s,a,P),k=H0(s,a,P[0],P[1]),k<g)){for(g=k,B=0;B<r;++B)p[B]=P[B];p.length=r}return g}function JB(e,n,t,r,i,o,s,a,p,g,b){for(var B=b||[NaN,NaN],k=0,P=t.length;k<P;++k){var R=t[k];g=XB(e,n,R,r,i,o,s,a,p,g,B),n=R}return g}function Ote(e,n,t,r,i,o,s,a,p,g,b){for(var B=b||[NaN,NaN],k=0,P=t.length;k<P;++k){var R=t[k];g=JB(e,n,R,r,i,o,s,a,p,g,B),n=R[R.length-1]}return g}function Bte(e,n,t,r){for(var i=0,o=t.length;i<o;++i)e[n++]=t[i];return n}function l5(e,n,t,r){for(var i=0,o=t.length;i<o;++i)for(var s=t[i],a=0;a<r;++a)e[n++]=s[a];return n}function e7(e,n,t,r,i){for(var o=i||[],s=0,a=0,p=t.length;a<p;++a){var g=l5(e,n,t[a],r);o[s++]=g,n=g}return o.length=s,o}function kte(e,n,t,r,i){for(var o=i||[],s=0,a=0,p=t.length;a<p;++a){var g=e7(e,n,t[a],r,o[s]);o[s++]=g,n=g[g.length-1]}return o.length=s,o}function t7(e,n,t,r,i,o,s){var a=(t-n)/r;if(a<3){for(;n<t;n+=r)o[s++]=e[n],o[s++]=e[n+1];return s}var p=new Array(a);p[0]=1,p[a-1]=1;for(var g=[n,t-r],b=0;g.length>0;){for(var B=g.pop(),k=g.pop(),P=0,R=e[k],Z=e[k+1],W=e[B],Q=e[B+1],q=k+r;q<B;q+=r){var oe=e[q],re=e[q+1],ce=Gee(oe,re,R,Z,W,Q);ce>P&&(b=q,P=ce)}P>i&&(p[(b-n)/r]=1,k+r<b&&g.push(k,b),b+r<B&&g.push(b,B))}for(var q=0;q<a;++q)p[q]&&(o[s++]=e[n+q*r],o[s++]=e[n+q*r+1]);return s}function Ite(e,n,t,r,i,o,s,a){for(var p=0,g=t.length;p<g;++p){var b=t[p];s=t7(e,n,b,r,i,o,s),a.push(s),n=b}return s}function x0(e,n){return n*Math.round(e/n)}function Tte(e,n,t,r,i,o,s){if(n==t)return s;var a=x0(e[n],i),p=x0(e[n+1],i);n+=r,o[s++]=a,o[s++]=p;var g,b;do if(g=x0(e[n],i),b=x0(e[n+1],i),n+=r,n==t)return o[s++]=g,o[s++]=b,s;while(g==a&&b==p);for(;n<t;){var B=x0(e[n],i),k=x0(e[n+1],i);if(n+=r,!(B==g&&k==b)){var P=g-a,R=b-p,Z=B-a,W=k-p;if(P*W==R*Z&&(P<0&&Z<P||P==Z||P>0&&Z>P)&&(R<0&&W<R||R==W||R>0&&W>R)){g=B,b=k;continue}o[s++]=g,o[s++]=b,a=g,p=b,g=B,b=k}}return o[s++]=g,o[s++]=b,s}function OL(e,n,t,r,i,o,s,a){for(var p=0,g=t.length;p<g;++p){var b=t[p];s=Tte(e,n,b,r,i,o,s),a.push(s),n=b}return s}function Kte(e,n,t,r,i,o,s,a){for(var p=0,g=t.length;p<g;++p){var b=t[p],B=[];s=OL(e,n,b,r,i,o,s,B),a.push(B),n=b[b.length-1]}return s}function BL(e,n,t,r,i){var o;for(n+=r;n<t;n+=r)if(o=i(e.slice(n-r,n),e.slice(n,n+r)),o)return o;return!1}function gm(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=n;a<t;a+=r)o[s++]=e.slice(a,a+r);return o.length=s,o}function i_(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,p=t.length;a<p;++a){var g=t[a];o[s++]=gm(e,n,g,r,o[s]),n=g}return o.length=s,o}function Q6(e,n,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,p=t.length;a<p;++a){var g=t[a];o[s++]=i_(e,n,g,r,o[s]),n=g[g.length-1]}return o.length=s,o}function _3(e,n,t,r,i,o,s){var a,p,g=(t-n)/r;if(g===1)a=n;else if(g===2)a=n,p=i;else if(g!==0){for(var b=e[n],B=e[n+1],k=0,P=[0],R=n+r;R<t;R+=r){var Z=e[R],W=e[R+1];k+=Math.sqrt((Z-b)*(Z-b)+(W-B)*(W-B)),P.push(k),b=Z,B=W}var Q=i*k,q=cee(P,Q);q<0?(p=(Q-P[-q-2])/(P[-q-1]-P[-q-2]),a=n+(-q-2)*r):a=n+q*r}for(var oe=s>1?s:2,re=o||new Array(oe),R=0;R<oe;++R)re[R]=a===void 0?NaN:p===void 0?e[a+R]:Ap(e[a+R],e[a+r+R],p);return re}function $6(e,n,t,r,i,o){if(t==n)return null;var s;if(i<e[n+r-1])return o?(s=e.slice(n,n+r),s[r-1]=i,s):null;if(e[t-1]<i)return o?(s=e.slice(t-r,t),s[r-1]=i,s):null;if(i==e[n+r-1])return e.slice(n,n+r);for(var a=n/r,p=t/r;a<p;){var g=a+p>>1;i<e[(g+1)*r-1]?p=g:a=g+1}var b=e[a*r-1];if(i==b)return e.slice((a-1)*r,(a-1)*r+r);var B=e[(a+1)*r-1],k=(i-b)/(B-b);s=[];for(var P=0;P<r-1;++P)s.push(Ap(e[(a-1)*r+P],e[a*r+P],k));return s.push(i),s}function Pte(e,n,t,r,i,o,s){if(s)return $6(e,n,t[t.length-1],r,i,o);var a;if(i<e[r-1])return o?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return o?(a=e.slice(e.length-r),a[r-1]=i,a):null;for(var p=0,g=t.length;p<g;++p){var b=t[p];if(n!=b){if(i<e[n+r-1])return null;if(i<=e[b-1])return $6(e,n,b,r,i,!1);n=b}}return null}function Fte(e,n,t,r,i){var o=vL(i,function(s){return!L0(e,n,t,r,s[0],s[1])});return!o}function L0(e,n,t,r,i,o){for(var s=0,a=e[t-r],p=e[t-r+1];n<t;n+=r){var g=e[n],b=e[n+1];p<=o?b>o&&(g-a)*(o-p)-(i-a)*(b-p)>0&&s++:b<=o&&(g-a)*(o-p)-(i-a)*(b-p)<0&&s--,a=g,p=b}return s!==0}function n7(e,n,t,r,i,o){if(t.length===0||!L0(e,n,t[0],r,i,o))return!1;for(var s=1,a=t.length;s<a;++s)if(L0(e,t[s-1],t[s],r,i,o))return!1;return!0}function Dte(e,n,t,r,i,o){if(t.length===0)return!1;for(var s=0,a=t.length;s<a;++s){var p=t[s];if(n7(e,n,p,r,i,o))return!0;n=p[p.length-1]}return!1}function u5(e,n,t,r,i){var o=yL(Cd(),e,n,t,r);return Al(i,o)?mm(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:BL(e,n,t,r,function(s,a){return Ree(i,s,a)}):!1}function Ute(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){if(u5(e,n,t[o],r,i))return!0;n=t[o]}return!1}function kL(e,n,t,r,i){return!!(u5(e,n,t,r,i)||L0(e,n,t,r,i[0],i[1])||L0(e,n,t,r,i[0],i[3])||L0(e,n,t,r,i[2],i[1])||L0(e,n,t,r,i[2],i[3]))}function IL(e,n,t,r,i){if(!kL(e,n,t[0],r,i))return!1;if(t.length===1)return!0;for(var o=1,s=t.length;o<s;++o)if(Fte(e,t[o-1],t[o],r,i)&&!u5(e,t[o-1],t[o],r,i))return!1;return!0}function Rte(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(IL(e,n,a,r,i))return!0;n=a[a.length-1]}return!1}function TL(e,n,t,r){for(var i=e[n],o=e[n+1],s=0,a=n+r;a<t;a+=r){var p=e[a],g=e[a+1];s+=Math.sqrt((p-i)*(p-i)+(g-o)*(g-o)),i=p,o=g}return s}var Lte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zte=function(e){Lte(n,e);function n(t,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.appendCoordinate=function(t){this.flatCoordinates?df(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<v1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(HB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),XB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,i,o))},n.prototype.forEachSegment=function(t){return BL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Oa.XYM&&this.layout!=Oa.XYZM)return null;var i=r!==void 0?r:!1;return $6(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},n.prototype.getCoordinates=function(){return gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinateAt=function(t,r){return _3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},n.prototype.getLength=function(){return TL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=t7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new n(r,Oa.XY)},n.prototype.getType=function(){return"LineString"},n.prototype.intersectsExtent=function(t){return u5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(C1);const b3=zte;var jte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wte=function(e){jte(n,e);function n(t,r,i){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,t),o.ends_=i;else{for(var s=o.getLayout(),a=t,p=[],g=[],b=0,B=a.length;b<B;++b){var k=a[b];b===0&&(s=k.getLayout()),df(p,k.getFlatCoordinates()),g.push(p.length)}o.setFlatCoordinates(s,p),o.ends_=g}return o}return n.prototype.appendLineString=function(t){this.flatCoordinates?df(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<v1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ZB(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),JB(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,i,o))},n.prototype.getCoordinateAtM=function(t,r,i){if(this.layout!=Oa.XYM&&this.layout!=Oa.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,s=i!==void 0?i:!1;return Pte(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},n.prototype.getCoordinates=function(){return i_(this.flatCoordinates,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new b3(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},n.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],s=0,a=0,p=r.length;a<p;++a){var g=r[a],b=new b3(t.slice(s,g),i);o.push(b),s=g}return o},n.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,a=0,p=o.length;a<p;++a){var g=o[a],b=_3(r,i,g,s,.5);df(t,b),i=g}return t},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Ite(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new n(r,Oa.XY,i)},n.prototype.getType=function(){return"MultiLineString"},n.prototype.intersectsExtent=function(t){return Ute(this.flatCoordinates,0,this.ends_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=e7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(C1);const KL=Wte;var Nte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gte=function(e){Nte(n,e);function n(t,r){var i=e.call(this)||this;return i.setCoordinates(t,r),i}return n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){var s=this.flatCoordinates,a=H0(t,r,s[0],s[1]);if(a<o){for(var p=this.stride,g=0;g<p;++g)i[g]=s[g];return i.length=p,a}else return o},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(t){return mL(this.flatCoordinates,t)},n.prototype.getType=function(){return"Point"},n.prototype.intersectsExtent=function(t){return zB(t,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bte(this.flatCoordinates,0,t,this.stride),this.changed()},n}(C1);const o_=Gte;var Qte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$te=function(e){Qte(n,e);function n(t,r){var i=e.call(this)||this;return r&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.appendPoint=function(t){this.flatCoordinates?df(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){if(o<v1(this.getExtent(),t,r))return o;for(var s=this.flatCoordinates,a=this.stride,p=0,g=s.length;p<g;p+=a){var b=H0(t,r,s[p],s[p+1]);if(b<o){o=b;for(var B=0;B<a;++B)i[B]=s[p+B];i.length=a}}return o},n.prototype.getCoordinates=function(){return gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new o_(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},n.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,i=this.stride,o=[],s=0,a=t.length;s<a;s+=i){var p=new o_(t.slice(s,s+i),r);o.push(p)}return o},n.prototype.getType=function(){return"MultiPoint"},n.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,i=this.stride,o=0,s=r.length;o<s;o+=i){var a=r[o],p=r[o+1];if(zB(t,a,p))return!0}return!1},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(C1);const r7=$te;function PL(e,n,t,r){for(var i=0,o=e[t-r],s=e[t-r+1];n<t;n+=r){var a=e[n],p=e[n+1];i+=s*a-o*p,o=a,s=p}return i/2}function FL(e,n,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=PL(e,n,a,r),n=a}return i}function Yte(e,n,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=FL(e,n,a,r),n=a[a.length-1]}return i}var qte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vte=function(e){qte(n,e);function n(t,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,r,i,o){return o<v1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(HB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),XB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.getArea=function(){return PL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getCoordinates=function(){return gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=t7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new n(r,Oa.XY)},n.prototype.getType=function(){return"LinearRing"},n.prototype.intersectsExtent=function(t){return!1},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l5(this.flatCoordinates,0,t,this.stride),this.changed()},n}(C1);const p9=Vte;function i7(e,n,t,r,i,o,s){for(var a,p,g,b,B,k,P,R=i[o+1],Z=[],W=0,Q=t.length;W<Q;++W){var q=t[W];for(b=e[q-r],k=e[q-r+1],a=n;a<q;a+=r)B=e[a],P=e[a+1],(R<=k&&P<=R||k<=R&&R<=P)&&(g=(R-k)/(P-k)*(B-b)+b,Z.push(g)),b=B,k=P}var oe=NaN,re=-1/0;for(Z.sort(l1),b=Z[0],a=1,p=Z.length;a<p;++a){B=Z[a];var ce=Math.abs(B-b);ce>re&&(g=(b+B)/2,n7(e,n,t,r,g,R)&&(oe=g,re=ce)),b=B}return isNaN(oe)&&(oe=i[o]),s?(s.push(oe,R,re),s):[oe,R,re]}function DL(e,n,t,r,i){for(var o=[],s=0,a=t.length;s<a;++s){var p=t[s];o=i7(e,n,p,r,i,2*s,o),n=p[p.length-1]}return o}function Hte(e,n,t,r){for(;n<t-r;){for(var i=0;i<r;++i){var o=e[n+i];e[n+i]=e[t-r+i],e[t-r+i]=o}n+=r,t-=r}}function o7(e,n,t,r){for(var i=0,o=e[t-r],s=e[t-r+1];n<t;n+=r){var a=e[n],p=e[n+1];i+=(a-o)*(p+s),o=a,s=p}return i===0?void 0:i>0}function UL(e,n,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var p=t[s],g=o7(e,n,p,r);if(s===0){if(o&&g||!o&&!g)return!1}else if(o&&!g||!o&&g)return!1;n=p}return!0}function Zte(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(!UL(e,n,a,r,i))return!1;a.length&&(n=a[a.length-1])}return!0}function Y6(e,n,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var p=t[s],g=o7(e,n,p,r),b=s===0?o&&g||!o&&!g:o&&!g||!o&&g;b&&Hte(e,n,p,r),n=p}return n}function m9(e,n,t,r,i){for(var o=0,s=t.length;o<s;++o)n=Y6(e,n,t[o],r,i);return n}function Xte(e,n){for(var t=[],r=0,i=0,o=0,s=n.length;o<s;++o){var a=n[o];if(!o7(e,r,a,2))t.push(n.slice(i,o+1));else{if(t.length===0)continue;t[t.length-1].push(n[i])}i=o+1,r=a}return t}var Jte=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RL=function(e){Jte(n,e);function n(t,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,t),o.ends_=i):o.setCoordinates(t,r),o}return n.prototype.appendLinearRing=function(t){this.flatCoordinates?df(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},n.prototype.clone=function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},n.prototype.closestPointXY=function(t,r,i,o){return o<v1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ZB(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),JB(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.containsXY=function(t,r){return n7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},n.prototype.getArea=function(){return FL(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},n.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Y6(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,i_(r,0,this.ends_,this.stride)},n.prototype.getEnds=function(){return this.ends_},n.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=jm(this.getExtent());this.flatInteriorPoint_=i7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},n.prototype.getInteriorPoint=function(){return new o_(this.getFlatInteriorPoint(),Oa.XYM)},n.prototype.getLinearRingCount=function(){return this.ends_.length},n.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p9(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},n.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,p=i.length;a<p;++a){var g=i[a],b=new p9(r.slice(s,g),t);o.push(b),s=g}return o},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;UL(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Y6(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=OL(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new n(r,Oa.XY,i)},n.prototype.getType=function(){return"Polygon"},n.prototype.intersectsExtent=function(t){return IL(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=e7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},n}(C1);const a_=RL;function g9(e){var n=e[0],t=e[1],r=e[2],i=e[3],o=[n,t,n,i,r,i,r,t,n,t];return new RL(o,Oa.XY,[o.length])}function LL(e,n,t,r){for(var i=[],o=Cd(),s=0,a=t.length;s<a;++s){var p=t[s];o=jB(e,n,p[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),n=p[p.length-1]}return i}var ene=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tne=function(e){ene(n,e);function n(t,r,i){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var s=o.getLayout(),a=t,p=[],g=[],b=0,B=a.length;b<B;++b){var k=a[b];b===0&&(s=k.getLayout());for(var P=p.length,R=k.getEnds(),Z=0,W=R.length;Z<W;++Z)R[Z]+=P;df(p,k.getFlatCoordinates()),g.push(R)}r=s,t=p,i=g}return r!==void 0&&i?(o.setFlatCoordinates(r,t),o.endss_=i):o.setCoordinates(t,r),o}return n.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;df(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var o=0,s=r.length;o<s;++o)r[o]+=i}this.endss_.push(r),this.changed()},n.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();var o=new n(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},n.prototype.closestPointXY=function(t,r,i,o){return o<v1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ete(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ote(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,i,o))},n.prototype.containsXY=function(t,r){return Dte(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},n.prototype.getArea=function(){return Yte(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},n.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),m9(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,Q6(r,0,this.endss_,this.stride)},n.prototype.getEndss=function(){return this.endss_},n.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=LL(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=DL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},n.prototype.getInteriorPoints=function(){return new r7(this.getFlatInteriorPoints().slice(),Oa.XYM)},n.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Zte(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=m9(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},n.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Kte(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new n(r,Oa.XY,i)},n.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var i=this.endss_[t-1];r=i[i.length-1]}var o=this.endss_[t].slice(),s=o[o.length-1];if(r!==0)for(var a=0,p=o.length;a<p;++a)o[a]-=r;return new a_(this.flatCoordinates.slice(r,s),this.layout,o)},n.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],s=0,a=0,p=i.length;a<p;++a){var g=i[a].slice(),b=g[g.length-1];if(s!==0)for(var B=0,k=g.length;B<k;++B)g[B]-=s;var P=new a_(r.slice(s,b),t,g);o.push(P),s=b}return o},n.prototype.getType=function(){return"MultiPolygon"},n.prototype.intersectsExtent=function(t){return Rte(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},n.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=kte(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},n}(C1);const zL=tne;var nne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rne=function(e){nne(n,e);function n(t){var r=this,i=t||{};return r=e.call(this)||this,r.dataProjection=js(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=js(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return n.prototype.readFeatureFromObject=function(t,r){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=q6(i.geometry,r),s=new xee;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},n.prototype.readFeaturesFromObject=function(t,r){var i=t,o=null;if(i.type==="FeatureCollection"){var s=t;o=[];for(var a=s.features,p=0,g=a.length;p<g;++p)o.push(this.readFeatureFromObject(a[p],r))}else o=[this.readFeatureFromObject(t,r)];return o},n.prototype.readGeometryFromObject=function(t,r){return q6(t,r)},n.prototype.readProjectionFromObject=function(t){var r=t.crs,i;return r?r.type=="name"?i=js(r.properties.name):r.type==="EPSG"?i=js("EPSG:"+r.properties.code):ao(!1,36):i=this.dataProjection,i},n.prototype.writeFeatureObject=function(t,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var s=t.getProperties(),a=t.getGeometry();return a&&(i.geometry=V6(a,r),delete s[t.getGeometryName()]),A1(s)||(i.properties=s),i},n.prototype.writeFeaturesObject=function(t,r){r=this.adaptOptions(r);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],r));return{type:"FeatureCollection",features:i}},n.prototype.writeGeometryObject=function(t,r){return V6(t,this.adaptOptions(r))},n}(bte);function q6(e,n){if(!e)return null;var t;switch(e.type){case"Point":{t=one(e);break}case"LineString":{t=ane(e);break}case"Polygon":{t=Ane(e);break}case"MultiPoint":{t=lne(e);break}case"MultiLineString":{t=sne(e);break}case"MultiPolygon":{t=une(e);break}case"GeometryCollection":{t=ine(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return VB(t,!1,n)}function ine(e,n){var t=e.geometries.map(function(r){return q6(r,n)});return new vte(t)}function one(e){return new o_(e.coordinates)}function ane(e){return new b3(e.coordinates)}function sne(e){return new KL(e.coordinates)}function lne(e){return new r7(e.coordinates)}function une(e){return new zL(e.coordinates)}function Ane(e){return new a_(e.coordinates)}function V6(e,n){e=VB(e,!0,n);var t=e.getType(),r;switch(t){case"Point":{r=mne(e);break}case"LineString":{r=dne(e);break}case"Polygon":{r=gne(e,n);break}case"MultiPoint":{r=fne(e);break}case"MultiLineString":{r=hne(e);break}case"MultiPolygon":{r=pne(e,n);break}case"GeometryCollection":{r=cne(e,n);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return r}function cne(e,n){var t=e.getGeometriesArray().map(function(r){var i=dl({},n);return delete i.featureProjection,V6(r,i)});return{type:"GeometryCollection",geometries:t}}function dne(e,n){return{type:"LineString",coordinates:e.getCoordinates()}}function hne(e,n){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function fne(e,n){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function pne(e,n){var t;return n&&(t=n.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(t)}}function mne(e,n){return{type:"Point",coordinates:e.getCoordinates()}}function gne(e,n){var t;return n&&(t=n.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(t)}}var yne=Vo,Cx=z4;function Vo(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Vo.Varint=0;Vo.Fixed64=1;Vo.Bytes=2;Vo.Fixed32=5;var H6=65536*65536,y9=1/H6,vne=12,jL=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Vo.prototype={destroy:function(){this.buf=null},readFields:function(e,n,t){for(t=t||this.length;this.pos<t;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,n,this),this.pos===o&&this.skip(r)}return n},readMessage:function(e,n){return this.readFields(e,n,this.readVarint()+this.pos)},readFixed32:function(){var e=_x(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=C9(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=_x(this.buf,this.pos)+_x(this.buf,this.pos+4)*H6;return this.pos+=8,e},readSFixed64:function(){var e=_x(this.buf,this.pos)+C9(this.buf,this.pos+4)*H6;return this.pos+=8,e},readFloat:function(){var e=Cx.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Cx.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var n=this.buf,t,r;return r=n[this.pos++],t=r&127,r<128||(r=n[this.pos++],t|=(r&127)<<7,r<128)||(r=n[this.pos++],t|=(r&127)<<14,r<128)||(r=n[this.pos++],t|=(r&127)<<21,r<128)?t:(r=n[this.pos],t|=(r&15)<<28,Cne(t,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,n=this.pos;return this.pos=e,e-n>=vne&&jL?Pne(this.buf,n,e):Kne(this.buf,n,e)},readBytes:function(){var e=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,e);return this.pos=e,n},readPackedVarint:function(e,n){if(this.type!==Vo.Bytes)return e.push(this.readVarint(n));var t=Hf(this);for(e=e||[];this.pos<t;)e.push(this.readVarint(n));return e},readPackedSVarint:function(e){if(this.type!==Vo.Bytes)return e.push(this.readSVarint());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Vo.Bytes)return e.push(this.readBoolean());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Vo.Bytes)return e.push(this.readFloat());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Vo.Bytes)return e.push(this.readDouble());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Vo.Bytes)return e.push(this.readFixed32());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Vo.Bytes)return e.push(this.readSFixed32());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Vo.Bytes)return e.push(this.readFixed64());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Vo.Bytes)return e.push(this.readSFixed64());var n=Hf(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed64());return e},skip:function(e){var n=e&7;if(n===Vo.Varint)for(;this.buf[this.pos++]>127;);else if(n===Vo.Bytes)this.pos=this.readVarint()+this.pos;else if(n===Vo.Fixed32)this.pos+=4;else if(n===Vo.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+n)},writeTag:function(e,n){this.writeVarint(e<<3|n)},realloc:function(e){for(var n=this.length||16;n<this.pos+e;)n*=2;if(n!==this.length){var t=new Uint8Array(n);t.set(this.buf),this.buf=t,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),sg(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),sg(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),sg(this.buf,e&-1,this.pos),sg(this.buf,Math.floor(e*y9),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),sg(this.buf,e&-1,this.pos),sg(this.buf,Math.floor(e*y9),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){_ne(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var n=this.pos;this.pos=Fne(this.buf,e,this.pos);var t=this.pos-n;t>=128&&v9(n,t,this),this.pos=n-1,this.writeVarint(t),this.pos+=t},writeFloat:function(e){this.realloc(4),Cx.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Cx.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var n=e.length;this.writeVarint(n),this.realloc(n);for(var t=0;t<n;t++)this.buf[this.pos++]=e[t]},writeRawMessage:function(e,n){this.pos++;var t=this.pos;e(n,this);var r=this.pos-t;r>=128&&v9(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,n,t){this.writeTag(e,Vo.Bytes),this.writeRawMessage(n,t)},writePackedVarint:function(e,n){n.length&&this.writeMessage(e,wne,n)},writePackedSVarint:function(e,n){n.length&&this.writeMessage(e,Mne,n)},writePackedBoolean:function(e,n){n.length&&this.writeMessage(e,One,n)},writePackedFloat:function(e,n){n.length&&this.writeMessage(e,Sne,n)},writePackedDouble:function(e,n){n.length&&this.writeMessage(e,Ene,n)},writePackedFixed32:function(e,n){n.length&&this.writeMessage(e,Bne,n)},writePackedSFixed32:function(e,n){n.length&&this.writeMessage(e,kne,n)},writePackedFixed64:function(e,n){n.length&&this.writeMessage(e,Ine,n)},writePackedSFixed64:function(e,n){n.length&&this.writeMessage(e,Tne,n)},writeBytesField:function(e,n){this.writeTag(e,Vo.Bytes),this.writeBytes(n)},writeFixed32Field:function(e,n){this.writeTag(e,Vo.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(e,n){this.writeTag(e,Vo.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(e,n){this.writeTag(e,Vo.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(e,n){this.writeTag(e,Vo.Fixed64),this.writeSFixed64(n)},writeVarintField:function(e,n){this.writeTag(e,Vo.Varint),this.writeVarint(n)},writeSVarintField:function(e,n){this.writeTag(e,Vo.Varint),this.writeSVarint(n)},writeStringField:function(e,n){this.writeTag(e,Vo.Bytes),this.writeString(n)},writeFloatField:function(e,n){this.writeTag(e,Vo.Fixed32),this.writeFloat(n)},writeDoubleField:function(e,n){this.writeTag(e,Vo.Fixed64),this.writeDouble(n)},writeBooleanField:function(e,n){this.writeVarintField(e,!!n)}};function Cne(e,n,t){var r=t.buf,i,o;if(o=r[t.pos++],i=(o&112)>>4,o<128||(o=r[t.pos++],i|=(o&127)<<3,o<128)||(o=r[t.pos++],i|=(o&127)<<10,o<128)||(o=r[t.pos++],i|=(o&127)<<17,o<128)||(o=r[t.pos++],i|=(o&127)<<24,o<128)||(o=r[t.pos++],i|=(o&1)<<31,o<128))return ag(e,i,n);throw new Error("Expected varint not more than 10 bytes")}function Hf(e){return e.type===Vo.Bytes?e.readVarint()+e.pos:e.pos+1}function ag(e,n,t){return t?n*4294967296+(e>>>0):(n>>>0)*4294967296+(e>>>0)}function _ne(e,n){var t,r;if(e>=0?(t=e%4294967296|0,r=e/4294967296|0):(t=~(-e%4294967296),r=~(-e/4294967296),t^4294967295?t=t+1|0:(t=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),bne(t,r,n),xne(r,n)}function bne(e,n,t){t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos++]=e&127|128,e>>>=7,t.buf[t.pos]=e&127}function xne(e,n){var t=(e&7)<<4;n.buf[n.pos++]|=t|((e>>>=3)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=e&127)))))}function v9(e,n,t){var r=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(Math.LN2*7));t.realloc(r);for(var i=t.pos-1;i>=e;i--)t.buf[i+r]=t.buf[i]}function wne(e,n){for(var t=0;t<e.length;t++)n.writeVarint(e[t])}function Mne(e,n){for(var t=0;t<e.length;t++)n.writeSVarint(e[t])}function Sne(e,n){for(var t=0;t<e.length;t++)n.writeFloat(e[t])}function Ene(e,n){for(var t=0;t<e.length;t++)n.writeDouble(e[t])}function One(e,n){for(var t=0;t<e.length;t++)n.writeBoolean(e[t])}function Bne(e,n){for(var t=0;t<e.length;t++)n.writeFixed32(e[t])}function kne(e,n){for(var t=0;t<e.length;t++)n.writeSFixed32(e[t])}function Ine(e,n){for(var t=0;t<e.length;t++)n.writeFixed64(e[t])}function Tne(e,n){for(var t=0;t<e.length;t++)n.writeSFixed64(e[t])}function _x(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+e[n+3]*16777216}function sg(e,n,t){e[t]=n,e[t+1]=n>>>8,e[t+2]=n>>>16,e[t+3]=n>>>24}function C9(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+(e[n+3]<<24)}function Kne(e,n,t){for(var r="",i=n;i<t;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>t)break;var p,g,b;a===1?o<128&&(s=o):a===2?(p=e[i+1],(p&192)===128&&(s=(o&31)<<6|p&63,s<=127&&(s=null))):a===3?(p=e[i+1],g=e[i+2],(p&192)===128&&(g&192)===128&&(s=(o&15)<<12|(p&63)<<6|g&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(p=e[i+1],g=e[i+2],b=e[i+3],(p&192)===128&&(g&192)===128&&(b&192)===128&&(s=(o&15)<<18|(p&63)<<12|(g&63)<<6|b&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function Pne(e,n,t){return jL.decode(e.subarray(n,t))}function Fne(e,n,t){for(var r=0,i,o;r<n.length;r++){if(i=n.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[t++]=239,e[t++]=191,e[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===n.length?(e[t++]=239,e[t++]=191,e[t++]=189):o=i;continue}else o&&(e[t++]=239,e[t++]=191,e[t++]=189,o=null);i<128?e[t++]=i:(i<2048?e[t++]=i>>6|192:(i<65536?e[t++]=i>>12|224:(e[t++]=i>>18|240,e[t++]=i>>12&63|128),e[t++]=i>>6&63|128),e[t++]=i&63|128)}return t}const Dne=ma(yne);var _9=md(),s_=function(){function e(n,t,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=n,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return e.prototype.get=function(n){return this.properties_[n]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?mL(this.flatCoordinates_):jB(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var n=jm(this.getExtent());this.flatInteriorPoints_=i7(this.flatCoordinates_,0,this.ends_,2,n,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var n=LL(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=DL(this.flatCoordinates_,0,this.ends_,2,n)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=_3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var n=this.flatCoordinates_,t=0,r=this.ends_,i=0,o=r.length;i<o;++i){var s=r[i],a=_3(n,t,s,2,.5);df(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(n){return this},e.prototype.simplifyTransformed=function(n,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(n){n=js(n);var t=n.getExtent(),r=n.getWorldExtent();if(t&&r){var i=ZA(r)/ZA(t);gf(_9,r[0],r[3],i,-i,0,0,0),Km(this.flatCoordinates_,0,this.flatCoordinates_.length,2,_9,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();s_.prototype.getEndss=s_.prototype.getEnds;s_.prototype.getFlatCoordinates=s_.prototype.getOrientedFlatCoordinates;const Z6=s_;var Une=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rne=function(e){Une(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.dataProjection=new NB({code:"",units:yA.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:Z6,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return n.prototype.readRawGeometry_=function(t,r,i,o){t.pos=r.geometry;for(var s=t.readVarint()+t.pos,a=1,p=0,g=0,b=0,B=0,k=0;t.pos<s;){if(!p){var P=t.readVarint();a=P&7,p=P>>3}p--,a===1||a===2?(g+=t.readSVarint(),b+=t.readSVarint(),a===1&&B>k&&(o.push(B),k=B),i.push(g,b),B+=2):a===7?B>k&&(i.push(i[k],i[k+1]),B+=2):ao(!1,59)}B>k&&(o.push(B),k=B)},n.prototype.createFeature_=function(t,r,i){var o=r.type;if(o===0)return null;var s,a=r.properties,p;this.idProperty_?(p=a[this.idProperty_],delete a[this.idProperty_]):p=r.id,a[this.layerName_]=r.layer.name;var g=[],b=[];this.readRawGeometry_(t,r,g,b);var B=Nne(o,b.length);if(this.featureClass_===Z6)s=new this.featureClass_(B,g,b,a,p),s.transform(i.dataProjection);else{var k=void 0;if(B=="Polygon"){var P=Xte(g,b);k=P.length>1?new zL(g,Oa.XY,P):new a_(g,Oa.XY,b)}else k=B==="Point"?new o_(g,Oa.XY):B==="LineString"?new b3(g,Oa.XY):B==="MultiPoint"?new r7(g,Oa.XY):B==="MultiLineString"?new KL(g,Oa.XY,b):null;var R=this.featureClass_;s=new R,this.geometryName_&&s.setGeometryName(this.geometryName_);var Z=VB(k,!1,i);s.setGeometry(Z),p!==void 0&&s.setId(p),s.setProperties(a,!0)}return s},n.prototype.getType=function(){return"arraybuffer"},n.prototype.readFeatures=function(t,r){var i=this.layers_,o=this.adaptOptions(r),s=js(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var a=new Dne(t),p=a.readFields(Lne,{}),g=[];for(var b in p)if(!(i&&i.indexOf(b)==-1)){var B=p[b],k=B?[0,0,B.extent,B.extent]:null;s.setExtent(k);for(var P=0,R=B.length;P<R;++P){var Z=Wne(a,B,P),W=this.createFeature_(a,Z,o);W!==null&&g.push(W)}}return g},n.prototype.readProjection=function(t){return this.dataProjection},n.prototype.setLayers=function(t){this.layers_=t},n}(EL);function Lne(e,n,t){if(e===3){var r={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(zne,r,i),r.length=r.features.length,r.length&&(n[r.name]=r)}}function zne(e,n,t){if(e===15)n.version=t.readVarint();else if(e===1)n.name=t.readString();else if(e===5)n.extent=t.readVarint();else if(e===2)n.features.push(t.pos);else if(e===3)n.keys.push(t.readString());else if(e===4){for(var r=null,i=t.readVarint()+t.pos;t.pos<i;)e=t.readVarint()>>3,r=e===1?t.readString():e===2?t.readFloat():e===3?t.readDouble():e===4?t.readVarint64():e===5?t.readVarint():e===6?t.readSVarint():e===7?t.readBoolean():null;n.values.push(r)}}function jne(e,n,t){if(e==1)n.id=t.readVarint();else if(e==2)for(var r=t.readVarint()+t.pos;t.pos<r;){var i=n.layer.keys[t.readVarint()],o=n.layer.values[t.readVarint()];n.properties[i]=o}else e==3?n.type=t.readVarint():e==4&&(n.geometry=t.pos)}function Wne(e,n,t){e.pos=n.features[t];var r=e.readVarint()+e.pos,i={layer:n,type:0,properties:{}};return e.readFields(jne,i,r),i}function Nne(e,n){var t;return e===1?t=n===1?"Point":"MultiPoint":e===2?t=n===1?"LineString":"MultiLineString":e===3&&(t="Polygon"),t}const Gne=Rne;var Qne=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,$ne=/^([a-z]*)$|^hsla?\(.*\)$/i;function WL(e){return typeof e=="string"?e:NL(e)}function Yne(e){var n=document.createElement("div");if(n.style.color=e,n.style.color!==""){document.body.appendChild(n);var t=getComputedStyle(n).color;return document.body.removeChild(n),t}else return""}var qne=function(){var e=1024,n={},t=0;return function(r){var i;if(n.hasOwnProperty(r))i=n[r];else{if(t>=e){var o=0;for(var s in n)o++&3||(delete n[s],--t)}i=Vne(r),n[r]=i,++t}return i}}();function x3(e){return Array.isArray(e)?e:qne(e)}function Vne(e){var n,t,r,i,o;if($ne.exec(e)&&(e=Yne(e)),Qne.exec(e)){var s=e.length-1,a=void 0;s<=4?a=1:a=2;var p=s===4||s===8;n=parseInt(e.substr(1+0*a,a),16),t=parseInt(e.substr(1+1*a,a),16),r=parseInt(e.substr(1+2*a,a),16),p?i=parseInt(e.substr(1+3*a,a),16):i=255,a==1&&(n=(n<<4)+n,t=(t<<4)+t,r=(r<<4)+r,p&&(i=(i<<4)+i)),o=[n,t,r,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),b9(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),b9(o)):ao(!1,14);return o}function b9(e){return e[0]=Bl(e[0]+.5|0,0,255),e[1]=Bl(e[1]+.5|0,0,255),e[2]=Bl(e[2]+.5|0,0,255),e[3]=Bl(e[3],0,1),e}function NL(e){var n=e[0];n!=(n|0)&&(n=n+.5|0);var t=e[1];t!=(t|0)&&(t=t+.5|0);var r=e[2];r!=(r|0)&&(r=r+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+n+","+t+","+r+","+i+")"}var Hne=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var n=0;for(var t in this.cache_){var r=this.cache_[t];!(n++&3)&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(n,t,r){var i=x9(n,t,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(n,t,r,i){var o=x9(n,t,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(n){this.maxCacheSize_=n,this.expire()},e}();function x9(e,n,t){var r=t?WL(t):"null";return n+":"+e+":"+r}var w3=new Hne;const ha={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var Zne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xne=function(e){Zne(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var i=dl({},t);return typeof t.properties=="object"&&(delete i.properties,dl(i,t.properties)),i[ha.OPACITY]=t.opacity!==void 0?t.opacity:1,ao(typeof i[ha.OPACITY]=="number",64),i[ha.VISIBLE]=t.visible!==void 0?t.visible:!0,i[ha.Z_INDEX]=t.zIndex,i[ha.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[ha.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[ha.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[ha.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return n.prototype.getBackground=function(){return this.background_},n.prototype.getClassName=function(){return this.className_},n.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return r.opacity=Bl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},n.prototype.getLayersArray=function(t){return si()},n.prototype.getLayerStatesArray=function(t){return si()},n.prototype.getExtent=function(){return this.get(ha.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(ha.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(ha.MIN_RESOLUTION)},n.prototype.getMinZoom=function(){return this.get(ha.MIN_ZOOM)},n.prototype.getMaxZoom=function(){return this.get(ha.MAX_ZOOM)},n.prototype.getOpacity=function(){return this.get(ha.OPACITY)},n.prototype.getSourceState=function(){return si()},n.prototype.getVisible=function(){return this.get(ha.VISIBLE)},n.prototype.getZIndex=function(){return this.get(ha.Z_INDEX)},n.prototype.setBackground=function(t){this.background_=t,this.changed()},n.prototype.setExtent=function(t){this.set(ha.EXTENT,t)},n.prototype.setMaxResolution=function(t){this.set(ha.MAX_RESOLUTION,t)},n.prototype.setMinResolution=function(t){this.set(ha.MIN_RESOLUTION,t)},n.prototype.setMaxZoom=function(t){this.set(ha.MAX_ZOOM,t)},n.prototype.setMinZoom=function(t){this.set(ha.MIN_ZOOM,t)},n.prototype.setOpacity=function(t){ao(typeof t=="number",64),this.set(ha.OPACITY,t)},n.prototype.setVisible=function(t){this.set(ha.VISIBLE,t)},n.prototype.setZIndex=function(t){this.set(ha.Z_INDEX,t)},n.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},n}(Ah);const GL=Xne,Pm={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Jne=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A5=function(e){Jne(n,e);function n(t){var r=this,i=dl({},t);delete i.source,r=e.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(ha.SOURCE,r.handleSourcePropertyChange_);var o=t.source?t.source:null;return r.setSource(o),r}return n.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},n.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},n.prototype.getSource=function(){return this.get(ha.SOURCE)||null},n.prototype.getRenderSource=function(){return this.getSource()},n.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},n.prototype.handleSourceChange_=function(){this.changed()},n.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Qa(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=bo(t,Bi.CHANGE,this.handleSourceChange_,this)),this.changed()},n.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},n.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},n.prototype.render=function(t,r){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,r)},n.prototype.unrender=function(){this.rendered=!1},n.prototype.setMapInternal=function(t){t||this.unrender(),this.set(ha.MAP,t)},n.prototype.getMapInternal=function(){return this.get(ha.MAP)},n.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Qa(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Qa(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=bo(t,Pm.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);ao(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=bo(this,Bi.CHANGE,t.render,t),this.changed())},n.prototype.setSource=function(t){this.set(ha.SOURCE,t)},n.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},n.prototype.hasRenderer=function(){return!!this.renderer_},n.prototype.createRenderer=function(){return null},n.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},n}(GL);function M3(e,n){if(!e.visible)return!1;var t=n.resolution;if(t<e.minResolution||t>=e.maxResolution)return!1;var r=n.zoom;return r>e.minZoom&&r<=e.maxZoom}var ere=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tre=function(e){ere(n,e);function n(t){var r=e.call(this)||this;return r.map_=t,r}return n.prototype.dispatchRenderEvent=function(t,r){si()},n.prototype.calculateMatrices2D=function(t){var r=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;gf(i,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),LB(o,i)},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s,a,p,g){var b,B=r.viewState;function k(Ce,Rt,jt,tn){return s.call(a,Rt,Ce?jt:null,tn)}var P=B.projection,R=QB(t.slice(),P),Z=[[0,0]];if(P.canWrapX()&&o){var W=P.getExtent(),Q=ls(W);Z.push([-Q,0],[Q,0])}for(var q=r.layerStatesArray,oe=q.length,re=[],ce=[],se=0;se<Z.length;se++)for(var le=oe-1;le>=0;--le){var ye=q[le],De=ye.layer;if(De.hasRenderer()&&M3(ye,B)&&p.call(g,De)){var Ne=De.getRenderer(),et=De.getSource();if(Ne&&et){var ft=et.getWrapX()?R:t,Ke=k.bind(null,ye.managed);ce[0]=ft[0]+Z[se][0],ce[1]=ft[1]+Z[se][1],b=Ne.forEachFeatureAtCoordinate(ce,r,i,Ke,re)}if(b)return b}}if(re.length!==0){var rt=1/re.length;return re.forEach(function(Ce,Rt){return Ce.distanceSq+=Rt*rt}),re.sort(function(Ce,Rt){return Ce.distanceSq-Rt.distanceSq}),re.some(function(Ce){return b=Ce.callback(Ce.feature,Ce.layer,Ce.geometry)}),b}},n.prototype.forEachLayerAtPixel=function(t,r,i,o,s){return si()},n.prototype.hasFeatureAtCoordinate=function(t,r,i,o,s,a){var p=this.forEachFeatureAtCoordinate(t,r,i,o,ny,this,s,a);return p!==void 0},n.prototype.getMap=function(){return this.map_},n.prototype.renderFrame=function(t){si()},n.prototype.scheduleExpireIconCache=function(t){w3.canExpireCache()&&t.postRenderFunctions.push(nre)},n}(DB);function nre(e,n){w3.expire()}const rre=tre;var ire=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QL=function(e){ire(n,e);function n(t,r,i,o){var s=e.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return n}(Ep),bx="ol-hidden",ore="ol-selectable",c5="ol-unselectable",a7="ol-control",w9="ol-collapsed",are=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),M9=["style","variant","weight","size","lineHeight","family"],$L=function(e){var n=e.match(are);if(!n)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=M9.length;r<i;++r){var o=n[r+1];o!==void 0&&(t[M9[r]]=o)}return t.families=t.family.split(/,\s?/),t};function XA(e,n,t,r){var i;return t&&t.length?i=t.shift():n5?i=new OffscreenCanvas(e||300,n||300):i=document.createElement("canvas"),e&&(i.width=e),n&&(i.height=n),i.getContext("2d",r)}function s7(e){var n=e.canvas;n.width=1,n.height=1,e.clearRect(0,0,1,1)}function sre(e){var n=e.offsetWidth,t=getComputedStyle(e);return n+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),n}function lre(e){var n=e.offsetHeight,t=getComputedStyle(e);return n+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),n}function S9(e,n){var t=n.parentNode;t&&t.replaceChild(e,n)}function S3(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function YL(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function ure(e,n){for(var t=e.childNodes,r=0;;++r){var i=t[r],o=n[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}var qL="10px sans-serif",bp="#000",E3="round",l_=[],u_=0,Sy="round",A_=10,c_="#000",d_="center",O3="middle",z0=[0,0,0,0],h_=1,ip=new Ah,X6=new jy;X6.setSize=function(){console.warn("labelCache is deprecated.")};var bg=null,J6,eE={},Are=function(){var e=100,n="32px ",t=["monospace","serif"],r=t.length,i="wmytzilWMYTZIL@#/&?$%10",o,s;function a(g,b,B){for(var k=!0,P=0;P<r;++P){var R=t[P];if(s=B3(g+" "+b+" "+n+R,i),B!=R){var Z=B3(g+" "+b+" "+n+B+","+R,i);k=k&&Z!=s}}return!!k}function p(){for(var g=!0,b=ip.getKeys(),B=0,k=b.length;B<k;++B){var P=b[B];ip.get(P)<e&&(a.apply(this,P.split(`
`))?(z_(eE),bg=null,J6=void 0,ip.set(P,e)):(ip.set(P,ip.get(P)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){var b=$L(g);if(b)for(var B=b.families,k=0,P=B.length;k<P;++k){var R=B[k],Z=b.style+`
`+b.weight+`
`+R;ip.get(Z)===void 0&&(ip.set(Z,e,!0),a(b.style,b.weight,R)||(ip.set(Z,0,!0),o===void 0&&(o=setInterval(p,32))))}}}(),cre=function(){var e;return function(n){var t=eE[n];if(t==null){if(n5){var r=$L(n),i=VL(n,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=n,document.body.appendChild(e),t=e.offsetHeight,document.body.removeChild(e);eE[n]=t}return t}}();function VL(e,n){return bg||(bg=XA(1,1)),e!=J6&&(bg.font=e,J6=bg.font),bg.measureText(n)}function B3(e,n){return VL(e,n).width}function E9(e,n,t){if(n in t)return t[n];var r=n.split(`
`).reduce(function(i,o){return Math.max(i,B3(e,o))},0);return t[n]=r,r}function dre(e,n){for(var t=[],r=[],i=[],o=0,s=0,a=0,p=0,g=0,b=n.length;g<=b;g+=2){var B=n[g];if(B===`
`||g===b){o=Math.max(o,s),i.push(s),s=0,a+=p;continue}var k=n[g+1]||e.font,P=B3(k,B);t.push(P),s+=P;var R=cre(k);r.push(R),p=Math.max(p,R)}return{width:o,height:a,widths:t,heights:r,lineWidths:i}}function hre(e,n,t,r,i,o,s,a,p,g,b){e.save(),t!==1&&(e.globalAlpha*=t),n&&e.setTransform.apply(e,n),r.contextInstructions?(e.translate(p,g),e.scale(b[0],b[1]),fre(r,e)):b[0]<0||b[1]<0?(e.translate(p,g),e.scale(b[0],b[1]),e.drawImage(r,i,o,s,a,0,0,s,a)):e.drawImage(r,i,o,s,a,p,g,s*b[0],a*b[1]),e.restore()}function fre(e,n){for(var t=e.contextInstructions,r=0,i=t.length;r<i;r+=2)Array.isArray(t[r+1])?n[t[r]].apply(n,t[r+1]):n[t[r]]=t[r+1]}var pre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mre=function(e){pre(n,e);function n(t){var r=e.call(this,t)||this;r.fontChangeListenerKey_=bo(ip,wy.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=c5+" ol-layers";var o=t.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return n.prototype.dispatchRenderEvent=function(t,r){var i=this.getMap();if(i.hasListener(t)){var o=new QL(t,void 0,r);i.dispatchEvent(o)}},n.prototype.disposeInternal=function(){Qa(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},n.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Pm.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(P,R){return P.zIndex-R.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],s=null,a=0,p=r.length;a<p;++a){var g=r[a];t.layerIndex=a;var b=g.layer,B=b.getSourceState();if(!M3(g,i)||B!="ready"&&B!="undefined"){b.unrender();continue}var k=b.render(t,s);k&&(k!==s&&(this.children_.push(k),s=k),"getDeclutter"in b&&o.push(b))}for(var a=o.length-1;a>=0;--a)o[a].renderDeclutter(t);ure(this.element_,this.children_),this.dispatchRenderEvent(Pm.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},n.prototype.forEachLayerAtPixel=function(t,r,i,o,s){for(var a=r.viewState,p=r.layerStatesArray,g=p.length,b=g-1;b>=0;--b){var B=p[b],k=B.layer;if(k.hasRenderer()&&M3(B,a)&&s(k)){var P=k.getRenderer(),R=P.getDataAtPixel(t,r,i);if(R){var Z=o(k,R);if(Z)return Z}}}},n}(rre);const gre=mre,YA={ADD:"add",REMOVE:"remove"};var HL=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),O9={LENGTH:"length"},xx=function(e){HL(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.element=r,o.index=i,o}return n}(Ep),fd=function(e){HL(n,e);function n(t,r){var i=e.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return n.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},n.prototype.extend=function(t){for(var r=0,i=t.length;r<i;++r)this.push(t[r]);return this},n.prototype.forEach=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)t(r[i],i,r)},n.prototype.getArray=function(){return this.array_},n.prototype.item=function(t){return this.array_[t]},n.prototype.getLength=function(){return this.get(O9.LENGTH)},n.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new xx(YA.ADD,r,t))},n.prototype.pop=function(){return this.removeAt(this.getLength()-1)},n.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},n.prototype.remove=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===t)return this.removeAt(i)},n.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new xx(YA.REMOVE,r,t)),r},n.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var o=this.array_[t];this.array_[t]=r,this.dispatchEvent(new xx(YA.REMOVE,o,t)),this.dispatchEvent(new xx(YA.ADD,r,t))}else{for(var s=i;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},n.prototype.updateLength_=function(){this.set(O9.LENGTH,this.array_.length)},n.prototype.assertUnique_=function(t,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==r)throw new AL(58)},n}(Ah),ZL=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),om=function(e){ZL(n,e);function n(t,r){var i=e.call(this,t)||this;return i.layer=r,i}return n}(Ep),lM={LAYERS:"layers"},yre=function(e){ZL(n,e);function n(t){var r=this,i=t||{},o=dl({},i);delete o.layers;var s=i.layers;return r=e.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(lM.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new fd(s.slice(),{unique:!0}):ao(typeof s.getArray=="function",43):s=new fd(void 0,{unique:!0}),r.setLayers(s),r}return n.prototype.handleLayerChange_=function(){this.changed()},n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Qa),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(bo(t,YA.ADD,this.handleLayersAdd_,this),bo(t,YA.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(Qa);z_(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.registerLayerListeners_(a),this.dispatchEvent(new om("addlayer",a))}this.changed()},n.prototype.registerLayerListeners_=function(t){var r=[bo(t,wy.PROPERTYCHANGE,this.handleLayerChange_,this),bo(t,Bi.CHANGE,this.handleLayerChange_,this)];t instanceof n&&r.push(bo(t,"addlayer",this.handleLayerGroupAdd_,this),bo(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ni(t)]=r},n.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new om("addlayer",t.layer))},n.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new om("removelayer",t.layer))},n.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new om("addlayer",r)),this.changed()},n.prototype.handleLayersRemove_=function(t){var r=t.element,i=Ni(r);this.listenerKeys_[i].forEach(Qa),delete this.listenerKeys_[i],this.dispatchEvent(new om("removelayer",r)),this.changed()},n.prototype.getLayers=function(){return this.get(lM.LAYERS)},n.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new om("removelayer",i[o]));this.set(lM.LAYERS,t)},n.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},n.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],i=r.length;this.getLayers().forEach(function(b){b.getLayerStatesArray(r)});var o=this.getLayerState(),s=o.zIndex;!t&&o.zIndex===void 0&&(s=0);for(var a=i,p=r.length;a<p;a++){var g=r[a];g.opacity*=o.opacity,g.visible=g.visible&&o.visible,g.maxResolution=Math.min(g.maxResolution,o.maxResolution),g.minResolution=Math.max(g.minResolution,o.minResolution),g.minZoom=Math.max(g.minZoom,o.minZoom),g.maxZoom=Math.min(g.maxZoom,o.maxZoom),o.extent!==void 0&&(g.extent!==void 0?g.extent=V0(g.extent,o.extent):g.extent=o.extent),g.zIndex===void 0&&(g.zIndex=s)}return r},n.prototype.getSourceState=function(){return"ready"},n}(GL);const d5=yre;var vre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xg=function(e){vre(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return n}(Ep),Cre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nm=function(e){Cre(n,e);function n(t,r,i,o,s,a){var p=e.call(this,t,r,s)||this;return p.originalEvent=i,p.pixel_=null,p.coordinate_=null,p.dragging=o!==void 0?o:!1,p.activePointers=a,p}return Object.defineProperty(n.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),n.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},n}(xg);const Xs={SINGLECLICK:"singleclick",CLICK:Bi.CLICK,DBLCLICK:Bi.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tE={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var _re=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bre=function(e){_re(n,e);function n(t,r){var i=e.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=bo(o,tE.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=bo(o,tE.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Bi.TOUCHMOVE,i.boundHandleTouchMove_,dL?{passive:!1}:!1),i}return n.prototype.emulateClick_=function(t){var r=new nm(Xs.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new nm(Xs.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new nm(Xs.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}).bind(this),250)},n.prototype.updateActivePointers_=function(t){var r=t,i=r.pointerId;if(r.type==Xs.POINTERUP||r.type==Xs.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==Xs.POINTERDOWN||r.type==Xs.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=sL(this.trackedTouches_)},n.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new nm(Xs.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Qa),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},n.prototype.isMouseActionButton_=function(t){return t.button===0},n.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);var r=new nm(Xs.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?u1:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(bo(s,Xs.POINTERMOVE,this.handlePointerMove_,this),bo(s,Xs.POINTERUP,this.handlePointerUp_,this),bo(this.element_,Xs.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(bo(this.element_.getRootNode(),Xs.POINTERUP,this.handlePointerUp_,this))}},n.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var r=new nm(Xs.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},n.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new nm(Xs.POINTERMOVE,this.map_,t,r))},n.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},n.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},n.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Qa(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Bi.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Qa(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Qa),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},n}(jy);const xre=bre,op={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Yu={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var k3=1/0,wre=function(){function e(n,t){this.priorityFunction_=n,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,z_(this.queuedElements_)},e.prototype.dequeue=function(){var n=this.elements_,t=this.priorities_,r=n[0];n.length==1?(n.length=0,t.length=0):(n[0]=n.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(n){ao(!(this.keyFunction_(n)in this.queuedElements_),31);var t=this.priorityFunction_(n);return t!=k3?(this.elements_.push(n),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(n)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(n){return n*2+1},e.prototype.getRightChildIndex_=function(n){return n*2+2},e.prototype.getParentIndex_=function(n){return n-1>>1},e.prototype.heapify_=function(){var n;for(n=(this.elements_.length>>1)-1;n>=0;n--)this.siftUp_(n)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(n){return n in this.queuedElements_},e.prototype.isQueued=function(n){return this.isKeyQueued(this.keyFunction_(n))},e.prototype.siftUp_=function(n){for(var t=this.elements_,r=this.priorities_,i=t.length,o=t[n],s=r[n],a=n;n<i>>1;){var p=this.getLeftChildIndex_(n),g=this.getRightChildIndex_(n),b=g<i&&r[g]<r[p]?g:p;t[n]=t[b],r[n]=r[b],n=b}t[n]=o,r[n]=s,this.siftDown_(a,n)},e.prototype.siftDown_=function(n,t){for(var r=this.elements_,i=this.priorities_,o=r[t],s=i[t];t>n;){var a=this.getParentIndex_(t);if(i[a]>s)r[t]=r[a],i[t]=i[a],t=a;else break}r[t]=o,i[t]=s},e.prototype.reprioritize=function(){var n=this.priorityFunction_,t=this.elements_,r=this.priorities_,i=0,o=t.length,s,a,p;for(a=0;a<o;++a)s=t[a],p=n(s),p==k3?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=p,t[i++]=s);t.length=i,r.length=i,this.heapify_()},e}();const Mre=wre,pr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Sre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ere=function(e){Sre(n,e);function n(t,r){var i=e.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return n.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);if(r){var i=t[0];i.addEventListener(Bi.CHANGE,this.boundHandleTileChange_)}return r},n.prototype.getTilesLoading=function(){return this.tilesLoading_},n.prototype.handleTileChange=function(t){var r=t.target,i=r.getState();if(i===pr.LOADED||i===pr.ERROR||i===pr.EMPTY){r.removeEventListener(Bi.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},n.prototype.loadMoreTiles=function(t,r){for(var i=0,o,s,a;this.tilesLoading_<t&&i<r&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),o=s.getState(),o===pr.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},n}(Mre);const Ore=Ere;function Bre(e,n,t,r,i){if(!e||!(t in e.wantedTiles)||!e.wantedTiles[t][n.getKey()])return k3;var o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}const Js={ANIMATING:0,INTERACTING:1},Xd={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var XL=42,l7=256;function B9(e,n,t){return function(r,i,o,s,a){if(r){if(!i&&!n)return r;var p=n?0:o[0]*i,g=n?0:o[1]*i,b=a?a[0]:0,B=a?a[1]:0,k=e[0]+p/2+b,P=e[2]-p/2+b,R=e[1]+g/2+B,Z=e[3]-g/2+B;k>P&&(k=(P+k)/2,P=k),R>Z&&(R=(Z+R)/2,Z=R);var W=Bl(r[0],k,P),Q=Bl(r[1],R,Z);if(s&&t&&i){var q=30*i;W+=-q*Math.log(1+Math.max(0,k-r[0])/q)+q*Math.log(1+Math.max(0,r[0]-P)/q),Q+=-q*Math.log(1+Math.max(0,R-r[1])/q)+q*Math.log(1+Math.max(0,r[1]-Z)/q)}return[W,Q]}}}function kre(e){return e}function u7(e,n,t,r){var i=ls(n)/t[0],o=ZA(n)/t[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function A7(e,n,t){var r=Math.min(e,n),i=50;return r*=Math.log(1+i*Math.max(0,e/n-1))/i+1,t&&(r=Math.max(r,t),r/=Math.log(1+i*Math.max(0,t/e-1))/i+1),Bl(r,t/2,n*2)}function Ire(e,n,t,r){return function(i,o,s,a){if(i!==void 0){var p=e[0],g=e[e.length-1],b=t?u7(p,t,s,r):p;if(a){var B=n!==void 0?n:!0;return B?A7(i,b,g):Bl(i,g,b)}var k=Math.min(b,i),P=Math.floor(UB(e,k,o));return e[P]>b&&P<e.length-1?e[P+1]:e[P]}else return}}function Tre(e,n,t,r,i,o){return function(s,a,p,g){if(s!==void 0){var b=i?u7(n,i,p,o):n,B=t!==void 0?t:0;if(g){var k=r!==void 0?r:!0;return k?A7(s,b,B):Bl(s,B,b)}var P=1e-9,R=Math.ceil(Math.log(n/b)/Math.log(e)-P),Z=-a*(.5-P)+.5,W=Math.min(b,s),Q=Math.floor(Math.log(n/W)/Math.log(e)+Z),q=Math.max(R,Q),oe=n/Math.pow(e,q);return Bl(oe,B,b)}else return}}function k9(e,n,t,r,i){return function(o,s,a,p){if(o!==void 0){var g=r?u7(e,r,a,i):e,b=t!==void 0?t:!0;return!b||!p?Bl(o,n,g):A7(o,g,n)}else return}}function c7(e){if(e!==void 0)return 0}function I9(e){if(e!==void 0)return e}function Kre(e){var n=2*Math.PI/e;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/n+.5)*n,t}}function Pre(e){var n=e||m2(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=n?0:t}}function JL(e){return Math.pow(e,3)}function Wy(e){return 1-JL(1-e)}function Fre(e){return 3*e*e-2*e*e*e}function Dre(e){return e}var Ure=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uM=0,pp=function(e){Ure(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=dl({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=YB(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&bL(),i.center&&(i.center=rp(i.center,r.projection_)),i.extent&&(i.extent=R0(i.extent,r.projection_)),r.applyOptions_(i),r}return n.prototype.applyOptions_=function(t){var r=dl({},t);for(var i in Xd)delete r[i];this.setProperties(r,!0);var o=Lre(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var s=Rre(t),a=o.constraint,p=zre(t);this.constraints_={center:s,resolution:a,rotation:p},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(n.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),a=s/2*(o[3]-r[3]+r[1]-o[1]),p=s/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+a,i[1]-p])}},enumerable:!1,configurable:!0}),n.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),dl({},r,t)},n.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=dl({},o),o.center=rp(o.center,this.getProjection())),o.anchor&&(o=dl({},o),o.anchor=rp(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},n.prototype.animateInternal=function(t){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===r){i&&wx(i,!0);return}for(var a=Date.now(),p=this.targetCenter_.slice(),g=this.targetResolution_,b=this.targetRotation_,B=[];o<r;++o){var k=arguments[o],P={start:a,complete:!1,anchor:k.anchor,duration:k.duration!==void 0?k.duration:1e3,easing:k.easing||Fre,callback:i};if(k.center&&(P.sourceCenter=p,P.targetCenter=k.center.slice(),p=P.targetCenter),k.zoom!==void 0?(P.sourceResolution=g,P.targetResolution=this.getResolutionForZoom(k.zoom),g=P.targetResolution):k.resolution&&(P.sourceResolution=g,P.targetResolution=k.resolution,g=P.targetResolution),k.rotation!==void 0){P.sourceRotation=b;var R=Z0(k.rotation-b+Math.PI,2*Math.PI)-Math.PI;P.targetRotation=b+R,b=P.targetRotation}jre(P)?P.complete=!0:a+=P.duration,B.push(P)}this.animations_.push(B),this.setHint(Js.ANIMATING,1),this.updateAnimations_()},n.prototype.getAnimating=function(){return this.hints_[Js.ANIMATING]>0},n.prototype.getInteracting=function(){return this.hints_[Js.INTERACTING]>0},n.prototype.cancelAnimations=function(){this.setHint(Js.ANIMATING,-this.hints_[Js.ANIMATING]);for(var t,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&wx(o[0].callback,!1),!t)for(var s=0,a=o.length;s<a;++s){var p=o[s];if(!p.complete){t=p.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},n.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,p=o.length;a<p;++a){var g=o[a];if(!g.complete){var b=t-g.start,B=g.duration>0?b/g.duration:1;B>=1?(g.complete=!0,B=1):s=!1;var k=g.easing(B);if(g.sourceCenter){var P=g.sourceCenter[0],R=g.sourceCenter[1],Z=g.targetCenter[0],W=g.targetCenter[1];this.nextCenter_=g.targetCenter;var Q=P+k*(Z-P),q=R+k*(W-R);this.targetCenter_=[Q,q]}if(g.sourceResolution&&g.targetResolution){var oe=k===1?g.targetResolution:g.sourceResolution+k*(g.targetResolution-g.sourceResolution);if(g.anchor){var re=this.getViewportSize_(this.getRotation()),ce=this.constraints_.resolution(oe,0,re,!0);this.targetCenter_=this.calculateCenterZoom(ce,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=oe,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var se=k===1?Z0(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+k*(g.targetRotation-g.sourceRotation);if(g.anchor){var le=this.constraints_.rotation(se,!0);this.targetCenter_=this.calculateCenterRotate(le,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=se}if(this.applyTargetState_(!0),r=!0,!g.complete)break}}if(s){this.animations_[i]=null,this.setHint(Js.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var ye=o[0].callback;ye&&wx(ye,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},n.prototype.calculateCenterRotate=function(t,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],GB(i,t-this.getRotation()),rte(i,r)),i},n.prototype.calculateCenterZoom=function(t,r){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var a=r[0]-t*(r[0]-o[0])/s,p=r[1]-t*(r[1]-o[1])/s;i=[a,p]}return i},n.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return r},n.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},n.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&G6(t,this.getProjection())},n.prototype.getCenterInternal=function(){return this.get(Xd.CENTER)},n.prototype.getConstraints=function(){return this.constraints_},n.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},n.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},n.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return wL(r,this.getProjection())},n.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();ao(i,1);var o=this.getResolution();ao(o!==void 0,2);var s=this.getRotation();return ao(s!==void 0,3),L6(i,o,s,r)},n.prototype.getMaxResolution=function(){return this.maxResolution_},n.prototype.getMinResolution=function(){return this.minResolution_},n.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},n.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},n.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},n.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},n.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolution=function(){return this.get(Xd.RESOLUTION)},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(R0(t,this.getProjection()),r)},n.prototype.getResolutionForExtentInternal=function(t,r){var i=r||this.getViewportSizeMinusPadding_(),o=ls(t)/i[0],s=ZA(t)/i[1];return Math.max(o,s)},n.prototype.getResolutionForValueFunction=function(t){var r=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(r);return function(a){var p=i/Math.pow(r,a*s);return p}},n.prototype.getRotation=function(){return this.get(Xd.ROTATION)},n.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/r;return function(a){var p=Math.log(i/a)/r/s;return p}},n.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},n.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var a=this.getViewportSizeMinusPadding_();o=AM(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},n.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},n.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,i,o;if(this.resolutions_){var s=UB(this.resolutions_,t,1);r=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/t)/Math.log(o)},n.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Bl(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Bl(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},n.prototype.fit=function(t,r){var i;if(ao(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){ao(!WB(t),25);var o=R0(t,this.getProjection());i=g9(o)}else if(t.getType()==="Circle"){var o=R0(t.getExtent(),this.getProjection());i=g9(o),i.rotate(this.getRotation(),jm(o))}else{var s=cte();s?i=t.clone().transform(s,this.getProjection()):i=t}this.fitInternal(i,r)},n.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),s=t.getFlatCoordinates(),a=t.getStride(),p=1/0,g=1/0,b=-1/0,B=-1/0,k=0,P=s.length;k<P;k+=a){var R=s[k]*i-s[k+1]*o,Z=s[k]*o+s[k+1]*i;p=Math.min(p,R),g=Math.min(g,Z),b=Math.max(b,R),B=Math.max(B,Z)}return[p,g,b,B]},n.prototype.fitInternal=function(t,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],a=i.nearest!==void 0?i.nearest:!1,p;i.minResolution!==void 0?p=i.minResolution:i.maxZoom!==void 0?p=this.getResolutionForZoom(i.maxZoom):p=0;var g=this.rotatedExtentForGeometry(t),b=this.getResolutionForExtentInternal(g,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);b=isNaN(b)?p:Math.max(b,p),b=this.getConstrainedResolution(b,a?0:1);var B=this.getRotation(),k=Math.sin(B),P=Math.cos(B),R=jm(g);R[0]+=(s[1]-s[3])/2*b,R[1]+=(s[0]-s[2])/2*b;var Z=R[0]*P-R[1]*k,W=R[1]*P+R[0]*k,Q=this.getConstrainedCenter([Z,W],b),q=i.callback?i.callback:u1;i.duration!==void 0?this.animateInternal({resolution:b,center:Q,duration:i.duration,easing:i.easing},q):(this.targetResolution_=b,this.targetCenter_=Q,this.applyTargetState_(!1,!0),wx(q,!0))},n.prototype.centerOn=function(t,r,i){this.centerOnInternal(rp(t,this.getProjection()),r,i)},n.prototype.centerOnInternal=function(t,r,i){this.setCenterInternal(AM(t,r,i,this.getResolution(),this.getRotation()))},n.prototype.calculateCenterShift=function(t,r,i,o){var s,a=this.padding_;if(a&&t){var p=this.getViewportSizeMinusPadding_(-i),g=AM(t,o,[p[0]/2+a[3],p[1]/2+a[0]],r,i);s=[t[0]-g[0],t[1]-g[1]]}return s},n.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},n.prototype.adjustCenter=function(t){var r=G6(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},n.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},n.prototype.adjustResolution=function(t,r){var i=r&&rp(r,this.getProjection());this.adjustResolutionInternal(t,i)},n.prototype.adjustResolutionInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},n.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},n.prototype.adjustRotation=function(t,r){r&&(r=rp(r,this.getProjection())),this.adjustRotationInternal(t,r)},n.prototype.adjustRotationInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=t,this.applyTargetState_()},n.prototype.setCenter=function(t){this.setCenterInternal(t&&rp(t,this.getProjection()))},n.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},n.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},n.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},n.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},n.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},n.prototype.applyTargetState_=function(t,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),p=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get(Xd.ROTATION)!==o&&this.set(Xd.ROTATION,o),this.get(Xd.RESOLUTION)!==a&&(this.set(Xd.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!p||!this.get(Xd.CENTER)||!v3(this.get(Xd.CENTER),p))&&this.set(Xd.CENTER,p),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},n.prototype.resolveConstraints=function(t,r,i){var o=t!==void 0?t:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),p=this.getViewportSize_(a),g=this.constraints_.resolution(this.targetResolution_,s,p),b=this.constraints_.center(this.targetCenter_,g,p,!1,this.calculateCenterShift(this.targetCenter_,g,a,p));if(o===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=a,this.targetCenter_=b,this.applyTargetState_();return}var B=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==a||!this.getCenterInternal()||!v3(this.getCenterInternal(),b))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:b,resolution:g,duration:o,easing:Wy,anchor:B}))},n.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Js.INTERACTING,1)},n.prototype.endInteraction=function(t,r,i){var o=i&&rp(i,this.getProjection());this.endInteractionInternal(t,r,o)},n.prototype.endInteractionInternal=function(t,r,i){this.setHint(Js.INTERACTING,-1),this.resolveConstraints(t,r,i)},n.prototype.getConstrainedCenter=function(t,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),i)},n.prototype.getConstrainedZoom=function(t,r){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},n.prototype.getConstrainedResolution=function(t,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},n}(Ah);function wx(e,n){setTimeout(function(){e(n)},0)}function Rre(e){if(e.extent!==void 0){var n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return B9(e.extent,e.constrainOnlyCenter,n)}var t=YB(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,B9(r,!1,!1)}return kre}function Lre(e){var n,t,r,i=28,o=2,s=e.minZoom!==void 0?e.minZoom:uM,a=e.maxZoom!==void 0?e.maxZoom:i,p=e.zoomFactor!==void 0?e.zoomFactor:o,g=e.multiWorld!==void 0?e.multiWorld:!1,b=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,B=e.showFullExtent!==void 0?e.showFullExtent:!1,k=YB(e.projection,"EPSG:3857"),P=k.getExtent(),R=e.constrainOnlyCenter,Z=e.extent;if(!g&&!Z&&k.isGlobal()&&(R=!1,Z=P),e.resolutions!==void 0){var W=e.resolutions;t=W[s],r=W[a]!==void 0?W[a]:W[W.length-1],e.constrainResolution?n=Ire(W,b,!R&&Z,B):n=k9(t,r,b,!R&&Z,B)}else{var Q=P?Math.max(ls(P),ZA(P)):360*mf[yA.DEGREES]/k.getMetersPerUnit(),q=Q/l7/Math.pow(o,uM),oe=q/Math.pow(o,i-uM);t=e.maxResolution,t!==void 0?s=0:t=q/Math.pow(p,s),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=t/Math.pow(p,a):r=q/Math.pow(p,a):r=oe),a=s+Math.floor(Math.log(t/r)/Math.log(p)),r=t/Math.pow(p,a-s),e.constrainResolution?n=Tre(p,t,r,b,!R&&Z,B):n=k9(t,r,b,!R&&Z,B)}return{constraint:n,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:p}}function zre(e){var n=e.enableRotation!==void 0?e.enableRotation:!0;if(n){var t=e.constrainRotation;return t===void 0||t===!0?Pre():t===!1?I9:typeof t=="number"?Kre(t):I9}else return c7}function jre(e){return!(e.sourceCenter&&e.targetCenter&&!v3(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function AM(e,n,t,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=e[0]*o-e[1]*s,p=e[1]*o+e[0]*s;a+=(n[0]/2-t[0])*r,p+=(t[1]-n[1]/2)*r,s=-s;var g=a*o-p*s,b=p*o+a*s;return[g,b]}function T9(e){return e[0]>0&&e[1]>0}function Wre(e,n,t){return t===void 0&&(t=[0,0]),t[0]=e[0]*n+.5|0,t[1]=e[1]*n+.5|0,t}function mA(e,n){return Array.isArray(e)?e:(n===void 0?n=[e,e]:(n[0]=e,n[1]=e),n)}var Nre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function ez(e){if(e instanceof A5){e.setMapInternal(null);return}e instanceof d5&&e.getLayers().forEach(ez)}function tz(e,n){if(e instanceof A5){e.setMapInternal(n);return}if(e instanceof d5)for(var t=e.getLayers().getArray(),r=0,i=t.length;r<i;++r)tz(t[r],n)}var Gre=function(e){Nre(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=Qre(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:cL,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=md(),r.pixelToCoordinateTransform_=md(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new fd,r.interactions=i.interactions||new fd,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Ore(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Yu.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(Yu.VIEW,r.handleViewChanged_),r.addChangeListener(Yu.SIZE,r.handleSizeChanged_),r.addChangeListener(Yu.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return t.view&&!(t.view instanceof pp)&&t.view.then(function(s){o.setView(new pp(s))}),r.controls.addEventListener(YA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(YA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(YA.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(YA.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(YA.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(YA.REMOVE,(function(s){var a=s.element,p=a.getId();p!==void 0&&delete this.overlayIdIndex_[p.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return n.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},n.prototype.addControl=function(t){this.getControls().push(t)},n.prototype.addInteraction=function(t){this.getInteractions().push(t)},n.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},n.prototype.handleLayerAdd_=function(t){tz(t.layer,this)},n.prototype.addOverlay=function(t){this.getOverlays().push(t)},n.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},n.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},n.prototype.forEachFeatureAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:ny,p=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,p,r,null,a,null)}},n.prototype.getFeaturesAtPixel=function(t,r){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},r),i},n.prototype.getAllLayers=function(){var t=[];function r(i){i.forEach(function(o){o instanceof d5?r(o.getLayers()):t.push(o)})}return r(this.getLayers()),t},n.prototype.forEachLayerAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,a=o.layerFilter||ny;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,a)}},n.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:ny,s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,o,null)},n.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},n.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},n.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-r.left,i.clientY-r.top]},n.prototype.getTarget=function(){return this.get(Yu.TARGET)},n.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},n.prototype.getCoordinateFromPixel=function(t){return G6(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},n.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?ul(r.pixelToCoordinateTransform,t.slice()):null},n.prototype.getControls=function(){return this.controls},n.prototype.getOverlays=function(){return this.overlays_},n.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},n.prototype.getInteractions=function(){return this.interactions},n.prototype.getLayerGroup=function(){return this.get(Yu.LAYERGROUP)},n.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof fd){r.setLayers(t);return}var i=r.getLayers();i.clear(),i.extend(t)},n.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},n.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r];if(o.visible){var s=o.layer.getRenderer();if(s&&!s.ready)return!0;var a=o.layer.getSource();if(a&&a.loading)return!0}}return!1},n.prototype.getPixelFromCoordinate=function(t){var r=rp(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},n.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?ul(r.coordinateToPixelTransform,t.slice(0,2)):null},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.getSize=function(){return this.get(Yu.SIZE)},n.prototype.getView=function(){return this.get(Yu.VIEW)},n.prototype.getViewport=function(){return this.viewport_},n.prototype.getOverlayContainer=function(){return this.overlayContainer_},n.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},n.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},n.prototype.getTilePriority=function(t,r,i,o){return Bre(this.frameState_,t,r,i,o)},n.prototype.handleBrowserEvent=function(t,r){var i=r||t.type,o=new nm(i,this,t);this.handleMapBrowserEvent(o)},n.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var r=t.originalEvent,i=r.type;if(i===tE.POINTERDOWN||i===Bi.WHEEL||i===Bi.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var p=this.getInteractions().getArray().slice(),g=p.length-1;g>=0;g--){var b=p[g];if(!(b.getMap()!==this||!b.getActive()||!this.getTargetElement())){var B=b.handleEvent(t);if(!B||t.propagationStopped)break}}}},n.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var s=t.viewHints;if(s[Js.ANIMATING]||s[Js.INTERACTING]){var a=Date.now()-t.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Pm.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Pm.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new xg(op.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new xg(op.LOADSTART,this,t))));for(var p=this.postRenderFunctions_,g=0,b=p.length;g<b;++g)p[g](this,t);p.length=0},n.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},n.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)Qa(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Bi.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Bi.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,S3(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new xre(this,this.moveTolerance_);for(var o in Xs)this.mapBrowserEventHandler_.addEventListener(Xs[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Bi.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Bi.WHEEL,this.boundHandleBrowserEvent_,dL?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[bo(a,Bi.KEYDOWN,this.handleBrowserEvent,this),bo(a,Bi.KEYPRESS,this.handleBrowserEvent,this),bo(s,Bi.RESIZE,this.updateSize,this)]}this.updateSize()},n.prototype.handleTileChange_=function(){this.render()},n.prototype.handleViewPropertyChanged_=function(){this.render()},n.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Qa(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Qa(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=bo(t,wy.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=bo(t,Bi.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},n.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Qa),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new om("addlayer",t)),this.layerGroupPropertyListenerKeys_=[bo(t,wy.PROPERTYCHANGE,this.render,this),bo(t,Bi.CHANGE,this.render,this),bo(t,"addlayer",this.handleLayerAdd_,this),bo(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},n.prototype.isRendered=function(){return!!this.frameState_},n.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},n.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},n.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},n.prototype.removeControl=function(t){return this.getControls().remove(t)},n.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},n.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},n.prototype.handleLayerRemove_=function(t){ez(t.layer)},n.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},n.prototype.renderFrame_=function(t){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(i!==void 0&&T9(i)&&o&&o.isDef()){var p=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=o.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:L6(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:g,viewHints:p,wantedTiles:{},mapId:Ni(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var b=isNaN(g.nextRotation)?g.rotation:g.nextRotation;a.nextExtent=L6(g.nextCenter,g.nextResolution,b,i)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var B=!this.previousExtent_||!WB(this.previousExtent_)&&!My(a.extent,this.previousExtent_);B&&(this.dispatchEvent(new xg(op.MOVESTART,this,s)),this.previousExtent_=W_(this.previousExtent_))}var k=this.previousExtent_&&!a.viewHints[Js.ANIMATING]&&!a.viewHints[Js.INTERACTING]&&!My(a.extent,this.previousExtent_);k&&(this.dispatchEvent(new xg(op.MOVEEND,this,a)),pL(a.extent,this.previousExtent_))}this.dispatchEvent(new xg(op.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(op.LOADSTART)||this.hasListener(op.LOADEND)||this.hasListener(Pm.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},n.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new om("removelayer",r)),this.set(Yu.LAYERGROUP,t)},n.prototype.setSize=function(t){this.set(Yu.SIZE,t)},n.prototype.setTarget=function(t){this.set(Yu.TARGET,t)},n.prototype.setView=function(t){if(!t||t instanceof pp){this.set(Yu.VIEW,t);return}this.set(Yu.VIEW,new pp);var r=this;t.then(function(i){r.setView(new pp(i))})},n.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(r=[o,s],!T9(r)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},n.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(r)}},n}(Ah);function Qre(e){var n=null;e.keyboardEventTarget!==void 0&&(n=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var t={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new d5({layers:e.layers});t[Yu.LAYERGROUP]=r,t[Yu.TARGET]=e.target,t[Yu.VIEW]=e.view instanceof pp?e.view:new pp;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new fd(e.controls.slice()):(ao(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new fd(e.interactions.slice()):(ao(typeof e.interactions.getArray=="function",48),o=e.interactions));var s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new fd(e.overlays.slice()):(ao(typeof e.overlays.getArray=="function",49),s=e.overlays):s=new fd,{controls:i,interactions:o,keyboardEventTarget:n,overlays:s,values:t}}const $re=Gre;var Yre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qre=function(e){Yre(n,e);function n(t){var r=e.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return n.prototype.disposeInternal=function(){S3(this.element),e.prototype.disposeInternal.call(this)},n.prototype.getMap=function(){return this.map_},n.prototype.setMap=function(t){this.map_&&S3(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)Qa(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==u1&&this.listenerKeys.push(bo(t,op.POSTRENDER,this.render,this)),t.render()}},n.prototype.render=function(t){},n.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},n}(Ah);const d7=qre;var Vre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hre=function(e){Vre(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",a=i.expandClassName!==void 0?i.expandClassName:o+"-expand",p=i.collapseLabel!==void 0?i.collapseLabel:"",g=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof p=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=p,r.collapseLabel_.className=g):r.collapseLabel_=p;var b=i.label!==void 0?i.label:"i";typeof b=="string"?(r.label_=document.createElement("span"),r.label_.textContent=b,r.label_.className=a):r.label_=b;var B=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(B),r.toggleButton_.addEventListener(Bi.CLICK,r.handleClick_.bind(r),!1);var k=o+" "+c5+" "+a7+(r.collapsed_&&r.collapsible_?" "+w9:"")+(r.collapsible_?"":" ol-uncollapsible"),P=r.element;return P.className=k,P.appendChild(r.toggleButton_),P.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return n.prototype.collectSourceAttributions_=function(t){for(var r={},i=[],o=!0,s=t.layerStatesArray,a=0,p=s.length;a<p;++a){var g=s[a];if(M3(g,t.viewState)){var b=g.layer.getSource();if(b){var B=b.getAttributions();if(B){var k=B(t);if(k)if(o=o&&b.getAttributionsCollapsible()!==!1,Array.isArray(k))for(var P=0,R=k.length;P<R;++P)k[P]in r||(i.push(k[P]),r[k[P]]=!0);else k in r||(i.push(k),r[k]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},n.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!y1(r,this.renderedAttributions_)){YL(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}},n.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},n.prototype.handleToggle_=function(){this.element.classList.toggle(w9),this.collapsed_?S9(this.collapseLabel_,this.label_):S9(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},n.prototype.getCollapsible=function(){return this.collapsible_},n.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},n.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},n.prototype.getCollapsed=function(){return this.collapsed_},n.prototype.render=function(t){this.updateElement_(t.frameState)},n}(d7);const Zre=Hre;var Xre=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jre=function(e){Xre(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"",a=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var p=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=p,g.appendChild(r.label_),g.addEventListener(Bi.CLICK,r.handleClick_.bind(r),!1);var b=o+" "+c5+" "+a7,B=r.element;return B.className=b,B.appendChild(g),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(bx),r}return n.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},n.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Wy}):r.setRotation(0))}},n.prototype.render=function(t){var r=t.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(bx);!s&&i===0?this.element.classList.add(bx):s&&i!==0&&this.element.classList.remove(bx)}this.label_.style.transform=o}this.rotation_=i}},n}(d7);const eie=Jre;var tie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nie=function(e){tie(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,a=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",p=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",b=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",B=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",k=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",P=document.createElement("button");P.className=a,P.setAttribute("type","button"),P.title=B,P.appendChild(typeof g=="string"?document.createTextNode(g):g),P.addEventListener(Bi.CLICK,r.handleClick_.bind(r,s),!1);var R=document.createElement("button");R.className=p,R.setAttribute("type","button"),R.title=k,R.appendChild(typeof b=="string"?document.createTextNode(b):b),R.addEventListener(Bi.CLICK,r.handleClick_.bind(r,-s),!1);var Z=o+" "+c5+" "+a7,W=r.element;return W.className=Z,W.appendChild(P),W.appendChild(R),r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},n.prototype.zoomByDelta_=function(t){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Wy})):i.setZoom(s)}}},n}(d7);const rie=nie;var iie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$u={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},oie=function(e){iie(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un,r.options=t,r.id=t.id,r.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,r.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,r.element=document.createElement("div"),r.element.className=t.className!==void 0?t.className:"ol-overlay-container "+ore,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener($u.ELEMENT,r.handleElementChanged),r.addChangeListener($u.MAP,r.handleMapChanged),r.addChangeListener($u.OFFSET,r.handleOffsetChanged),r.addChangeListener($u.POSITION,r.handlePositionChanged),r.addChangeListener($u.POSITIONING,r.handlePositioningChanged),t.element!==void 0&&r.setElement(t.element),r.setOffset(t.offset!==void 0?t.offset:[0,0]),r.setPositioning(t.positioning||"top-left"),t.position!==void 0&&r.setPosition(t.position),r}return n.prototype.getElement=function(){return this.get($u.ELEMENT)},n.prototype.getId=function(){return this.id},n.prototype.getMap=function(){return this.get($u.MAP)||null},n.prototype.getOffset=function(){return this.get($u.OFFSET)},n.prototype.getPosition=function(){return this.get($u.POSITION)},n.prototype.getPositioning=function(){return this.get($u.POSITIONING)},n.prototype.handleElementChanged=function(){YL(this.element);var t=this.getElement();t&&this.element.appendChild(t)},n.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(S3(this.element),Qa(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=bo(t,op.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},n.prototype.render=function(){this.updatePixelPosition()},n.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},n.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},n.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},n.prototype.setElement=function(t){this.set($u.ELEMENT,t)},n.prototype.setMap=function(t){this.set($u.MAP,t)},n.prototype.setOffset=function(t){this.set($u.OFFSET,t)},n.prototype.setPosition=function(t){this.set($u.POSITION,t)},n.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},n.prototype.panIntoView=function(t){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get($u.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),s=this.getRect(o,[sre(o),lre(o)]),a=t||{},p=a.margin===void 0?20:a.margin;if(!mm(i,s)){var g=s[0]-i[0],b=i[2]-s[2],B=s[1]-i[1],k=i[3]-s[3],P=[0,0];if(g<0?P[0]=g-p:b<0&&(P[0]=Math.abs(b)+p),B<0?P[1]=B-p:k<0&&(P[1]=Math.abs(k)+p),P[0]!==0||P[1]!==0){var R=r.getView().getCenterInternal(),Z=r.getPixelFromCoordinateInternal(R);if(!Z)return;var W=[Z[0]+P[0],Z[1]+P[1]],Q=a.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(W),duration:Q.duration,easing:Q.easing})}}}},n.prototype.getRect=function(t,r){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+r[0],s+r[1]]},n.prototype.setPositioning=function(t){this.set($u.POSITIONING,t)},n.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},n.prototype.updatePixelPosition=function(){var t=this.getMap(),r=this.getPosition();if(!t||!t.isRendered()||!r){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(r),o=t.getSize();this.updateRenderedPosition(i,o)},n.prototype.updateRenderedPosition=function(t,r){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+o[0])+"px",p=Math.round(t[1]+o[1])+"px",g="0%",b="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?g="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(g="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?b="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(b="-50%");var B="translate(".concat(g,", ").concat(b,") translate(").concat(a,", ").concat(p,")");this.rendered.transform_!=B&&(this.rendered.transform_=B,i.transform=B,i.msTransform=B)},n.prototype.getOptions=function(){return this.options},n}(Ah);function aie(e){var n=e||{},t=new fd,r=n.zoom!==void 0?n.zoom:!0;r&&t.push(new rie(n.zoomOptions));var i=n.rotate!==void 0?n.rotate:!0;i&&t.push(new eie(n.rotateOptions));var o=n.attribution!==void 0?n.attribution:!0;return o&&t.push(new Zre(n.attributionOptions)),t}const K9={ACTIVE:"active"};var sie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lie=function(e){sie(n,e);function n(t){var r=e.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return n.prototype.getActive=function(){return this.get(K9.ACTIVE)},n.prototype.getMap=function(){return this.map_},n.prototype.handleEvent=function(t){return!0},n.prototype.setActive=function(t){this.set(K9.ACTIVE,t)},n.prototype.setMap=function(t){this.map_=t},n}(Ah);function uie(e,n,t){var r=e.getCenterInternal();if(r){var i=[r[0]+n[0],r[1]+n[1]];e.animateInternal({duration:t!==void 0?t:250,easing:Dre,center:e.getConstrainedCenter(i)})}}function h7(e,n,t,r){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+n),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Wy})}}const G_=lie;var Aie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cie=function(e){Aie(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Xs.DBLCLICK){var i=t.originalEvent,o=t.map,s=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,p=o.getView();h7(p,a,s,this.duration_),i.preventDefault(),r=!0}return!r},n}(G_);const die=cie;var hie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fie=function(e){hie(n,e);function n(t){var r=this,i=t||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return n.prototype.getPointerCount=function(){return this.targetPointers.length},n.prototype.handleDownEvent=function(t){return!1},n.prototype.handleDragEvent=function(t){},n.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Xs.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Xs.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Xs.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,r=this.stopDown(o)}else t.type==Xs.POINTERMOVE&&this.handleMoveEvent(t);return!r},n.prototype.handleMoveEvent=function(t){},n.prototype.handleUpEvent=function(t){return!1},n.prototype.stopDown=function(t){return t},n.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},n}(G_);function f7(e){for(var n=e.length,t=0,r=0,i=0;i<n;i++)t+=e[i].clientX,r+=e[i].clientY;return[t/n,r/n]}const Q_=fie;function nE(e){var n=arguments;return function(t){for(var r=!0,i=0,o=n.length;i<o&&(r=r&&n[i](t),!!r);++i);return r}}var pie=function(e){var n=e.originalEvent;return n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},mie=function(e){var n=e.map.getTargetElement(),t=e.map.getOwnerDocument().activeElement;return n.contains(t)},nz=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?mie(e):!0},gie=ny,rz=function(e){var n=e.originalEvent;return n.button==0&&!(Eee&&Oee&&n.ctrlKey)},iz=function(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&!n.shiftKey},yie=function(e){var n=e.originalEvent;return!n.altKey&&!(n.metaKey||n.ctrlKey)&&n.shiftKey},oz=function(e){var n=e.originalEvent,t=n.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!n.target.isContentEditable},cM=function(e){var n=e.originalEvent;return ao(n!==void 0,56),n.pointerType=="mouse"},vie=function(e){var n=e.originalEvent;return ao(n!==void 0,56),n.isPrimary&&n.button===0},Cie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_ie=function(e){Cie(n,e);function n(t){var r=e.call(this,{stopDown:e5})||this,i=t||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:nE(iz,vie);return r.condition_=i.onFocusOnly?nE(nz,o):o,r.noKinetic_=!1,r}return n.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=f7(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map,a=s.getView();ite(o,a.getResolution()),GB(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},n.prototype.handleUpEvent=function(t){var r=t.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),p=r.getPixelFromCoordinateInternal(a),g=r.getCoordinateFromPixelInternal([p[0]-o*Math.cos(s),p[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:Wy})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},n}(Q_);const bie=_ie;var xie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wie=function(e){xie(n,e);function n(t){var r=this,i=t||{};return r=e.call(this,{stopDown:e5})||this,r.condition_=i.condition?i.condition:pie,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(t){if(cM(t)){var r=t.map,i=r.getView();if(i.getConstraints().rotation!==c7){var o=r.getSize(),s=t.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var p=a-this.lastAngle_;i.adjustRotationInternal(-p)}this.lastAngle_=a}}},n.prototype.handleUpEvent=function(t){if(!cM(t))return!0;var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1},n.prototype.handleDownEvent=function(t){if(!cM(t))return!1;if(rz(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},n}(Q_),Mie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sie=function(e){Mie(n,e);function n(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return n.prototype.disposeInternal=function(){this.setMap(null)},n.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],r[0])+i,o.top=Math.min(t[1],r[1])+i,o.width=Math.abs(r[0]-t[0])+i,o.height=Math.abs(r[1]-t[1])+i},n.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},n.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},n.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,i=[t,[t[0],r[1]],r,[r[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new a_([o])},n.prototype.getGeometry=function(){return this.geometry_},n}(DB);const Eie=Sie;var az=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mx={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},dM=function(e){az(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return n}(Ep),Oie=function(e){az(n,e);function n(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=t||{};return r.box_=new Eie(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:rz,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return n.prototype.defaultBoxEndCondition=function(t,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new dM(Mx.BOXDRAG,t.coordinate,t))},n.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new dM(r?Mx.BOXEND:Mx.BOXCANCEL,t.coordinate,t)),!1},n.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new dM(Mx.BOXSTART,t.coordinate,t)),!0):!1},n.prototype.onBoxEnd=function(t){},n}(Q_);const Bie=Oie;var kie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iie=function(e){kie(n,e);function n(t){var r=this,i=t||{},o=i.condition?i.condition:yie;return r=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return n.prototype.onBoxEnd=function(t){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),a=i.getResolutionForExtentInternal(s),p=i.getResolution()/a;o=o.clone(),o.scale(p*p)}i.fitInternal(o,{duration:this.duration_,easing:Wy})},n}(Bie);const Tie=Iie,p0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var Kie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pie=function(e){Kie(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.defaultCondition_=function(o){return iz(o)&&oz(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Bi.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==p0.DOWN||o==p0.LEFT||o==p0.RIGHT||o==p0.UP)){var s=t.map,a=s.getView(),p=a.getResolution()*this.pixelDelta_,g=0,b=0;o==p0.DOWN?b=-p:o==p0.LEFT?g=-p:o==p0.RIGHT?g=p:b=p;var B=[g,b];GB(B,a.getRotation()),uie(a,B,this.duration_),i.preventDefault(),r=!0}}return!r},n}(G_),Fie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Die=function(e){Fie(n,e);function n(t){var r=e.call(this)||this,i=t||{};return r.condition_=i.condition?i.condition:oz,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return n.prototype.handleEvent=function(t){var r=!1;if(t.type==Bi.KEYDOWN||t.type==Bi.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o==43||o==45)){var s=t.map,a=o==43?this.delta_:-this.delta_,p=s.getView();h7(p,a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},n}(G_);const Uie=Die;var Rie=function(){function e(n,t,r){this.decay_=n,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(n,t){this.points_.push(n,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var n=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<n)return!1;for(var r=t-3;r>0&&this.points_[r+2]>n;)r-=3;var i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),Lie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hM={TRACKPAD:"trackpad",WHEEL:"wheel"},zie=function(e){Lie(n,e);function n(t){var r=this,i=t||{};r=e.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:gie;return r.condition_=i.onFocusOnly?nE(nz,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return n.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();if(t){var r=t.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},n.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Bi.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Bi.WHEEL&&(s=o.deltaY,Mee&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=cL),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?hM.TRACKPAD:hM.WHEEL);var p=i.getView();if(this.mode_===hM.TRACKPAD&&!(p.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(p.getAnimating()&&p.cancelAnimations(),p.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),p.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var g=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},n.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var i=-Bl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),h7(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},n.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},n}(G_);const jie=zie;var Wie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nie=function(e){Wie(n,e);function n(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=e5),r=e.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return n.prototype.handleDragEvent=function(t){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var p=t.map,g=p.getView();if(g.getConstraints().rotation!==c7){var b=p.getViewport().getBoundingClientRect(),B=f7(this.targetPointers);B[0]-=b.left,B[1]-=b.top,this.anchor_=p.getCoordinateFromPixelInternal(B),this.rotating_&&(p.render(),g.adjustRotationInternal(r,this.anchor_))}},n.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(Q_),Gie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qie=function(e){Gie(n,e);function n(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=e5),r=e.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return n.prototype.handleDragEvent=function(t){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,p=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(r=this.lastDistance_/p),this.lastDistance_=p;var g=t.map,b=g.getView();r!=1&&(this.lastScaleDelta_=r);var B=g.getViewport().getBoundingClientRect(),k=f7(this.targetPointers);k[0]-=B.left,k[1]-=B.top,this.anchor_=g.getCoordinateFromPixelInternal(k),g.render(),b.adjustResolutionInternal(r,this.anchor_)},n.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},n.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},n}(Q_);const $ie=Qie;function Yie(e,n,t,r,i){sz(e,n,t||0,r||e.length-1,i||qie)}function sz(e,n,t,r,i){for(;r>t;){if(r-t>600){var o=r-t+1,s=n-t+1,a=Math.log(o),p=.5*Math.exp(2*a/3),g=.5*Math.sqrt(a*p*(o-p)/o)*(s-o/2<0?-1:1),b=Math.max(t,Math.floor(n-s*p/o+g)),B=Math.min(r,Math.floor(n+(o-s)*p/o+g));sz(e,n,b,B,i)}var k=e[n],P=t,R=r;for(Uv(e,t,n),i(e[r],k)>0&&Uv(e,t,r);P<R;){for(Uv(e,P,R),P++,R--;i(e[P],k)<0;)P++;for(;i(e[R],k)>0;)R--}i(e[t],k)===0?Uv(e,t,R):(R++,Uv(e,R,r)),R<=n&&(t=R+1),n<=R&&(r=R-1)}}function Uv(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function qie(e,n){return e<n?-1:e>n?1:0}let lz=class{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let t=this.data;const r=[];if(!Ex(n,t))return r;const i=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],p=t.leaf?i(a):a;Ex(n,p)&&(t.leaf?r.push(a):pM(n,p)?this._all(a,r):o.push(a))}t=o.pop()}return r}collides(n){let t=this.data;if(!Ex(n,t))return!1;const r=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],s=t.leaf?this.toBBox(o):o;if(Ex(n,s)){if(t.leaf||pM(n,s))return!0;r.push(o)}}t=r.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let r=0;r<n.length;r++)this.insert(n[r]);return this}let t=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=wg([]),this}remove(n,t){if(!n)return this;let r=this.data;const i=this.toBBox(n),o=[],s=[];let a,p,g;for(;r||o.length;){if(r||(r=o.pop(),p=o[o.length-1],a=s.pop(),g=!0),r.leaf){const b=Vie(n,r.children,t);if(b!==-1)return r.children.splice(b,1),o.push(r),this._condense(o),this}!g&&!r.leaf&&pM(r,i)?(o.push(r),s.push(a),a=0,p=r,r=r.children[0]):p?(a++,r=p.children[a],g=!1):r=null}return this}toBBox(n){return n}compareMinX(n,t){return n.minX-t.minX}compareMinY(n,t){return n.minY-t.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,t){const r=[];for(;n;)n.leaf?t.push(...n.children):r.push(...n.children),n=r.pop();return t}_build(n,t,r,i){const o=r-t+1;let s=this._maxEntries,a;if(o<=s)return a=wg(n.slice(t,r+1)),lg(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=wg([]),a.leaf=!1,a.height=i;const p=Math.ceil(o/s),g=p*Math.ceil(Math.sqrt(s));P9(n,t,r,g,this.compareMinX);for(let b=t;b<=r;b+=g){const B=Math.min(b+g-1,r);P9(n,b,B,p,this.compareMinY);for(let k=b;k<=B;k+=p){const P=Math.min(k+p-1,B);a.children.push(this._build(n,k,P,i-1))}}return lg(a,this.toBBox),a}_chooseSubtree(n,t,r,i){for(;i.push(t),!(t.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let p=0;p<t.children.length;p++){const g=t.children[p],b=fM(g),B=Xie(n,g)-b;B<s?(s=B,o=b<o?b:o,a=g):B===s&&b<o&&(o=b,a=g)}t=a||t.children[0]}return t}_insert(n,t,r){const i=r?n:this.toBBox(n),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(n),nC(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(n,t){const r=n[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const s=this._chooseSplitIndex(r,o,i),a=wg(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,lg(r,this.toBBox),lg(a,this.toBBox),t?n[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(n,t){this.data=wg([n,t]),this.data.height=n.height+1,this.data.leaf=!1,lg(this.data,this.toBBox)}_chooseSplitIndex(n,t,r){let i,o=1/0,s=1/0;for(let a=t;a<=r-t;a++){const p=tC(n,0,a,this.toBBox),g=tC(n,a,r,this.toBBox),b=Jie(p,g),B=fM(p)+fM(g);b<o?(o=b,i=a,s=B<s?B:s):b===o&&B<s&&(s=B,i=a)}return i||r-t}_chooseSplitAxis(n,t,r){const i=n.leaf?this.compareMinX:Hie,o=n.leaf?this.compareMinY:Zie,s=this._allDistMargin(n,t,r,i),a=this._allDistMargin(n,t,r,o);s<a&&n.children.sort(i)}_allDistMargin(n,t,r,i){n.children.sort(i);const o=this.toBBox,s=tC(n,0,t,o),a=tC(n,r-t,r,o);let p=Sx(s)+Sx(a);for(let g=t;g<r-t;g++){const b=n.children[g];nC(s,n.leaf?o(b):b),p+=Sx(s)}for(let g=r-t-1;g>=t;g--){const b=n.children[g];nC(a,n.leaf?o(b):b),p+=Sx(a)}return p}_adjustParentBBoxes(n,t,r){for(let i=r;i>=0;i--)nC(t[i],n)}_condense(n){for(let t=n.length-1,r;t>=0;t--)n[t].children.length===0?t>0?(r=n[t-1].children,r.splice(r.indexOf(n[t]),1)):this.clear():lg(n[t],this.toBBox)}};function Vie(e,n,t){if(!t)return n.indexOf(e);for(let r=0;r<n.length;r++)if(t(e,n[r]))return r;return-1}function lg(e,n){tC(e,0,e.children.length,n,e)}function tC(e,n,t,r,i){i||(i=wg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=n;o<t;o++){const s=e.children[o];nC(i,e.leaf?r(s):s)}return i}function nC(e,n){return e.minX=Math.min(e.minX,n.minX),e.minY=Math.min(e.minY,n.minY),e.maxX=Math.max(e.maxX,n.maxX),e.maxY=Math.max(e.maxY,n.maxY),e}function Hie(e,n){return e.minX-n.minX}function Zie(e,n){return e.minY-n.minY}function fM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Sx(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Xie(e,n){return(Math.max(n.maxX,e.maxX)-Math.min(n.minX,e.minX))*(Math.max(n.maxY,e.maxY)-Math.min(n.minY,e.minY))}function Jie(e,n){const t=Math.max(e.minX,n.minX),r=Math.max(e.minY,n.minY),i=Math.min(e.maxX,n.maxX),o=Math.min(e.maxY,n.maxY);return Math.max(0,i-t)*Math.max(0,o-r)}function pM(e,n){return e.minX<=n.minX&&e.minY<=n.minY&&n.maxX<=e.maxX&&n.maxY<=e.maxY}function Ex(e,n){return n.minX<=e.maxX&&n.minY<=e.maxY&&n.maxX>=e.minX&&n.maxY>=e.minY}function wg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P9(e,n,t,r,i){const o=[n,t];for(;o.length;){if(t=o.pop(),n=o.pop(),t-n<=r)continue;const s=n+Math.ceil((t-n)/r/2)*r;Yie(e,s,n,t,i),o.push(n,s,s,t)}}const Ga={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var eoe=function(){function e(n){this.opacity_=n.opacity,this.rotateWithView_=n.rotateWithView,this.rotation_=n.rotation,this.scale_=n.scale,this.scaleArray_=mA(n.scale),this.displacement_=n.displacement,this.declutterMode_=n.declutterMode}return e.prototype.clone=function(){var n=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return si()},e.prototype.getImage=function(n){return si()},e.prototype.getHitDetectionImage=function(){return si()},e.prototype.getPixelRatio=function(n){return 1},e.prototype.getImageState=function(){return si()},e.prototype.getImageSize=function(){return si()},e.prototype.getOrigin=function(){return si()},e.prototype.getSize=function(){return si()},e.prototype.setDisplacement=function(n){this.displacement_=n},e.prototype.setOpacity=function(n){this.opacity_=n},e.prototype.setRotateWithView=function(n){this.rotateWithView_=n},e.prototype.setRotation=function(n){this.rotation_=n},e.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=mA(n)},e.prototype.listenImageChange=function(n){si()},e.prototype.load=function(){si()},e.prototype.unlistenImageChange=function(n){si()},e}();const uz=eoe;function sf(e){return Array.isArray(e)?NL(e):e}var toe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noe=function(e){toe(n,e);function n(t){var r=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=e.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return n.prototype.clone=function(){var t=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},n.prototype.getAngle=function(){return this.angle_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(t){this.fill_=t,this.render()},n.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},n.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var i=this.renderOptions_,o=XA(i.size*t,i.size*t);this.draw_(i,o,t),r=o.canvas,this.canvas_[t]=r}return r},n.prototype.getPixelRatio=function(t){return t},n.prototype.getImageSize=function(){return this.size_},n.prototype.getImageState=function(){return Ga.LOADED},n.prototype.getOrigin=function(){return this.origin_},n.prototype.getPoints=function(){return this.points_},n.prototype.getRadius=function(){return this.radius_},n.prototype.getRadius2=function(){return this.radius2_},n.prototype.getSize=function(){return this.size_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(t){this.stroke_=t,this.render()},n.prototype.listenImageChange=function(t){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(t){},n.prototype.calculateLineJoinSize_=function(t,r,i){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var a=o;o=s,s=a}var p=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/p,b=s*Math.sin(g),B=Math.sqrt(s*s-b*b),k=o-B,P=Math.sqrt(b*b+k*k),R=P/b;if(t==="miter"&&R<=i)return R*r;var Z=r/2/R,W=r/2*(k/P),Q=Math.sqrt((o+Z)*(o+Z)+W*W),q=Q-o;if(this.radius2_===void 0||t==="bevel")return q*2;var oe=o*Math.sin(g),re=Math.sqrt(o*o-oe*oe),ce=s-re,se=Math.sqrt(oe*oe+ce*ce),le=se/oe;if(le<=i){var ye=le*r/2-s-o;return 2*Math.max(q,ye)}return q*2},n.prototype.createRenderOptions=function(){var t=Sy,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=c_),s=sf(s),a=this.stroke_.getWidth(),a===void 0&&(a=h_),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Sy),r=this.stroke_.getMiterLimit(),r===void 0&&(r=A_));var p=this.calculateLineJoinSize_(t,a,r),g=Math.max(this.radius_,this.radius2_||0),b=Math.ceil(2*g+p);return{strokeStyle:s,strokeWidth:a,size:b,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:r}},n.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},n.prototype.draw_=function(t,r,i){if(r.scale(i,i),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=bp),r.fillStyle=sf(o),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},n.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=x3(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=XA(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},n.prototype.createPath_=function(t){var r=this.points_,i=this.radius_;if(r===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,a=2*Math.PI/r,p=0;p<r;p++){var g=s+p*a,b=p%2===0?i:o;t.lineTo(b*Math.cos(g),b*Math.sin(g))}t.closePath()}},n.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=bp,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},n}(uz);const roe=noe;var ioe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Az=function(e){ioe(n,e);function n(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return n.prototype.clone=function(){var t=this.getScale(),r=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},n.prototype.setRadius=function(t){this.radius_=t,this.render()},n}(roe),Rg=function(){function e(n){var t=n||{};this.color_=t.color!==void 0?t.color:null}return e.prototype.clone=function(){var n=this.getColor();return new e({color:Array.isArray(n)?n.slice():n||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(n){this.color_=n},e}(),rC=function(){function e(n){var t=n||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var n=this.getColor();return new e({color:Array.isArray(n)?n.slice():n||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(n){this.color_=n},e.prototype.setLineCap=function(n){this.lineCap_=n},e.prototype.setLineDash=function(n){this.lineDash_=n},e.prototype.setLineDashOffset=function(n){this.lineDashOffset_=n},e.prototype.setLineJoin=function(n){this.lineJoin_=n},e.prototype.setMiterLimit=function(n){this.miterLimit_=n},e.prototype.setWidth=function(n){this.width_=n},e}(),w0=function(){function e(n){var t=n||{};this.geometry_=null,this.geometryFunction_=F9,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var n=this.getGeometry();return n&&typeof n=="object"&&(n=n.clone()),new e({geometry:n,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(n){this.renderer_=n},e.prototype.setHitDetectionRenderer=function(n){this.hitDetectionRenderer_=n},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(n){this.fill_=n},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(n){this.image_=n},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(n){this.stroke_=n},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(n){this.text_=n},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(n){typeof n=="function"?this.geometryFunction_=n:typeof n=="string"?this.geometryFunction_=function(t){return t.get(n)}:n?n!==void 0&&(this.geometryFunction_=function(){return n}):this.geometryFunction_=F9,this.geometry_=n},e.prototype.setZIndex=function(n){this.zIndex_=n},e}();function ooe(e){var n;if(typeof e=="function")n=e;else{var t;if(Array.isArray(e))t=e;else{ao(typeof e.getZIndex=="function",41);var r=e;t=[r]}n=function(){return t}}return n}var mM=null;function aoe(e,n){if(!mM){var t=new Rg({color:"rgba(255,255,255,0.4)"}),r=new rC({color:"#3399CC",width:1.25});mM=[new w0({image:new Az({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return mM}function F9(e){return e.getGeometry()}var soe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D9={RENDER_ORDER:"renderOrder"},loe=function(e){soe(n,e);function n(t){var r=this,i=t||{},o=dl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=e.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return n.prototype.getDeclutter=function(){return this.declutter_},n.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},n.prototype.getRenderBuffer=function(){return this.renderBuffer_},n.prototype.getRenderOrder=function(){return this.get(D9.RENDER_ORDER)},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},n.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},n.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new lz(9)),this.getRenderer().renderDeclutter(t)},n.prototype.setRenderOrder=function(t){this.set(D9.RENDER_ORDER,t)},n.prototype.setStyle=function(t){this.style_=t!==void 0?t:aoe,this.styleFunction_=t===null?void 0:ooe(this.style_),this.changed()},n}(A5);const cz=loe;var ri={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ox=[ri.FILL],ym=[ri.STROKE],j0=[ri.BEGIN_PATH],U9=[ri.CLOSE_PATH],uoe=function(){function e(){}return e.prototype.drawCustom=function(n,t,r,i){},e.prototype.drawGeometry=function(n){},e.prototype.setStyle=function(n){},e.prototype.drawCircle=function(n,t){},e.prototype.drawFeature=function(n,t){},e.prototype.drawGeometryCollection=function(n,t){},e.prototype.drawLineString=function(n,t){},e.prototype.drawMultiLineString=function(n,t){},e.prototype.drawMultiPoint=function(n,t){},e.prototype.drawMultiPolygon=function(n,t){},e.prototype.drawPoint=function(n,t){},e.prototype.drawPolygon=function(n,t){},e.prototype.drawText=function(n,t){},e.prototype.setFillStrokeStyle=function(n,t){},e.prototype.setImageStyle=function(n,t){},e.prototype.setTextStyle=function(n,t){},e}();const dz=uoe;var Aoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),coe=function(e){Aoe(n,e);function n(t,r,i,o){var s=e.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return n.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(i){return i*r})},n.prototype.appendFlatPointCoordinates=function(t,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,p=0,g=t.length;p<g;p+=r)o[0]=t[p],o[1]=t[p+1],j_(i,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},n.prototype.appendFlatLineCoordinates=function(t,r,i,o,s,a){var p=this.coordinates,g=p.length,b=this.getBufferedMaxExtent();a&&(r+=o);var B=t[r],k=t[r+1],P=this.tmpCoordinate_,R=!0,Z,W,Q;for(Z=r+o;Z<i;Z+=o)P[0]=t[Z],P[1]=t[Z+1],Q=U6(b,P),Q!==W?(R&&(p[g++]=B,p[g++]=k,R=!1),p[g++]=P[0],p[g++]=P[1]):Q===iu.INTERSECTING?(p[g++]=P[0],p[g++]=P[1],R=!1):R=!0,B=P[0],k=P[1],W=Q;return(s&&R||Z===r+o)&&(p[g++]=B,p[g++]=k),g},n.prototype.drawCustomCoordinates_=function(t,r,i,o,s){for(var a=0,p=i.length;a<p;++a){var g=i[a],b=this.appendFlatLineCoordinates(t,r,g,o,!1,!1);s.push(b),r=g}return r},n.prototype.drawCustom=function(t,r,i,o){this.beginGeometry(t,r);var s=t.getType(),a=t.getStride(),p=this.coordinates.length,g,b,B,k,P;switch(s){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),k=[];var R=t.getEndss();P=0;for(var Z=0,W=R.length;Z<W;++Z){var Q=[];P=this.drawCustomCoordinates_(g,P,R[Z],a,Q),k.push(Q)}this.instructions.push([ri.CUSTOM,p,k,t,i,Q6]),this.hitDetectionInstructions.push([ri.CUSTOM,p,k,t,o||i,Q6]);break;case"Polygon":case"MultiLineString":B=[],g=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),P=this.drawCustomCoordinates_(g,0,t.getEnds(),a,B),this.instructions.push([ri.CUSTOM,p,B,t,i,i_]),this.hitDetectionInstructions.push([ri.CUSTOM,p,B,t,o||i,i_]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),b=this.appendFlatLineCoordinates(g,0,g.length,a,!1,!1),this.instructions.push([ri.CUSTOM,p,b,t,i,gm]),this.hitDetectionInstructions.push([ri.CUSTOM,p,b,t,o||i,gm]);break;case"MultiPoint":g=t.getFlatCoordinates(),b=this.appendFlatPointCoordinates(g,a),b>p&&(this.instructions.push([ri.CUSTOM,p,b,t,i,gm]),this.hitDetectionInstructions.push([ri.CUSTOM,p,b,t,o||i,gm]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),b=this.coordinates.length,this.instructions.push([ri.CUSTOM,p,b,t,i]),this.hitDetectionInstructions.push([ri.CUSTOM,p,b,t,o||i]);break}this.endGeometry(r)},n.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[ri.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ri.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},n.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},n.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,i=t.length,o,s,a=-1;for(r=0;r<i;++r)o=t[r],s=o[0],s==ri.END_GEOMETRY?a=r:s==ri.BEGIN_GEOMETRY&&(o[2]=r,dee(this.hitDetectionInstructions,a,r),a=-1)},n.prototype.setFillStrokeStyle=function(t,r){var i=this.state;if(t){var o=t.getColor();i.fillStyle=sf(o||bp)}else i.fillStyle=void 0;if(r){var s=r.getColor();i.strokeStyle=sf(s||c_);var a=r.getLineCap();i.lineCap=a!==void 0?a:E3;var p=r.getLineDash();i.lineDash=p?p.slice():l_;var g=r.getLineDashOffset();i.lineDashOffset=g||u_;var b=r.getLineJoin();i.lineJoin=b!==void 0?b:Sy;var B=r.getWidth();i.lineWidth=B!==void 0?B:h_;var k=r.getMiterLimit();i.miterLimit=k!==void 0?k:A_,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},n.prototype.createFill=function(t){var r=t.fillStyle,i=[ri.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},n.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},n.prototype.createStroke=function(t){return[ri.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},n.prototype.updateFillStyle=function(t,r){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=i)},n.prototype.updateStrokeStyle=function(t,r){var i=t.strokeStyle,o=t.lineCap,s=t.lineDash,a=t.lineDashOffset,p=t.lineJoin,g=t.lineWidth,b=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||s!=t.currentLineDash&&!y1(t.currentLineDash,s)||t.currentLineDashOffset!=a||t.currentLineJoin!=p||t.currentLineWidth!=g||t.currentMiterLimit!=b)&&(i!==void 0&&r.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=s,t.currentLineDashOffset=a,t.currentLineJoin=p,t.currentLineWidth=g,t.currentMiterLimit=b)},n.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[ri.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},n.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=pL(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Tm(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},n}(dz);const $_=coe;var doe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hoe=function(e){doe(n,e);function n(t,r,i,o){var s=e.call(this,t,r,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return n.prototype.drawPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([ri.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ri.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.drawMultiPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([ri.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ri.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},n.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},n.prototype.setImageStyle=function(t,r){var i=t.getAnchor(),o=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=r},n}($_);const foe=hoe;var poe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),moe=function(e){poe(n,e);function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return n.prototype.drawFlatCoordinates_=function(t,r,i,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,r,i,o,!1,!1),p=[ri.MOVE_TO_LINE_TO,s,a];return this.instructions.push(p),this.hitDetectionInstructions.push(p),i},n.prototype.drawLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([ri.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,l_,u_],j0);var a=t.getFlatCoordinates(),p=t.getStride();this.drawFlatCoordinates_(a,0,a.length,p),this.hitDetectionInstructions.push(ym),this.endGeometry(r)}},n.prototype.drawMultiLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([ri.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],j0);for(var a=t.getEnds(),p=t.getFlatCoordinates(),g=t.getStride(),b=0,B=0,k=a.length;B<k;++B)b=this.drawFlatCoordinates_(p,b,a[B],g);this.hitDetectionInstructions.push(ym),this.endGeometry(r)}},n.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ym),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},n.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ym),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(j0)},n}($_);const goe=moe;var yoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),voe=function(e){yoe(n,e);function n(t,r,i,o){return e.call(this,t,r,i,o)||this}return n.prototype.drawFlatCoordinatess_=function(t,r,i,o){var s=this.state,a=s.fillStyle!==void 0,p=s.strokeStyle!==void 0,g=i.length;this.instructions.push(j0),this.hitDetectionInstructions.push(j0);for(var b=0;b<g;++b){var B=i[b],k=this.coordinates.length,P=this.appendFlatLineCoordinates(t,r,B,o,!0,!p),R=[ri.MOVE_TO_LINE_TO,k,P];this.instructions.push(R),this.hitDetectionInstructions.push(R),p&&(this.instructions.push(U9),this.hitDetectionInstructions.push(U9)),r=B}return a&&(this.instructions.push(Ox),this.hitDetectionInstructions.push(Ox)),p&&(this.instructions.push(ym),this.hitDetectionInstructions.push(ym)),r},n.prototype.drawCircle=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_FILL_STYLE,bp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getFlatCoordinates(),p=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,p,!1,!1);var b=[ri.CIRCLE,g];this.instructions.push(j0,b),this.hitDetectionInstructions.push(j0,b),i.fillStyle!==void 0&&(this.instructions.push(Ox),this.hitDetectionInstructions.push(Ox)),i.strokeStyle!==void 0&&(this.instructions.push(ym),this.hitDetectionInstructions.push(ym)),this.endGeometry(r)}},n.prototype.drawPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_FILL_STYLE,bp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getEnds(),p=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(p,0,a,g),this.endGeometry(r)}},n.prototype.drawMultiPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_FILL_STYLE,bp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ri.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var a=t.getEndss(),p=t.getOrientedFlatCoordinates(),g=t.getStride(),b=0,B=0,k=a.length;B<k;++B)b=this.drawFlatCoordinatess_(p,b,a[B],g);this.endGeometry(r)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=x0(r[i],t);return e.prototype.finish.call(this)},n.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},n}($_);const R9=voe,hz={POINT:"point",LINE:"line"};function Coe(e,n,t,r,i){var o=t,s=t,a=0,p=0,g=t,b,B,k,P,R,Z,W,Q,q,oe;for(B=t;B<r;B+=i){var re=n[B],ce=n[B+1];R!==void 0&&(q=re-R,oe=ce-Z,P=Math.sqrt(q*q+oe*oe),W!==void 0&&(p+=k,b=Math.acos((W*q+Q*oe)/(k*P)),b>e&&(p>a&&(a=p,o=g,s=B),p=0,g=B-i)),k=P,W=q,Q=oe),R=re,Z=ce}return p+=P,p>a?[g,B]:[o,s]}var _oe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},boe=function(e){_oe(n,e);function n(t,r,i,o){var s=e.call(this,t,r,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return n.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},n.prototype.drawText=function(t,r){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var a=this.coordinates,p=a.length,g=t.getType(),b=null,B=t.getStride();if(s.placement===hz.LINE&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Al(this.getBufferedMaxExtent(),t.getExtent()))return;var k=void 0;if(b=t.getFlatCoordinates(),g=="LineString")k=[b.length];else if(g=="MultiLineString")k=t.getEnds();else if(g=="Polygon")k=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){var P=t.getEndss();k=[];for(var R=0,Z=P.length;R<Z;++R)k.push(P[R][0])}this.beginGeometry(t,r);for(var W=s.textAlign,Q=0,q=void 0,oe=0,re=k.length;oe<re;++oe){if(W==null){var ce=Coe(s.maxAngle,b,Q,k[oe],B);Q=ce[0],q=ce[1]}else q=k[oe];for(var R=Q;R<q;R+=B)a.push(b[R],b[R+1]);var se=a.length;Q=k[oe],this.drawChars_(p,se),p=se}this.endGeometry(r)}else{var le=s.overflow?null:[];switch(g){case"Point":case"MultiPoint":b=t.getFlatCoordinates();break;case"LineString":b=t.getFlatMidpoint();break;case"Circle":b=t.getCenter();break;case"MultiLineString":b=t.getFlatMidpoints(),B=2;break;case"Polygon":b=t.getFlatInteriorPoint(),s.overflow||le.push(b[2]/this.resolution),B=3;break;case"MultiPolygon":var ye=t.getFlatInteriorPoints();b=[];for(var R=0,Z=ye.length;R<Z;R+=3)s.overflow||le.push(ye[R+2]/this.resolution),b.push(ye[R],ye[R+1]);if(b.length===0)return;B=2;break}var se=this.appendFlatPointCoordinates(b,B);if(se===p)return;if(le&&(se-p)/2!==b.length/B){var De=p/2;le=le.filter(function(tn,Qt){var He=a[(De+Qt)*2]===b[Qt*B]&&a[(De+Qt)*2+1]===b[Qt*B+1];return He||--De,He})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var Ne=s.padding;if(Ne!=z0&&(s.scale[0]<0||s.scale[1]<0)){var et=s.padding[0],ft=s.padding[1],Ke=s.padding[2],rt=s.padding[3];s.scale[0]<0&&(ft=-ft,rt=-rt),s.scale[1]<0&&(et=-et,Ke=-Ke),Ne=[et,ft,Ke,rt]}var Ce=this.pixelRatio;this.instructions.push([ri.DRAW_IMAGE,p,se,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,Ne==z0?z0:Ne.map(function(tn){return tn*Ce}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,le]);var Rt=1/Ce;this.hitDetectionInstructions.push([ri.DRAW_IMAGE,p,se,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Rt,Rt],NaN,void 0,this.declutterImageWithText_,Ne,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,le]),this.endGeometry(r)}}},n.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||d_,justify:r.justify,textBaseline:r.textBaseline||O3,scale:r.scale});var a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))},n.prototype.drawChars_=function(t,r){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,p=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,b=SC[o.textBaseline],B=this.textOffsetY_*g,k=this.text_,P=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([ri.DRAW_CHARS,t,r,b,o.overflow,p,o.maxAngle,g,B,s,P*g,k,a,1]),this.hitDetectionInstructions.push([ri.DRAW_CHARS,t,r,b,o.overflow,p,o.maxAngle,1,B,s,P,k,a,1/g])},n.prototype.setTextStyle=function(t,r){var i,o,s;if(!t)this.text_="";else{var a=t.getFill();a?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=sf(a.getColor()||bp)):(o=null,this.textFillState_=o);var p=t.getStroke();if(!p)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var g=p.getLineDash(),b=p.getLineDashOffset(),B=p.getWidth(),k=p.getMiterLimit();s.lineCap=p.getLineCap()||E3,s.lineDash=g?g.slice():l_,s.lineDashOffset=b===void 0?u_:b,s.lineJoin=p.getLineJoin()||Sy,s.lineWidth=B===void 0?h_:B,s.miterLimit=k===void 0?A_:k,s.strokeStyle=sf(p.getColor()||c_)}i=this.textState_;var P=t.getFont()||qL;Are(P);var R=t.getScaleArray();i.overflow=t.getOverflow(),i.font=P,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||O3,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||z0,i.scale=R===void 0?[1,1]:R;var Z=t.getOffsetX(),W=t.getOffsetY(),Q=t.getRotateWithView(),q=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=Z===void 0?0:Z,this.textOffsetY_=W===void 0?0:W,this.textRotateWithView_=Q===void 0?!1:Q,this.textRotation_=q===void 0?0:q,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Ni(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Ni(o.fillStyle):""}this.declutterImageWithText_=r},n}($_),xoe={Circle:R9,Default:$_,Image:foe,LineString:goe,Polygon:R9,Text:boe},I3=function(){function e(n,t,r,i){this.tolerance_=n,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var n={};for(var t in this.buildersByZIndex_){n[t]=n[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var o=r[i].finish();n[t][i]=o}}return n},e.prototype.getBuilder=function(n,t){var r=n!==void 0?n.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[t];if(o===void 0){var s=xoe[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},e}(),woe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Moe=function(e){woe(n,e);function n(t){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return n.prototype.getFeatures=function(t){return si()},n.prototype.getData=function(t){return null},n.prototype.prepareFrame=function(t){return si()},n.prototype.renderFrame=function(t,r){return si()},n.prototype.loadedTileCallback=function(t,r,i){t[r]||(t[r]={}),t[r][i.tileCoord.toString()]=i},n.prototype.createLoadedTileFinder=function(t,r,i){return(function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(r,o,s,a)}).bind(this)},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){},n.prototype.getDataAtPixel=function(t,r,i){return null},n.prototype.getLayer=function(){return this.layer_},n.prototype.handleFontsChanged=function(){},n.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===Ga.LOADED&&this.renderIfReadyAndVisible()},n.prototype.loadImage=function(t){var r=t.getState();return r!=Ga.LOADED&&r!=Ga.ERROR&&t.addEventListener(Bi.CHANGE,this.boundHandleImageChange_),r==Ga.IDLE&&(t.load(),r=t.getState()),r==Ga.LOADED},n.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()},n.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},n}(lL);const Soe=Moe;var Eoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L9=[],Mg=null;function Ooe(){var e=document.createElement("canvas");e.width=1,e.height=1,Mg=e.getContext("2d")}var Boe=function(e){Eoe(n,e);function n(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=md(),r.pixelTransform=md(),r.inversePixelTransform=md(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return n.prototype.getImageData=function(t,r,i){Mg||Ooe(),Mg.clearRect(0,0,1,1);var o;try{Mg.drawImage(t,r,i,1,1,0,0,1,1),o=Mg.getImageData(0,0,1,1).data}catch{return Mg=null,null}return o},n.prototype.getBackground=function(t){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},n.prototype.useContainer=function(t,r,i){var o=this.getLayer().getClassName(),s,a;if(t&&t.className===o&&(!i||t&&t.style.backgroundColor&&y1(x3(t.style.backgroundColor),x3(i)))){var p=t.firstElementChild;p instanceof HTMLCanvasElement&&(a=p.getContext("2d"))}if(a&&a.canvas.style.transform===r?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var g=s.style;g.position="absolute",g.width="100%",g.height="100%",a=XA();var p=a.canvas;s.appendChild(p),g=p.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},n.prototype.clipUnrotated=function(t,r,i){var o=Gm(i),s=a5(i),a=o5(i),p=i5(i);ul(r.coordinateToPixelTransform,o),ul(r.coordinateToPixelTransform,s),ul(r.coordinateToPixelTransform,a),ul(r.coordinateToPixelTransform,p);var g=this.inversePixelTransform;ul(g,o),ul(g,s),ul(g,a),ul(g,p),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(p[0]),Math.round(p[1])),t.clip()},n.prototype.dispatchRenderEvent_=function(t,r,i){var o=this.getLayer();if(o.hasListener(t)){var s=new QL(t,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},n.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(Pm.PRERENDER,t,r)},n.prototype.postRender=function(t,r){this.dispatchRenderEvent_(Pm.POSTRENDER,t,r)},n.prototype.getRenderTransform=function(t,r,i,o,s,a,p){var g=s/2,b=a/2,B=o/r,k=-B,P=-t[0]+p,R=-t[1];return gf(this.tempTransform,g,b,B,k,-i,P,R)},n.prototype.getDataAtPixel=function(t,r,i){var o=ul(this.inversePixelTransform,t.slice()),s=this.context,a=this.getLayer(),p=a.getExtent();if(p){var g=ul(r.pixelToCoordinateTransform,t.slice());if(!j_(p,g))return null}var b=Math.round(o[0]),B=Math.round(o[1]),k=this.pixelContext_;if(!k){var P=document.createElement("canvas");P.width=1,P.height=1,k=P.getContext("2d"),this.pixelContext_=k}k.clearRect(0,0,1,1);var R;try{k.drawImage(s.canvas,b,B,1,1,0,0,1,1),R=k.getImageData(0,0,1,1).data}catch(Z){return Z.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):R}return R[3]===0?null:R},n.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},n}(Soe);const fz=Boe;function koe(e,n,t,r,i,o,s,a,p,g,b,B){var k=e[n],P=e[n+1],R=0,Z=0,W=0,Q=0;function q(){R=k,Z=P,n+=r,k=e[n],P=e[n+1],Q+=W,W=Math.sqrt((k-R)*(k-R)+(P-Z)*(P-Z))}do q();while(n<t-r&&Q+W<o);for(var oe=W===0?0:(o-Q)/W,re=Ap(R,k,oe),ce=Ap(Z,P,oe),se=n-r,le=Q,ye=o+a*p(g,i,b);n<t-r&&Q+W<ye;)q();oe=W===0?0:(ye-Q)/W;var De=Ap(R,k,oe),Ne=Ap(Z,P,oe),et;if(B){var ft=[re,ce,De,Ne];ML(ft,0,4,2,B,ft,ft),et=ft[0]>ft[2]}else et=re>De;var Ke=Math.PI,rt=[],Ce=se+r===n;n=se,W=0,Q=le,k=e[n],P=e[n+1];var Rt;if(Ce){q(),Rt=Math.atan2(P-Z,k-R),et&&(Rt+=Rt>0?-Ke:Ke);var jt=(De+re)/2,tn=(Ne+ce)/2;return rt[0]=[jt,tn,(ye-o)/2,Rt,i],rt}i=i.replace(/\n/g," ");for(var Qt=0,He=i.length;Qt<He;){q();var Je=Math.atan2(P-Z,k-R);if(et&&(Je+=Je>0?-Ke:Ke),Rt!==void 0){var tt=Je-Rt;if(tt+=tt>Ke?-2*Ke:tt<-Ke?2*Ke:0,Math.abs(tt)>s)return null}Rt=Je;for(var rn=Qt,mt=0;Qt<He;++Qt){var dt=et?He-Qt-1:Qt,kt=a*p(g,i[dt],b);if(n+r<t&&Q+W<o+mt+kt/2)break;mt+=kt}if(Qt!==rn){var Pt=et?i.substring(He-rn,He-Qt):i.substring(rn,Qt);oe=W===0?0:(o+mt/2-Q)/W;var jt=Ap(R,k,oe),tn=Ap(Z,P,oe);rt.push([jt,tn,mt/2,Je,Pt]),o+=mt}}return rt}var ug=Cd(),Hp=[],Zf=[],Xf=[],Zp=[];function z9(e){return e[3].declutterBox}var Ioe=new RegExp("[-----]");function j9(e,n){return(n==="start"||n==="end")&&!Ioe.test(e)&&(n=n==="start"?"left":"right"),SC[n]}function Toe(e,n,t){return t>0&&e.push(`
`,""),e.push(n,""),e}var Koe=function(){function e(n,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=n,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=md(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(n,t,r,i){var o=n+t+r+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,p=this.textStates[t],g=this.pixelRatio,b=[p.scale[0]*g,p.scale[1]*g],B=Array.isArray(n),k=p.justify?SC[p.justify]:j9(Array.isArray(n)?n[0]:n,p.textAlign||d_),P=i&&s.lineWidth?s.lineWidth:0,R=B?n:n.split(`
`).reduce(Toe,[]),Z=dre(p,R),W=Z.width,Q=Z.height,q=Z.widths,oe=Z.heights,re=Z.lineWidths,ce=W+P,se=[],le=(ce+2)*b[0],ye=(Q+P)*b[1],De={width:le<0?Math.floor(le):Math.ceil(le),height:ye<0?Math.floor(ye):Math.ceil(ye),contextInstructions:se};if((b[0]!=1||b[1]!=1)&&se.push("scale",b),i){se.push("strokeStyle",s.strokeStyle),se.push("lineWidth",P),se.push("lineCap",s.lineCap),se.push("lineJoin",s.lineJoin),se.push("miterLimit",s.miterLimit);var Ne=n5?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Ne.prototype.setLineDash&&(se.push("setLineDash",[s.lineDash]),se.push("lineDashOffset",s.lineDashOffset))}r&&se.push("fillStyle",a.fillStyle),se.push("textBaseline","middle"),se.push("textAlign","center");for(var et=.5-k,ft=k*ce+et*P,Ke=[],rt=[],Ce=0,Rt=0,jt=0,tn=0,Qt,He=0,Je=R.length;He<Je;He+=2){var tt=R[He];if(tt===`
`){Rt+=Ce,Ce=0,ft=k*ce+et*P,++tn;continue}var rn=R[He+1]||p.font;rn!==Qt&&(i&&Ke.push("font",rn),r&&rt.push("font",rn),Qt=rn),Ce=Math.max(Ce,oe[jt]);var mt=[tt,ft+et*q[jt]+k*(q[jt]-re[tn]),.5*(P+Ce)+Rt];ft+=q[jt],i&&Ke.push("strokeText",mt),r&&rt.push("fillText",mt),++jt}return Array.prototype.push.apply(se,Ke),Array.prototype.push.apply(se,rt),this.labels_[o]=De,De},e.prototype.replayTextBackground_=function(n,t,r,i,o,s,a){n.beginPath(),n.moveTo.apply(n,t),n.lineTo.apply(n,r),n.lineTo.apply(n,i),n.lineTo.apply(n,o),n.lineTo.apply(n,t),s&&(this.alignFill_=s[2],this.fill_(n)),a&&(this.setStrokeStyle_(n,a),n.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(n,t,r,i,o,s,a,p,g,b,B,k,P,R,Z,W){a*=k[0],p*=k[1];var Q=r-a,q=i-p,oe=o+g>n?n-g:o,re=s+b>t?t-b:s,ce=R[3]+oe*k[0]+R[1],se=R[0]+re*k[1]+R[2],le=Q-R[3],ye=q-R[0];(Z||B!==0)&&(Hp[0]=le,Zp[0]=le,Hp[1]=ye,Zf[1]=ye,Zf[0]=le+ce,Xf[0]=Zf[0],Xf[1]=ye+se,Zp[1]=Xf[1]);var De;return B!==0?(De=gf(md(),r,i,1,1,B,-r,-i),ul(De,Hp),ul(De,Zf),ul(De,Xf),ul(De,Zp),yf(Math.min(Hp[0],Zf[0],Xf[0],Zp[0]),Math.min(Hp[1],Zf[1],Xf[1],Zp[1]),Math.max(Hp[0],Zf[0],Xf[0],Zp[0]),Math.max(Hp[1],Zf[1],Xf[1],Zp[1]),ug)):yf(Math.min(le,le+ce),Math.min(ye,ye+se),Math.max(le,le+ce),Math.max(ye,ye+se),ug),P&&(Q=Math.round(Q),q=Math.round(q)),{drawImageX:Q,drawImageY:q,drawImageW:oe,drawImageH:re,originX:g,originY:b,declutterBox:{minX:ug[0],minY:ug[1],maxX:ug[2],maxY:ug[3],value:W},canvasTransform:De,scale:k}},e.prototype.replayImageOrLabel_=function(n,t,r,i,o,s,a){var p=!!(s||a),g=i.declutterBox,b=n.canvas,B=a?a[2]*i.scale[0]/2:0,k=g.minX-B<=b.width/t&&g.maxX+B>=0&&g.minY-B<=b.height/t&&g.maxY+B>=0;return k&&(p&&this.replayTextBackground_(n,Hp,Zf,Xf,Zp,s,a),hre(n,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(n){if(this.alignFill_){var t=ul(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;n.save(),n.translate(t[0]%r,t[1]%r),n.rotate(this.viewRotation_)}n.fill(),this.alignFill_&&n.restore()},e.prototype.setStrokeStyle_=function(n,t){n.strokeStyle=t[1],n.lineWidth=t[2],n.lineCap=t[3],n.lineJoin=t[4],n.miterLimit=t[5],n.setLineDash&&(n.lineDashOffset=t[7],n.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(n,t,r,i){var o=this.textStates[t],s=this.createLabel(n,t,i,r),a=this.strokeStates[r],p=this.pixelRatio,g=j9(Array.isArray(n)?n[0]:n,o.textAlign||d_),b=SC[o.textBaseline||O3],B=a&&a.lineWidth?a.lineWidth:0,k=s.width/p-2*o.scale[0],P=g*k+2*(.5-g)*B,R=b*s.height/p+2*(.5-b)*B;return{label:s,anchorX:P,anchorY:R}},e.prototype.execute_=function(n,t,r,i,o,s,a,p){var g;this.pixelCoordinates_&&y1(r,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=Km(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),kee(this.renderedTransform_,r));for(var b=0,B=i.length,k=0,P,R,Z,W,Q,q,oe,re,ce,se,le,ye,De=0,Ne=0,et=null,ft=null,Ke=this.coordinateCache_,rt=this.viewRotation_,Ce=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Rt={context:n,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:rt},jt=this.instructions!=i||this.overlaps?0:200,tn,Qt,He,Je;b<B;){var tt=i[b],rn=tt[0];switch(rn){case ri.BEGIN_GEOMETRY:tn=tt[1],Je=tt[3],tn.getGeometry()?a!==void 0&&!Al(a,Je.getExtent())?b=tt[2]+1:++b:b=tt[2];break;case ri.BEGIN_PATH:De>jt&&(this.fill_(n),De=0),Ne>jt&&(n.stroke(),Ne=0),!De&&!Ne&&(n.beginPath(),W=NaN,Q=NaN),++b;break;case ri.CIRCLE:k=tt[1];var mt=g[k],dt=g[k+1],kt=g[k+2],Pt=g[k+3],Me=kt-mt,he=Pt-dt,be=Math.sqrt(Me*Me+he*he);n.moveTo(mt+be,dt),n.arc(mt,dt,be,0,2*Math.PI,!0),++b;break;case ri.CLOSE_PATH:n.closePath(),++b;break;case ri.CUSTOM:k=tt[1],P=tt[2];var Pe=tt[3],Ze=tt[4],nt=tt.length==6?tt[5]:void 0;Rt.geometry=Pe,Rt.feature=tn,b in Ke||(Ke[b]=[]);var xt=Ke[b];nt?nt(g,k,P,2,xt):(xt[0]=g[k],xt[1]=g[k+1],xt.length=2),Ze(xt,Rt),++b;break;case ri.DRAW_IMAGE:k=tt[1],P=tt[2],re=tt[3],R=tt[4],Z=tt[5];var Ft=tt[6],Dt=tt[7],pt=tt[8],nr=tt[9],pn=tt[10],bn=tt[11],Jn=tt[12],mr=tt[13],xr=tt[14],Nr=tt[15];if(!re&&tt.length>=20){ce=tt[19],se=tt[20],le=tt[21],ye=tt[22];var Cr=this.drawLabelWithPointPlacement_(ce,se,le,ye);re=Cr.label,tt[3]=re;var fi=tt[23];R=(Cr.anchorX-fi)*this.pixelRatio,tt[4]=R;var we=tt[24];Z=(Cr.anchorY-we)*this.pixelRatio,tt[5]=Z,Ft=re.height,tt[6]=Ft,mr=re.width,tt[13]=mr}var H=void 0;tt.length>25&&(H=tt[25]);var Y=void 0,Be=void 0,st=void 0;tt.length>17?(Y=tt[16],Be=tt[17],st=tt[18]):(Y=z0,Be=!1,st=!1),pn&&Ce?bn+=rt:!pn&&!Ce&&(bn-=rt);for(var St=0;k<P;k+=2)if(!(H&&H[St++]<mr/this.pixelRatio)){var Et=this.calculateImageOrLabelDimensions_(re.width,re.height,g[k],g[k+1],mr,Ft,R,Z,pt,nr,bn,Jn,o,Y,Be||st,tn),Nt=[n,t,re,Et,Dt,Be?et:null,st?ft:null];if(p){if(xr==="none")continue;if(xr==="obstacle"){p.insert(Et.declutterBox);continue}else{var mn=void 0,Kn=void 0;if(Nr){var En=P-k;if(!Nr[En]){Nr[En]=Nt;continue}if(mn=Nr[En],delete Nr[En],Kn=z9(mn),p.collides(Kn))continue}if(p.collides(Et.declutterBox))continue;mn&&(p.insert(Kn),this.replayImageOrLabel_.apply(this,mn)),p.insert(Et.declutterBox)}}this.replayImageOrLabel_.apply(this,Nt)}++b;break;case ri.DRAW_CHARS:var m=tt[1],Tt=tt[2],Ur=tt[3],Wn=tt[4];ye=tt[5];var Te=tt[6],de=tt[7],ve=tt[8];le=tt[9];var Se=tt[10];ce=tt[11],se=tt[12];var Re=[tt[13],tt[13]],Xe=this.textStates[se],at=Xe.font,ht=[Xe.scale[0]*de,Xe.scale[1]*de],Ve=void 0;at in this.widths_?Ve=this.widths_[at]:(Ve={},this.widths_[at]=Ve);var _t=TL(g,m,Tt,2),Zt=Math.abs(ht[0])*E9(at,ce,Ve);if(Wn||Zt<=_t){var Ht=this.textStates[se].textAlign,qt=(_t-Zt)*SC[Ht],Vn=koe(g,m,Tt,2,ce,qt,Te,Math.abs(ht[0]),E9,at,Ve,Ce?0:this.viewRotation_);e:if(Vn){var On=[],ir=void 0,or=void 0,Tr=void 0,Rr=void 0,Dr=void 0;if(le)for(ir=0,or=Vn.length;ir<or;++ir){Dr=Vn[ir],Tr=Dr[4],Rr=this.createLabel(Tr,se,"",le),R=Dr[2]+(ht[0]<0?-Se:Se),Z=Ur*Rr.height+(.5-Ur)*2*Se*ht[1]/ht[0]-ve;var Et=this.calculateImageOrLabelDimensions_(Rr.width,Rr.height,Dr[0],Dr[1],Rr.width,Rr.height,R,Z,0,0,Dr[3],Re,!1,z0,!1,tn);if(p&&p.collides(Et.declutterBox))break e;On.push([n,t,Rr,Et,1,null,null])}if(ye)for(ir=0,or=Vn.length;ir<or;++ir){Dr=Vn[ir],Tr=Dr[4],Rr=this.createLabel(Tr,se,ye,""),R=Dr[2],Z=Ur*Rr.height-ve;var Et=this.calculateImageOrLabelDimensions_(Rr.width,Rr.height,Dr[0],Dr[1],Rr.width,Rr.height,R,Z,0,0,Dr[3],Re,!1,z0,!1,tn);if(p&&p.collides(Et.declutterBox))break e;On.push([n,t,Rr,Et,1,null,null])}p&&p.load(On.map(z9));for(var ei=0,rr=On.length;ei<rr;++ei)this.replayImageOrLabel_.apply(this,On[ei])}}++b;break;case ri.END_GEOMETRY:if(s!==void 0){tn=tt[1];var li=s(tn,Je);if(li)return li}++b;break;case ri.FILL:jt?De++:this.fill_(n),++b;break;case ri.MOVE_TO_LINE_TO:for(k=tt[1],P=tt[2],Qt=g[k],He=g[k+1],q=Qt+.5|0,oe=He+.5|0,(q!==W||oe!==Q)&&(n.moveTo(Qt,He),W=q,Q=oe),k+=2;k<P;k+=2)Qt=g[k],He=g[k+1],q=Qt+.5|0,oe=He+.5|0,(k==P-2||q!==W||oe!==Q)&&(n.lineTo(Qt,He),W=q,Q=oe);++b;break;case ri.SET_FILL_STYLE:et=tt,this.alignFill_=tt[2],De&&(this.fill_(n),De=0,Ne&&(n.stroke(),Ne=0)),n.fillStyle=tt[1],++b;break;case ri.SET_STROKE_STYLE:ft=tt,Ne&&(n.stroke(),Ne=0),this.setStrokeStyle_(n,tt),++b;break;case ri.STROKE:jt?Ne++:n.stroke(),++b;break;default:++b;break}}De&&this.fill_(n),Ne&&n.stroke()},e.prototype.execute=function(n,t,r,i,o,s){this.viewRotation_=i,this.execute_(n,t,r,this.instructions,o,void 0,void 0,s)},e.prototype.executeHitDetection=function(n,t,r,i,o){return this.viewRotation_=r,this.execute_(n,1,t,this.hitDetectionInstructions,!0,i,o)},e}();const Poe=Koe;var gM=["Polygon","Circle","LineString","Image","Text","Default"],Foe=function(){function e(n,t,r,i,o,s){this.maxExtent_=n,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=md(),this.createExecutors_(o)}return e.prototype.clip=function(n,t){var r=this.getClipCoords(t);n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[2],r[3]),n.lineTo(r[4],r[5]),n.lineTo(r[6],r[7]),n.clip()},e.prototype.createExecutors_=function(n){for(var t in n){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var i=n[t];for(var o in i){var s=i[o];r[o]=new Poe(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},e.prototype.hasExecutors=function(n){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],i=0,o=n.length;i<o;++i)if(n[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(n,t,r,i,o,s){i=Math.round(i);var a=i*2+1,p=gf(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-n[0],-n[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=XA(a,a));var b=this.hitDetectionContext_;b.canvas.width!==a||b.canvas.height!==a?(b.canvas.width=a,b.canvas.height=a):g||b.clearRect(0,0,a,a);var B;this.renderBuffer_!==void 0&&(B=Cd(),MC(B,n),Tm(B,t*(this.renderBuffer_+i),B));var k=Doe(i),P;function R(se,le){for(var ye=b.getImageData(0,0,a,a).data,De=0,Ne=k.length;De<Ne;De++)if(ye[k[De]]>0){if(!s||P!=="Image"&&P!=="Text"||s.indexOf(se)!==-1){var et=(k[De]-3)/4,ft=i-et%a,Ke=i-(et/a|0),rt=o(se,le,ft*ft+Ke*Ke);if(rt)return rt}b.clearRect(0,0,a,a);break}}var Z=Object.keys(this.executorsByZIndex_).map(Number);Z.sort(l1);var W,Q,q,oe,re;for(W=Z.length-1;W>=0;--W){var ce=Z[W].toString();for(q=this.executorsByZIndex_[ce],Q=gM.length-1;Q>=0;--Q)if(P=gM[Q],oe=q[P],oe!==void 0&&(re=oe.executeHitDetection(b,p,r,R,B),re))return re}},e.prototype.getClipCoords=function(n){var t=this.maxExtent_;if(!t)return null;var r=t[0],i=t[1],o=t[2],s=t[3],a=[r,i,r,s,o,s,o,i];return Km(a,0,8,2,n,a),a},e.prototype.isEmpty=function(){return A1(this.executorsByZIndex_)},e.prototype.execute=function(n,t,r,i,o,s,a){var p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(l1),this.maxExtent_&&(n.save(),this.clip(n,r));var g=s||gM,b,B,k,P,R,Z;for(a&&p.reverse(),b=0,B=p.length;b<B;++b){var W=p[b].toString();for(R=this.executorsByZIndex_[W],k=0,P=g.length;k<P;++k){var Q=g[k];Z=R[Q],Z!==void 0&&Z.execute(n,t,r,i,o,a)}}this.maxExtent_&&n.restore()},e}(),yM={};function Doe(e){if(yM[e]!==void 0)return yM[e];for(var n=e*2+1,t=e*e,r=new Array(t+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var s=i*i+o*o;if(s>t)break;var a=r[s];a||(a=[],r[s]=a),a.push(((e+i)*n+(e+o))*4+3),i>0&&a.push(((e-i)*n+(e+o))*4+3),o>0&&(a.push(((e+i)*n+(e-o))*4+3),i>0&&a.push(((e-i)*n+(e-o))*4+3))}for(var p=[],i=0,g=r.length;i<g;++i)r[i]&&p.push.apply(p,r[i]);return yM[e]=p,p}const T3=Foe;var Uoe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Roe=function(e){Uoe(n,e);function n(t,r,i,o,s,a,p){var g=e.call(this)||this;return g.context_=t,g.pixelRatio_=r,g.extent_=i,g.transform_=o,g.viewRotation_=s,g.squaredTolerance_=a,g.userTransform_=p,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=md(),g}return n.prototype.drawImages_=function(t,r,i,o){if(this.image_){var s=Km(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,p=this.tmpLocalTransform_,g=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=g*this.imageOpacity_);var b=this.imageRotation_;this.imageRotateWithView_&&(b+=this.viewRotation_);for(var B=0,k=s.length;B<k;B+=2){var P=s[B]-this.imageAnchorX_,R=s[B+1]-this.imageAnchorY_;if(b!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var Z=P+this.imageAnchorX_,W=R+this.imageAnchorY_;gf(p,Z,W,1,1,b,-Z,-W),a.setTransform.apply(a,p),a.translate(Z,W),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,P,R,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=g)}},n.prototype.drawText_=function(t,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=Km(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,p=this.textRotation_;for(this.textRotateWithView_&&(p+=this.viewRotation_);r<i;r+=o){var g=s[r]+this.textOffsetX_,b=s[r+1]+this.textOffsetY_;if(p!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var B=gf(this.tmpLocalTransform_,g,b,1,1,p,-g,-b);a.setTransform.apply(a,B),a.translate(g,b),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,g,b),this.textFillState_&&a.fillText(this.text_,g,b)}}},n.prototype.moveToLineTo_=function(t,r,i,o,s){var a=this.context_,p=Km(t,r,i,o,this.transform_,this.pixelCoordinates_);a.moveTo(p[0],p[1]);var g=p.length;s&&(g-=2);for(var b=2;b<g;b+=2)a.lineTo(p[b],p[b+1]);return s&&a.closePath(),i},n.prototype.drawRings_=function(t,r,i,o){for(var s=0,a=i.length;s<a;++s)r=this.moveToLineTo_(t,r,i[s],o,!0);return r},n.prototype.drawCircle=function(t){if(Al(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Ste(t,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],s=Math.sqrt(i*i+o*o),a=this.context_;a.beginPath(),a.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},n.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},n.prototype.setTransform=function(t){this.transform_=t},n.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}},n.prototype.drawFeature=function(t,r){var i=r.getGeometryFunction()(t);!i||!Al(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},n.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},n.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},n.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Al(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},n.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(Al(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),s=0,a=t.getEnds(),p=t.getStride();i.beginPath();for(var g=0,b=a.length;g<b;++g)s=this.moveToLineTo_(o,s,a[g],p,!1);i.stroke()}if(this.text_!==""){var B=t.getFlatMidpoints();this.drawText_(B,0,B.length,2)}}},n.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Al(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},n.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Al(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),a=t.getStride();r.beginPath();for(var p=0,g=s.length;p<g;++p){var b=s[p];o=this.drawRings_(i,o,b,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var B=t.getFlatInteriorPoints();this.drawText_(B,0,B.length,2)}}},n.prototype.setContextFillState_=function(t){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},n.prototype.setContextStrokeState_=function(t){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(y1(i.lineDash,t.lineDash)||r.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},n.prototype.setContextTextState_=function(t){var r=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:d_;i?(i.font!=t.font&&(i.font=t.font,r.font=t.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=o,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},n.prototype.setFillStrokeStyle=function(t,r){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:sf(o||bp)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),a=r.getLineCap(),p=r.getLineDash(),g=r.getLineDashOffset(),b=r.getLineJoin(),B=r.getWidth(),k=r.getMiterLimit(),P=p||l_;this.strokeState_={lineCap:a!==void 0?a:E3,lineDash:this.pixelRatio_===1?P:P.map(function(R){return R*i.pixelRatio_}),lineDashOffset:(g||u_)*this.pixelRatio_,lineJoin:b!==void 0?b:Sy,lineWidth:(B!==void 0?B:h_)*this.pixelRatio_,miterLimit:k!==void 0?k:A_,strokeStyle:sf(s||c_)}}},n.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},n.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:sf(i||bp)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),a=o.getLineCap(),p=o.getLineDash(),g=o.getLineDashOffset(),b=o.getLineJoin(),B=o.getWidth(),k=o.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:E3,lineDash:p||l_,lineDashOffset:g||u_,lineJoin:b!==void 0?b:Sy,lineWidth:B!==void 0?B:h_,miterLimit:k!==void 0?k:A_,strokeStyle:sf(s||c_)}}var P=t.getFont(),R=t.getOffsetX(),Z=t.getOffsetY(),W=t.getRotateWithView(),Q=t.getRotation(),q=t.getScaleArray(),oe=t.getText(),re=t.getTextAlign(),ce=t.getTextBaseline();this.textState_={font:P!==void 0?P:qL,textAlign:re!==void 0?re:d_,textBaseline:ce!==void 0?ce:O3},this.text_=oe!==void 0?Array.isArray(oe)?oe.reduce(function(se,le,ye){return se+=ye%2?" ":le},""):oe:"",this.textOffsetX_=R!==void 0?this.pixelRatio_*R:0,this.textOffsetY_=Z!==void 0?this.pixelRatio_*Z:0,this.textRotateWithView_=W!==void 0?W:!1,this.textRotation_=Q!==void 0?Q:0,this.textScale_=[this.pixelRatio_*q[0],this.pixelRatio_*q[1]]}},n}(dz);const am={FRACTION:"fraction",PIXELS:"pixels"},ad={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var Loe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zoe=function(e){Loe(n,e);function n(t,r,i,o){var s=e.call(this)||this;return s.extent=t,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return n.prototype.changed=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.getExtent=function(){return this.extent},n.prototype.getImage=function(){return si()},n.prototype.getPixelRatio=function(){return this.pixelRatio_},n.prototype.getResolution=function(){return this.resolution},n.prototype.getState=function(){return this.state},n.prototype.load=function(){si()},n}(jy);const joe=zoe;var Woe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(e){Woe(n,e);function n(t,r,i,o,s,a){var p=e.call(this,t,r,i,Ga.IDLE)||this;return p.src_=o,p.image_=new Image,s!==null&&(p.image_.crossOrigin=s),p.unlisten_=null,p.state=Ga.IDLE,p.imageLoadFunction_=a,p}return n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=Ga.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ZA(this.extent)/this.image_.height),this.state=Ga.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){(this.state==Ga.IDLE||this.state==Ga.ERROR)&&(this.state=Ga.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=p7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(t){this.image_=t,this.resolution=ZA(this.extent)/this.image_.height},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n})(joe);function p7(e,n,t){var r=e,i=!0,o=!1,s=!1,a=[g3(r,Bi.LOAD,function(){s=!0,o||n()})];return r.src&&Bee?(o=!0,r.decode().then(function(){i&&n()}).catch(function(p){i&&(s?n():t())})):a.push(g3(r,Bi.ERROR,t)),function(){i=!1,a.forEach(Qa)}}var Noe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rv=null,Goe=function(e){Noe(n,e);function n(t,r,i,o,s,a){var p=e.call(this)||this;return p.hitDetectionImage_=null,p.image_=t||new Image,o!==null&&(p.image_.crossOrigin=o),p.canvas_={},p.color_=a,p.unlisten_=null,p.imageState_=s,p.size_=i,p.src_=r,p.tainted_,p}return n.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Ga.LOADED){Rv||(Rv=XA(1,1)),Rv.drawImage(this.image_,0,0);try{Rv.getImageData(0,0,1,1),this.tainted_=!1}catch{Rv=null,this.tainted_=!0}}return this.tainted_===!0},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=Ga.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=Ga.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},n.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],i=XA(t,r);i.fillRect(0,0,t,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==Ga.IDLE){this.imageState_=Ga.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=p7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==Ga.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var i=r.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=WL(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.color_[0]/255,p=this.color_[1]/255,g=this.color_[2]/255,b=this.color_[3],B=0,k=s.length;B<k;B+=4)s[B]*=a,s[B+1]*=p,s[B+2]*=g,s[B+3]*=b;i.putImageData(o,0,0)}}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(jy);function Qoe(e,n,t,r,i,o){var s=w3.get(n,r,o);return s||(s=new Goe(e,n,t,r,i,o),w3.set(n,r,o,s)),s}var $oe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yoe=function(e){$oe(n,e);function n(t){var r=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,a=i.scale!==void 0?i.scale:1,p=i.rotateWithView!==void 0?i.rotateWithView:!1;r=e.call(this,{opacity:o,rotation:s,scale:a,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:p,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:ad.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:am.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:am.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var b=i.src;ao(!(b!==void 0&&g),4),ao(!g||g&&r.imgSize_,5),(b===void 0||b.length===0)&&g&&(b=g.src||Ni(g)),ao(b!==void 0&&b.length>0,6);var B=i.src!==void 0?Ga.IDLE:Ga.LOADED;return r.color_=i.color!==void 0?x3(i.color):null,r.iconImage_=Qoe(g,b,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,B,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:ad.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return n.prototype.clone=function(){var t=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},n.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==am.FRACTION||this.anchorYUnits_==am.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==am.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==am.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=ad.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==ad.TOP_RIGHT||this.anchorOrigin_==ad.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==ad.BOTTOM_LEFT||this.anchorOrigin_==ad.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},n.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},n.prototype.getColor=function(){return this.color_},n.prototype.getImage=function(t){return this.iconImage_.getImage(t)},n.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},n.prototype.getImageSize=function(){return this.iconImage_.getSize()},n.prototype.getImageState=function(){return this.iconImage_.getImageState()},n.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},n.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ad.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;t=t.slice(),(this.offsetOrigin_==ad.TOP_RIGHT||this.offsetOrigin_==ad.BOTTOM_RIGHT)&&(t[0]=i[0]-r[0]-t[0]),(this.offsetOrigin_==ad.BOTTOM_LEFT||this.offsetOrigin_==ad.BOTTOM_RIGHT)&&(t[1]=i[1]-r[1]-t[1])}return this.origin_=t,this.origin_},n.prototype.getSrc=function(){return this.iconImage_.getSrc()},n.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},n.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Bi.CHANGE,t)},n.prototype.load=function(){this.iconImage_.load()},n.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Bi.CHANGE,t)},n}(uz);const pz=Yoe;var qoe="#333",Voe=function(){function e(n){var t=n||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=mA(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Rg({color:qoe}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:hz.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return e.prototype.clone=function(){var n=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(n){this.overflow_=n},e.prototype.setFont=function(n){this.font_=n},e.prototype.setMaxAngle=function(n){this.maxAngle_=n},e.prototype.setOffsetX=function(n){this.offsetX_=n},e.prototype.setOffsetY=function(n){this.offsetY_=n},e.prototype.setPlacement=function(n){this.placement_=n},e.prototype.setRotateWithView=function(n){this.rotateWithView_=n},e.prototype.setFill=function(n){this.fill_=n},e.prototype.setRotation=function(n){this.rotation_=n},e.prototype.setScale=function(n){this.scale_=n,this.scaleArray_=mA(n!==void 0?n:1)},e.prototype.setStroke=function(n){this.stroke_=n},e.prototype.setText=function(n){this.text_=n},e.prototype.setTextAlign=function(n){this.textAlign_=n},e.prototype.setJustify=function(n){this.justify_=n},e.prototype.setTextBaseline=function(n){this.textBaseline_=n},e.prototype.setBackgroundFill=function(n){this.backgroundFill_=n},e.prototype.setBackgroundStroke=function(n){this.backgroundStroke_=n},e.prototype.setPadding=function(n){this.padding_=n},e}(),kc=.5;function mz(e,n,t,r,i,o,s){var a=e[0]*kc,p=e[1]*kc,g=XA(a,p);g.imageSmoothingEnabled=!1;for(var b=g.canvas,B=new Roe(g,kc,i,null,s),k=t.length,P=Math.floor((256*256*256-1)/k),R={},Z=1;Z<=k;++Z){var W=t[Z-1],Q=W.getStyleFunction()||r;if(r){var q=Q(W,o);if(q){Array.isArray(q)||(q=[q]);for(var oe=Z*P,re="#"+("000000"+oe.toString(16)).slice(-6),ce=0,se=q.length;ce<se;++ce){var le=q[ce],ye=le.getGeometryFunction()(W);if(!(!ye||!Al(i,ye.getExtent()))){var De=le.clone(),Ne=De.getFill();Ne&&Ne.setColor(re);var et=De.getStroke();et&&(et.setColor(re),et.setLineDash(null)),De.setText(void 0);var ft=le.getImage();if(ft&&ft.getOpacity()!==0){var Ke=ft.getImageSize();if(!Ke)continue;var rt=XA(Ke[0],Ke[1],void 0,{alpha:!1}),Ce=rt.canvas;rt.fillStyle=re,rt.fillRect(0,0,Ce.width,Ce.height),De.setImage(new pz({img:Ce,imgSize:Ke,anchor:ft.getAnchor(),anchorXUnits:am.PIXELS,anchorYUnits:am.PIXELS,offset:ft.getOrigin(),opacity:1,size:ft.getSize(),scale:ft.getScale(),rotation:ft.getRotation(),rotateWithView:ft.getRotateWithView()}))}var Rt=De.getZIndex()||0,jt=R[Rt];jt||(jt={},R[Rt]=jt,jt.Polygon=[],jt.Circle=[],jt.LineString=[],jt.Point=[]),jt[ye.getType().replace("Multi","")].push(ye,De)}}}}}for(var tn=Object.keys(R).map(Number).sort(l1),Z=0,Qt=tn.length;Z<Qt;++Z){var jt=R[tn[Z]];for(var He in jt)for(var Je=jt[He],ce=0,se=Je.length;ce<se;ce+=2){B.setStyle(Je[ce+1]);for(var tt=0,rn=n.length;tt<rn;++tt)B.setTransform(n[tt]),B.drawGeometry(Je[ce])}}return g.getImageData(0,0,b.width,b.height)}function gz(e,n,t){var r=[];if(t){var i=Math.floor(Math.round(e[0])*kc),o=Math.floor(Math.round(e[1])*kc),s=(Bl(i,0,t.width-1)+Bl(o,0,t.height-1)*t.width)*4,a=t.data[s],p=t.data[s+1],g=t.data[s+2],b=g+256*(p+256*a),B=Math.floor((256*256*256-1)/n.length);b&&b%B===0&&r.push(n[b/B-1])}return r}var Hoe=.5,yz={Point:iae,LineString:tae,Polygon:aae,MultiPoint:oae,MultiLineString:nae,MultiPolygon:rae,GeometryCollection:eae,Circle:Xoe};function Zoe(e,n){return parseInt(Ni(e),10)-parseInt(Ni(n),10)}function vz(e,n){var t=rE(e,n);return t*t}function rE(e,n){return Hoe*e/n}function Xoe(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=e.getBuilder(t.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(n,r)}var p=t.getText();if(p&&p.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(p),g.drawText(n,r)}}function K3(e,n,t,r,i,o,s){var a=!1,p=t.getImage();if(p){var g=p.getImageState();g==Ga.LOADED||g==Ga.ERROR?p.unlistenImageChange(i):(g==Ga.IDLE&&p.load(),p.listenImageChange(i),a=!0)}return Joe(e,n,t,r,o,s),a}function Joe(e,n,t,r,i,o){var s=t.getGeometryFunction()(n);if(s){var a=s.simplifyTransformed(r,i),p=t.getRenderer();if(p)Cz(e,a,t,n);else{var g=yz[a.getType()];g(e,a,t,n,o)}}}function Cz(e,n,t,r){if(n.getType()=="GeometryCollection"){for(var i=n.getGeometries(),o=0,s=i.length;o<s;++o)Cz(e,i[o],t,r);return}var a=e.getBuilder(t.getZIndex(),"Default");a.drawCustom(n,r,t.getRenderer(),t.getHitDetectionRenderer())}function eae(e,n,t,r,i){var o=n.getGeometriesArray(),s,a;for(s=0,a=o.length;s<a;++s){var p=yz[o[s].getType()];p(e,o[s],t,r,i)}}function tae(e,n,t,r,i){var o=t.getStroke();if(o){var s=e.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(n,r)}var a=t.getText();if(a&&a.getText()){var p=(i||e).getBuilder(t.getZIndex(),"Text");p.setTextStyle(a),p.drawText(n,r)}}function nae(e,n,t,r,i){var o=t.getStroke();if(o){var s=e.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(n,r)}var a=t.getText();if(a&&a.getText()){var p=(i||e).getBuilder(t.getZIndex(),"Text");p.setTextStyle(a),p.drawText(n,r)}}function rae(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(s||o){var a=e.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(n,r)}var p=t.getText();if(p&&p.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(p),g.drawText(n,r)}}function iae(e,n,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=Ga.LOADED)return;var p=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(p=i,g==="obstacle"){var b=e.getBuilder(t.getZIndex(),"Image");b.setImageStyle(o,a),b.drawPoint(n,r)}else s&&s.getText()&&(a={})}var B=p.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawPoint(n,r)}if(s&&s.getText()){var k=e;i&&(k=i);var P=k.getBuilder(t.getZIndex(),"Text");P.setTextStyle(s,a),P.drawText(n,r)}}function oae(e,n,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=Ga.LOADED)return;var p=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(p=i,g==="obstacle"){var b=e.getBuilder(t.getZIndex(),"Image");b.setImageStyle(o,a),b.drawMultiPoint(n,r)}else s&&s.getText()&&(a={})}var B=p.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawMultiPoint(n,r)}if(s&&s.getText()){var k=e;i&&(k=i);var P=k.getBuilder(t.getZIndex(),"Text");P.setTextStyle(s,a),P.drawText(n,r)}}function aae(e,n,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=e.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(n,r)}var p=t.getText();if(p&&p.getText()){var g=(i||e).getBuilder(t.getZIndex(),"Text");g.setTextStyle(p),g.drawText(n,r)}}var sae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lae=function(e){sae(n,e);function n(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Cd(),r.wrappedRenderedExtent_=Cd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return n.prototype.renderWorlds=function(t,r,i){var o=r.extent,s=r.viewState,a=s.center,p=s.resolution,g=s.projection,b=s.rotation,B=g.getExtent(),k=this.getLayer().getSource(),P=r.pixelRatio,R=r.viewHints,Z=!(R[Js.ANIMATING]||R[Js.INTERACTING]),W=this.compositionContext_,Q=Math.round(r.size[0]*P),q=Math.round(r.size[1]*P),oe=k.getWrapX()&&g.canWrapX(),re=oe?ls(B):null,ce=oe?Math.ceil((o[2]-B[2])/re)+1:1,se=oe?Math.floor((o[0]-B[0])/re):0;do{var le=this.getRenderTransform(a,p,b,P,Q,q,se*re);t.execute(W,1,le,b,Z,void 0,i)}while(++se<ce)},n.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var t=XA(this.context.canvas.width,this.context.canvas.height,L9);this.compositionContext_=t}else this.compositionContext_=this.context},n.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,s7(this.compositionContext_),L9.push(this.compositionContext_.canvas),this.compositionContext_=null}},n.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},n.prototype.renderFrame=function(t,r){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Iee(this.pixelTransform,1/i,1/i),LB(this.inversePixelTransform,this.pixelTransform);var s=fL(this.pixelTransform);this.useContainer(r,s,this.getBackground(t));var a=this.context,p=a.canvas,g=this.replayGroup_,b=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!b||b.isEmpty()))return null;var B=Math.round(t.size[0]*i),k=Math.round(t.size[1]*i);p.width!=B||p.height!=k?(p.width=B,p.height=k,p.style.transform!==s&&(p.style.transform=s)):this.containerReused||a.clearRect(0,0,B,k),this.preRender(a,t);var P=t.viewState;P.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var R=!1,Z=!0;if(o.extent&&this.clipping){var W=R0(o.extent);Z=Al(W,t.extent),R=Z&&!mm(W,t.extent),R&&this.clipUnrotated(this.compositionContext_,t,W)}return Z&&this.renderWorlds(g,t),R&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,t),this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null),this.container},n.prototype.getFeatures=function(t){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];ul(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,p=this.renderedProjection_,g=this.wrappedRenderedExtent_,b=this.getLayer(),B=[],k=i[0]*kc,P=i[1]*kc;B.push(this.getRenderTransform(o,s,a,kc,k,P,0).slice());var R=b.getSource(),Z=p.getExtent();if(R.getWrapX()&&p.canWrapX()&&!mm(Z,g)){for(var W=g[0],Q=ls(Z),q=0,oe=void 0;W<Z[0];)--q,oe=Q*q,B.push(this.getRenderTransform(o,s,a,kc,k,P,oe).slice()),W+=Q;for(q=0,W=g[2];W>Z[2];)++q,oe=Q*q,B.push(this.getRenderTransform(o,s,a,kc,k,P,oe).slice()),W-=Q}this.hitDetectionImageData_=mz(i,B,this.renderedFeatures_,b.getStyleFunction(),g,s,a)}r(gz(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=this;if(this.replayGroup_){var p=r.viewState.resolution,g=r.viewState.rotation,b=this.getLayer(),B={},k=function(Z,W,Q){var q=Ni(Z),oe=B[q];if(oe){if(oe!==!0&&Q<oe.distanceSq){if(Q===0)return B[q]=!0,s.splice(s.lastIndexOf(oe),1),o(Z,b,W);oe.geometry=W,oe.distanceSq=Q}}else{if(Q===0)return B[q]=!0,o(Z,b,W);s.push(B[q]={feature:Z,layer:b,geometry:W,distanceSq:Q,callback:o})}},P,R=[this.replayGroup_];return this.declutterExecutorGroup&&R.push(this.declutterExecutorGroup),R.some(function(Z){return P=Z.forEachFeatureAtCoordinate(t,p,g,i,k,Z===a.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(W){return W.value}):null)}),P}},n.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},n.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},n.prototype.prepareFrame=function(t){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=t.viewHints[Js.ANIMATING],s=t.viewHints[Js.INTERACTING],a=r.getUpdateWhileAnimating(),p=r.getUpdateWhileInteracting();if(this.ready&&!a&&o||!p&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=t.extent,b=t.viewState,B=b.projection,k=b.resolution,P=t.pixelRatio,R=r.getRevision(),Z=r.getRenderBuffer(),W=r.getRenderOrder();W===void 0&&(W=Zoe);var Q=b.center.slice(),q=Tm(g,Z*k),oe=q.slice(),re=[q.slice()],ce=B.getExtent();if(i.getWrapX()&&B.canWrapX()&&!mm(ce,t.extent)){var se=ls(ce),le=Math.max(ls(q)/2,se);q[0]=ce[0]-le,q[2]=ce[2]+le,QB(Q,B);var ye=CL(re[0],B);ye[0]<ce[0]&&ye[2]<ce[2]?re.push([ye[0]+se,ye[1],ye[2]+se,ye[3]]):ye[0]>ce[0]&&ye[2]>ce[2]&&re.push([ye[0]-se,ye[1],ye[2]-se,ye[3]])}if(this.ready&&this.renderedResolution_==k&&this.renderedRevision_==R&&this.renderedRenderOrder_==W&&mm(this.wrappedRenderedExtent_,q))return y1(this.renderedExtent_,oe)||(this.hitDetectionImageData_=null,this.renderedExtent_=oe),this.renderedCenter_=Q,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var De=new I3(rE(k,P),q,k,P),Ne;this.getLayer().getDeclutter()&&(Ne=new I3(rE(k,P),q,k,P));for(var et,ft,Ke,ft=0,Ke=re.length;ft<Ke;++ft)i.loadFeatures(re[ft],k,B);var rt=vz(k,P),Ce=!0,Rt=(function(Je){var tt,rn=Je.getStyleFunction()||r.getStyleFunction();if(rn&&(tt=rn(Je,k)),tt){var mt=this.renderFeature(Je,rt,tt,De,et,Ne);Ce=Ce&&!mt}}).bind(this),jt=wL(q),tn=i.getFeaturesInExtent(jt);W&&tn.sort(W);for(var ft=0,Ke=tn.length;ft<Ke;++ft)Rt(tn[ft]);this.renderedFeatures_=tn,this.ready=Ce;var Qt=De.finish(),He=new T3(q,k,P,i.getOverlaps(),Qt,r.getRenderBuffer());return Ne&&(this.declutterExecutorGroup=new T3(q,k,P,i.getOverlaps(),Ne.finish(),r.getRenderBuffer())),this.renderedResolution_=k,this.renderedRevision_=R,this.renderedRenderOrder_=W,this.renderedExtent_=oe,this.wrappedRenderedExtent_=q,this.renderedCenter_=Q,this.renderedProjection_=B,this.replayGroup_=He,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},n.prototype.renderFeature=function(t,r,i,o,s,a){if(!i)return!1;var p=!1;if(Array.isArray(i))for(var g=0,b=i.length;g<b;++g)p=K3(o,t,i[g],r,this.boundHandleStyleImageChange_,s,a)||p;else p=K3(o,t,i,r,this.boundHandleStyleImageChange_,s,a);return p},n}(fz);const uae=lae;var Aae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cae=function(e){Aae(n,e);function n(t){return e.call(this,t)||this}return n.prototype.createRenderer=function(){return new uae(this)},n}(cz);const _z=cae;var W9=function(){function e(n){this.rbush_=new lz(n),this.items_={}}return e.prototype.insert=function(n,t){var r={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:t};this.rbush_.insert(r),this.items_[Ni(t)]=r},e.prototype.load=function(n,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var s=n[i],a=t[i],p={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=p,this.items_[Ni(a)]=p}this.rbush_.load(r)},e.prototype.remove=function(n){var t=Ni(n),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},e.prototype.update=function(n,t){var r=this.items_[Ni(t)],i=[r.minX,r.minY,r.maxX,r.maxY];My(i,n)||(this.remove(t),this.insert(n,t))},e.prototype.getAll=function(){var n=this.rbush_.all();return n.map(function(t){return t.value})},e.prototype.getInExtent=function(n){var t={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]},r=this.rbush_.search(t);return r.map(function(i){return i.value})},e.prototype.forEach=function(n){return this.forEach_(this.getAll(),n)},e.prototype.forEachInExtent=function(n,t){return this.forEach_(this.getInExtent(n),t)},e.prototype.forEach_=function(n,t){for(var r,i=0,o=n.length;i<o;i++)if(r=t(n[i]),r)return r;return r},e.prototype.isEmpty=function(){return A1(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(n){var t=this.rbush_.toJSON();return yf(t.minX,t.minY,t.maxX,t.maxY,n)},e.prototype.concat=function(n){this.rbush_.load(n.rbush_.all());for(var t in n.items_)this.items_[t]=n.items_[t]},e}(),dae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hae=function(e){dae(n,e);function n(t){var r=e.call(this)||this;r.projection=js(t.projection),r.attributions_=N9(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:"ready",r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),r}return n.prototype.getAttributions=function(){return this.attributions_},n.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},n.prototype.getProjection=function(){return this.projection},n.prototype.getResolutions=function(){return si()},n.prototype.getView=function(){return this.viewPromise_},n.prototype.getState=function(){return this.state_},n.prototype.getWrapX=function(){return this.wrapX_},n.prototype.getInterpolate=function(){return this.interpolate_},n.prototype.refresh=function(){this.changed()},n.prototype.setAttributions=function(t){this.attributions_=N9(t),this.changed()},n.prototype.setState=function(t){this.state_=t,this.changed()},n}(Ah);function N9(e){return e?Array.isArray(e)?function(n){return e}:typeof e=="function"?e:function(n){return[e]}:null}const bz=hae,Jd={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function fae(e,n){return[[-1/0,-1/0,1/0,1/0]]}var pae=!1;function xz(e,n,t,r,i,o,s){var a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(t,r,i):e,!0),n.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=pae,a.onload=function(p){if(!a.status||a.status>=200&&a.status<300){var g=n.getType(),b=void 0;g=="json"||g=="text"?b=a.responseText:g=="xml"?(b=a.responseXML,b||(b=new DOMParser().parseFromString(a.responseText,"application/xml"))):g=="arraybuffer"&&(b=a.response),b?o(n.readFeatures(b,{extent:t,featureProjection:i}),n.readProjection(b)):s()}else s()},a.onerror=s,a.send()}function G9(e,n){return function(t,r,i,o,s){var a=this;xz(e,n,t,r,i,function(p,g){a.addFeatures(p),o!==void 0&&o(p)},s||u1)}}var wz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xp=function(e){wz(n,e);function n(t,r,i){var o=e.call(this,t)||this;return o.feature=r,o.features=i,o}return n}(Ep),mae=function(e){wz(n,e);function n(t){var r=this,i=t||{};r=e.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=u1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(ao(r.format_,7),r.loader_=G9(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:fae;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new W9:null,r.loadedExtentsRtree_=new W9,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,a;return Array.isArray(i.features)?a=i.features:i.features&&(s=i.features,a=s.getArray()),!o&&s===void 0&&(s=new fd(a)),a!==void 0&&r.addFeaturesInternal(a),s!==void 0&&r.bindFeaturesCollection_(s),r}return n.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},n.prototype.addFeatureInternal=function(t){var r=Ni(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Xp(Jd.ADDFEATURE,t))},n.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[bo(r,Bi.CHANGE,this.handleFeatureChange_,this),bo(r,wy.PROPERTYCHANGE,this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(t,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(ao(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),i},n.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},n.prototype.addFeaturesInternal=function(t){for(var r=[],i=[],o=[],s=0,a=t.length;s<a;s++){var p=t[s],g=Ni(p);this.addToIndex_(g,p)&&i.push(p)}for(var s=0,b=i.length;s<b;s++){var p=i[s],g=Ni(p);this.setupChangeEvents_(g,p);var B=p.getGeometry();if(B){var k=B.getExtent();r.push(k),o.push(p)}else this.nullGeometryFeatures_[g]=p}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(Jd.ADDFEATURE))for(var s=0,P=i.length;s<P;s++)this.dispatchEvent(new Xp(Jd.ADDFEATURE,i[s]))},n.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(Jd.ADDFEATURE,function(i){r||(r=!0,t.push(i.feature),r=!1)}),this.addEventListener(Jd.REMOVEFEATURE,function(i){r||(r=!0,t.remove(i.feature),r=!1)}),t.addEventListener(YA.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),t.addEventListener(YA.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=t},n.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(Qa)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(p){this.removeFeatureInternal(p)}).bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new Xp(Jd.CLEAR);this.dispatchEvent(a),this.changed()},n.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},n.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(t))return r(o)})},n.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},n.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var s=r(i);if(s)return s}})},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),A1(this.nullGeometryFeatures_)||df(t,sL(this.nullGeometryFeatures_))),t},n.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){r.push(i)}),r},n.prototype.getFeaturesInExtent=function(t,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(t);var s=zee(t,r);return[].concat.apply([],s.map(function(a){return i.featuresRtree_.getInExtent(a)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},n.prototype.getClosestFeatureToCoordinate=function(t,r){var i=t[0],o=t[1],s=null,a=[NaN,NaN],p=1/0,g=[-1/0,-1/0,1/0,1/0],b=r||ny;return this.featuresRtree_.forEachInExtent(g,function(B){if(b(B)){var k=B.getGeometry(),P=p;if(p=k.closestPointXY(i,o,a,p),p<P){s=B;var R=Math.sqrt(p);g[0]=i-R,g[1]=o-R,g[2]=i+R,g[3]=o+R}}}),s},n.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},n.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},n.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(t){var r=t.target,i=Ni(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var a=r.getId();if(a!==void 0){var p=a.toString();this.idIndex_[p]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[p]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Xp(Jd.CHANGEFEATURE,r))},n.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:Ni(t)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&A1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},n.prototype.loadFeatures=function(t,r,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(t,r,i),a=function(B,k){var P=s[B],R=o.forEachInExtent(P,function(Z){return mm(Z.extent,P)});R||(++p.loadingExtentsCount_,p.dispatchEvent(new Xp(Jd.FEATURESLOADSTART)),p.loader_.call(p,P,r,i,(function(Z){--this.loadingExtentsCount_,this.dispatchEvent(new Xp(Jd.FEATURESLOADEND,void 0,Z))}).bind(p),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Xp(Jd.FEATURESLOADERROR))}).bind(p)),o.insert(P,{extent:P.slice()}))},p=this,g=0,b=s.length;g<b;++g)a(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(t,function(o){if(My(o.extent,t))return i=o,!0}),i&&r.remove(i)},n.prototype.removeFeature=function(t){if(t){var r=Ni(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},n.prototype.removeFeatureInternal=function(t){var r=Ni(t),i=this.featureChangeKeys_[r];if(i){i.forEach(Qa),delete this.featureChangeKeys_[r];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Xp(Jd.REMOVEFEATURE,t)),t}},n.prototype.removeFromIdIndex_=function(t){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],r=!0;break}return r},n.prototype.setLoader=function(t){this.loader_=t},n.prototype.setUrl=function(t){ao(this.format_,7),this.url_=t,this.setLoader(G9(t,this.format_))},n}(bz);const Mz=mae;function gae(e){var n=e||{},t=new fd,r=new Rie(-.005,.05,100),i=n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0;i&&t.push(new wie);var o=n.doubleClickZoom!==void 0?n.doubleClickZoom:!0;o&&t.push(new die({delta:n.zoomDelta,duration:n.zoomDuration}));var s=n.dragPan!==void 0?n.dragPan:!0;s&&t.push(new bie({onFocusOnly:n.onFocusOnly,kinetic:r}));var a=n.pinchRotate!==void 0?n.pinchRotate:!0;a&&t.push(new Nie);var p=n.pinchZoom!==void 0?n.pinchZoom:!0;p&&t.push(new $ie({duration:n.zoomDuration}));var g=n.keyboard!==void 0?n.keyboard:!0;g&&(t.push(new Pie),t.push(new Uie({delta:n.zoomDelta,duration:n.zoomDuration})));var b=n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0;b&&t.push(new jie({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration}));var B=n.shiftDragZoom!==void 0?n.shiftDragZoom:!0;return B&&t.push(new Tie({duration:n.zoomDuration})),t}var yae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),m7=function(e){yae(n,e);function n(t){return t=dl({},t),t.controls||(t.controls=aie()),t.interactions||(t.interactions=gae({onFocusOnly:!0})),e.call(this,t)||this}return n.prototype.createRenderer=function(){return new gre(this)},n}($re),Sz=function(){function e(n,t,r,i){this.minX=n,this.maxX=t,this.minY=r,this.maxY=i}return e.prototype.contains=function(n){return this.containsXY(n[1],n[2])},e.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY},e.prototype.containsXY=function(n,t){return this.minX<=n&&n<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY},e.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX),n.maxX>this.maxX&&(this.maxX=n.maxX),n.minY<this.minY&&(this.minY=n.minY),n.maxY>this.maxY&&(this.maxY=n.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY},e}();function Ag(e,n,t,r,i){return i!==void 0?(i.minX=e,i.maxX=n,i.minY=t,i.maxY=r,i):new Sz(e,n,t,r)}const Ez=Sz;function Q9(e,n,t,r){return r!==void 0?(r[0]=e,r[1]=n,r[2]=t,r):[e,n,t]}function Ny(e,n,t){return e+"/"+n+"/"+t}function Oz(e){return Ny(e[0],e[1],e[2])}function vae(e){var n=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),t=n[0],r=n[1],i=n[2];return Ny(t,r,i)}function Bz(e){return e.split("/").map(Number)}function Cae(e){return(e[1]<<e[0])+e[2]}function _ae(e,n){var t=e[0],r=e[1],i=e[2];if(n.getMinZoom()>t||t>n.getMaxZoom())return!1;var o=n.getFullTileRange(t);return o?o.containsXY(r,i):!0}var bae=[0,0,0],Jp=5,xae=function(){function e(n){this.minZoom=n.minZoom!==void 0?n.minZoom:0,this.resolutions_=n.resolutions,ao(hee(this.resolutions_,function(s,a){return a-s},!0),17);var t;if(!n.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=n.origin!==void 0?n.origin:null,this.origins_=null,n.origins!==void 0&&(this.origins_=n.origins,ao(this.origins_.length==this.resolutions_.length,20));var o=n.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Gm(o)),ao(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,n.tileSizes!==void 0&&(this.tileSizes_=n.tileSizes,ao(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=n.tileSize!==void 0?n.tileSize:this.tileSizes_?null:l7,ao(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],n.sizes!==void 0?this.fullTileRanges_=n.sizes.map(function(s,a){var p=new Ez(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var g=this.getTileRangeForExtentAndZ(o,a);p.minX=Math.max(g.minX,p.minX),p.maxX=Math.min(g.maxX,p.maxX),p.minY=Math.max(g.minY,p.minY),p.maxY=Math.min(g.maxY,p.maxY)}return p},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(n,t,r){for(var i=this.getTileRangeForExtentAndZ(n,t),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,p=i.maxY;a<=p;++a)r([t,o,a])},e.prototype.forEachTileCoordParentTileRange=function(n,t,r,i){var o,s,a,p=null,g=n[0]-1;for(this.zoomFactor_===2?(s=n[1],a=n[2]):p=this.getTileCoordExtent(n,i);g>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=Ag(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(p,g,r),t(g,o))return!0;--g}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(n){return this.origin_?this.origin_:this.origins_[n]},e.prototype.getResolution=function(n){return this.resolutions_[n]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(n,t,r){if(n[0]<this.maxZoom){if(this.zoomFactor_===2){var i=n[1]*2,o=n[2]*2;return Ag(i,i+1,o,o+1,t)}var s=this.getTileCoordExtent(n,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,n[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(n,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var i=n[0],o=n[1],s=n[2];if(t===i)return Ag(o,s,o,s,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),p=Math.floor(o*a),g=Math.floor(s*a);if(t<i)return Ag(p,p,g,g,r);var b=Math.floor(a*(o+1))-1,B=Math.floor(a*(s+1))-1;return Ag(p,b,g,B,r)}var k=this.getTileCoordExtent(n,this.tmpExtent_);return this.getTileRangeForExtentAndZ(k,t,r)},e.prototype.getTileRangeExtent=function(n,t,r){var i=this.getOrigin(n),o=this.getResolution(n),s=mA(this.getTileSize(n),this.tmpSize_),a=i[0]+t.minX*s[0]*o,p=i[0]+(t.maxX+1)*s[0]*o,g=i[1]+t.minY*s[1]*o,b=i[1]+(t.maxY+1)*s[1]*o;return yf(a,g,p,b,r)},e.prototype.getTileRangeForExtentAndZ=function(n,t,r){var i=bae;this.getTileCoordForXYAndZ_(n[0],n[3],t,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(n[2],n[1],t,!0,i),Ag(o,i[1],s,i[2],r)},e.prototype.getTileCoordCenter=function(n){var t=this.getOrigin(n[0]),r=this.getResolution(n[0]),i=mA(this.getTileSize(n[0]),this.tmpSize_);return[t[0]+(n[1]+.5)*i[0]*r,t[1]-(n[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(n,t){var r=this.getOrigin(n[0]),i=this.getResolution(n[0]),o=mA(this.getTileSize(n[0]),this.tmpSize_),s=r[0]+n[1]*o[0]*i,a=r[1]-(n[2]+1)*o[1]*i,p=s+o[0]*i,g=a+o[1]*i;return yf(s,a,p,g,t)},e.prototype.getTileCoordForCoordAndResolution=function(n,t,r){return this.getTileCoordForXYAndResolution_(n[0],n[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(n,t,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),p=this.getOrigin(s),g=mA(this.getTileSize(s),this.tmpSize_),b=a*(n-p[0])/r/g[0],B=a*(p[1]-t)/r/g[1];return i?(b=gx(b,Jp)-1,B=gx(B,Jp)-1):(b=mx(b,Jp),B=mx(B,Jp)),Q9(s,b,B,o)},e.prototype.getTileCoordForXYAndZ_=function(n,t,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),p=mA(this.getTileSize(r),this.tmpSize_),g=(n-s[0])/a/p[0],b=(s[1]-t)/a/p[1];return i?(g=gx(g,Jp)-1,b=gx(b,Jp)-1):(g=mx(g,Jp),b=mx(b,Jp)),Q9(r,g,b,o)},e.prototype.getTileCoordForCoordAndZ=function(n,t,r){return this.getTileCoordForXYAndZ_(n[0],n[1],t,!1,r)},e.prototype.getTileCoordResolution=function(n){return this.resolutions_[n[0]]},e.prototype.getTileSize=function(n){return this.tileSize_?this.tileSize_:this.tileSizes_[n]},e.prototype.getFullTileRange=function(n){return this.fullTileRanges_?this.fullTileRanges_[n]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,n):null},e.prototype.getZForResolution=function(n,t){var r=UB(this.resolutions_,n,t||0);return Bl(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(n,t){return kL(t,0,t.length,2,this.getTileCoordExtent(n))},e.prototype.calculateTileRanges_=function(n){for(var t=this.resolutions_.length,r=new Array(t),i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(n,i);this.fullTileRanges_=r},e}();const Y_=xae;var wae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mae=function(e){wae(n,e);function n(t,r,i){var o=e.call(this)||this,s=i||{};return o.tileCoord=t,o.state=r,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return n.prototype.changed=function(){this.dispatchEvent(Bi.CHANGE)},n.prototype.release=function(){},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==pr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==pr.LOADED){t.interimTile=null;break}else t.getState()==pr.LOADING?r=t:t.getState()==pr.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(t){if(this.state!==pr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},n.prototype.load=function(){si()},n.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=r,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:JL(o/this.transition_)},n.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},n.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},n}(jy);const h5=Mae;var Sae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eae=function(e){Sae(n,e);function n(t,r,i,o,s,a){var p=e.call(this,t,r,a)||this;return p.crossOrigin_=o,p.src_=i,p.key=i,p.image_=new Image,o!==null&&(p.image_.crossOrigin=o),p.unlisten_=null,p.tileLoadFunction_=s,p}return n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(t){this.image_=t,this.state=pr.LOADED,this.unlistenImage_(),this.changed()},n.prototype.handleImageError_=function(){this.state=pr.ERROR,this.unlistenImage_(),this.image_=Oae(),this.changed()},n.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=pr.LOADED:this.state=pr.EMPTY,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state==pr.ERROR&&(this.state=pr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==pr.IDLE&&(this.state=pr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=p7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(h5);function Oae(){var e=XA(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const kz=Eae;var Bae=.5,kae=10,$9=.25,Iae=function(){function e(n,t,r,i,o,s){this.sourceProj_=n,this.targetProj_=t;var a={},p=C3(this.targetProj_,this.sourceProj_);this.transformInv_=function(oe){var re=oe[0]+"/"+oe[1];return a[re]||(a[re]=p(oe)),a[re]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&ls(i)==ls(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ls(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ls(this.targetProj_.getExtent()):null;var g=Gm(r),b=a5(r),B=o5(r),k=i5(r),P=this.transformInv_(g),R=this.transformInv_(b),Z=this.transformInv_(B),W=this.transformInv_(k),Q=kae+(s?Math.max(0,Math.ceil(Nee(R6(r)/(s*s*256*256)))):0);if(this.addQuad_(g,b,B,k,P,R,Z,W,Q),this.wrapsXInSource_){var q=1/0;this.triangles_.forEach(function(oe,re,ce){q=Math.min(q,oe.source[0][0],oe.source[1][0],oe.source[2][0])}),this.triangles_.forEach((function(oe){if(Math.max(oe.source[0][0],oe.source[1][0],oe.source[2][0])-q>this.sourceWorldWidth_/2){var re=[[oe.source[0][0],oe.source[0][1]],[oe.source[1][0],oe.source[1][1]],[oe.source[2][0],oe.source[2][1]]];re[0][0]-q>this.sourceWorldWidth_/2&&(re[0][0]-=this.sourceWorldWidth_),re[1][0]-q>this.sourceWorldWidth_/2&&(re[1][0]-=this.sourceWorldWidth_),re[2][0]-q>this.sourceWorldWidth_/2&&(re[2][0]-=this.sourceWorldWidth_);var ce=Math.min(re[0][0],re[1][0],re[2][0]),se=Math.max(re[0][0],re[1][0],re[2][0]);se-ce<this.sourceWorldWidth_/2&&(oe.source=re)}}).bind(this))}a={}}return e.prototype.addTriangle_=function(n,t,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[n,t,r]})},e.prototype.addQuad_=function(n,t,r,i,o,s,a,p,g){var b=D6([o,s,a,p]),B=this.sourceWorldWidth_?ls(b)/this.sourceWorldWidth_:null,k=this.sourceWorldWidth_,P=this.sourceProj_.canWrapX()&&B>.5&&B<1,R=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var Z=D6([n,t,r,i]),W=ls(Z)/this.targetWorldWidth_;R=W>$9||R}!P&&this.sourceProj_.isGlobal()&&B&&(R=B>$9||R)}if(!(!R&&this.maxSourceExtent_&&isFinite(b[0])&&isFinite(b[1])&&isFinite(b[2])&&isFinite(b[3])&&!Al(b,this.maxSourceExtent_))){var Q=0;if(!R&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(p[0])||!isFinite(p[1]))){if(g>0)R=!0;else if(Q=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(p[0])||!isFinite(p[1])?1:0),Q!=1&&Q!=2&&Q!=4&&Q!=8)return}if(g>0){if(!R){var q=[(n[0]+r[0])/2,(n[1]+r[1])/2],oe=this.transformInv_(q),re=void 0;if(P){var ce=(Z0(o[0],k)+Z0(a[0],k))/2;re=ce-Z0(oe[0],k)}else re=(o[0]+a[0])/2-oe[0];var se=(o[1]+a[1])/2-oe[1],le=re*re+se*se;R=le>this.errorThresholdSquared_}if(R){if(Math.abs(n[0]-r[0])<=Math.abs(n[1]-r[1])){var ye=[(t[0]+r[0])/2,(t[1]+r[1])/2],De=this.transformInv_(ye),Ne=[(i[0]+n[0])/2,(i[1]+n[1])/2],et=this.transformInv_(Ne);this.addQuad_(n,t,ye,Ne,o,s,De,et,g-1),this.addQuad_(Ne,ye,r,i,et,De,a,p,g-1)}else{var ft=[(n[0]+t[0])/2,(n[1]+t[1])/2],Ke=this.transformInv_(ft),rt=[(r[0]+i[0])/2,(r[1]+i[1])/2],Ce=this.transformInv_(rt);this.addQuad_(n,ft,rt,i,o,Ke,Ce,p,g-1),this.addQuad_(ft,t,r,rt,Ke,s,a,Ce,g-1)}return}}if(P){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}Q&11||this.addTriangle_(n,r,i,o,a,p),Q&14||this.addTriangle_(n,r,t,o,a,s),Q&&(Q&13||this.addTriangle_(t,i,n,s,p,o),Q&7||this.addTriangle_(t,i,r,s,p,a))}},e.prototype.calculateSourceExtent=function(){var n=Cd();return this.triangles_.forEach(function(t,r,i){var o=t.source;MC(n,o[0]),MC(n,o[1]),MC(n,o[2])}),n},e.prototype.getTriangles=function(){return this.triangles_},e}(),iE={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Tae={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},vM,Iz=[];function Y9(e,n,t,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(n,t),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(n,r)+1,Math.max(t,i)),e.restore()}function CM(e,n){return Math.abs(e[n*4]-210)>2||Math.abs(e[n*4+3]-.75*255)>2}function Kae(){if(vM===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Y9(e,4,5,4,0),Y9(e,4,5,0,5);var n=e.getImageData(0,0,3,3).data;vM=CM(n,0)||CM(n,4)||CM(n,8)}return vM}function q9(e,n,t,r){var i=qB(t,n,e),o=u9(n,r,t),s=n.getMetersPerUnit();s!==void 0&&(o*=s);var a=e.getMetersPerUnit();a!==void 0&&(o/=a);var p=e.getExtent();if(!p||j_(p,i)){var g=u9(e,o,i)/o;isFinite(g)&&g>0&&(o/=g)}return o}function Pae(e,n,t,r){var i=jm(t),o=q9(e,n,i,r);return(!isFinite(o)||o<=0)&&vL(t,function(s){return o=q9(e,n,s,r),isFinite(o)&&o>0}),o}function Fae(e,n,t,r,i,o,s,a,p,g,b,B){var k=XA(Math.round(t*e),Math.round(t*n),Iz);if(B||dl(k,iE),p.length===0)return k.canvas;k.scale(t,t);function P(re){return Math.round(re*t)/t}k.globalCompositeOperation="lighter";var R=Cd();p.forEach(function(re,ce,se){gL(R,re.extent)});var Z=ls(R),W=ZA(R),Q=XA(Math.round(t*Z/r),Math.round(t*W/r));B||dl(Q,iE);var q=t/r;p.forEach(function(re,ce,se){var le=re.extent[0]-R[0],ye=-(re.extent[3]-R[3]),De=ls(re.extent),Ne=ZA(re.extent);re.image.width>0&&re.image.height>0&&Q.drawImage(re.image,g,g,re.image.width-2*g,re.image.height-2*g,le*q,ye*q,De*q,Ne*q)});var oe=Gm(s);return a.getTriangles().forEach(function(re,ce,se){var le=re.source,ye=re.target,De=le[0][0],Ne=le[0][1],et=le[1][0],ft=le[1][1],Ke=le[2][0],rt=le[2][1],Ce=P((ye[0][0]-oe[0])/o),Rt=P(-(ye[0][1]-oe[1])/o),jt=P((ye[1][0]-oe[0])/o),tn=P(-(ye[1][1]-oe[1])/o),Qt=P((ye[2][0]-oe[0])/o),He=P(-(ye[2][1]-oe[1])/o),Je=De,tt=Ne;De=0,Ne=0,et-=Je,ft-=tt,Ke-=Je,rt-=tt;var rn=[[et,ft,0,0,jt-Ce],[Ke,rt,0,0,Qt-Ce],[0,0,et,ft,tn-Rt],[0,0,Ke,rt,He-Rt]],mt=Qee(rn);if(mt){if(k.save(),k.beginPath(),Kae()||!B){k.moveTo(jt,tn);for(var dt=4,kt=Ce-jt,Pt=Rt-tn,Me=0;Me<dt;Me++)k.lineTo(jt+P((Me+1)*kt/dt),tn+P(Me*Pt/(dt-1))),Me!=dt-1&&k.lineTo(jt+P((Me+1)*kt/dt),tn+P((Me+1)*Pt/(dt-1)));k.lineTo(Qt,He)}else k.moveTo(jt,tn),k.lineTo(Ce,Rt),k.lineTo(Qt,He);k.clip(),k.transform(mt[0],mt[2],mt[1],mt[3],Ce,Rt),k.translate(R[0]-Je,R[3]-tt),k.scale(r/t,-r/t),k.drawImage(Q.canvas,0,0),k.restore()}}),b&&(k.save(),k.globalCompositeOperation="source-over",k.strokeStyle="black",k.lineWidth=1,a.getTriangles().forEach(function(re,ce,se){var le=re.target,ye=(le[0][0]-oe[0])/o,De=-(le[0][1]-oe[1])/o,Ne=(le[1][0]-oe[0])/o,et=-(le[1][1]-oe[1])/o,ft=(le[2][0]-oe[0])/o,Ke=-(le[2][1]-oe[1])/o;k.beginPath(),k.moveTo(Ne,et),k.lineTo(ye,De),k.lineTo(ft,Ke),k.closePath(),k.stroke()}),k.restore()),k.canvas}var Dae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uae=function(e){Dae(n,e);function n(t,r,i,o,s,a,p,g,b,B,k,P){var R=e.call(this,s,pr.IDLE,{interpolate:!!P})||this;R.renderEdges_=k!==void 0?k:!1,R.pixelRatio_=p,R.gutter_=g,R.canvas_=null,R.sourceTileGrid_=r,R.targetTileGrid_=o,R.wrappedTileCoord_=a||s,R.sourceTiles_=[],R.sourcesListenerKeys_=null,R.sourceZ_=0;var Z=o.getTileCoordExtent(R.wrappedTileCoord_),W=R.targetTileGrid_.getExtent(),Q=R.sourceTileGrid_.getExtent(),q=W?V0(Z,W):Z;if(R6(q)===0)return R.state=pr.EMPTY,R;var oe=t.getExtent();oe&&(Q?Q=V0(Q,oe):Q=oe);var re=o.getResolution(R.wrappedTileCoord_[0]),ce=Pae(t,i,q,re);if(!isFinite(ce)||ce<=0)return R.state=pr.EMPTY,R;var se=B!==void 0?B:Bae;if(R.triangulation_=new Iae(t,i,q,Q,ce*se,re),R.triangulation_.getTriangles().length===0)return R.state=pr.EMPTY,R;R.sourceZ_=r.getZForResolution(ce);var le=R.triangulation_.calculateSourceExtent();if(Q&&(t.canWrapX()?(le[1]=Bl(le[1],Q[1],Q[3]),le[3]=Bl(le[3],Q[1],Q[3])):le=V0(le,Q)),!R6(le))R.state=pr.EMPTY;else{for(var ye=r.getTileRangeForExtentAndZ(le,R.sourceZ_),De=ye.minX;De<=ye.maxX;De++)for(var Ne=ye.minY;Ne<=ye.maxY;Ne++){var et=b(R.sourceZ_,De,Ne,p);et&&R.sourceTiles_.push(et)}R.sourceTiles_.length===0&&(R.state=pr.EMPTY)}return R}return n.prototype.getImage=function(){return this.canvas_},n.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(b,B,k){b&&b.getState()==pr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(b.tileCoord),image:b.getImage()})}).bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=pr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(r),p=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Fae(o,s,this.pixelRatio_,p,this.sourceTileGrid_.getExtent(),a,g,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=pr.LOADED}this.changed()},n.prototype.load=function(){if(this.state==pr.IDLE){this.state=pr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var s=r.getState();if(s==pr.IDLE||s==pr.LOADING){t++;var a=bo(r,Bi.CHANGE,function(p){var g=r.getState();(g==pr.LOADED||g==pr.ERROR||g==pr.EMPTY)&&(Qa(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}).bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();s==pr.IDLE&&r.load()})}},n.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Qa),this.sourcesListenerKeys_=null},n.prototype.release=function(){this.canvas_&&(s7(this.canvas_.getContext("2d")),Iz.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},n}(h5);const Tz=Uae;var Rae=function(){function e(n){this.highWaterMark=n!==void 0?n:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(n){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)},e.prototype.forEach=function(n){for(var t=this.oldest_;t;)n(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(n,t){var r=this.entries_[n];return ao(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(n){var t=this.entries_[n];return ao(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[n],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var n=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)n[t++]=r.key_;return n},e.prototype.getValues=function(){var n=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)n[t++]=r.value_;return n},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(n){if(this.containsKey(n))return this.entries_[n].value_},e.prototype.pop=function(){var n=this.oldest_;return delete this.entries_[n.key_],n.newer&&(n.newer.older=null),this.oldest_=n.newer,this.oldest_||(this.newest_=null),--this.count_,n.value_},e.prototype.replace=function(n,t){this.get(n),this.entries_[n].value_=t},e.prototype.set=function(n,t){ao(!(n in this.entries_),16);var r={key_:n,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[n]=r,++this.count_},e.prototype.setSize=function(n){this.highWaterMark=n},e}();const Lae=Rae;var zae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jae=function(e){zae(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},n.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=Bz(t),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(Oz(o.tileCoord)),o.release())}).bind(this))}},n}(Lae);const g7=jae,_M={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function Kz(e){var n=e.getDefaultTileGrid();return n||(n=Gae(e),e.setDefaultTileGrid(n)),n}function Wae(e,n,t){var r=n[0],i=e.getTileCoordCenter(n),o=f5(t);if(j_(o,i))return n;var s=ls(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,e.getTileCoordForCoordAndZ(i,r)}function Nae(e,n,t,r){var i=r!==void 0?r:"top-left",o=Pz(e,n,t);return new Y_({extent:e,origin:Dee(e,i),resolutions:o,tileSize:t})}function y7(e){var n=e||{},t=n.extent||js("EPSG:3857").getExtent(),r={extent:t,minZoom:n.minZoom,tileSize:n.tileSize,resolutions:Pz(t,n.maxZoom,n.tileSize,n.maxResolution)};return new Y_(r)}function Pz(e,n,t,r){for(var i=n!==void 0?n:XL,o=ZA(e),s=ls(e),a=mA(t!==void 0?t:l7),p=r>0?r:Math.max(s/a[0],o/a[1]),g=i+1,b=new Array(g),B=0;B<g;++B)b[B]=p/Math.pow(2,B);return b}function Gae(e,n,t,r){var i=f5(e);return Nae(i,n,t,r)}function f5(e){e=js(e);var n=e.getExtent();if(!n){var t=180*mf[yA.DEGREES]/e.getMetersPerUnit();n=yf(-t,-t,t,t)}return n}var Fz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qae=function(e){Fz(n,e);function n(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return r.tileGrid&&mA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new g7(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return n.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);i&&i.expireCache(r)},n.prototype.forEachLoadedTile=function(t,r,i,o){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var a=!0,p,g,b,B=i.minX;B<=i.maxX;++B)for(var k=i.minY;k<=i.maxY;++k)g=Ny(r,B,k),b=!1,s.containsKey(g)&&(p=s.get(g),b=p.getState()===pr.LOADED,b&&(b=o(p)!==!1)),b||(a=!1);return a},n.prototype.getGutterForProjection=function(t){return 0},n.prototype.getKey=function(){return this.key_},n.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},n.prototype.getOpaque=function(t){return this.opaque_},n.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},n.prototype.getTile=function(t,r,i,o,s){return si()},n.prototype.getTileGrid=function(){return this.tileGrid},n.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Kz(t)},n.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();return ao(r===null||O0(r,t),68),this.tileCache},n.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},n.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=mA(o.getTileSize(t),this.tmpSize);return s==1?a:Wre(a,s,this.tmpSize)},n.prototype.getTileCoordForTileUrlFunction=function(t,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Wae(o,t,i)),_ae(t,o)?t:null},n.prototype.clear=function(){this.tileCache.clear()},n.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},n.prototype.updateCacheSize=function(t,r){var i=this.getTileCacheForProjection(r);t>i.highWaterMark&&(i.highWaterMark=t)},n.prototype.useTile=function(t,r,i,o){},n}(bz),$ae=function(e){Fz(n,e);function n(t,r){var i=e.call(this,t)||this;return i.tile=r,i}return n}(Ep);const Yae=Qae;function qae(e,n){var t=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,p){if(s)return e.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var g=s[0],b=n.getFullTileRange(g);ao(b,55);var B=b.getHeight()-s[2]-1;return B.toString()})}}function Dz(e,n){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=qae(e[i],n);return Vae(r)}function Vae(e){return e.length===1?e[0]:function(n,t,r){if(n){var i=Cae(n),o=Z0(i,e.length);return e[o](n,t,r)}else return}}function Hae(e){var n=[],t=/\{([a-z])-([a-z])\}/.exec(e);if(t){var r=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)n.push(e.replace(t[0],String.fromCharCode(o)));return n}if(t=/\{(\d+)-(\d+)\}/.exec(e),t){for(var s=parseInt(t[2],10),a=parseInt(t[1],10);a<=s;a++)n.push(e.replace(t[0],a.toString()));return n}return n.push(e),n}var Zae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xae=function(e){Zae(n,e);function n(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===n.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return n.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},n.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},n.prototype.getUrls=function(){return this.urls},n.prototype.handleTileChange=function(t){var r=t.target,i=Ni(r),o=r.getState(),s;o==pr.LOADING?(this.tileLoadingKeys_[i]=!0,s=_M.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==pr.ERROR?_M.TILELOADERROR:o==pr.LOADED?_M.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new $ae(s,r))},n.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},n.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},n.prototype.setUrl=function(t){var r=Hae(t);this.urls=r,this.setUrls(r)},n.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Dz(t,this.tileGrid),r):this.setKey(r)},n.prototype.tileUrlFunction=function(t,r,i){},n.prototype.useTile=function(t,r,i){var o=Ny(t,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},n}(Yae);const Uz=Xae;var Jae=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ese=function(e){Jae(n,e);function n(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:tse,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:kz,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return n.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},n.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!O0(this.getProjection(),t)?0:this.getGutter()},n.prototype.getGutter=function(){return 0},n.prototype.getKey=function(){var t=e.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},n.prototype.getOpaque=function(t){return this.getProjection()&&t&&!O0(this.getProjection(),t)?!1:e.prototype.getOpaque.call(this,t)},n.prototype.getTileGridForProjection=function(t){var r=this.getProjection();if(this.tileGrid&&(!r||O0(r,t)))return this.tileGrid;var i=Ni(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Kz(t)),this.tileGridForProjection[i]},n.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();if(!r||O0(r,t))return this.tileCache;var i=Ni(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new g7(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},n.prototype.createTile_=function(t,r,i,o,s,a){var p=[t,r,i],g=this.getTileCoordForTileUrlFunction(p,s),b=g?this.tileUrlFunction(g,o,s):void 0,B=new this.tileClass(p,b!==void 0?pr.IDLE:pr.EMPTY,b!==void 0?b:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return B.key=a,B.addEventListener(Bi.CHANGE,this.handleTileChange.bind(this)),B},n.prototype.getTile=function(t,r,i,o,s){var a=this.getProjection();if(!a||!s||O0(a,s))return this.getTileInternal(t,r,i,o,a||s);var p=this.getTileCacheForProjection(s),g=[t,r,i],b=void 0,B=Oz(g);p.containsKey(B)&&(b=p.get(B));var k=this.getKey();if(b&&b.key==k)return b;var P=this.getTileGridForProjection(a),R=this.getTileGridForProjection(s),Z=this.getTileCoordForTileUrlFunction(g,s),W=new Tz(a,P,s,R,g,Z,this.getTilePixelRatio(o),this.getGutter(),(function(Q,q,oe,re){return this.getTileInternal(Q,q,oe,re,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return W.key=k,b?(W.interimTile=b,W.refreshInterimChain(),p.replace(B,W)):p.set(B,W),W},n.prototype.getTileInternal=function(t,r,i,o,s){var a=null,p=Ny(t,r,i),g=this.getKey();if(!this.tileCache.containsKey(p))a=this.createTile_(t,r,i,o,s,g),this.tileCache.set(p,a);else if(a=this.tileCache.get(p),a.key!=g){var b=a;a=this.createTile_(t,r,i,o,s,g),b.getState()==pr.IDLE?a.interimTile=b.interimTile:a.interimTile=b,a.refreshInterimChain(),this.tileCache.replace(p,a)}return a},n.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},n.prototype.setTileGridForProjection=function(t,r){{var i=js(t);if(i){var o=Ni(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},n}(Uz);function tse(e,n){e.getImage().src=n}const nse=ese;var Rz=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function rse(e,n,t,r){var i=document.createElement("script"),o="olc_"+Ni(n);function s(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var a=setTimeout(function(){s(),t&&t()},1e4);window[o]=function(p){clearTimeout(a),s(),n(p)},document.head.appendChild(i)}(function(e){Rz(n,e);function n(t){var r=this,i="Unexpected response status: "+t.status;return r=e.call(this,i)||this,r.name="ResponseError",r.response=t,r}return n})(Error);(function(e){Rz(n,e);function n(t){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=t,r}return n})(Error);var ise=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ose=function(e){ise(n,e);function n(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;if(t.interpolate!==void 0&&(i=t.interpolate),r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:js("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)rse(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",t.url),o.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):ao(!1,51);return r}return n.prototype.onXHRLoad_=function(t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},n.prototype.onXHRError_=function(t){this.handleTileJSONError()},n.prototype.getTileJSON=function(){return this.tileJSON_},n.prototype.handleTileJSONResponse=function(t){var r=js("EPSG:4326"),i=this.getProjection(),o;if(t.bounds!==void 0){var s=s5(r,i);o=Lee(t.bounds,s)}var a=f5(i),p=t.minzoom||0,g=t.maxzoom||22,b=y7({extent:a,maxZoom:g,minZoom:p,tileSize:this.tileSize_});if(this.tileGrid=b,this.tileUrlFunction=Dz(t.tiles,b),t.attribution!==void 0&&!this.getAttributions()){var B=o!==void 0?o:a;this.setAttributions(function(k){return Al(B,k.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState("ready")},n.prototype.handleTileJSONError=function(){this.setState("error")},n}(nse);const Lz=ose,vm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var ase=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sse=function(e){ase(n,e);function n(t){var r=this,i=t||{},o=dl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return n.prototype.getPreload=function(){return this.get(vm.PRELOAD)},n.prototype.setPreload=function(t){this.set(vm.PRELOAD,t)},n.prototype.getUseInterimTilesOnError=function(){return this.get(vm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setUseInterimTilesOnError=function(t){this.set(vm.USE_INTERIM_TILES_ON_ERROR,t)},n.prototype.getData=function(t){return e.prototype.getData.call(this,t)},n}(A5);const lse=sse;var use=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ase=function(e){use(n,e);function n(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Cd(),r.tmpTileRange_=new Ez(0,0,0,0),r}return n.prototype.isDrawableTile=function(t){var r=this.getLayer(),i=t.getState(),o=r.getUseInterimTilesOnError();return i==pr.LOADED||i==pr.EMPTY||i==pr.ERROR&&!o},n.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,p=this.getLayer(),g=p.getSource(),b=g.getTile(t,r,i,s,a);return b.getState()==pr.ERROR&&(p.getUseInterimTilesOnError()?p.getPreload()>0&&(this.newTiles_=!0):b.setState(pr.LOADED)),this.isDrawableTile(b)||(b=b.getInterimTile()),b},n.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=ul(r.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!j_(s,o))return null;for(var a=r.pixelRatio,p=r.viewState.projection,g=r.viewState,b=i.getRenderSource(),B=b.getTileGridForProjection(g.projection),k=b.getTilePixelRatio(r.pixelRatio),P=B.getZForResolution(g.resolution);P>=B.getMinZoom();--P){var R=B.getTileCoordForCoordAndZ(o,P),Z=b.getTile(P,R[1],R[2],a,p);if(!(Z instanceof kz||Z instanceof Tz))return null;if(Z.getState()===pr.LOADED){var W=B.getOrigin(P),Q=mA(B.getTileSize(P)),q=B.getResolution(P),oe=Math.floor(k*((o[0]-W[0])/q-R[1]*Q[0])),re=Math.floor(k*((W[1]-o[1])/q-R[2]*Q[1])),ce=Math.round(k*b.getGutterForProjection(g.projection));return this.getImageData(Z.getImage(),oe+ce,re+ce)}}return null},n.prototype.loadedTileCallback=function(t,r,i){return this.isDrawableTile(i)?e.prototype.loadedTileCallback.call(this,t,r,i):!1},n.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},n.prototype.renderFrame=function(t,r){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,s=o.projection,a=o.resolution,p=o.center,g=o.rotation,b=t.pixelRatio,B=this.getLayer(),k=B.getSource(),P=k.getRevision(),R=k.getTileGridForProjection(s),Z=R.getZForResolution(a,k.zDirection),W=R.getResolution(Z),Q=t.extent,q=t.viewState.resolution,oe=k.getTilePixelRatio(b),re=Math.round(ls(Q)/q*b),ce=Math.round(ZA(Q)/q*b),se=i.extent&&R0(i.extent);se&&(Q=V0(Q,R0(i.extent)));var le=W*re/2/oe,ye=W*ce/2/oe,De=[p[0]-le,p[1]-ye,p[0]+le,p[1]+ye],Ne=R.getTileRangeForExtentAndZ(Q,Z),et={};et[Z]={};var ft=this.createLoadedTileFinder(k,s,et),Ke=this.tmpExtent,rt=this.tmpTileRange_;this.newTiles_=!1;for(var Ce=g?z6(o.center,q,g,t.size):void 0,Rt=Ne.minX;Rt<=Ne.maxX;++Rt)for(var jt=Ne.minY;jt<=Ne.maxY;++jt)if(!(g&&!R.tileCoordIntersectsViewport([Z,Rt,jt],Ce))){var tn=this.getTile(Z,Rt,jt,t);if(this.isDrawableTile(tn)){var Qt=Ni(this);if(tn.getState()==pr.LOADED){et[Z][tn.tileCoord.toString()]=tn;var He=tn.inTransition(Qt);He&&i.opacity!==1&&(tn.endTransition(Qt),He=!1),!this.newTiles_&&(He||this.renderedTiles.indexOf(tn)===-1)&&(this.newTiles_=!0)}if(tn.getAlpha(Qt,t.time)===1)continue}var Je=R.getTileCoordChildTileRange(tn.tileCoord,rt,Ke),tt=!1;Je&&(tt=ft(Z+1,Je)),tt||R.forEachTileCoordParentTileRange(tn.tileCoord,ft,rt,Ke)}var rn=W/a*b/oe;gf(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/b,1/b,g,-re/2,-ce/2);var mt=fL(this.pixelTransform);this.useContainer(r,mt,this.getBackground(t));var dt=this.context,kt=dt.canvas;LB(this.inversePixelTransform,this.pixelTransform),gf(this.tempTransform,re/2,ce/2,rn,rn,0,-re/2,-ce/2),kt.width!=re||kt.height!=ce?(kt.width=re,kt.height=ce):this.containerReused||dt.clearRect(0,0,re,ce),se&&this.clipUnrotated(dt,t,se),k.getInterpolate()||dl(dt,iE),this.preRender(dt,t),this.renderedTiles.length=0;var Pt=Object.keys(et).map(Number);Pt.sort(l1);var Me,he,be;i.opacity===1&&(!this.containerReused||k.getOpaque(t.viewState.projection))?Pt=Pt.reverse():(Me=[],he=[]);for(var Pe=Pt.length-1;Pe>=0;--Pe){var Ze=Pt[Pe],nt=k.getTilePixelSize(Ze,b,s),xt=R.getResolution(Ze),Ft=xt/W,Dt=nt[0]*Ft*rn,pt=nt[1]*Ft*rn,nr=R.getTileCoordForCoordAndZ(Gm(De),Ze),pn=R.getTileCoordExtent(nr),bn=ul(this.tempTransform,[oe*(pn[0]-De[0])/W,oe*(De[3]-pn[3])/W]),Jn=oe*k.getGutterForProjection(s),mr=et[Ze];for(var xr in mr){var tn=mr[xr],Nr=tn.tileCoord,Cr=nr[1]-Nr[1],fi=Math.round(bn[0]-(Cr-1)*Dt),we=nr[2]-Nr[2],H=Math.round(bn[1]-(we-1)*pt),Rt=Math.round(bn[0]-Cr*Dt),jt=Math.round(bn[1]-we*pt),Y=fi-Rt,Be=H-jt,st=Z===Ze,He=st&&tn.getAlpha(Ni(this),t.time)!==1,St=!1;if(!He)if(Me){be=[Rt,jt,Rt+Y,jt,Rt+Y,jt+Be,Rt,jt+Be];for(var Et=0,Nt=Me.length;Et<Nt;++Et)if(Z!==Ze&&Ze<he[Et]){var mn=Me[Et];Al([Rt,jt,Rt+Y,jt+Be],[mn[0],mn[3],mn[4],mn[7]])&&(St||(dt.save(),St=!0),dt.beginPath(),dt.moveTo(be[0],be[1]),dt.lineTo(be[2],be[3]),dt.lineTo(be[4],be[5]),dt.lineTo(be[6],be[7]),dt.moveTo(mn[6],mn[7]),dt.lineTo(mn[4],mn[5]),dt.lineTo(mn[2],mn[3]),dt.lineTo(mn[0],mn[1]),dt.clip())}Me.push(be),he.push(Ze)}else dt.clearRect(Rt,jt,Y,Be);this.drawTileImage(tn,t,Rt,jt,Y,Be,Jn,st),Me&&!He?(St&&dt.restore(),this.renderedTiles.unshift(tn)):this.renderedTiles.push(tn),this.updateUsedTiles(t.usedTiles,k,tn)}}return this.renderedRevision=P,this.renderedResolution=W,this.extentChanged=!this.renderedExtent_||!My(this.renderedExtent_,De),this.renderedExtent_=De,this.renderedPixelRatio=b,this.renderedProjection=s,this.manageTilePyramid(t,k,R,b,s,Q,Z,B.getPreload()),this.scheduleExpireCache(t,k),this.postRender(dt,t),i.extent&&dt.restore(),dl(dt,Tae),mt!==kt.style.transform&&(kt.style.transform=mt),this.container},n.prototype.drawTileImage=function(t,r,i,o,s,a,p,g){var b=this.getTileImage(t);if(b){var B=Ni(this),k=r.layerStatesArray[r.layerIndex],P=k.opacity*(g?t.getAlpha(B,r.time):1),R=P!==this.context.globalAlpha;R&&(this.context.save(),this.context.globalAlpha=P),this.context.drawImage(b,p,p,b.width-2*p,b.height-2*p,i,o,s,a),R&&this.context.restore(),P!==k.opacity?r.animate=!0:g&&t.endTransition(B)}},n.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},n.prototype.getTileImage=function(t){return t.getImage()},n.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=(function(o,s,a){var p=Ni(o);p in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[p])}).bind(null,r);t.postRenderFunctions.push(i)}},n.prototype.updateUsedTiles=function(t,r,i){var o=Ni(r);o in t||(t[o]={}),t[o][i.getKey()]=!0},n.prototype.manageTilePyramid=function(t,r,i,o,s,a,p,g,b){var B=Ni(r);B in t.wantedTiles||(t.wantedTiles[B]={});var k=t.wantedTiles[B],P=t.tileQueue,R=i.getMinZoom(),Z=t.viewState.rotation,W=Z?z6(t.viewState.center,t.viewState.resolution,Z,t.size):void 0,Q=0,q,oe,re,ce,se,le;for(le=R;le<=p;++le)for(oe=i.getTileRangeForExtentAndZ(a,le,oe),re=i.getResolution(le),ce=oe.minX;ce<=oe.maxX;++ce)for(se=oe.minY;se<=oe.maxY;++se)Z&&!i.tileCoordIntersectsViewport([le,ce,se],W)||(p-le<=g?(++Q,q=r.getTile(le,ce,se,o,s),q.getState()==pr.IDLE&&(k[q.getKey()]=!0,P.isKeyQueued(q.getKey())||P.enqueue([q,B,i.getTileCoordCenter(q.tileCoord),re])),b!==void 0&&b(q)):r.useTile(le,ce,se,s));r.updateCacheSize(Q,s)},n}(fz);const zz=Ase;var cse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dse=function(e){cse(n,e);function n(t){return e.call(this,t)||this}return n.prototype.createRenderer=function(){return new zz(this)},n}(lse);const Cm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var hse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fse={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},pse={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},mse=function(e){hse(n,e);function n(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=md(),r}return n.prototype.prepareTile=function(t,r,i){var o,s=t.getState();return(s===pr.LOADED||s===pr.ERROR)&&(this.updateExecutorGroup_(t,r,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},n.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState,p=a.resolution,g=a.projection,b=this.getLayer(),B=b.getSource().getTile(t,r,i,s,g),k=o.viewHints,P=!(k[Js.ANIMATING]||k[Js.INTERACTING]);(P||!B.wantedResolution)&&(B.wantedResolution=p);var R=this.prepareTile(B,s,g);return R&&(P||Date.now()-o.time<8)&&b.getRenderMode()!==Cm.VECTOR&&this.renderTileImage_(B,o),e.prototype.getTile.call(this,t,r,i,o)},n.prototype.isDrawableTile=function(t){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===Cm.VECTOR?Ni(r)in t.executorGroups:t.hasContext(r))},n.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},n.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,t)},n.prototype.updateExecutorGroup_=function(t,r,i){var o=this.getLayer(),s=o.getRevision(),a=o.getRenderOrder()||null,p=t.wantedResolution,g=t.getReplayState(o);if(!(!g.dirty&&g.renderedResolution===p&&g.renderedRevision==s&&g.renderedRenderOrder==a)){var b=o.getSource(),B=o.getDeclutter(),k=b.getTileGrid(),P=b.getTileGridForProjection(i),R=P.getTileCoordExtent(t.wrappedTileCoord),Z=b.getSourceTiles(r,i,t),W=Ni(o);delete t.hitDetectionImageData[W],t.executorGroups[W]=[],B&&(t.declutterExecutorGroups[W]=[]),g.dirty=!1;for(var Q=function(ce,se){var le=Z[ce];if(le.getState()!=pr.LOADED)return"continue";var ye=le.tileCoord,De=k.getTileCoordExtent(ye),Ne=V0(R,De),et=Tm(Ne,o.getRenderBuffer()*p,q.tmpExtent),ft=My(De,Ne)?null:et,Ke=new I3(0,et,p,r),rt=B?new I3(0,Ne,p,r):void 0,Ce=vz(p,r),Rt=function(dt){var kt,Pt=dt.getStyleFunction()||o.getStyleFunction();if(Pt&&(kt=Pt(dt,p)),kt){var Me=this.renderFeature(dt,Ce,kt,Ke,rt);g.dirty=g.dirty||Me}},jt=le.getFeatures();a&&a!==g.renderedRenderOrder&&jt.sort(a);for(var tn=0,Qt=jt.length;tn<Qt;++tn){var He=jt[tn];(!ft||Al(ft,He.getGeometry().getExtent()))&&Rt.call(q,He)}var Je=Ke.finish(),tt=o.getRenderMode()!==Cm.VECTOR&&B&&Z.length===1?null:Ne,rn=new T3(tt,p,r,b.getOverlaps(),Je,o.getRenderBuffer());if(t.executorGroups[W].push(rn),rt){var mt=new T3(null,p,r,b.getOverlaps(),rt.finish(),o.getRenderBuffer());t.declutterExecutorGroups[W].push(mt)}},q=this,oe=0,re=Z.length;oe<re;++oe)Q(oe);g.renderedRevision=s,g.renderedRenderOrder=a,g.renderedResolution=p}},n.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=r.viewState.resolution,p=r.viewState.rotation;i=i??0;var g=this.getLayer(),b=g.getSource(),B=b.getTileGridForProjection(r.viewState.projection),k=D6([t]);Tm(k,a*i,k);for(var P={},R=function(re,ce,se){var le=re.getId();le===void 0&&(le=Ni(re));var ye=P[le];if(ye){if(ye!==!0&&se<ye.distanceSq){if(se===0)return P[le]=!0,s.splice(s.lastIndexOf(ye),1),o(re,g,ce);ye.geometry=ce,ye.distanceSq=se}}else{if(se===0)return P[le]=!0,o(re,g,ce);s.push(P[le]={feature:re,layer:g,geometry:ce,distanceSq:se,callback:o})}},Z=this.renderedTiles,W,Q=function(re,ce){var se=Z[re],le=B.getTileCoordExtent(se.wrappedTileCoord);if(!Al(le,k))return"continue";var ye=Ni(g),De=[se.executorGroups[ye]],Ne=se.declutterExecutorGroups[ye];Ne&&De.push(Ne),De.some(function(et){for(var ft=et===Ne?r.declutterTree.all().map(function(Rt){return Rt.value}):null,Ke=0,rt=et.length;Ke<rt;++Ke){var Ce=et[Ke];if(W=Ce.forEachFeatureAtCoordinate(t,a,p,i,R,ft),W)return!0}})},q=0,oe=Z.length;!W&&q<oe;++q)Q(q);return W},n.prototype.getFeatures=function(t){return new Promise((function(r,i){for(var o=this.getLayer(),s=Ni(o),a=o.getSource(),p=this.renderedProjection,g=p.getExtent(),b=this.renderedResolution,B=a.getTileGridForProjection(p),k=ul(this.renderedPixelToCoordinateTransform_,t.slice()),P=B.getTileCoordForCoordAndResolution(k,b),R,Z=0,W=this.renderedTiles.length;Z<W;++Z)if(P.toString()===this.renderedTiles[Z].tileCoord.toString()){if(R=this.renderedTiles[Z],R.getState()===pr.LOADED){var Q=B.getTileCoordExtent(R.tileCoord);a.getWrapX()&&p.canWrapX()&&!mm(g,Q)&&QB(k,p);break}R=void 0}if(!R||R.loadingSourceTiles>0){r([]);return}var q=B.getTileCoordExtent(R.wrappedTileCoord),oe=Gm(q),re=[(k[0]-oe[0])/b,(oe[1]-k[1])/b],ce=R.getSourceTiles().reduce(function(Ne,et){return Ne.concat(et.getFeatures())},[]),se=R.hitDetectionImageData[s];if(!se&&!this.animatingOrInteracting_){var le=mA(B.getTileSize(B.getZForResolution(b,a.zDirection))),ye=this.renderedRotation_,De=[this.getRenderTransform(B.getTileCoordCenter(R.wrappedTileCoord),b,0,kc,le[0]*kc,le[1]*kc,0)];se=mz(le,De,ce,o.getStyleFunction(),B.getTileCoordExtent(R.wrappedTileCoord),R.getReplayState(o).renderedResolution,ye),R.hitDetectionImageData[s]=se}r(gz(re,ce,se))}).bind(this))},n.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},n.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},n.prototype.renderDeclutter=function(t){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,s=!(o[Js.ANIMATING]||o[Js.INTERACTING]),a=this.renderedTiles,p=0,g=a.length;p<g;++p){var b=a[p],B=b.declutterExecutorGroups[Ni(this.getLayer())];if(B)for(var k=B.length-1;k>=0;--k)B[k].execute(this.context,1,this.getTileRenderTransform(b,t),t.viewState.rotation,s,void 0,t.declutterTree)}r.globalAlpha=i},n.prototype.getTileRenderTransform=function(t,r){var i=r.pixelRatio,o=r.viewState,s=o.center,a=o.resolution,p=o.rotation,g=r.size,b=Math.round(g[0]*i),B=Math.round(g[1]*i),k=this.getLayer().getSource(),P=k.getTileGridForProjection(r.viewState.projection),R=t.tileCoord,Z=P.getTileCoordExtent(t.wrappedTileCoord),W=P.getTileCoordExtent(R,this.tmpExtent)[0]-Z[0],Q=RB(aM(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,p,i,b,B,W));return Q},n.prototype.renderFrame=function(t,r){var i=t.viewHints,o=!(i[Js.ANIMATING]||i[Js.INTERACTING]);e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var s=this.getLayer(),a=s.getRenderMode(),p=this.context,g=p.globalAlpha;p.globalAlpha=s.getOpacity();for(var b=pse[a],B=t.viewState,k=B.rotation,P=s.getSource(),R=P.getTileGridForProjection(B.projection),Z=R.getZForResolution(B.resolution,P.zDirection),W=this.renderedTiles,Q=[],q=[],oe=!0,re=W.length-1;re>=0;--re){var ce=W[re];oe=oe&&!ce.getReplayState(s).dirty;var se=ce.executorGroups[Ni(s)].filter(function(jt){return jt.hasExecutors(b)});if(se.length!==0){var le=this.getTileRenderTransform(ce,t),ye=ce.tileCoord[0],De=!1,Ne=se[0].getClipCoords(le);if(Ne){for(var et=0,ft=Q.length;et<ft;++et)if(Z!==ye&&ye<q[et]){var Ke=Q[et];Al([Ne[0],Ne[3],Ne[4],Ne[7]],[Ke[0],Ke[3],Ke[4],Ke[7]])&&(De||(p.save(),De=!0),p.beginPath(),p.moveTo(Ne[0],Ne[1]),p.lineTo(Ne[2],Ne[3]),p.lineTo(Ne[4],Ne[5]),p.lineTo(Ne[6],Ne[7]),p.moveTo(Ke[6],Ke[7]),p.lineTo(Ke[4],Ke[5]),p.lineTo(Ke[2],Ke[3]),p.lineTo(Ke[0],Ke[1]),p.clip())}Q.push(Ne),q.push(ye)}for(var rt=0,Ce=se.length;rt<Ce;++rt){var Rt=se[rt];Rt.execute(p,1,le,k,o,b)}De&&p.restore()}}return p.globalAlpha=g,this.ready=oe,this.container},n.prototype.renderFeature=function(t,r,i,o,s){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var p=0,g=i.length;p<g;++p)a=K3(o,t,i[p],r,this.boundHandleStyleImageChange_,void 0,s)||a;else a=K3(o,t,i,r,this.boundHandleStyleImageChange_,void 0,s);return a},n.prototype.tileImageNeedsRender_=function(t){var r=this.getLayer();if(r.getRenderMode()===Cm.VECTOR)return!1;var i=t.getReplayState(r),o=r.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},n.prototype.renderTileImage_=function(t,r){var i=this.getLayer(),o=t.getReplayState(i),s=i.getRevision(),a=t.executorGroups[Ni(i)];o.renderedTileRevision=s;var p=t.wrappedTileCoord,g=p[0],b=i.getSource(),B=r.pixelRatio,k=r.viewState,P=k.projection,R=b.getTileGridForProjection(P),Z=R.getResolution(t.tileCoord[0]),W=r.pixelRatio/t.wantedResolution*Z,Q=R.getResolution(g),q=t.getContext(i);B=Math.round(Math.max(B,W/B));var oe=b.getTilePixelSize(g,B,P);q.canvas.width=oe[0],q.canvas.height=oe[1];var re=B/W;if(re!==1){var ce=r9(this.tmpTransform_);aM(ce,re,re),q.setTransform.apply(q,ce)}var se=R.getTileCoordExtent(p,this.tmpExtent),le=W/Q,ye=r9(this.tmpTransform_);aM(ye,le,-le),Tee(ye,-se[0],-se[3]);for(var De=0,Ne=a.length;De<Ne;++De){var et=a[De];et.execute(q,re,ye,0,!0,fse[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},n}(zz);const gse=mse;var yse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jz=function(e){yse(n,e);function n(t){var r=this,i=t||{},o=dl({},i);delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,i.renderMode===Cm.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||Cm.HYBRID;return ao(s==Cm.HYBRID||s==Cm.VECTOR,28),r.renderMode_=s,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return n.prototype.createRenderer=function(){return new gse(this)},n.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},n.prototype.getRenderMode=function(){return this.renderMode_},n.prototype.getPreload=function(){return this.get(vm.PRELOAD)},n.prototype.getUseInterimTilesOnError=function(){return this.get(vm.USE_INTERIM_TILES_ON_ERROR)},n.prototype.setPreload=function(t){this.set(vm.PRELOAD,t)},n.prototype.setUseInterimTilesOnError=function(t){this.set(vm.USE_INTERIM_TILES_ON_ERROR,t)},n}(cz),vse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cse=function(e){vse(n,e);function n(t,r,i,o,s,a){var p=e.call(this,t,r,a)||this;return p.extent=null,p.format_=o,p.features_=null,p.loader_,p.projection=null,p.resolution,p.tileLoadFunction_=s,p.url_=i,p.key=i,p}return n.prototype.getFormat=function(){return this.format_},n.prototype.getFeatures=function(){return this.features_},n.prototype.load=function(){this.state==pr.IDLE&&(this.setState(pr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},n.prototype.onLoad=function(t,r){this.setFeatures(t)},n.prototype.onError=function(){this.setState(pr.ERROR)},n.prototype.setFeatures=function(t){this.features_=t,this.setState(pr.LOADED)},n.prototype.setLoader=function(t){this.loader_=t},n}(h5);const _se=Cse;var bse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V9=[],xse=function(e){bse(n,e);function n(t,r,i,o){var s=e.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return n.prototype.getContext=function(t){var r=Ni(t);return r in this.context_||(this.context_[r]=XA(1,1,V9)),this.context_[r]},n.prototype.hasContext=function(t){return Ni(t)in this.context_},n.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},n.prototype.getReplayState=function(t){var r=Ni(t);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},n.prototype.load=function(){this.getSourceTiles()},n.prototype.release=function(){for(var t in this.context_){var r=this.context_[t];s7(r),V9.push(r.canvas),delete this.context_[t]}e.prototype.release.call(this)},n}(h5);const wse=xse;var Mse=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sse=function(e){Mse(n,e);function n(t){var r=this,i=t.projection||"EPSG:3857",o=t.extent||f5(i),s=t.tileGrid||y7({extent:o,maxResolution:t.maxResolution,maxZoom:t.maxZoom!==void 0?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:i,state:t.state,tileGrid:s,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Ese,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX===void 0?!0:t.wrapX,transition:t.transition,zDirection:t.zDirection===void 0?1:t.zDirection})||this,r.format_=t.format?t.format:null,r.sourceTileCache=new g7(r.tileCache.highWaterMark),r.overlaps_=t.overlaps==null?!0:t.overlaps,r.tileClass=t.tileClass?t.tileClass:_se,r.tileGrids_={},r}return n.prototype.getFeaturesInExtent=function(t){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=Bz(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(!(a.tileCoord[0]!==o||a.getState()!==pr.LOADED))for(var p=a.getSourceTiles(),g=0,b=p.length;g<b;++g){var B=p[g],k=B.tileCoord;if(Al(t,s.getTileCoordExtent(k))){var P=B.getFeatures();if(P)for(var R=0,Z=P.length;R<Z;++R){var W=P[R],Q=W.getGeometry();Al(t,Q.getExtent())&&r.push(W)}}}}),r},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},n.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t),o=Object.keys(r).reduce(function(s,a){var p=vae(a),g=i.peek(p);if(g)for(var b=g.sourceTiles,B=0,k=b.length;B<k;++B)s[b[B].getKey()]=!0;return s},{});e.prototype.expireCache.call(this,t,r),this.sourceTileCache.expireCache(o)},n.prototype.getSourceTiles=function(t,r,i){var o=this;if(i.getState()===pr.IDLE){i.setState(pr.LOADING);var s=i.wrappedTileCoord,a=this.getTileGridForProjection(r),p=a.getTileCoordExtent(s),g=s[0],b=a.getResolution(g);Tm(p,-b,p);var B=this.tileGrid,k=B.getExtent();k&&V0(p,k,p);var P=B.getZForResolution(b,this.zDirection);B.forEachTileCoord(p,P,function(R){var Z=o.tileUrlFunction(R,t,r),W=o.sourceTileCache.containsKey(Z)?o.sourceTileCache.get(Z):new o.tileClass(R,Z?pr.IDLE:pr.EMPTY,Z,o.format_,o.tileLoadFunction);i.sourceTiles.push(W);var Q=W.getState();if(Q<pr.LOADED){var q=function(oe){o.handleTileChange(oe);var re=W.getState();if(re===pr.LOADED||re===pr.ERROR){var ce=W.getKey();ce in i.errorTileKeys?W.getState()===pr.LOADED&&delete i.errorTileKeys[ce]:i.loadingSourceTiles--,re===pr.ERROR?i.errorTileKeys[ce]=!0:W.removeEventListener(Bi.CHANGE,q),i.loadingSourceTiles===0&&i.setState(A1(i.errorTileKeys)?pr.LOADED:pr.ERROR)}};W.addEventListener(Bi.CHANGE,q),i.loadingSourceTiles++}Q===pr.IDLE&&(W.extent=B.getTileCoordExtent(R),W.projection=r,W.resolution=B.getResolution(R[0]),o.sourceTileCache.set(Z,W),W.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(R){return R.getState()===pr.ERROR})?pr.ERROR:pr.LOADED)}return i.sourceTiles},n.prototype.getTile=function(t,r,i,o,s){var a=Ny(t,r,i),p=this.getKey(),g;if(this.tileCache.containsKey(a)&&(g=this.tileCache.get(a),g.key===p))return g;var b=[t,r,i],B=this.getTileCoordForTileUrlFunction(b,s),k=this.getTileGrid().getExtent(),P=this.getTileGridForProjection(s);if(B&&k){var R=P.getTileCoordExtent(B);Tm(R,-P.getResolution(t),R),Al(k,R)||(B=null)}var Z=!0;if(B!==null){var W=this.tileGrid,Q=P.getResolution(t),q=W.getZForResolution(Q,1),oe=P.getTileCoordExtent(B);Tm(oe,-Q,oe),W.forEachTileCoord(oe,q,(function(ce){Z=Z&&!this.tileUrlFunction(ce,o,s)}).bind(this))}var re=new wse(b,Z?pr.EMPTY:pr.IDLE,B,this.getSourceTiles.bind(this,o,s));return re.key=p,g?(re.interimTile=g,re.refreshInterimChain(),this.tileCache.replace(a,re)):this.tileCache.set(a,re),re},n.prototype.getTileGridForProjection=function(t){var r=t.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(B,k){return o.getOrigin(k)}),p=s.map(function(B,k){return o.getTileSize(k)}),g=XL+1,b=s.length;b<g;++b)s.push(s[b-1]/2),a.push(a[b-1]),p.push(p[b-1]);i=new Y_({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:p}),this.tileGrids_[r]=i}return i},n.prototype.getTilePixelRatio=function(t){return t},n.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=mA(o.getTileSize(t),this.tmpSize);return[Math.round(s[0]*r),Math.round(s[1]*r)]},n.prototype.updateCacheSize=function(t,r){e.prototype.updateCacheSize.call(this,t*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},n}(Uz);const Wz=Sse;function Ese(e,n){e.setLoader(function(t,r,i){xz(n,e.getFormat(),t,r,i,e.onLoad.bind(e),e.onError.bind(e))})}var H9={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Lv=" ",Z9=/(italic|oblique)$/i,X9={},Ose=function(e,n,t){var r=X9[e];if(!r){Array.isArray(e)||(e=[e]);for(var i=400,o="normal",s=[],a,p,g=0,b=e.length;g<b;++g){var B=e[g],k=B.split(" "),P=k[k.length-1].toLowerCase();P=="normal"||P=="italic"||P=="oblique"?(o=p?o:P,k.pop(),P=k[k.length-1].toLowerCase()):Z9.test(P)&&(P=P.replace(Z9,""),o=p?o:k[k.length-1].replace(P,""));for(var R in H9){var Z=k.length>1?k[k.length-2].toLowerCase():"";if(P==R||P==R.replace("-","")||Z+"-"+P==R){i=a?i:H9[R],k.pop(),Z&&R.startsWith(Z)&&k.pop();break}}!a&&typeof P=="number"&&(i=P);var W=k.join(Lv).replace("Klokantech Noto Sans","Noto Sans");W.indexOf(Lv)!==-1&&(W='"'+W+'"'),s.push(W)}r=X9[e]=[o,i,s]}return r[0]+Lv+r[1]+Lv+n+"px"+(t?"/"+t:"")+Lv+r[2]};const oE=ma(Ose);var Bse=8,kse={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},Ise={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Tse=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Kse={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Pse={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Fse={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Dse={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Use={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Rse={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Lse={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},zse=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],jse={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Wse={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},Nse={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Gse={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Qse={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},$se={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Yse={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},qse={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Vse={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Hse={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Zse={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},Xse={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Jse={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},ele={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},tle={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},nle={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},rle={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},ile={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},ole={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},ale={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},sle={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},lle={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ule={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},Ale={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},cle=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],dle={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},hle={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},fle={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},ple={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},mle={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},gle={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},yle={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},vle={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Cle={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_le={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},ble={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Nz={$version:Bse,$root:kse,sources:Ise,source:Tse,source_vector:Kse,source_raster:Pse,source_raster_dem:Fse,source_geojson:Dse,source_video:Use,source_image:Rse,layer:Lse,layout:zse,layout_background:jse,layout_sky:Wse,layout_fill:Nse,layout_circle:Gse,layout_heatmap:Qse,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:$se,layout_symbol:Yse,layout_raster:qse,layout_hillshade:Vse,filter:Hse,filter_symbol:Zse,filter_fill:Xse,filter_line:Jse,filter_circle:ele,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:tle,filter_operator:nle,geometry_type:rle,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:ile,expression:ole,expression_name:ale,fog:sle,light:lle,projection:ule,terrain:Ale,paint:cle,paint_fill:dle,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:hle,paint_circle:fle,paint_heatmap:ple,paint_symbol:mle,paint_raster:gle,paint_hillshade:yle,paint_background:vle,paint_sky:Cle,transition:_le,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:ble},bM=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},aE={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,n){(function(t){var r=n&&!n.nodeType&&n,i=e&&!e.nodeType&&e,o=typeof bM=="object"&&bM;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,p=36,g=1,b=26,B=38,k=700,P=72,R=128,Z="-",W=/^xn--/,Q=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=p-g,ce=Math.floor,se=String.fromCharCode,le;function ye(He){throw RangeError(oe[He])}function De(He,Je){for(var tt=He.length,rn=[];tt--;)rn[tt]=Je(He[tt]);return rn}function Ne(He,Je){var tt=He.split("@"),rn="";tt.length>1&&(rn=tt[0]+"@",He=tt[1]),He=He.replace(q,".");var mt=He.split("."),dt=De(mt,Je).join(".");return rn+dt}function et(He){for(var Je=[],tt=0,rn=He.length,mt,dt;tt<rn;)mt=He.charCodeAt(tt++),mt>=55296&&mt<=56319&&tt<rn?(dt=He.charCodeAt(tt++),(dt&64512)==56320?Je.push(((mt&1023)<<10)+(dt&1023)+65536):(Je.push(mt),tt--)):Je.push(mt);return Je}function ft(He){return De(He,function(Je){var tt="";return Je>65535&&(Je-=65536,tt+=se(Je>>>10&1023|55296),Je=56320|Je&1023),tt+=se(Je),tt}).join("")}function Ke(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:p}function rt(He,Je){return He+22+75*(He<26)-((Je!=0)<<5)}function Ce(He,Je,tt){var rn=0;for(He=tt?ce(He/k):He>>1,He+=ce(He/Je);He>re*b>>1;rn+=p)He=ce(He/re);return ce(rn+(re+1)*He/(He+B))}function Rt(He){var Je=[],tt=He.length,rn,mt=0,dt=R,kt=P,Pt,Me,he,be,Pe,Ze,nt,xt,Ft;for(Pt=He.lastIndexOf(Z),Pt<0&&(Pt=0),Me=0;Me<Pt;++Me)He.charCodeAt(Me)>=128&&ye("not-basic"),Je.push(He.charCodeAt(Me));for(he=Pt>0?Pt+1:0;he<tt;){for(be=mt,Pe=1,Ze=p;he>=tt&&ye("invalid-input"),nt=Ke(He.charCodeAt(he++)),(nt>=p||nt>ce((a-mt)/Pe))&&ye("overflow"),mt+=nt*Pe,xt=Ze<=kt?g:Ze>=kt+b?b:Ze-kt,!(nt<xt);Ze+=p)Ft=p-xt,Pe>ce(a/Ft)&&ye("overflow"),Pe*=Ft;rn=Je.length+1,kt=Ce(mt-be,rn,be==0),ce(mt/rn)>a-dt&&ye("overflow"),dt+=ce(mt/rn),mt%=rn,Je.splice(mt++,0,dt)}return ft(Je)}function jt(He){var Je,tt,rn,mt,dt,kt,Pt,Me,he,be,Pe,Ze=[],nt,xt,Ft,Dt;for(He=et(He),nt=He.length,Je=R,tt=0,dt=P,kt=0;kt<nt;++kt)Pe=He[kt],Pe<128&&Ze.push(se(Pe));for(rn=mt=Ze.length,mt&&Ze.push(Z);rn<nt;){for(Pt=a,kt=0;kt<nt;++kt)Pe=He[kt],Pe>=Je&&Pe<Pt&&(Pt=Pe);for(xt=rn+1,Pt-Je>ce((a-tt)/xt)&&ye("overflow"),tt+=(Pt-Je)*xt,Je=Pt,kt=0;kt<nt;++kt)if(Pe=He[kt],Pe<Je&&++tt>a&&ye("overflow"),Pe==Je){for(Me=tt,he=p;be=he<=dt?g:he>=dt+b?b:he-dt,!(Me<be);he+=p)Dt=Me-be,Ft=p-be,Ze.push(se(rt(be+Dt%Ft,0))),Me=ce(Dt/Ft);Ze.push(se(rt(Me,0))),dt=Ce(tt,xt,rn==mt),tt=0,++rn}++tt,++Je}return Ze.join("")}function tn(He){return Ne(He,function(Je){return W.test(Je)?Rt(Je.slice(4).toLowerCase()):Je})}function Qt(He){return Ne(He,function(Je){return Q.test(Je)?"xn--"+jt(Je):Je})}if(s={version:"1.3.2",ucs2:{decode:et,encode:ft},decode:Rt,encode:jt,toASCII:Qt,toUnicode:tn},r&&i)if(e.exports==r)i.exports=s;else for(le in s)s.hasOwnProperty(le)&&(r[le]=s[le]);else t.punycode=s})(bM)})(aE,aE.exports);var xle={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},f_={};function wle(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var Mle=function(e,n,t,r){n=n||"&",t=t||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(n);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var p=0;p<a;++p){var g=e[p].replace(o,"%20"),b=g.indexOf(t),B,k,P,R;b>=0?(B=g.substr(0,b),k=g.substr(b+1)):(B=g,k=""),P=decodeURIComponent(B),R=decodeURIComponent(k),wle(i,P)?Array.isArray(i[P])?i[P].push(R):i[P]=[i[P],R]:i[P]=R}return i},zv=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Sle=function(e,n,t,r){return n=n||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(zv(i))+t;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(zv(s))}).join(n):o+encodeURIComponent(zv(e[i]))}).join(n):r?encodeURIComponent(zv(r))+t+encodeURIComponent(zv(e)):""};f_.decode=f_.parse=Mle;f_.encode=f_.stringify=Sle;var Ele=aE.exports,cp=xle;function xp(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ole=/^([a-z0-9.+-]+:)/i,Ble=/:[0-9]*$/,kle=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ile=["<",">",'"',"`"," ","\r",`
`,"	"],Tle=["{","}","|","\\","^","`"].concat(Ile),sE=["'"].concat(Tle),J9=["%","/","?",";","#"].concat(sE),eT=["/","?","#"],Kle=255,tT=/^[+a-z0-9A-Z_-]{0,63}$/,Ple=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Fle={javascript:!0,"javascript:":!0},lE={javascript:!0,"javascript:":!0},iy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},uE=f_;function Dle(e,n,t){if(e&&cp.isObject(e)&&e instanceof xp)return e;var r=new xp;return r.parse(e,n,t),r}xp.prototype.parse=function(e,n,t){if(!cp.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!t&&e.split("#").length===1){var p=kle.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],n?this.query=uE.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=Ole.exec(a);if(g){g=g[0];var b=g.toLowerCase();this.protocol=b,a=a.substr(g.length)}if(t||g||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=a.substr(0,2)==="//";B&&!(g&&lE[g])&&(a=a.substr(2),this.slashes=!0)}if(!lE[g]&&(B||g&&!iy[g])){for(var k=-1,P=0;P<eT.length;P++){var R=a.indexOf(eT[P]);R!==-1&&(k===-1||R<k)&&(k=R)}var Z,W;k===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",k),W!==-1&&(Z=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(Z)),k=-1;for(var P=0;P<J9.length;P++){var R=a.indexOf(J9[P]);R!==-1&&(k===-1||R<k)&&(k=R)}k===-1&&(k=a.length),this.host=a.slice(0,k),a=a.slice(k),this.parseHost(),this.hostname=this.hostname||"";var Q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Q)for(var q=this.hostname.split(/\./),P=0,oe=q.length;P<oe;P++){var re=q[P];if(re&&!re.match(tT)){for(var ce="",se=0,le=re.length;se<le;se++)re.charCodeAt(se)>127?ce+="x":ce+=re[se];if(!ce.match(tT)){var ye=q.slice(0,P),De=q.slice(P+1),Ne=re.match(Ple);Ne&&(ye.push(Ne[1]),De.unshift(Ne[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=ye.join(".");break}}}this.hostname.length>Kle?this.hostname="":this.hostname=this.hostname.toLowerCase(),Q||(this.hostname=Ele.toASCII(this.hostname));var et=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+et,this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Fle[b])for(var P=0,oe=sE.length;P<oe;P++){var Ke=sE[P];if(a.indexOf(Ke)!==-1){var rt=encodeURIComponent(Ke);rt===Ke&&(rt=escape(Ke)),a=a.split(Ke).join(rt)}}var Ce=a.indexOf("#");Ce!==-1&&(this.hash=a.substr(Ce),a=a.slice(0,Ce));var Rt=a.indexOf("?");if(Rt!==-1?(this.search=a.substr(Rt),this.query=a.substr(Rt+1),n&&(this.query=uE.parse(this.query)),a=a.slice(0,Rt)):n&&(this.search="",this.query={}),a&&(this.pathname=a),iy[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",jt=this.search||"";this.path=et+jt}return this.href=this.format(),this};xp.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&cp.isObject(this.query)&&Object.keys(this.query).length&&(o=uE.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||iy[n])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+t+s+r};xp.prototype.resolve=function(e){return this.resolveObject(Dle(e,!1,!0)).format()};xp.prototype.resolveObject=function(e){if(cp.isString(e)){var n=new xp;n.parse(e,!1,!0),e=n}for(var t=new xp,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var p=s[a];p!=="protocol"&&(t[p]=e[p])}return iy[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!iy[e.protocol]){for(var g=Object.keys(e),b=0;b<g.length;b++){var B=g[b];t[B]=e[B]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!lE[e.protocol]){for(var oe=(e.pathname||"").split("/");oe.length&&!(e.host=oe.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),t.pathname=oe.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var k=t.pathname||"",P=t.search||"";t.path=k+P}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var R=t.pathname&&t.pathname.charAt(0)==="/",Z=e.host||e.pathname&&e.pathname.charAt(0)==="/",W=Z||R||t.host&&e.pathname,Q=W,q=t.pathname&&t.pathname.split("/")||[],oe=e.pathname&&e.pathname.split("/")||[],re=t.protocol&&!iy[t.protocol];if(re&&(t.hostname="",t.port=null,t.host&&(q[0]===""?q[0]=t.host:q.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(oe[0]===""?oe[0]=e.host:oe.unshift(e.host)),e.host=null),W=W&&(oe[0]===""||q[0]==="")),Z)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,q=oe;else if(oe.length)q||(q=[]),q.pop(),q=q.concat(oe),t.search=e.search,t.query=e.query;else if(!cp.isNullOrUndefined(e.search)){if(re){t.hostname=t.host=q.shift();var ce=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ce&&(t.auth=ce.shift(),t.host=t.hostname=ce.shift())}return t.search=e.search,t.query=e.query,(!cp.isNull(t.pathname)||!cp.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!q.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var se=q.slice(-1)[0],le=(t.host||e.host||q.length>1)&&(se==="."||se==="..")||se==="",ye=0,De=q.length;De>=0;De--)se=q[De],se==="."?q.splice(De,1):se===".."?(q.splice(De,1),ye++):ye&&(q.splice(De,1),ye--);if(!W&&!Q)for(;ye--;ye)q.unshift("..");W&&q[0]!==""&&(!q[0]||q[0].charAt(0)!=="/")&&q.unshift(""),le&&q.join("/").substr(-1)!=="/"&&q.push("");var Ne=q[0]===""||q[0]&&q[0].charAt(0)==="/";if(re){t.hostname=t.host=Ne?"":q.length?q.shift():"";var ce=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ce&&(t.auth=ce.shift(),t.host=t.hostname=ce.shift())}return W=W||t.host&&q.length,W&&!Ne&&q.unshift(""),q.length?t.pathname=q.join("/"):(t.pathname=null,t.path=null),(!cp.isNull(t.pathname)||!cp.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t};xp.prototype.parseHost=function(){var e=this.host,n=Ble.exec(e);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)};function Gz(e,...n){for(const t of n)for(const r in t)e[r]=t[r];return e}class Ule extends Error{constructor(n,t){super(t),this.message=t,this.key=n}}var nf=Ule;class v7{constructor(n,t=[]){this.parent=n,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(n){return new v7(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return this.bindings[n]?!0:this.parent?this.parent.has(n):!1}}var Rle=v7;const p5={kind:"null"},Xn={kind:"number"},oo={kind:"string"},$i={kind:"boolean"},wp={kind:"color"},oy={kind:"object"},qi={kind:"value"},Lle={kind:"error"},m5={kind:"collator"},g5={kind:"formatted"},q_={kind:"resolvedImage"};function cd(e,n){return{kind:"array",itemType:e,N:n}}function bs(e){if(e.kind==="array"){const n=bs(e.itemType);return typeof e.N=="number"?`array<${n}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${n}>`}else return e.kind}const zle=[p5,Xn,oo,$i,wp,g5,oy,cd(qi),q_];function p_(e,n){if(n.kind==="error")return null;if(e.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!p_(e.itemType,n.itemType))&&(typeof e.N!="number"||e.N===n.N))return null}else{if(e.kind===n.kind)return null;if(e.kind==="value"){for(const t of zle)if(!p_(t,n))return null}}return`Expected ${bs(e)} but found ${bs(n)} instead.`}function C7(e,n){return n.some(t=>t.kind===e.kind)}function m_(e,n){return n.some(t=>t==="null"?e===null:t==="array"?Array.isArray(e):t==="object"?e&&!Array.isArray(e)&&typeof e=="object":t===typeof e)}var jle={},Qz,nT={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function EC(e){return e=Math.round(e),e<0?0:e>255?255:e}function rT(e){return e<0?0:e>1?1:e}function xM(e){return e[e.length-1]==="%"?EC(parseFloat(e)/100*255):EC(parseInt(e))}function Bx(e){return e[e.length-1]==="%"?rT(parseFloat(e)/100):rT(parseFloat(e))}function wM(e,n,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?e+(n-e)*t*6:t*2<1?n:t*3<2?e+(n-e)*(2/3-t)*6:e}function Wle(e){var n=e.replace(/ /g,"").toLowerCase();if(n in nT)return nT[n].slice();if(n[0]==="#"){if(n.length===4){var t=parseInt(n.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(n.length===7){var t=parseInt(n.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var r=n.indexOf("("),i=n.indexOf(")");if(r!==-1&&i+1===n.length){var o=n.substr(0,r),s=n.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=Bx(s.pop());case"rgb":return s.length!==3?null:[xM(s[0]),xM(s[1]),xM(s[2]),a];case"hsla":if(s.length!==4)return null;a=Bx(s.pop());case"hsl":if(s.length!==3)return null;var p=(parseFloat(s[0])%360+360)%360/360,g=Bx(s[1]),b=Bx(s[2]),B=b<=.5?b*(g+1):b+g-b*g,k=b*2-B;return[EC(wM(k,B,p+1/3)*255),EC(wM(k,B,p)*255),EC(wM(k,B,p-1/3)*255),a];default:return null}}return null}try{Qz=jle.parseCSSColor=Wle}catch{}class JA{constructor(n,t,r,i=1){this.r=n,this.g=t,this.b=r,this.a=i}static parse(n){if(!n)return;if(n instanceof JA)return n;if(typeof n!="string")return;const t=Qz(n);if(t)return new JA(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[n,t,r,i]=this.toArray();return`rgba(${Math.round(n)},${Math.round(t)},${Math.round(r)},${i})`}toArray(){const{r:n,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[n*255/i,t*255/i,r*255/i,i]}toArray01(){const{r:n,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[n/i,t/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:n,g:t,b:r,a:i}=this;return[n,t,r,i]}}JA.black=new JA(0,0,0,1);JA.white=new JA(1,1,1,1);JA.transparent=new JA(0,0,0,0);JA.red=new JA(1,0,0,1);JA.blue=new JA(0,0,1,1);var Nl=JA;class _7{constructor(n,t,r){n?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,t){return this.collator.compare(n,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class AE{constructor(n,t,r,i,o){this.text=n.normalize?n.normalize():n,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}}class oh{constructor(n){this.sections=n}static fromString(n){return new oh([new AE(n,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof oh?n:oh.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const t of this.sections){if(t.image){n.push(["image",t.image.name]);continue}n.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),n.push(r)}return n}}class Op{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new Op({name:n,available:!1}):null}serialize(){return["image",this.name]}}function $z(e,n,t,r){return typeof e=="number"&&e>=0&&e<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,n,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,n,t,r]:[e,n,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function P3(e){if(e===null)return!0;if(typeof e=="string")return!0;if(typeof e=="boolean")return!0;if(typeof e=="number")return!0;if(e instanceof Nl)return!0;if(e instanceof _7)return!0;if(e instanceof oh)return!0;if(e instanceof Op)return!0;if(Array.isArray(e)){for(const n of e)if(!P3(n))return!1;return!0}else if(typeof e=="object"){for(const n in e)if(!P3(e[n]))return!1;return!0}else return!1}function jl(e){if(e===null)return p5;if(typeof e=="string")return oo;if(typeof e=="boolean")return $i;if(typeof e=="number")return Xn;if(e instanceof Nl)return wp;if(e instanceof _7)return m5;if(e instanceof oh)return g5;if(e instanceof Op)return q_;if(Array.isArray(e)){const n=e.length;let t;for(const r of e){const i=jl(r);if(!t)t=i;else{if(t===i)continue;t=qi;break}}return cd(t||qi,n)}else return oy}function OC(e){const n=typeof e;return e===null?"":n==="string"||n==="number"||n==="boolean"?String(e):e instanceof Nl||e instanceof oh||e instanceof Op?e.toString():JSON.stringify(e)}class b7{constructor(n,t){this.type=n,this.value=t}static parse(n,t){if(n.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!P3(n[1]))return t.error("invalid value");const r=n[1];let i=jl(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new b7(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Nl?["rgba"].concat(this.value.toArray()):this.value instanceof oh?this.value.serialize():this.value}}var F3=b7;class Nle{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}var Mu=Nle;const MM={string:oo,number:Xn,boolean:$i,object:oy};class x7{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=n[0];if(o==="array"){let a;if(n.length>2){const g=n[1];if(typeof g!="string"||!(g in MM)||g==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=MM[g],r++}else a=qi;let p;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return t.error('The length argument to "array" must be a positive integer literal',2);p=n[2],r++}i=cd(a,p)}else i=MM[o];const s=[];for(;r<n.length;r++){const a=t.parse(n[r],r,qi);if(!a)return null;s.push(a)}return new x7(i,s)}evaluate(n){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(n);if(p_(this.type,jl(r))){if(t===this.args.length-1)throw new Mu(`Expected value to be of type ${bs(this.type)}, but found ${bs(jl(r))} instead.`)}else return r}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,t=[n.kind];if(n.kind==="array"){const r=n.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){t.push(r.kind);const i=n.N;(typeof i=="number"||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(r=>r.serialize()))}}var mp=x7;class y5{constructor(n){this.type=g5,this.sections=n}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=n.length-1;++s){const a=n[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let p=null;if(a["font-scale"]&&(p=t.parse(a["font-scale"],1,Xn),!p))return null;let g=null;if(a["text-font"]&&(g=t.parse(a["text-font"],1,cd(oo)),!g))return null;let b=null;if(a["text-color"]&&(b=t.parse(a["text-color"],1,wp),!b))return null;const B=i[i.length-1];B.scale=p,B.font=g,B.textColor=b}else{const p=t.parse(n[s],1,qi);if(!p)return null;const g=p.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:p,scale:null,font:null,textColor:null})}}return new y5(i)}evaluate(n){const t=r=>{const i=r.content.evaluate(n);return jl(i)===q_?new AE("",i,null,null,null):new AE(OC(i),null,r.scale?r.scale.evaluate(n):null,r.font?r.font.evaluate(n).join(","):null,r.textColor?r.textColor.evaluate(n):null)};return new oh(this.sections.map(t))}eachChild(n){for(const t of this.sections)n(t.content),t.scale&&n(t.scale),t.font&&n(t.font),t.textColor&&n(t.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const t of this.sections){n.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),n.push(r)}return n}}class v5{constructor(n){this.type=q_,this.input=n}static parse(n,t){if(n.length!==2)return t.error("Expected two arguments.");const r=t.parse(n[1],1,oo);return r?new v5(r):t.error("No image name provided.")}evaluate(n){const t=this.input.evaluate(n),r=Op.fromString(t);return r&&n.availableImages&&(r.available=n.availableImages.indexOf(t)>-1),r}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Gle={"to-boolean":$i,"to-color":wp,"to-number":Xn,"to-string":oo};class w7{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expected at least one argument.");const r=n[0];if((r==="to-boolean"||r==="to-string")&&n.length!==2)return t.error("Expected one argument.");const i=Gle[r],o=[];for(let s=1;s<n.length;s++){const a=t.parse(n[s],s,qi);if(!a)return null;o.push(a)}return new w7(i,o)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let t,r;for(const i of this.args){if(t=i.evaluate(n),r=null,t instanceof Nl)return t;if(typeof t=="string"){const o=n.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=$z(t[0],t[1],t[2],t[3]),!r))return new Nl(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Mu(r||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const r of this.args){if(t=r.evaluate(n),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Mu(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?oh.fromString(OC(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Op.fromString(OC(this.args[0].evaluate(n))):OC(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new y5([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new v5(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(t=>{n.push(t.serialize())}),n}}var Lg=w7;const Qle=["Unknown","Point","LineString","Polygon"];class $le{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Qle[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*t-n[0],s=i*t-n[1],a=this.featureDistanceData.bearing[0],p=this.featureDistanceData.bearing[1];return a*o+p*s}return 0}parseColor(n){let t=this._parseColorCache[n];return t||(t=this._parseColorCache[n]=Nl.parse(n)),t}}var Yz=$le;class zg{constructor(n,t,r,i){this.name=n,this.type=t,this._evaluate=r,this.args=i}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,t){const r=n[0],i=zg.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([g])=>!Array.isArray(g)||g.length===n.length-1);let p=null;for(const[g,b]of a){p=new Xz(t.registry,t.path,null,t.scope);const B=[];let k=!1;for(let P=1;P<n.length;P++){const R=n[P],Z=Array.isArray(g)?g[P-1]:g.type,W=p.parse(R,1+B.length,Z);if(!W){k=!0;break}B.push(W)}if(!k){if(Array.isArray(g)&&g.length!==B.length){p.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const R=Array.isArray(g)?g[P]:g.type,Z=B[P];p.concat(P+1).checkSubtype(R,Z.type)}if(p.errors.length===0)return new zg(r,o,b,B)}}if(a.length===1)t.errors.push(...p.errors);else{const b=(a.length?a:s).map(([k])=>Yle(k)).join(" | "),B=[];for(let k=1;k<n.length;k++){const P=t.parse(n[k],1+B.length);if(!P)return null;B.push(bs(P.type))}t.error(`Expected arguments of type ${b}, but found (${B.join(", ")}) instead.`)}return null}static register(n,t){zg.definitions=t;for(const r in t)n[r]=zg}}function Yle(e){return Array.isArray(e)?`(${e.map(bs).join(", ")})`:`(${bs(e.type)}...)`}var Gy=zg;class C5{constructor(n,t,r){this.type=m5,this.locale=r,this.caseSensitive=n,this.diacriticSensitive=t}static parse(n,t){if(n.length!==2)return t.error("Expected one argument.");const r=n[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,$i);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,$i);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,oo),!s)?null:new C5(i,o,s)}evaluate(n){return new _7(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const Fm=8192;function M7(e,n){e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[1]),e[2]=Math.max(e[2],n[0]),e[3]=Math.max(e[3],n[1])}function qle(e){return(180+e)/360}function Vle(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function D3(e,n){return!(e[0]<=n[0]||e[2]>=n[2]||e[1]<=n[1]||e[3]>=n[3])}function Hle(e,n){const t=qle(e[0]),r=Vle(e[1]),i=Math.pow(2,n.z);return[Math.round(t*i*Fm),Math.round(r*i*Fm)]}function Zle(e,n,t){const r=e[0]-n[0],i=e[1]-n[1],o=e[0]-t[0],s=e[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function Xle(e,n,t){return n[1]>e[1]!=t[1]>e[1]&&e[0]<(t[0]-n[0])*(e[1]-n[1])/(t[1]-n[1])+n[0]}function S7(e,n){let t=!1;for(let r=0,i=n.length;r<i;r++){const o=n[r];for(let s=0,a=o.length;s<a-1;s++){if(Zle(e,o[s],o[s+1]))return!1;Xle(e,o[s],o[s+1])&&(t=!t)}}return t}function Jle(e,n){for(let t=0;t<n.length;t++)if(S7(e,n[t]))return!0;return!1}function eue(e,n){return e[0]*n[1]-e[1]*n[0]}function iT(e,n,t,r){const i=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],a=n[1]-t[1],p=r[0]-t[0],g=r[1]-t[1],b=i*g-p*o,B=s*g-p*a;return b>0&&B<0||b<0&&B>0}function tue(e,n,t,r){const i=[n[0]-e[0],n[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return eue(o,i)===0?!1:!!(iT(e,n,t,r)&&iT(t,r,e,n))}function nue(e,n,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(tue(e,n,r[i],r[i+1]))return!0;return!1}function qz(e,n){for(let t=0;t<e.length;++t)if(!S7(e[t],n))return!1;for(let t=0;t<e.length-1;++t)if(nue(e[t],e[t+1],n))return!1;return!0}function rue(e,n){for(let t=0;t<n.length;t++)if(qz(e,n[t]))return!0;return!1}function E7(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let s=0;s<e[i].length;s++){const a=Hle(e[i][s],t);M7(n,a),o.push(a)}r.push(o)}return r}function Vz(e,n,t){const r=[];for(let i=0;i<e.length;i++){const o=E7(e[i],n,t);r.push(o)}return r}function Hz(e,n,t,r){if(e[0]<t[0]||e[0]>t[2]){const i=r*.5;let o=e[0]-t[0]>i?-r:t[0]-e[0]>i?r:0;o===0&&(o=e[0]-t[2]>i?-r:t[2]-e[0]>i?r:0),e[0]+=o}M7(n,e)}function iue(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function oT(e,n,t,r){const i=Math.pow(2,r.z)*Fm,o=[r.x*Fm,r.y*Fm],s=[];if(!e)return s;for(const a of e)for(const p of a){const g=[p.x+o[0],p.y+o[1]];Hz(g,n,t,i),s.push(g)}return s}function aT(e,n,t,r){const i=Math.pow(2,r.z)*Fm,o=[r.x*Fm,r.y*Fm],s=[];if(!e)return s;for(const a of e){const p=[];for(const g of a){const b=[g.x+o[0],g.y+o[1]];M7(n,b),p.push(b)}s.push(p)}if(n[2]-n[0]<=i/2){iue(n);for(const a of s)for(const p of a)Hz(p,n,t,i)}return s}function oue(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=E7(n.coordinates,r,i),s=oT(e.geometry(),t,r,i);if(!D3(t,r))return!1;for(const a of s)if(!S7(a,o))return!1}if(n.type==="MultiPolygon"){const o=Vz(n.coordinates,r,i),s=oT(e.geometry(),t,r,i);if(!D3(t,r))return!1;for(const a of s)if(!Jle(a,o))return!1}return!0}function aue(e,n){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(n.type==="Polygon"){const o=E7(n.coordinates,r,i),s=aT(e.geometry(),t,r,i);if(!D3(t,r))return!1;for(const a of s)if(!qz(a,o))return!1}if(n.type==="MultiPolygon"){const o=Vz(n.coordinates,r,i),s=aT(e.geometry(),t,r,i);if(!D3(t,r))return!1;for(const a of s)if(!rue(a,o))return!1}return!0}class BC{constructor(n,t){this.type=$i,this.geojson=n,this.geometries=t}static parse(n,t){if(n.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(P3(n[1])){const r=n[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new BC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new BC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new BC(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return oue(n,this.geometries);if(n.geometryType()==="LineString")return aue(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var O7=BC;function _5(e){if(e instanceof Gy){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof O7)return!1;let n=!0;return e.eachChild(t=>{n&&!_5(t)&&(n=!1)}),n}function B7(e){if(e instanceof Gy&&e.name==="feature-state")return!1;let n=!0;return e.eachChild(t=>{n&&!B7(t)&&(n=!1)}),n}function k7(e,n){if(e instanceof Gy&&n.indexOf(e.name)>=0)return!1;let t=!0;return e.eachChild(r=>{t&&!k7(r,n)&&(t=!1)}),t}class I7{constructor(n,t){this.type=t.type,this.name=n,this.boundExpression=t}static parse(n,t){if(n.length!==2||typeof n[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=n[1];return t.scope.has(r)?new I7(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Zz=I7;class T7{constructor(n,t=[],r,i=new Rle,o=[]){this.registry=n,this.path=t,this.key=t.map(s=>`[${s}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(n,t,r,i,o={}){return t?this.concat(t,r,i)._parse(n,o):this._parse(n,o)}_parse(n,t){(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number")&&(n=["literal",n]);function r(i,o,s){return s==="assert"?new mp(o,[i]):s==="coerce"?new Lg(o,[i]):i}if(Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=n[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(n,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,p=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&p.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(p.kind==="value"||p.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,p))return null}if(!(s instanceof F3)&&s.type.kind!=="resolvedImage"&&cE(s)){const a=new Yz;try{s=new F3(s.type,s.evaluate(a))}catch(p){return this.error(p.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof n>"u"?this.error("'undefined' value invalid. Use null instead."):typeof n=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof n} instead.`)}concat(n,t,r){const i=typeof n=="number"?this.path.concat(n):this.path,o=r?this.scope.concat(r):this.scope;return new T7(this.registry,i,t||null,o,this.errors)}error(n,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new nf(r,n))}checkSubtype(n,t){const r=p_(n,t);return r&&this.error(r),r}}var Xz=T7;function cE(e){if(e instanceof Zz)return cE(e.boundExpression);if(e instanceof Gy&&e.name==="error")return!1;if(e instanceof C5)return!1;if(e instanceof O7)return!1;const n=e instanceof Lg||e instanceof mp;let t=!0;return e.eachChild(r=>{n?t=t&&cE(r):t=t&&r instanceof F3}),t?_5(e)&&k7(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function b5(e,n){const t=e.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=e[o],a=e[o+1],s<=n){if(o===t||n<a)return o;r=o+1}else if(s>n)i=o-1;else throw new Mu("Input is not a number.");return 0}class K7{constructor(n,t,r){this.type=n,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(n,t){if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(n[1],1,Xn);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<n.length;s+=2){const a=s===1?-1/0:n[s],p=n[s+1],g=s,b=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=t.parse(p,b,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new K7(o,r,i)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=b5(t,i);return r[s].evaluate(n)}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&n.push(this.labels[t]),n.push(this.outputs[t].serialize());return n}}var Jz=K7,sue=ej;function ej(e,n,t,r){this.cx=3*e,this.bx=3*(t-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(r-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=t,this.p2y=r}ej.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,n){if(n===void 0&&(n=1e-6),e<0)return 0;if(e>1)return 1;for(var t=e,r=0;r<8;r++){var i=this.sampleCurveX(t)-e;if(Math.abs(i)<n)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=e,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-e)<n));r++)e>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(e,n){return this.sampleCurveY(this.solveCurveX(e,n))}};function Tc(e,n,t){return e*(1-t)+n*t}function lue(e,n,t){return new Nl(Tc(e.r,n.r,t),Tc(e.g,n.g,t),Tc(e.b,n.b,t),Tc(e.a,n.a,t))}function uue(e,n,t){return e.map((r,i)=>Tc(r,n[i],t))}var tj=Object.freeze({__proto__:null,number:Tc,color:lue,array:uue});const nj=.95047,rj=1,ij=1.08883,oj=4/29,ay=6/29,aj=3*ay*ay,Aue=ay*ay*ay,cue=Math.PI/180,due=180/Math.PI;function SM(e){return e>Aue?Math.pow(e,1/3):e/aj+oj}function EM(e){return e>ay?e*e*e:aj*(e-oj)}function OM(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function BM(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function sj(e){const n=BM(e.r),t=BM(e.g),r=BM(e.b),i=SM((.4124564*n+.3575761*t+.1804375*r)/nj),o=SM((.2126729*n+.7151522*t+.072175*r)/rj),s=SM((.0193339*n+.119192*t+.9503041*r)/ij);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:e.a}}function lj(e){let n=(e.l+16)/116,t=isNaN(e.a)?n:n+e.a/500,r=isNaN(e.b)?n:n-e.b/200;return n=rj*EM(n),t=nj*EM(t),r=ij*EM(r),new Nl(OM(3.2404542*t-1.5371385*n-.4985314*r),OM(-.969266*t+1.8760108*n+.041556*r),OM(.0556434*t-.2040259*n+1.0572252*r),e.alpha)}function hue(e,n,t){return{l:Tc(e.l,n.l,t),a:Tc(e.a,n.a,t),b:Tc(e.b,n.b,t),alpha:Tc(e.alpha,n.alpha,t)}}function fue(e){const{l:n,a:t,b:r}=sj(e),i=Math.atan2(r,t)*due;return{h:i<0?i+360:i,c:Math.sqrt(t*t+r*r),l:n,alpha:e.a}}function pue(e){const n=e.h*cue,t=e.c,r=e.l;return lj({l:r,a:Math.cos(n)*t,b:Math.sin(n)*t,alpha:e.alpha})}function mue(e,n,t){const r=n-e;return e+t*(r>180||r<-180?r-360*Math.round(r/360):r)}function gue(e,n,t){return{h:mue(e.h,n.h,t),c:Tc(e.c,n.c,t),l:Tc(e.l,n.l,t),alpha:Tc(e.alpha,n.alpha,t)}}const iC={forward:sj,reverse:lj,interpolate:hue},oC={forward:fue,reverse:pue,interpolate:gue};var uj=Object.freeze({__proto__:null,lab:iC,hcl:oC});class U3{constructor(n,t,r,i,o){this.type=n,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(n,t,r,i){let o=0;if(n.name==="exponential")o=kM(t,n.base,r,i);else if(n.name==="linear")o=kM(t,1,r,i);else if(n.name==="cubic-bezier"){const s=n.controlPoints;o=new sue(s[0],s[1],s[2],s[3]).solve(kM(t,1,r,i))}return o}static parse(n,t){let[r,i,o,...s]=n;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(b=>typeof b!="number"||b<0||b>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(n.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Xn),!o)return null;const a=[];let p=null;r==="interpolate-hcl"||r==="interpolate-lab"?p=wp:t.expectedType&&t.expectedType.kind!=="value"&&(p=t.expectedType);for(let g=0;g<s.length;g+=2){const b=s[g],B=s[g+1],k=g+3,P=g+4;if(typeof b!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(a.length&&a[a.length-1][0]>=b)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const R=t.parse(B,P,p);if(!R)return null;p=p||R.type,a.push([b,R])}return p.kind!=="number"&&p.kind!=="color"&&!(p.kind==="array"&&p.itemType.kind==="number"&&typeof p.N=="number")?t.error(`Type ${bs(p)} is not interpolatable.`):new U3(p,r,i,o,a)}evaluate(n){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(n);const i=this.input.evaluate(n);if(i<=t[0])return r[0].evaluate(n);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(n);const s=b5(t,i),a=t[s],p=t[s+1],g=U3.interpolationFactor(this.interpolation,i,a,p),b=r[s].evaluate(n),B=r[s+1].evaluate(n);return this.operator==="interpolate"?tj[this.type.kind.toLowerCase()](b,B,g):this.operator==="interpolate-hcl"?oC.reverse(oC.interpolate(oC.forward(b),oC.forward(B),g)):iC.reverse(iC.interpolate(iC.forward(b),iC.forward(B),g))}eachChild(n){n(this.input);for(const t of this.outputs)n(t)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;this.interpolation.name==="linear"?n=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?n=["linear"]:n=["exponential",this.interpolation.base]:n=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,n,this.input.serialize()];for(let r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t}}function kM(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}var Mp=U3;class R3{constructor(n,t){this.type=n,this.args=t}static parse(n,t){if(n.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of n.slice(1)){const p=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!p)return null;r=r||p.type,o.push(p)}return i&&o.some(a=>p_(i,a.type))?new R3(qi,o):new R3(r,o)}evaluate(n){let t=null,r=0,i;for(const o of this.args){if(r++,t=o.evaluate(n),t&&t instanceof Op&&!t.available&&(i||(i=t),t=null,r===this.args.length))return i;if(t!==null)break}return t}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var Aj=R3;class P7{constructor(n,t){this.type=t.type,this.bindings=[].concat(n),this.result=t}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const t of this.bindings)n(t[1]);n(this.result)}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const r=[];for(let o=1;o<n.length-1;o+=2){const s=n[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(n[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(n[n.length-1],n.length-1,t.expectedType,r);return i?new P7(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[t,r]of this.bindings)n.push(t,r.serialize());return n.push(this.result.serialize()),n}}var cj=P7;class F7{constructor(n,t,r){this.type=n,this.index=t,this.input=r}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,Xn),i=t.parse(n[2],2,cd(t.expectedType||qi));if(!r||!i)return null;const o=i.type;return new F7(o.itemType,r,i)}evaluate(n){const t=this.index.evaluate(n),r=this.input.evaluate(n);if(t<0)throw new Mu(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Mu(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Mu(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var yue=F7;class D7{constructor(n,t){this.type=$i,this.needle=n,this.haystack=t}static parse(n,t){if(n.length!==3)return t.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,qi);return!r||!i?null:C7(r.type,[$i,oo,Xn,p5,qi])?new D7(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${bs(r.type)} instead`)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(r==null)return!1;if(!m_(t,["boolean","string","number","null"]))throw new Mu(`Expected first argument to be of type boolean, string, number or null, but found ${bs(jl(t))} instead.`);if(!m_(r,["string","array"]))throw new Mu(`Expected second argument to be of type array or string, but found ${bs(jl(r))} instead.`);return r.indexOf(t)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var vue=D7;class L3{constructor(n,t,r){this.type=Xn,this.needle=n,this.haystack=t,this.fromIndex=r}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,qi);if(!r||!i)return null;if(!C7(r.type,[$i,oo,Xn,p5,qi]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${bs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,Xn);return o?new L3(r,i,o):null}else return new L3(r,i)}evaluate(n){const t=this.needle.evaluate(n),r=this.haystack.evaluate(n);if(!m_(t,["boolean","string","number","null"]))throw new Mu(`Expected first argument to be of type boolean, string, number or null, but found ${bs(jl(t))} instead.`);if(!m_(r,["string","array"]))throw new Mu(`Expected second argument to be of type array or string, but found ${bs(jl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(n);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Cue=L3;class U7{constructor(n,t,r,i,o,s){this.inputType=n,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(n,t){if(n.length<5)return t.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let g=2;g<n.length-1;g+=2){let b=n[g];const B=n[g+1];Array.isArray(b)||(b=[b]);const k=t.concat(g);if(b.length===0)return k.error("Expected at least one branch label.");for(const R of b){if(typeof R!="number"&&typeof R!="string")return k.error("Branch labels must be numbers or strings.");if(typeof R=="number"&&Math.abs(R)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof R=="number"&&Math.floor(R)!==R)return k.error("Numeric branch labels must be integer values.");if(!r)r=jl(R);else if(k.checkSubtype(r,jl(R)))return null;if(typeof o[String(R)]<"u")return k.error("Branch labels must be unique.");o[String(R)]=s.length}const P=t.parse(B,g,i);if(!P)return null;i=i||P.type,s.push(P)}const a=t.parse(n[1],1,qi);if(!a)return null;const p=t.parse(n[n.length-1],n.length-1,i);return!p||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new U7(r,i,a,o,s,p)}evaluate(n){const t=this.input.evaluate(n);return(jl(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],i={};for(const s of t){const a=i[this.cases[s]];a===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[a][1].push(s)}const o=s=>this.inputType.kind==="number"?Number(s):s;for(const[s,a]of r)a.length===1?n.push(o(a[0])):n.push(a.map(o)),n.push(this.outputs[s].serialize());return n.push(this.otherwise.serialize()),n}}var _ue=U7;class R7{constructor(n,t,r){this.type=n,this.branches=t,this.otherwise=r}static parse(n,t){if(n.length<4)return t.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<n.length-1;s+=2){const a=t.parse(n[s],s,$i);if(!a)return null;const p=t.parse(n[s+1],s+1,r);if(!p)return null;i.push([a,p]),r=r||p.type}const o=t.parse(n[n.length-1],n.length-1,r);return o?new R7(r,i,o):null}evaluate(n){for(const[t,r]of this.branches)if(t.evaluate(n))return r.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[t,r]of this.branches)n(t),n(r);n(this.otherwise)}outputDefined(){return this.branches.every(([n,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var bue=R7;class z3{constructor(n,t,r,i){this.type=n,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(n,t){if(n.length<=2||n.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const r=t.parse(n[1],1,qi),i=t.parse(n[2],2,Xn);if(!r||!i)return null;if(!C7(r.type,[cd(qi),oo,qi]))return t.error(`Expected first argument to be of type array or string, but found ${bs(r.type)} instead`);if(n.length===4){const o=t.parse(n[3],3,Xn);return o?new z3(r.type,r,i,o):null}else return new z3(r.type,r,i)}evaluate(n){const t=this.input.evaluate(n),r=this.beginIndex.evaluate(n);if(!m_(t,["string","array"]))throw new Mu(`Expected first argument to be of type array or string, but found ${bs(jl(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(n);return t.slice(r,i)}return t.slice(r)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var xue=z3;function sT(e,n){return e==="=="||e==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function wue(e,n,t){return n===t}function Mue(e,n,t){return n!==t}function Sue(e,n,t){return n<t}function Eue(e,n,t){return n>t}function Oue(e,n,t){return n<=t}function Bue(e,n,t){return n>=t}function dj(e,n,t,r){return r.compare(n,t)===0}function kue(e,n,t,r){return!dj(e,n,t,r)}function Iue(e,n,t,r){return r.compare(n,t)<0}function Tue(e,n,t,r){return r.compare(n,t)>0}function Kue(e,n,t,r){return r.compare(n,t)<=0}function Pue(e,n,t,r){return r.compare(n,t)>=0}function Qy(e,n,t){const r=e!=="=="&&e!=="!=";return class hj{constructor(o,s,a){this.type=$i,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let p=s.parse(o[1],1,qi);if(!p)return null;if(!sT(a,p.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${bs(p.type)}'.`);let g=s.parse(o[2],2,qi);if(!g)return null;if(!sT(a,g.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${bs(g.type)}'.`);if(p.type.kind!==g.type.kind&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error(`Cannot compare types '${bs(p.type)}' and '${bs(g.type)}'.`);r&&(p.type.kind==="value"&&g.type.kind!=="value"?p=new mp(g.type,[p]):p.type.kind!=="value"&&g.type.kind==="value"&&(g=new mp(p.type,[g])));let b=null;if(o.length===4){if(p.type.kind!=="string"&&g.type.kind!=="string"&&p.type.kind!=="value"&&g.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(b=s.parse(o[3],3,m5),!b)return null}return new hj(p,g,b)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const p=jl(s),g=jl(a);if(p.kind!==g.kind||!(p.kind==="string"||p.kind==="number"))throw new Mu(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${p.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const p=jl(s),g=jl(a);if(p.kind!=="string"||g.kind!=="string")return n(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):n(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[e];return this.eachChild(s=>{o.push(s.serialize())}),o}}}const Fue=Qy("==",wue,dj),Due=Qy("!=",Mue,kue),Uue=Qy("<",Sue,Iue),Rue=Qy(">",Eue,Tue),Lue=Qy("<=",Oue,Kue),zue=Qy(">=",Bue,Pue);class L7{constructor(n,t,r,i,o,s){this.type=oo,this.number=n,this.locale=t,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=s}static parse(n,t){if(n.length!==3)return t.error("Expected two arguments.");const r=t.parse(n[1],1,Xn);if(!r)return null;const i=n[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,oo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,oo),!s))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,oo),!a))return null;let p=null;if(i["min-fraction-digits"]&&(p=t.parse(i["min-fraction-digits"],1,Xn),!p))return null;let g=null;return i["max-fraction-digits"]&&(g=t.parse(i["max-fraction-digits"],1,Xn),!g)?null:new L7(r,o,s,a,p,g)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class z7{constructor(n){this.type=Xn,this.input=n}static parse(n,t){if(n.length!==2)return t.error(`Expected 1 argument, but found ${n.length-1} instead.`);const r=t.parse(n[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${bs(r.type)} instead.`):new z7(r):null}evaluate(n){const t=this.input.evaluate(n);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new Mu(`Expected value to be of type string or array, but found ${bs(jl(t))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(t=>{n.push(t.serialize())}),n}}var jue=z7;const fj={"==":Fue,"!=":Due,">":Rue,"<":Uue,">=":zue,"<=":Lue,array:mp,at:yue,boolean:mp,case:bue,coalesce:Aj,collator:C5,format:y5,image:v5,in:vue,"index-of":Cue,interpolate:Mp,"interpolate-hcl":Mp,"interpolate-lab":Mp,length:jue,let:cj,literal:F3,match:_ue,number:mp,"number-format":L7,object:mp,slice:xue,step:Jz,string:mp,"to-boolean":Lg,"to-color":Lg,"to-number":Lg,"to-string":Lg,var:Zz,within:O7};function lT(e,[n,t,r,i]){n=n.evaluate(e),t=t.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,s=$z(n,t,r,o);if(s)throw new Mu(s);return new Nl(n/255*o,t/255*o,r/255*o,o)}function uT(e,n){return e in n}function IM(e,n){const t=n[e];return typeof t>"u"?null:t}function Wue(e,n,t,r){for(;t<=r;){const i=t+r>>1;if(n[i]===e)return!0;n[i]>e?r=i-1:t=i+1}return!1}function m0(e){return{type:e}}Gy.register(fj,{error:[Lle,[oo],(e,[n])=>{throw new Mu(n.evaluate(e))}],typeof:[oo,[qi],(e,[n])=>bs(jl(n.evaluate(e)))],"to-rgba":[cd(Xn,4),[wp],(e,[n])=>n.evaluate(e).toArray()],rgb:[wp,[Xn,Xn,Xn],lT],rgba:[wp,[Xn,Xn,Xn,Xn],lT],has:{type:$i,overloads:[[[oo],(e,[n])=>uT(n.evaluate(e),e.properties())],[[oo,oy],(e,[n,t])=>uT(n.evaluate(e),t.evaluate(e))]]},get:{type:qi,overloads:[[[oo],(e,[n])=>IM(n.evaluate(e),e.properties())],[[oo,oy],(e,[n,t])=>IM(n.evaluate(e),t.evaluate(e))]]},"feature-state":[qi,[oo],(e,[n])=>IM(n.evaluate(e),e.featureState||{})],properties:[oy,[],e=>e.properties()],"geometry-type":[oo,[],e=>e.geometryType()],id:[qi,[],e=>e.id()],zoom:[Xn,[],e=>e.globals.zoom],pitch:[Xn,[],e=>e.globals.pitch||0],"distance-from-center":[Xn,[],e=>e.distanceFromCenter()],"heatmap-density":[Xn,[],e=>e.globals.heatmapDensity||0],"line-progress":[Xn,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[Xn,[],e=>e.globals.skyRadialProgress||0],accumulated:[qi,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[Xn,m0(Xn),(e,n)=>{let t=0;for(const r of n)t+=r.evaluate(e);return t}],"*":[Xn,m0(Xn),(e,n)=>{let t=1;for(const r of n)t*=r.evaluate(e);return t}],"-":{type:Xn,overloads:[[[Xn,Xn],(e,[n,t])=>n.evaluate(e)-t.evaluate(e)],[[Xn],(e,[n])=>-n.evaluate(e)]]},"/":[Xn,[Xn,Xn],(e,[n,t])=>n.evaluate(e)/t.evaluate(e)],"%":[Xn,[Xn,Xn],(e,[n,t])=>n.evaluate(e)%t.evaluate(e)],ln2:[Xn,[],()=>Math.LN2],pi:[Xn,[],()=>Math.PI],e:[Xn,[],()=>Math.E],"^":[Xn,[Xn,Xn],(e,[n,t])=>Math.pow(n.evaluate(e),t.evaluate(e))],sqrt:[Xn,[Xn],(e,[n])=>Math.sqrt(n.evaluate(e))],log10:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))/Math.LN10],ln:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))],log2:[Xn,[Xn],(e,[n])=>Math.log(n.evaluate(e))/Math.LN2],sin:[Xn,[Xn],(e,[n])=>Math.sin(n.evaluate(e))],cos:[Xn,[Xn],(e,[n])=>Math.cos(n.evaluate(e))],tan:[Xn,[Xn],(e,[n])=>Math.tan(n.evaluate(e))],asin:[Xn,[Xn],(e,[n])=>Math.asin(n.evaluate(e))],acos:[Xn,[Xn],(e,[n])=>Math.acos(n.evaluate(e))],atan:[Xn,[Xn],(e,[n])=>Math.atan(n.evaluate(e))],min:[Xn,m0(Xn),(e,n)=>Math.min(...n.map(t=>t.evaluate(e)))],max:[Xn,m0(Xn),(e,n)=>Math.max(...n.map(t=>t.evaluate(e)))],abs:[Xn,[Xn],(e,[n])=>Math.abs(n.evaluate(e))],round:[Xn,[Xn],(e,[n])=>{const t=n.evaluate(e);return t<0?-Math.round(-t):Math.round(t)}],floor:[Xn,[Xn],(e,[n])=>Math.floor(n.evaluate(e))],ceil:[Xn,[Xn],(e,[n])=>Math.ceil(n.evaluate(e))],"filter-==":[$i,[oo,qi],(e,[n,t])=>e.properties()[n.value]===t.value],"filter-id-==":[$i,[qi],(e,[n])=>e.id()===n.value],"filter-type-==":[$i,[oo],(e,[n])=>e.geometryType()===n.value],"filter-<":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<r}],"filter->":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>r}],"filter-<=":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t<=r}],"filter->=":[$i,[oo,qi],(e,[n,t])=>{const r=e.properties()[n.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[$i,[qi],(e,[n])=>{const t=e.id(),r=n.value;return typeof t==typeof r&&t>=r}],"filter-has":[$i,[qi],(e,[n])=>n.value in e.properties()],"filter-has-id":[$i,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[$i,[cd(oo)],(e,[n])=>n.value.indexOf(e.geometryType())>=0],"filter-id-in":[$i,[cd(qi)],(e,[n])=>n.value.indexOf(e.id())>=0],"filter-in-small":[$i,[oo,cd(qi)],(e,[n,t])=>t.value.indexOf(e.properties()[n.value])>=0],"filter-in-large":[$i,[oo,cd(qi)],(e,[n,t])=>Wue(e.properties()[n.value],t.value,0,t.value.length-1)],all:{type:$i,overloads:[[[$i,$i],(e,[n,t])=>n.evaluate(e)&&t.evaluate(e)],[m0($i),(e,n)=>{for(const t of n)if(!t.evaluate(e))return!1;return!0}]]},any:{type:$i,overloads:[[[$i,$i],(e,[n,t])=>n.evaluate(e)||t.evaluate(e)],[m0($i),(e,n)=>{for(const t of n)if(t.evaluate(e))return!0;return!1}]]},"!":[$i,[$i],(e,[n])=>!n.evaluate(e)],"is-supported-script":[$i,[oo],(e,[n])=>{const t=e.globals&&e.globals.isSupportedScript;return t?t(n.evaluate(e)):!0}],upcase:[oo,[oo],(e,[n])=>n.evaluate(e).toUpperCase()],downcase:[oo,[oo],(e,[n])=>n.evaluate(e).toLowerCase()],concat:[oo,m0(qi),(e,n)=>n.map(t=>OC(t.evaluate(e))).join("")],"resolved-locale":[oo,[m5],(e,[n])=>n.evaluate(e).resolvedLocale()]});var pj=fj;function dE(e){return{result:"success",value:e}}function Sg(e){return{result:"error",value:e}}function Nue(e){return e["property-type"]==="data-driven"}function Gue(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function mj(e){return!!e.expression&&e.expression.interpolated}function j7(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function W7(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Que(e){return e}function N7(e,n){const t=n.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,s=e.type||(mj(n)?"exponential":"interval");if(t&&(e=Gz({},e),e.stops&&(e.stops=e.stops.map(b=>[b[0],Nl.parse(b[1])])),e.default?e.default=Nl.parse(e.default):e.default=Nl.parse(n.default)),e.colorSpace&&e.colorSpace!=="rgb"&&!uj[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,p,g;if(s==="exponential")a=AT;else if(s==="interval")a=Yue;else if(s==="categorical"){a=$ue,p=Object.create(null);for(const b of e.stops)p[b[0]]=b[1];g=typeof e.stops[0][0]}else if(s==="identity")a=que;else throw new Error(`Unknown function type "${s}"`);if(r){const b={},B=[];for(let R=0;R<e.stops.length;R++){const Z=e.stops[R],W=Z[0].zoom;b[W]===void 0&&(b[W]={zoom:W,type:e.type,property:e.property,default:e.default,stops:[]},B.push(W)),b[W].stops.push([Z[0].value,Z[1]])}const k=[];for(const R of B)k.push([b[R].zoom,N7(b[R],n)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Mp.interpolationFactor.bind(void 0,P),zoomStops:k.map(R=>R[0]),evaluate({zoom:R},Z){return AT({stops:k,base:e.base},n,R).evaluate(R,Z)}}}else if(o){const b=s==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:b,interpolationFactor:Mp.interpolationFactor.bind(void 0,b),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(e,n,B,p,g)}}else return{kind:"source",evaluate(b,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?V_(e.default,n.default):a(e,n,k,p,g)}}}function V_(e,n,t){if(e!==void 0)return e;if(n!==void 0)return n;if(t!==void 0)return t}function $ue(e,n,t,r,i){const o=typeof t===i?r[t]:void 0;return V_(o,e.default,n.default)}function Yue(e,n,t){if(j7(t)!=="number")return V_(e.default,n.default);const r=e.stops.length;if(r===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[r-1][0])return e.stops[r-1][1];const i=b5(e.stops.map(o=>o[0]),t);return e.stops[i][1]}function AT(e,n,t){const r=e.base!==void 0?e.base:1;if(j7(t)!=="number")return V_(e.default,n.default);const i=e.stops.length;if(i===1||t<=e.stops[0][0])return e.stops[0][1];if(t>=e.stops[i-1][0])return e.stops[i-1][1];const o=b5(e.stops.map(b=>b[0]),t),s=Vue(t,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],p=e.stops[o+1][1];let g=tj[n.type]||Que;if(e.colorSpace&&e.colorSpace!=="rgb"){const b=uj[e.colorSpace];g=(B,k)=>b.reverse(b.interpolate(b.forward(B),b.forward(k),s))}return typeof a.evaluate=="function"?{evaluate(...b){const B=a.evaluate.apply(void 0,b),k=p.evaluate.apply(void 0,b);if(!(B===void 0||k===void 0))return g(B,k,s)}}:g(a,p,s)}function que(e,n,t){return n.type==="color"?t=Nl.parse(t):n.type==="formatted"?t=oh.fromString(t.toString()):n.type==="resolvedImage"?t=Op.fromString(t.toString()):j7(t)!==n.type&&(n.type!=="enum"||!n.values[t])&&(t=void 0),V_(t,e.default,n.default)}function Vue(e,n,t,r){const i=r-t,o=e-t;return i===0?0:n===1?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}class gj{constructor(n,t){this.expression=n,this._warningHistory={},this._evaluator=new Yz,this._defaultValue=t?Xue(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(n,t,r,i,o,s,a,p){return this._evaluator.globals=n,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=p||null,this.expression.evaluate(this._evaluator)}evaluate(n,t,r,i,o,s,a,p){this._evaluator.globals=n,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=p||null;try{const g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!==g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new Mu(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function yj(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in pj}function j3(e,n){const t=new Xz(pj,[],n?Zue(n):void 0),r=t.parse(e,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?dE(new gj(r,n)):Sg(t.errors)}class hE{constructor(n,t){this.kind=n,this._styleExpression=t,this.isStateDependent=n!=="constant"&&!B7(t.expression)}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}}class fE{constructor(n,t,r,i){this.kind=n,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=n!=="camera"&&!B7(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(n,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(n,t,r,i,o,s)}evaluate(n,t,r,i,o,s){return this._styleExpression.evaluate(n,t,r,i,o,s)}interpolationFactor(n,t,r){return this.interpolationType?Mp.interpolationFactor(this.interpolationType,n,t,r):0}}function vj(e,n){if(e=j3(e,n),e.result==="error")return e;const t=e.value.expression,r=_5(t);if(!r&&!Nue(n))return Sg([new nf("","data expressions not supported")]);const i=k7(t,["zoom","pitch","distance-from-center"]);if(!i&&!Gue(n))return Sg([new nf("","zoom expressions not supported")]);const o=g2(t);if(!o&&!i)return Sg([new nf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof nf)return Sg([o]);if(o instanceof Mp&&!mj(n))return Sg([new nf("",'"interpolate" expressions cannot be used with this property')]);if(!o)return dE(r?new hE("constant",e.value):new hE("source",e.value));const s=o instanceof Mp?o.interpolation:void 0;return dE(r?new fE("camera",e.value,o.labels,s):new fE("composite",e.value,o.labels,s))}class x5{constructor(n,t){this._parameters=n,this._specification=t,Gz(this,N7(this._parameters,this._specification))}static deserialize(n){return new x5(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Hue(e,n){if(W7(e))return new x5(e,n);if(yj(e)){const t=vj(e,n);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=e;return typeof e=="string"&&n.type==="color"&&(t=Nl.parse(e)),{kind:"constant",evaluate:()=>t}}}function g2(e){let n=null;if(e instanceof cj)n=g2(e.result);else if(e instanceof Aj){for(const t of e.args)if(n=g2(t),n)break}else(e instanceof Jz||e instanceof Mp)&&e.input instanceof Gy&&e.input.name==="zoom"&&(n=e);return n instanceof nf||e.eachChild(t=>{const r=g2(t);r instanceof nf?n=r:!n&&r?n=new nf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new nf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function Zue(e){const n={color:wp,string:oo,number:Xn,enum:oo,boolean:$i,formatted:g5,resolvedImage:q_};return e.type==="array"?cd(n[e.value]||qi,e.length):n[e.type]}function Xue(e){return e.type==="color"&&(W7(e.default)||Array.isArray(e.default))?new Nl(0,0,0,0):e.type==="color"?Nl.parse(e.default)||null:e.default===void 0?null:e.default}function g_(e){return typeof e=="object"?["literal",e]:e}function Jue(e,n){let t=e.stops;if(!t)return eAe(e,n);const r=t&&typeof t[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return t=t.map(s=>!i&&n.tokens&&typeof s[1]=="string"?[s[0],iAe(s[1])]:[s[0],g_(s[1])]),r?tAe(e,n,t):o?rAe(e,n,t):pE(e,n,t)}function eAe(e,n){const t=["get",e.property];if(e.default===void 0)return n.type==="string"?["string",t]:t;if(n.type==="enum")return["match",t,Object.keys(n.values),t,e.default];{const r=[n.type==="color"?"to-color":n.type,t,g_(e.default)];return n.type==="array"&&r.splice(1,0,n.value,n.length||null),r}}function G7(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function tAe(e,n,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const p=t[a],g=p[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([p[0].value,p[1]])}if($7({},n)==="exponential"){const a=[G7(e),["linear"],["zoom"]];for(const p of o){const g=pE(r[p],n,i[p]);sy(a,p,g,!1)}return a}else{const a=["step",["zoom"]];for(const p of o){const g=pE(r[p],n,i[p]);sy(a,p,g,!0)}return Q7(a),a}}function nAe(e,n){if(e!==void 0)return e;if(n!==void 0)return n}function cT(e,n){const t=g_(nAe(e.default,n.default));return t===void 0&&n.type==="resolvedImage"?"":t}function pE(e,n,t){const r=$7(e,n),i=["get",e.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(cT(e,n)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)sy(o,s[0],s[1],!1);return o.push(cT(e,n)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)sy(o,s[0],s[1],!0);return Q7(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,g_(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,s=[G7(e),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)sy(s,a[0],a[1],!1);return e.default===void 0?s:["case",["==",["typeof",i],"number"],s,g_(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function rAe(e,n,t,r=["zoom"]){const i=$7(e,n);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=e.base!==void 0?e.base:1;o=[G7(e),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)sy(o,a[0],a[1],s);return Q7(o),o}function Q7(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function sy(e,n,t,r){e.length>3&&n===e[e.length-2]||(r&&e.length===2||e.push(n),e.push(t))}function $7(e,n){return e.type?e.type:n.expression.interpolated?"exponential":"interval"}function iAe(e){const n=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(e);i!==null;i=t.exec(e)){const o=e.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&n.push(o),n.push(["get",i[1]])}if(n.length===1)return e;if(r<e.length)n.push(e.slice(r));else if(n.length===2)return["to-string",n[1]];return n}function oAe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function mE(e){if(Array.isArray(e))return e.map(mE);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const n={};for(const t in e)n[t]=mE(e[t]);return n}return oAe(e)}function Y7(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const n of e.slice(1))if(!Y7(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function aAe(e,n="fill"){if(e==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Y7(e)||(e=W3(e));const t=e;let r=!0;try{r=sAe(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(t,null,2)}
        `)}const i=Nz[`filter_${n}`],o=j3(r,i);let s=null;if(o.result==="error")throw new Error(o.value.map(b=>`${b.key}: ${b.message}`).join(", "));s=(b,B,k)=>o.value.evaluate(b,B,{},k);let a=null,p=null;if(r!==t){const b=j3(t,i);if(b.result==="error")throw new Error(b.value.map(B=>`${B.key}: ${B.message}`).join(", "));a=(B,k,P,R,Z)=>b.value.evaluate(B,k,{},P,void 0,void 0,R,Z),p=!_5(b.value.expression)}s=s;const g=bj(r);return{filter:s,dynamicFilter:a||void 0,needGeometry:g,needFeature:!!p}}function sAe(e){if(!ly(e))return e;let n=mE(e);return _j(n),n=Cj(n),n}function Cj(e){if(!Array.isArray(e))return e;const n=AAe(e);return n===!0?n:n.map(t=>Cj(t))}function _j(e){let n=!1;const t=[];if(e[0]==="case"){for(let r=1;r<e.length-1;r+=2)n=n||ly(e[r]),t.push(e[r+1]);t.push(e[e.length-1])}else if(e[0]==="match"){n=n||ly(e[1]);for(let r=2;r<e.length-1;r+=2)t.push(e[r+1]);t.push(e[e.length-1])}else if(e[0]==="step"){n=n||ly(e[1]);for(let r=1;r<e.length-1;r+=2)t.push(e[r+1])}n&&(e.length=0,e.push("any",...t));for(let r=1;r<e.length;r++)_j(e[r])}function ly(e){if(!Array.isArray(e))return!1;if(lAe(e[0]))return!0;for(let n=1;n<e.length;n++){const t=e[n];if(ly(t))return!0}return!1}function lAe(e){return e==="pitch"||e==="distance-from-center"}const uAe=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function AAe(e){if(uAe.has(e[0]))for(let n=1;n<e.length;n++){const t=e[n];if(ly(t))return!0}return e}function cAe(e,n){return e<n?-1:e>n?1:0}function bj(e){if(!Array.isArray(e))return!1;if(e[0]==="within")return!0;for(let n=1;n<e.length;n++)if(bj(e[n]))return!0;return!1}function W3(e){if(!e)return!0;const n=e[0];return e.length<=1?n!=="any":n==="=="?TM(e[1],e[2],"=="):n==="!="?kx(TM(e[1],e[2],"==")):n==="<"||n===">"||n==="<="||n===">="?TM(e[1],e[2],n):n==="any"?dAe(e.slice(1)):n==="all"?["all"].concat(e.slice(1).map(W3)):n==="none"?["all"].concat(e.slice(1).map(W3).map(kx)):n==="in"?dT(e[1],e.slice(2)):n==="!in"?kx(dT(e[1],e.slice(2))):n==="has"?hT(e[1]):n==="!has"?kx(hT(e[1])):n==="within"?e:!0}function TM(e,n,t){switch(e){case"$type":return[`filter-type-${t}`,n];case"$id":return[`filter-id-${t}`,n];default:return[`filter-${t}`,e,n]}}function dAe(e){return["any"].concat(e.map(W3))}function dT(e,n){if(n.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(t=>typeof t!=typeof n[0])?["filter-in-large",e,["literal",n.sort(cAe)]]:["filter-in-small",e,["literal",n]]}}function hT(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function kx(e){return["!",e]}var hAe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function fAe(e,n){const t={};for(const r in e)r!=="ref"&&(t[r]=e[r]);return hAe.forEach(r=>{r in n&&(t[r]=n[r])}),t}function pAe(e){e=e.slice();const n=Object.create(null);for(let t=0;t<e.length;t++)n[e[t].id]=e[t];for(let t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=fAe(e[t],n[e[t].ref]));return e}function mAe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gAe={};(function(e){var n=function(){var t=function(W,Q,q,oe){for(q=q||{},oe=W.length;oe--;q[W[oe]]=Q);return q},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],p=[1,14],g=[1,15],b=[14,18,22,24],B=[18,22],k=[22,24],P={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Q,q,oe,re,ce,se,le){var ye=se.length-1;switch(ce){case 1:this.$=new String(Q.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Q),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=se[ye-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=se[ye-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[se[ye-2],se[ye]];break;case 16:this.$={},this.$[se[ye][0]]=se[ye][1];break;case 17:this.$=se[ye-2],se[ye-2][se[ye][0]]=se[ye][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[se[ye]];break;case 21:this.$=se[ye-2],se[ye-2].push(se[ye]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:p,23:g},{1:[3]},{14:[1,16]},t(b,[2,7]),t(b,[2,8]),t(b,[2,9]),t(b,[2,10]),t(b,[2,11]),t(b,[2,12]),t(b,[2,3]),t(b,[2,4]),t(b,[2,5]),t([14,18,21,22,24],[2,1]),t(b,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:p,23:g,24:[1,21],25:22},{1:[2,6]},t(b,[2,13]),{18:[1,24],22:[1,25]},t(B,[2,16]),{21:[1,26]},t(b,[2,18]),{22:[1,28],24:[1,27]},t(k,[2,20]),t(b,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:p,23:g},t(b,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:p,23:g},t(B,[2,17]),t(B,[2,15]),t(k,[2,21])],defaultActions:{16:[2,6]},parseError:function(Q,q){if(q.recoverable)this.trace(Q);else throw new Error(Q)},parse:function(Q){var q=this,oe=[0],re=[null],ce=[],se=this.table,le="",ye=0,De=0,Ne=2,et=1,ft=ce.slice.call(arguments,1),Ke=Object.create(this.lexer),rt={yy:{}};for(var Ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ce)&&(rt.yy[Ce]=this.yy[Ce]);Ke.setInput(Q,rt.yy),rt.yy.lexer=Ke,rt.yy.parser=this,typeof Ke.yylloc>"u"&&(Ke.yylloc={});var Rt=Ke.yylloc;ce.push(Rt);var jt=Ke.options&&Ke.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tn(){var he;return he=Ke.lex()||et,typeof he!="number"&&(he=q.symbols_[he]||he),he}for(var Qt,He,Je,tt,rn={},mt,dt,kt,Pt;;){if(He=oe[oe.length-1],this.defaultActions[He]?Je=this.defaultActions[He]:((Qt===null||typeof Qt>"u")&&(Qt=tn()),Je=se[He]&&se[He][Qt]),typeof Je>"u"||!Je.length||!Je[0]){var Me="";Pt=[];for(mt in se[He])this.terminals_[mt]&&mt>Ne&&Pt.push("'"+this.terminals_[mt]+"'");Ke.showPosition?Me="Parse error on line "+(ye+1)+`:
`+Ke.showPosition()+`
Expecting `+Pt.join(", ")+", got '"+(this.terminals_[Qt]||Qt)+"'":Me="Parse error on line "+(ye+1)+": Unexpected "+(Qt==et?"end of input":"'"+(this.terminals_[Qt]||Qt)+"'"),this.parseError(Me,{text:Ke.match,token:this.terminals_[Qt]||Qt,line:Ke.yylineno,loc:Rt,expected:Pt})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Qt);switch(Je[0]){case 1:oe.push(Qt),re.push(Ke.yytext),ce.push(Ke.yylloc),oe.push(Je[1]),Qt=null,De=Ke.yyleng,le=Ke.yytext,ye=Ke.yylineno,Rt=Ke.yylloc;break;case 2:if(dt=this.productions_[Je[1]][1],rn.$=re[re.length-dt],rn._$={first_line:ce[ce.length-(dt||1)].first_line,last_line:ce[ce.length-1].last_line,first_column:ce[ce.length-(dt||1)].first_column,last_column:ce[ce.length-1].last_column},jt&&(rn._$.range=[ce[ce.length-(dt||1)].range[0],ce[ce.length-1].range[1]]),tt=this.performAction.apply(rn,[le,De,ye,rt.yy,Je[1],re,ce].concat(ft)),typeof tt<"u")return tt;dt&&(oe=oe.slice(0,-1*dt*2),re=re.slice(0,-1*dt),ce=ce.slice(0,-1*dt)),oe.push(this.productions_[Je[1]][0]),re.push(rn.$),ce.push(rn._$),kt=se[oe[oe.length-2]][oe[oe.length-1]],oe.push(kt);break;case 3:return!0}}return!0}},R=function(){var W={EOF:1,parseError:function(q,oe){if(this.yy.parser)this.yy.parser.parseError(q,oe);else throw new Error(q)},setInput:function(Q,q){return this.yy=q||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var q=Q.match(/(?:\r\n?|\n).*/g);return q?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},unput:function(Q){var q=Q.length,oe=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var ce=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===re.length?this.yylloc.first_column:0)+re[re.length-oe.length].length-oe[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[ce[0],ce[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Q){this.unput(this.match.slice(Q))},pastInput:function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Q=this.pastInput(),q=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+q+"^"},test_match:function(Q,q){var oe,re,ce;if(this.options.backtrack_lexer&&(ce={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ce.yylloc.range=this.yylloc.range.slice(0))),re=Q[0].match(/(?:\r\n?|\n).*/g),re&&(this.yylineno+=re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:re?re[re.length-1].length-re[re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],oe=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var se in ce)this[se]=ce[se];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,q,oe,re;this._more||(this.yytext="",this.match="");for(var ce=this._currentRules(),se=0;se<ce.length;se++)if(oe=this._input.match(this.rules[ce[se]]),oe&&(!q||oe[0].length>q[0].length)){if(q=oe,re=se,this.options.backtrack_lexer){if(Q=this.test_match(oe,ce[se]),Q!==!1)return Q;if(this._backtrack){q=!1;continue}else return!1}else if(!this.options.flex)break}return q?(Q=this.test_match(q,ce[re]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var q=this.next();return q||this.lex()},begin:function(q){this.conditionStack.push(q)},popState:function(){var q=this.conditionStack.length-1;return q>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(q){return q=this.conditionStack.length-1-Math.abs(q||0),q>=0?this.conditionStack[q]:"INITIAL"},pushState:function(q){this.begin(q)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(q,oe,re,ce){switch(re){case 0:break;case 1:return 6;case 2:return oe.yytext=oe.yytext.substr(1,oe.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return W}();P.lexer=R;function Z(){this.yy={}}return Z.prototype=P,P.Parser=Z,new Z}();typeof mAe<"u"&&(e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)})})(gAe);const xj={StyleExpression:gj,isExpression:yj,isExpressionFilter:Y7,createExpression:j3,createPropertyExpression:vj,normalizePropertyExpression:Hue,ZoomConstantExpression:hE,ZoomDependentExpression:fE,StylePropertyFunction:x5},wj={convertFunction:Jue,createFunction:N7,isFunction:W7};var Mj=typeof Object.assign=="function"?Object.assign:function(e,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function KM(e){return e*Math.PI/180}var Ey=function(){for(var e=[],n=78271.51696402048;e.length<=24;n/=2)e.push(n);return e}();function Sj(e,n){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(e,n);var t=document.createElement("canvas");return t.width=e,t.height=n,t}function yAe(e,n){for(var t=0,r=n.length;t<r;++t){var i=n[t];if(i<e&&t+1<r){var o=n[t]/n[t+1];return t+Math.log(n[t]/e)/Math.log(o)}}return r-1}var vAe=Array(256).join("");function gE(e,n){if(n>=.05){for(var t="",r=e.split(`
`),i=vAe.slice(0,Math.round(n/.1)),o=0,s=r.length;o<s;++o)o>0&&(t+=`
`),t+=r[o].split("").join(i);return t}return e}var PM;function Ej(){return PM||(PM=Sj(1,1).getContext("2d")),PM}function g0(e,n){return Ej().measureText(e).width+(e.length-1)*n}var yE={};X6&&bo(X6,Bi.CLEAR,function(){yE={}});function vE(e,n,t,r){if(e.indexOf(`
`)!==-1){for(var i=e.split(`
`),o=[],s=0,a=i.length;s<a;++s)o.push(vE(i[s],n,t,r));return o.join(`
`)}var p=t+","+n+","+e+","+r,g=yE[p];if(!g){var b=e.split(" ");if(b.length>1){var B=Ej();B.font=n;for(var k=B.measureText("M").width,P=k*t,R="",o=[],s=0,a=b.length;s<a;++s){var Z=b[s],W=R+(R?" ":"")+Z;g0(W,r)<=P?R=W:(R&&o.push(R),R=Z)}R&&o.push(R);for(var s=0,a=o.length;s<a&&a>1;++s){var Q=o[s];if(g0(Q,r)<P*.35){var q=s>0?g0(o[s-1],r):1/0,oe=s<a-1?g0(o[s+1],r):1/0;o.splice(s,1),a-=1,q<oe?(o[s-1]+=" "+Q,s-=1):o[s]=Q+" "+o[s]}}for(var s=0,a=o.length-1;s<a;++s){var re=o[s],ce=o[s+1];if(g0(re,r)>P*.7&&g0(ce,r)<P*.6){var se=re.split(" "),le=se.pop();g0(le,r)<P*.2&&(o[s]=se.join(" "),o[s+1]=le+" "+ce),a-=1}}g=o.join(`
`)}else g=e;g=gE(g,r),yE[p]=g}return g}var CAe=wj.isFunction,_Ae=wj.convertFunction,bAe=xj.isExpression,xAe=xj.createPropertyExpression,wAe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},MAe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},SAe=function(e,n){var t=xAe(e,n);if(t.result==="error")throw new Error(t.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return t.value},CE={},N3={zoom:0},Ix,FM;function xi(e,n,t,r,i,o){var s=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var a=o[s];if(!a[t]){var p=(e[n]||CE)[t],g=Nz["".concat(n,"_").concat(e.type)][t];p===void 0&&(p=g.default);var b=bAe(p);if(!b&&CAe(p)&&(p=_Ae(p,g),b=!0),b){var B=SAe(p,g);a[t]=B.evaluate.bind(B)}else g.type=="color"&&(p=Nl.parse(p)),a[t]=function(){return p}}return N3.zoom=r,a[t](N3,i)}function EAe(e,n,t,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=aAe(n).filter),N3.zoom=r,i[e](N3,t)}function rm(e,n){if(e){if(e.a===0||n===0)return;var t=e.a;return n=n===void 0?1:n,t===0?"transparent":"rgba("+Math.round(e.r*255/t)+","+Math.round(e.g*255/t)+","+Math.round(e.b*255/t)+","+t*n+")"}return e}var OAe=/^([^]*)\{(.*)\}([^]*)$/;function DM(e,n){var t;do if(t=e.match(OAe),t){var r=n[t[2]]||"";e=t[1]+r+t[3]}while(t);return e}function BAe(e,n,t,r,i,o,s){if(r===void 0&&(r=Ey),typeof n=="string"&&(n=JSON.parse(n)),n.version!=8)throw new Error("glStyle version 8 required.");var a,p;if(o){if(typeof Image<"u"){var g=new Image;g.crossOrigin="anonymous",g.onload=function(){a=g,p=[g.width,g.height],e.changed(),g.onload=null},g.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var b=self;b.postMessage({action:"loadImage",src:o}),b.addEventListener("message",function(Rt){Rt.data.action==="imageLoaded"&&Rt.data.src===o&&(a=Rt.data.image,p=[a.width,a.height])})}}for(var B=pAe(n.layers),k={},P=[],R={},Z={},W={},Q={},q,oe=0,re=B.length;oe<re;++oe){var ce=B[oe],se=ce.id;if(typeof t=="string"&&ce.source==t||t.indexOf(se)!==-1){var le=ce["source-layer"];if(!q){q=ce.source;var ye=n.sources[q];if(!ye)throw new Error('Source "'.concat(q,'" is not defined'));var De=ye.type;if(De!=="vector"&&De!=="geojson")throw new Error('Source "'.concat(q,'" is not of type "vector" or "geojson", but "').concat(De,'"'))}var Ne=k[le];Ne||(Ne=[],k[le]=Ne),Ne.push({layer:ce,index:oe}),P.push(se)}}var et=new rC,ft=new Rg,Ke=[],rt=function(Ce,Rt){var jt=Ce.getProperties(),tn=k[jt.layer];if(tn){var Qt=r.indexOf(Rt);Qt==-1&&(Qt=yAe(Rt,r));for(var He=wAe[Ce.getGeometry().getType()],Je={properties:jt,type:He},tt=-1,rn=function(kt,Pt){var Me=tn[kt],he=Me.layer,be=he.id,Pe=he.layout||CE,Ze=he.paint||CE;if(Pe.visibility==="none"||"minzoom"in he&&Qt<he.minzoom||"maxzoom"in he&&Qt>=he.maxzoom)return"continue";var nt=he.filter;if(!nt||EAe(be,nt,Je,Qt,Q)){var xt=void 0,Ft=void 0,Dt=void 0,pt=void 0,nr=void 0,pn=void 0,bn=Me.index;if(He==3&&(he.type=="fill"||he.type=="fill-extrusion"))if(Ft=xi(he,"paint",he.type+"-opacity",Qt,Je,W),he.type+"-pattern"in Ze){var Jn=xi(he,"paint",he.type+"-pattern",Qt,Je,W);if(Jn){var mr=typeof Jn=="string"?DM(Jn,jt):Jn.toString();if(a&&i&&i[mr]){++tt,pn=Ke[tt],(!pn||!pn.getFill()||pn.getStroke()||pn.getText())&&(pn=new w0({fill:new Rg}),Ke[tt]=pn),Dt=pn.getFill(),pn.setZIndex(bn);var xr=mr+"."+Ft,Nr=Z[xr];if(!Nr){var Cr=i[mr],fi=Sj(Cr.width,Cr.height),we=fi.getContext("2d");we.globalAlpha=Ft,we.drawImage(a,Cr.x,Cr.y,Cr.width,Cr.height,0,0,Cr.width,Cr.height),Nr=we.createPattern(fi,"repeat"),Z[xr]=Nr}Dt.setColor(Nr)}}}else xt=rm(xi(he,"paint",he.type+"-color",Qt,Je,W),Ft),he.type+"-outline-color"in Ze&&(nr=rm(xi(he,"paint",he.type+"-outline-color",Qt,Je,W),Ft)),nr||(nr=xt),(xt||nr)&&(++tt,pn=Ke[tt],(!pn||xt&&!pn.getFill()||!xt&&pn.getFill()||nr&&!pn.getStroke()||!nr&&pn.getStroke()||pn.getText())&&(pn=new w0({fill:xt?new Rg:void 0,stroke:nr?new rC:void 0}),Ke[tt]=pn),xt&&(Dt=pn.getFill(),Dt.setColor(xt)),nr&&(pt=pn.getStroke(),pt.setColor(nr),pt.setWidth(.5)),pn.setZIndex(bn));if(He!=1&&he.type=="line"){xt=!("line-pattern"in Ze)&&"line-color"in Ze?rm(xi(he,"paint","line-color",Qt,Je,W),xi(he,"paint","line-opacity",Qt,Je,W)):void 0;var H=xi(he,"paint","line-width",Qt,Je,W);xt&&H>0&&(++tt,pn=Ke[tt],(!pn||!pn.getStroke()||pn.getFill()||pn.getText())&&(pn=new w0({stroke:new rC}),Ke[tt]=pn),pt=pn.getStroke(),pt.setLineCap(xi(he,"layout","line-cap",Qt,Je,W)),pt.setLineJoin(xi(he,"layout","line-join",Qt,Je,W)),pt.setMiterLimit(xi(he,"layout","line-miter-limit",Qt,Je,W)),pt.setColor(xt),pt.setWidth(H),pt.setLineDash(Ze["line-dasharray"]?xi(he,"paint","line-dasharray",Qt,Je,W).map(function(Ii){return Ii*H}):null),pn.setZIndex(bn))}var Y=!1,Be=null,st=0,St=void 0,Et=void 0,Nt=void 0;if((He==1||He==2)&&"icon-image"in Pe){var mn=xi(he,"layout","icon-image",Qt,Je,W);if(mn){St=typeof mn=="string"?DM(mn,jt):mn.toString();var Kn=void 0;if(a&&i&&i[St]){var En=xi(he,"layout","icon-rotation-alignment",Qt,Je,W);if(He==2){var m=Ce.getGeometry();if(m.getFlatMidpoint||m.getFlatMidpoints){var Tt=m.getExtent(),Ur=Math.sqrt(Math.max(Math.pow((Tt[2]-Tt[0])/Rt,2),Math.pow((Tt[3]-Tt[1])/Rt,2)));if(Ur>150){var Wn=m.getType()==="MultiLineString"?m.getFlatMidpoints():m.getFlatMidpoint();FM||(Ix=[NaN,NaN],FM=new Z6("Point",Ix,[],{},null)),Kn=FM,Ix[0]=Wn[0],Ix[1]=Wn[1];var Te=xi(he,"layout","symbol-placement",Qt,Je,W);if(Te==="line"&&En==="map")for(var de=m.getStride(),ve=m.getFlatCoordinates(),Se=0,Re=ve.length-de;Se<Re;Se+=de){var Xe=ve[Se],at=ve[Se+1],ht=ve[Se+de],Ve=ve[Se+de+1],_t=Math.min(Xe,ht),Zt=Math.min(at,Ve),Ht=Math.max(Xe,ht),qt=Math.max(at,Ve);if(Wn[0]>=_t&&Wn[0]<=Ht&&Wn[1]>=Zt&&Wn[1]<=qt){st=Math.atan2(at-Ve,ht-Xe);break}}}}}if(He!==2||Kn){var Vn=xi(he,"layout","icon-size",Qt,Je,W),On=Ze["icon-color"]!==void 0?xi(he,"paint","icon-color",Qt,Je,W):null;if(!On||On.a!==0){var xr=St+"."+Vn;if(On!==null&&(xr+="."+On),Et=R[xr],!Et){var ir=i[St];Et=new pz({color:On?[On.r*255,On.g*255,On.b*255,On.a]:void 0,img:a,imgSize:p,size:[ir.width,ir.height],offset:[ir.x,ir.y],rotateWithView:En==="map",scale:Vn/ir.pixelRatio,displacement:"icon-offset"in Pe?xi(he,"layout","icon-offset",Qt,Je,W).map(function(ii){return-ii*ir.pixelRatio}):void 0}),R[xr]=Et}}Et&&(++tt,pn=Ke[tt],(!pn||!pn.getImage()||pn.getFill()||pn.getStroke())&&(pn=new w0,Ke[tt]=pn),pn.setGeometry(Kn),Et.setRotation(st+KM(xi(he,"layout","icon-rotate",Qt,Je,W))),Et.setOpacity(xi(he,"paint","icon-opacity",Qt,Je,W)),Et.setAnchor(MAe[xi(he,"layout","icon-anchor",Qt,Je,W)]),pn.setImage(Et),Be=pn.getText(),pn.setText(void 0),pn.setZIndex(bn),Y=!0,Nt=!1)}else Nt=!0}}}if(He==1&&he.type==="circle"){++tt,pn=Ke[tt],(!pn||!pn.getImage()||pn.getFill()||pn.getStroke())&&(pn=new w0,Ke[tt]=pn);var or="circle-radius"in Ze?xi(he,"paint","circle-radius",Qt,Je,W):5,Tr=rm(xi(he,"paint","circle-stroke-color",Qt,Je,W),xi(he,"paint","circle-stroke-opacity",Qt,Je,W)),Rr=rm(xi(he,"paint","circle-color",Qt,Je,W),xi(he,"paint","circle-opacity",Qt,Je,W)),Dr=xi(he,"paint","circle-stroke-width",Qt,Je,W),ei=or+"."+Tr+"."+Rr+"."+Dr;Et=R[ei],Et||(Et=new Az({radius:or,stroke:Tr&&Dr>0?new rC({width:Dr,color:Tr}):void 0,fill:Rr?new Rg({color:Rr}):void 0}),R[ei]=Et),pn.setImage(Et),Be=pn.getText(),pn.setText(void 0),pn.setGeometry(void 0),pn.setZIndex(bn),Y=!0}var rr=void 0,li=void 0,ki,Xi,xo,pi;if("text-field"in Pe){Xi=Math.round(xi(he,"layout","text-size",Qt,Je,W));var Oo=xi(he,"layout","text-font",Qt,Je,W);ki=xi(he,"layout","text-line-height",Qt,Je,W),li=oE(s?s(Oo):Oo,Xi,ki),xo=xi(he,"layout","text-letter-spacing",Qt,Je,W),pi=xi(he,"layout","text-max-width",Qt,Je,W);var us=xi(he,"layout","text-field",Qt,Je,W);typeof us=="object"&&us.sections?us.sections.length===1?rr=us.toString():rr=us.sections.reduce(function(Ii,ii,ya){var $a=ii.fontStack?ii.fontStack.split(","):Oo,Br=oE(s?s($a):$a,Xi*(ii.scale||1),ki),mi=ii.text;if(mi===`
`)return Ii.push(`
`,""),Ii;if(He==2){Ii.push(gE(mi,xo),Br);return}mi=vE(mi,Br,pi,xo).split(`
`);for(var rl=0,Ya=mi.length;rl<Ya;++rl)rl>0&&Ii.push(`
`,""),Ii.push(mi[rl],Br);return Ii},[]):rr=DM(us,jt).trim(),Ft=xi(he,"paint","text-opacity",Qt,Je,W)}if(rr&&Ft&&!Nt){Y||(++tt,pn=Ke[tt],(!pn||!pn.getText()||pn.getFill()||pn.getStroke())&&(pn=new w0,Ke[tt]=pn),pn.setImage(void 0),pn.setGeometry(void 0)),pn.getText()||pn.setText(Be||new Voe({padding:[2,2,2,2]})),Be=pn.getText();var ka=Pe["text-transform"];ka=="uppercase"?rr=Array.isArray(rr)?rr.map(function(ii,ya){return ya%2?ii:ii.toUpperCase()}):rr.toUpperCase():ka=="lowercase"&&(rr=Array.isArray(rr)?rr.map(function(ii,ya){return ya%2?ii:ii.toLowerCase()}):rr.toLowerCase());var Ci=Array.isArray(rr)?rr:He==2?gE(rr,xo):vE(rr,li,pi,xo);Be.setText(Ci),Be.setFont(li),Be.setRotation(KM(xi(he,"layout","text-rotate",Qt,Je,W)));var Ms=xi(he,"layout","text-anchor",Qt,Je,W),Te=Y||He==1?"point":xi(he,"layout","symbol-placement",Qt,Je,W);Be.setPlacement(Te),Be.setOverflow(Te==="point");var Si=xi(he,"paint","text-halo-width",Qt,Je,W),Qn=xi(he,"layout","text-offset",Qt,Je,W),so=xi(he,"paint","text-translate",Qt,Je,W),Go=0,Ji=0;if(Te=="point"){var ge="center";Ms.indexOf("left")!==-1?(ge="left",Ji=Si):Ms.indexOf("right")!==-1&&(ge="right",Ji=-Si),Be.setTextAlign(ge);var $e=xi(he,"layout","text-rotation-alignment",Qt,Je,W);Be.setRotateWithView($e=="map")}else Be.setMaxAngle(KM(xi(he,"layout","text-max-angle",Qt,Je,W))*rr.length/Ci.length),Be.setTextAlign(),Be.setRotateWithView(!1);var Xt="middle";Ms.indexOf("bottom")==0?(Xt="bottom",Go=-Si-.5*(ki-1)*Xi):Ms.indexOf("top")==0&&(Xt="top",Go=Si+.5*(ki-1)*Xi),Be.setTextBaseline(Xt),Be.setOffsetX(Qn[0]*Xi+Ji+so[0]),Be.setOffsetY(Qn[1]*Xi+Go+so[1]),ft.setColor(rm(xi(he,"paint","text-color",Qt,Je,W),Ft)),Be.setFill(ft);var sn=rm(xi(he,"paint","text-halo-color",Qt,Je,W),Ft);if(sn){et.setColor(sn),Si*=2;var Kt=.5*Xi;et.setWidth(Si<=Kt?Si:Kt),Be.setStroke(et)}else Be.setStroke(void 0);var Mn=xi(he,"layout","text-padding",Qt,Je,W),cr=Be.getPadding();Mn!==cr[0]&&(cr[0]=Mn,cr[1]=Mn,cr[2]=Mn,cr[3]=Mn),pn.setZIndex(bn)}}},mt=0,dt=tn.length;mt<dt;++mt)rn(mt);if(tt>-1)return Ke.length=tt+1,Ke}};return e.setStyle(rt),e.set("mapbox-source",q),e.set("mapbox-layers",P),rt}var Oj={exports:{}};(function(){var e;Oj.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(n){return"https://fonts.google.com/specimen/"+n.replace(/( )/g,"+")},normalizeName:function(n){return n}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(_f);var kAe=Oj.exports;const IAe=ma(kAe);var fT={},TAe=/font-family: ?([^;]*);/,KAe=/("|')/g,Tx;function PAe(e){if(!Tx){Tx={};for(var n=document.styleSheets,t=0,r=n.length;t<r;++t){var i=n[t];try{var o=i.rules||i.cssRules;if(o)for(var s=0,a=o.length;s<a;++s){var p=o[s];if(p.type==5){var g=p.cssText.match(TAe);Tx[g[1].replace(KAe,"")]=!0}}}catch{}}}return e in Tx}var pT={},FAe=IAe.getNames();function DAe(e){var n=e.toString();if(n in pT)return e;for(var t=e.map(function(g){var b=oE(g,1).split(" ");return[b.slice(3).join(" ").replace(/"/g,""),b[1]+b[0]]}),r=0,i=t.length;r<i;++r){var o=t[r],s=o[0];if(!PAe(s)&&FAe.indexOf(s)!==-1){var a="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+a+'"]')){var p=document.createElement("link");p.href=a,p.rel="stylesheet",document.head.appendChild(p)}}}return pT[n]=!0,e}var Bj=/^(.*)(\?.*)$/;function G3(e,n){return n&&e.indexOf(".")===0&&(e=n+e),e}function UM(e,n,t){e=G3(e,n);var r=e.match(Bj);return r?r[1]+t+(r.length>2?r[2]:""):e+t}function UAe(e,n,t,r,i){return new Promise(function(o,s){if(typeof n!="object"&&(n=JSON.parse(n)),n.version!=8)return s(new Error("glStyle version 8 required."));if(!(e instanceof _z||e instanceof jz))return s(new Error("Can only apply to VectorLayer or VectorTileLayer"));var a,p,g,b;function B(){!b&&(!n.sprite||p)?(b=BAe(e,n,t,i,p,g,DAe),e.getStyle()?o():s(new Error("Nothing to show for source [".concat(t,"]")))):b?(e.setStyle(b),o()):s(new Error("Something went wrong trying to apply style."))}if(n.sprite){a=window.devicePixelRatio>=1.5?.5:1;var k=a==.5?"@2x":"",P=UM(n.sprite,r,k+".json");fetch(P,{credentials:"same-origin"}).then(function(R){return!R.ok&&k!==""?(P=UM(n.sprite,r,".json"),fetch(P,{credentials:"same-origin"})):R}).then(function(R){if(R.ok)return R.json();s(new Error("Problem fetching sprite from ".concat(P,": ").concat(R.statusText)))}).then(function(R){if(R===void 0)return s(new Error("No sprites found."));p=R,g=UM(n.sprite,r,k+".png"),B()}).catch(function(R){s(new Error("Sprites cannot be loaded: ".concat(P,": ").concat(R.message)))})}else B()})}var _E={};function RAe(e,n){var t={id:n.id,type:n.type},r={};function i(o){var s=n.layout||{},a=n.paint||{};t.paint=a;var p=typeof e.getSource=="function"?e.getSource().getTileGrid().getZForResolution(o):e.getView().getZoom(),g=typeof e.getTargetElement=="function"?e.getTargetElement():void 0,b,B;if(a["background-color"]!==void 0&&(b=xi(t,"paint","background-color",p,_E,r),g&&(g.style.background=Nl.parse(b).toString())),a["background-opacity"]!==void 0&&(B=xi(t,"paint","background-opacity",p,_E,r),g&&(g.style.opacity=B)),s.visibility=="none"){g&&(g.style.backgroundColor="",g.style.opacity="");return}return rm(b,B)}if(typeof e.getTargetElement=="function")e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else if(typeof e.setBackground=="function")e.setBackground(i);else throw new Error("Unable to apply background.")}function LAe(e,n){var t;return e.some(function(r){if(r.id==n)return t=r.source,!0}),t}function kj(e){var n=e.bounds;if(n){var t=N6([n[0],n[1]]),r=N6([n[2],n[3]]);return[t[0],t[1],r[0],r[1]]}}function zAe(e,n){e=Mj({},e);var t=[n,JSON.stringify(e)].toString(),r=fT[t];return r||(r=new Lz({url:e.tiles?void 0:n,tileJSON:e.tiles?e:void 0}),fT[t]=r),new Promise(function(i){var o=r.on("change",function(){var s=r.getState();if(s==="ready"){var a=r.getTileJSON(),p=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(n)for(var g=0,b=p.length;g<b;++g)p[g]=decodeURI(new URL(p[g],n).href);var B=r.getTileGrid(),k=kj(a),P=a.minzoom||0,R=a.maxzoom||22,Z=r.get("ol-source");Z===void 0&&(Z=new Wz({attributions:r.getAttributions(),format:new Gne,tileGrid:new Y_({origin:B.getOrigin(0),extent:k||B.getExtent(),minZoom:P,resolutions:Ey.slice(0,R+1),tileSize:512}),urls:p}),r.set("ol-source",Z)),r_(o),i(Z)}else s==="error"&&(r.set("ol-source",null),r_(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function jAe(e,n){var t=new jz({declutter:!0,visible:!1});return zAe(e,n).then(function(r){t.setSource(r)}),t}function WAe(e,n){var t=new dse,r=new Lz({transition:0,url:e.tiles?void 0:n,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){r_(i);var s=r.getTileJSON(),a=kj(s),p=r.getTileGrid(),g=e.tileSize||s.tileSize||512,b=s.minzoom||0,B=s.maxzoom||22;r.tileGrid=new Y_({origin:p.getOrigin(0),extent:a||p.getExtent(),minZoom:b,resolutions:y7({maxZoom:B,tileSize:g}).getResolutions(),tileSize:g}),t.setSource(r)}else o==="error"&&(r_(i),t.setSource(void 0))});return r.setTileLoadFunction(function(o,s){if(s.indexOf("{bbox-epsg-3857}")!=-1){var a=r.getTileGrid().getTileCoordExtent(o.getTileCoord());s=s.replace("{bbox-epsg-3857}",a.toString())}var p=o.getImage();p.src=s}),t}var mT=new rne;function NAe(e,n){var t=e.data,r,i;return typeof t=="string"?i=G3(t,n):r=mT.readFeatures(t,{featureProjection:"EPSG:3857"}),new _z({declutter:!0,source:new Mz({attributions:e.attribution,features:r,format:mT,url:i}),visible:!1})}function gT(e,n,t,r){var i=t.getZoom(),o=xi(e,"paint","raster-opacity",i,_E,r);n.setOpacity(o)}function yT(e,n,t,r,i,o){o===void 0&&(o="");var s=[],a=n.getView();!a.isDef()&&!a.getRotation()&&!a.getResolutions()&&(a=new pp(Mj(a.getProperties(),{maxResolution:Ey[0]})),n.setView(a)),"center"in e&&!a.getCenter()&&a.setCenter(N6(e.center)),"zoom"in e&&a.getZoom()===void 0&&a.setResolution(Ey[0]/Math.pow(2,e.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:n.getSize()}),e.sprite&&(e.sprite.indexOf("mapbox://")==0?e.sprite=t+"/sprite"+o:e.sprite.indexOf("http")!=0&&(e.sprite=(r?r+i:"")+e.sprite+o));for(var p=e.layers,g=[],b,B,k,P,R,Z,W=function(re,ce){b=p[re];var se=b.type;if(!(se=="heatmap"||se=="hillshade"))if(se=="background")RAe(n,b);else{if(P=b.source||LAe(p,b.ref),P!=k){if(g.length&&(s.push(vT(R,g,e,i,n)),g=[]),B=e.sources[P],Z=B.url,Z)if(Z=G3(Z,i),Z.indexOf("mapbox://")==0){var le=Z.replace("mapbox://","");B.tiles=["a","b","c","d"].map(function(De){return"https://"+De+".tiles.mapbox.com/v4/"+le+"/{z}/{x}/{y}."+(B.type=="vector"?"vector.pbf":"png")+o})}else Z.indexOf("/")===0&&r.indexOf("http")===0&&(Z=r+Z);if(B.tiles&&(B.tiles=B.tiles.map(function(De){return G3(De,i)})),B.type=="vector")R=jAe(B,Z);else if(B.type=="raster"){R=WAe(B,Z),R.setVisible(b.layout?b.layout.visibility!=="none":!0);var ye={};a.on("change:resolution",gT.bind(Q,b,R,a,ye)),gT(b,R,a,ye)}else B.type=="geojson"&&(R=NAe(B,i));k=P,R&&R.set("mapbox-source",k)}g.push(b.id)}},Q=this,q=0,oe=p.length;q<oe;++q)W(q);return s.push(vT(R,g,e,i,n)),n.set("mapbox-style",e),Promise.all(s)}function GAe(e,n){var t,r="",i="",o="",s="";if((typeof e=="string"||e instanceof HTMLElement)&&(e=new m7({target:e})),typeof n=="string"){var a=n.match(Bj);a&&(i=a[1],r=a.length>2?a[2]:""),t=new Promise(function(p,g){fetch(n,{credentials:"same-origin"}).then(function(b){return b.json()}).then(function(b){var B=document.createElement("A");B.href=n;var k=B.href;s=B.pathname.split("/").slice(0,-1).join("/")+"/",o=k.substr(0,k.indexOf(s)),yT(b,e,i,o,s,r).then(function(){p(e)}).catch(g)}).catch(function(b){g(new Error("Could not load ".concat(n,": ").concat(b.message)))})})}else t=new Promise(function(p,g){yT(n,e).then(function(){p(e)}).catch(g)});return t}function QAe(e,n){return(typeof e=="string"||e instanceof HTMLElement)&&(e=new m7({target:e})),setTimeout(function(){GAe(e,n)},0),e}function vT(e,n,t,r,i){for(var o=24,s=0,a=t.layers,p=0,g=a.length;p<g;++p){var b=a[p];n.indexOf(b.id)!==-1&&(o=Math.min("minzoom"in b?b.minzoom:0,o),s=Math.max("maxzoom"in b?b.maxzoom:24,s))}return new Promise(function(B,k){var P=function(){var R=e.getSource();if(!R||R.getState()==="error"){k(new Error("Error accessing data for source "+e.get("mapbox-source")));return}if("getTileGrid"in R){var Z=R.getTileGrid();if(Z){var W=Z.getMinZoom();(o>0||W>0)&&e.setMaxResolution(Math.min(Ey[o],Z.getResolution(W))+1e-9),s<24&&e.setMinResolution(Ey[s]+1e-9)}}R instanceof Mz||R instanceof Wz?UAe(e,t,n,r).then(function(){e.setVisible(!0),B()},function(Q){k(Q)}):B()};e.set("mapbox-layers",n),i.getLayers().getArray().indexOf(e)===-1&&i.addLayer(e),e.getSource()?P():e.once("change:source",P)})}function Mr(){var e="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",n="7242f6b015e11a4c9eb3973d702f9d425918e132",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAkBW,cAuIL,YAvIK;AAlBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AACP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7242f6b015e11a4c9eb3973d702f9d425918e132"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Mr=function(){return s},s}Mr();function CT(e){return Mr().f[0]++,Mr().s[0]++,Mr().b[1][0]++,!e||(Mr().b[1][1]++,e.length<2)?(Mr().b[0][0]++,Mr().s[1]++,null):(Mr().b[0][1]++,Mr().s[2]++,N.jsx("span",{className:"maputnik-coords",children:e.map(n=>(Mr().f[1]++,Mr().s[3]++,String(n).padStart(7,""))).join(", ")}))}class Ij extends xn.Component{constructor(t){Mr().f[5]++,Mr().s[7]++;super(t);nn(this,"updateStyle");nn(this,"map");nn(this,"container",(Mr().s[5]++,null));nn(this,"overlay");nn(this,"popupContainer",(Mr().s[6]++,null));nn(this,"closeOverlay",(Mr().s[32]++,t=>{Mr().f[12]++,Mr().s[33]++,t.target.blur(),Mr().s[34]++,this.overlay.setPosition(void 0)}));Mr().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Mr().s[9]++,this.updateStyle=N4.throttle(this._updateStyle.bind(this),200)}_updateStyle(t){if(Mr().f[6]++,Mr().s[10]++,this.map)Mr().b[2][1]++;else{Mr().b[2][0]++,Mr().s[11]++;return}Mr().s[12]++,this.map.getLayers().clear(),Mr().s[13]++,QAe(this.map,t)}componentDidUpdate(t){Mr().f[7]++,Mr().s[14]++,this.props.mapStyle!==t.mapStyle?(Mr().b[3][0]++,Mr().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Mr().b[3][1]++}componentDidMount(){Mr().f[8]++,Mr().s[16]++,this.overlay=new oie({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const t=(Mr().s[17]++,new m7({target:this.container,overlays:[this.overlay],view:new pp({zoom:1,center:[180,-90]})}));Mr().s[18]++,t.on("pointermove",i=>{Mr().f[9]++;const o=(Mr().s[19]++,sM(i.coordinate));Mr().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Mr().s[21]++;const r=()=>{Mr().f[10]++;const i=(Mr().s[22]++,t.getView().getZoom()),o=(Mr().s[23]++,sM(t.getView().getCenter()));Mr().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Mr().s[25]++,r(),Mr().s[26]++,t.on("moveend",r),Mr().s[27]++,t.on("postrender",i=>{Mr().f[11]++;const o=(Mr().s[28]++,sM(t.getView().getCenter()));Mr().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:t.getView().getRotation().toFixed(2),zoom:t.getView().getZoom().toFixed(2)})}),Mr().s[30]++,this.map=t,Mr().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return Mr().f[13]++,Mr().s[35]++,N.jsxs("div",{className:"maputnik-ol-container",children:[N.jsxs("div",{ref:t=>(Mr().f[14]++,Mr().s[36]++,this.popupContainer=t),style:{background:"black"},className:"maputnik-popup",children:[N.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:""}),N.jsx(HR,{features:(Mr().b[4][0]++,this.state.selectedFeatures||(Mr().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),N.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(Mr().b[5][0]++,this.props.debugToolbox&&(Mr().b[5][1]++,N.jsxs("div",{className:"maputnik-ol-debug",children:[N.jsxs("div",{children:[N.jsx("label",{children:"cursor: "}),N.jsx("span",{children:CT(this.state.cursor)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"center: "}),N.jsx("span",{children:CT(this.state.center)})]}),N.jsxs("div",{children:[N.jsx("label",{children:"rotation: "}),N.jsx("span",{children:this.state.rotation})]})]}))),N.jsx("div",{className:"maputnik-ol",ref:t=>(Mr().f[15]++,Mr().s[37]++,this.container=t),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}nn(Ij,"defaultProps",(Mr().s[4]++,{onMapLoaded:()=>{Mr().f[2]++},onDataChange:()=>{Mr().f[3]++},onLayerSelect:()=>{Mr().f[4]++}}));function B0(){var e="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",n="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return B0=function(){return s},s}B0();class $Ae extends xn.Component{render(){B0().f[0]++;const n=(B0().s[0]++,{width:20,height:20,...this.props.style});return B0().s[1]++,this.props.isCollapsed?(B0().b[0][0]++,N.jsx(SJ,{style:n})):(B0().b[0][1]++,N.jsx(MJ,{style:n}))}}function jg(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",n="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return jg=function(){return s},s}jg();class YAe extends xn.Component{render(){return jg().f[0]++,jg().s[0]++,N.jsx("li",{className:"maputnik-layer-list-group",children:N.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:n=>(jg().f[1]++,jg().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[N.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx($Ae,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y_.apply(this,arguments)}function qAe(e){if(Array.isArray(e))return e}function VAe(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,i,o,s,a=[],p=!0,g=!1;try{if(o=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;p=!1}else for(;!(p=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);p=!0);}catch(b){g=!0,i=b}finally{try{if(!p&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(g)throw i}}return a}}function bE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Tj(e,n){if(e){if(typeof e=="string")return bE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bE(e,n)}}function HAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kj(e,n){return qAe(e)||VAe(e,n)||Tj(e,n)||HAe()}function Oy(e){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Oy(e)}function ZAe(e,n){if(Oy(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Pj(e){var n=ZAe(e,"string");return Oy(n)=="symbol"?n:String(n)}function fa(e,n,t){return n=Pj(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function RM(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.forEach(function(i){fa(e,i,t[i])})}return e}function H_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _T(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pj(r.key),r)}}function Z_(e,n,t){return n&&_T(e.prototype,n),t&&_T(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q7(e,n){if(n&&(Oy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lo(e)}function v_(e){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v_(e)}function xE(e,n){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(e,n)}function V7(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&xE(e,n)}var XAe=function(e,n,t,r,i,o,s,a){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[t,r,i,o,s,a],b=0;p=new Error(n.replace(/%s/g,function(){return g[b++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}},JAe=XAe;const c1=ma(JAe);function ece(e){if(Array.isArray(e))return bE(e)}function tce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rce(e){return ece(e)||tce(e)||Tj(e)||nce()}var ice=function(){function e(){H_(this,e),fa(this,"refs",{})}return Z_(e,[{key:"add",value:function(t,r){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(r)}},{key:"remove",value:function(t,r){var i=this.getIndex(t,r);i!==-1&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(t,r){return this.refs[t].indexOf(r)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[t].sort(oce)}}]),e}();function oce(e,n){var t=e.node.sortableInfo.index,r=n.node.sortableInfo.index;return t-r}function Fj(e,n){return Object.keys(e).reduce(function(t,r){return n.indexOf(r)===-1&&(t[r]=e[r]),t},{})}var cg={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Dj=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],n=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(n){case"ms":return"ms";default:return n&&n.length?n[0].toUpperCase()+n.substr(1):""}}();function Kx(e,n){Object.keys(n).forEach(function(t){e.style[t]=n[t]})}function Px(e,n){e.style["".concat(Dj,"Transform")]=n==null?"":"translate3d(".concat(n.x,"px,").concat(n.y,"px,0)")}function LM(e,n){e.style["".concat(Dj,"TransitionDuration")]=n==null?"":"".concat(n,"ms")}function aC(e,n){for(;e;){if(n(e))return e;e=e.parentNode}return null}function bT(e,n,t){return Math.max(e,Math.min(t,n))}function Wg(e){return e.substr(-2)==="px"?parseFloat(e):0}function ace(e){var n=window.getComputedStyle(e);return{bottom:Wg(n.marginBottom),left:Wg(n.marginLeft),right:Wg(n.marginRight),top:Wg(n.marginTop)}}function H7(e,n){var t=n.displayName||n.name;return t?"".concat(e,"(").concat(t,")"):e}function zM(e,n){var t=e.getBoundingClientRect();return{top:t.top+n.top,left:t.left+n.left}}function jv(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function sce(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function y2(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var r={left:t.left+e.offsetLeft,top:t.top+e.offsetTop};return e.parentNode===n?r:y2(e.parentNode,n,r)}}function lce(e,n,t){return e<t&&e>n?e-1:e>t&&e<n?e+1:e}function xT(e){var n=e.lockOffset,t=e.width,r=e.height,i=n,o=n,s="px";if(typeof n=="string"){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(n);c1(a!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',n),i=parseFloat(n),o=parseFloat(n),s=a[1]}return c1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",n),s==="%"&&(i=i*t/100,o=o*r/100),{x:i,y:o}}function uce(e){var n=e.height,t=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];c1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=Kj(i,2),s=o[0],a=o[1];return[xT({height:n,lockOffset:s,width:t}),xT({height:n,lockOffset:a,width:t})]}function Ace(e){var n=window.getComputedStyle(e),t=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return t.test(n[i])})}function Uj(e){return e instanceof HTMLElement?Ace(e)?e:Uj(e.parentNode):null}function cce(e){var n=window.getComputedStyle(e);return n.display==="grid"?{x:Wg(n.gridColumnGap),y:Wg(n.gridRowGap)}:{x:0,y:0}}var y0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},k0={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function dce(e){var n="input, textarea, select, canvas, [contenteditable]",t=e.querySelectorAll(n),r=e.cloneNode(!0),i=rce(r.querySelectorAll(n));return i.forEach(function(o,s){if(o.type!=="file"&&(o.value=t[s].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===k0.Canvas&&t[s].width>0&&t[s].height>0){var a=o.getContext("2d");a.drawImage(t[s],0,0)}}),r}function hce(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){V7(o,i);function o(){var s,a;H_(this,o);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return a=q7(this,(s=v_(o)).call.apply(s,[this].concat(g))),fa(lo(lo(a)),"wrappedInstance",Sr.createRef()),a}return Z_(o,[{key:"componentDidMount",value:function(){var a=Nm.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return c1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(e,y_({ref:a},this.props))}}]),o}(Sr.Component),fa(n,"displayName",H7("sortableHandle",e)),t}function wT(e){return e.sortableHandle!=null}var fce=function(){function e(n,t){H_(this,e),this.container=n,this.onScrollCallback=t}return Z_(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var r=this,i=t.translate,o=t.minTranslate,s=t.maxTranslate,a=t.width,p=t.height,g={x:0,y:0},b={x:1,y:1},B={x:10,y:10},k=this.container,P=k.scrollTop,R=k.scrollLeft,Z=k.scrollHeight,W=k.scrollWidth,Q=k.clientHeight,q=k.clientWidth,oe=P===0,re=Z-P-Q===0,ce=R===0,se=W-R-q===0;i.y>=s.y-p/2&&!re?(g.y=1,b.y=B.y*Math.abs((s.y-p/2-i.y)/p)):i.x>=s.x-a/2&&!se?(g.x=1,b.x=B.x*Math.abs((s.x-a/2-i.x)/a)):i.y<=o.y+p/2&&!oe?(g.y=-1,b.y=B.y*Math.abs((i.y-p/2-o.y)/p)):i.x<=o.x+a/2&&!ce&&(g.x=-1,b.x=B.x*Math.abs((i.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(g.x!==0||g.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var le={left:b.x*g.x,top:b.y*g.y};r.container.scrollTop+=le.top,r.container.scrollLeft+=le.left,r.onScrollCallback(le)},5))}}]),e}();function pce(e){var n=e.node;return{height:n.offsetHeight,width:n.offsetWidth}}function mce(e){var n=[k0.Input,k0.Textarea,k0.Select,k0.Option,k0.Button];return!!(n.indexOf(e.target.tagName)!==-1||aC(e.target,function(t){return t.contentEditable==="true"}))}var Rj={axis:Kr.oneOf(["x","y","xy"]),contentWindow:Kr.any,disableAutoscroll:Kr.bool,distance:Kr.number,getContainer:Kr.func,getHelperDimensions:Kr.func,helperClass:Kr.string,helperContainer:Kr.oneOfType([Kr.func,typeof HTMLElement>"u"?Kr.any:Kr.instanceOf(HTMLElement)]),hideSortableGhost:Kr.bool,keyboardSortingTransitionDuration:Kr.number,lockAxis:Kr.string,lockOffset:Kr.oneOfType([Kr.number,Kr.string,Kr.arrayOf(Kr.oneOfType([Kr.number,Kr.string]))]),lockToContainerEdges:Kr.bool,onSortEnd:Kr.func,onSortMove:Kr.func,onSortOver:Kr.func,onSortStart:Kr.func,pressDelay:Kr.number,pressThreshold:Kr.number,keyCodes:Kr.shape({lift:Kr.arrayOf(Kr.number),drop:Kr.arrayOf(Kr.number),cancel:Kr.arrayOf(Kr.number),up:Kr.arrayOf(Kr.number),down:Kr.arrayOf(Kr.number)}),shouldCancelStart:Kr.func,transitionDuration:Kr.number,updateBeforeSortStart:Kr.func,useDragHandle:Kr.bool,useWindowAsScrollContainer:Kr.bool},Lj={lift:[y0.SPACE],drop:[y0.SPACE],cancel:[y0.ESC],up:[y0.UP,y0.LEFT],down:[y0.DOWN,y0.RIGHT]},gce={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:pce,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Lj,shouldCancelStart:mce,transitionDuration:300,useWindowAsScrollContainer:!1},yce=Object.keys(Rj);function vce(e){c1(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Cce(e,n){try{var t=e()}catch(r){return n(!0,r)}return t&&t.then?t.then(n.bind(null,!1),n.bind(null,!0)):n(!1,value)}var zj=Sr.createContext({manager:{}});function _ce(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){V7(o,i);function o(s){var a;H_(this,o),a=q7(this,v_(o).call(this,s)),fa(lo(lo(a)),"state",{}),fa(lo(lo(a)),"handleStart",function(g){var b=a.props,B=b.distance,k=b.shouldCancelStart;if(!(g.button===2||k(g))){a.touched=!0,a.position=jv(g);var P=aC(g.target,function(oe){return oe.sortableInfo!=null});if(P&&P.sortableInfo&&a.nodeIsChild(P)&&!a.state.sorting){var R=a.props.useDragHandle,Z=P.sortableInfo,W=Z.index,Q=Z.collection,q=Z.disabled;if(q||R&&!aC(g.target,wT))return;a.manager.active={collection:Q,index:W},!sce(g)&&g.target.tagName===k0.Anchor&&g.preventDefault(),B||(a.props.pressDelay===0?a.handlePress(g):a.pressTimer=setTimeout(function(){return a.handlePress(g)},a.props.pressDelay))}}}),fa(lo(lo(a)),"nodeIsChild",function(g){return g.sortableInfo.manager===a.manager}),fa(lo(lo(a)),"handleMove",function(g){var b=a.props,B=b.distance,k=b.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var P=jv(g),R={x:a.position.x-P.x,y:a.position.y-P.y},Z=Math.abs(R.x)+Math.abs(R.y);a.delta=R,!B&&(!k||Z>=k)?(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0)):B&&Z>=B&&a.manager.isActive()&&a.handlePress(g)}}),fa(lo(lo(a)),"handleEnd",function(){a.touched=!1,a.cancel()}),fa(lo(lo(a)),"cancel",function(){var g=a.props.distance,b=a.state.sorting;b||(g||clearTimeout(a.pressTimer),a.manager.active=null)}),fa(lo(lo(a)),"handlePress",function(g){try{var b=a.manager.getActive(),B=function(){if(b){var k=function(){var Ne=ce.sortableInfo.index,et=ace(ce),ft=cce(a.container),Ke=a.scrollContainer.getBoundingClientRect(),rt=Z({index:Ne,node:ce,collection:se});if(a.node=ce,a.margin=et,a.gridGap=ft,a.width=rt.width,a.height=rt.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=ce.getBoundingClientRect(),a.containerBoundingRect=Ke,a.index=Ne,a.newIndex=Ne,a.axis={x:R.indexOf("x")>=0,y:R.indexOf("y")>=0},a.offsetEdge=y2(ce,a.container),le?a.initialOffset=jv(RM({},g,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top})):a.initialOffset=jv(g),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(dce(ce)),Kx(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-et.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-et.top,"px"),width:"".concat(a.width,"px")}),le&&a.helper.focus(),Q&&(a.sortableGhost=ce,Kx(ce,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},le){var Ce=re?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,Rt=Ce.top,jt=Ce.left,tn=Ce.width,Qt=Ce.height,He=Rt+Qt,Je=jt+tn;a.axis.x&&(a.minTranslate.x=jt-a.boundingClientRect.left,a.maxTranslate.x=Je-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=Rt-a.boundingClientRect.top,a.maxTranslate.y=He-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(re?0:Ke.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(re?a.contentWindow.innerWidth:Ke.left+Ke.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(re?0:Ke.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(re?a.contentWindow.innerHeight:Ke.top+Ke.height)-a.boundingClientRect.top-a.height/2);W&&W.split(" ").forEach(function(tt){return a.helper.classList.add(tt)}),a.listenerNode=g.touches?g.target:a.contentWindow,le?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(cg.move.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortMove,!1)}),cg.end.forEach(function(tt){return a.listenerNode.addEventListener(tt,a.handleSortEnd,!1)})),a.setState({sorting:!0,sortingIndex:Ne}),oe&&oe({node:ce,index:Ne,collection:se,isKeySorting:le,nodes:a.manager.getOrderedRefs(),helper:a.helper},g),le&&a.keyMove(0)},P=a.props,R=P.axis,Z=P.getHelperDimensions,W=P.helperClass,Q=P.hideSortableGhost,q=P.updateBeforeSortStart,oe=P.onSortStart,re=P.useWindowAsScrollContainer,ce=b.node,se=b.collection,le=a.manager.isKeySorting,ye=function(){if(typeof q=="function"){a._awaitingUpdateBeforeSortStart=!0;var De=Cce(function(){var Ne=ce.sortableInfo.index;return Promise.resolve(q({collection:se,index:Ne,node:ce,isKeySorting:le},g)).then(function(){})},function(Ne,et){if(a._awaitingUpdateBeforeSortStart=!1,Ne)throw et;return et});if(De&&De.then)return De.then(function(){})}}();return ye&&ye.then?ye.then(k):k(ye)}}();return Promise.resolve(B&&B.then?B.then(function(){}):void 0)}catch(k){return Promise.reject(k)}}),fa(lo(lo(a)),"handleSortMove",function(g){var b=a.props.onSortMove;typeof g.preventDefault=="function"&&g.cancelable&&g.preventDefault(),a.updateHelperPosition(g),a.animateNodes(),a.autoscroll(),b&&b(g)}),fa(lo(lo(a)),"handleSortEnd",function(g){var b=a.props,B=b.hideSortableGhost,k=b.onSortEnd,P=a.manager,R=P.active.collection,Z=P.isKeySorting,W=a.manager.getOrderedRefs();a.listenerNode&&(Z?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(cg.move.forEach(function(ce){return a.listenerNode.removeEventListener(ce,a.handleSortMove)}),cg.end.forEach(function(ce){return a.listenerNode.removeEventListener(ce,a.handleSortEnd)}))),a.helper.parentNode.removeChild(a.helper),B&&a.sortableGhost&&Kx(a.sortableGhost,{opacity:"",visibility:""});for(var Q=0,q=W.length;Q<q;Q++){var oe=W[Q],re=oe.node;oe.edgeOffset=null,oe.boundingClientRect=null,Px(re,null),LM(re,null),oe.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),typeof k=="function"&&k({collection:R,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:Z,nodes:W},g),a.touched=!1}),fa(lo(lo(a)),"autoscroll",function(){var g=a.props.disableAutoscroll,b=a.manager.isKeySorting;if(g){a.autoScroller.clear();return}if(b){var B=RM({},a.translate),k=0,P=0;a.axis.x&&(B.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),k=a.translate.x-B.x),a.axis.y&&(B.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),P=a.translate.y-B.y),a.translate=B,Px(a.helper,a.translate),a.scrollContainer.scrollLeft+=k,a.scrollContainer.scrollTop+=P;return}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}),fa(lo(lo(a)),"onAutoScroll",function(g){a.translate.x+=g.left,a.translate.y+=g.top,a.animateNodes()}),fa(lo(lo(a)),"handleKeyDown",function(g){var b=g.keyCode,B=a.props,k=B.shouldCancelStart,P=B.keyCodes,R=P===void 0?{}:P,Z=RM({},Lj,R);a.manager.active&&!a.manager.isKeySorting||!a.manager.active&&(!Z.lift.includes(b)||k(g)||!a.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),Z.lift.includes(b)&&!a.manager.active?a.keyLift(g):Z.drop.includes(b)&&a.manager.active?a.keyDrop(g):Z.cancel.includes(b)?(a.newIndex=a.manager.active.index,a.keyDrop(g)):Z.up.includes(b)?a.keyMove(-1):Z.down.includes(b)&&a.keyMove(1))}),fa(lo(lo(a)),"keyLift",function(g){var b=g.target,B=aC(b,function(Z){return Z.sortableInfo!=null}),k=B.sortableInfo,P=k.index,R=k.collection;a.initialFocusedNode=b,a.manager.isKeySorting=!0,a.manager.active={index:P,collection:R},a.handlePress(g)}),fa(lo(lo(a)),"keyMove",function(g){var b=a.manager.getOrderedRefs(),B=b[b.length-1].node.sortableInfo.index,k=a.newIndex+g,P=a.newIndex;if(!(k<0||k>B)){a.prevIndex=P,a.newIndex=k;var R=lce(a.newIndex,a.prevIndex,a.index),Z=b.find(function(le){var ye=le.node;return ye.sortableInfo.index===R}),W=Z.node,Q=a.containerScrollDelta,q=Z.boundingClientRect||zM(W,Q),oe=Z.translate||{x:0,y:0},re={top:q.top+oe.y-Q.top,left:q.left+oe.x-Q.left},ce=P<k,se={x:ce&&a.axis.x?W.offsetWidth-a.width:0,y:ce&&a.axis.y?W.offsetHeight-a.height:0};a.handleSortMove({pageX:re.left+se.x,pageY:re.top+se.y,ignoreTransition:g===0})}}),fa(lo(lo(a)),"keyDrop",function(g){a.handleSortEnd(g),a.initialFocusedNode&&a.initialFocusedNode.focus()}),fa(lo(lo(a)),"handleKeyEnd",function(g){a.manager.active&&a.keyDrop(g)}),fa(lo(lo(a)),"isValidSortingTarget",function(g){var b=a.props.useDragHandle,B=g.target,k=aC(B,function(P){return P.sortableInfo!=null});return k&&k.sortableInfo&&!k.sortableInfo.disabled&&(b?wT(B):B.sortableInfo)});var p=new ice;return vce(s),a.manager=p,a.wrappedInstance=Sr.createRef(),a.sortableContextValue={manager:p},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return Z_(o,[{key:"componentDidMount",value:function(){var a=this,p=this.props.useWindowAsScrollContainer,g=this.getContainer();Promise.resolve(g).then(function(b){a.container=b,a.document=a.container.ownerDocument||document;var B=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof B=="function"?B():B,a.scrollContainer=p?a.document.scrollingElement||a.document.documentElement:Uj(a.container)||a.container,a.autoScroller=new fce(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(k){return cg[k].forEach(function(P){return a.container.addEventListener(P,a.events[k],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(p){return cg[p].forEach(function(g){return a.container.removeEventListener(g,a.events[p])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var p=this.props,g=p.lockAxis,b=p.lockOffset,B=p.lockToContainerEdges,k=p.transitionDuration,P=p.keyboardSortingTransitionDuration,R=P===void 0?k:P,Z=this.manager.isKeySorting,W=a.ignoreTransition,Q=jv(a),q={x:Q.x-this.initialOffset.x,y:Q.y-this.initialOffset.y};if(q.y-=window.pageYOffset-this.initialWindowScroll.top,q.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=q,B){var oe=uce({height:this.height,lockOffset:b,width:this.width}),re=Kj(oe,2),ce=re[0],se=re[1],le={x:this.width/2-ce.x,y:this.height/2-ce.y},ye={x:this.width/2-se.x,y:this.height/2-se.y};q.x=bT(this.minTranslate.x+le.x,this.maxTranslate.x-ye.x,q.x),q.y=bT(this.minTranslate.y+le.y,this.maxTranslate.y-ye.y,q.y)}g==="x"?q.y=0:g==="y"&&(q.x=0),Z&&R&&!W&&LM(this.helper,R),Px(this.helper,q)}},{key:"animateNodes",value:function(){var a=this.props,p=a.transitionDuration,g=a.hideSortableGhost,b=a.onSortOver,B=this.containerScrollDelta,k=this.windowScrollDelta,P=this.manager.getOrderedRefs(),R={left:this.offsetEdge.left+this.translate.x+B.left,top:this.offsetEdge.top+this.translate.y+B.top},Z=this.manager.isKeySorting,W=this.newIndex;this.newIndex=null;for(var Q=0,q=P.length;Q<q;Q++){var oe=P[Q].node,re=oe.sortableInfo.index,ce=oe.offsetWidth,se=oe.offsetHeight,le={height:this.height>se?se/2:this.height/2,width:this.width>ce?ce/2:this.width/2},ye=Z&&re>this.index&&re<=W,De=Z&&re<this.index&&re>=W,Ne={x:0,y:0},et=P[Q].edgeOffset;et||(et=y2(oe,this.container),P[Q].edgeOffset=et,Z&&(P[Q].boundingClientRect=zM(oe,B)));var ft=Q<P.length-1&&P[Q+1],Ke=Q>0&&P[Q-1];if(ft&&!ft.edgeOffset&&(ft.edgeOffset=y2(ft.node,this.container),Z&&(ft.boundingClientRect=zM(ft.node,B))),re===this.index){g&&(this.sortableGhost=oe,Kx(oe,{opacity:0,visibility:"hidden"}));continue}p&&LM(oe,p),this.axis.x?this.axis.y?De||re<this.index&&(R.left+k.left-le.width<=et.left&&R.top+k.top<=et.top+le.height||R.top+k.top+le.height<=et.top)?(Ne.x=this.width+this.marginOffset.x,et.left+Ne.x>this.containerBoundingRect.width-le.width&&ft&&(Ne.x=ft.edgeOffset.left-et.left,Ne.y=ft.edgeOffset.top-et.top),this.newIndex===null&&(this.newIndex=re)):(ye||re>this.index&&(R.left+k.left+le.width>=et.left&&R.top+k.top+le.height>=et.top||R.top+k.top+le.height>=et.top+se))&&(Ne.x=-(this.width+this.marginOffset.x),et.left+Ne.x<this.containerBoundingRect.left+le.width&&Ke&&(Ne.x=Ke.edgeOffset.left-et.left,Ne.y=Ke.edgeOffset.top-et.top),this.newIndex=re):ye||re>this.index&&R.left+k.left+le.width>=et.left?(Ne.x=-(this.width+this.marginOffset.x),this.newIndex=re):(De||re<this.index&&R.left+k.left<=et.left+le.width)&&(Ne.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=re)):this.axis.y&&(ye||re>this.index&&R.top+k.top+le.height>=et.top?(Ne.y=-(this.height+this.marginOffset.y),this.newIndex=re):(De||re<this.index&&R.top+k.top<=et.top+le.height)&&(Ne.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=re))),Px(oe,Ne),P[Q].translate=Ne}this.newIndex==null&&(this.newIndex=this.index),Z&&(this.newIndex=W);var rt=Z?this.prevIndex:W;b&&this.newIndex!==rt&&b({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:rt,isKeySorting:Z,nodes:P,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return c1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?Nm.findDOMNode(this):a(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(zj.Provider,{value:this.sortableContextValue},Sr.createElement(e,y_({ref:a},Fj(this.props,yce))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Sr.Component),fa(n,"displayName",H7("sortableList",e)),fa(n,"defaultProps",gce),fa(n,"propTypes",Rj),t}var jj={index:Kr.number.isRequired,collection:Kr.oneOfType([Kr.number,Kr.string]),disabled:Kr.bool},bce=Object.keys(jj);function xce(e){var n,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=n=function(i){V7(o,i);function o(){var s,a;H_(this,o);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return a=q7(this,(s=v_(o)).call.apply(s,[this].concat(g))),fa(lo(lo(a)),"wrappedInstance",Sr.createRef()),a}return Z_(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,p=a.collection,g=a.disabled,b=a.index,B=Nm.findDOMNode(this);B.sortableInfo={collection:p,disabled:g,index:b,manager:this.context.manager},this.node=B,this.ref={node:B},this.context.manager.add(p,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return c1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Sr.createElement(e,y_({ref:a},Fj(this.props,bce)))}}]),o}(Sr.Component),fa(n,"displayName",H7("sortableElement",e)),fa(n,"contextType",zj),fa(n,"propTypes",jj),fa(n,"defaultProps",{collection:0}),t}function di(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",n="63fcf32b678e8e84bae6e5adc5bc926b1550ab61",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAgB,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAEzG,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"63fcf32b678e8e84bae6e5adc5bc926b1550ab61"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return di=function(){return s},s}di();const wce=(di().s[0]++,hce(e=>(di().f[0]++,di().s[1]++,N.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[N.jsx(VR,{className:"layer-handle__icon",type:e.layerType}),N.jsx("button",{className:"maputnik-layer-list-item-id",children:e.layerId})]}))));class jM extends xn.Component{renderIcon(){switch(di().f[1]++,di().s[2]++,this.props.action){case"duplicate":return di().b[0][0]++,di().s[3]++,N.jsx(vJ,{});case"show":return di().b[0][1]++,di().s[4]++,N.jsx(yJ,{});case"hide":return di().b[0][2]++,di().s[5]++,N.jsx(gJ,{});case"delete":return di().b[0][3]++,di().s[6]++,N.jsx(zy,{})}}render(){di().f[2]++;const{classBlockName:n,classBlockModifier:t}=(di().s[7]++,this.props);let r=(di().s[8]++,"");return di().s[9]++,n?(di().b[1][0]++,di().s[10]++,r=`maputnik-layer-list-icon-action__${n}`,di().s[11]++,t?(di().b[2][0]++,di().s[12]++,r+=` maputnik-layer-list-icon-action__${n}--${t}`):di().b[2][1]++):di().b[1][1]++,di().s[13]++,N.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class wE extends xn.Component{getChildContext(){return di().f[6]++,di().s[16]++,{reactIconBase:{size:14}}}render(){di().f[7]++;const n=(di().s[17]++,this.props.visibility==="visible"?(di().b[3][0]++,"show"):(di().b[3][1]++,"hide"));return di().s[18]++,N.jsxs("li",{id:this.props.id,onClick:t=>(di().f[8]++,di().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:pf({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[N.jsx(wce,{...this.props}),N.jsx("span",{style:{flexGrow:1}}),N.jsx(jM,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:t=>(di().f[9]++,di().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),N.jsx(jM,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:t=>(di().f[10]++,di().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),N.jsx(jM,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:n,classBlockName:"visibility",classBlockModifier:n,onClick:t=>(di().f[11]++,di().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}nn(wE,"defaultProps",(di().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{di().f[3]++},onLayerDestroy:()=>{di().f[4]++},onLayerVisibilityToggle:()=>{di().f[5]++}})),nn(wE,"childContextTypes",(di().s[15]++,{reactIconBase:Kr.object}));const Mce=(di().s[23]++,xce(e=>(di().f[12]++,di().s[24]++,N.jsx(wE,{...e}))));function Q3(){var e="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",n="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Q3=function(){return s},s}Q3();class Ba extends xn.Component{render(){return Q3().f[0]++,Q3().s[0]++,N.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:pf("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Wj=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],$3=Wj.join(","),Nj=typeof Element>"u",d1=Nj?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ME=!Nj&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},Gj=function(n,t,r){var i=Array.prototype.slice.apply(n.querySelectorAll($3));return t&&d1.call(n,$3)&&i.unshift(n),i=i.filter(r),i},Qj=function e(n,t,r){for(var i=[],o=Array.from(n);o.length;){var s=o.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),p=a.length?a:s.children,g=e(p,!0,r);r.flatten?i.push.apply(i,g):i.push({scope:s,candidates:g})}else{var b=d1.call(s,$3);b&&r.filter(s)&&(t||!n.includes(s))&&i.push(s);var B=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),k=!r.shadowRootFilter||r.shadowRootFilter(s);if(B&&k){var P=e(B===!0?s.children:B.children,!0,r);r.flatten?i.push.apply(i,P):i.push({scope:s,candidates:P})}else o.unshift.apply(o,s.children)}}return i},$j=function(n,t){return n.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||n.isContentEditable)&&isNaN(parseInt(n.getAttribute("tabindex"),10))?0:n.tabIndex},Sce=function(n,t){return n.tabIndex===t.tabIndex?n.documentOrder-t.documentOrder:n.tabIndex-t.tabIndex},Yj=function(n){return n.tagName==="INPUT"},Ece=function(n){return Yj(n)&&n.type==="hidden"},Oce=function(n){var t=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(r){return r.tagName==="SUMMARY"});return t},Bce=function(n,t){for(var r=0;r<n.length;r++)if(n[r].checked&&n[r].form===t)return n[r]},kce=function(n){if(!n.name)return!0;var t=n.form||ME(n),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(n.name));else try{i=r(n.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Bce(i,n.form);return!o||o===n},Ice=function(n){return Yj(n)&&n.type==="radio"},Tce=function(n){return Ice(n)&&!kce(n)},MT=function(n){var t=n.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Kce=function(n,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var o=d1.call(n,"details>summary:first-of-type"),s=o?n.parentElement:n;if(d1.call(s,"details:not([open]) *"))return!0;var a=ME(n).host,p=(a==null?void 0:a.ownerDocument.contains(a))||n.ownerDocument.contains(n);if(!r||r==="full"){if(typeof i=="function"){for(var g=n;n;){var b=n.parentElement,B=ME(n);if(b&&!b.shadowRoot&&i(b)===!0)return MT(n);n.assignedSlot?n=n.assignedSlot:!b&&B!==n.ownerDocument?n=B.host:n=b}n=g}if(p)return!n.getClientRects().length}else if(r==="non-zero-area")return MT(n);return!1},Pce=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var t=n.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return d1.call(t,"fieldset[disabled] *")?!0:!i.contains(n)}return!0}t=t.parentElement}return!1},Y3=function(n,t){return!(t.disabled||Ece(t)||Kce(t,n)||Oce(t)||Pce(t))},SE=function(n,t){return!(Tce(t)||$j(t)<0||!Y3(n,t))},Fce=function(n){var t=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Dce=function e(n){var t=[],r=[];return n.forEach(function(i,o){var s=!!i.scope,a=s?i.scope:i,p=$j(a,s),g=s?e(i.candidates):a;p===0?s?t.push.apply(t,g):t.push(a):r.push({documentOrder:o,tabIndex:p,item:i,isScope:s,content:g})}),r.sort(Sce).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},qj=function(n,t){t=t||{};var r;return t.getShadowRoot?r=Qj([n],t.includeContainer,{filter:SE.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Fce}):r=Gj(n,t.includeContainer,SE.bind(null,t)),Dce(r)},Vj=function(n,t){t=t||{};var r;return t.getShadowRoot?r=Qj([n],t.includeContainer,{filter:Y3.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Gj(n,t.includeContainer,Y3.bind(null,t)),r},sC=function(n,t){if(t=t||{},!n)throw new Error("No node provided");return d1.call(n,$3)===!1?!1:SE(t,n)},Uce=Wj.concat("iframe").join(","),v2=function(n,t){if(t=t||{},!n)throw new Error("No node provided");return d1.call(n,Uce)===!1?!1:Y3(t,n)};const Rce=Object.freeze(Object.defineProperty({__proto__:null,focusable:Vj,isFocusable:v2,isTabbable:sC,tabbable:qj},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ST(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function ET(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ST(Object(t),!0).forEach(function(r){Lce(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ST(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Lce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var OT=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),zce=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},jce=function(n){return n.key==="Escape"||n.key==="Esc"||n.keyCode===27},Wce=function(n){return n.key==="Tab"||n.keyCode===9},BT=function(n){return setTimeout(n,0)},kT=function(n,t){var r=-1;return n.every(function(i,o){return t(i)?(r=o,!1):!0}),r},Wv=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof n=="function"?n.apply(void 0,r):n},Fx=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},Nce=function(n,t){var r=(t==null?void 0:t.document)||document,i=ET({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(se,le,ye){return se&&se[le]!==void 0?se[le]:i[ye||le]},p=function(se){return o.containerGroups.findIndex(function(le){var ye=le.container,De=le.tabbableNodes;return ye.contains(se)||De.find(function(Ne){return Ne===se})})},g=function(se){var le=i[se];if(typeof le=="function"){for(var ye=arguments.length,De=new Array(ye>1?ye-1:0),Ne=1;Ne<ye;Ne++)De[Ne-1]=arguments[Ne];le=le.apply(void 0,De)}if(le===!0&&(le=void 0),!le){if(le===void 0||le===!1)return le;throw new Error("`".concat(se,"` was specified but was not a node, or did not return a node"))}var et=le;if(typeof le=="string"&&(et=r.querySelector(le),!et))throw new Error("`".concat(se,"` as selector refers to no known node"));return et},b=function(){var se=g("initialFocus");if(se===!1)return!1;if(se===void 0)if(p(r.activeElement)>=0)se=r.activeElement;else{var le=o.tabbableGroups[0],ye=le&&le.firstTabbableNode;se=ye||g("fallbackFocus")}if(!se)throw new Error("Your focus-trap needs to have at least one focusable element");return se},B=function(){if(o.containerGroups=o.containers.map(function(se){var le=qj(se,i.tabbableOptions),ye=Vj(se,i.tabbableOptions);return{container:se,tabbableNodes:le,focusableNodes:ye,firstTabbableNode:le.length>0?le[0]:null,lastTabbableNode:le.length>0?le[le.length-1]:null,nextTabbableNode:function(Ne){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ft=ye.findIndex(function(Ke){return Ke===Ne});if(!(ft<0))return et?ye.slice(ft+1).find(function(Ke){return sC(Ke,i.tabbableOptions)}):ye.slice(0,ft).reverse().find(function(Ke){return sC(Ke,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(se){return se.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},k=function ce(se){if(se!==!1&&se!==r.activeElement){if(!se||!se.focus){ce(b());return}se.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=se,zce(se)&&se.select()}},P=function(se){var le=g("setReturnFocus",se);return le||(le===!1?!1:se)},R=function(se){var le=Fx(se);if(!(p(le)>=0)){if(Wv(i.clickOutsideDeactivates,se)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!v2(le,i.tabbableOptions)});return}Wv(i.allowOutsideClick,se)||se.preventDefault()}},Z=function(se){var le=Fx(se),ye=p(le)>=0;ye||le instanceof Document?ye&&(o.mostRecentlyFocusedNode=le):(se.stopImmediatePropagation(),k(o.mostRecentlyFocusedNode||b()))},W=function(se){var le=Fx(se);B();var ye=null;if(o.tabbableGroups.length>0){var De=p(le),Ne=De>=0?o.containerGroups[De]:void 0;if(De<0)se.shiftKey?ye=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:ye=o.tabbableGroups[0].firstTabbableNode;else if(se.shiftKey){var et=kT(o.tabbableGroups,function(jt){var tn=jt.firstTabbableNode;return le===tn});if(et<0&&(Ne.container===le||v2(le,i.tabbableOptions)&&!sC(le,i.tabbableOptions)&&!Ne.nextTabbableNode(le,!1))&&(et=De),et>=0){var ft=et===0?o.tabbableGroups.length-1:et-1,Ke=o.tabbableGroups[ft];ye=Ke.lastTabbableNode}}else{var rt=kT(o.tabbableGroups,function(jt){var tn=jt.lastTabbableNode;return le===tn});if(rt<0&&(Ne.container===le||v2(le,i.tabbableOptions)&&!sC(le,i.tabbableOptions)&&!Ne.nextTabbableNode(le))&&(rt=De),rt>=0){var Ce=rt===o.tabbableGroups.length-1?0:rt+1,Rt=o.tabbableGroups[Ce];ye=Rt.firstTabbableNode}}}else ye=g("fallbackFocus");ye&&(se.preventDefault(),k(ye))},Q=function(se){if(jce(se)&&Wv(i.escapeDeactivates,se)!==!1){se.preventDefault(),s.deactivate();return}if(Wce(se)){W(se);return}},q=function(se){var le=Fx(se);p(le)>=0||Wv(i.clickOutsideDeactivates,se)||Wv(i.allowOutsideClick,se)||(se.preventDefault(),se.stopImmediatePropagation())},oe=function(){if(o.active)return OT.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?BT(function(){k(b())}):k(b()),r.addEventListener("focusin",Z,!0),r.addEventListener("mousedown",R,{capture:!0,passive:!1}),r.addEventListener("touchstart",R,{capture:!0,passive:!1}),r.addEventListener("click",q,{capture:!0,passive:!1}),r.addEventListener("keydown",Q,{capture:!0,passive:!1}),s},re=function(){if(o.active)return r.removeEventListener("focusin",Z,!0),r.removeEventListener("mousedown",R,!0),r.removeEventListener("touchstart",R,!0),r.removeEventListener("click",q,!0),r.removeEventListener("keydown",Q,!0),s};return s={get active(){return o.active},get paused(){return o.paused},activate:function(se){if(o.active)return this;var le=a(se,"onActivate"),ye=a(se,"onPostActivate"),De=a(se,"checkCanFocusTrap");De||B(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,le&&le();var Ne=function(){De&&B(),oe(),ye&&ye()};return De?(De(o.containers.concat()).then(Ne,Ne),this):(Ne(),this)},deactivate:function(se){if(!o.active)return this;var le=ET({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},se);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,re(),o.active=!1,o.paused=!1,OT.deactivateTrap(s);var ye=a(le,"onDeactivate"),De=a(le,"onPostDeactivate"),Ne=a(le,"checkCanReturnFocus"),et=a(le,"returnFocus","returnFocusOnDeactivate");ye&&ye();var ft=function(){BT(function(){et&&k(P(o.nodeFocusedBeforeActivation)),De&&De()})};return et&&Ne?(Ne(P(o.nodeFocusedBeforeActivation)).then(ft,ft),this):(ft(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,re(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,B(),oe(),this)},updateContainerElements:function(se){var le=[].concat(se).filter(Boolean);return o.containers=le.map(function(ye){return typeof ye=="string"?r.querySelector(ye):ye}),o.active&&B(),this}},s.updateContainerElements(n),s};const Gce=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Nce},Symbol.toStringTag,{value:"Module"})),Qce=hO(Gce),$ce=hO(Rce);function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},EE(e)}function Yce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function IT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qce(e,n,t){return n&&IT(e.prototype,n),t&&IT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&OE(e,n)}function OE(e,n){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(e,n)}function Hce(e){var n=Xce();return function(){var r=q3(e),i;if(n){var o=q3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Zce(this,i)}}function Zce(e,n){if(n&&(EE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lC(e)}function lC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q3(e){return q3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q3(e)}function Jce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Dx=Sr,ede=Nm,Di=uh,tde=Qce,nde=tde.createFocusTrap,rde=$ce,ide=rde.isFocusable,Z7=function(e){Vce(t,e);var n=Hce(t);function t(r){var i;Yce(this,t),i=n.call(this,r),Jce(lC(i),"getNodeForOption",function(a){var p,g=(p=this.internalOptions[a])!==null&&p!==void 0?p:this.originalOptions[a];if(typeof g=="function"){for(var b=arguments.length,B=new Array(b>1?b-1:0),k=1;k<b;k++)B[k-1]=arguments[k];g=g.apply(void 0,B)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var P=g;if(typeof g=="string"){var R;if(P=(R=this.getDocument())===null||R===void 0?void 0:R.querySelector(g),!P)throw new Error("`".concat(a,"` as selector refers to no known node"))}return P}),i.handleDeactivate=i.handleDeactivate.bind(lC(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(lC(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(lC(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){i.originalOptions[s]=o[s];continue}i.internalOptions[s]=o[s]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return qce(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var a=i.getReturnFocusNode(),p=!!(i.originalOptions.returnFocusOnDeactivate&&a!==null&&a!==void 0&&a.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!ide(i.outsideClick.target,i.internalOptions.tabbableOptions))),g=i.internalOptions.preventScroll,b=g===void 0?!1:g;p&&a.focus({preventScroll:b}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var i=this.focusTrapElements.map(ede.findDOMNode),o=i.some(Boolean);o&&(this.focusTrap=this.props._createFocusTrap(i,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,s=i.active&&!this.props.active,a=!i.paused&&this.props.paused,p=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}a&&this.focusTrap.pause(),p&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?Dx.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===Dx.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(g){var b=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(g):o.ref&&(o.ref.current=g)),i.focusTrapElements=b||[g]},a=Dx.cloneElement(o,{ref:s});return a}return null}}]),t}(Dx.Component),Nv=typeof Element>"u"?Function:Element;Z7.propTypes={active:Di.bool,paused:Di.bool,focusTrapOptions:Di.shape({document:Di.object,onActivate:Di.func,onPostActivate:Di.func,checkCanFocusTrap:Di.func,onDeactivate:Di.func,onPostDeactivate:Di.func,checkCanReturnFocus:Di.func,initialFocus:Di.oneOfType([Di.instanceOf(Nv),Di.string,Di.bool,Di.func]),fallbackFocus:Di.oneOfType([Di.instanceOf(Nv),Di.string,Di.func]),escapeDeactivates:Di.oneOfType([Di.bool,Di.func]),clickOutsideDeactivates:Di.oneOfType([Di.bool,Di.func]),returnFocusOnDeactivate:Di.bool,setReturnFocus:Di.oneOfType([Di.instanceOf(Nv),Di.string,Di.bool,Di.func]),allowOutsideClick:Di.oneOfType([Di.bool,Di.func]),preventScroll:Di.bool,tabbableOptions:Di.shape({displayCheck:Di.oneOf(["full","non-zero-area","none"]),getShadowRoot:Di.oneOfType([Di.bool,Di.func])})}),containerElements:Di.arrayOf(Di.instanceOf(Nv)),children:Di.oneOfType([Di.element,Di.instanceOf(Nv)])};Z7.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:nde};var ode=Z7,TT=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function KT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function WM(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function PT(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Ux=Sr,Eg=Nm,Rx=!!Eg.createPortal;function ade(e,n){if(!window.document)return function(r){PT(i,r);function i(){return KT(this,i),WM(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return TT(i,[{key:"render",value:function(){return!1}}]),i}(Ux.Component);n=n||{};var t=function(r){PT(i,r);function i(){var o,s,a,p;KT(this,i);for(var g=arguments.length,b=Array(g),B=0;B<g;B++)b[B]=arguments[B];return p=(s=(a=WM(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(b))),a),a.renderDisplaced=function(){Eg.unstable_renderSubtreeIntoContainer(a,Ux.createElement(e,a.props,a.props.children),a.container)},a.removeDisplaced=function(){Eg.unmountComponentAtNode(a.container)},s),WM(a,p)}return TT(i,[{key:"componentWillMount",value:function(){this.container=function(){if(n.renderTo)return typeof n.renderTo=="string"?document.querySelector(n.renderTo):n.renderTo;var s=document.createElement("div");return document.body.appendChild(s),s}()}},{key:"componentDidMount",value:function(){Rx||this.props.mounted&&this.renderDisplaced()}},{key:"componentDidUpdate",value:function(s){Rx||(s.mounted&&!this.props.mounted?Eg.unmountComponentAtNode(this.container):this.props.mounted&&this.renderDisplaced())}},{key:"componentWillUnmount",value:function(){Rx||Eg.unmountComponentAtNode(this.container),n.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return!Rx||this.props.mounted===!1?null:Eg.createPortal(Ux.createElement(e,this.props,this.props.children),this.container)}}]),i}(Ux.Component);return t.defaultProps={mounted:!0},t.WrappedComponent=e,t}var sde=ade,Hj={exports:{}};(function(e){(function(n){var t=!1,r,i;function o(){if(typeof r<"u")return r;var B=document.documentElement,k=document.createElement("div");return k.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),B.appendChild(k),r=k.offsetWidth-k.clientWidth,B.removeChild(k),r}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(B){if(!(typeof document>"u"||t)){var k=document.documentElement;i=window.pageYOffset,s()?k.style.width="calc(100% - "+o()+"px)":k.style.width="100%",k.style.position="fixed",k.style.top=-i+"px",k.style.overflow="hidden",t=!0}}function p(){if(!(typeof document>"u"||!t)){var B=document.documentElement;B.style.width="",B.style.position="",B.style.top="",B.style.overflow="",window.scroll(0,i),t=!1}}function g(){if(t){p();return}a()}var b={on:a,off:p,toggle:g};e.exports=b})()})(Hj);var lde=Hj.exports;function BE(e){"@babel/helpers - typeof";return BE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},BE(e)}function ude(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function FT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ade(e,n,t){return n&&FT(e.prototype,n),t&&FT(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&kE(e,n)}function kE(e,n){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(e,n)}function dde(e){var n=fde();return function(){var r=V3(e),i;if(n){var o=V3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hde(this,i)}}function hde(e,n){if(n&&(BE(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uC(e)}function uC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V3(e){return V3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V3(e)}function AC(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Gv=Sr,pde=ode,Zj=sde,Lx=lde,X7=function(e){cde(t,e);var n=dde(t);function t(r){var i;if(ude(this,t),i=n.call(this,r),AC(uC(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),AC(uC(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),AC(uC(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),AC(uC(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return Ade(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&Lx.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?Lx.off():!i.scrollDisabled&&this.props.scrollDisabled&&Lx.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&Lx.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var s in i.underlayStyle)i.underlayStyle.hasOwnProperty(s)&&(o[s]=i.underlayStyle[s]);var a={className:i.underlayClass,style:o};i.underlayClickExits&&(a.onMouseDown=this.checkUnderlayClick);for(var p in this.props.underlayProps)a[p]=this.props.underlayProps[p];var g={};i.includeDefaultStyles&&(g={display:"inline-block",height:"100%",verticalAlign:"middle"});var b={key:"a",style:g},B={};if(i.includeDefaultStyles&&(B={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(B.verticalAlign="middle",B.top=0)),i.dialogStyle)for(var k in i.dialogStyle)i.dialogStyle.hasOwnProperty(k)&&(B[k]=i.dialogStyle[k]);var P={key:"b",ref:(function(Q){this.dialogNode=Q}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:B};i.titleId?P["aria-labelledby"]=i.titleId:i.titleText&&(P["aria-label"]=i.titleText),i.focusDialog&&(P.tabIndex="-1");for(var R in i)/^(data-|aria-)/.test(R)&&(P[R]=i[R]);var Z=[Gv.createElement("div",P,i.children)];i.verticallyCenter&&Z.unshift(Gv.createElement("div",b));var W=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(W.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),W.escapeDeactivates=i.escapeExits,Gv.createElement(pde,{focusTrapOptions:W,paused:i.focusTrapPaused},Gv.createElement("div",a,Z))}}]),t}(Gv.Component);AC(X7,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});var Xj=Zj(X7);Xj.renderTo=function(e){return Zj(X7,{renderTo:e})};var mde=Xj;const gde=ma(mde);function tu(){var e="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",n="182829ebe13a379e94c383087c7e861e586a9014",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAW;AAClB,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"182829ebe13a379e94c383087c7e861e586a9014"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return tu=function(){return s},s}tu();class Sf extends xn.Component{constructor(){super(...arguments);nn(this,"onClose",(tu().s[1]++,()=>{tu().f[0]++,tu().s[2]++,document.activeElement?(tu().b[0][0]++,tu().s[3]++,document.activeElement.blur()):tu().b[0][1]++,tu().s[4]++,setTimeout(()=>{tu().f[1]++,tu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return tu().f[2]++,tu().s[6]++,this.props.isOpen?(tu().b[1][0]++,tu().s[7]++,N.jsx(gde,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:N.jsxs("div",{className:pf("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[N.jsxs("header",{className:"maputnik-modal-header",children:[N.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),N.jsx("span",{className:"maputnik-modal-header-space"}),N.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:N.jsx(EJ,{})})]}),N.jsx("div",{className:"maputnik-modal-scroller",children:N.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(tu().b[1][1]++,tu().s[8]++,!1)}}nn(Sf,"defaultProps",(tu().s[0]++,{underlayClickExits:!0}));const yde=8,vde={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration.",example:{"sky-color":"#199EF3","fog-color":"#00ff00","horizon-blend":.5,"fog-blend":.6}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},Cde={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},_de=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],bde={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},xde={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},wde={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Mde={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js-docs/api/sources/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Sde={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Ede={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Ode={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Bde=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],kde={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Ide={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Tde={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Kde={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Pde={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Fde={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0"},"data-driven styling":{js:"3.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Dde={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Ude={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Rde={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Lde={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},zde={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},jde={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},Wde={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},Nde={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},Gde={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},Qde={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog."},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. A value between 0 and 1. Where 0 is the map center and 1 is the horizon"},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog and sky color at the horizon. A value between 0 and 1. Where 0 is the horizon and 1 is map-height / 2"}},$de={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},Yde=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],qde={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Vde={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Hde={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Zde={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Xde={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Jde={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ehe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},the={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},nhe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},rhe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Hi={$version:yde,$root:vde,sources:Cde,source:_de,source_vector:bde,source_raster:xde,source_raster_dem:wde,source_geojson:Mde,source_video:Sde,source_image:Ede,layer:Ode,layout:Bde,layout_background:kde,layout_fill:Ide,layout_circle:Tde,layout_heatmap:Kde,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:Pde,layout_symbol:Fde,layout_raster:Dde,layout_hillshade:Ude,filter:Rde,filter_operator:Lde,geometry_type:zde,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:jde,expression:Wde,expression_name:Nde,light:Gde,sky:Qde,terrain:$de,paint:Yde,paint_fill:qde,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Vde,paint_circle:Hde,paint_heatmap:Zde,paint_symbol:Xde,paint_raster:Jde,paint_hillshade:ehe,paint_background:the,transition:nhe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:rhe};function xu(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",n="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return xu=function(){return s},s}xu();class _1 extends xn.Component{render(){xu().f[0]++;let n=(xu().s[0]++,this.props.options);return xu().s[1]++,xu().b[1][0]++,n.length>0&&(xu().b[1][1]++,!Array.isArray(n[0]))?(xu().b[0][0]++,xu().s[2]++,n=n.map(t=>(xu().f[1]++,xu().s[3]++,[t,t]))):xu().b[0][1]++,xu().s[4]++,N.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(xu().f[2]++,xu().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:n.map(([t,r])=>(xu().f[3]++,xu().s[6]++,N.jsx("option",{value:t,children:r},t)))})}}function ap(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",n="1b7060ffc75823b83956b34c84f8d7f711912270",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b7060ffc75823b83956b34c84f8d7f711912270"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ap=function(){return s},s}ap();class J7 extends xn.Component{render(){return ap().f[0]++,ap().s[1]++,N.jsxs(Po,{label:"Type",fieldSpec:Hi.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(ap().b[0][0]++,this.props.disabled&&(ap().b[0][1]++,N.jsx(vd,{value:this.props.value,disabled:!0}))),(ap().b[1][0]++,!this.props.disabled&&(ap().b[1][1]++,N.jsx(_1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}nn(J7,"defaultProps",(ap().s[0]++,{disabled:!1}));function H3(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",n="a7d93cb2f79962c714e16c8b482f49de057b0cb8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7d93cb2f79962c714e16c8b482f49de057b0cb8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return H3=function(){return s},s}H3();class Jj extends xn.Component{render(){return H3().f[0]++,H3().s[0]++,N.jsx(Po,{label:"ID",fieldSpec:Hi.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:N.jsx(vd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var eW={exports:{}},ihe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function ohe(e){var n,t,r,i=e.ownerDocument,o=i.body,s=i&&i.documentElement;return n=e.getBoundingClientRect(),t=n.left,r=n.top,t-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:t,top:r}}function tW(e,n){var t=e["page"+(n?"Y":"X")+"Offset"],r="scroll"+(n?"Top":"Left");if(typeof t!="number"){var i=e.document;t=i.documentElement[r],typeof t!="number"&&(t=i.body[r])}return t}function IE(e){return tW(e)}function TE(e){return tW(e,!0)}function nW(e){var n=ohe(e),t=e.ownerDocument,r=t.defaultView||t.parentWindow;return n.left+=IE(r),n.top+=TE(r),n}function ahe(e,n,t){var r="",i=e.ownerDocument;return(t=t||i.defaultView.getComputedStyle(e,null))&&(r=t.getPropertyValue(n)||t[n]),r}var she=new RegExp("^("+ihe+")(?!px)[a-z%]+$","i"),lhe=/^(top|right|bottom|left)$/,NM="currentStyle",GM="runtimeStyle",v0="left",uhe="px";function Ahe(e,n){var t=e[NM]&&e[NM][n];if(she.test(t)&&!lhe.test(n)){var r=e.style,i=r[v0],o=e[GM][v0];e[GM][v0]=e[NM][v0],r[v0]=n==="fontSize"?"1em":t||0,t=r.pixelLeft+uhe,r[v0]=i,e[GM][v0]=o}return t===""?"auto":t}var h1;typeof window<"u"&&(h1=window.getComputedStyle?ahe:Ahe);function che(e,n){uy(e,"position")==="static"&&(e.style.position="relative");var t=nW(e),r={},i,o;for(o in n)i=parseFloat(uy(e,o))||0,r[o]=i+n[o]-t[o];uy(e,r)}function e8(e,n){for(var t=0;t<e.length;t++)n(e[t])}function rW(e){return h1(e,"boxSizing")==="border-box"}var dhe=["margin","border","padding"],KE=-1,hhe=2,PE=1,fhe=0;function phe(e,n,t){var r={},i=e.style,o;for(o in n)r[o]=i[o],i[o]=n[o];t.call(e);for(o in n)i[o]=r[o]}function cC(e,n,t){var r=0,i,o,s;for(o=0;o<n.length;o++)if(i=n[o],i)for(s=0;s<t.length;s++){var a;i==="border"?a=i+t[s]+"Width":a=i+t[s],r+=parseFloat(h1(e,a))||0}return r}function C2(e){return e!=null&&e==e.window}var lf={};e8(["Width","Height"],function(e){lf["doc"+e]=function(n){var t=n.document;return Math.max(t.documentElement["scroll"+e],t.body["scroll"+e],lf["viewport"+e](t))},lf["viewport"+e]=function(n){var t="client"+e,r=n.document,i=r.body,o=r.documentElement,s=o[t];return r.compatMode==="CSS1Compat"&&s||i&&i[t]||s}});function DT(e,n,t){if(C2(e))return n==="width"?lf.viewportWidth(e):lf.viewportHeight(e);if(e.nodeType===9)return n==="width"?lf.docWidth(e):lf.docHeight(e);var r=n==="width"?["Left","Right"]:["Top","Bottom"],i=n==="width"?e.offsetWidth:e.offsetHeight;h1(e);var o=rW(e),s=0;(i==null||i<=0)&&(i=void 0,s=h1(e,n),(s==null||Number(s)<0)&&(s=e.style[n]||0),s=parseFloat(s)||0),t===void 0&&(t=o?PE:KE);var a=i!==void 0||o,p=i||s;return t===KE?a?p-cC(e,["border","padding"],r):s:a?p+(t===PE?0:t===hhe?-cC(e,["border"],r):cC(e,["margin"],r)):s+cC(e,dhe.slice(t),r)}var mhe={position:"absolute",visibility:"hidden",display:"block"};function UT(e){var n,t=arguments;return e.offsetWidth!==0?n=DT.apply(void 0,t):phe(e,mhe,function(){n=DT.apply(void 0,t)}),n}e8(["width","height"],function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);lf["outer"+n]=function(r,i){return r&&UT(r,e,i?fhe:PE)};var t=e==="width"?["Left","Right"]:["Top","Bottom"];lf[e]=function(r,i){if(i!==void 0){if(r){h1(r);var o=rW(r);return o&&(i+=cC(r,["padding","border"],t)),uy(r,e,i)}return}return r&&UT(r,e,KE)}});function uy(e,n,t){if(typeof n=="object"){for(var r in n)uy(e,r,n[r]);return}if(typeof t<"u")typeof t=="number"&&(t=t+"px"),e.style[n]=t;else return h1(e,n)}function iW(e,n){for(var t in n)e[t]=n[t];return e}var oW=eW.exports={getWindow:function(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},offset:function(e,n){if(typeof n<"u")che(e,n);else return nW(e)},isWindow:C2,each:e8,css:uy,clone:function(e){var n={};for(var t in e)n[t]=e[t];var r=e.overflow;if(r)for(t in e)n.overflow[t]=e.overflow[t];return n},mix:iW,scrollLeft:function(e,n){if(C2(e)){if(n===void 0)return IE(e);window.scrollTo(n,TE(e))}else{if(n===void 0)return e.scrollLeft;e.scrollLeft=n}},scrollTop:function(e,n){if(C2(e)){if(n===void 0)return TE(e);window.scrollTo(IE(e),n)}else{if(n===void 0)return e.scrollTop;e.scrollTop=n}},merge:function(){for(var e={},n=0;n<arguments.length;n++)oW.mix(e,arguments[n]);return e},viewportWidth:0,viewportHeight:0};iW(oW,lf);var ghe=eW.exports,La=ghe;function yhe(e,n,t){t=t||{},n.nodeType===9&&(n=La.getWindow(n));var r=t.allowHorizontalScroll,i=t.onlyScrollIfNeeded,o=t.alignWithTop,s=t.alignWithLeft;r=r===void 0?!0:r;var a=La.isWindow(n),p=La.offset(e),g=La.outerHeight(e),b=La.outerWidth(e),B,k,P,R,Z,W,Q,q,oe,re;a?(Q=n,re=La.height(Q),oe=La.width(Q),q={left:La.scrollLeft(Q),top:La.scrollTop(Q)},Z={left:p.left-q.left,top:p.top-q.top},W={left:p.left+b-(q.left+oe),top:p.top+g-(q.top+re)},R=q):(B=La.offset(n),k=n.clientHeight,P=n.clientWidth,R={left:n.scrollLeft,top:n.scrollTop},Z={left:p.left-(B.left+(parseFloat(La.css(n,"borderLeftWidth"))||0)),top:p.top-(B.top+(parseFloat(La.css(n,"borderTopWidth"))||0))},W={left:p.left+b-(B.left+P+(parseFloat(La.css(n,"borderRightWidth"))||0)),top:p.top+g-(B.top+k+(parseFloat(La.css(n,"borderBottomWidth"))||0))}),Z.top<0||W.top>0?o===!0?La.scrollTop(n,R.top+Z.top):o===!1?La.scrollTop(n,R.top+W.top):Z.top<0?La.scrollTop(n,R.top+Z.top):La.scrollTop(n,R.top+W.top):i||(o=o===void 0?!0:!!o,o?La.scrollTop(n,R.top+Z.top):La.scrollTop(n,R.top+W.top)),r&&(Z.left<0||W.left>0?s===!0?La.scrollLeft(n,R.left+Z.left):s===!1?La.scrollLeft(n,R.left+W.left):Z.left<0?La.scrollLeft(n,R.left+Z.left):La.scrollLeft(n,R.left+W.left):i||(s=s===void 0?!0:!!s,s?La.scrollLeft(n,R.left+Z.left):La.scrollLeft(n,R.left+W.left)))}var vhe=yhe,Che=vhe,_2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_he=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function bhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xhe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function whe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var I0=Sr,El=uh,Mhe=Nm,RT=Mhe.findDOMNode,She=Che,Ehe=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function Ohe(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var w5=function(e){whe(n,e);function n(t){bhe(this,n);var r=xhe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return _he(n,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,Ehe.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;She(RT(r),RT(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){n.keyDownHandlers[r.key]?n.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,s){return r.sortItems(o,s,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,s=i.value,a=i.getItemValue,p=o===null?0:o,g=this.getFilteredItems(i),b=0;b<g.length&&!i.isItemSelectable(g[p]);b++)p=(p+1)%g.length;var B=g[p]&&i.isItemSelectable(g[p])?g[p]:null;if(s!==""&&B){var k=a(B),P=k.toLowerCase().indexOf(s.toLowerCase())===0;if(P)return{highlightedIndex:p}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),s=parseInt(o.marginBottom,10)||0,a=parseInt(o.marginLeft,10)||0,p=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+s,menuLeft:i.left+a,menuWidth:i.width+a+p})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(a,p){var g=r.props.renderItem(a,r.state.highlightedIndex===p,{cursor:"default"});return I0.cloneElement(g,{onMouseEnter:r.props.isItemSelectable(a)?function(){return r.highlightItemFromMouse(p)}:null,onClick:r.props.isItemSelectable(a)?function(){return r.selectItemFromMouse(a)}:null,ref:function(B){return r.refs["item-"+p]=B}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},s=this.props.renderMenu(i,this.props.value,o);return I0.cloneElement(s,{ref:function(p){return r.refs.menu=p},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=Ohe(),this.refs.input.focus();return}var o=void 0,s=this.state.highlightedIndex;if(this.props.selectOnBlur&&s!==null){var a=this.getFilteredItems(this.props),p=a[s],g=this.props.getItemValue(p);o=function(){return i.props.onSelect(g,p)}}this.setState({isOpen:!1,highlightedIndex:null},o);var b=this.props.inputProps.onBlur;b&&b(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,s=o.x,a=o.y;this._scrollOffset=null,window.scrollTo(s,a),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(s,a)},0);return}this.setState({isOpen:!0});var p=this.props.inputProps.onFocus;p&&p(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return I0.createElement("div",_2({style:_2({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(_2({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&I0.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),n}(I0.Component);w5.propTypes={items:El.array.isRequired,value:El.any,onChange:El.func,onSelect:El.func,shouldItemRender:El.func,isItemSelectable:El.func,sortItems:El.func,getItemValue:El.func.isRequired,renderItem:El.func.isRequired,renderMenu:El.func,menuStyle:El.object,renderInput:El.func,inputProps:El.object,wrapperProps:El.object,wrapperStyle:El.object,autoHighlight:El.bool,selectOnBlur:El.bool,onMenuVisibilityChange:El.func,open:El.bool,debug:El.bool};w5.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(n){return I0.createElement("input",n)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(n,t,r){return I0.createElement("div",{style:_2({},r,this.menuStyle),children:n})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};w5.keyDownHandlers={ArrowDown:function(n){n.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<t.length;o++){var s=(i+o+1)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(n){n.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?t.length:r,o=0;o<t.length;o++){var s=(i-(1+o)+t.length)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i!==t.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(n){var t=this;if(n.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){t.refs.input.select()});else{n.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(i.length,i.length),t.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var Bhe=w5;const khe=ma(Bhe);function Wi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",n="6ef9facf9aeabdae687b5aca973710969d826d60",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Wi=function(){return s},s}Wi();const LT=(Wi().s[0]++,140);class $y extends xn.Component{constructor(){super(...arguments);nn(this,"state",(Wi().s[1]++,{maxHeight:LT}));nn(this,"autocompleteMenuEl",(Wi().s[2]++,null))}calcMaxHeight(){if(Wi().f[1]++,Wi().s[4]++,this.props.keepMenuWithinWindowBounds){Wi().b[0][0]++;const t=(Wi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Wi().s[6]++,Math.min(t,LT));Wi().s[7]++,r!=this.state.maxHeight?(Wi().b[1][0]++,Wi().s[8]++,this.setState({maxHeight:r})):Wi().b[1][1]++}else Wi().b[0][1]++}componentDidMount(){Wi().f[2]++,Wi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Wi().f[3]++,Wi().s[10]++,this.calcMaxHeight()}onChange(t){Wi().f[4]++,Wi().s[11]++,this.props.onChange(t===""?(Wi().b[2][0]++,void 0):(Wi().b[2][1]++,t))}render(){return Wi().f[5]++,Wi().s[12]++,N.jsx("div",{ref:t=>{Wi().f[6]++,Wi().s[13]++,this.autocompleteMenuEl=t},children:N.jsx(khe,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:t=>(Wi().f[7]++,Wi().s[14]++,t[0]),onSelect:t=>(Wi().f[8]++,Wi().s[15]++,this.onChange(t)),onChange:(t,r)=>(Wi().f[9]++,Wi().s[16]++,this.onChange(r)),shouldItemRender:(t,r=(Wi().b[3][0]++,""))=>(Wi().f[10]++,Wi().s[17]++,typeof r=="string"?(Wi().b[4][0]++,Wi().s[18]++,t[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Wi().b[4][1]++,Wi().s[19]++,!1)),renderItem:(t,r)=>(Wi().f[11]++,Wi().s[20]++,N.jsx("div",{className:pf({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:t[1]},t[0]))})})}}nn($y,"defaultProps",(Wi().s[3]++,{onChange:()=>{Wi().f[0]++},options:[]}));function sm(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",n="44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return sm=function(){return s},s}sm();class t8 extends xn.Component{render(){var n;return sm().f[1]++,sm().s[1]++,N.jsx(Po,{label:"Source",fieldSpec:Hi.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:N.jsx($y,{value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceIds)==null?void 0:n.map(t=>(sm().f[2]++,sm().s[2]++,[t,t]))})})}}nn(t8,"defaultProps",(sm().s[0]++,{onChange:()=>{sm().f[0]++},sourceIds:[]}));function lm(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",n="f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return lm=function(){return s},s}lm();class n8 extends xn.Component{render(){var n;return lm().f[1]++,lm().s[1]++,N.jsx(Po,{label:"Source Layer",fieldSpec:pa.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:N.jsx($y,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(n=this.props.sourceLayerIds)==null?void 0:n.map(t=>(lm().f[2]++,lm().s[2]++,[t,t]))})})}}nn(n8,"defaultProps",(lm().s[0]++,{onChange:()=>{lm().f[0]++},sourceLayerIds:[],isFixed:!1}));function ur(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",n="a7785e30671066cb83402b9013479a4548583811",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7785e30671066cb83402b9013479a4548583811"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ur=function(){return s},s}ur();class Ihe extends xn.Component{constructor(t){ur().f[1]++,ur().s[10]++;super(t);nn(this,"addLayer",(ur().s[0]++,()=>{ur().f[0]++;const t=(ur().s[1]++,this.props.layers.slice(0)),r=(ur().s[2]++,{id:this.state.id,type:this.state.type});ur().s[3]++,this.state.type!=="background"?(ur().b[0][0]++,ur().s[4]++,r.source=this.state.source,ur().s[5]++,ur().b[2][0]++,this.state.type!=="raster"&&(ur().b[2][1]++,this.state["source-layer"])?(ur().b[1][0]++,ur().s[6]++,r["source-layer"]=this.state["source-layer"]):ur().b[1][1]++):ur().b[0][1]++,ur().s[7]++,t.push(r),ur().s[8]++,this.props.onLayersChange(t),ur().s[9]++,this.props.onOpenToggle(!1)}));const r=(ur().s[11]++,{type:"fill",id:""});ur().s[12]++,t.sources.length>0?(ur().b[3][0]++,ur().s[13]++,r.source=Object.keys(this.props.sources)[0],ur().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):ur().b[3][1]++,ur().s[15]++,this.state=r}componentDidUpdate(t,r){ur().f[2]++;const i=(ur().s[16]++,r.type),o=(ur().s[17]++,this.state.type),s=(ur().s[18]++,this.getSources(i)),a=(ur().s[19]++,this.getSources(o));ur().s[20]++,ur().b[5][0]++,i!==o&&(ur().b[5][1]++,r.source!=="")&&(ur().b[5][2]++,s.indexOf(r.source)>-1)&&(ur().b[5][3]++,a.indexOf(this.state.source)<0)?(ur().b[4][0]++,ur().s[21]++,this.setState({source:""})):ur().b[4][1]++}getLayersForSource(t){ur().f[3]++;const r=(ur().s[22]++,ur().b[6][0]++,this.props.sources[t]||(ur().b[6][1]++,{}));return ur().s[23]++,ur().b[7][0]++,r.layers||(ur().b[7][1]++,[])}getSources(t){ur().f[4]++;const r=(ur().s[24]++,[]),i=(ur().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});ur().s[26]++;for(const[o,s]of Object.entries(this.props.sources)){const a=(ur().s[27]++,s.type);ur().s[28]++,ur().b[9][0]++,i[a]&&(ur().b[9][1]++,i[a].indexOf(t)>-1)?(ur().b[8][0]++,ur().s[29]++,r.push(o)):ur().b[8][1]++}return ur().s[30]++,r}render(){ur().f[5]++;const t=(ur().s[31]++,this.getSources(this.state.type)),r=(ur().s[32]++,this.getLayersForSource(this.state.source));return ur().s[33]++,N.jsx(Sf,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:N.jsxs("div",{className:"maputnik-add-layer",children:[N.jsx(Jj,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{ur().f[6]++,ur().s[34]++,this.setState({id:i})}}),N.jsx(J7,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(ur().f[7]++,ur().s[35]++,this.setState({type:i}))}),(ur().b[10][0]++,this.state.type!=="background"&&(ur().b[10][1]++,N.jsx(t8,{sourceIds:t,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(ur().f[8]++,ur().s[36]++,this.setState({source:i}))}))),(ur().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(ur().b[11][1]++,N.jsx(n8,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(ur().f[9]++,ur().s[37]++,this.setState({"source-layer":i}))}))),N.jsx(Ba,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function W0(){var e="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",n="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return W0=function(){return s},s}W0();let zT=(W0().s[0]++,0);function By(e=(W0().b[0][0]++,"")){return W0().f[0]++,W0().s[1]++,zT++,W0().s[2]++,e+zT}function Xr(){var e="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",n="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Xr=function(){return s},s}Xr();function The(e,n){Xr().f[0]++;const t=(Xr().s[0]++,{...e.paint});Xr().s[1]++,Object.keys(t).forEach(i=>{Xr().f[1]++,Xr().s[2]++,i in pa["paint_"+n]?Xr().b[0][1]++:(Xr().b[0][0]++,Xr().s[3]++,delete t[i])});const r=(Xr().s[4]++,{...e.layout});return Xr().s[5]++,Object.keys(r).forEach(i=>{Xr().f[2]++,Xr().s[6]++,i in pa["layout_"+n]?Xr().b[1][1]++:(Xr().b[1][0]++,Xr().s[7]++,delete r[i])}),Xr().s[8]++,{...e,paint:t,layout:r,type:n}}function Khe(e,n,t,r){if(Xr().f[3]++,Xr().s[9]++,r===void 0)if(Xr().b[2][0]++,Xr().s[10]++,n){Xr().b[3][0]++;const i=(Xr().s[11]++,{...e,[n]:{...e[n]}});return Xr().s[12]++,delete i[n][t],Xr().s[13]++,Object.keys(i[n]).length<1?(Xr().b[4][0]++,Xr().s[14]++,delete i[n]):Xr().b[4][1]++,Xr().s[15]++,i}else{Xr().b[3][1]++;const i=(Xr().s[16]++,{...e});return Xr().s[17]++,delete i[t],Xr().s[18]++,i}else return Xr().b[2][1]++,Xr().s[19]++,n?(Xr().b[5][0]++,Xr().s[20]++,{...e,[n]:{...e[n],[t]:r}}):(Xr().b[5][1]++,Xr().s[21]++,{...e,[t]:r})}function Ng(e){return Xr().f[4]++,Xr().s[22]++,e.replace(" ","-").replace("_","-").split("-")[0]}function Phe(e,n){Xr().f[5]++;const t=(Xr().s[23]++,Ng(e[n].id));let r=(Xr().s[24]++,n);Xr().s[25]++;for(let i=(Xr().s[26]++,n);i>0;i--){const o=(Xr().s[27]++,Ng(e[i-1].id));if(Xr().s[28]++,o===t)Xr().b[6][0]++,Xr().s[29]++,r=i-1;else return Xr().b[6][1]++,Xr().s[30]++,r}return Xr().s[31]++,r}function $t(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",n="a7cd6405e81ca6260ef85d5394a18c33340b5775",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7cd6405e81ca6260ef85d5394a18c33340b5775"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return $t=function(){return s},s}$t();class aW extends xn.Component{constructor(t){$t().f[1]++,$t().s[1]++;super(t);nn(this,"selectedItemRef");nn(this,"scrollContainerRef");nn(this,"toggleLayers",($t().s[6]++,()=>{$t().f[3]++;let t=($t().s[7]++,0);const r=($t().s[8]++,{});$t().s[9]++,this.groupedLayers().forEach(i=>{$t().f[4]++;const o=($t().s[10]++,Ng(i[0].id)),s=($t().s[11]++,[o,t].join("-"));$t().s[12]++,i.length>1?($t().b[0][0]++,$t().s[13]++,r[s]=this.state.areAllGroupsExpanded):$t().b[0][1]++,$t().s[14]++,i.forEach(a=>{$t().f[5]++,$t().s[15]++,t+=1})}),$t().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));$t().s[2]++,this.selectedItemRef=xn.createRef(),$t().s[3]++,this.scrollContainerRef=xn.createRef(),$t().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+By()},isOpen:{add:!1}}}toggleModal(t){$t().f[2]++,$t().s[5]++,this.setState({keys:{...this.state.keys,[t]:+By()},isOpen:{...this.state.isOpen,[t]:!this.state.isOpen[t]}})}groupedLayers(){$t().f[6]++;const t=($t().s[17]++,[]),r=($t().s[18]++,new Map);$t().s[19]++;for(let i=($t().s[20]++,0);i<this.props.layers.length;i++){const o=($t().s[21]++,this.props.layers[i]),s=($t().s[22]++,this.props.layers[i-1]);$t().s[23]++,r.set(o.id,r.has(o.id)?($t().b[1][0]++,r.get(o.id)+1):($t().b[1][1]++,0));const a=($t().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if($t().s[25]++,$t().b[3][0]++,s&&($t().b[3][1]++,Ng(s.id)==Ng(a.id))){$t().b[2][0]++;const p=($t().s[26]++,t[t.length-1]);$t().s[27]++,p.push(a)}else $t().b[2][1]++,$t().s[28]++,t.push([a])}return $t().s[29]++,t}toggleLayerGroup(t,r){$t().f[7]++;const i=($t().s[30]++,[t,r].join("-")),o=($t().s[31]++,{...this.state.collapsedGroups});$t().s[32]++,i in this.state.collapsedGroups?($t().b[4][0]++,$t().s[33]++,o[i]=!this.state.collapsedGroups[i]):($t().b[4][1]++,$t().s[34]++,o[i]=!1),$t().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(t,r){$t().f[8]++;const i=($t().s[36]++,this.state.collapsedGroups[[t,r].join("-")]);return $t().s[37]++,i===void 0?($t().b[5][0]++,!0):($t().b[5][1]++,i)}shouldComponentUpdate(t,r){if($t().f[9]++,$t().s[38]++,this.state!==r)return $t().b[6][0]++,$t().s[39]++,!0;$t().b[6][1]++;function i(g){$t().f[10]++;const b=($t().s[40]++,{id:g.id});return $t().s[41]++,g.layout?($t().b[7][0]++,$t().s[42]++,b.layout={visibility:g.layout.visibility}):$t().b[7][1]++,$t().s[43]++,b}const o=($t().s[44]++,f6.isEqual(t.layers.map(i),this.props.layers.map(i)));function s(g){$t().f[11]++;const b=($t().s[45]++,{...g});return $t().s[46]++,delete b.layers,$t().s[47]++,b}const a=($t().s[48]++,f6.isEqual(s(this.props),s(t))),p=($t().s[49]++,$t().b[8][0]++,!(o&&($t().b[8][1]++,a)));return $t().s[50]++,p}componentDidUpdate(t){if($t().f[12]++,$t().s[51]++,t.selectedLayerIndex!==this.props.selectedLayerIndex){$t().b[9][0]++;const r=($t().s[52]++,this.selectedItemRef.current);if($t().s[53]++,$t().b[11][0]++,r&&($t().b[11][1]++,r.node)){$t().b[10][0]++;const i=($t().s[54]++,r.node),o=($t().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),s=($t().s[56]++,new IntersectionObserver(a=>{$t().f[13]++,$t().s[57]++,s.unobserve(i),$t().s[58]++,$t().b[13][0]++,a.length>0&&($t().b[13][1]++,a[0].intersectionRatio<1)?($t().b[12][0]++,$t().s[59]++,i.scrollIntoView()):$t().b[12][1]++},o));$t().s[60]++,s.observe(i)}else $t().b[10][1]++}else $t().b[9][1]++}render(){$t().f[14]++;const t=($t().s[61]++,[]);let r=($t().s[62]++,0);const i=($t().s[63]++,this.groupedLayers());return $t().s[64]++,i.forEach(o=>{$t().f[15]++;const s=($t().s[65]++,Ng(o[0].id));if($t().s[66]++,o.length>1){$t().b[14][0]++;const a=($t().s[67]++,N.jsx(YAe,{"data-wd-key":[s,r].join("-"),"aria-controls":o.map(p=>($t().f[16]++,$t().s[68]++,p.key)).join(" "),title:s,isActive:($t().b[15][0]++,!this.isCollapsed(s,r)||($t().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,s,r)},`group-${s}-${r}`));$t().s[69]++,t.push(a)}else $t().b[14][1]++;$t().s[70]++,o.forEach((a,p)=>{var P;$t().f[17]++;const g=($t().s[71]++,Phe(this.props.layers,r)),b=($t().s[72]++,this.props.errors.find(R=>($t().f[18]++,$t().s[73]++,$t().b[16][0]++,R.parsed&&($t().b[16][1]++,R.parsed.type==="layer")&&($t().b[16][2]++,R.parsed.data.index==r)))),B=($t().s[74]++,{});$t().s[75]++,r===this.props.selectedLayerIndex?($t().b[17][0]++,$t().s[76]++,B.ref=this.selectedItemRef):$t().b[17][1]++;const k=($t().s[77]++,N.jsx(Mce,{className:pf({"maputnik-layer-list-item-collapsed":($t().b[18][0]++,o.length>1&&($t().b[18][1]++,this.isCollapsed(s,g))&&($t().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":($t().b[19][0]++,p==o.length-1&&($t().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!b}),index:r,id:a.key,layerId:a.id,layerIndex:r,layerType:a.type,visibility:($t().b[20][0]++,a.layout||($t().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(P=this.props.onLayerDestroy)==null?void 0:P.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...B},a.key));$t().s[78]++,t.push(k),$t().s[79]++,r+=1})}),$t().s[80]++,N.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[N.jsx(Ihe,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),N.jsxs("header",{className:"maputnik-layer-list-header",children:[N.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),N.jsx("span",{className:"maputnik-space"}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?($t().b[21][0]++,"Collapse"):($t().b[21][1]++,"Expand")})})}),N.jsx("div",{className:"maputnik-default-property",children:N.jsx("div",{className:"maputnik-multibutton",children:N.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),N.jsx("div",{role:"navigation","aria-label":"Layers list",children:N.jsx("ul",{className:"maputnik-layer-list-container",children:t})})]})}}nn(aW,"defaultProps",($t().s[0]++,{onLayerSelect:()=>{$t().f[0]++}}));const Fhe=($t().s[81]++,_ce(e=>($t().f[19]++,$t().s[82]++,N.jsx(aW,{...e}))));class Dhe extends xn.Component{render(){return $t().f[20]++,$t().s[83]++,N.jsx(Fhe,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>($t().f[21]++,$t().s[84]++,!1)})}}var M5={},sW="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function Uhe(e,n){M5[e]=n}function Rhe(e){delete M5[e]}function Lhe(e,n){var t=M5[e];if(!t)throw new Error("Cannot open "+sW);t.openMenu(n)}function zhe(e,n){var t=M5[e];if(!t)throw new Error("Cannot close "+sW);t.closeMenu(n)}var lW={registerManager:Uhe,unregisterManager:Rhe,openMenu:Lhe,closeMenu:zhe};function ws(e){e=e||{};var n=e.keybindings||{};this._settings={keybindings:{next:n.next||{keyCode:40},prev:n.prev||{keyCode:38},first:n.first,last:n.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var t,r;for(t in this._settings.keybindings)r=this._settings.keybindings[t],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:t,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}ws.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};ws.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};ws.prototype._handleKeydownEvent=function(e){var n=this._getActiveElementIndex();if(n!==-1){var t=!1;this._keybindingsLookup.forEach((function(r){if(jhe(r.eventMatcher,e))switch(t=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),t||this._handleUnboundKey(e)}};ws.prototype.moveFocusForward=function(){var e=this._getActiveElementIndex(),n;return e<this._members.length-1?n=e+1:this._settings.wrap?n=0:n=e,this.focusNodeAtIndex(n),n};ws.prototype.moveFocusBack=function(){var e=this._getActiveElementIndex(),n;return e>0?n=e-1:this._settings.wrap?n=this._members.length-1:n=e,this.focusNodeAtIndex(n),n};ws.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};ws.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};ws.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(this._searchString!==""&&(e.key===" "||e.keyCode===32))return e.preventDefault(),-1;if(!Whe(e.keyCode)||e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}};ws.prototype._clearSearchString=function(){this._searchString=""};ws.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()};ws.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)};ws.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};ws.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};ws.prototype.moveFocusByString=function(e){for(var n,t=0,r=this._members.length;t<r;t++)if(n=this._members[t],!!n.text&&n.text.indexOf(e)===0)return uW(n.node)};ws.prototype._findIndexOfNode=function(e){for(var n=0,t=this._members.length;n<t;n++)if(this._members[n].node===e)return n;return-1};ws.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};ws.prototype.focusNodeAtIndex=function(e){var n=this._members[e];return n&&uW(n.node),this};ws.prototype.addMember=function(e,n){var t=e.node||e,r=e.text||t.getAttribute("data-focus-group-text")||t.textContent||"";this._checkNode(t);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:t,text:i};return n!=null?this._members.splice(n,0,o):this._members.push(o),this};ws.prototype.removeMember=function(e){var n=typeof e=="number"?e:this._findIndexOfNode(e);if(n!==-1)return this._members.splice(n,1),this};ws.prototype.clearMembers=function(){return this._members=[],this};ws.prototype.setMembers=function(e){this.clearMembers();for(var n=0,t=e.length;n<t;n++)this.addMember(e[n]);return this};ws.prototype.getMembers=function(){return this._members};ws.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function jhe(e,n){for(var t in e)if(n[t]!==void 0&&e[t]!==n[t])return!1;return!0}function Whe(e){return e>=65&&e<=90}function uW(e){!e||!e.focus||(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var Nhe=function(n){return new ws(n)},Ghe=Nhe,jT=lW,Qhe={wrap:!0,stringSearch:!0},$he={init:function(n){this.updateOptions(n),this.handleBlur=Yhe.bind(this),this.handleSelection=qhe.bind(this),this.handleMenuKey=Vhe.bind(this),this.focusGroup=Ghe(Qhe),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(n){var t=this.options;this.options=n||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&jT.registerManager(this.options.id,this),t&&t.id&&t.id!==this.options.id&&jT.unregisterManager(this.options.id,this)},focusItem:function(n){this.focusGroup.focusNodeAtIndex(n)},addItem:function(n){this.focusGroup.addMember(n)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(n){this.focusGroup._handleUnboundKey(n)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(n){if(!this.isOpen&&(n=n||{},n.focusMenu===void 0&&(n.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),n.focusMenu)){var t=this;this.moveFocusTimer=setTimeout(function(){t.focusItem(0)},0)}},closeMenu:function(n){this.isOpen&&(n=n||{},this.isOpen=!1,this.update(),n.focusButton&&this.button.ref.current.focus())},toggleMenu:function(n,t){n=n||{},t=t||{},this.isOpen?this.closeMenu(n):this.openMenu(t)}};function Yhe(){var e=this;e.blurTimer=setTimeout(function(){if(e.button){var n=e.button.ref.current;if(n){var t=n.ownerDocument.activeElement;if(!(n&&t===n)){var r=e.menu.ref.current;if(r===t){e.focusItem(0);return}r&&r.contains(t)||e.isOpen&&e.closeMenu({focusButton:!1})}}}},0)}function qhe(e,n){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,n)}function Vhe(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast();break}}var Hhe=function(e){var n=Object.create($he);return n.init(e),n},Zhe=Sr,Xhe=Zhe.createContext(),S5=Xhe,zx=uh,E5={refType:zx.oneOfType([zx.func,zx.shape({current:zx.elementType})])},O5=function(e,n,t){t=t||{};for(var r in n)n.hasOwnProperty(r)&&(t[r]||(e[r]=n[r]))};function Jhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function efe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function tfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var kC=Sr,dg=uh,nfe=Hhe,rfe=S5,ife=E5,ofe=ife.refType,FE=O5,Z3={children:dg.node.isRequired,forwardedRef:ofe,onMenuToggle:dg.func,onSelection:dg.func,closeOnSelection:dg.bool,closeOnBlur:dg.bool,tag:dg.string},WT=function(n){return{onMenuToggle:n.onMenuToggle,onSelection:n.onSelection,closeOnSelection:n.closeOnSelection,closeOnBlur:n.closeOnBlur,id:n.id}},r8=function(e){tfe(n,e);function n(t){Jhe(this,n);var r=efe(this,e.call(this,t));return r.manager=nfe(WT(t)),r}return n.prototype.componentDidUpdate=function(){this.manager.updateOptions(WT(this.props))},n.prototype.render=function(){var r={};return FE(r,this.props,Z3),kC.createElement(rfe.Provider,{value:this.manager},kC.createElement(this.props.tag,r,this.props.children))},n}(kC.Component);r8.propTypes=Z3;r8.defaultProps={tag:"div"};var afe=kC.forwardRef(function(e,n){var t={forwardedRef:n};return FE(t,e,{children:Z3.children,forwardedRef:Z3.forwardedRef}),FE(t,{forwardedRef:n}),kC.createElement(r8,t,e.children)});function sfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function NT(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function lfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Ay=Sr,jx=uh,ufe=S5,Afe=E5,cfe=Afe.refType,b2=O5,IC={ambManager:jx.object.isRequired,children:jx.node.isRequired,disabled:jx.bool,forwardedRef:cfe,tag:jx.string},dfe=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},i8=function(e){lfe(n,e);function n(){var t,r,i;sfe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=NT(this,e.call.apply(e,[this].concat(s))),r),r.ref=Ay.createRef(),r.handleKeyDown=function(p){if(!r.props.disabled){var g=r.props.ambManager;switch(p.key){case"ArrowDown":p.preventDefault(),g.isOpen?g.focusItem(0):g.openMenu();break;case"Enter":case" ":p.preventDefault(),g.toggleMenu();break;case"Escape":g.handleMenuKey(p);break;default:g.handleButtonNonArrowKey(p)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(p){r.ref.current=p,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(p):r.props.forwardedRef&&(r.props.forwardedRef.current=p)},t),NT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.button=this},n.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},s={};return b2(s,IC),dfe().indexOf(r.tag)>=0&&delete s.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),b2(o,r,s),b2(o,{ref:this.setRef}),Ay.createElement(r.tag,o,r.children)},n}(Ay.Component);i8.propTypes=IC;i8.defaultProps={tag:"span"};var hfe=Ay.forwardRef(function(e,n){return Ay.createElement(ufe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return b2(r,e,{ambManager:IC.ambManager,children:IC.children,forwardedRef:IC.forwardedRef}),Ay.createElement(i8,r,e.children)})}),ffe=function(n,t,r){var i=0,o=0,s=!1,a=!1,p=!1;n.addEventListener("click",g,r),n.addEventListener("touchstart",b,r);function g(W){p||t(W)}function b(W){p=!0,!s&&(s=!0,n.addEventListener("touchmove",B,r),n.addEventListener("touchend",k,r),n.addEventListener("touchcancel",P,r),a=!1,i=W.touches[0].clientX,o=W.touches[0].clientY)}function B(W){a||Math.abs(W.touches[0].clientX-i)<=10&&Math.abs(W.touches[0].clientY-o)<=10||(a=!0)}function k(W){s=!1,R(),a||t(W)}function P(){s=!1,a=!1,i=0,o=0}function R(){n.removeEventListener("touchmove",B,r),n.removeEventListener("touchend",k,r),n.removeEventListener("touchcancel",P,r)}function Z(){n.removeEventListener("click",g,r),n.removeEventListener("touchstart",b,r),R()}return{remove:Z}};function pfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GT(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function mfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var cy=Sr,Qv=uh,gfe=ffe,yfe=S5,vfe=E5,Cfe=vfe.refType,DE=O5,TC={ambManager:Qv.object.isRequired,children:Qv.oneOfType([Qv.func,Qv.node]).isRequired,forwardedRef:Cfe,tag:Qv.string},o8=function(e){mfe(n,e);function n(){var t,r,i;pfe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=GT(this,e.call.apply(e,[this].concat(s))),r),r.ref=cy.createRef(),r.addTapListener=function(){var p=r.ref.current;if(p){var g=p.ownerDocument;g&&(r.tapListener=gfe(g.documentElement,r.handleTap))}},r.handleTap=function(p){r.ref.current.contains(p.target)||r.props.ambManager.button.ref.current.contains(p.target)||r.props.ambManager.closeMenu()},r.setRef=function(p){r.ref.current=p,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(p):r.props.forwardedRef&&(r.props.forwardedRef.current=p)},t),GT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.menu=this},n.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},n.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},n.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var s={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(s.onBlur=i.handleBlur),DE(s,r,TC),DE(s,{ref:this.setRef}),cy.createElement(r.tag,s,o)},n}(cy.Component);o8.propTypes=TC;o8.defaultProps={tag:"div"};var _fe=cy.forwardRef(function(e,n){return cy.createElement(yfe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return DE(r,e,{ambManager:TC.ambManager,children:TC.children,forwardedRef:TC.forwardedRef}),cy.createElement(o8,r,e.children)})});function bfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function QT(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function xfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var dy=Sr,$v=uh,wfe=S5,Mfe=E5,Sfe=Mfe.refType,AW=O5,KC={ambManager:$v.object.isRequired,children:$v.node.isRequired,forwardedRef:Sfe,tag:$v.string,text:$v.string,value:$v.any},a8=function(e){xfe(n,e);function n(){var t,r,i;bfe(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=QT(this,e.call.apply(e,[this].concat(s))),r),r.ref=dy.createRef(),r.handleKeyDown=function(p){p.key!=="Enter"&&p.key!==" "||r.props.tag==="a"&&r.props.href||(p.preventDefault(),r.selectItem(p))},r.selectItem=function(p){var g=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(g,p)},r.setRef=function(p){r.ref.current=p,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(p):r.props.forwardedRef&&(r.props.forwardedRef.current=p)},t),QT(r,i)}return n.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},n.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return AW(r,this.props,KC),dy.createElement(this.props.tag,r,this.props.children)},n}(dy.Component);a8.propTypes=KC;a8.defaultProps={tag:"div"};var Efe=dy.forwardRef(function(e,n){return dy.createElement(wfe.Consumer,null,function(t){var r={ambManager:t,forwardedRef:n};return AW(r,e,{ambManager:KC.ambManager,children:KC.children,forwardedRef:KC.forwardedRef}),dy.createElement(a8,r,e.children)})}),$T=lW,Wx={Wrapper:afe,Button:hfe,Menu:_fe,MenuItem:Efe,openMenu:$T.openMenu,closeMenu:$T.closeMenu};function B5(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YT(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s8(e,n,t){return n&&YT(e.prototype,n),t&&YT(e,t),e}function ss(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function vf(){return vf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},vf.apply(this,arguments)}function qT(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function UE(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?qT(Object(t),!0).forEach(function(r){ss(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qT(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l8(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&RE(e,n)}function X3(e){return X3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X3(e)}function RE(e,n){return RE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},RE(e,n)}function Ofe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Bfe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function k5(e,n){if(e==null)return{};var t=Bfe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function nh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kfe(e,n){return n&&(typeof n=="object"||typeof n=="function")?n:nh(e)}function u8(e){var n=Ofe();return function(){var r=X3(e),i;if(n){var o=X3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kfe(this,i)}}function Ife(e,n){return Pfe(e)||Dfe(e,n)||cW(e,n)||Rfe()}function Tfe(e){return Kfe(e)||Ffe(e)||cW(e)||Ufe()}function Kfe(e){if(Array.isArray(e))return LE(e)}function Pfe(e){if(Array.isArray(e))return e}function Ffe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dfe(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(t.push(a.value),!(n&&t.length===n));r=!0);}catch(p){i=!0,o=p}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return t}}function cW(e,n){if(e){if(typeof e=="string")return LE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LE(e,n)}}function LE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Lfe=function e(n){var t=this,r=n.expanded,i=r===void 0?[]:r,o=n.allowMultipleExpanded,s=o===void 0?!1:o,a=n.allowZeroExpanded,p=a===void 0?!1:a;B5(this,e),ss(this,"expanded",void 0),ss(this,"allowMultipleExpanded",void 0),ss(this,"allowZeroExpanded",void 0),ss(this,"toggleExpanded",function(g){if(t.isItemDisabled(g))return t;var b=t.isItemExpanded(g);return b?t.augment({expanded:t.expanded.filter(function(B){return B!==g})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(Tfe(t.expanded),[g]):[g]})}),ss(this,"isItemDisabled",function(g){var b=t.isItemExpanded(g),B=t.expanded.length===1;return!!(b&&!t.allowZeroExpanded&&B)}),ss(this,"isItemExpanded",function(g){return t.expanded.indexOf(g)!==-1}),ss(this,"getPanelAttributes",function(g,b){var B=b??t.isItemExpanded(g);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!B:void 0,"aria-labelledby":t.getButtonId(g),id:t.getPanelId(g),hidden:B?void 0:!0}}),ss(this,"getHeadingAttributes",function(){return{role:"heading"}}),ss(this,"getButtonAttributes",function(g,b){var B=b??t.isItemExpanded(g),k=t.isItemDisabled(g);return{id:t.getButtonId(g),"aria-disabled":k,"aria-expanded":B,"aria-controls":t.getPanelId(g),role:"button",tabIndex:0}}),ss(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),ss(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),ss(this,"augment",function(g){return new e(UE({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},g))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=p},dW=Sr.createContext(null),hW=function(e){l8(t,e);var n=u8(t);function t(){var r;B5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ss(nh(r),"state",new Lfe({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),ss(nh(r),"toggleExpanded",function(a){r.setState(function(p){return p.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),ss(nh(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),ss(nh(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),ss(nh(r),"getPanelAttributes",function(a,p){return r.state.getPanelAttributes(a,p)}),ss(nh(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),ss(nh(r),"getButtonAttributes",function(a,p){return r.state.getButtonAttributes(a,p)}),r}return s8(t,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return Sr.createElement(dW.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(Sr.PureComponent);ss(hW,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var fW=function(e){l8(t,e);var n=u8(t);function t(){var r;B5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ss(nh(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return s8(t,[{key:"render",value:function(){return Sr.createElement(dW.Consumer,null,this.renderChildren)}}]),t}(Sr.PureComponent),zfe=function(n){var t=n.className,r=t===void 0?"accordion":t,i=n.allowMultipleExpanded,o=n.allowZeroExpanded,s=n.onChange,a=n.preExpanded,p=k5(n,["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"]);return Sr.createElement(hW,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},Sr.createElement("div",vf({"data-accordion-component":"Accordion",className:r},p)))},zE;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(zE||(zE={}));var pW=zE,jfe=0,QM=jfe;function Wfe(){var e=QM;return QM=QM+1,"raa-".concat(e)}var Nfe=/[\u0009\u000a\u000c\u000d\u0020]/g;function C_(e){return e===""||Nfe.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var mW=Sr.createContext(null),Gfe=function(n){var t=n.children,r=n.uuid,i=n.accordionContext,o=n.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(g){var b=o??g.isItemExpanded(r),B=g.isItemDisabled(r),k=g.getPanelAttributes(r,o),P=g.getHeadingAttributes(r),R=g.getButtonAttributes(r,o);return Sr.createElement(mW.Provider,{value:{uuid:r,expanded:b,disabled:B,toggleExpanded:s,panelAttributes:k,headingAttributes:P,buttonAttributes:R}},t)};return Sr.createElement(fW,null,a)},Qfe=function(n){return Sr.createElement(fW,null,function(t){return Sr.createElement(Gfe,vf({},n,{accordionContext:t}))})},I5=function(n){var t=n.children,r=function(o){return o?t(o):null};return Sr.createElement(mW.Consumer,null,r)},gW=function(n){var t=n.uuid,r=n.dangerouslySetExpanded,i=n.className,o=i===void 0?"accordion__item":i,s=n.activeClassName,a=k5(n,["uuid","dangerouslySetExpanded","className","activeClassName"]),p=Sr.useState(Wfe()),g=Ife(p,1),b=g[0],B=t??b,k=function(R){var Z=R.expanded,W=Z&&s?s:o;return Sr.createElement("div",vf({"data-accordion-component":"AccordionItem",className:W},a))};return C_(B.toString()),a.id&&C_(a.id),Sr.createElement(Qfe,{uuid:B,dangerouslySetExpanded:r},Sr.createElement(I5,null,k))};gW.displayName=pW.AccordionItem;function yW(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:yW(e.parentElement))}function T5(e){var n=yW(e);return n&&Array.from(n.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function $fe(e){var n=T5(e)||[],t=n[0];t&&t.focus()}function Yfe(e){var n=T5(e)||[],t=n[n.length-1];t&&t.focus()}function qfe(e){var n=T5(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t+1];r&&r.focus()}}function Vfe(e){var n=T5(e)||[],t=n.indexOf(e);if(t!==-1){var r=n[t-1];r&&r.focus()}}var Jf={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Hfe=function(n){var t=n.toggleExpanded,r=n.className,i=r===void 0?"accordion__button":r,o=k5(n,["toggleExpanded","className"]),s=function(p){var g=p.key;if((g===Jf.ENTER||g===Jf.SPACE||g===Jf.SPACE_DEPRECATED)&&(p.preventDefault(),t()),p.target instanceof HTMLElement)switch(g){case Jf.HOME:{p.preventDefault(),$fe(p.target);break}case Jf.END:{p.preventDefault(),Yfe(p.target);break}case Jf.LEFT:case Jf.UP:{p.preventDefault(),Vfe(p.target);break}case Jf.RIGHT:case Jf.DOWN:{p.preventDefault(),qfe(p.target);break}}};return o.id&&C_(o.id),Sr.createElement("div",vf({className:i},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},Zfe=function(n){return Sr.createElement(I5,null,function(t){var r=t.toggleExpanded,i=t.buttonAttributes;return Sr.createElement(Hfe,vf({toggleExpanded:r},n,i))})},Xfe={className:"accordion__heading","aria-level":3},Jfe=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,vW=function(e){l8(t,e);var n=u8(t);function t(){var r;B5(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ss(nh(r),"ref",void 0),ss(nh(r),"setRef",function(a){r.ref=a}),r}return s8(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Sr.createElement("div",vf({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(Jfe)}}]),t}(Sr.PureComponent);ss(vW,"defaultProps",Xfe);var CW=function(n){return Sr.createElement(I5,null,function(t){var r=t.headingAttributes;return n.id&&C_(n.id),Sr.createElement(vW,vf({},n,r))})};CW.displayName=pW.AccordionItemHeading;var epe=function(n){var t=n.className,r=t===void 0?"accordion__panel":t,i=n.region,o=n.id,s=k5(n,["className","region","id"]),a=function(g){var b=g.panelAttributes;o&&C_(o);var B=UE(UE({},b),{},{"aria-labelledby":i?b["aria-labelledby"]:void 0});return Sr.createElement("div",vf({"data-accordion-component":"AccordionItemPanel",className:r},s,B,{role:i?"region":void 0}))};return Sr.createElement(I5,null,a)},$M={exports:{}},VT;function K5(){return VT||(VT=1,function(e,n){(function(t,r){e.exports=r()})(_f,function(){var t=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),p=o||s||a,g=p&&(o?document.documentMode||6:+(a||s)[1]),b=!a&&/WebKit\//.test(t),B=b&&/Qt\/\d+\.\d+/.test(t),k=!a&&/Chrome\/(\d+)/.exec(t),P=k&&+k[1],R=/Opera\//.test(t),Z=/Apple Computer/.test(navigator.vendor),W=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),Q=/PhantomJS/.test(t),q=Z&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),oe=/Android/.test(t),re=q||oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),ce=q||/Mac/.test(r),se=/\bCrOS\b/.test(t),le=/win/i.test(r),ye=R&&t.match(/Version\/(\d*\.\d*)/);ye&&(ye=Number(ye[1])),ye&&ye>=15&&(R=!1,b=!0);var De=ce&&(B||R&&(ye==null||ye<12.11)),Ne=i||p&&g>=9;function et(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var ft=function(A,h){var x=A.className,_=et(h).exec(x);if(_){var E=x.slice(_.index+_[0].length);A.className=x.slice(0,_.index)+(E?_[1]+E:"")}};function Ke(A){for(var h=A.childNodes.length;h>0;--h)A.removeChild(A.firstChild);return A}function rt(A,h){return Ke(A).appendChild(h)}function Ce(A,h,x,_){var E=document.createElement(A);if(x&&(E.className=x),_&&(E.style.cssText=_),typeof h=="string")E.appendChild(document.createTextNode(h));else if(h)for(var U=0;U<h.length;++U)E.appendChild(h[U]);return E}function Rt(A,h,x,_){var E=Ce(A,h,x,_);return E.setAttribute("role","presentation"),E}var jt;document.createRange?jt=function(A,h,x,_){var E=document.createRange();return E.setEnd(_||A,x),E.setStart(A,h),E}:jt=function(A,h,x){var _=document.body.createTextRange();try{_.moveToElementText(A.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",x),_.moveStart("character",h),_};function tn(A,h){if(h.nodeType==3&&(h=h.parentNode),A.contains)return A.contains(h);do if(h.nodeType==11&&(h=h.host),h==A)return!0;while(h=h.parentNode)}function Qt(A){var h=A.ownerDocument||A,x;try{x=A.activeElement}catch{x=h.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function He(A,h){var x=A.className;et(h).test(x)||(A.className+=(x?" ":"")+h)}function Je(A,h){for(var x=A.split(" "),_=0;_<x.length;_++)x[_]&&!et(x[_]).test(h)&&(h+=" "+x[_]);return h}var tt=function(A){A.select()};q?tt=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:p&&(tt=function(A){try{A.select()}catch{}});function rn(A){return A.display.wrapper.ownerDocument}function mt(A){return dt(A.display.wrapper)}function dt(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function kt(A){return rn(A).defaultView}function Pt(A){var h=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,h)}}function Me(A,h,x){h||(h={});for(var _ in A)A.hasOwnProperty(_)&&(x!==!1||!h.hasOwnProperty(_))&&(h[_]=A[_]);return h}function he(A,h,x,_,E){h==null&&(h=A.search(/[^\s\u00a0]/),h==-1&&(h=A.length));for(var U=_||0,$=E||0;;){var J=A.indexOf("	",U);if(J<0||J>=h)return $+(h-U);$+=J-U,$+=x-$%x,U=J+1}}var be=function(){this.id=null,this.f=null,this.time=0,this.handler=Pt(this.onTimeout,this)};be.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},be.prototype.set=function(A,h){this.f=h;var x=+new Date+A;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=x)};function Pe(A,h){for(var x=0;x<A.length;++x)if(A[x]==h)return x;return-1}var Ze=50,nt={toString:function(){return"CodeMirror.Pass"}},xt={scroll:!1},Ft={origin:"*mouse"},Dt={origin:"+move"};function pt(A,h,x){for(var _=0,E=0;;){var U=A.indexOf("	",_);U==-1&&(U=A.length);var $=U-_;if(U==A.length||E+$>=h)return _+Math.min($,h-E);if(E+=U-_,E+=x-E%x,_=U+1,E>=h)return _}}var nr=[""];function pn(A){for(;nr.length<=A;)nr.push(bn(nr)+" ");return nr[A]}function bn(A){return A[A.length-1]}function Jn(A,h){for(var x=[],_=0;_<A.length;_++)x[_]=h(A[_],_);return x}function mr(A,h,x){for(var _=0,E=x(h);_<A.length&&x(A[_])<=E;)_++;A.splice(_,0,h)}function xr(){}function Nr(A,h){var x;return Object.create?x=Object.create(A):(xr.prototype=A,x=new xr),h&&Me(h,x),x}var Cr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fi(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||Cr.test(A))}function we(A,h){return h?h.source.indexOf("\\w")>-1&&fi(A)?!0:h.test(A):fi(A)}function H(A){for(var h in A)if(A.hasOwnProperty(h)&&A[h])return!1;return!0}var Y=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Be(A){return A.charCodeAt(0)>=768&&Y.test(A)}function st(A,h,x){for(;(x<0?h>0:h<A.length)&&Be(A.charAt(h));)h+=x;return h}function St(A,h,x){for(var _=h>x?-1:1;;){if(h==x)return h;var E=(h+x)/2,U=_<0?Math.ceil(E):Math.floor(E);if(U==h)return A(U)?h:x;A(U)?x=U:h=U+_}}function Et(A,h,x,_){if(!A)return _(h,x,"ltr",0);for(var E=!1,U=0;U<A.length;++U){var $=A[U];($.from<x&&$.to>h||h==x&&$.to==h)&&(_(Math.max($.from,h),Math.min($.to,x),$.level==1?"rtl":"ltr",U),E=!0)}E||_(h,x,"ltr")}var Nt=null;function mn(A,h,x){var _;Nt=null;for(var E=0;E<A.length;++E){var U=A[E];if(U.from<h&&U.to>h)return E;U.to==h&&(U.from!=U.to&&x=="before"?_=E:Nt=E),U.from==h&&(U.from!=U.to&&x!="before"?_=E:Nt=E)}return _??Nt}var Kn=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",h="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(pe){return pe<=247?A.charAt(pe):1424<=pe&&pe<=1524?"R":1536<=pe&&pe<=1785?h.charAt(pe-1536):1774<=pe&&pe<=2220?"r":8192<=pe&&pe<=8203?"w":pe==8204?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,U=/[LRr]/,$=/[Lb1n]/,J=/[1n]/;function ae(pe,We,qe){this.level=pe,this.from=We,this.to=qe}return function(pe,We){var qe=We=="ltr"?"L":"R";if(pe.length==0||We=="ltr"&&!_.test(pe))return!1;for(var wt=pe.length,gt=[],Ut=0;Ut<wt;++Ut)gt.push(x(pe.charCodeAt(Ut)));for(var cn=0,Bn=qe;cn<wt;++cn){var Gn=gt[cn];Gn=="m"?gt[cn]=Bn:Bn=Gn}for(var Cn=0,Fn=qe;Cn<wt;++Cn){var ar=gt[Cn];ar=="1"&&Fn=="r"?gt[Cn]="n":U.test(ar)&&(Fn=ar,ar=="r"&&(gt[Cn]="R"))}for(var Or=1,yr=gt[0];Or<wt-1;++Or){var oi=gt[Or];oi=="+"&&yr=="1"&&gt[Or+1]=="1"?gt[Or]="1":oi==","&&yr==gt[Or+1]&&(yr=="1"||yr=="n")&&(gt[Or]=yr),yr=oi}for(var ko=0;ko<wt;++ko){var Da=gt[ko];if(Da==",")gt[ko]="N";else if(Da=="%"){var Aa=void 0;for(Aa=ko+1;Aa<wt&&gt[Aa]=="%";++Aa);for(var Sa=ko&&gt[ko-1]=="!"||Aa<wt&&gt[Aa]=="1"?"1":"N",Xa=ko;Xa<Aa;++Xa)gt[Xa]=Sa;ko=Aa-1}}for(var Ja=0,bl=qe;Ja<wt;++Ja){var Vs=gt[Ja];bl=="L"&&Vs=="1"?gt[Ja]="L":U.test(Vs)&&(bl=Vs)}for(var ms=0;ms<wt;++ms)if(E.test(gt[ms])){var es=void 0;for(es=ms+1;es<wt&&E.test(gt[es]);++es);for(var na=(ms?gt[ms-1]:qe)=="L",gs=(es<wt?gt[es]:qe)=="L",Qd=na==gs?na?"L":"R":qe,RA=ms;RA<es;++RA)gt[RA]=Qd;ms=es-1}for(var Ks=[],LA,Ps=0;Ps<wt;)if($.test(gt[Ps])){var a0=Ps;for(++Ps;Ps<wt&&$.test(gt[Ps]);++Ps);Ks.push(new ae(0,a0,Ps))}else{var lA=Ps,_c=Ks.length,Ua=We=="rtl"?1:0;for(++Ps;Ps<wt&&gt[Ps]!="L";++Ps);for(var Hs=lA;Hs<Ps;)if(J.test(gt[Hs])){lA<Hs&&(Ks.splice(_c,0,new ae(1,lA,Hs)),_c+=Ua);var $d=Hs;for(++Hs;Hs<Ps&&J.test(gt[Hs]);++Hs);Ks.splice(_c,0,new ae(2,$d,Hs)),_c+=Ua,lA=Hs}else++Hs;lA<Ps&&Ks.splice(_c,0,new ae(1,lA,Ps))}return We=="ltr"&&(Ks[0].level==1&&(LA=pe.match(/^\s+/))&&(Ks[0].from=LA[0].length,Ks.unshift(new ae(0,0,LA[0].length))),bn(Ks).level==1&&(LA=pe.match(/\s+$/))&&(bn(Ks).to-=LA[0].length,Ks.push(new ae(0,wt-LA[0].length,wt)))),We=="rtl"?Ks.reverse():Ks}}();function En(A,h){var x=A.order;return x==null&&(x=A.order=Kn(A.text,h)),x}var m=[],Tt=function(A,h,x){if(A.addEventListener)A.addEventListener(h,x,!1);else if(A.attachEvent)A.attachEvent("on"+h,x);else{var _=A._handlers||(A._handlers={});_[h]=(_[h]||m).concat(x)}};function Ur(A,h){return A._handlers&&A._handlers[h]||m}function Wn(A,h,x){if(A.removeEventListener)A.removeEventListener(h,x,!1);else if(A.detachEvent)A.detachEvent("on"+h,x);else{var _=A._handlers,E=_&&_[h];if(E){var U=Pe(E,x);U>-1&&(_[h]=E.slice(0,U).concat(E.slice(U+1)))}}}function Te(A,h){var x=Ur(A,h);if(x.length)for(var _=Array.prototype.slice.call(arguments,2),E=0;E<x.length;++E)x[E].apply(null,_)}function de(A,h,x){return typeof h=="string"&&(h={type:h,preventDefault:function(){this.defaultPrevented=!0}}),Te(A,x||h.type,A,h),ht(h)||h.codemirrorIgnore}function ve(A){var h=A._handlers&&A._handlers.cursorActivity;if(h)for(var x=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),_=0;_<h.length;++_)Pe(x,h[_])==-1&&x.push(h[_])}function Se(A,h){return Ur(A,h).length>0}function Re(A){A.prototype.on=function(h,x){Tt(this,h,x)},A.prototype.off=function(h,x){Wn(this,h,x)}}function Xe(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function at(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ht(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function Ve(A){Xe(A),at(A)}function _t(A){return A.target||A.srcElement}function Zt(A){var h=A.which;return h==null&&(A.button&1?h=1:A.button&2?h=3:A.button&4&&(h=2)),ce&&A.ctrlKey&&h==1&&(h=3),h}var Ht=function(){if(p&&g<9)return!1;var A=Ce("div");return"draggable"in A||"dragDrop"in A}(),qt;function Vn(A){if(qt==null){var h=Ce("span","");rt(A,Ce("span",[h,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(qt=h.offsetWidth<=1&&h.offsetHeight>2&&!(p&&g<8))}var x=qt?Ce("span",""):Ce("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var On;function ir(A){if(On!=null)return On;var h=rt(A,document.createTextNode("AA")),x=jt(h,0,1).getBoundingClientRect(),_=jt(h,1,2).getBoundingClientRect();return Ke(A),!x||x.left==x.right?!1:On=_.right-x.right<3}var or=`

b`.split(/\n/).length!=3?function(A){for(var h=0,x=[],_=A.length;h<=_;){var E=A.indexOf(`
`,h);E==-1&&(E=A.length);var U=A.slice(h,A.charAt(E-1)=="\r"?E-1:E),$=U.indexOf("\r");$!=-1?(x.push(U.slice(0,$)),h+=$+1):(x.push(U),h=E+1)}return x}:function(A){return A.split(/\r\n?|\n/)},Tr=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var h;try{h=A.ownerDocument.selection.createRange()}catch{}return!h||h.parentElement()!=A?!1:h.compareEndPoints("StartToEnd",h)!=0},Rr=function(){var A=Ce("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),Dr=null;function ei(A){if(Dr!=null)return Dr;var h=rt(A,Ce("span","x")),x=h.getBoundingClientRect(),_=jt(h,0,1).getBoundingClientRect();return Dr=Math.abs(x.left-_.left)>1}var rr={},li={};function ki(A,h){arguments.length>2&&(h.dependencies=Array.prototype.slice.call(arguments,2)),rr[A]=h}function Xi(A,h){li[A]=h}function xo(A){if(typeof A=="string"&&li.hasOwnProperty(A))A=li[A];else if(A&&typeof A.name=="string"&&li.hasOwnProperty(A.name)){var h=li[A.name];typeof h=="string"&&(h={name:h}),A=Nr(h,A),A.name=h.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return xo("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return xo("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function pi(A,h){h=xo(h);var x=rr[h.name];if(!x)return pi(A,"text/plain");var _=x(A,h);if(Oo.hasOwnProperty(h.name)){var E=Oo[h.name];for(var U in E)E.hasOwnProperty(U)&&(_.hasOwnProperty(U)&&(_["_"+U]=_[U]),_[U]=E[U])}if(_.name=h.name,h.helperType&&(_.helperType=h.helperType),h.modeProps)for(var $ in h.modeProps)_[$]=h.modeProps[$];return _}var Oo={};function us(A,h){var x=Oo.hasOwnProperty(A)?Oo[A]:Oo[A]={};Me(h,x)}function ka(A,h){if(h===!0)return h;if(A.copyState)return A.copyState(h);var x={};for(var _ in h){var E=h[_];E instanceof Array&&(E=E.concat([])),x[_]=E}return x}function Ci(A,h){for(var x;A.innerMode&&(x=A.innerMode(h),!(!x||x.mode==A));)h=x.state,A=x.mode;return x||{mode:A,state:h}}function Ms(A,h,x){return A.startState?A.startState(h,x):!0}var Si=function(A,h,x){this.pos=this.start=0,this.string=A,this.tabSize=h||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};Si.prototype.eol=function(){return this.pos>=this.string.length},Si.prototype.sol=function(){return this.pos==this.lineStart},Si.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Si.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Si.prototype.eat=function(A){var h=this.string.charAt(this.pos),x;if(typeof A=="string"?x=h==A:x=h&&(A.test?A.test(h):A(h)),x)return++this.pos,h},Si.prototype.eatWhile=function(A){for(var h=this.pos;this.eat(A););return this.pos>h},Si.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},Si.prototype.skipToEnd=function(){this.pos=this.string.length},Si.prototype.skipTo=function(A){var h=this.string.indexOf(A,this.pos);if(h>-1)return this.pos=h,!0},Si.prototype.backUp=function(A){this.pos-=A},Si.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=he(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Si.prototype.indentation=function(){return he(this.string,null,this.tabSize)-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Si.prototype.match=function(A,h,x){if(typeof A=="string"){var _=function($){return x?$.toLowerCase():$},E=this.string.substr(this.pos,A.length);if(_(E)==_(A))return h!==!1&&(this.pos+=A.length),!0}else{var U=this.string.slice(this.pos).match(A);return U&&U.index>0?null:(U&&h!==!1&&(this.pos+=U[0].length),U)}},Si.prototype.current=function(){return this.string.slice(this.start,this.pos)},Si.prototype.hideFirstChars=function(A,h){this.lineStart+=A;try{return h()}finally{this.lineStart-=A}},Si.prototype.lookAhead=function(A){var h=this.lineOracle;return h&&h.lookAhead(A)},Si.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function Qn(A,h){if(h-=A.first,h<0||h>=A.size)throw new Error("There is no line "+(h+A.first)+" in the document.");for(var x=A;!x.lines;)for(var _=0;;++_){var E=x.children[_],U=E.chunkSize();if(h<U){x=E;break}h-=U}return x.lines[h]}function so(A,h,x){var _=[],E=h.line;return A.iter(h.line,x.line+1,function(U){var $=U.text;E==x.line&&($=$.slice(0,x.ch)),E==h.line&&($=$.slice(h.ch)),_.push($),++E}),_}function Go(A,h,x){var _=[];return A.iter(h,x,function(E){_.push(E.text)}),_}function Ji(A,h){var x=h-A.height;if(x)for(var _=A;_;_=_.parent)_.height+=x}function ge(A){if(A.parent==null)return null;for(var h=A.parent,x=Pe(h.lines,A),_=h.parent;_;h=_,_=_.parent)for(var E=0;_.children[E]!=h;++E)x+=_.children[E].chunkSize();return x+h.first}function $e(A,h){var x=A.first;e:do{for(var _=0;_<A.children.length;++_){var E=A.children[_],U=E.height;if(h<U){A=E;continue e}h-=U,x+=E.chunkSize()}return x}while(!A.lines);for(var $=0;$<A.lines.length;++$){var J=A.lines[$],ae=J.height;if(h<ae)break;h-=ae}return x+$}function Xt(A,h){return h>=A.first&&h<A.first+A.size}function sn(A,h){return String(A.lineNumberFormatter(h+A.firstLineNumber))}function Kt(A,h,x){if(x===void 0&&(x=null),!(this instanceof Kt))return new Kt(A,h,x);this.line=A,this.ch=h,this.sticky=x}function Mn(A,h){return A.line-h.line||A.ch-h.ch}function cr(A,h){return A.sticky==h.sticky&&Mn(A,h)==0}function Ii(A){return Kt(A.line,A.ch)}function ii(A,h){return Mn(A,h)<0?h:A}function ya(A,h){return Mn(A,h)<0?A:h}function $a(A,h){return Math.max(A.first,Math.min(h,A.first+A.size-1))}function Br(A,h){if(h.line<A.first)return Kt(A.first,0);var x=A.first+A.size-1;return h.line>x?Kt(x,Qn(A,x).text.length):mi(h,Qn(A,h.line).text.length)}function mi(A,h){var x=A.ch;return x==null||x>h?Kt(A.line,h):x<0?Kt(A.line,0):A}function rl(A,h){for(var x=[],_=0;_<h.length;_++)x[_]=Br(A,h[_]);return x}var Ya=function(A,h){this.state=A,this.lookAhead=h},ba=function(A,h,x,_){this.state=h,this.doc=A,this.line=x,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};ba.prototype.lookAhead=function(A){var h=this.doc.getLine(this.line+A);return h!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),h},ba.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var h=this.baseTokens[this.baseTokenPos+1];return{type:h&&h.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},ba.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ba.fromSaved=function(A,h,x){return h instanceof Ya?new ba(A,ka(A.mode,h.state),x,h.lookAhead):new ba(A,ka(A.mode,h),x)},ba.prototype.save=function(A){var h=A!==!1?ka(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ya(h,this.maxLookAhead):h};function Ou(A,h,x,_){var E=[A.state.modeGen],U={};xA(A,h.text,A.doc.mode,x,function(pe,We){return E.push(pe,We)},U,_);for(var $=x.state,J=function(pe){x.baseTokens=E;var We=A.state.overlays[pe],qe=1,wt=0;x.state=!0,xA(A,h.text,We.mode,x,function(gt,Ut){for(var cn=qe;wt<gt;){var Bn=E[qe];Bn>gt&&E.splice(qe,1,gt,E[qe+1],Bn),qe+=2,wt=Math.min(gt,Bn)}if(Ut)if(We.opaque)E.splice(cn,qe-cn,gt,"overlay "+Ut),qe=cn+2;else for(;cn<qe;cn+=2){var Gn=E[cn+1];E[cn+1]=(Gn?Gn+" ":"")+"overlay "+Ut}},U),x.state=$,x.baseTokens=null,x.baseTokenPos=1},ae=0;ae<A.state.overlays.length;++ae)J(ae);return{styles:E,classes:U.bgClass||U.textClass?U:null}}function Ws(A,h,x){if(!h.styles||h.styles[0]!=A.state.modeGen){var _=qa(A,ge(h)),E=h.text.length>A.options.maxHighlightLength&&ka(A.doc.mode,_.state),U=Ou(A,h,_);E&&(_.state=E),h.stateAfter=_.save(!E),h.styles=U.styles,U.classes?h.styleClasses=U.classes:h.styleClasses&&(h.styleClasses=null),x===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return h.styles}function qa(A,h,x){var _=A.doc,E=A.display;if(!_.mode.startState)return new ba(_,!0,h);var U=Ju(A,h,x),$=U>_.first&&Qn(_,U-1).stateAfter,J=$?ba.fromSaved(_,$,U):new ba(_,Ms(_.mode),U);return _.iter(U,h,function(ae){Va(A,ae.text,J);var pe=J.line;ae.stateAfter=pe==h-1||pe%5==0||pe>=E.viewFrom&&pe<E.viewTo?J.save():null,J.nextLine()}),x&&(_.modeFrontier=J.line),J}function Va(A,h,x,_){var E=A.doc.mode,U=new Si(h,A.options.tabSize,x);for(U.start=U.pos=_||0,h==""&&Ns(E,x.state);!U.eol();)_A(E,U,x.state),U.start=U.pos}function Ns(A,h){if(A.blankLine)return A.blankLine(h);if(A.innerMode){var x=Ci(A,h);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function _A(A,h,x,_){for(var E=0;E<10;E++){_&&(_[0]=Ci(A,x).mode);var U=A.token(h,x);if(h.pos>h.start)return U}throw new Error("Mode "+A.name+" failed to advance stream.")}var fl=function(A,h,x){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=h||null,this.state=x};function tc(A,h,x,_){var E=A.doc,U=E.mode,$;h=Br(E,h);var J=Qn(E,h.line),ae=qa(A,h.line,x),pe=new Si(J.text,A.options.tabSize,ae),We;for(_&&(We=[]);(_||pe.pos<h.ch)&&!pe.eol();)pe.start=pe.pos,$=_A(U,pe,ae.state),_&&We.push(new fl(pe,$,ka(E.mode,ae.state)));return _?We:new fl(pe,$,ae.state)}function bA(A,h){if(A)for(;;){var x=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;A=A.slice(0,x.index)+A.slice(x.index+x[0].length);var _=x[1]?"bgClass":"textClass";h[_]==null?h[_]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(h[_])||(h[_]+=" "+x[2])}return A}function xA(A,h,x,_,E,U,$){var J=x.flattenSpans;J==null&&(J=A.options.flattenSpans);var ae=0,pe=null,We=new Si(h,A.options.tabSize,_),qe,wt=A.options.addModeClass&&[null];for(h==""&&bA(Ns(x,_.state),U);!We.eol();){if(We.pos>A.options.maxHighlightLength?(J=!1,$&&Va(A,h,_,We.pos),We.pos=h.length,qe=null):qe=bA(_A(x,We,_.state,wt),U),wt){var gt=wt[0].name;gt&&(qe="m-"+(qe?gt+" "+qe:gt))}if(!J||pe!=qe){for(;ae<We.start;)ae=Math.min(We.start,ae+5e3),E(ae,pe);pe=qe}We.start=We.pos}for(;ae<We.pos;){var Ut=Math.min(We.pos,ae+5e3);E(Ut,pe),ae=Ut}}function Ju(A,h,x){for(var _,E,U=A.doc,$=x?-1:h-(A.doc.mode.innerMode?1e3:100),J=h;J>$;--J){if(J<=U.first)return U.first;var ae=Qn(U,J-1),pe=ae.stateAfter;if(pe&&(!x||J+(pe instanceof Ya?pe.lookAhead:0)<=U.modeFrontier))return J;var We=he(ae.text,null,A.options.tabSize);(E==null||_>We)&&(E=J-1,_=We)}return E}function nc(A,h){if(A.modeFrontier=Math.min(A.modeFrontier,h),!(A.highlightFrontier<h-10)){for(var x=A.first,_=h-1;_>x;_--){var E=Qn(A,_).stateAfter;if(E&&(!(E instanceof Ya)||_+E.lookAhead<h)){x=_+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,x)}}var Ha=!1,Ss=!1;function wA(){Ha=!0}function pl(){Ss=!0}function kl(A,h,x){this.marker=A,this.from=h,this.to=x}function Ho(A,h){if(A)for(var x=0;x<A.length;++x){var _=A[x];if(_.marker==h)return _}}function eA(A,h){for(var x,_=0;_<A.length;++_)A[_]!=h&&(x||(x=[])).push(A[_]);return x}function lu(A,h,x){var _=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));_&&A.markedSpans&&_.has(A.markedSpans)?A.markedSpans.push(h):(A.markedSpans=A.markedSpans?A.markedSpans.concat([h]):[h],_&&_.add(A.markedSpans)),h.marker.attachLine(A)}function uu(A,h,x){var _;if(A)for(var E=0;E<A.length;++E){var U=A[E],$=U.marker,J=U.from==null||($.inclusiveLeft?U.from<=h:U.from<h);if(J||U.from==h&&$.type=="bookmark"&&(!x||!U.marker.insertLeft)){var ae=U.to==null||($.inclusiveRight?U.to>=h:U.to>h);(_||(_=[])).push(new kl($,U.from,ae?null:U.to))}}return _}function Bu(A,h,x){var _;if(A)for(var E=0;E<A.length;++E){var U=A[E],$=U.marker,J=U.to==null||($.inclusiveRight?U.to>=h:U.to>h);if(J||U.from==h&&$.type=="bookmark"&&(!x||U.marker.insertLeft)){var ae=U.from==null||($.inclusiveLeft?U.from<=h:U.from<h);(_||(_=[])).push(new kl($,ae?null:U.from-h,U.to==null?null:U.to-h))}}return _}function As(A,h){if(h.full)return null;var x=Xt(A,h.from.line)&&Qn(A,h.from.line).markedSpans,_=Xt(A,h.to.line)&&Qn(A,h.to.line).markedSpans;if(!x&&!_)return null;var E=h.from.ch,U=h.to.ch,$=Mn(h.from,h.to)==0,J=uu(x,E,$),ae=Bu(_,U,$),pe=h.text.length==1,We=bn(h.text).length+(pe?E:0);if(J)for(var qe=0;qe<J.length;++qe){var wt=J[qe];if(wt.to==null){var gt=Ho(ae,wt.marker);gt?pe&&(wt.to=gt.to==null?null:gt.to+We):wt.to=E}}if(ae)for(var Ut=0;Ut<ae.length;++Ut){var cn=ae[Ut];if(cn.to!=null&&(cn.to+=We),cn.from==null){var Bn=Ho(J,cn.marker);Bn||(cn.from=We,pe&&(J||(J=[])).push(cn))}else cn.from+=We,pe&&(J||(J=[])).push(cn)}J&&(J=Au(J)),ae&&ae!=J&&(ae=Au(ae));var Gn=[J];if(!pe){var Cn=h.text.length-2,Fn;if(Cn>0&&J)for(var ar=0;ar<J.length;++ar)J[ar].to==null&&(Fn||(Fn=[])).push(new kl(J[ar].marker,null,null));for(var Or=0;Or<Cn;++Or)Gn.push(Fn);Gn.push(ae)}return Gn}function Au(A){for(var h=0;h<A.length;++h){var x=A[h];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&A.splice(h--,1)}return A.length?A:null}function rc(A,h,x){var _=null;if(A.iter(h.line,x.line+1,function(gt){if(gt.markedSpans)for(var Ut=0;Ut<gt.markedSpans.length;++Ut){var cn=gt.markedSpans[Ut].marker;cn.readOnly&&(!_||Pe(_,cn)==-1)&&(_||(_=[])).push(cn)}}),!_)return null;for(var E=[{from:h,to:x}],U=0;U<_.length;++U)for(var $=_[U],J=$.find(0),ae=0;ae<E.length;++ae){var pe=E[ae];if(!(Mn(pe.to,J.from)<0||Mn(pe.from,J.to)>0)){var We=[ae,1],qe=Mn(pe.from,J.from),wt=Mn(pe.to,J.to);(qe<0||!$.inclusiveLeft&&!qe)&&We.push({from:pe.from,to:J.from}),(wt>0||!$.inclusiveRight&&!wt)&&We.push({from:J.to,to:pe.to}),E.splice.apply(E,We),ae+=We.length-3}}return E}function mo(A){var h=A.markedSpans;if(h){for(var x=0;x<h.length;++x)h[x].marker.detachLine(A);A.markedSpans=null}}function Ao(A,h){if(h){for(var x=0;x<h.length;++x)h[x].marker.attachLine(A);A.markedSpans=h}}function ne(A){return A.inclusiveLeft?-1:0}function Ie(A){return A.inclusiveRight?1:0}function At(A,h){var x=A.lines.length-h.lines.length;if(x!=0)return x;var _=A.find(),E=h.find(),U=Mn(_.from,E.from)||ne(A)-ne(h);if(U)return-U;var $=Mn(_.to,E.to)||Ie(A)-Ie(h);return $||h.id-A.id}function Yt(A,h){var x=Ss&&A.markedSpans,_;if(x)for(var E=void 0,U=0;U<x.length;++U)E=x[U],E.marker.collapsed&&(h?E.from:E.to)==null&&(!_||At(_,E.marker)<0)&&(_=E.marker);return _}function wr(A){return Yt(A,!0)}function Tn(A){return Yt(A,!1)}function _i(A,h){var x=Ss&&A.markedSpans,_;if(x)for(var E=0;E<x.length;++E){var U=x[E];U.marker.collapsed&&(U.from==null||U.from<h)&&(U.to==null||U.to>h)&&(!_||At(_,U.marker)<0)&&(_=U.marker)}return _}function Ti(A,h,x,_,E){var U=Qn(A,h),$=Ss&&U.markedSpans;if($)for(var J=0;J<$.length;++J){var ae=$[J];if(ae.marker.collapsed){var pe=ae.marker.find(0),We=Mn(pe.from,x)||ne(ae.marker)-ne(E),qe=Mn(pe.to,_)||Ie(ae.marker)-Ie(E);if(!(We>=0&&qe<=0||We<=0&&qe>=0)&&(We<=0&&(ae.marker.inclusiveRight&&E.inclusiveLeft?Mn(pe.to,x)>=0:Mn(pe.to,x)>0)||We>=0&&(ae.marker.inclusiveRight&&E.inclusiveLeft?Mn(pe.from,_)<=0:Mn(pe.from,_)<0)))return!0}}}function Yr(A){for(var h;h=wr(A);)A=h.find(-1,!0).line;return A}function Gi(A){for(var h;h=Tn(A);)A=h.find(1,!0).line;return A}function Fo(A){for(var h,x;h=Tn(A);)A=h.find(1,!0).line,(x||(x=[])).push(A);return x}function xa(A,h){var x=Qn(A,h),_=Yr(x);return x==_?h:ge(_)}function jo(A,h){if(h>A.lastLine())return h;var x=Qn(A,h),_;if(!Ki(A,x))return h;for(;_=Tn(x);)x=_.find(1,!0).line;return ge(x)+1}function Ki(A,h){var x=Ss&&h.markedSpans;if(x){for(var _=void 0,E=0;E<x.length;++E)if(_=x[E],!!_.marker.collapsed){if(_.from==null)return!0;if(!_.marker.widgetNode&&_.from==0&&_.marker.inclusiveLeft&&oa(A,h,_))return!0}}}function oa(A,h,x){if(x.to==null){var _=x.marker.find(1,!0);return oa(A,_.line,Ho(_.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==h.text.length)return!0;for(var E=void 0,U=0;U<h.markedSpans.length;++U)if(E=h.markedSpans[U],E.marker.collapsed&&!E.marker.widgetNode&&E.from==x.to&&(E.to==null||E.to!=x.from)&&(E.marker.inclusiveLeft||x.marker.inclusiveRight)&&oa(A,h,E))return!0}function Ia(A){A=Yr(A);for(var h=0,x=A.parent,_=0;_<x.lines.length;++_){var E=x.lines[_];if(E==A)break;h+=E.height}for(var U=x.parent;U;x=U,U=x.parent)for(var $=0;$<U.children.length;++$){var J=U.children[$];if(J==x)break;h+=J.height}return h}function Ta(A){if(A.height==0)return 0;for(var h=A.text.length,x,_=A;x=wr(_);){var E=x.find(0,!0);_=E.from.line,h+=E.from.ch-E.to.ch}for(_=A;x=Tn(_);){var U=x.find(0,!0);h-=_.text.length-U.from.ch,_=U.to.line,h+=_.text.length-U.to.ch}return h}function Gl(A){var h=A.display,x=A.doc;h.maxLine=Qn(x,x.first),h.maxLineLength=Ta(h.maxLine),h.maxLineChanged=!0,x.iter(function(_){var E=Ta(_);E>h.maxLineLength&&(h.maxLineLength=E,h.maxLine=_)})}var ku=function(A,h,x){this.text=A,Ao(this,h),this.height=x?x(this):1};ku.prototype.lineNo=function(){return ge(this)},Re(ku);function ic(A,h,x,_){A.text=h,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),mo(A),Ao(A,x);var E=_?_(A):1;E!=A.height&&Ji(A,E)}function cs(A){A.parent=null,mo(A)}var $m={},Ql={};function dh(A,h){if(!A||/^\s*$/.test(A))return null;var x=h.addModeClass?Ql:$m;return x[A]||(x[A]=A.replace(/\S+/g,"cm-$&"))}function Rc(A,h){var x=Rt("span",null,null,b?"padding-right: .1px":null),_={pre:Rt("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};h.measure={};for(var E=0;E<=(h.rest?h.rest.length:0);E++){var U=E?h.rest[E-1]:h.line,$=void 0;_.pos=0,_.addToken=Lc,ir(A.display.measure)&&($=En(U,A.doc.direction))&&(_.addToken=Qo(_.addToken,$)),_.map=[];var J=h!=A.display.externalMeasured&&ge(U);wd(U,_,Ws(A,U,J)),U.styleClasses&&(U.styleClasses.bgClass&&(_.bgClass=Je(U.styleClasses.bgClass,_.bgClass||"")),U.styleClasses.textClass&&(_.textClass=Je(U.styleClasses.textClass,_.textClass||""))),_.map.length==0&&_.map.push(0,0,_.content.appendChild(Vn(A.display.measure))),E==0?(h.measure.map=_.map,h.measure.cache={}):((h.measure.maps||(h.measure.maps=[])).push(_.map),(h.measure.caches||(h.measure.caches=[])).push({}))}if(b){var ae=_.content.lastChild;(/\bcm-tab\b/.test(ae.className)||ae.querySelector&&ae.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return Te(A,"renderLine",A,h.line,_.pre),_.pre.className&&(_.textClass=Je(_.pre.className,_.textClass||"")),_}function Iu(A){var h=Ce("span","","cm-invalidchar");return h.title="\\u"+A.charCodeAt(0).toString(16),h.setAttribute("aria-label",h.title),h}function Lc(A,h,x,_,E,U,$){if(h){var J=A.splitSpaces?MA(h,A.trailingSpace):h,ae=A.cm.state.specialChars,pe=!1,We;if(!ae.test(h))A.col+=h.length,We=document.createTextNode(J),A.map.push(A.pos,A.pos+h.length,We),p&&g<9&&(pe=!0),A.pos+=h.length;else{We=document.createDocumentFragment();for(var qe=0;;){ae.lastIndex=qe;var wt=ae.exec(h),gt=wt?wt.index-qe:h.length-qe;if(gt){var Ut=document.createTextNode(J.slice(qe,qe+gt));p&&g<9?We.appendChild(Ce("span",[Ut])):We.appendChild(Ut),A.map.push(A.pos,A.pos+gt,Ut),A.col+=gt,A.pos+=gt}if(!wt)break;qe+=gt+1;var cn=void 0;if(wt[0]=="	"){var Bn=A.cm.options.tabSize,Gn=Bn-A.col%Bn;cn=We.appendChild(Ce("span",pn(Gn),"cm-tab")),cn.setAttribute("role","presentation"),cn.setAttribute("cm-text","	"),A.col+=Gn}else wt[0]=="\r"||wt[0]==`
`?(cn=We.appendChild(Ce("span",wt[0]=="\r"?"":"","cm-invalidchar")),cn.setAttribute("cm-text",wt[0]),A.col+=1):(cn=A.cm.options.specialCharPlaceholder(wt[0]),cn.setAttribute("cm-text",wt[0]),p&&g<9?We.appendChild(Ce("span",[cn])):We.appendChild(cn),A.col+=1);A.map.push(A.pos,A.pos+1,cn),A.pos++}}if(A.trailingSpace=J.charCodeAt(h.length-1)==32,x||_||E||pe||U||$){var Cn=x||"";_&&(Cn+=_),E&&(Cn+=E);var Fn=Ce("span",[We],Cn,U);if($)for(var ar in $)$.hasOwnProperty(ar)&&ar!="style"&&ar!="class"&&Fn.setAttribute(ar,$[ar]);return A.content.appendChild(Fn)}A.content.appendChild(We)}}function MA(A,h){if(A.length>1&&!/  /.test(A))return A;for(var x=h,_="",E=0;E<A.length;E++){var U=A.charAt(E);U==" "&&x&&(E==A.length-1||A.charCodeAt(E+1)==32)&&(U=""),_+=U,x=U==" "}return _}function Qo(A,h){return function(x,_,E,U,$,J,ae){E=E?E+" cm-force-border":"cm-force-border";for(var pe=x.pos,We=pe+_.length;;){for(var qe=void 0,wt=0;wt<h.length&&(qe=h[wt],!(qe.to>pe&&qe.from<=pe));wt++);if(qe.to>=We)return A(x,_,E,U,$,J,ae);A(x,_.slice(0,qe.to-pe),E,U,null,J,ae),U=null,_=_.slice(qe.to-pe),pe=qe.to}}}function Tu(A,h,x,_){var E=!_&&x.widgetNode;E&&A.map.push(A.pos,A.pos+h,E),!_&&A.cm.display.input.needsContentAttribute&&(E||(E=A.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",x.id)),E&&(A.cm.display.input.setUneditable(E),A.content.appendChild(E)),A.pos+=h,A.trailingSpace=!1}function wd(A,h,x){var _=A.markedSpans,E=A.text,U=0;if(!_){for(var $=1;$<x.length;$+=2)h.addToken(h,E.slice(U,U=x[$]),dh(x[$+1],h.cm.options));return}for(var J=E.length,ae=0,pe=1,We="",qe,wt,gt=0,Ut,cn,Bn,Gn,Cn;;){if(gt==ae){Ut=cn=Bn=wt="",Cn=null,Gn=null,gt=1/0;for(var Fn=[],ar=void 0,Or=0;Or<_.length;++Or){var yr=_[Or],oi=yr.marker;if(oi.type=="bookmark"&&yr.from==ae&&oi.widgetNode)Fn.push(oi);else if(yr.from<=ae&&(yr.to==null||yr.to>ae||oi.collapsed&&yr.to==ae&&yr.from==ae)){if(yr.to!=null&&yr.to!=ae&&gt>yr.to&&(gt=yr.to,cn=""),oi.className&&(Ut+=" "+oi.className),oi.css&&(wt=(wt?wt+";":"")+oi.css),oi.startStyle&&yr.from==ae&&(Bn+=" "+oi.startStyle),oi.endStyle&&yr.to==gt&&(ar||(ar=[])).push(oi.endStyle,yr.to),oi.title&&((Cn||(Cn={})).title=oi.title),oi.attributes)for(var ko in oi.attributes)(Cn||(Cn={}))[ko]=oi.attributes[ko];oi.collapsed&&(!Gn||At(Gn.marker,oi)<0)&&(Gn=yr)}else yr.from>ae&&gt>yr.from&&(gt=yr.from)}if(ar)for(var Da=0;Da<ar.length;Da+=2)ar[Da+1]==gt&&(cn+=" "+ar[Da]);if(!Gn||Gn.from==ae)for(var Aa=0;Aa<Fn.length;++Aa)Tu(h,0,Fn[Aa]);if(Gn&&(Gn.from||0)==ae){if(Tu(h,(Gn.to==null?J+1:Gn.to)-ae,Gn.marker,Gn.from==null),Gn.to==null)return;Gn.to==ae&&(Gn=!1)}}if(ae>=J)break;for(var Sa=Math.min(J,gt);;){if(We){var Xa=ae+We.length;if(!Gn){var Ja=Xa>Sa?We.slice(0,Sa-ae):We;h.addToken(h,Ja,qe?qe+Ut:Ut,Bn,ae+Ja.length==gt?cn:"",wt,Cn)}if(Xa>=Sa){We=We.slice(Sa-ae),ae=Sa;break}ae=Xa,Bn=""}We=E.slice(U,U=x[pe++]),qe=dh(x[pe++],h.cm.options)}}}function SA(A,h,x){this.line=h,this.rest=Fo(h),this.size=this.rest?ge(bn(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Ki(A,h)}function oc(A,h,x){for(var _=[],E,U=h;U<x;U=E){var $=new SA(A.doc,Qn(A.doc,U),U);E=U+$.size,_.push($)}return _}var cu=null;function zc(A){cu?cu.ops.push(A):A.ownsGroup=cu={ops:[A],delayedCallbacks:[]}}function Bp(A){var h=A.delayedCallbacks,x=0;do{for(;x<h.length;x++)h[x].call(null);for(var _=0;_<A.ops.length;_++){var E=A.ops[_];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(x<h.length)}function hh(A,h){var x=A.ownsGroup;if(x)try{Bp(x)}finally{cu=null,h(x)}}var hi=null;function Do(A,h){var x=Ur(A,h);if(x.length){var _=Array.prototype.slice.call(arguments,2),E;cu?E=cu.delayedCallbacks:hi?E=hi:(E=hi=[],setTimeout(Ym,0));for(var U=function(J){E.push(function(){return x[J].apply(null,_)})},$=0;$<x.length;++$)U($)}}function Ym(){var A=hi;hi=null;for(var h=0;h<A.length;++h)A[h]()}function fh(A,h,x,_){for(var E=0;E<h.changes.length;E++){var U=h.changes[E];U=="text"?Pi(A,h):U=="gutter"?wo(A,h,x,_):U=="class"?Md(A,h):U=="widget"&&go(A,h,_)}h.changes=null}function Ku(A){return A.node==A.text&&(A.node=Ce("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),p&&g<8&&(A.node.style.zIndex=2)),A.node}function aa(A,h){var x=h.bgClass?h.bgClass+" "+(h.line.bgClass||""):h.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),h.background)x?h.background.className=x:(h.background.parentNode.removeChild(h.background),h.background=null);else if(x){var _=Ku(h);h.background=_.insertBefore(Ce("div",null,x),_.firstChild),A.display.input.setUneditable(h.background)}}function ph(A,h){var x=A.display.externalMeasured;return x&&x.line==h.line?(A.display.externalMeasured=null,h.measure=x.measure,x.built):Rc(A,h)}function Pi(A,h){var x=h.text.className,_=ph(A,h);h.text==h.node&&(h.node=_.pre),h.text.parentNode.replaceChild(_.pre,h.text),h.text=_.pre,_.bgClass!=h.bgClass||_.textClass!=h.textClass?(h.bgClass=_.bgClass,h.textClass=_.textClass,Md(A,h)):x&&(h.text.className=x)}function Md(A,h){aa(A,h),h.line.wrapClass?Ku(h).className=h.line.wrapClass:h.node!=h.text&&(h.node.className="");var x=h.textClass?h.textClass+" "+(h.line.textClass||""):h.line.textClass;h.text.className=x||""}function wo(A,h,x,_){if(h.gutter&&(h.node.removeChild(h.gutter),h.gutter=null),h.gutterBackground&&(h.node.removeChild(h.gutterBackground),h.gutterBackground=null),h.line.gutterClass){var E=Ku(h);h.gutterBackground=Ce("div",null,"CodeMirror-gutter-background "+h.line.gutterClass,"left: "+(A.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),A.display.input.setUneditable(h.gutterBackground),E.insertBefore(h.gutterBackground,h.text)}var U=h.line.gutterMarkers;if(A.options.lineNumbers||U){var $=Ku(h),J=h.gutter=Ce("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(J.setAttribute("aria-hidden","true"),A.display.input.setUneditable(J),$.insertBefore(J,h.text),h.line.gutterClass&&(J.className+=" "+h.line.gutterClass),A.options.lineNumbers&&(!U||!U["CodeMirror-linenumbers"])&&(h.lineNumber=J.appendChild(Ce("div",sn(A.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),U)for(var ae=0;ae<A.display.gutterSpecs.length;++ae){var pe=A.display.gutterSpecs[ae].className,We=U.hasOwnProperty(pe)&&U[pe];We&&J.appendChild(Ce("div",[We],"CodeMirror-gutter-elt","left: "+_.gutterLeft[pe]+"px; width: "+_.gutterWidth[pe]+"px"))}}}function go(A,h,x){h.alignable&&(h.alignable=null);for(var _=et("CodeMirror-linewidget"),E=h.node.firstChild,U=void 0;E;E=U)U=E.nextSibling,_.test(E.className)&&h.node.removeChild(E);jc(A,h,x)}function ac(A,h,x,_){var E=ph(A,h);return h.text=h.node=E.pre,E.bgClass&&(h.bgClass=E.bgClass),E.textClass&&(h.textClass=E.textClass),Md(A,h),wo(A,h,x,_),jc(A,h,_),h.node}function jc(A,h,x){if(Gs(A,h.line,h,x,!0),h.rest)for(var _=0;_<h.rest.length;_++)Gs(A,h.rest[_],h,x,!1)}function Gs(A,h,x,_,E){if(h.widgets)for(var U=Ku(x),$=0,J=h.widgets;$<J.length;++$){var ae=J[$],pe=Ce("div",[ae.node],"CodeMirror-linewidget"+(ae.className?" "+ae.className:""));ae.handleMouseEvents||pe.setAttribute("cm-ignore-events","true"),mh(ae,pe,x,_),A.display.input.setUneditable(pe),E&&ae.above?U.insertBefore(pe,x.gutter||x.text):U.appendChild(pe),Do(ae,"redraw")}}function mh(A,h,x,_){if(A.noHScroll){(x.alignable||(x.alignable=[])).push(h);var E=_.wrapperWidth;h.style.left=_.fixedPos+"px",A.coverGutter||(E-=_.gutterTotalWidth,h.style.paddingLeft=_.gutterTotalWidth+"px"),h.style.width=E+"px"}A.coverGutter&&(h.style.zIndex=5,h.style.position="relative",A.noHScroll||(h.style.marginLeft=-_.gutterTotalWidth+"px"))}function $l(A){if(A.height!=null)return A.height;var h=A.doc.cm;if(!h)return 0;if(!tn(document.body,A.node)){var x="position: relative;";A.coverGutter&&(x+="margin-left: -"+h.display.gutters.offsetWidth+"px;"),A.noHScroll&&(x+="width: "+h.display.wrapper.clientWidth+"px;"),rt(h.display.measure,Ce("div",[A.node],null,x))}return A.height=A.node.parentNode.offsetHeight}function Il(A,h){for(var x=_t(h);x!=A.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==A.sizer&&x!=A.mover)return!0}function EA(A){return A.lineSpace.offsetTop}function gh(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Sd(A){if(A.cachedPaddingH)return A.cachedPaddingH;var h=rt(A.measure,Ce("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(h):h.currentStyle,_={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(_.left)&&!isNaN(_.right)&&(A.cachedPaddingH=_),_}function du(A){return Ze-A.display.nativeBarWidth}function Pu(A){return A.display.scroller.clientWidth-du(A)-A.display.barWidth}function Wc(A){return A.display.scroller.clientHeight-du(A)-A.display.barHeight}function OA(A,h,x){var _=A.options.lineWrapping,E=_&&Pu(A);if(!h.measure.heights||_&&h.measure.width!=E){var U=h.measure.heights=[];if(_){h.measure.width=E;for(var $=h.text.firstChild.getClientRects(),J=0;J<$.length-1;J++){var ae=$[J],pe=$[J+1];Math.abs(ae.bottom-pe.bottom)>2&&U.push((ae.bottom+pe.top)/2-x.top)}}U.push(x.bottom-x.top)}}function Of(A,h,x){if(A.line==h)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var _=0;_<A.rest.length;_++)if(A.rest[_]==h)return{map:A.measure.maps[_],cache:A.measure.caches[_]};for(var E=0;E<A.rest.length;E++)if(ge(A.rest[E])>x)return{map:A.measure.maps[E],cache:A.measure.caches[E],before:!0}}}function kp(A,h){h=Yr(h);var x=ge(h),_=A.display.externalMeasured=new SA(A.doc,h,x);_.lineN=x;var E=_.built=Rc(A,_);return _.text=E.pre,rt(A.display.lineMeasure,E.pre),_}function sc(A,h,x,_){return ml(A,Tl(A,h),x,_)}function Nc(A,h){if(h>=A.display.viewFrom&&h<A.display.viewTo)return A.display.view[kA(A,h)];var x=A.display.externalMeasured;if(x&&h>=x.lineN&&h<x.lineN+x.size)return x}function Tl(A,h){var x=ge(h),_=Nc(A,x);_&&!_.text?_=null:_&&_.changes&&(fh(A,_,x,Os(A)),A.curOp.forceUpdate=!0),_||(_=kp(A,h));var E=Of(_,h,x);return{line:h,view:_,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function ml(A,h,x,_,E){h.before&&(x=-1);var U=x+(_||""),$;return h.cache.hasOwnProperty(U)?$=h.cache[U]:(h.rect||(h.rect=h.view.text.getBoundingClientRect()),h.hasHeights||(OA(A,h.view,h.rect),h.hasHeights=!0),$=BA(A,h,x,_),$.bogus||(h.cache[U]=$)),{left:$.left,right:$.right,top:E?$.rtop:$.top,bottom:E?$.rbottom:$.bottom}}var Zo={left:0,right:0,top:0,bottom:0};function tA(A,h,x){for(var _,E,U,$,J,ae,pe=0;pe<A.length;pe+=3)if(J=A[pe],ae=A[pe+1],h<J?(E=0,U=1,$="left"):h<ae?(E=h-J,U=E+1):(pe==A.length-3||h==ae&&A[pe+3]>h)&&(U=ae-J,E=U-1,h>=ae&&($="right")),E!=null){if(_=A[pe+2],J==ae&&x==(_.insertLeft?"left":"right")&&($=x),x=="left"&&E==0)for(;pe&&A[pe-2]==A[pe-3]&&A[pe-1].insertLeft;)_=A[(pe-=3)+2],$="left";if(x=="right"&&E==ae-J)for(;pe<A.length-3&&A[pe+3]==A[pe+4]&&!A[pe+5].insertLeft;)_=A[(pe+=3)+2],$="right";break}return{node:_,start:E,end:U,collapse:$,coverStart:J,coverEnd:ae}}function il(A,h){var x=Zo;if(h=="left")for(var _=0;_<A.length&&(x=A[_]).left==x.right;_++);else for(var E=A.length-1;E>=0&&(x=A[E]).left==x.right;E--);return x}function BA(A,h,x,_){var E=tA(h.map,x,_),U=E.node,$=E.start,J=E.end,ae=E.collapse,pe;if(U.nodeType==3){for(var We=0;We<4;We++){for(;$&&Be(h.line.text.charAt(E.coverStart+$));)--$;for(;E.coverStart+J<E.coverEnd&&Be(h.line.text.charAt(E.coverStart+J));)++J;if(p&&g<9&&$==0&&J==E.coverEnd-E.coverStart?pe=U.parentNode.getBoundingClientRect():pe=il(jt(U,$,J).getClientRects(),_),pe.left||pe.right||$==0)break;J=$,$=$-1,ae="right"}p&&g<11&&(pe=gl(A.display.measure,pe))}else{$>0&&(ae=_="right");var qe;A.options.lineWrapping&&(qe=U.getClientRects()).length>1?pe=qe[_=="right"?qe.length-1:0]:pe=U.getBoundingClientRect()}if(p&&g<9&&!$&&(!pe||!pe.left&&!pe.right)){var wt=U.parentNode.getClientRects()[0];wt?pe={left:wt.left,right:wt.left+fu(A.display),top:wt.top,bottom:wt.bottom}:pe=Zo}for(var gt=pe.top-h.rect.top,Ut=pe.bottom-h.rect.top,cn=(gt+Ut)/2,Bn=h.view.measure.heights,Gn=0;Gn<Bn.length-1&&!(cn<Bn[Gn]);Gn++);var Cn=Gn?Bn[Gn-1]:0,Fn=Bn[Gn],ar={left:(ae=="right"?pe.right:pe.left)-h.rect.left,right:(ae=="left"?pe.left:pe.right)-h.rect.left,top:Cn,bottom:Fn};return!pe.left&&!pe.right&&(ar.bogus=!0),A.options.singleCursorHeightPerLine||(ar.rtop=gt,ar.rbottom=Ut),ar}function gl(A,h){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ei(A))return h;var x=screen.logicalXDPI/screen.deviceXDPI,_=screen.logicalYDPI/screen.deviceYDPI;return{left:h.left*x,right:h.right*x,top:h.top*_,bottom:h.bottom*_}}function yh(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var h=0;h<A.rest.length;h++)A.measure.caches[h]={}}function nA(A){A.display.externalMeasure=null,Ke(A.display.lineMeasure);for(var h=0;h<A.display.view.length;h++)yh(A.display.view[h])}function Yl(A){nA(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function lc(A){return k&&oe?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function Ed(A){return k&&oe?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Od(A){var h=Yr(A),x=h.widgets,_=0;if(x)for(var E=0;E<x.length;++E)x[E].above&&(_+=$l(x[E]));return _}function hu(A,h,x,_,E){if(!E){var U=Od(h);x.top+=U,x.bottom+=U}if(_=="line")return x;_||(_="local");var $=Ia(h);if(_=="local"?$+=EA(A.display):$-=A.display.viewOffset,_=="page"||_=="window"){var J=A.display.lineSpace.getBoundingClientRect();$+=J.top+(_=="window"?0:Ed(rn(A)));var ae=J.left+(_=="window"?0:lc(rn(A)));x.left+=ae,x.right+=ae}return x.top+=$,x.bottom+=$,x}function bt(A,h,x){if(x=="div")return h;var _=h.left,E=h.top;if(x=="page")_-=lc(rn(A)),E-=Ed(rn(A));else if(x=="local"||!x){var U=A.display.sizer.getBoundingClientRect();_+=U.left,E+=U.top}var $=A.display.lineSpace.getBoundingClientRect();return{left:_-$.left,top:E-$.top}}function on(A,h,x,_,E){return _||(_=Qn(A.doc,h.line)),hu(A,_,sc(A,_,h.ch,E),x)}function Lt(A,h,x,_,E,U){_=_||Qn(A.doc,h.line),E||(E=Tl(A,_));function $(Ut,cn){var Bn=ml(A,E,Ut,cn?"right":"left",U);return cn?Bn.left=Bn.right:Bn.right=Bn.left,hu(A,_,Bn,x)}var J=En(_,A.doc.direction),ae=h.ch,pe=h.sticky;if(ae>=_.text.length?(ae=_.text.length,pe="before"):ae<=0&&(ae=0,pe="after"),!J)return $(pe=="before"?ae-1:ae,pe=="before");function We(Ut,cn,Bn){var Gn=J[cn],Cn=Gn.level==1;return $(Bn?Ut-1:Ut,Cn!=Bn)}var qe=mn(J,ae,pe),wt=Nt,gt=We(ae,qe,pe=="before");return wt!=null&&(gt.other=We(ae,wt,pe!="before")),gt}function dr(A,h){var x=0;h=Br(A.doc,h),A.options.lineWrapping||(x=fu(A.display)*h.ch);var _=Qn(A.doc,h.line),E=Ia(_)+EA(A.display);return{left:x,right:x,top:E,bottom:E+_.height}}function ti(A,h,x,_,E){var U=Kt(A,h,x);return U.xRel=E,_&&(U.outside=_),U}function eo(A,h,x){var _=A.doc;if(x+=A.display.viewOffset,x<0)return ti(_.first,0,null,-1,-1);var E=$e(_,x),U=_.first+_.size-1;if(E>U)return ti(_.first+_.size-1,Qn(_,U).text.length,null,1,1);h<0&&(h=0);for(var $=Qn(_,E);;){var J=Gc(A,$,E,h,x),ae=_i($,J.ch+(J.xRel>0||J.outside>0?1:0));if(!ae)return J;var pe=ae.find(1);if(pe.line==E)return pe;$=Qn(_,E=pe.line)}}function Xo(A,h,x,_){_-=Od(h);var E=h.text.length,U=St(function($){return ml(A,x,$-1).bottom<=_},E,0);return E=St(function($){return ml(A,x,$).top>_},U,E),{begin:U,end:E}}function co(A,h,x,_){x||(x=Tl(A,h));var E=hu(A,h,ml(A,x,_),"line").top;return Xo(A,h,x,E)}function ds(A,h,x,_){return A.bottom<=x?!1:A.top>x?!0:(_?A.left:A.right)>h}function Gc(A,h,x,_,E){E-=Ia(h);var U=Tl(A,h),$=Od(h),J=0,ae=h.text.length,pe=!0,We=En(h,A.doc.direction);if(We){var qe=(A.options.lineWrapping?Bd:hs)(A,h,x,U,We,_,E);pe=qe.level!=1,J=pe?qe.from:qe.to-1,ae=pe?qe.to:qe.from-1}var wt=null,gt=null,Ut=St(function(Or){var yr=ml(A,U,Or);return yr.top+=$,yr.bottom+=$,ds(yr,_,E,!1)?(yr.top<=E&&yr.left<=_&&(wt=Or,gt=yr),!0):!1},J,ae),cn,Bn,Gn=!1;if(gt){var Cn=_-gt.left<gt.right-_,Fn=Cn==pe;Ut=wt+(Fn?0:1),Bn=Fn?"after":"before",cn=Cn?gt.left:gt.right}else{!pe&&(Ut==ae||Ut==J)&&Ut++,Bn=Ut==0?"after":Ut==h.text.length?"before":ml(A,U,Ut-(pe?1:0)).bottom+$<=E==pe?"after":"before";var ar=Lt(A,Kt(x,Ut,Bn),"line",h,U);cn=ar.left,Gn=E<ar.top?-1:E>=ar.bottom?1:0}return Ut=st(h.text,Ut,1),ti(x,Ut,Bn,Gn,_-cn)}function hs(A,h,x,_,E,U,$){var J=St(function(qe){var wt=E[qe],gt=wt.level!=1;return ds(Lt(A,Kt(x,gt?wt.to:wt.from,gt?"before":"after"),"line",h,_),U,$,!0)},0,E.length-1),ae=E[J];if(J>0){var pe=ae.level!=1,We=Lt(A,Kt(x,pe?ae.from:ae.to,pe?"after":"before"),"line",h,_);ds(We,U,$,!0)&&We.top>$&&(ae=E[J-1])}return ae}function Bd(A,h,x,_,E,U,$){var J=Xo(A,h,_,$),ae=J.begin,pe=J.end;/\s/.test(h.text.charAt(pe-1))&&pe--;for(var We=null,qe=null,wt=0;wt<E.length;wt++){var gt=E[wt];if(!(gt.from>=pe||gt.to<=ae)){var Ut=gt.level!=1,cn=ml(A,_,Ut?Math.min(pe,gt.to)-1:Math.max(ae,gt.from)).right,Bn=cn<U?U-cn+1e9:cn-U;(!We||qe>Bn)&&(We=gt,qe=Bn)}}return We||(We=E[E.length-1]),We.from<ae&&(We={from:ae,to:We.to,level:We.level}),We.to>pe&&(We={from:We.from,to:pe,level:We.level}),We}var Es;function Jo(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(Es==null){Es=Ce("pre",null,"CodeMirror-line-like");for(var h=0;h<49;++h)Es.appendChild(document.createTextNode("x")),Es.appendChild(Ce("br"));Es.appendChild(document.createTextNode("x"))}rt(A.measure,Es);var x=Es.offsetHeight/50;return x>3&&(A.cachedTextHeight=x),Ke(A.measure),x||1}function fu(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var h=Ce("span","xxxxxxxxxx"),x=Ce("pre",[h],"CodeMirror-line-like");rt(A.measure,x);var _=h.getBoundingClientRect(),E=(_.right-_.left)/10;return E>2&&(A.cachedCharWidth=E),E||10}function Os(A){for(var h=A.display,x={},_={},E=h.gutters.clientLeft,U=h.gutters.firstChild,$=0;U;U=U.nextSibling,++$){var J=A.display.gutterSpecs[$].className;x[J]=U.offsetLeft+U.clientLeft+E,_[J]=U.clientWidth}return{fixedPos:Vi(h),gutterTotalWidth:h.gutters.offsetWidth,gutterLeft:x,gutterWidth:_,wrapperWidth:h.wrapper.clientWidth}}function Vi(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function vh(A){var h=Jo(A.display),x=A.options.lineWrapping,_=x&&Math.max(5,A.display.scroller.clientWidth/fu(A.display)-3);return function(E){if(Ki(A.doc,E))return 0;var U=0;if(E.widgets)for(var $=0;$<E.widgets.length;$++)E.widgets[$].height&&(U+=E.widgets[$].height);return x?U+(Math.ceil(E.text.length/_)||1)*h:U+h}}function Ch(A){var h=A.doc,x=vh(A);h.iter(function(_){var E=x(_);E!=_.height&&Ji(_,E)})}function yl(A,h,x,_){var E=A.display;if(!x&&_t(h).getAttribute("cm-not-content")=="true")return null;var U,$,J=E.lineSpace.getBoundingClientRect();try{U=h.clientX-J.left,$=h.clientY-J.top}catch{return null}var ae=eo(A,U,$),pe;if(_&&ae.xRel>0&&(pe=Qn(A.doc,ae.line).text).length==ae.ch){var We=he(pe,pe.length,A.options.tabSize)-pe.length;ae=Kt(ae.line,Math.max(0,Math.round((U-Sd(A.display).left)/fu(A.display))-We))}return ae}function kA(A,h){if(h>=A.display.viewTo||(h-=A.display.viewFrom,h<0))return null;for(var x=A.display.view,_=0;_<x.length;_++)if(h-=x[_].size,h<0)return _}function wa(A,h,x,_){h==null&&(h=A.doc.first),x==null&&(x=A.doc.first+A.doc.size),_||(_=0);var E=A.display;if(_&&x<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>h)&&(E.updateLineNumbers=h),A.curOp.viewChanged=!0,h>=E.viewTo)Ss&&xa(A.doc,h)<E.viewTo&&zn(A);else if(x<=E.viewFrom)Ss&&jo(A.doc,x+_)>E.viewFrom?zn(A):(E.viewFrom+=_,E.viewTo+=_);else if(h<=E.viewFrom&&x>=E.viewTo)zn(A);else if(h<=E.viewFrom){var U=Kl(A,x,x+_,1);U?(E.view=E.view.slice(U.index),E.viewFrom=U.lineN,E.viewTo+=_):zn(A)}else if(x>=E.viewTo){var $=Kl(A,h,h,-1);$?(E.view=E.view.slice(0,$.index),E.viewTo=$.lineN):zn(A)}else{var J=Kl(A,h,h,-1),ae=Kl(A,x,x+_,1);J&&ae?(E.view=E.view.slice(0,J.index).concat(oc(A,J.lineN,ae.lineN)).concat(E.view.slice(ae.index)),E.viewTo+=_):zn(A)}var pe=E.externalMeasured;pe&&(x<pe.lineN?pe.lineN+=_:h<pe.lineN+pe.size&&(E.externalMeasured=null))}function Qs(A,h,x){A.curOp.viewChanged=!0;var _=A.display,E=A.display.externalMeasured;if(E&&h>=E.lineN&&h<E.lineN+E.size&&(_.externalMeasured=null),!(h<_.viewFrom||h>=_.viewTo)){var U=_.view[kA(A,h)];if(U.node!=null){var $=U.changes||(U.changes=[]);Pe($,x)==-1&&$.push(x)}}}function zn(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Kl(A,h,x,_){var E=kA(A,h),U,$=A.display.view;if(!Ss||x==A.doc.first+A.doc.size)return{index:E,lineN:x};for(var J=A.display.viewFrom,ae=0;ae<E;ae++)J+=$[ae].size;if(J!=h){if(_>0){if(E==$.length-1)return null;U=J+$[E].size-h,E++}else U=J-h;h+=U,x+=U}for(;xa(A.doc,x)!=x;){if(E==(_<0?0:$.length-1))return null;x+=_*$[E-(_<0?1:0)].size,E+=_}return{index:E,lineN:x}}function rA(A,h,x){var _=A.display,E=_.view;E.length==0||h>=_.viewTo||x<=_.viewFrom?(_.view=oc(A,h,x),_.viewFrom=h):(_.viewFrom>h?_.view=oc(A,h,_.viewFrom).concat(_.view):_.viewFrom<h&&(_.view=_.view.slice(kA(A,h))),_.viewFrom=h,_.viewTo<x?_.view=_.view.concat(oc(A,_.viewTo,x)):_.viewTo>x&&(_.view=_.view.slice(0,kA(A,x)))),_.viewTo=x}function uc(A){for(var h=A.display.view,x=0,_=0;_<h.length;_++){var E=h[_];!E.hidden&&(!E.node||E.changes)&&++x}return x}function pu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Nn(A,h){h===void 0&&(h=!0);var x=A.doc,_={},E=_.cursors=document.createDocumentFragment(),U=_.selection=document.createDocumentFragment(),$=A.options.$customCursor;$&&(h=!0);for(var J=0;J<x.sel.ranges.length;J++)if(!(!h&&J==x.sel.primIndex)){var ae=x.sel.ranges[J];if(!(ae.from().line>=A.display.viewTo||ae.to().line<A.display.viewFrom)){var pe=ae.empty();if($){var We=$(A,ae);We&&Ac(A,We,E)}else(pe||A.options.showCursorWhenSelecting)&&Ac(A,ae.head,E);pe||Bf(A,ae,U)}}return _}function Ac(A,h,x){var _=Lt(A,h,"div",null,null,!A.options.singleCursorHeightPerLine),E=x.appendChild(Ce("div","","CodeMirror-cursor"));if(E.style.left=_.left+"px",E.style.top=_.top+"px",E.style.height=Math.max(0,_.bottom-_.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var U=on(A,h,"div",null,null),$=U.right-U.left;E.style.width=($>0?$:A.defaultCharWidth())+"px"}if(_.other){var J=x.appendChild(Ce("div","","CodeMirror-cursor CodeMirror-secondarycursor"));J.style.display="",J.style.left=_.other.left+"px",J.style.top=_.other.top+"px",J.style.height=(_.other.bottom-_.other.top)*.85+"px"}}function IA(A,h){return A.top-h.top||A.left-h.left}function Bf(A,h,x){var _=A.display,E=A.doc,U=document.createDocumentFragment(),$=Sd(A.display),J=$.left,ae=Math.max(_.sizerWidth,Pu(A)-_.sizer.offsetLeft)-$.right,pe=E.direction=="ltr";function We(Fn,ar,Or,yr){ar<0&&(ar=0),ar=Math.round(ar),yr=Math.round(yr),U.appendChild(Ce("div",null,"CodeMirror-selected","position: absolute; left: "+Fn+`px;
                             top: `+ar+"px; width: "+(Or??ae-Fn)+`px;
                             height: `+(yr-ar)+"px"))}function qe(Fn,ar,Or){var yr=Qn(E,Fn),oi=yr.text.length,ko,Da;function Aa(Ja,bl){return on(A,Kt(Fn,Ja),"div",yr,bl)}function Sa(Ja,bl,Vs){var ms=co(A,yr,null,Ja),es=bl=="ltr"==(Vs=="after")?"left":"right",na=Vs=="after"?ms.begin:ms.end-(/\s/.test(yr.text.charAt(ms.end-1))?2:1);return Aa(na,es)[es]}var Xa=En(yr,E.direction);return Et(Xa,ar||0,Or??oi,function(Ja,bl,Vs,ms){var es=Vs=="ltr",na=Aa(Ja,es?"left":"right"),gs=Aa(bl-1,es?"right":"left"),Qd=ar==null&&Ja==0,RA=Or==null&&bl==oi,Ks=ms==0,LA=!Xa||ms==Xa.length-1;if(gs.top-na.top<=3){var Ps=(pe?Qd:RA)&&Ks,a0=(pe?RA:Qd)&&LA,lA=Ps?J:(es?na:gs).left,_c=a0?ae:(es?gs:na).right;We(lA,na.top,_c-lA,na.bottom)}else{var Ua,Hs,$d,zA;es?(Ua=pe&&Qd&&Ks?J:na.left,Hs=pe?ae:Sa(Ja,Vs,"before"),$d=pe?J:Sa(bl,Vs,"after"),zA=pe&&RA&&LA?ae:gs.right):(Ua=pe?Sa(Ja,Vs,"before"):J,Hs=!pe&&Qd&&Ks?ae:na.right,$d=!pe&&RA&&LA?J:gs.left,zA=pe?Sa(bl,Vs,"after"):ae),We(Ua,na.top,Hs-Ua,na.bottom),na.bottom<gs.top&&We(J,na.bottom,null,gs.top),We($d,gs.top,zA-$d,gs.bottom)}(!ko||IA(na,ko)<0)&&(ko=na),IA(gs,ko)<0&&(ko=gs),(!Da||IA(na,Da)<0)&&(Da=na),IA(gs,Da)<0&&(Da=gs)}),{start:ko,end:Da}}var wt=h.from(),gt=h.to();if(wt.line==gt.line)qe(wt.line,wt.ch,gt.ch);else{var Ut=Qn(E,wt.line),cn=Qn(E,gt.line),Bn=Yr(Ut)==Yr(cn),Gn=qe(wt.line,wt.ch,Bn?Ut.text.length+1:null).end,Cn=qe(gt.line,Bn?0:null,gt.ch).start;Bn&&(Gn.top<Cn.top-2?(We(Gn.right,Gn.top,null,Gn.bottom),We(J,Cn.top,Cn.left,Cn.bottom)):We(Gn.right,Gn.top,Cn.left-Gn.right,Gn.bottom)),Gn.bottom<Cn.top&&We(J,Gn.bottom,null,Cn.top)}x.appendChild(U)}function Fu(A){if(A.state.focused){var h=A.display;clearInterval(h.blinker);var x=!0;h.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?h.blinker=setInterval(function(){A.hasFocus()||cc(A),h.cursorDiv.style.visibility=(x=!x)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(h.cursorDiv.style.visibility="hidden")}}function mu(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||kf(A))}function TA(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&cc(A))},100)}function kf(A,h){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Te(A,"focus",A,h),A.state.focused=!0,He(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),b&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Fu(A))}function cc(A,h){A.state.delayingBlurEvent||(A.state.focused&&(Te(A,"blur",A,h),A.state.focused=!1,ft(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Du(A){for(var h=A.display,x=h.lineDiv.offsetTop,_=Math.max(0,h.scroller.getBoundingClientRect().top),E=h.lineDiv.getBoundingClientRect().top,U=0,$=0;$<h.view.length;$++){var J=h.view[$],ae=A.options.lineWrapping,pe=void 0,We=0;if(!J.hidden){if(E+=J.line.height,p&&g<8){var qe=J.node.offsetTop+J.node.offsetHeight;pe=qe-x,x=qe}else{var wt=J.node.getBoundingClientRect();pe=wt.bottom-wt.top,!ae&&J.text.firstChild&&(We=J.text.firstChild.getBoundingClientRect().right-wt.left-1)}var gt=J.line.height-pe;if((gt>.005||gt<-.005)&&(E<_&&(U-=gt),Ji(J.line,pe),yo(J.line),J.rest))for(var Ut=0;Ut<J.rest.length;Ut++)yo(J.rest[Ut]);if(We>A.display.sizerWidth){var cn=Math.ceil(We/fu(A.display));cn>A.display.maxLineLength&&(A.display.maxLineLength=cn,A.display.maxLine=J.line,A.display.maxLineChanged=!0)}}}Math.abs(U)>2&&(h.scroller.scrollTop+=U)}function yo(A){if(A.widgets)for(var h=0;h<A.widgets.length;++h){var x=A.widgets[h],_=x.node.parentNode;_&&(x.height=_.offsetHeight)}}function gu(A,h,x){var _=x&&x.top!=null?Math.max(0,x.top):A.scroller.scrollTop;_=Math.floor(_-EA(A));var E=x&&x.bottom!=null?x.bottom:_+A.wrapper.clientHeight,U=$e(h,_),$=$e(h,E);if(x&&x.ensure){var J=x.ensure.from.line,ae=x.ensure.to.line;J<U?(U=J,$=$e(h,Ia(Qn(h,J))+A.wrapper.clientHeight)):Math.min(ae,h.lastLine())>=$&&(U=$e(h,Ia(Qn(h,ae))-A.wrapper.clientHeight),$=ae)}return{from:U,to:Math.max($,U+1)}}function Qc(A,h){if(!de(A,"scrollCursorIntoView")){var x=A.display,_=x.sizer.getBoundingClientRect(),E=null,U=x.wrapper.ownerDocument;if(h.top+_.top<0?E=!0:h.bottom+_.top>(U.defaultView.innerHeight||U.documentElement.clientHeight)&&(E=!1),E!=null&&!Q){var $=Ce("div","",null,`position: absolute;
                         top: `+(h.top-x.viewOffset-EA(A.display))+`px;
                         height: `+(h.bottom-h.top+du(A)+x.barHeight)+`px;
                         left: `+h.left+"px; width: "+Math.max(2,h.right-h.left)+"px;");A.display.lineSpace.appendChild($),$.scrollIntoView(E),A.display.lineSpace.removeChild($)}}}function Ip(A,h,x,_){_==null&&(_=0);var E;!A.options.lineWrapping&&h==x&&(x=h.sticky=="before"?Kt(h.line,h.ch+1,"before"):h,h=h.ch?Kt(h.line,h.sticky=="before"?h.ch-1:h.ch,"after"):h);for(var U=0;U<5;U++){var $=!1,J=Lt(A,h),ae=!x||x==h?J:Lt(A,x);E={left:Math.min(J.left,ae.left),top:Math.min(J.top,ae.top)-_,right:Math.max(J.left,ae.left),bottom:Math.max(J.bottom,ae.bottom)+_};var pe=kd(A,E),We=A.doc.scrollTop,qe=A.doc.scrollLeft;if(pe.scrollTop!=null&&(dc(A,pe.scrollTop),Math.abs(A.doc.scrollTop-We)>1&&($=!0)),pe.scrollLeft!=null&&($o(A,pe.scrollLeft),Math.abs(A.doc.scrollLeft-qe)>1&&($=!0)),!$)break}return E}function If(A,h){var x=kd(A,h);x.scrollTop!=null&&dc(A,x.scrollTop),x.scrollLeft!=null&&$o(A,x.scrollLeft)}function kd(A,h){var x=A.display,_=Jo(A.display);h.top<0&&(h.top=0);var E=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:x.scroller.scrollTop,U=Wc(A),$={};h.bottom-h.top>U&&(h.bottom=h.top+U);var J=A.doc.height+gh(x),ae=h.top<_,pe=h.bottom>J-_;if(h.top<E)$.scrollTop=ae?0:h.top;else if(h.bottom>E+U){var We=Math.min(h.top,(pe?J:h.bottom)-U);We!=E&&($.scrollTop=We)}var qe=A.options.fixedGutter?0:x.gutters.offsetWidth,wt=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:x.scroller.scrollLeft-qe,gt=Pu(A)-x.gutters.offsetWidth,Ut=h.right-h.left>gt;return Ut&&(h.right=h.left+gt),h.left<10?$.scrollLeft=0:h.left<wt?$.scrollLeft=Math.max(0,h.left+qe-(Ut?0:10)):h.right>gt+wt-3&&($.scrollLeft=h.right+(Ut?0:10)-gt),$}function _h(A,h){h!=null&&(Er(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+h)}function to(A){Er(A);var h=A.getCursor();A.curOp.scrollToPos={from:h,to:h,margin:A.options.cursorScrollMargin}}function ea(A,h,x){(h!=null||x!=null)&&Er(A),h!=null&&(A.curOp.scrollLeft=h),x!=null&&(A.curOp.scrollTop=x)}function gr(A,h){Er(A),A.curOp.scrollToPos=h}function Er(A){var h=A.curOp.scrollToPos;if(h){A.curOp.scrollToPos=null;var x=dr(A,h.from),_=dr(A,h.to);KA(A,x,_,h.margin)}}function KA(A,h,x,_){var E=kd(A,{left:Math.min(h.left,x.left),top:Math.min(h.top,x.top)-_,right:Math.max(h.right,x.right),bottom:Math.max(h.bottom,x.bottom)+_});ea(A,E.scrollLeft,E.scrollTop)}function dc(A,h){Math.abs(A.doc.scrollTop-h)<2||(i||_l(A,{top:h}),$c(A,h,!0),i&&_l(A),hc(A,100))}function $c(A,h,x){h=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,h)),!(A.display.scroller.scrollTop==h&&!x)&&(A.doc.scrollTop=h,A.display.scrollbars.setScrollTop(h),A.display.scroller.scrollTop!=h&&(A.display.scroller.scrollTop=h))}function $o(A,h,x,_){h=Math.max(0,Math.min(h,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((x?h==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-h)<2)&&!_)&&(A.doc.scrollLeft=h,f(A),A.display.scroller.scrollLeft!=h&&(A.display.scroller.scrollLeft=h),A.display.scrollbars.setScrollLeft(h))}function iA(A){var h=A.display,x=h.gutters.offsetWidth,_=Math.round(A.doc.height+gh(A.display));return{clientHeight:h.scroller.clientHeight,viewHeight:h.wrapper.clientHeight,scrollWidth:h.scroller.scrollWidth,clientWidth:h.scroller.clientWidth,viewWidth:h.wrapper.clientWidth,barLeft:A.options.fixedGutter?x:0,docHeight:_,scrollHeight:_+du(A)+h.barHeight,nativeBarWidth:h.nativeBarWidth,gutterWidth:x}}var va=function(A,h,x){this.cm=x;var _=this.vert=Ce("div",[Ce("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=Ce("div",[Ce("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=E.tabIndex=-1,A(_),A(E),Tt(_,"scroll",function(){_.clientHeight&&h(_.scrollTop,"vertical")}),Tt(E,"scroll",function(){E.clientWidth&&h(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};va.prototype.update=function(A){var h=A.scrollWidth>A.clientWidth+1,x=A.scrollHeight>A.clientHeight+1,_=A.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=h?_+"px":"0";var E=A.viewHeight-(h?_:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+E)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(h){this.horiz.style.display="block",this.horiz.style.right=x?_+"px":"0",this.horiz.style.left=A.barLeft+"px";var U=A.viewWidth-A.barLeft-(x?_:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+U)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(_==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?_:0,bottom:h?_:0}},va.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},va.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},va.prototype.zeroWidthHack=function(){var A=ce&&!W?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new be,this.disableVert=new be},va.prototype.enableZeroWidthBar=function(A,h,x){A.style.visibility="";function _(){var E=A.getBoundingClientRect(),U=x=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1);U!=A?A.style.visibility="hidden":h.set(1e3,_)}h.set(1e3,_)},va.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var oA=function(){};oA.prototype.update=function(){return{bottom:0,right:0}},oA.prototype.setScrollLeft=function(){},oA.prototype.setScrollTop=function(){},oA.prototype.clear=function(){};function vl(A,h){h||(h=iA(A));var x=A.display.barWidth,_=A.display.barHeight;Uo(A,h);for(var E=0;E<4&&x!=A.display.barWidth||_!=A.display.barHeight;E++)x!=A.display.barWidth&&A.options.lineWrapping&&Du(A),Uo(A,iA(A)),x=A.display.barWidth,_=A.display.barHeight}function Uo(A,h){var x=A.display,_=x.scrollbars.update(h);x.sizer.style.paddingRight=(x.barWidth=_.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=_.bottom)+"px",x.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=_.bottom+"px",x.scrollbarFiller.style.width=_.right+"px"):x.scrollbarFiller.style.display="",_.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=_.bottom+"px",x.gutterFiller.style.width=h.gutterWidth+"px"):x.gutterFiller.style.display=""}var Ro={native:va,null:oA};function Tf(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&ft(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Ro[A.options.scrollbarStyle](function(h){A.display.wrapper.insertBefore(h,A.display.scrollbarFiller),Tt(h,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),h.setAttribute("cm-not-content","true")},function(h,x){x=="horizontal"?$o(A,h):dc(A,h)},A),A.display.scrollbars.addClass&&He(A.display.wrapper,A.display.scrollbars.addClass)}var Uu=0;function Ru(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uu,markArrays:null},zc(A.curOp)}function aA(A){var h=A.curOp;h&&hh(h,function(x){for(var _=0;_<x.ops.length;_++)x.ops[_].cm.curOp=null;Kf(x)})}function Kf(A){for(var h=A.ops,x=0;x<h.length;x++)Yc(h[x]);for(var _=0;_<h.length;_++)Lu(h[_]);for(var E=0;E<h.length;E++)bh(h[E]);for(var U=0;U<h.length;U++)ke(h[U]);for(var $=0;$<h.length;$++)Cl(h[$])}function Yc(A){var h=A.cm,x=h.display;Pf(h),A.updateMaxLine&&Gl(h),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<x.viewFrom||A.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&h.options.lineWrapping,A.update=A.mustUpdate&&new $s(h,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function Lu(A){A.updatedDisplay=A.mustUpdate&&Td(A.cm,A.update)}function bh(A){var h=A.cm,x=h.display;A.updatedDisplay&&Du(h),A.barMeasure=iA(h),x.maxLineChanged&&!h.options.lineWrapping&&(A.adjustWidthTo=sc(h,x.maxLine,x.maxLine.text.length).left+3,h.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+A.adjustWidthTo+du(h)+h.display.barWidth),A.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+A.adjustWidthTo-Pu(h))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=x.input.prepareSelection())}function ke(A){var h=A.cm;A.adjustWidthTo!=null&&(h.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<h.doc.scrollLeft&&$o(h,Math.min(h.display.scroller.scrollLeft,A.maxScrollLeft),!0),h.display.maxLineChanged=!1);var x=A.focus&&A.focus==Qt(mt(h));A.preparedSelection&&h.display.input.showSelection(A.preparedSelection,x),(A.updatedDisplay||A.startHeight!=h.doc.height)&&vl(h,A.barMeasure),A.updatedDisplay&&u(h,A.barMeasure),A.selectionChanged&&Fu(h),h.state.focused&&A.updateInput&&h.display.input.reset(A.typing),x&&mu(A.cm)}function Cl(A){var h=A.cm,x=h.display,_=h.doc;if(A.updatedDisplay&&xh(h,A.update),x.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),A.scrollTop!=null&&$c(h,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&$o(h,A.scrollLeft,!0,!0),A.scrollToPos){var E=Ip(h,Br(_,A.scrollToPos.from),Br(_,A.scrollToPos.to),A.scrollToPos.margin);Qc(h,E)}var U=A.maybeHiddenMarkers,$=A.maybeUnhiddenMarkers;if(U)for(var J=0;J<U.length;++J)U[J].lines.length||Te(U[J],"hide");if($)for(var ae=0;ae<$.length;++ae)$[ae].lines.length&&Te($[ae],"unhide");x.wrapper.offsetHeight&&(_.scrollTop=h.display.scroller.scrollTop),A.changeObjs&&Te(h,"changes",h,A.changeObjs),A.update&&A.update.finish()}function Ka(A,h){if(A.curOp)return h();Ru(A);try{return h()}finally{aA(A)}}function no(A,h){return function(){if(A.curOp)return h.apply(A,arguments);Ru(A);try{return h.apply(A,arguments)}finally{aA(A)}}}function jr(A){return function(){if(this.curOp)return A.apply(this,arguments);Ru(this);try{return A.apply(this,arguments)}finally{aA(this)}}}function sa(A){return function(){var h=this.cm;if(!h||h.curOp)return A.apply(this,arguments);Ru(h);try{return A.apply(this,arguments)}finally{aA(h)}}}function hc(A,h){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(h,Pt(fc,A))}function fc(A){var h=A.doc;if(!(h.highlightFrontier>=A.display.viewTo)){var x=+new Date+A.options.workTime,_=qa(A,h.highlightFrontier),E=[];h.iter(_.line,Math.min(h.first+h.size,A.display.viewTo+500),function(U){if(_.line>=A.display.viewFrom){var $=U.styles,J=U.text.length>A.options.maxHighlightLength?ka(h.mode,_.state):null,ae=Ou(A,U,_,!0);J&&(_.state=J),U.styles=ae.styles;var pe=U.styleClasses,We=ae.classes;We?U.styleClasses=We:pe&&(U.styleClasses=null);for(var qe=!$||$.length!=U.styles.length||pe!=We&&(!pe||!We||pe.bgClass!=We.bgClass||pe.textClass!=We.textClass),wt=0;!qe&&wt<$.length;++wt)qe=$[wt]!=U.styles[wt];qe&&E.push(_.line),U.stateAfter=_.save(),_.nextLine()}else U.text.length<=A.options.maxHighlightLength&&Va(A,U.text,_),U.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>x)return hc(A,A.options.workDelay),!0}),h.highlightFrontier=_.line,h.modeFrontier=Math.max(h.modeFrontier,_.line),E.length&&Ka(A,function(){for(var U=0;U<E.length;U++)Qs(A,E[U],"text")})}}var $s=function(A,h,x){var _=A.display;this.viewport=h,this.visible=gu(_,A.doc,h),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=Pu(A),this.force=x,this.dims=Os(A),this.events=[]};$s.prototype.signal=function(A,h){Se(A,h)&&this.events.push(arguments)},$s.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Te.apply(null,this.events[A])};function Pf(A){var h=A.display;!h.scrollbarsClipped&&h.scroller.offsetWidth&&(h.nativeBarWidth=h.scroller.offsetWidth-h.scroller.clientWidth,h.heightForcer.style.height=du(A)+"px",h.sizer.style.marginBottom=-h.nativeBarWidth+"px",h.sizer.style.borderRightWidth=du(A)+"px",h.scrollbarsClipped=!0)}function Id(A){if(A.hasFocus())return null;var h=Qt(mt(A));if(!h||!tn(A.display.lineDiv,h))return null;var x={activeElt:h};if(window.getSelection){var _=kt(A).getSelection();_.anchorNode&&_.extend&&tn(A.display.lineDiv,_.anchorNode)&&(x.anchorNode=_.anchorNode,x.anchorOffset=_.anchorOffset,x.focusNode=_.focusNode,x.focusOffset=_.focusOffset)}return x}function pc(A){if(!(!A||!A.activeElt||A.activeElt==Qt(dt(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&tn(document.body,A.anchorNode)&&tn(document.body,A.focusNode))){var h=A.activeElt.ownerDocument,x=h.defaultView.getSelection(),_=h.createRange();_.setEnd(A.anchorNode,A.anchorOffset),_.collapse(!1),x.removeAllRanges(),x.addRange(_),x.extend(A.focusNode,A.focusOffset)}}function Td(A,h){var x=A.display,_=A.doc;if(h.editorIsHidden)return zn(A),!1;if(!h.force&&h.visible.from>=x.viewFrom&&h.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&uc(A)==0)return!1;C(A)&&(zn(A),h.dims=Os(A));var E=_.first+_.size,U=Math.max(h.visible.from-A.options.viewportMargin,_.first),$=Math.min(E,h.visible.to+A.options.viewportMargin);x.viewFrom<U&&U-x.viewFrom<20&&(U=Math.max(_.first,x.viewFrom)),x.viewTo>$&&x.viewTo-$<20&&($=Math.min(E,x.viewTo)),Ss&&(U=xa(A.doc,U),$=jo(A.doc,$));var J=U!=x.viewFrom||$!=x.viewTo||x.lastWrapHeight!=h.wrapperHeight||x.lastWrapWidth!=h.wrapperWidth;rA(A,U,$),x.viewOffset=Ia(Qn(A.doc,x.viewFrom)),A.display.mover.style.top=x.viewOffset+"px";var ae=uc(A);if(!J&&ae==0&&!h.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var pe=Id(A);return ae>4&&(x.lineDiv.style.display="none"),Ff(A,x.updateLineNumbers,h.dims),ae>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,pc(pe),Ke(x.cursorDiv),Ke(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,J&&(x.lastWrapHeight=h.wrapperHeight,x.lastWrapWidth=h.wrapperWidth,hc(A,400)),x.updateLineNumbers=null,!0}function xh(A,h){for(var x=h.viewport,_=!0;;_=!1){if(!_||!A.options.lineWrapping||h.oldDisplayWidth==Pu(A)){if(x&&x.top!=null&&(x={top:Math.min(A.doc.height+gh(A.display)-Wc(A),x.top)}),h.visible=gu(A.display,A.doc,x),h.visible.from>=A.display.viewFrom&&h.visible.to<=A.display.viewTo)break}else _&&(h.visible=gu(A.display,A.doc,x));if(!Td(A,h))break;Du(A);var E=iA(A);pu(A),vl(A,E),u(A,E),h.force=!1}h.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(h.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function _l(A,h){var x=new $s(A,h);if(Td(A,x)){Du(A),xh(A,x);var _=iA(A);pu(A),vl(A,_),u(A,_),x.finish()}}function Ff(A,h,x){var _=A.display,E=A.options.lineNumbers,U=_.lineDiv,$=U.firstChild;function J(Ut){var cn=Ut.nextSibling;return b&&ce&&A.display.currentWheelTarget==Ut?Ut.style.display="none":Ut.parentNode.removeChild(Ut),cn}for(var ae=_.view,pe=_.viewFrom,We=0;We<ae.length;We++){var qe=ae[We];if(!qe.hidden)if(!qe.node||qe.node.parentNode!=U){var wt=ac(A,qe,pe,x);U.insertBefore(wt,$)}else{for(;$!=qe.node;)$=J($);var gt=E&&h!=null&&h<=pe&&qe.lineNumber;qe.changes&&(Pe(qe.changes,"gutter")>-1&&(gt=!1),fh(A,qe,pe,x)),gt&&(Ke(qe.lineNumber),qe.lineNumber.appendChild(document.createTextNode(sn(A.options,pe)))),$=qe.node.nextSibling}pe+=qe.size}for(;$;)$=J($)}function O(A){var h=A.gutters.offsetWidth;A.sizer.style.marginLeft=h+"px",Do(A,"gutterChanged",A)}function u(A,h){A.display.sizer.style.minHeight=h.docHeight+"px",A.display.heightForcer.style.top=h.docHeight+"px",A.display.gutters.style.height=h.docHeight+A.display.barHeight+du(A)+"px"}function f(A){var h=A.display,x=h.view;if(!(!h.alignWidgets&&(!h.gutters.firstChild||!A.options.fixedGutter))){for(var _=Vi(h)-h.scroller.scrollLeft+A.doc.scrollLeft,E=h.gutters.offsetWidth,U=_+"px",$=0;$<x.length;$++)if(!x[$].hidden){A.options.fixedGutter&&(x[$].gutter&&(x[$].gutter.style.left=U),x[$].gutterBackground&&(x[$].gutterBackground.style.left=U));var J=x[$].alignable;if(J)for(var ae=0;ae<J.length;ae++)J[ae].style.left=U}A.options.fixedGutter&&(h.gutters.style.left=_+E+"px")}}function C(A){if(!A.options.lineNumbers)return!1;var h=A.doc,x=sn(A.options,h.first+h.size-1),_=A.display;if(x.length!=_.lineNumChars){var E=_.measure.appendChild(Ce("div",[Ce("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),U=E.firstChild.offsetWidth,$=E.offsetWidth-U;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(U,_.lineGutter.offsetWidth-$)+1,_.lineNumWidth=_.lineNumInnerWidth+$,_.lineNumChars=_.lineNumInnerWidth?x.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",O(A.display),!0}return!1}function M(A,h){for(var x=[],_=!1,E=0;E<A.length;E++){var U=A[E],$=null;if(typeof U!="string"&&($=U.style,U=U.className),U=="CodeMirror-linenumbers")if(h)_=!0;else continue;x.push({className:U,style:$})}return h&&!_&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function I(A){var h=A.gutters,x=A.gutterSpecs;Ke(h),A.lineGutter=null;for(var _=0;_<x.length;++_){var E=x[_],U=E.className,$=E.style,J=h.appendChild(Ce("div",null,"CodeMirror-gutter "+U));$&&(J.style.cssText=$),U=="CodeMirror-linenumbers"&&(A.lineGutter=J,J.style.width=(A.lineNumWidth||1)+"px")}h.style.display=x.length?"":"none",O(A)}function L(A){I(A.display),wa(A),f(A)}function j(A,h,x,_){var E=this;this.input=x,E.scrollbarFiller=Ce("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=Ce("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=Rt("div",null,"CodeMirror-code"),E.selectionDiv=Ce("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=Ce("div",null,"CodeMirror-cursors"),E.measure=Ce("div",null,"CodeMirror-measure"),E.lineMeasure=Ce("div",null,"CodeMirror-measure"),E.lineSpace=Rt("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var U=Rt("div",[E.lineSpace],"CodeMirror-lines");E.mover=Ce("div",[U],null,"position: relative"),E.sizer=Ce("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=Ce("div",null,null,"position: absolute; height: "+Ze+"px; width: 1px;"),E.gutters=Ce("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=Ce("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=Ce("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),k&&P>=105&&(E.wrapper.style.clipPath="inset(0px)"),E.wrapper.setAttribute("translate","no"),p&&g<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!b&&!(i&&re)&&(E.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(E.wrapper):A(E.wrapper)),E.viewFrom=E.viewTo=h.first,E.reportedViewFrom=E.reportedViewTo=h.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=M(_.gutters,_.lineNumbers),I(E),x.init(E)}var G=0,te=null;p?te=-.53:i?te=15:k?te=-.7:Z&&(te=-1/3);function ue(A){var h=A.wheelDeltaX,x=A.wheelDeltaY;return h==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(h=A.detail),x==null&&A.detail&&A.axis==A.VERTICAL_AXIS?x=A.detail:x==null&&(x=A.wheelDelta),{x:h,y:x}}function fe(A){var h=ue(A);return h.x*=te,h.y*=te,h}function Ee(A,h){k&&P==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var x=ue(h),_=x.x,E=x.y,U=te;h.deltaMode===0&&(_=h.deltaX,E=h.deltaY,U=1);var $=A.display,J=$.scroller,ae=J.scrollWidth>J.clientWidth,pe=J.scrollHeight>J.clientHeight;if(_&&ae||E&&pe){if(E&&ce&&b){e:for(var We=h.target,qe=$.view;We!=J;We=We.parentNode)for(var wt=0;wt<qe.length;wt++)if(qe[wt].node==We){A.display.currentWheelTarget=We;break e}}if(_&&!i&&!R&&U!=null){E&&pe&&dc(A,Math.max(0,J.scrollTop+E*U)),$o(A,Math.max(0,J.scrollLeft+_*U)),(!E||E&&pe)&&Xe(h),$.wheelStartX=null;return}if(E&&U!=null){var gt=E*U,Ut=A.doc.scrollTop,cn=Ut+$.wrapper.clientHeight;gt<0?Ut=Math.max(0,Ut+gt-50):cn=Math.min(A.doc.height,cn+gt+50),_l(A,{top:Ut,bottom:cn})}G<20&&h.deltaMode!==0&&($.wheelStartX==null?($.wheelStartX=J.scrollLeft,$.wheelStartY=J.scrollTop,$.wheelDX=_,$.wheelDY=E,setTimeout(function(){if($.wheelStartX!=null){var Bn=J.scrollLeft-$.wheelStartX,Gn=J.scrollTop-$.wheelStartY,Cn=Gn&&$.wheelDY&&Gn/$.wheelDY||Bn&&$.wheelDX&&Bn/$.wheelDX;$.wheelStartX=$.wheelStartY=null,Cn&&(te=(te*G+Cn)/(G+1),++G)}},200)):($.wheelDX+=_,$.wheelDY+=E))}}var ze=function(A,h){this.ranges=A,this.primIndex=h};ze.prototype.primary=function(){return this.ranges[this.primIndex]},ze.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var h=0;h<this.ranges.length;h++){var x=this.ranges[h],_=A.ranges[h];if(!cr(x.anchor,_.anchor)||!cr(x.head,_.head))return!1}return!0},ze.prototype.deepCopy=function(){for(var A=[],h=0;h<this.ranges.length;h++)A[h]=new Fe(Ii(this.ranges[h].anchor),Ii(this.ranges[h].head));return new ze(A,this.primIndex)},ze.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},ze.prototype.contains=function(A,h){h||(h=A);for(var x=0;x<this.ranges.length;x++){var _=this.ranges[x];if(Mn(h,_.from())>=0&&Mn(A,_.to())<=0)return x}return-1};var Fe=function(A,h){this.anchor=A,this.head=h};Fe.prototype.from=function(){return ya(this.anchor,this.head)},Fe.prototype.to=function(){return ii(this.anchor,this.head)},Fe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ge(A,h,x){var _=A&&A.options.selectionsMayTouch,E=h[x];h.sort(function(wt,gt){return Mn(wt.from(),gt.from())}),x=Pe(h,E);for(var U=1;U<h.length;U++){var $=h[U],J=h[U-1],ae=Mn(J.to(),$.from());if(_&&!$.empty()?ae>0:ae>=0){var pe=ya(J.from(),$.from()),We=ii(J.to(),$.to()),qe=J.empty()?$.from()==$.head:J.from()==J.head;U<=x&&--x,h.splice(--U,2,new Fe(qe?We:pe,qe?pe:We))}}return new ze(h,x)}function je(A,h){return new ze([new Fe(A,h||A)],0)}function ct(A){return A.text?Kt(A.from.line+A.text.length-1,bn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function Ot(A,h){if(Mn(A,h.from)<0)return A;if(Mn(A,h.to)<=0)return ct(h);var x=A.line+h.text.length-(h.to.line-h.from.line)-1,_=A.ch;return A.line==h.to.line&&(_+=ct(h).ch-h.to.ch),Kt(x,_)}function Ye(A,h){for(var x=[],_=0;_<A.sel.ranges.length;_++){var E=A.sel.ranges[_];x.push(new Fe(Ot(E.anchor,h),Ot(E.head,h)))}return Ge(A.cm,x,A.sel.primIndex)}function Ct(A,h,x){return A.line==h.line?Kt(x.line,A.ch-h.ch+x.ch):Kt(x.line+(A.line-h.line),A.ch)}function Gt(A,h,x){for(var _=[],E=Kt(A.first,0),U=E,$=0;$<h.length;$++){var J=h[$],ae=Ct(J.from,E,U),pe=Ct(ct(J),E,U);if(E=J.to,U=pe,x=="around"){var We=A.sel.ranges[$],qe=Mn(We.head,We.anchor)<0;_[$]=new Fe(qe?pe:ae,qe?ae:pe)}else _[$]=new Fe(ae,ae)}return new ze(_,A.sel.primIndex)}function It(A){A.doc.mode=pi(A.options,A.doc.modeOption),Jt(A)}function Jt(A){A.doc.iter(function(h){h.stateAfter&&(h.stateAfter=null),h.styles&&(h.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,hc(A,100),A.state.modeGen++,A.curOp&&wa(A)}function An(A,h){return h.from.ch==0&&h.to.ch==0&&bn(h.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function ln(A,h,x,_){function E(Cn){return x?x[Cn]:null}function U(Cn,Fn,ar){ic(Cn,Fn,ar,_),Do(Cn,"change",Cn,h)}function $(Cn,Fn){for(var ar=[],Or=Cn;Or<Fn;++Or)ar.push(new ku(pe[Or],E(Or),_));return ar}var J=h.from,ae=h.to,pe=h.text,We=Qn(A,J.line),qe=Qn(A,ae.line),wt=bn(pe),gt=E(pe.length-1),Ut=ae.line-J.line;if(h.full)A.insert(0,$(0,pe.length)),A.remove(pe.length,A.size-pe.length);else if(An(A,h)){var cn=$(0,pe.length-1);U(qe,qe.text,gt),Ut&&A.remove(J.line,Ut),cn.length&&A.insert(J.line,cn)}else if(We==qe)if(pe.length==1)U(We,We.text.slice(0,J.ch)+wt+We.text.slice(ae.ch),gt);else{var Bn=$(1,pe.length-1);Bn.push(new ku(wt+We.text.slice(ae.ch),gt,_)),U(We,We.text.slice(0,J.ch)+pe[0],E(0)),A.insert(J.line+1,Bn)}else if(pe.length==1)U(We,We.text.slice(0,J.ch)+pe[0]+qe.text.slice(ae.ch),E(0)),A.remove(J.line+1,Ut);else{U(We,We.text.slice(0,J.ch)+pe[0],E(0)),U(qe,wt+qe.text.slice(ae.ch),gt);var Gn=$(1,pe.length-1);Ut>1&&A.remove(J.line+1,Ut-1),A.insert(J.line+1,Gn)}Do(A,"change",A,h)}function vn(A,h,x){function _(E,U,$){if(E.linked)for(var J=0;J<E.linked.length;++J){var ae=E.linked[J];if(ae.doc!=U){var pe=$&&ae.sharedHist;x&&!pe||(h(ae.doc,pe),_(ae.doc,E,pe))}}}_(A,null,!0)}function er(A,h){if(h.cm)throw new Error("This document is already in use.");A.doc=h,h.cm=A,Ch(A),It(A),kr(A),A.options.direction=h.direction,A.options.lineWrapping||Gl(A),A.options.mode=h.modeOption,wa(A)}function kr(A){(A.doc.direction=="rtl"?He:ft)(A.display.lineDiv,"CodeMirror-rtl")}function In(A){Ka(A,function(){kr(A),wa(A)})}function _r(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function Zn(A,h){var x={from:Ii(h.from),to:ct(h),text:so(A,h.from,h.to)};return Bs(A,x,h.from.line,h.to.line+1),vn(A,function(_){return Bs(_,x,h.from.line,h.to.line+1)},!0),x}function zi(A){for(;A.length;){var h=bn(A);if(h.ranges)A.pop();else break}}function bi(A,h){if(h)return zi(A.done),bn(A.done);if(A.done.length&&!bn(A.done).ranges)return bn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),bn(A.done)}function Hr(A,h,x,_){var E=A.history;E.undone.length=0;var U=+new Date,$,J;if((E.lastOp==_||E.lastOrigin==h.origin&&h.origin&&(h.origin.charAt(0)=="+"&&E.lastModTime>U-(A.cm?A.cm.options.historyEventDelay:500)||h.origin.charAt(0)=="*"))&&($=bi(E,E.lastOp==_)))J=bn($.changes),Mn(h.from,h.to)==0&&Mn(h.from,J.to)==0?J.to=ct(h):$.changes.push(Zn(A,h));else{var ae=bn(E.done);for((!ae||!ae.ranges)&&Fi(A.sel,E.done),$={changes:[Zn(A,h)],generation:E.generation},E.done.push($);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(x),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=U,E.lastOp=E.lastSelOp=_,E.lastOrigin=E.lastSelOrigin=h.origin,J||Te(A,"historyAdded")}function gi(A,h,x,_){var E=h.charAt(0);return E=="*"||E=="+"&&x.ranges.length==_.ranges.length&&x.somethingSelected()==_.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function Yo(A,h,x,_){var E=A.history,U=_&&_.origin;x==E.lastSelOp||U&&E.lastSelOrigin==U&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==U||gi(A,U,bn(E.done),h))?E.done[E.done.length-1]=h:Fi(h,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=U,E.lastSelOp=x,_&&_.clearRedo!==!1&&zi(E.undone)}function Fi(A,h){var x=bn(h);x&&x.ranges&&x.equals(A)||h.push(A)}function Bs(A,h,x,_){var E=h["spans_"+A.id],U=0;A.iter(Math.max(A.first,x),Math.min(A.first+A.size,_),function($){$.markedSpans&&((E||(E=h["spans_"+A.id]={}))[U]=$.markedSpans),++U})}function fs(A){if(!A)return null;for(var h,x=0;x<A.length;++x)A[x].marker.explicitlyCleared?h||(h=A.slice(0,x)):h&&h.push(A[x]);return h?h.length?h:null:A}function Wo(A,h){var x=h["spans_"+A.id];if(!x)return null;for(var _=[],E=0;E<h.text.length;++E)_.push(fs(x[E]));return _}function ks(A,h){var x=Wo(A,h),_=As(A,h);if(!x)return _;if(!_)return x;for(var E=0;E<x.length;++E){var U=x[E],$=_[E];if(U&&$)e:for(var J=0;J<$.length;++J){for(var ae=$[J],pe=0;pe<U.length;++pe)if(U[pe].marker==ae.marker)continue e;U.push(ae)}else $&&(x[E]=$)}return x}function Ca(A,h,x){for(var _=[],E=0;E<A.length;++E){var U=A[E];if(U.ranges){_.push(x?ze.prototype.deepCopy.call(U):U);continue}var $=U.changes,J=[];_.push({changes:J});for(var ae=0;ae<$.length;++ae){var pe=$[ae],We=void 0;if(J.push({from:pe.from,to:pe.to,text:pe.text}),h)for(var qe in pe)(We=qe.match(/^spans_(\d+)$/))&&Pe(h,Number(We[1]))>-1&&(bn(J)[qe]=pe[qe],delete pe[qe])}}return _}function vo(A,h,x,_){if(_){var E=A.anchor;if(x){var U=Mn(h,E)<0;U!=Mn(x,E)<0?(E=h,h=x):U!=Mn(h,x)<0&&(h=x)}return new Fe(E,h)}else return new Fe(x||h,h)}function Pl(A,h,x,_,E){E==null&&(E=A.cm&&(A.cm.display.shift||A.extend)),Ei(A,new ze([vo(A.sel.primary(),h,x,E)],0),_)}function PA(A,h,x){for(var _=[],E=A.cm&&(A.cm.display.shift||A.extend),U=0;U<A.sel.ranges.length;U++)_[U]=vo(A.sel.ranges[U],h[U],null,E);var $=Ge(A.cm,_,A.sel.primIndex);Ei(A,$,x)}function Is(A,h,x,_){var E=A.sel.ranges.slice(0);E[h]=x,Ei(A,Ge(A.cm,E,A.sel.primIndex),_)}function yu(A,h,x,_){Ei(A,je(h,x),_)}function _a(A,h,x){var _={ranges:h.ranges,update:function(E){this.ranges=[];for(var U=0;U<E.length;U++)this.ranges[U]=new Fe(Br(A,E[U].anchor),Br(A,E[U].head))},origin:x&&x.origin};return Te(A,"beforeSelectionChange",A,_),A.cm&&Te(A.cm,"beforeSelectionChange",A.cm,_),_.ranges!=h.ranges?Ge(A.cm,_.ranges,_.ranges.length-1):h}function Bo(A,h,x){var _=A.history.done,E=bn(_);E&&E.ranges?(_[_.length-1]=h,ho(A,h,x)):Ei(A,h,x)}function Ei(A,h,x){ho(A,h,x),Yo(A,A.sel,A.cm?A.cm.curOp.id:NaN,x)}function ho(A,h,x){(Se(A,"beforeSelectionChange")||A.cm&&Se(A.cm,"beforeSelectionChange"))&&(h=_a(A,h,x));var _=x&&x.bias||(Mn(h.primary().head,A.sel.primary().head)<0?-1:1);Mo(A,Za(A,h,_,!0)),!(x&&x.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&to(A.cm)}function Mo(A,h){h.equals(A.sel)||(A.sel=h,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,ve(A.cm)),Do(A,"cursorActivity",A))}function Pa(A){Mo(A,Za(A,A.sel,null,!1))}function Za(A,h,x,_){for(var E,U=0;U<h.ranges.length;U++){var $=h.ranges[U],J=h.ranges.length==A.sel.ranges.length&&A.sel.ranges[U],ae=mc(A,$.anchor,J&&J.anchor,x,_),pe=$.head==$.anchor?ae:mc(A,$.head,J&&J.head,x,_);(E||ae!=$.anchor||pe!=$.head)&&(E||(E=h.ranges.slice(0,U)),E[U]=new Fe(ae,pe))}return E?Ge(A.cm,E,h.primIndex):h}function ta(A,h,x,_,E){var U=Qn(A,h.line);if(U.markedSpans)for(var $=0;$<U.markedSpans.length;++$){var J=U.markedSpans[$],ae=J.marker,pe="selectLeft"in ae?!ae.selectLeft:ae.inclusiveLeft,We="selectRight"in ae?!ae.selectRight:ae.inclusiveRight;if((J.from==null||(pe?J.from<=h.ch:J.from<h.ch))&&(J.to==null||(We?J.to>=h.ch:J.to>h.ch))){if(E&&(Te(ae,"beforeCursorEnter"),ae.explicitlyCleared))if(U.markedSpans){--$;continue}else break;if(!ae.atomic)continue;if(x){var qe=ae.find(_<0?1:-1),wt=void 0;if((_<0?We:pe)&&(qe=la(A,qe,-_,qe&&qe.line==h.line?U:null)),qe&&qe.line==h.line&&(wt=Mn(qe,x))&&(_<0?wt<0:wt>0))return ta(A,qe,h,_,E)}var gt=ae.find(_<0?-1:1);return(_<0?pe:We)&&(gt=la(A,gt,_,gt.line==h.line?U:null)),gt?ta(A,gt,h,_,E):null}}return h}function mc(A,h,x,_,E){var U=_||1,$=ta(A,h,x,U,E)||!E&&ta(A,h,x,U,!0)||ta(A,h,x,-U,E)||!E&&ta(A,h,x,-U,!0);return $||(A.cantEdit=!0,Kt(A.first,0))}function la(A,h,x,_){return x<0&&h.ch==0?h.line>A.first?Br(A,Kt(h.line-1)):null:x>0&&h.ch==(_||Qn(A,h.line)).text.length?h.line<A.first+A.size-1?Kt(h.line+1,0):null:new Kt(h.line,h.ch+x)}function FA(A){A.setSelection(Kt(A.firstLine(),0),Kt(A.lastLine()),xt)}function wh(A,h,x){var _={canceled:!1,from:h.from,to:h.to,text:h.text,origin:h.origin,cancel:function(){return _.canceled=!0}};return x&&(_.update=function(E,U,$,J){E&&(_.from=Br(A,E)),U&&(_.to=Br(A,U)),$&&(_.text=$),J!==void 0&&(_.origin=J)}),Te(A,"beforeChange",A,_),A.cm&&Te(A.cm,"beforeChange",A.cm,_),_.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function ql(A,h,x){if(A.cm){if(!A.cm.curOp)return no(A.cm,ql)(A,h,x);if(A.cm.state.suppressEdits)return}if(!((Se(A,"beforeChange")||A.cm&&Se(A.cm,"beforeChange"))&&(h=wh(A,h,!0),!h))){var _=Ha&&!x&&rc(A,h.from,h.to);if(_)for(var E=_.length-1;E>=0;--E)DA(A,{from:_[E].from,to:_[E].to,text:E?[""]:h.text,origin:h.origin});else DA(A,h)}}function DA(A,h){if(!(h.text.length==1&&h.text[0]==""&&Mn(h.from,h.to)==0)){var x=Ye(A,h);Hr(A,h,x,A.cm?A.cm.curOp.id:NaN),gc(A,h,x,As(A,h));var _=[];vn(A,function(E,U){!U&&Pe(_,E.history)==-1&&(E1(E.history,h),_.push(E.history)),gc(E,h,null,As(E,h))})}}function Ys(A,h,x){var _=A.cm&&A.cm.state.suppressEdits;if(!(_&&!x)){for(var E=A.history,U,$=A.sel,J=h=="undo"?E.done:E.undone,ae=h=="undo"?E.undone:E.done,pe=0;pe<J.length&&(U=J[pe],!(x?U.ranges&&!U.equals(A.sel):!U.ranges));pe++);if(pe!=J.length){for(E.lastOrigin=E.lastSelOrigin=null;;)if(U=J.pop(),U.ranges){if(Fi(U,ae),x&&!U.equals(A.sel)){Ei(A,U,{clearRedo:!1});return}$=U}else if(_){J.push(U);return}else break;var We=[];Fi($,ae),ae.push({changes:We,generation:E.generation}),E.generation=U.generation||++E.maxGeneration;for(var qe=Se(A,"beforeChange")||A.cm&&Se(A.cm,"beforeChange"),wt=function(cn){var Bn=U.changes[cn];if(Bn.origin=h,qe&&!wh(A,Bn,!1))return J.length=0,{};We.push(Zn(A,Bn));var Gn=cn?Ye(A,Bn):bn(J);gc(A,Bn,Gn,ks(A,Bn)),!cn&&A.cm&&A.cm.scrollIntoView({from:Bn.from,to:ct(Bn)});var Cn=[];vn(A,function(Fn,ar){!ar&&Pe(Cn,Fn.history)==-1&&(E1(Fn.history,Bn),Cn.push(Fn.history)),gc(Fn,Bn,null,ks(Fn,Bn))})},gt=U.changes.length-1;gt>=0;--gt){var Ut=wt(gt);if(Ut)return Ut.v}}}}function Kd(A,h){if(h!=0&&(A.first+=h,A.sel=new ze(Jn(A.sel.ranges,function(E){return new Fe(Kt(E.anchor.line+h,E.anchor.ch),Kt(E.head.line+h,E.head.ch))}),A.sel.primIndex),A.cm)){wa(A.cm,A.first,A.first-h,h);for(var x=A.cm.display,_=x.viewFrom;_<x.viewTo;_++)Qs(A.cm,_,"gutter")}}function gc(A,h,x,_){if(A.cm&&!A.cm.curOp)return no(A.cm,gc)(A,h,x,_);if(h.to.line<A.first){Kd(A,h.text.length-1-(h.to.line-h.from.line));return}if(!(h.from.line>A.lastLine())){if(h.from.line<A.first){var E=h.text.length-1-(A.first-h.from.line);Kd(A,E),h={from:Kt(A.first,0),to:Kt(h.to.line+E,h.to.ch),text:[bn(h.text)],origin:h.origin}}var U=A.lastLine();h.to.line>U&&(h={from:h.from,to:Kt(U,Qn(A,U).text.length),text:[h.text[0]],origin:h.origin}),h.removed=so(A,h.from,h.to),x||(x=Ye(A,h)),A.cm?Mh(A.cm,h,_):ln(A,h,_),ho(A,x,xt),A.cantEdit&&mc(A,Kt(A.firstLine(),0))&&(A.cantEdit=!1)}}function Mh(A,h,x){var _=A.doc,E=A.display,U=h.from,$=h.to,J=!1,ae=U.line;A.options.lineWrapping||(ae=ge(Yr(Qn(_,U.line))),_.iter(ae,$.line+1,function(gt){if(gt==E.maxLine)return J=!0,!0})),_.sel.contains(h.from,h.to)>-1&&ve(A),ln(_,h,x,vh(A)),A.options.lineWrapping||(_.iter(ae,U.line+h.text.length,function(gt){var Ut=Ta(gt);Ut>E.maxLineLength&&(E.maxLine=gt,E.maxLineLength=Ut,E.maxLineChanged=!0,J=!1)}),J&&(A.curOp.updateMaxLine=!0)),nc(_,U.line),hc(A,400);var pe=h.text.length-($.line-U.line)-1;h.full?wa(A):U.line==$.line&&h.text.length==1&&!An(A.doc,h)?Qs(A,U.line,"text"):wa(A,U.line,$.line+1,pe);var We=Se(A,"changes"),qe=Se(A,"change");if(qe||We){var wt={from:U,to:$,text:h.text,removed:h.removed,origin:h.origin};qe&&Do(A,"change",A,wt),We&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(wt)}A.display.selForContextMenu=null}function zu(A,h,x,_,E){var U;_||(_=x),Mn(_,x)<0&&(U=[_,x],x=U[0],_=U[1]),typeof h=="string"&&(h=A.splitLines(h)),ql(A,{from:x,to:_,text:h,origin:E})}function Df(A,h,x,_){x<A.line?A.line+=_:h<A.line&&(A.line=h,A.ch=0)}function qc(A,h,x,_){for(var E=0;E<A.length;++E){var U=A[E],$=!0;if(U.ranges){U.copied||(U=A[E]=U.deepCopy(),U.copied=!0);for(var J=0;J<U.ranges.length;J++)Df(U.ranges[J].anchor,h,x,_),Df(U.ranges[J].head,h,x,_);continue}for(var ae=0;ae<U.changes.length;++ae){var pe=U.changes[ae];if(x<pe.from.line)pe.from=Kt(pe.from.line+_,pe.from.ch),pe.to=Kt(pe.to.line+_,pe.to.ch);else if(h<=pe.to.line){$=!1;break}}$||(A.splice(0,E+1),E=0)}}function E1(A,h){var x=h.from.line,_=h.to.line,E=h.text.length-(_-x)-1;qc(A.done,x,_,E),qc(A.undone,x,_,E)}function Vc(A,h,x,_){var E=h,U=h;return typeof h=="number"?U=Qn(A,$a(A,h)):E=ge(h),E==null?null:(_(U,E)&&A.cm&&Qs(A.cm,E,x),U)}function Hc(A){this.lines=A,this.parent=null;for(var h=0,x=0;x<A.length;++x)A[x].parent=this,h+=A[x].height;this.height=h}Hc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,h){for(var x=A,_=A+h;x<_;++x){var E=this.lines[x];this.height-=E.height,cs(E),Do(E,"delete")}this.lines.splice(A,h)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,h,x){this.height+=x,this.lines=this.lines.slice(0,A).concat(h).concat(this.lines.slice(A));for(var _=0;_<h.length;++_)h[_].parent=this},iterN:function(A,h,x){for(var _=A+h;A<_;++A)if(x(this.lines[A]))return!0}};function Sh(A){this.children=A;for(var h=0,x=0,_=0;_<A.length;++_){var E=A[_];h+=E.chunkSize(),x+=E.height,E.parent=this}this.size=h,this.height=x,this.parent=null}Sh.prototype={chunkSize:function(){return this.size},removeInner:function(A,h){this.size-=h;for(var x=0;x<this.children.length;++x){var _=this.children[x],E=_.chunkSize();if(A<E){var U=Math.min(h,E-A),$=_.height;if(_.removeInner(A,U),this.height-=$-_.height,E==U&&(this.children.splice(x--,1),_.parent=null),(h-=U)==0)break;A=0}else A-=E}if(this.size-h<25&&(this.children.length>1||!(this.children[0]instanceof Hc))){var J=[];this.collapse(J),this.children=[new Hc(J)],this.children[0].parent=this}},collapse:function(A){for(var h=0;h<this.children.length;++h)this.children[h].collapse(A)},insertInner:function(A,h,x){this.size+=h.length,this.height+=x;for(var _=0;_<this.children.length;++_){var E=this.children[_],U=E.chunkSize();if(A<=U){if(E.insertInner(A,h,x),E.lines&&E.lines.length>50){for(var $=E.lines.length%25+25,J=$;J<E.lines.length;){var ae=new Hc(E.lines.slice(J,J+=25));E.height-=ae.height,this.children.splice(++_,0,ae),ae.parent=this}E.lines=E.lines.slice(0,$),this.maybeSpill()}break}A-=U}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var h=A.children.splice(A.children.length-5,5),x=new Sh(h);if(A.parent){A.size-=x.size,A.height-=x.height;var E=Pe(A.parent.children,A);A.parent.children.splice(E+1,0,x)}else{var _=new Sh(A.children);_.parent=A,A.children=[_,x],A=_}x.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,h,x){for(var _=0;_<this.children.length;++_){var E=this.children[_],U=E.chunkSize();if(A<U){var $=Math.min(h,U-A);if(E.iterN(A,$,x))return!0;if((h-=$)==0)break;A=0}else A-=U}}};var ju=function(A,h,x){if(x)for(var _ in x)x.hasOwnProperty(_)&&(this[_]=x[_]);this.doc=A,this.node=h};ju.prototype.clear=function(){var A=this.doc.cm,h=this.line.widgets,x=this.line,_=ge(x);if(!(_==null||!h)){for(var E=0;E<h.length;++E)h[E]==this&&h.splice(E--,1);h.length||(x.widgets=null);var U=$l(this);Ji(x,Math.max(0,x.height-U)),A&&(Ka(A,function(){qm(A,x,-U),Qs(A,_,"widget")}),Do(A,"lineWidgetCleared",A,this,_))}},ju.prototype.changed=function(){var A=this,h=this.height,x=this.doc.cm,_=this.line;this.height=null;var E=$l(this)-h;E&&(Ki(this.doc,_)||Ji(_,_.height+E),x&&Ka(x,function(){x.curOp.forceUpdate=!0,qm(x,_,E),Do(x,"lineWidgetChanged",x,A,ge(_))}))},Re(ju);function qm(A,h,x){Ia(h)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&_h(A,x)}function Eh(A,h,x,_){var E=new ju(A,x,_),U=A.cm;return U&&E.noHScroll&&(U.display.alignWidgets=!0),Vc(A,h,"widget",function($){var J=$.widgets||($.widgets=[]);if(E.insertAt==null?J.push(E):J.splice(Math.min(J.length,Math.max(0,E.insertAt)),0,E),E.line=$,U&&!Ki(A,$)){var ae=Ia($)<A.scrollTop;Ji($,$.height+$l(E)),ae&&_h(U,E.height),U.curOp.forceUpdate=!0}return!0}),U&&Do(U,"lineWidgetAdded",U,E,typeof h=="number"?h:ge(h)),E}var Oh=0,Vl=function(A,h){this.lines=[],this.type=h,this.doc=A,this.id=++Oh};Vl.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,h=A&&!A.curOp;if(h&&Ru(A),Se(this,"clear")){var x=this.find();x&&Do(this,"clear",x.from,x.to)}for(var _=null,E=null,U=0;U<this.lines.length;++U){var $=this.lines[U],J=Ho($.markedSpans,this);A&&!this.collapsed?Qs(A,ge($),"text"):A&&(J.to!=null&&(E=ge($)),J.from!=null&&(_=ge($))),$.markedSpans=eA($.markedSpans,J),J.from==null&&this.collapsed&&!Ki(this.doc,$)&&A&&Ji($,Jo(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var ae=0;ae<this.lines.length;++ae){var pe=Yr(this.lines[ae]),We=Ta(pe);We>A.display.maxLineLength&&(A.display.maxLine=pe,A.display.maxLineLength=We,A.display.maxLineChanged=!0)}_!=null&&A&&this.collapsed&&wa(A,_,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Pa(A.doc)),A&&Do(A,"markerCleared",A,this,_,E),h&&aA(A),this.parent&&this.parent.clear()}},Vl.prototype.find=function(A,h){A==null&&this.type=="bookmark"&&(A=1);for(var x,_,E=0;E<this.lines.length;++E){var U=this.lines[E],$=Ho(U.markedSpans,this);if($.from!=null&&(x=Kt(h?U:ge(U),$.from),A==-1))return x;if($.to!=null&&(_=Kt(h?U:ge(U),$.to),A==1))return _}return x&&{from:x,to:_}},Vl.prototype.changed=function(){var A=this,h=this.find(-1,!0),x=this,_=this.doc.cm;!h||!_||Ka(_,function(){var E=h.line,U=ge(h.line),$=Nc(_,U);if($&&(yh($),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!Ki(x.doc,E)&&x.height!=null){var J=x.height;x.height=null;var ae=$l(x)-J;ae&&Ji(E,E.height+ae)}Do(_,"markerChanged",_,A)})},Vl.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(!h.maybeHiddenMarkers||Pe(h.maybeHiddenMarkers,this)==-1)&&(h.maybeUnhiddenMarkers||(h.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},Vl.prototype.detachLine=function(A){if(this.lines.splice(Pe(this.lines,A),1),!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(h.maybeHiddenMarkers||(h.maybeHiddenMarkers=[])).push(this)}},Re(Vl);function Pd(A,h,x,_,E){if(_&&_.shared)return O1(A,h,x,_,E);if(A.cm&&!A.cm.curOp)return no(A.cm,Pd)(A,h,x,_,E);var U=new Vl(A,E),$=Mn(h,x);if(_&&Me(_,U,!1),$>0||$==0&&U.clearWhenEmpty!==!1)return U;if(U.replacedWith&&(U.collapsed=!0,U.widgetNode=Rt("span",[U.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||U.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(U.widgetNode.insertLeft=!0)),U.collapsed){if(Ti(A,h.line,h,x,U)||h.line!=x.line&&Ti(A,x.line,h,x,U))throw new Error("Inserting collapsed marker partially overlapping an existing one");pl()}U.addToHistory&&Hr(A,{from:h,to:x,origin:"markText"},A.sel,NaN);var J=h.line,ae=A.cm,pe;if(A.iter(J,x.line+1,function(qe){ae&&U.collapsed&&!ae.options.lineWrapping&&Yr(qe)==ae.display.maxLine&&(pe=!0),U.collapsed&&J!=h.line&&Ji(qe,0),lu(qe,new kl(U,J==h.line?h.ch:null,J==x.line?x.ch:null),A.cm&&A.cm.curOp),++J}),U.collapsed&&A.iter(h.line,x.line+1,function(qe){Ki(A,qe)&&Ji(qe,0)}),U.clearOnEnter&&Tt(U,"beforeCursorEnter",function(){return U.clear()}),U.readOnly&&(wA(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),U.collapsed&&(U.id=++Oh,U.atomic=!0),ae){if(pe&&(ae.curOp.updateMaxLine=!0),U.collapsed)wa(ae,h.line,x.line+1);else if(U.className||U.startStyle||U.endStyle||U.css||U.attributes||U.title)for(var We=h.line;We<=x.line;We++)Qs(ae,We,"text");U.atomic&&Pa(ae.doc),Do(ae,"markerAdded",ae,U)}return U}var Fd=function(A,h){this.markers=A,this.primary=h;for(var x=0;x<A.length;++x)A[x].parent=this};Fd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();Do(this,"clear")}},Fd.prototype.find=function(A,h){return this.primary.find(A,h)},Re(Fd);function O1(A,h,x,_,E){_=Me(_),_.shared=!1;var U=[Pd(A,h,x,_,E)],$=U[0],J=_.widgetNode;return vn(A,function(ae){J&&(_.widgetNode=J.cloneNode(!0)),U.push(Pd(ae,Br(ae,h),Br(ae,x),_,E));for(var pe=0;pe<ae.linked.length;++pe)if(ae.linked[pe].isParent)return;$=bn(U)}),new Fd(U,$)}function ol(A){return A.findMarks(Kt(A.first,0),A.clipPos(Kt(A.lastLine())),function(h){return h.parent})}function Dd(A,h){for(var x=0;x<h.length;x++){var _=h[x],E=_.find(),U=A.clipPos(E.from),$=A.clipPos(E.to);if(Mn(U,$)){var J=Pd(A,U,$,_.primary,_.primary.type);_.markers.push(J),J.parent=_}}}function Vm(A){for(var h=function(_){var E=A[_],U=[E.primary.doc];vn(E.primary.doc,function(ae){return U.push(ae)});for(var $=0;$<E.markers.length;$++){var J=E.markers[$];Pe(U,J.doc)==-1&&(J.parent=null,E.markers.splice($--,1))}},x=0;x<A.length;x++)h(x)}var Tp=0,ps=function(A,h,x,_,E){if(!(this instanceof ps))return new ps(A,h,x,_,E);x==null&&(x=0),Sh.call(this,[new Hc([new ku("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var U=Kt(x,0);this.sel=je(U),this.history=new _r(null),this.id=++Tp,this.modeOption=h,this.lineSep=_,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),ln(this,{from:U,to:U,text:A}),Ei(this,je(U),xt)};ps.prototype=Nr(Sh.prototype,{constructor:ps,iter:function(A,h,x){x?this.iterN(A-this.first,h-A,x):this.iterN(this.first,this.first+this.size,A)},insert:function(A,h){for(var x=0,_=0;_<h.length;++_)x+=h[_].height;this.insertInner(A-this.first,h,x)},remove:function(A,h){this.removeInner(A-this.first,h)},getValue:function(A){var h=Go(this,this.first,this.first+this.size);return A===!1?h:h.join(A||this.lineSeparator())},setValue:sa(function(A){var h=Kt(this.first,0),x=this.first+this.size-1;ql(this,{from:h,to:Kt(x,Qn(this,x).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&ea(this.cm,0,0),Ei(this,je(h),xt)}),replaceRange:function(A,h,x,_){h=Br(this,h),x=x?Br(this,x):h,zu(this,A,h,x,_)},getRange:function(A,h,x){var _=so(this,Br(this,A),Br(this,h));return x===!1?_:x===""?_.join(""):_.join(x||this.lineSeparator())},getLine:function(A){var h=this.getLineHandle(A);return h&&h.text},getLineHandle:function(A){if(Xt(this,A))return Qn(this,A)},getLineNumber:function(A){return ge(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=Qn(this,A)),Yr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Br(this,A)},getCursor:function(A){var h=this.sel.primary(),x;return A==null||A=="head"?x=h.head:A=="anchor"?x=h.anchor:A=="end"||A=="to"||A===!1?x=h.to():x=h.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:sa(function(A,h,x){yu(this,Br(this,typeof A=="number"?Kt(A,h||0):A),null,x)}),setSelection:sa(function(A,h,x){yu(this,Br(this,A),Br(this,h||A),x)}),extendSelection:sa(function(A,h,x){Pl(this,Br(this,A),h&&Br(this,h),x)}),extendSelections:sa(function(A,h){PA(this,rl(this,A),h)}),extendSelectionsBy:sa(function(A,h){var x=Jn(this.sel.ranges,A);PA(this,rl(this,x),h)}),setSelections:sa(function(A,h,x){if(A.length){for(var _=[],E=0;E<A.length;E++)_[E]=new Fe(Br(this,A[E].anchor),Br(this,A[E].head||A[E].anchor));h==null&&(h=Math.min(A.length-1,this.sel.primIndex)),Ei(this,Ge(this.cm,_,h),x)}}),addSelection:sa(function(A,h,x){var _=this.sel.ranges.slice(0);_.push(new Fe(Br(this,A),Br(this,h||A))),Ei(this,Ge(this.cm,_,_.length-1),x)}),getSelection:function(A){for(var h=this.sel.ranges,x,_=0;_<h.length;_++){var E=so(this,h[_].from(),h[_].to());x=x?x.concat(E):E}return A===!1?x:x.join(A||this.lineSeparator())},getSelections:function(A){for(var h=[],x=this.sel.ranges,_=0;_<x.length;_++){var E=so(this,x[_].from(),x[_].to());A!==!1&&(E=E.join(A||this.lineSeparator())),h[_]=E}return h},replaceSelection:function(A,h,x){for(var _=[],E=0;E<this.sel.ranges.length;E++)_[E]=A;this.replaceSelections(_,h,x||"+input")},replaceSelections:sa(function(A,h,x){for(var _=[],E=this.sel,U=0;U<E.ranges.length;U++){var $=E.ranges[U];_[U]={from:$.from(),to:$.to(),text:this.splitLines(A[U]),origin:x}}for(var J=h&&h!="end"&&Gt(this,_,h),ae=_.length-1;ae>=0;ae--)ql(this,_[ae]);J?Bo(this,J):this.cm&&to(this.cm)}),undo:sa(function(){Ys(this,"undo")}),redo:sa(function(){Ys(this,"redo")}),undoSelection:sa(function(){Ys(this,"undo",!0)}),redoSelection:sa(function(){Ys(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,h=0,x=0,_=0;_<A.done.length;_++)A.done[_].ranges||++h;for(var E=0;E<A.undone.length;E++)A.undone[E].ranges||++x;return{undo:h,redo:x}},clearHistory:function(){var A=this;this.history=new _r(this.history),vn(this,function(h){return h.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:Ca(this.history.done),undone:Ca(this.history.undone)}},setHistory:function(A){var h=this.history=new _r(this.history);h.done=Ca(A.done.slice(0),null,!0),h.undone=Ca(A.undone.slice(0),null,!0)},setGutterMarker:sa(function(A,h,x){return Vc(this,A,"gutter",function(_){var E=_.gutterMarkers||(_.gutterMarkers={});return E[h]=x,!x&&H(E)&&(_.gutterMarkers=null),!0})}),clearGutter:sa(function(A){var h=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[A]&&Vc(h,x,"gutter",function(){return x.gutterMarkers[A]=null,H(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(A){var h;if(typeof A=="number"){if(!Xt(this,A)||(h=A,A=Qn(this,A),!A))return null}else if(h=ge(A),h==null)return null;return{line:h,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:sa(function(A,h,x){return Vc(this,A,h=="gutter"?"gutter":"class",function(_){var E=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass";if(!_[E])_[E]=x;else{if(et(x).test(_[E]))return!1;_[E]+=" "+x}return!0})}),removeLineClass:sa(function(A,h,x){return Vc(this,A,h=="gutter"?"gutter":"class",function(_){var E=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass",U=_[E];if(U)if(x==null)_[E]=null;else{var $=U.match(et(x));if(!$)return!1;var J=$.index+$[0].length;_[E]=U.slice(0,$.index)+(!$.index||J==U.length?"":" ")+U.slice(J)||null}else return!1;return!0})}),addLineWidget:sa(function(A,h,x){return Eh(this,A,h,x)}),removeLineWidget:function(A){A.clear()},markText:function(A,h,x){return Pd(this,Br(this,A),Br(this,h),x,x&&x.type||"range")},setBookmark:function(A,h){var x={replacedWith:h&&(h.nodeType==null?h.widget:h),insertLeft:h&&h.insertLeft,clearWhenEmpty:!1,shared:h&&h.shared,handleMouseEvents:h&&h.handleMouseEvents};return A=Br(this,A),Pd(this,A,A,x,"bookmark")},findMarksAt:function(A){A=Br(this,A);var h=[],x=Qn(this,A.line).markedSpans;if(x)for(var _=0;_<x.length;++_){var E=x[_];(E.from==null||E.from<=A.ch)&&(E.to==null||E.to>=A.ch)&&h.push(E.marker.parent||E.marker)}return h},findMarks:function(A,h,x){A=Br(this,A),h=Br(this,h);var _=[],E=A.line;return this.iter(A.line,h.line+1,function(U){var $=U.markedSpans;if($)for(var J=0;J<$.length;J++){var ae=$[J];!(ae.to!=null&&E==A.line&&A.ch>=ae.to||ae.from==null&&E!=A.line||ae.from!=null&&E==h.line&&ae.from>=h.ch)&&(!x||x(ae.marker))&&_.push(ae.marker.parent||ae.marker)}++E}),_},getAllMarks:function(){var A=[];return this.iter(function(h){var x=h.markedSpans;if(x)for(var _=0;_<x.length;++_)x[_].from!=null&&A.push(x[_].marker)}),A},posFromIndex:function(A){var h,x=this.first,_=this.lineSeparator().length;return this.iter(function(E){var U=E.text.length+_;if(U>A)return h=A,!0;A-=U,++x}),Br(this,Kt(x,h))},indexFromPos:function(A){A=Br(this,A);var h=A.ch;if(A.line<this.first||A.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,A.line,function(_){h+=_.text.length+x}),h},copy:function(A){var h=new ps(Go(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return h.scrollTop=this.scrollTop,h.scrollLeft=this.scrollLeft,h.sel=this.sel,h.extend=!1,A&&(h.history.undoDepth=this.history.undoDepth,h.setHistory(this.getHistory())),h},linkedDoc:function(A){A||(A={});var h=this.first,x=this.first+this.size;A.from!=null&&A.from>h&&(h=A.from),A.to!=null&&A.to<x&&(x=A.to);var _=new ps(Go(this,h,x),A.mode||this.modeOption,h,this.lineSep,this.direction);return A.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:A.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],Dd(_,ol(this)),_},unlinkDoc:function(A){if(A instanceof fo&&(A=A.doc),this.linked)for(var h=0;h<this.linked.length;++h){var x=this.linked[h];if(x.doc==A){this.linked.splice(h,1),A.unlinkDoc(this),Vm(ol(this));break}}if(A.history==this.history){var _=[A.id];vn(A,function(E){return _.push(E.id)},!0),A.history=new _r(null),A.history.done=Ca(this.history.done,_),A.history.undone=Ca(this.history.undone,_)}},iterLinkedDocs:function(A){vn(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):or(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:sa(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(h){return h.order=null}),this.cm&&In(this.cm))})}),ps.prototype.eachLine=ps.prototype.iter;var Kp=0;function Pp(A){var h=this;if(Zm(h),!(de(h,A)||Il(h.display,A))){Xe(A),p&&(Kp=+new Date);var x=yl(h,A,!0),_=A.dataTransfer.files;if(!(!x||h.isReadOnly()))if(_&&_.length&&window.FileReader&&window.File)for(var E=_.length,U=Array(E),$=0,J=function(){++$==E&&no(h,function(){x=Br(h.doc,x);var gt={from:x,to:x,text:h.doc.splitLines(U.filter(function(Ut){return Ut!=null}).join(h.doc.lineSeparator())),origin:"paste"};ql(h.doc,gt),Bo(h.doc,je(Br(h.doc,x),Br(h.doc,ct(gt))))})()},ae=function(gt,Ut){if(h.options.allowDropFileTypes&&Pe(h.options.allowDropFileTypes,gt.type)==-1){J();return}var cn=new FileReader;cn.onerror=function(){return J()},cn.onload=function(){var Bn=cn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Bn)){J();return}U[Ut]=Bn,J()},cn.readAsText(gt)},pe=0;pe<_.length;pe++)ae(_[pe],pe);else{if(h.state.draggingText&&h.doc.sel.contains(x)>-1){h.state.draggingText(A),setTimeout(function(){return h.display.input.focus()},20);return}try{var We=A.dataTransfer.getData("Text");if(We){var qe;if(h.state.draggingText&&!h.state.draggingText.copy&&(qe=h.listSelections()),ho(h.doc,je(x,x)),qe)for(var wt=0;wt<qe.length;++wt)zu(h.doc,"",qe[wt].anchor,qe[wt].head,"drag");h.replaceSelection(We,"around","paste"),h.display.input.focus()}}catch{}}}}function Hm(A,h){if(p&&(!A.state.draggingText||+new Date-Kp<100)){Ve(h);return}if(!(de(A,h)||Il(A.display,h))&&(h.dataTransfer.setData("Text",A.getSelection()),h.dataTransfer.effectAllowed="copyMove",h.dataTransfer.setDragImage&&!Z)){var x=Ce("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(x.width=x.height=1,A.display.wrapper.appendChild(x),x._top=x.offsetTop),h.dataTransfer.setDragImage(x,0,0),R&&x.parentNode.removeChild(x)}}function ji(A,h){var x=yl(A,h);if(x){var _=document.createDocumentFragment();Ac(A,x,_),A.display.dragCursor||(A.display.dragCursor=Ce("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),rt(A.display.dragCursor,_)}}function Zm(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function Xm(A){if(document.getElementsByClassName){for(var h=document.getElementsByClassName("CodeMirror"),x=[],_=0;_<h.length;_++){var E=h[_].CodeMirror;E&&x.push(E)}x.length&&x[0].operation(function(){for(var U=0;U<x.length;U++)A(x[U])})}}var Bh=!1;function Fp(){Bh||(B1(),Bh=!0)}function B1(){var A;Tt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,Xm(Jm)},100))}),Tt(window,"blur",function(){return Xm(cc)})}function Jm(A){var h=A.display;h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.scrollbarsClipped=!1,A.setSize()}for(var Ma={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},al=0;al<10;al++)Ma[al+48]=Ma[al+96]=String(al);for(var Zc=65;Zc<=90;Zc++)Ma[Zc]=String.fromCharCode(Zc);for(var Ud=1;Ud<=12;Ud++)Ma[Ud+111]=Ma[Ud+63235]="F"+Ud;var sA={};sA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},sA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},sA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},sA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},sA.default=ce?sA.macDefault:sA.pcDefault;function k1(A){var h=A.split(/-(?!$)/);A=h[h.length-1];for(var x,_,E,U,$=0;$<h.length-1;$++){var J=h[$];if(/^(cmd|meta|m)$/i.test(J))U=!0;else if(/^a(lt)?$/i.test(J))x=!0;else if(/^(c|ctrl|control)$/i.test(J))_=!0;else if(/^s(hift)?$/i.test(J))E=!0;else throw new Error("Unrecognized modifier name: "+J)}return x&&(A="Alt-"+A),_&&(A="Ctrl-"+A),U&&(A="Cmd-"+A),E&&(A="Shift-"+A),A}function vu(A){var h={};for(var x in A)if(A.hasOwnProperty(x)){var _=A[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(_=="..."){delete A[x];continue}for(var E=Jn(x.split(" "),k1),U=0;U<E.length;U++){var $=void 0,J=void 0;U==E.length-1?(J=E.join(" "),$=_):(J=E.slice(0,U+1).join(" "),$="...");var ae=h[J];if(!ae)h[J]=$;else if(ae!=$)throw new Error("Inconsistent bindings for "+J)}delete A[x]}for(var pe in h)A[pe]=h[pe];return A}function Cu(A,h,x,_){h=kh(h);var E=h.call?h.call(A,_):h[A];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&x(E))return"handled";if(h.fallthrough){if(Object.prototype.toString.call(h.fallthrough)!="[object Array]")return Cu(A,h.fallthrough,x,_);for(var U=0;U<h.fallthrough.length;U++){var $=Cu(A,h.fallthrough[U],x,_);if($)return $}}}function Dp(A){var h=typeof A=="string"?A:Ma[A.keyCode];return h=="Ctrl"||h=="Alt"||h=="Shift"||h=="Mod"}function Uf(A,h,x){var _=A;return h.altKey&&_!="Alt"&&(A="Alt-"+A),(De?h.metaKey:h.ctrlKey)&&_!="Ctrl"&&(A="Ctrl-"+A),(De?h.ctrlKey:h.metaKey)&&_!="Mod"&&(A="Cmd-"+A),!x&&h.shiftKey&&_!="Shift"&&(A="Shift-"+A),A}function Xc(A,h){if(R&&A.keyCode==34&&A.char)return!1;var x=Ma[A.keyCode];return x==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(x=A.code),Uf(x,A,h))}function kh(A){return typeof A=="string"?sA[A]:A}function Hl(A,h){for(var x=A.doc.sel.ranges,_=[],E=0;E<x.length;E++){for(var U=h(x[E]);_.length&&Mn(U.from,bn(_).to)<=0;){var $=_.pop();if(Mn($.from,U.from)<0){U.from=$.from;break}}_.push(U)}Ka(A,function(){for(var J=_.length-1;J>=0;J--)zu(A.doc,"",_[J].from,_[J].to,"+delete");to(A)})}function Jc(A,h,x){var _=st(A.text,h+x,x);return _<0||_>A.text.length?null:_}function Rf(A,h,x){var _=Jc(A,h.ch,x);return _==null?null:new Kt(h.line,_,x<0?"after":"before")}function Lf(A,h,x,_,E){if(A){h.doc.direction=="rtl"&&(E=-E);var U=En(x,h.doc.direction);if(U){var $=E<0?bn(U):U[0],J=E<0==($.level==1),ae=J?"after":"before",pe;if($.level>0||h.doc.direction=="rtl"){var We=Tl(h,x);pe=E<0?x.text.length-1:0;var qe=ml(h,We,pe).top;pe=St(function(wt){return ml(h,We,wt).top==qe},E<0==($.level==1)?$.from:$.to-1,pe),ae=="before"&&(pe=Jc(x,pe,1))}else pe=E<0?$.to:$.from;return new Kt(_,pe,ae)}}return new Kt(_,E<0?x.text.length:0,E<0?"before":"after")}function ed(A,h,x,_){var E=En(h,A.doc.direction);if(!E)return Rf(h,x,_);x.ch>=h.text.length?(x.ch=h.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var U=mn(E,x.ch,x.sticky),$=E[U];if(A.doc.direction=="ltr"&&$.level%2==0&&(_>0?$.to>x.ch:$.from<x.ch))return Rf(h,x,_);var J=function(Gn,Cn){return Jc(h,Gn instanceof Kt?Gn.ch:Gn,Cn)},ae,pe=function(Gn){return A.options.lineWrapping?(ae=ae||Tl(A,h),co(A,h,ae,Gn)):{begin:0,end:h.text.length}},We=pe(x.sticky=="before"?J(x,-1):x.ch);if(A.doc.direction=="rtl"||$.level==1){var qe=$.level==1==_<0,wt=J(x,qe?1:-1);if(wt!=null&&(qe?wt<=$.to&&wt<=We.end:wt>=$.from&&wt>=We.begin)){var gt=qe?"before":"after";return new Kt(x.line,wt,gt)}}var Ut=function(Gn,Cn,Fn){for(var ar=function(ko,Da){return Da?new Kt(x.line,J(ko,1),"before"):new Kt(x.line,ko,"after")};Gn>=0&&Gn<E.length;Gn+=Cn){var Or=E[Gn],yr=Cn>0==(Or.level!=1),oi=yr?Fn.begin:J(Fn.end,-1);if(Or.from<=oi&&oi<Or.to||(oi=yr?Or.from:J(Or.to,-1),Fn.begin<=oi&&oi<Fn.end))return ar(oi,yr)}},cn=Ut(U+_,_,We);if(cn)return cn;var Bn=_>0?We.end:J(We.begin,-1);return Bn!=null&&!(_>0&&Bn==h.text.length)&&(cn=Ut(_>0?0:E.length-1,_,pe(Bn)),cn)?cn:null}var zf={selectAll:FA,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),xt)},killLine:function(A){return Hl(A,function(h){if(h.empty()){var x=Qn(A.doc,h.head.line).text.length;return h.head.ch==x&&h.head.line<A.lastLine()?{from:h.head,to:Kt(h.head.line+1,0)}:{from:h.head,to:Kt(h.head.line,x)}}else return{from:h.from(),to:h.to()}})},deleteLine:function(A){return Hl(A,function(h){return{from:Kt(h.from().line,0),to:Br(A.doc,Kt(h.to().line+1,0))}})},delLineLeft:function(A){return Hl(A,function(h){return{from:Kt(h.from().line,0),to:h.from()}})},delWrappedLineLeft:function(A){return Hl(A,function(h){var x=A.charCoords(h.head,"div").top+5,_=A.coordsChar({left:0,top:x},"div");return{from:_,to:h.from()}})},delWrappedLineRight:function(A){return Hl(A,function(h){var x=A.charCoords(h.head,"div").top+5,_=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div");return{from:h.from(),to:_}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Kt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Kt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(h){return yc(A,h.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(h){return e0(A,h.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(h){return I1(A,h.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(h){var x=A.cursorCoords(h.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div")},Dt)},goLineLeft:function(A){return A.extendSelectionsBy(function(h){var x=A.cursorCoords(h.head,"div").top+5;return A.coordsChar({left:0,top:x},"div")},Dt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(h){var x=A.cursorCoords(h.head,"div").top+5,_=A.coordsChar({left:0,top:x},"div");return _.ch<A.getLine(_.line).search(/\S/)?e0(A,h.head):_},Dt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var h=[],x=A.listSelections(),_=A.options.tabSize,E=0;E<x.length;E++){var U=x[E].from(),$=he(A.getLine(U.line),U.ch,_);h.push(pn(_-$%_))}A.replaceSelections(h)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return Ka(A,function(){for(var h=A.listSelections(),x=[],_=0;_<h.length;_++)if(h[_].empty()){var E=h[_].head,U=Qn(A.doc,E.line).text;if(U){if(E.ch==U.length&&(E=new Kt(E.line,E.ch-1)),E.ch>0)E=new Kt(E.line,E.ch+1),A.replaceRange(U.charAt(E.ch-1)+U.charAt(E.ch-2),Kt(E.line,E.ch-2),E,"+transpose");else if(E.line>A.doc.first){var $=Qn(A.doc,E.line-1).text;$&&(E=new Kt(E.line,1),A.replaceRange(U.charAt(0)+A.doc.lineSeparator()+$.charAt($.length-1),Kt(E.line-1,$.length-1),E,"+transpose"))}}x.push(new Fe(E,E))}A.setSelections(x)})},newlineAndIndent:function(A){return Ka(A,function(){for(var h=A.listSelections(),x=h.length-1;x>=0;x--)A.replaceRange(A.doc.lineSeparator(),h[x].anchor,h[x].head,"+input");h=A.listSelections();for(var _=0;_<h.length;_++)A.indentLine(h[_].from().line,null,!0);to(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function yc(A,h){var x=Qn(A.doc,h),_=Yr(x);return _!=x&&(h=ge(_)),Lf(!0,A,_,h,1)}function I1(A,h){var x=Qn(A.doc,h),_=Gi(x);return _!=x&&(h=ge(_)),Lf(!0,A,x,h,-1)}function e0(A,h){var x=yc(A,h.line),_=Qn(A.doc,x.line),E=En(_,A.doc.direction);if(!E||E[0].level==0){var U=Math.max(x.ch,_.text.search(/\S/)),$=h.line==x.line&&h.ch<=U&&h.ch;return Kt(x.line,$?0:U,x.sticky)}return x}function td(A,h,x){if(typeof h=="string"&&(h=zf[h],!h))return!1;A.display.input.ensurePolled();var _=A.display.shift,E=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),x&&(A.display.shift=!1),E=h(A)!=nt}finally{A.display.shift=_,A.state.suppressEdits=!1}return E}function tv(A,h,x){for(var _=0;_<A.state.keyMaps.length;_++){var E=Cu(h,A.state.keyMaps[_],x,A);if(E)return E}return A.options.extraKeys&&Cu(h,A.options.extraKeys,x,A)||Cu(h,A.options.keyMap,x,A)}var Ih=new be;function jf(A,h,x,_){var E=A.state.keySeq;if(E){if(Dp(h))return"handled";if(/\'$/.test(h)?A.state.keySeq=null:Ih.set(50,function(){A.state.keySeq==E&&(A.state.keySeq=null,A.display.input.reset())}),ua(A,E+" "+h,x,_))return!0}return ua(A,h,x,_)}function ua(A,h,x,_){var E=tv(A,h,_);return E=="multi"&&(A.state.keySeq=h),E=="handled"&&Do(A,"keyHandled",A,h,x),(E=="handled"||E=="multi")&&(Xe(x),Fu(A)),!!E}function Th(A,h){var x=Xc(h,!0);return x?h.shiftKey&&!A.state.keySeq?jf(A,"Shift-"+x,h,function(_){return td(A,_,!0)})||jf(A,x,h,function(_){if(typeof _=="string"?/^go[A-Z]/.test(_):_.motion)return td(A,_)}):jf(A,x,h,function(_){return td(A,_)}):!1}function T1(A,h,x){return jf(A,"'"+x+"'",h,function(_){return td(A,_,!0)})}var Rd=null;function Kh(A){var h=this;if(!(A.target&&A.target!=h.display.input.getField())&&(h.curOp.focus=Qt(mt(h)),!de(h,A))){p&&g<11&&A.keyCode==27&&(A.returnValue=!1);var x=A.keyCode;h.display.shift=x==16||A.shiftKey;var _=Th(h,A);R&&(Rd=_?x:null,!_&&x==88&&!Rr&&(ce?A.metaKey:A.ctrlKey)&&h.replaceSelection("",null,"cut")),i&&!ce&&!_&&x==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(h.display.lineDiv.className)&&qs(h)}}function qs(A){var h=A.display.lineDiv;He(h,"CodeMirror-crosshair");function x(_){(_.keyCode==18||!_.altKey)&&(ft(h,"CodeMirror-crosshair"),Wn(document,"keyup",x),Wn(document,"mouseover",x))}Tt(document,"keyup",x),Tt(document,"mouseover",x)}function Wu(A){A.keyCode==16&&(this.doc.sel.shift=!1),de(this,A)}function t0(A){var h=this;if(!(A.target&&A.target!=h.display.input.getField())&&!(Il(h.display,A)||de(h,A)||A.ctrlKey&&!A.altKey||ce&&A.metaKey)){var x=A.keyCode,_=A.charCode;if(R&&x==Rd){Rd=null,Xe(A);return}if(!(R&&(!A.which||A.which<10)&&Th(h,A))){var E=String.fromCharCode(_??x);E!="\b"&&(T1(h,A,E)||h.display.input.onKeyPress(A))}}}var Wf=400,nd=function(A,h,x){this.time=A,this.pos=h,this.button=x};nd.prototype.compare=function(A,h,x){return this.time+Wf>A&&Mn(h,this.pos)==0&&x==this.button};var Nu,Ld;function K1(A,h){var x=+new Date;return Ld&&Ld.compare(x,A,h)?(Nu=Ld=null,"triple"):Nu&&Nu.compare(x,A,h)?(Ld=new nd(x,A,h),Nu=null,"double"):(Nu=new nd(x,A,h),Ld=null,"single")}function n0(A){var h=this,x=h.display;if(!(de(h,A)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=A.shiftKey,Il(x,A)){b||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!jd(h,A)){var _=yl(h,A),E=Zt(A),U=_?K1(_,E):"single";kt(h).focus(),E==1&&h.state.selectingText&&h.state.selectingText(A),!(_&&Ph(h,E,_,U,A))&&(E==1?_?zd(h,_,U,A):_t(A)==x.scroller&&Xe(A):E==2?(_&&Pl(h.doc,_),setTimeout(function(){return x.input.focus()},20)):E==3&&(Ne?h.display.input.onContextMenu(A):TA(h)))}}}function Ph(A,h,x,_,E){var U="Click";return _=="double"?U="Double"+U:_=="triple"&&(U="Triple"+U),U=(h==1?"Left":h==2?"Middle":"Right")+U,jf(A,Uf(U,E),E,function($){if(typeof $=="string"&&($=zf[$]),!$)return!1;var J=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),J=$(A,x)!=nt}finally{A.state.suppressEdits=!1}return J})}function Fh(A,h,x){var _=A.getOption("configureMouse"),E=_?_(A,h,x):{};if(E.unit==null){var U=se?x.shiftKey&&x.metaKey:x.altKey;E.unit=U?"rectangle":h=="single"?"char":h=="double"?"word":"line"}return(E.extend==null||A.doc.extend)&&(E.extend=A.doc.extend||x.shiftKey),E.addNew==null&&(E.addNew=ce?x.metaKey:x.ctrlKey),E.moveOnDrag==null&&(E.moveOnDrag=!(ce?x.altKey:x.ctrlKey)),E}function zd(A,h,x,_){p?setTimeout(Pt(mu,A),0):A.curOp.focus=Qt(mt(A));var E=Fh(A,x,_),U=A.doc.sel,$;A.options.dragDrop&&Ht&&!A.isReadOnly()&&x=="single"&&($=U.contains(h))>-1&&(Mn(($=U.ranges[$]).from(),h)<0||h.xRel>0)&&(Mn($.to(),h)>0||h.xRel<0)?nv(A,_,h,E):Up(A,_,h,E)}function nv(A,h,x,_){var E=A.display,U=!1,$=no(A,function(pe){b&&(E.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:TA(A)),Wn(E.wrapper.ownerDocument,"mouseup",$),Wn(E.wrapper.ownerDocument,"mousemove",J),Wn(E.scroller,"dragstart",ae),Wn(E.scroller,"drop",$),U||(Xe(pe),_.addNew||Pl(A.doc,x,null,null,_.extend),b&&!Z||p&&g==9?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),J=function(pe){U=U||Math.abs(h.clientX-pe.clientX)+Math.abs(h.clientY-pe.clientY)>=10},ae=function(){return U=!0};b&&(E.scroller.draggable=!0),A.state.draggingText=$,$.copy=!_.moveOnDrag,Tt(E.wrapper.ownerDocument,"mouseup",$),Tt(E.wrapper.ownerDocument,"mousemove",J),Tt(E.scroller,"dragstart",ae),Tt(E.scroller,"drop",$),A.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}function Nf(A,h,x){if(x=="char")return new Fe(h,h);if(x=="word")return A.findWordAt(h);if(x=="line")return new Fe(Kt(h.line,0),Br(A.doc,Kt(h.line+1,0)));var _=x(A,h);return new Fe(_.from,_.to)}function Up(A,h,x,_){p&&TA(A);var E=A.display,U=A.doc;Xe(h);var $,J,ae=U.sel,pe=ae.ranges;if(_.addNew&&!_.extend?(J=U.sel.contains(x),J>-1?$=pe[J]:$=new Fe(x,x)):($=U.sel.primary(),J=U.sel.primIndex),_.unit=="rectangle")_.addNew||($=new Fe(x,x)),x=yl(A,h,!0,!0),J=-1;else{var We=Nf(A,x,_.unit);_.extend?$=vo($,We.anchor,We.head,_.extend):$=We}_.addNew?J==-1?(J=pe.length,Ei(U,Ge(A,pe.concat([$]),J),{scroll:!1,origin:"*mouse"})):pe.length>1&&pe[J].empty()&&_.unit=="char"&&!_.extend?(Ei(U,Ge(A,pe.slice(0,J).concat(pe.slice(J+1)),0),{scroll:!1,origin:"*mouse"}),ae=U.sel):Is(U,J,$,Ft):(J=0,Ei(U,new ze([$],0),Ft),ae=U.sel);var qe=x;function wt(Fn){if(Mn(qe,Fn)!=0)if(qe=Fn,_.unit=="rectangle"){for(var ar=[],Or=A.options.tabSize,yr=he(Qn(U,x.line).text,x.ch,Or),oi=he(Qn(U,Fn.line).text,Fn.ch,Or),ko=Math.min(yr,oi),Da=Math.max(yr,oi),Aa=Math.min(x.line,Fn.line),Sa=Math.min(A.lastLine(),Math.max(x.line,Fn.line));Aa<=Sa;Aa++){var Xa=Qn(U,Aa).text,Ja=pt(Xa,ko,Or);ko==Da?ar.push(new Fe(Kt(Aa,Ja),Kt(Aa,Ja))):Xa.length>Ja&&ar.push(new Fe(Kt(Aa,Ja),Kt(Aa,pt(Xa,Da,Or))))}ar.length||ar.push(new Fe(x,x)),Ei(U,Ge(A,ae.ranges.slice(0,J).concat(ar),J),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Fn)}else{var bl=$,Vs=Nf(A,Fn,_.unit),ms=bl.anchor,es;Mn(Vs.anchor,ms)>0?(es=Vs.head,ms=ya(bl.from(),Vs.anchor)):(es=Vs.anchor,ms=ii(bl.to(),Vs.head));var na=ae.ranges.slice(0);na[J]=Dh(A,new Fe(Br(U,ms),es)),Ei(U,Ge(A,na,J),Ft)}}var gt=E.wrapper.getBoundingClientRect(),Ut=0;function cn(Fn){var ar=++Ut,Or=yl(A,Fn,!0,_.unit=="rectangle");if(Or)if(Mn(Or,qe)!=0){A.curOp.focus=Qt(mt(A)),wt(Or);var yr=gu(E,U);(Or.line>=yr.to||Or.line<yr.from)&&setTimeout(no(A,function(){Ut==ar&&cn(Fn)}),150)}else{var oi=Fn.clientY<gt.top?-20:Fn.clientY>gt.bottom?20:0;oi&&setTimeout(no(A,function(){Ut==ar&&(E.scroller.scrollTop+=oi,cn(Fn))}),50)}}function Bn(Fn){A.state.selectingText=!1,Ut=1/0,Fn&&(Xe(Fn),E.input.focus()),Wn(E.wrapper.ownerDocument,"mousemove",Gn),Wn(E.wrapper.ownerDocument,"mouseup",Cn),U.history.lastSelOrigin=null}var Gn=no(A,function(Fn){Fn.buttons===0||!Zt(Fn)?Bn(Fn):cn(Fn)}),Cn=no(A,Bn);A.state.selectingText=Cn,Tt(E.wrapper.ownerDocument,"mousemove",Gn),Tt(E.wrapper.ownerDocument,"mouseup",Cn)}function Dh(A,h){var x=h.anchor,_=h.head,E=Qn(A.doc,x.line);if(Mn(x,_)==0&&x.sticky==_.sticky)return h;var U=En(E);if(!U)return h;var $=mn(U,x.ch,x.sticky),J=U[$];if(J.from!=x.ch&&J.to!=x.ch)return h;var ae=$+(J.from==x.ch==(J.level!=1)?0:1);if(ae==0||ae==U.length)return h;var pe;if(_.line!=x.line)pe=(_.line-x.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var We=mn(U,_.ch,_.sticky),qe=We-$||(_.ch-x.ch)*(J.level==1?-1:1);We==ae-1||We==ae?pe=qe<0:pe=qe>0}var wt=U[ae+(pe?-1:0)],gt=pe==(wt.level==1),Ut=gt?wt.from:wt.to,cn=gt?"after":"before";return x.ch==Ut&&x.sticky==cn?h:new Fe(new Kt(x.line,Ut,cn),_)}function Rp(A,h,x,_){var E,U;if(h.touches)E=h.touches[0].clientX,U=h.touches[0].clientY;else try{E=h.clientX,U=h.clientY}catch{return!1}if(E>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;_&&Xe(h);var $=A.display,J=$.lineDiv.getBoundingClientRect();if(U>J.bottom||!Se(A,x))return ht(h);U-=J.top-$.viewOffset;for(var ae=0;ae<A.display.gutterSpecs.length;++ae){var pe=$.gutters.childNodes[ae];if(pe&&pe.getBoundingClientRect().right>=E){var We=$e(A.doc,U),qe=A.display.gutterSpecs[ae];return Te(A,x,A,We,qe.className,h),ht(h)}}}function jd(A,h){return Rp(A,h,"gutterClick",!0)}function Lp(A,h){Il(A.display,h)||zp(A,h)||de(A,h,"contextmenu")||Ne||A.display.input.onContextMenu(h)}function zp(A,h){return Se(A,"gutterContextMenu")?Rp(A,h,"gutterContextMenu",!1):!1}function P1(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Yl(A)}var Wd={toString:function(){return"CodeMirror.Init"}},Gf={},Gu={};function r0(A){var h=A.optionHandlers;function x(_,E,U,$){A.defaults[_]=E,U&&(h[_]=$?function(J,ae,pe){pe!=Wd&&U(J,ae,pe)}:U)}A.defineOption=x,A.Init=Wd,x("value","",function(_,E){return _.setValue(E)},!0),x("mode",null,function(_,E){_.doc.modeOption=E,It(_)},!0),x("indentUnit",2,It,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(_){Jt(_),Yl(_),wa(_)},!0),x("lineSeparator",null,function(_,E){if(_.doc.lineSep=E,!!E){var U=[],$=_.doc.first;_.doc.iter(function(ae){for(var pe=0;;){var We=ae.text.indexOf(E,pe);if(We==-1)break;pe=We+E.length,U.push(Kt($,We))}$++});for(var J=U.length-1;J>=0;J--)zu(_.doc,E,U[J],Kt(U[J].line,U[J].ch+E.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(_,E,U){_.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),U!=Wd&&_.refresh()}),x("specialCharPlaceholder",Iu,function(_){return _.refresh()},!0),x("electricChars",!0),x("inputStyle",re?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(_,E){return _.getInputField().spellcheck=E},!0),x("autocorrect",!1,function(_,E){return _.getInputField().autocorrect=E},!0),x("autocapitalize",!1,function(_,E){return _.getInputField().autocapitalize=E},!0),x("rtlMoveVisually",!le),x("wholeLineUpdateBefore",!0),x("theme","default",function(_){P1(_),L(_)},!0),x("keyMap","default",function(_,E,U){var $=kh(E),J=U!=Wd&&kh(U);J&&J.detach&&J.detach(_,$),$.attach&&$.attach(_,J||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,Nd,!0),x("gutters",[],function(_,E){_.display.gutterSpecs=M(E,_.options.lineNumbers),L(_)},!0),x("fixedGutter",!0,function(_,E){_.display.gutters.style.left=E?Vi(_.display)+"px":"0",_.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(_){return vl(_)},!0),x("scrollbarStyle","native",function(_){Tf(_),vl(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),x("lineNumbers",!1,function(_,E){_.display.gutterSpecs=M(_.options.gutters,E),L(_)},!0),x("firstLineNumber",1,L,!0),x("lineNumberFormatter",function(_){return _},L,!0),x("showCursorWhenSelecting",!1,pu,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(_,E){E=="nocursor"&&(cc(_),_.display.input.blur()),_.display.input.readOnlyChanged(E)}),x("screenReaderLabel",null,function(_,E){E=E===""?null:E,_.display.input.screenReaderLabelChanged(E)}),x("disableInput",!1,function(_,E){E||_.display.input.reset()},!0),x("dragDrop",!0,F1),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,pu,!0),x("singleCursorHeightPerLine",!0,pu,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,Jt,!0),x("addModeClass",!1,Jt,!0),x("pollInterval",100),x("undoDepth",200,function(_,E){return _.doc.history.undoDepth=E}),x("historyEventDelay",1250),x("viewportMargin",10,function(_){return _.refresh()},!0),x("maxHighlightLength",1e4,Jt,!0),x("moveInputWithCursor",!0,function(_,E){E||_.display.input.resetPosition()}),x("tabindex",null,function(_,E){return _.display.input.getField().tabIndex=E||""}),x("autofocus",null),x("direction","ltr",function(_,E){return _.doc.setDirection(E)},!0),x("phrases",null)}function F1(A,h,x){var _=x&&x!=Wd;if(!h!=!_){var E=A.display.dragFunctions,U=h?Tt:Wn;U(A.display.scroller,"dragstart",E.start),U(A.display.scroller,"dragenter",E.enter),U(A.display.scroller,"dragover",E.over),U(A.display.scroller,"dragleave",E.leave),U(A.display.scroller,"drop",E.drop)}}function Nd(A){A.options.lineWrapping?(He(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(ft(A.display.wrapper,"CodeMirror-wrap"),Gl(A)),Ch(A),wa(A),Yl(A),setTimeout(function(){return vl(A)},100)}function fo(A,h){var x=this;if(!(this instanceof fo))return new fo(A,h);this.options=h=h?Me(h):{},Me(Gf,h,!1);var _=h.value;typeof _=="string"?_=new ps(_,h.mode,null,h.lineSeparator,h.direction):h.mode&&(_.modeOption=h.mode),this.doc=_;var E=new fo.inputStyles[h.inputStyle](this),U=this.display=new j(A,_,E,h);U.wrapper.CodeMirror=this,P1(this),h.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Tf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new be,keySeq:null,specialChars:null},h.autofocus&&!re&&U.input.focus(),p&&g<11&&setTimeout(function(){return x.display.input.reset(!0)},20),D1(this),Fp(),Ru(this),this.curOp.forceUpdate=!0,er(this,_),h.autofocus&&!re||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&kf(x)},20):cc(this);for(var $ in Gu)Gu.hasOwnProperty($)&&Gu[$](this,h[$],Wd);C(this),h.finishInit&&h.finishInit(this);for(var J=0;J<jp.length;++J)jp[J](this);aA(this),b&&h.lineWrapping&&getComputedStyle(U.lineDiv).textRendering=="optimizelegibility"&&(U.lineDiv.style.textRendering="auto")}fo.defaults=Gf,fo.optionHandlers=Gu;function D1(A){var h=A.display;Tt(h.scroller,"mousedown",no(A,n0)),p&&g<11?Tt(h.scroller,"dblclick",no(A,function(ae){if(!de(A,ae)){var pe=yl(A,ae);if(!(!pe||jd(A,ae)||Il(A.display,ae))){Xe(ae);var We=A.findWordAt(pe);Pl(A.doc,We.anchor,We.head)}}})):Tt(h.scroller,"dblclick",function(ae){return de(A,ae)||Xe(ae)}),Tt(h.scroller,"contextmenu",function(ae){return Lp(A,ae)}),Tt(h.input.getField(),"contextmenu",function(ae){h.scroller.contains(ae.target)||Lp(A,ae)});var x,_={end:0};function E(){h.activeTouch&&(x=setTimeout(function(){return h.activeTouch=null},1e3),_=h.activeTouch,_.end=+new Date)}function U(ae){if(ae.touches.length!=1)return!1;var pe=ae.touches[0];return pe.radiusX<=1&&pe.radiusY<=1}function $(ae,pe){if(pe.left==null)return!0;var We=pe.left-ae.left,qe=pe.top-ae.top;return We*We+qe*qe>20*20}Tt(h.scroller,"touchstart",function(ae){if(!de(A,ae)&&!U(ae)&&!jd(A,ae)){h.input.ensurePolled(),clearTimeout(x);var pe=+new Date;h.activeTouch={start:pe,moved:!1,prev:pe-_.end<=300?_:null},ae.touches.length==1&&(h.activeTouch.left=ae.touches[0].pageX,h.activeTouch.top=ae.touches[0].pageY)}}),Tt(h.scroller,"touchmove",function(){h.activeTouch&&(h.activeTouch.moved=!0)}),Tt(h.scroller,"touchend",function(ae){var pe=h.activeTouch;if(pe&&!Il(h,ae)&&pe.left!=null&&!pe.moved&&new Date-pe.start<300){var We=A.coordsChar(h.activeTouch,"page"),qe;!pe.prev||$(pe,pe.prev)?qe=new Fe(We,We):!pe.prev.prev||$(pe,pe.prev.prev)?qe=A.findWordAt(We):qe=new Fe(Kt(We.line,0),Br(A.doc,Kt(We.line+1,0))),A.setSelection(qe.anchor,qe.head),A.focus(),Xe(ae)}E()}),Tt(h.scroller,"touchcancel",E),Tt(h.scroller,"scroll",function(){h.scroller.clientHeight&&(dc(A,h.scroller.scrollTop),$o(A,h.scroller.scrollLeft,!0),Te(A,"scroll",A))}),Tt(h.scroller,"mousewheel",function(ae){return Ee(A,ae)}),Tt(h.scroller,"DOMMouseScroll",function(ae){return Ee(A,ae)}),Tt(h.wrapper,"scroll",function(){return h.wrapper.scrollTop=h.wrapper.scrollLeft=0}),h.dragFunctions={enter:function(ae){de(A,ae)||Ve(ae)},over:function(ae){de(A,ae)||(ji(A,ae),Ve(ae))},start:function(ae){return Hm(A,ae)},drop:no(A,Pp),leave:function(ae){de(A,ae)||Zm(A)}};var J=h.input.getField();Tt(J,"keyup",function(ae){return Wu.call(A,ae)}),Tt(J,"keydown",no(A,Kh)),Tt(J,"keypress",no(A,t0)),Tt(J,"focus",function(ae){return kf(A,ae)}),Tt(J,"blur",function(ae){return cc(A,ae)})}var jp=[];fo.defineInitHook=function(A){return jp.push(A)};function Uh(A,h,x,_){var E=A.doc,U;x==null&&(x="add"),x=="smart"&&(E.mode.indent?U=qa(A,h).state:x="prev");var $=A.options.tabSize,J=Qn(E,h),ae=he(J.text,null,$);J.stateAfter&&(J.stateAfter=null);var pe=J.text.match(/^\s*/)[0],We;if(!_&&!/\S/.test(J.text))We=0,x="not";else if(x=="smart"&&(We=E.mode.indent(U,J.text.slice(pe.length),J.text),We==nt||We>150)){if(!_)return;x="prev"}x=="prev"?h>E.first?We=he(Qn(E,h-1).text,null,$):We=0:x=="add"?We=ae+A.options.indentUnit:x=="subtract"?We=ae-A.options.indentUnit:typeof x=="number"&&(We=ae+x),We=Math.max(0,We);var qe="",wt=0;if(A.options.indentWithTabs)for(var gt=Math.floor(We/$);gt;--gt)wt+=$,qe+="	";if(wt<We&&(qe+=pn(We-wt)),qe!=pe)return zu(E,qe,Kt(h,0),Kt(h,pe.length),"+input"),J.stateAfter=null,!0;for(var Ut=0;Ut<E.sel.ranges.length;Ut++){var cn=E.sel.ranges[Ut];if(cn.head.line==h&&cn.head.ch<pe.length){var Bn=Kt(h,pe.length);Is(E,Ut,new Fe(Bn,Bn));break}}}var _u=null;function Wp(A){_u=A}function i0(A,h,x,_,E){var U=A.doc;A.display.shift=!1,_||(_=U.sel);var $=+new Date-200,J=E=="paste"||A.state.pasteIncoming>$,ae=or(h),pe=null;if(J&&_.ranges.length>1)if(_u&&_u.text.join(`
`)==h){if(_.ranges.length%_u.text.length==0){pe=[];for(var We=0;We<_u.text.length;We++)pe.push(U.splitLines(_u.text[We]))}}else ae.length==_.ranges.length&&A.options.pasteLinesPerSelection&&(pe=Jn(ae,function(Gn){return[Gn]}));for(var qe=A.curOp.updateInput,wt=_.ranges.length-1;wt>=0;wt--){var gt=_.ranges[wt],Ut=gt.from(),cn=gt.to();gt.empty()&&(x&&x>0?Ut=Kt(Ut.line,Ut.ch-x):A.state.overwrite&&!J?cn=Kt(cn.line,Math.min(Qn(U,cn.line).text.length,cn.ch+bn(ae).length)):J&&_u&&_u.lineWise&&_u.text.join(`
`)==ae.join(`
`)&&(Ut=cn=Kt(Ut.line,0)));var Bn={from:Ut,to:cn,text:pe?pe[wt%pe.length]:ae,origin:E||(J?"paste":A.state.cutIncoming>$?"cut":"+input")};ql(A.doc,Bn),Do(A,"inputRead",A,Bn)}h&&!J&&Np(A,h),to(A),A.curOp.updateInput<2&&(A.curOp.updateInput=qe),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function UA(A,h){var x=A.clipboardData&&A.clipboardData.getData("Text");if(x)return A.preventDefault(),!h.isReadOnly()&&!h.options.disableInput&&h.hasFocus()&&Ka(h,function(){return i0(h,x,0,null,"paste")}),!0}function Np(A,h){if(!(!A.options.electricChars||!A.options.smartIndent))for(var x=A.doc.sel,_=x.ranges.length-1;_>=0;_--){var E=x.ranges[_];if(!(E.head.ch>100||_&&x.ranges[_-1].head.line==E.head.line)){var U=A.getModeAt(E.head),$=!1;if(U.electricChars){for(var J=0;J<U.electricChars.length;J++)if(h.indexOf(U.electricChars.charAt(J))>-1){$=Uh(A,E.head.line,"smart");break}}else U.electricInput&&U.electricInput.test(Qn(A.doc,E.head.line).text.slice(0,E.head.ch))&&($=Uh(A,E.head.line,"smart"));$&&Do(A,"electricInput",A,E.head.line)}}}function Rh(A){for(var h=[],x=[],_=0;_<A.doc.sel.ranges.length;_++){var E=A.doc.sel.ranges[_].head.line,U={anchor:Kt(E,0),head:Kt(E+1,0)};x.push(U),h.push(A.getRange(U.anchor,U.head))}return{text:h,ranges:x}}function vc(A,h,x,_){A.setAttribute("autocorrect",x?"on":"off"),A.setAttribute("autocapitalize",_?"on":"off"),A.setAttribute("spellcheck",!!h)}function Gd(){var A=Ce("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),h=Ce("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?A.style.width="1000px":A.setAttribute("wrap","off"),q&&(A.style.border="1px solid black"),h}function Lh(A){var h=A.optionHandlers,x=A.helpers={};A.prototype={constructor:A,focus:function(){kt(this).focus(),this.display.input.focus()},setOption:function(_,E){var U=this.options,$=U[_];U[_]==E&&_!="mode"||(U[_]=E,h.hasOwnProperty(_)&&no(this,h[_])(this,E,$),Te(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,E){this.state.keyMaps[E?"push":"unshift"](kh(_))},removeKeyMap:function(_){for(var E=this.state.keyMaps,U=0;U<E.length;++U)if(E[U]==_||E[U].name==_)return E.splice(U,1),!0},addOverlay:jr(function(_,E){var U=_.token?_:A.getMode(this.options,_);if(U.startState)throw new Error("Overlays may not be stateful.");mr(this.state.overlays,{mode:U,modeSpec:_,opaque:E&&E.opaque,priority:E&&E.priority||0},function($){return $.priority}),this.state.modeGen++,wa(this)}),removeOverlay:jr(function(_){for(var E=this.state.overlays,U=0;U<E.length;++U){var $=E[U].modeSpec;if($==_||typeof _=="string"&&$.name==_){E.splice(U,1),this.state.modeGen++,wa(this);return}}}),indentLine:jr(function(_,E,U){typeof E!="string"&&typeof E!="number"&&(E==null?E=this.options.smartIndent?"smart":"prev":E=E?"add":"subtract"),Xt(this.doc,_)&&Uh(this,_,E,U)}),indentSelection:jr(function(_){for(var E=this.doc.sel.ranges,U=-1,$=0;$<E.length;$++){var J=E[$];if(J.empty())J.head.line>U&&(Uh(this,J.head.line,_,!0),U=J.head.line,$==this.doc.sel.primIndex&&to(this));else{var ae=J.from(),pe=J.to(),We=Math.max(U,ae.line);U=Math.min(this.lastLine(),pe.line-(pe.ch?0:1))+1;for(var qe=We;qe<U;++qe)Uh(this,qe,_);var wt=this.doc.sel.ranges;ae.ch==0&&E.length==wt.length&&wt[$].from().ch>0&&Is(this.doc,$,new Fe(ae,wt[$].to()),xt)}}}),getTokenAt:function(_,E){return tc(this,_,E)},getLineTokens:function(_,E){return tc(this,Kt(_),E,!0)},getTokenTypeAt:function(_){_=Br(this.doc,_);var E=Ws(this,Qn(this.doc,_.line)),U=0,$=(E.length-1)/2,J=_.ch,ae;if(J==0)ae=E[2];else for(;;){var pe=U+$>>1;if((pe?E[pe*2-1]:0)>=J)$=pe;else if(E[pe*2+1]<J)U=pe+1;else{ae=E[pe*2+2];break}}var We=ae?ae.indexOf("overlay "):-1;return We<0?ae:We==0?null:ae.slice(0,We-1)},getModeAt:function(_){var E=this.doc.mode;return E.innerMode?A.innerMode(E,this.getTokenAt(_).state).mode:E},getHelper:function(_,E){return this.getHelpers(_,E)[0]},getHelpers:function(_,E){var U=[];if(!x.hasOwnProperty(E))return U;var $=x[E],J=this.getModeAt(_);if(typeof J[E]=="string")$[J[E]]&&U.push($[J[E]]);else if(J[E])for(var ae=0;ae<J[E].length;ae++){var pe=$[J[E][ae]];pe&&U.push(pe)}else J.helperType&&$[J.helperType]?U.push($[J.helperType]):$[J.name]&&U.push($[J.name]);for(var We=0;We<$._global.length;We++){var qe=$._global[We];qe.pred(J,this)&&Pe(U,qe.val)==-1&&U.push(qe.val)}return U},getStateAfter:function(_,E){var U=this.doc;return _=$a(U,_??U.first+U.size-1),qa(this,_+1,E).state},cursorCoords:function(_,E){var U,$=this.doc.sel.primary();return _==null?U=$.head:typeof _=="object"?U=Br(this.doc,_):U=_?$.from():$.to(),Lt(this,U,E||"page")},charCoords:function(_,E){return on(this,Br(this.doc,_),E||"page")},coordsChar:function(_,E){return _=bt(this,_,E||"page"),eo(this,_.left,_.top)},lineAtHeight:function(_,E){return _=bt(this,{top:_,left:0},E||"page").top,$e(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,E,U){var $=!1,J;if(typeof _=="number"){var ae=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>ae&&(_=ae,$=!0),J=Qn(this.doc,_)}else J=_;return hu(this,J,{top:0,left:0},E||"page",U||$).top+($?this.doc.height-Ia(J):0)},defaultTextHeight:function(){return Jo(this.display)},defaultCharWidth:function(){return fu(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,E,U,$,J){var ae=this.display;_=Lt(this,Br(this.doc,_));var pe=_.bottom,We=_.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),ae.sizer.appendChild(E),$=="over")pe=_.top;else if($=="above"||$=="near"){var qe=Math.max(ae.wrapper.clientHeight,this.doc.height),wt=Math.max(ae.sizer.clientWidth,ae.lineSpace.clientWidth);($=="above"||_.bottom+E.offsetHeight>qe)&&_.top>E.offsetHeight?pe=_.top-E.offsetHeight:_.bottom+E.offsetHeight<=qe&&(pe=_.bottom),We+E.offsetWidth>wt&&(We=wt-E.offsetWidth)}E.style.top=pe+"px",E.style.left=E.style.right="",J=="right"?(We=ae.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(J=="left"?We=0:J=="middle"&&(We=(ae.sizer.clientWidth-E.offsetWidth)/2),E.style.left=We+"px"),U&&If(this,{left:We,top:pe,right:We+E.offsetWidth,bottom:pe+E.offsetHeight})},triggerOnKeyDown:jr(Kh),triggerOnKeyPress:jr(t0),triggerOnKeyUp:Wu,triggerOnMouseDown:jr(n0),execCommand:function(_){if(zf.hasOwnProperty(_))return zf[_].call(null,this)},triggerElectric:jr(function(_){Np(this,_)}),findPosH:function(_,E,U,$){var J=1;E<0&&(J=-1,E=-E);for(var ae=Br(this.doc,_),pe=0;pe<E&&(ae=Qr(this.doc,ae,J,U,$),!ae.hitSide);++pe);return ae},moveH:jr(function(_,E){var U=this;this.extendSelectionsBy(function($){return U.display.shift||U.doc.extend||$.empty()?Qr(U.doc,$.head,_,E,U.options.rtlMoveVisually):_<0?$.from():$.to()},Dt)}),deleteH:jr(function(_,E){var U=this.doc.sel,$=this.doc;U.somethingSelected()?$.replaceSelection("",null,"+delete"):Hl(this,function(J){var ae=Qr($,J.head,_,E,!1);return _<0?{from:ae,to:J.head}:{from:J.head,to:ae}})}),findPosV:function(_,E,U,$){var J=1,ae=$;E<0&&(J=-1,E=-E);for(var pe=Br(this.doc,_),We=0;We<E;++We){var qe=Lt(this,pe,"div");if(ae==null?ae=qe.left:qe.left=ae,pe=zh(this,qe,J,U),pe.hitSide)break}return pe},moveV:jr(function(_,E){var U=this,$=this.doc,J=[],ae=!this.display.shift&&!$.extend&&$.sel.somethingSelected();if($.extendSelectionsBy(function(We){if(ae)return _<0?We.from():We.to();var qe=Lt(U,We.head,"div");We.goalColumn!=null&&(qe.left=We.goalColumn),J.push(qe.left);var wt=zh(U,qe,_,E);return E=="page"&&We==$.sel.primary()&&_h(U,on(U,wt,"div").top-qe.top),wt},Dt),J.length)for(var pe=0;pe<$.sel.ranges.length;pe++)$.sel.ranges[pe].goalColumn=J[pe]}),findWordAt:function(_){var E=this.doc,U=Qn(E,_.line).text,$=_.ch,J=_.ch;if(U){var ae=this.getHelper(_,"wordChars");(_.sticky=="before"||J==U.length)&&$?--$:++J;for(var pe=U.charAt($),We=we(pe,ae)?function(qe){return we(qe,ae)}:/\s/.test(pe)?function(qe){return/\s/.test(qe)}:function(qe){return!/\s/.test(qe)&&!we(qe)};$>0&&We(U.charAt($-1));)--$;for(;J<U.length&&We(U.charAt(J));)++J}return new Fe(Kt(_.line,$),Kt(_.line,J))},toggleOverwrite:function(_){_!=null&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?He(this.display.cursorDiv,"CodeMirror-overwrite"):ft(this.display.cursorDiv,"CodeMirror-overwrite"),Te(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Qt(mt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:jr(function(_,E){ea(this,_,E)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-du(this)-this.display.barHeight,width:_.scrollWidth-du(this)-this.display.barWidth,clientHeight:Wc(this),clientWidth:Pu(this)}},scrollIntoView:jr(function(_,E){_==null?(_={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof _=="number"?_={from:Kt(_,0),to:null}:_.from==null&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=E||0,_.from.line!=null?gr(this,_):KA(this,_.from,_.to,_.margin)}),setSize:jr(function(_,E){var U=this,$=function(ae){return typeof ae=="number"||/^\d+$/.test(String(ae))?ae+"px":ae};_!=null&&(this.display.wrapper.style.width=$(_)),E!=null&&(this.display.wrapper.style.height=$(E)),this.options.lineWrapping&&nA(this);var J=this.display.viewFrom;this.doc.iter(J,this.display.viewTo,function(ae){if(ae.widgets){for(var pe=0;pe<ae.widgets.length;pe++)if(ae.widgets[pe].noHScroll){Qs(U,J,"widget");break}}++J}),this.curOp.forceUpdate=!0,Te(this,"refresh",this)}),operation:function(_){return Ka(this,_)},startOperation:function(){return Ru(this)},endOperation:function(){return aA(this)},refresh:jr(function(){var _=this.display.cachedTextHeight;wa(this),this.curOp.forceUpdate=!0,Yl(this),ea(this,this.doc.scrollLeft,this.doc.scrollTop),O(this.display),(_==null||Math.abs(_-Jo(this.display))>.5||this.options.lineWrapping)&&Ch(this),Te(this,"refresh",this)}),swapDoc:jr(function(_){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),er(this,_),Yl(this),this.display.input.reset(),ea(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,Do(this,"swapDoc",this,E),E}),phrase:function(_){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,_)?E[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Re(A),A.registerHelper=function(_,E,U){x.hasOwnProperty(_)||(x[_]=A[_]={_global:[]}),x[_][E]=U},A.registerGlobalHelper=function(_,E,U,$){A.registerHelper(_,E,$),x[_]._global.push({pred:U,val:$})}}function Qr(A,h,x,_,E){var U=h,$=x,J=Qn(A,h.line),ae=E&&A.direction=="rtl"?-x:x;function pe(){var Cn=h.line+ae;return Cn<A.first||Cn>=A.first+A.size?!1:(h=new Kt(Cn,h.ch,h.sticky),J=Qn(A,Cn))}function We(Cn){var Fn;if(_=="codepoint"){var ar=J.text.charCodeAt(h.ch+(x>0?0:-1));if(isNaN(ar))Fn=null;else{var Or=x>0?ar>=55296&&ar<56320:ar>=56320&&ar<57343;Fn=new Kt(h.line,Math.max(0,Math.min(J.text.length,h.ch+x*(Or?2:1))),-x)}}else E?Fn=ed(A.cm,J,h,x):Fn=Rf(J,h,x);if(Fn==null)if(!Cn&&pe())h=Lf(E,A.cm,J,h.line,ae);else return!1;else h=Fn;return!0}if(_=="char"||_=="codepoint")We();else if(_=="column")We(!0);else if(_=="word"||_=="group")for(var qe=null,wt=_=="group",gt=A.cm&&A.cm.getHelper(h,"wordChars"),Ut=!0;!(x<0&&!We(!Ut));Ut=!1){var cn=J.text.charAt(h.ch)||`
`,Bn=we(cn,gt)?"w":wt&&cn==`
`?"n":!wt||/\s/.test(cn)?null:"p";if(wt&&!Ut&&!Bn&&(Bn="s"),qe&&qe!=Bn){x<0&&(x=1,We(),h.sticky="after");break}if(Bn&&(qe=Bn),x>0&&!We(!Ut))break}var Gn=mc(A,h,U,$,!0);return cr(U,Gn)&&(Gn.hitSide=!0),Gn}function zh(A,h,x,_){var E=A.doc,U=h.left,$;if(_=="page"){var J=Math.min(A.display.wrapper.clientHeight,kt(A).innerHeight||E(A).documentElement.clientHeight),ae=Math.max(J-.5*Jo(A.display),3);$=(x>0?h.bottom:h.top)+x*ae}else _=="line"&&($=x>0?h.bottom+3:h.top-3);for(var pe;pe=eo(A,U,$),!!pe.outside;){if(x<0?$<=0:$>=E.height){pe.hitSide=!0;break}$+=x*5}return pe}var Co=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new be,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Co.prototype.init=function(A){var h=this,x=this,_=x.cm,E=x.div=A.lineDiv;E.contentEditable=!0,vc(E,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize);function U(J){for(var ae=J.target;ae;ae=ae.parentNode){if(ae==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ae.className))break}return!1}Tt(E,"paste",function(J){!U(J)||de(_,J)||UA(J,_)||g<=11&&setTimeout(no(_,function(){return h.updateFromDOM()}),20)}),Tt(E,"compositionstart",function(J){h.composing={data:J.data,done:!1}}),Tt(E,"compositionupdate",function(J){h.composing||(h.composing={data:J.data,done:!1})}),Tt(E,"compositionend",function(J){h.composing&&(J.data!=h.composing.data&&h.readFromDOMSoon(),h.composing.done=!0)}),Tt(E,"touchstart",function(){return x.forceCompositionEnd()}),Tt(E,"input",function(){h.composing||h.readFromDOMSoon()});function $(J){if(!(!U(J)||de(_,J))){if(_.somethingSelected())Wp({lineWise:!1,text:_.getSelections()}),J.type=="cut"&&_.replaceSelection("",null,"cut");else if(_.options.lineWiseCopyCut){var ae=Rh(_);Wp({lineWise:!0,text:ae.text}),J.type=="cut"&&_.operation(function(){_.setSelections(ae.ranges,0,xt),_.replaceSelection("",null,"cut")})}else return;if(J.clipboardData){J.clipboardData.clearData();var pe=_u.text.join(`
`);if(J.clipboardData.setData("Text",pe),J.clipboardData.getData("Text")==pe){J.preventDefault();return}}var We=Gd(),qe=We.firstChild;vc(qe),_.display.lineSpace.insertBefore(We,_.display.lineSpace.firstChild),qe.value=_u.text.join(`
`);var wt=Qt(dt(E));tt(qe),setTimeout(function(){_.display.lineSpace.removeChild(We),wt.focus(),wt==E&&x.showPrimarySelection()},50)}}Tt(E,"copy",$),Tt(E,"cut",$)},Co.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Co.prototype.prepareSelection=function(){var A=Nn(this.cm,!1);return A.focus=Qt(dt(this.div))==this.div,A},Co.prototype.showSelection=function(A,h){!A||!this.cm.display.view.length||((A.focus||h)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Co.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Co.prototype.showPrimarySelection=function(){var A=this.getSelection(),h=this.cm,x=h.doc.sel.primary(),_=x.from(),E=x.to();if(h.display.viewTo==h.display.viewFrom||_.line>=h.display.viewTo||E.line<h.display.viewFrom){A.removeAllRanges();return}var U=Ts(h,A.anchorNode,A.anchorOffset),$=Ts(h,A.focusNode,A.focusOffset);if(!(U&&!U.bad&&$&&!$.bad&&Mn(ya(U,$),_)==0&&Mn(ii(U,$),E)==0)){var J=h.display.view,ae=_.line>=h.display.viewFrom&&rd(h,_)||{node:J[0].measure.map[2],offset:0},pe=E.line<h.display.viewTo&&rd(h,E);if(!pe){var We=J[J.length-1].measure,qe=We.maps?We.maps[We.maps.length-1]:We.map;pe={node:qe[qe.length-1],offset:qe[qe.length-2]-qe[qe.length-3]}}if(!ae||!pe){A.removeAllRanges();return}var wt=A.rangeCount&&A.getRangeAt(0),gt;try{gt=jt(ae.node,ae.offset,pe.offset,pe.node)}catch{}gt&&(!i&&h.state.focused?(A.collapse(ae.node,ae.offset),gt.collapsed||(A.removeAllRanges(),A.addRange(gt))):(A.removeAllRanges(),A.addRange(gt)),wt&&A.anchorNode==null?A.addRange(wt):i&&this.startGracePeriod()),this.rememberSelection()}},Co.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Co.prototype.showMultipleSelections=function(A){rt(this.cm.display.cursorDiv,A.cursors),rt(this.cm.display.selectionDiv,A.selection)},Co.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Co.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var h=A.getRangeAt(0).commonAncestorContainer;return tn(this.div,h)},Co.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Qt(dt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Co.prototype.blur=function(){this.div.blur()},Co.prototype.getField=function(){return this.div},Co.prototype.supportsTouch=function(){return!0},Co.prototype.receivedFocus=function(){var A=this,h=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):Ka(this.cm,function(){return h.cm.curOp.selectionChanged=!0});function x(){h.cm.state.focused&&(h.pollSelection(),h.polling.set(h.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Co.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Co.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),h=this.cm;if(oe&&k&&this.cm.display.gutterSpecs.length&&Qf(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=Ts(h,A.anchorNode,A.anchorOffset),_=Ts(h,A.focusNode,A.focusOffset);x&&_&&Ka(h,function(){Ei(h.doc,je(x,_),xt),(x.bad||_.bad)&&(h.curOp.selectionChanged=!0)})}}},Co.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,h=A.display,x=A.doc.sel.primary(),_=x.from(),E=x.to();if(_.ch==0&&_.line>A.firstLine()&&(_=Kt(_.line-1,Qn(A.doc,_.line-1).length)),E.ch==Qn(A.doc,E.line).text.length&&E.line<A.lastLine()&&(E=Kt(E.line+1,0)),_.line<h.viewFrom||E.line>h.viewTo-1)return!1;var U,$,J;_.line==h.viewFrom||(U=kA(A,_.line))==0?($=ge(h.view[0].line),J=h.view[0].node):($=ge(h.view[U].line),J=h.view[U-1].node.nextSibling);var ae=kA(A,E.line),pe,We;if(ae==h.view.length-1?(pe=h.viewTo-1,We=h.lineDiv.lastChild):(pe=ge(h.view[ae+1].line)-1,We=h.view[ae+1].node.previousSibling),!J)return!1;for(var qe=A.doc.splitLines(U1(A,J,We,$,pe)),wt=so(A.doc,Kt($,0),Kt(pe,Qn(A.doc,pe).text.length));qe.length>1&&wt.length>1;)if(bn(qe)==bn(wt))qe.pop(),wt.pop(),pe--;else if(qe[0]==wt[0])qe.shift(),wt.shift(),$++;else break;for(var gt=0,Ut=0,cn=qe[0],Bn=wt[0],Gn=Math.min(cn.length,Bn.length);gt<Gn&&cn.charCodeAt(gt)==Bn.charCodeAt(gt);)++gt;for(var Cn=bn(qe),Fn=bn(wt),ar=Math.min(Cn.length-(qe.length==1?gt:0),Fn.length-(wt.length==1?gt:0));Ut<ar&&Cn.charCodeAt(Cn.length-Ut-1)==Fn.charCodeAt(Fn.length-Ut-1);)++Ut;if(qe.length==1&&wt.length==1&&$==_.line)for(;gt&&gt>_.ch&&Cn.charCodeAt(Cn.length-Ut-1)==Fn.charCodeAt(Fn.length-Ut-1);)gt--,Ut++;qe[qe.length-1]=Cn.slice(0,Cn.length-Ut).replace(/^\u200b+/,""),qe[0]=qe[0].slice(gt).replace(/\u200b+$/,"");var Or=Kt($,gt),yr=Kt(pe,wt.length?bn(wt).length-Ut:0);if(qe.length>1||qe[0]||Mn(Or,yr))return zu(A.doc,qe,Or,yr,"+input"),!0},Co.prototype.ensurePolled=function(){this.forceCompositionEnd()},Co.prototype.reset=function(){this.forceCompositionEnd()},Co.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Co.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Co.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&Ka(this.cm,function(){return wa(A.cm)})},Co.prototype.setUneditable=function(A){A.contentEditable="false"},Co.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||no(this.cm,i0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Co.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Co.prototype.onContextMenu=function(){},Co.prototype.resetPosition=function(){},Co.prototype.needsContentAttribute=!0;function rd(A,h){var x=Nc(A,h.line);if(!x||x.hidden)return null;var _=Qn(A.doc,h.line),E=Of(x,_,h.line),U=En(_,A.doc.direction),$="left";if(U){var J=mn(U,h.ch);$=J%2?"right":"left"}var ae=tA(E.map,h.ch,$);return ae.offset=ae.collapse=="right"?ae.end:ae.start,ae}function Qf(A){for(var h=A;h;h=h.parentNode)if(/CodeMirror-gutter-wrapper/.test(h.className))return!0;return!1}function Cc(A,h){return h&&(A.bad=!0),A}function U1(A,h,x,_,E){var U="",$=!1,J=A.doc.lineSeparator(),ae=!1;function pe(gt){return function(Ut){return Ut.id==gt}}function We(){$&&(U+=J,ae&&(U+=J),$=ae=!1)}function qe(gt){gt&&(We(),U+=gt)}function wt(gt){if(gt.nodeType==1){var Ut=gt.getAttribute("cm-text");if(Ut){qe(Ut);return}var cn=gt.getAttribute("cm-marker"),Bn;if(cn){var Gn=A.findMarks(Kt(_,0),Kt(E+1,0),pe(+cn));Gn.length&&(Bn=Gn[0].find(0))&&qe(so(A.doc,Bn.from,Bn.to).join(J));return}if(gt.getAttribute("contenteditable")=="false")return;var Cn=/^(pre|div|p|li|table|br)$/i.test(gt.nodeName);if(!/^br$/i.test(gt.nodeName)&&gt.textContent.length==0)return;Cn&&We();for(var Fn=0;Fn<gt.childNodes.length;Fn++)wt(gt.childNodes[Fn]);/^(pre|p)$/i.test(gt.nodeName)&&(ae=!0),Cn&&($=!0)}else gt.nodeType==3&&qe(gt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;wt(h),h!=x;)h=h.nextSibling,ae=!1;return U}function Ts(A,h,x){var _;if(h==A.display.lineDiv){if(_=A.display.lineDiv.childNodes[x],!_)return Cc(A.clipPos(Kt(A.display.viewTo-1)),!0);h=null,x=0}else for(_=h;;_=_.parentNode){if(!_||_==A.display.lineDiv)return null;if(_.parentNode&&_.parentNode==A.display.lineDiv)break}for(var E=0;E<A.display.view.length;E++){var U=A.display.view[E];if(U.node==_)return rv(U,h,x)}}function rv(A,h,x){var _=A.text.firstChild,E=!1;if(!h||!tn(_,h))return Cc(Kt(ge(A.line),0),!0);if(h==_&&(E=!0,h=_.childNodes[x],x=0,!h)){var U=A.rest?bn(A.rest):A.line;return Cc(Kt(ge(U),U.text.length),E)}var $=h.nodeType==3?h:null,J=h;for(!$&&h.childNodes.length==1&&h.firstChild.nodeType==3&&($=h.firstChild,x&&(x=$.nodeValue.length));J.parentNode!=_;)J=J.parentNode;var ae=A.measure,pe=ae.maps;function We(Bn,Gn,Cn){for(var Fn=-1;Fn<(pe?pe.length:0);Fn++)for(var ar=Fn<0?ae.map:pe[Fn],Or=0;Or<ar.length;Or+=3){var yr=ar[Or+2];if(yr==Bn||yr==Gn){var oi=ge(Fn<0?A.line:A.rest[Fn]),ko=ar[Or]+Cn;return(Cn<0||yr!=Bn)&&(ko=ar[Or+(Cn?1:0)]),Kt(oi,ko)}}}var qe=We($,J,x);if(qe)return Cc(qe,E);for(var wt=J.nextSibling,gt=$?$.nodeValue.length-x:0;wt;wt=wt.nextSibling){if(qe=We(wt,wt.firstChild,0),qe)return Cc(Kt(qe.line,qe.ch-gt),E);gt+=wt.textContent.length}for(var Ut=J.previousSibling,cn=x;Ut;Ut=Ut.previousSibling){if(qe=We(Ut,Ut.firstChild,-1),qe)return Cc(Kt(qe.line,qe.ch+cn),E);cn+=Ut.textContent.length}}var Fa=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new be,this.hasSelection=!1,this.composing=null,this.resetting=!1};Fa.prototype.init=function(A){var h=this,x=this,_=this.cm;this.createField(A);var E=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),q&&(E.style.width="0px"),Tt(E,"input",function(){p&&g>=9&&h.hasSelection&&(h.hasSelection=null),x.poll()}),Tt(E,"paste",function($){de(_,$)||UA($,_)||(_.state.pasteIncoming=+new Date,x.fastPoll())});function U($){if(!de(_,$)){if(_.somethingSelected())Wp({lineWise:!1,text:_.getSelections()});else if(_.options.lineWiseCopyCut){var J=Rh(_);Wp({lineWise:!0,text:J.text}),$.type=="cut"?_.setSelections(J.ranges,null,xt):(x.prevInput="",E.value=J.text.join(`
`),tt(E))}else return;$.type=="cut"&&(_.state.cutIncoming=+new Date)}}Tt(E,"cut",U),Tt(E,"copy",U),Tt(A.scroller,"paste",function($){if(!(Il(A,$)||de(_,$))){if(!E.dispatchEvent){_.state.pasteIncoming=+new Date,x.focus();return}var J=new Event("paste");J.clipboardData=$.clipboardData,E.dispatchEvent(J)}}),Tt(A.lineSpace,"selectstart",function($){Il(A,$)||Xe($)}),Tt(E,"compositionstart",function(){var $=_.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:$,range:_.markText($,_.getCursor("to"),{className:"CodeMirror-composing"})}}),Tt(E,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},Fa.prototype.createField=function(A){this.wrapper=Gd(),this.textarea=this.wrapper.firstChild;var h=this.cm.options;vc(this.textarea,h.spellcheck,h.autocorrect,h.autocapitalize)},Fa.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Fa.prototype.prepareSelection=function(){var A=this.cm,h=A.display,x=A.doc,_=Nn(A);if(A.options.moveInputWithCursor){var E=Lt(A,x.sel.primary().head,"div"),U=h.wrapper.getBoundingClientRect(),$=h.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(h.wrapper.clientHeight-10,E.top+$.top-U.top)),_.teLeft=Math.max(0,Math.min(h.wrapper.clientWidth-10,E.left+$.left-U.left))}return _},Fa.prototype.showSelection=function(A){var h=this.cm,x=h.display;rt(x.cursorDiv,A.cursors),rt(x.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Fa.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var h=this.cm;if(this.resetting=!0,h.somethingSelected()){this.prevInput="";var x=h.getSelection();this.textarea.value=x,h.state.focused&&tt(this.textarea),p&&g>=9&&(this.hasSelection=x)}else A||(this.prevInput=this.textarea.value="",p&&g>=9&&(this.hasSelection=null));this.resetting=!1}},Fa.prototype.getField=function(){return this.textarea},Fa.prototype.supportsTouch=function(){return!1},Fa.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!re||Qt(dt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Fa.prototype.blur=function(){this.textarea.blur()},Fa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Fa.prototype.receivedFocus=function(){this.slowPoll()},Fa.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Fa.prototype.fastPoll=function(){var A=!1,h=this;h.pollingFast=!0;function x(){var _=h.poll();!_&&!A?(A=!0,h.polling.set(60,x)):(h.pollingFast=!1,h.slowPoll())}h.polling.set(20,x)},Fa.prototype.poll=function(){var A=this,h=this.cm,x=this.textarea,_=this.prevInput;if(this.contextMenuPending||this.resetting||!h.state.focused||Tr(x)&&!_&&!this.composing||h.isReadOnly()||h.options.disableInput||h.state.keySeq)return!1;var E=x.value;if(E==_&&!h.somethingSelected())return!1;if(p&&g>=9&&this.hasSelection===E||ce&&/[\uf700-\uf7ff]/.test(E))return h.display.input.reset(),!1;if(h.doc.sel==h.display.selForContextMenu){var U=E.charCodeAt(0);if(U==8203&&!_&&(_=""),U==8666)return this.reset(),this.cm.execCommand("undo")}for(var $=0,J=Math.min(_.length,E.length);$<J&&_.charCodeAt($)==E.charCodeAt($);)++$;return Ka(h,function(){i0(h,E.slice($),_.length-$,null,A.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?x.value=A.prevInput="":A.prevInput=E,A.composing&&(A.composing.range.clear(),A.composing.range=h.markText(A.composing.start,h.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Fa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Fa.prototype.onKeyPress=function(){p&&g>=9&&(this.hasSelection=null),this.fastPoll()},Fa.prototype.onContextMenu=function(A){var h=this,x=h.cm,_=x.display,E=h.textarea;h.contextMenuPending&&h.contextMenuPending();var U=yl(x,A),$=_.scroller.scrollTop;if(!U||R)return;var J=x.options.resetSelectionOnContextMenu;J&&x.doc.sel.contains(U)==-1&&no(x,Ei)(x.doc,je(U),xt);var ae=E.style.cssText,pe=h.wrapper.style.cssText,We=h.wrapper.offsetParent.getBoundingClientRect();h.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-We.top-5)+"px; left: "+(A.clientX-We.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var qe;b&&(qe=E.ownerDocument.defaultView.scrollY),_.input.focus(),b&&E.ownerDocument.defaultView.scrollTo(null,qe),_.input.reset(),x.somethingSelected()||(E.value=h.prevInput=" "),h.contextMenuPending=gt,_.selForContextMenu=x.doc.sel,clearTimeout(_.detectingSelectAll);function wt(){if(E.selectionStart!=null){var cn=x.somethingSelected(),Bn=""+(cn?E.value:"");E.value="",E.value=Bn,h.prevInput=cn?"":"",E.selectionStart=1,E.selectionEnd=Bn.length,_.selForContextMenu=x.doc.sel}}function gt(){if(h.contextMenuPending==gt&&(h.contextMenuPending=!1,h.wrapper.style.cssText=pe,E.style.cssText=ae,p&&g<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=$),E.selectionStart!=null)){(!p||p&&g<9)&&wt();var cn=0,Bn=function(){_.selForContextMenu==x.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&h.prevInput==""?no(x,FA)(x):cn++<10?_.detectingSelectAll=setTimeout(Bn,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Bn,200)}}if(p&&g>=9&&wt(),Ne){Ve(A);var Ut=function(){Wn(window,"mouseup",Ut),setTimeout(gt,20)};Tt(window,"mouseup",Ut)}else setTimeout(gt,50)},Fa.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Fa.prototype.setUneditable=function(){},Fa.prototype.needsContentAttribute=!1;function R1(A,h){if(h=h?Me(h):{},h.value=A.value,!h.tabindex&&A.tabIndex&&(h.tabindex=A.tabIndex),!h.placeholder&&A.placeholder&&(h.placeholder=A.placeholder),h.autofocus==null){var x=Qt(dt(A));h.autofocus=x==A||A.getAttribute("autofocus")!=null&&x==document.body}function _(){A.value=J.getValue()}var E;if(A.form&&(Tt(A.form,"submit",_),!h.leaveSubmitMethodAlone)){var U=A.form;E=U.submit;try{var $=U.submit=function(){_(),U.submit=E,U.submit(),U.submit=$}}catch{}}h.finishInit=function(ae){ae.save=_,ae.getTextArea=function(){return A},ae.toTextArea=function(){ae.toTextArea=isNaN,_(),A.parentNode.removeChild(ae.getWrapperElement()),A.style.display="",A.form&&(Wn(A.form,"submit",_),!h.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=E))}},A.style.display="none";var J=fo(function(ae){return A.parentNode.insertBefore(ae,A.nextSibling)},h);return J}function iv(A){A.off=Wn,A.on=Tt,A.wheelEventPixels=fe,A.Doc=ps,A.splitLines=or,A.countColumn=he,A.findColumn=pt,A.isWordChar=fi,A.Pass=nt,A.signal=Te,A.Line=ku,A.changeEnd=ct,A.scrollbarModel=Ro,A.Pos=Kt,A.cmpPos=Mn,A.modes=rr,A.mimeModes=li,A.resolveMode=xo,A.getMode=pi,A.modeExtensions=Oo,A.extendMode=us,A.copyState=ka,A.startState=Ms,A.innerMode=Ci,A.commands=zf,A.keyMap=sA,A.keyName=Xc,A.isModifierKey=Dp,A.lookupKey=Cu,A.normalizeKeyMap=vu,A.StringStream=Si,A.SharedTextMarker=Fd,A.TextMarker=Vl,A.LineWidget=ju,A.e_preventDefault=Xe,A.e_stopPropagation=at,A.e_stop=Ve,A.addClass=He,A.contains=tn,A.rmClass=ft,A.keyNames=Ma}r0(fo),Lh(fo);var o0="iter insert remove copy getEditor constructor".split(" ");for(var jh in ps.prototype)ps.prototype.hasOwnProperty(jh)&&Pe(o0,jh)<0&&(fo.prototype[jh]=function(A){return function(){return A.apply(this.doc,arguments)}}(ps.prototype[jh]));return Re(ps),fo.inputStyles={textarea:Fa,contenteditable:Co},fo.defineMode=function(A){!fo.defaults.mode&&A!="null"&&(fo.defaults.mode=A),ki.apply(this,arguments)},fo.defineMIME=Xi,fo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),fo.defineMIME("text/plain","null"),fo.defineExtension=function(A,h){fo.prototype[A]=h},fo.defineDocExtension=function(A,h){ps.prototype[A]=h},fo.fromTextArea=R1,iv(fo),fo.version="5.65.16",fo})}($M)),$M.exports}var tpe=K5();const Ec=ma(tpe);(function(e,n){(function(t){t(K5())})(function(t){t.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,a=i.jsonld,p=i.json||a,g=i.trackScope!==!1,b=i.typescript,B=i.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function ge(Ii){return{type:Ii,style:"keyword"}}var $e=ge("keyword a"),Xt=ge("keyword b"),sn=ge("keyword c"),Kt=ge("keyword d"),Mn=ge("operator"),cr={type:"atom",style:"atom"};return{if:ge("if"),while:$e,with:$e,else:Xt,do:Xt,try:Xt,finally:Xt,return:Kt,break:Kt,continue:Kt,new:ge("new"),delete:sn,void:sn,throw:sn,debugger:ge("debugger"),var:ge("var"),const:ge("var"),let:ge("var"),function:ge("function"),catch:ge("catch"),for:ge("for"),switch:ge("switch"),case:ge("case"),default:ge("default"),in:Mn,typeof:Mn,instanceof:Mn,true:cr,false:cr,null:cr,undefined:cr,NaN:cr,Infinity:cr,this:ge("this"),class:ge("class"),super:ge("atom"),yield:sn,export:ge("export"),import:ge("import"),extends:sn,await:sn}}(),P=/[+\-*&%=<>!?|~^@]/,R=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Z(ge){for(var $e=!1,Xt,sn=!1;(Xt=ge.next())!=null;){if(!$e){if(Xt=="/"&&!sn)return;Xt=="["?sn=!0:sn&&Xt=="]"&&(sn=!1)}$e=!$e&&Xt=="\\"}}var W,Q;function q(ge,$e,Xt){return W=ge,Q=Xt,$e}function oe(ge,$e){var Xt=ge.next();if(Xt=='"'||Xt=="'")return $e.tokenize=re(Xt),$e.tokenize(ge,$e);if(Xt=="."&&ge.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return q("number","number");if(Xt=="."&&ge.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Xt))return q(Xt);if(Xt=="="&&ge.eat(">"))return q("=>","operator");if(Xt=="0"&&ge.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return q("number","number");if(/\d/.test(Xt))return ge.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),q("number","number");if(Xt=="/")return ge.eat("*")?($e.tokenize=ce,ce(ge,$e)):ge.eat("/")?(ge.skipToEnd(),q("comment","comment")):Ji(ge,$e,1)?(Z(ge),ge.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),q("regexp","string-2")):(ge.eat("="),q("operator","operator",ge.current()));if(Xt=="`")return $e.tokenize=se,se(ge,$e);if(Xt=="#"&&ge.peek()=="!")return ge.skipToEnd(),q("meta","meta");if(Xt=="#"&&ge.eatWhile(B))return q("variable","property");if(Xt=="<"&&ge.match("!--")||Xt=="-"&&ge.match("->")&&!/\S/.test(ge.string.slice(0,ge.start)))return ge.skipToEnd(),q("comment","comment");if(P.test(Xt))return(Xt!=">"||!$e.lexical||$e.lexical.type!=">")&&(ge.eat("=")?(Xt=="!"||Xt=="=")&&ge.eat("="):/[<>*+\-|&?]/.test(Xt)&&(ge.eat(Xt),Xt==">"&&ge.eat(Xt))),Xt=="?"&&ge.eat(".")?q("."):q("operator","operator",ge.current());if(B.test(Xt)){ge.eatWhile(B);var sn=ge.current();if($e.lastType!="."){if(k.propertyIsEnumerable(sn)){var Kt=k[sn];return q(Kt.type,Kt.style,sn)}if(sn=="async"&&ge.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return q("async","keyword",sn)}return q("variable","variable",sn)}}function re(ge){return function($e,Xt){var sn=!1,Kt;if(a&&$e.peek()=="@"&&$e.match(R))return Xt.tokenize=oe,q("jsonld-keyword","meta");for(;(Kt=$e.next())!=null&&!(Kt==ge&&!sn);)sn=!sn&&Kt=="\\";return sn||(Xt.tokenize=oe),q("string","string")}}function ce(ge,$e){for(var Xt=!1,sn;sn=ge.next();){if(sn=="/"&&Xt){$e.tokenize=oe;break}Xt=sn=="*"}return q("comment","comment")}function se(ge,$e){for(var Xt=!1,sn;(sn=ge.next())!=null;){if(!Xt&&(sn=="`"||sn=="$"&&ge.eat("{"))){$e.tokenize=oe;break}Xt=!Xt&&sn=="\\"}return q("quasi","string-2",ge.current())}var le="([{}])";function ye(ge,$e){$e.fatArrowAt&&($e.fatArrowAt=null);var Xt=ge.string.indexOf("=>",ge.start);if(!(Xt<0)){if(b){var sn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ge.string.slice(ge.start,Xt));sn&&(Xt=sn.index)}for(var Kt=0,Mn=!1,cr=Xt-1;cr>=0;--cr){var Ii=ge.string.charAt(cr),ii=le.indexOf(Ii);if(ii>=0&&ii<3){if(!Kt){++cr;break}if(--Kt==0){Ii=="("&&(Mn=!0);break}}else if(ii>=3&&ii<6)++Kt;else if(B.test(Ii))Mn=!0;else if(/["'\/`]/.test(Ii))for(;;--cr){if(cr==0)return;var ya=ge.string.charAt(cr-1);if(ya==Ii&&ge.string.charAt(cr-2)!="\\"){cr--;break}}else if(Mn&&!Kt){++cr;break}}Mn&&!Kt&&($e.fatArrowAt=cr)}}var De={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Ne(ge,$e,Xt,sn,Kt,Mn){this.indented=ge,this.column=$e,this.type=Xt,this.prev=Kt,this.info=Mn,sn!=null&&(this.align=sn)}function et(ge,$e){if(!g)return!1;for(var Xt=ge.localVars;Xt;Xt=Xt.next)if(Xt.name==$e)return!0;for(var sn=ge.context;sn;sn=sn.prev)for(var Xt=sn.vars;Xt;Xt=Xt.next)if(Xt.name==$e)return!0}function ft(ge,$e,Xt,sn,Kt){var Mn=ge.cc;for(Ke.state=ge,Ke.stream=Kt,Ke.marked=null,Ke.cc=Mn,Ke.style=$e,ge.lexical.hasOwnProperty("align")||(ge.lexical.align=!0);;){var cr=Mn.length?Mn.pop():p?Pe:he;if(cr(Xt,sn)){for(;Mn.length&&Mn[Mn.length-1].lex;)Mn.pop()();return Ke.marked?Ke.marked:Xt=="variable"&&et(ge,sn)?"variable-2":$e}}}var Ke={state:null,column:null,marked:null,cc:null};function rt(){for(var ge=arguments.length-1;ge>=0;ge--)Ke.cc.push(arguments[ge])}function Ce(){return rt.apply(null,arguments),!0}function Rt(ge,$e){for(var Xt=$e;Xt;Xt=Xt.next)if(Xt.name==ge)return!0;return!1}function jt(ge){var $e=Ke.state;if(Ke.marked="def",!!g){if($e.context){if($e.lexical.info=="var"&&$e.context&&$e.context.block){var Xt=tn(ge,$e.context);if(Xt!=null){$e.context=Xt;return}}else if(!Rt(ge,$e.localVars)){$e.localVars=new Je(ge,$e.localVars);return}}i.globalVars&&!Rt(ge,$e.globalVars)&&($e.globalVars=new Je(ge,$e.globalVars))}}function tn(ge,$e){if($e)if($e.block){var Xt=tn(ge,$e.prev);return Xt?Xt==$e.prev?$e:new He(Xt,$e.vars,!0):null}else return Rt(ge,$e.vars)?$e:new He($e.prev,new Je(ge,$e.vars),!1);else return null}function Qt(ge){return ge=="public"||ge=="private"||ge=="protected"||ge=="abstract"||ge=="readonly"}function He(ge,$e,Xt){this.prev=ge,this.vars=$e,this.block=Xt}function Je(ge,$e){this.name=ge,this.next=$e}var tt=new Je("this",new Je("arguments",null));function rn(){Ke.state.context=new He(Ke.state.context,Ke.state.localVars,!1),Ke.state.localVars=tt}function mt(){Ke.state.context=new He(Ke.state.context,Ke.state.localVars,!0),Ke.state.localVars=null}rn.lex=mt.lex=!0;function dt(){Ke.state.localVars=Ke.state.context.vars,Ke.state.context=Ke.state.context.prev}dt.lex=!0;function kt(ge,$e){var Xt=function(){var sn=Ke.state,Kt=sn.indented;if(sn.lexical.type=="stat")Kt=sn.lexical.indented;else for(var Mn=sn.lexical;Mn&&Mn.type==")"&&Mn.align;Mn=Mn.prev)Kt=Mn.indented;sn.lexical=new Ne(Kt,Ke.stream.column(),ge,null,sn.lexical,$e)};return Xt.lex=!0,Xt}function Pt(){var ge=Ke.state;ge.lexical.prev&&(ge.lexical.type==")"&&(ge.indented=ge.lexical.indented),ge.lexical=ge.lexical.prev)}Pt.lex=!0;function Me(ge){function $e(Xt){return Xt==ge?Ce():ge==";"||Xt=="}"||Xt==")"||Xt=="]"?rt():Ce($e)}return $e}function he(ge,$e){return ge=="var"?Ce(kt("vardef",$e),at,Me(";"),Pt):ge=="keyword a"?Ce(kt("form"),nt,he,Pt):ge=="keyword b"?Ce(kt("form"),he,Pt):ge=="keyword d"?Ke.stream.match(/^\s*$/,!1)?Ce():Ce(kt("stat"),Ft,Me(";"),Pt):ge=="debugger"?Ce(Me(";")):ge=="{"?Ce(kt("}"),mt,St,Pt,dt):ge==";"?Ce():ge=="if"?(Ke.state.lexical.info=="else"&&Ke.state.cc[Ke.state.cc.length-1]==Pt&&Ke.state.cc.pop()(),Ce(kt("form"),nt,he,Pt,qt)):ge=="function"?Ce(or):ge=="for"?Ce(kt("form"),mt,Vn,he,dt,Pt):ge=="class"||b&&$e=="interface"?(Ke.marked="keyword",Ce(kt("form",ge=="class"?ge:$e),rr,Pt)):ge=="variable"?b&&$e=="declare"?(Ke.marked="keyword",Ce(he)):b&&($e=="module"||$e=="enum"||$e=="type")&&Ke.stream.match(/^\s*\w/,!1)?(Ke.marked="keyword",$e=="enum"?Ce(Qn):$e=="type"?Ce(Rr,Me("operator"),En,Me(";")):Ce(kt("form"),ht,Me("{"),kt("}"),St,Pt,Pt)):b&&$e=="namespace"?(Ke.marked="keyword",Ce(kt("form"),Pe,he,Pt)):b&&$e=="abstract"?(Ke.marked="keyword",Ce(he)):Ce(kt("stat"),Cr):ge=="switch"?Ce(kt("form"),nt,Me("{"),kt("}","switch"),mt,St,Pt,Pt,dt):ge=="case"?Ce(Pe,Me(":")):ge=="default"?Ce(Me(":")):ge=="catch"?Ce(kt("form"),rn,be,he,Pt,dt):ge=="export"?Ce(kt("stat"),xo,Pt):ge=="import"?Ce(kt("stat"),Oo,Pt):ge=="async"?Ce(he):$e=="@"?Ce(Pe,he):rt(kt("stat"),Pe,Me(";"),Pt)}function be(ge){if(ge=="(")return Ce(Dr,Me(")"))}function Pe(ge,$e){return xt(ge,$e,!1)}function Ze(ge,$e){return xt(ge,$e,!0)}function nt(ge){return ge!="("?rt():Ce(kt(")"),Ft,Me(")"),Pt)}function xt(ge,$e,Xt){if(Ke.state.fatArrowAt==Ke.stream.start){var sn=Xt?Jn:bn;if(ge=="(")return Ce(rn,kt(")"),Be(Dr,")"),Pt,Me("=>"),sn,dt);if(ge=="variable")return rt(rn,ht,Me("=>"),sn,dt)}var Kt=Xt?pt:Dt;return De.hasOwnProperty(ge)?Ce(Kt):ge=="function"?Ce(or,Kt):ge=="class"||b&&$e=="interface"?(Ke.marked="keyword",Ce(kt("form"),ei,Pt)):ge=="keyword c"||ge=="async"?Ce(Xt?Ze:Pe):ge=="("?Ce(kt(")"),Ft,Me(")"),Pt,Kt):ge=="operator"||ge=="spread"?Ce(Xt?Ze:Pe):ge=="["?Ce(kt("]"),Si,Pt,Kt):ge=="{"?st(we,"}",null,Kt):ge=="quasi"?rt(nr,Kt):ge=="new"?Ce(mr(Xt)):Ce()}function Ft(ge){return ge.match(/[;\}\)\],]/)?rt():rt(Pe)}function Dt(ge,$e){return ge==","?Ce(Ft):pt(ge,$e,!1)}function pt(ge,$e,Xt){var sn=Xt==!1?Dt:pt,Kt=Xt==!1?Pe:Ze;if(ge=="=>")return Ce(rn,Xt?Jn:bn,dt);if(ge=="operator")return/\+\+|--/.test($e)||b&&$e=="!"?Ce(sn):b&&$e=="<"&&Ke.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?Ce(kt(">"),Be(En,">"),Pt,sn):$e=="?"?Ce(Pe,Me(":"),Kt):Ce(Kt);if(ge=="quasi")return rt(nr,sn);if(ge!=";"){if(ge=="(")return st(Ze,")","call",sn);if(ge==".")return Ce(fi,sn);if(ge=="[")return Ce(kt("]"),Ft,Me("]"),Pt,sn);if(b&&$e=="as")return Ke.marked="keyword",Ce(En,sn);if(ge=="regexp")return Ke.state.lastType=Ke.marked="operator",Ke.stream.backUp(Ke.stream.pos-Ke.stream.start-1),Ce(Kt)}}function nr(ge,$e){return ge!="quasi"?rt():$e.slice($e.length-2)!="${"?Ce(nr):Ce(Ft,pn)}function pn(ge){if(ge=="}")return Ke.marked="string-2",Ke.state.tokenize=se,Ce(nr)}function bn(ge){return ye(Ke.stream,Ke.state),rt(ge=="{"?he:Pe)}function Jn(ge){return ye(Ke.stream,Ke.state),rt(ge=="{"?he:Ze)}function mr(ge){return function($e){return $e=="."?Ce(ge?Nr:xr):$e=="variable"&&b?Ce(Se,ge?pt:Dt):rt(ge?Ze:Pe)}}function xr(ge,$e){if($e=="target")return Ke.marked="keyword",Ce(Dt)}function Nr(ge,$e){if($e=="target")return Ke.marked="keyword",Ce(pt)}function Cr(ge){return ge==":"?Ce(Pt,he):rt(Dt,Me(";"),Pt)}function fi(ge){if(ge=="variable")return Ke.marked="property",Ce()}function we(ge,$e){if(ge=="async")return Ke.marked="property",Ce(we);if(ge=="variable"||Ke.style=="keyword"){if(Ke.marked="property",$e=="get"||$e=="set")return Ce(H);var Xt;return b&&Ke.state.fatArrowAt==Ke.stream.start&&(Xt=Ke.stream.match(/^\s*:\s*/,!1))&&(Ke.state.fatArrowAt=Ke.stream.pos+Xt[0].length),Ce(Y)}else{if(ge=="number"||ge=="string")return Ke.marked=a?"property":Ke.style+" property",Ce(Y);if(ge=="jsonld-keyword")return Ce(Y);if(b&&Qt($e))return Ke.marked="keyword",Ce(we);if(ge=="[")return Ce(Pe,Et,Me("]"),Y);if(ge=="spread")return Ce(Ze,Y);if($e=="*")return Ke.marked="keyword",Ce(we);if(ge==":")return rt(Y)}}function H(ge){return ge!="variable"?rt(Y):(Ke.marked="property",Ce(or))}function Y(ge){if(ge==":")return Ce(Ze);if(ge=="(")return rt(or)}function Be(ge,$e,Xt){function sn(Kt,Mn){if(Xt?Xt.indexOf(Kt)>-1:Kt==","){var cr=Ke.state.lexical;return cr.info=="call"&&(cr.pos=(cr.pos||0)+1),Ce(function(Ii,ii){return Ii==$e||ii==$e?rt():rt(ge)},sn)}return Kt==$e||Mn==$e?Ce():Xt&&Xt.indexOf(";")>-1?rt(ge):Ce(Me($e))}return function(Kt,Mn){return Kt==$e||Mn==$e?Ce():rt(ge,sn)}}function st(ge,$e,Xt){for(var sn=3;sn<arguments.length;sn++)Ke.cc.push(arguments[sn]);return Ce(kt($e,Xt),Be(ge,$e),Pt)}function St(ge){return ge=="}"?Ce():rt(he,St)}function Et(ge,$e){if(b){if(ge==":")return Ce(En);if($e=="?")return Ce(Et)}}function Nt(ge,$e){if(b&&(ge==":"||$e=="in"))return Ce(En)}function mn(ge){if(b&&ge==":")return Ke.stream.match(/^\s*\w+\s+is\b/,!1)?Ce(Pe,Kn,En):Ce(En)}function Kn(ge,$e){if($e=="is")return Ke.marked="keyword",Ce()}function En(ge,$e){if($e=="keyof"||$e=="typeof"||$e=="infer"||$e=="readonly")return Ke.marked="keyword",Ce($e=="typeof"?Ze:En);if(ge=="variable"||$e=="void")return Ke.marked="type",Ce(ve);if($e=="|"||$e=="&")return Ce(En);if(ge=="string"||ge=="number"||ge=="atom")return Ce(ve);if(ge=="[")return Ce(kt("]"),Be(En,"]",","),Pt,ve);if(ge=="{")return Ce(kt("}"),Tt,Pt,ve);if(ge=="(")return Ce(Be(de,")"),m,ve);if(ge=="<")return Ce(Be(En,">"),En);if(ge=="quasi")return rt(Wn,ve)}function m(ge){if(ge=="=>")return Ce(En)}function Tt(ge){return ge.match(/[\}\)\]]/)?Ce():ge==","||ge==";"?Ce(Tt):rt(Ur,Tt)}function Ur(ge,$e){if(ge=="variable"||Ke.style=="keyword")return Ke.marked="property",Ce(Ur);if($e=="?"||ge=="number"||ge=="string")return Ce(Ur);if(ge==":")return Ce(En);if(ge=="[")return Ce(Me("variable"),Nt,Me("]"),Ur);if(ge=="(")return rt(Tr,Ur);if(!ge.match(/[;\}\)\],]/))return Ce()}function Wn(ge,$e){return ge!="quasi"?rt():$e.slice($e.length-2)!="${"?Ce(Wn):Ce(En,Te)}function Te(ge){if(ge=="}")return Ke.marked="string-2",Ke.state.tokenize=se,Ce(Wn)}function de(ge,$e){return ge=="variable"&&Ke.stream.match(/^\s*[?:]/,!1)||$e=="?"?Ce(de):ge==":"?Ce(En):ge=="spread"?Ce(de):rt(En)}function ve(ge,$e){if($e=="<")return Ce(kt(">"),Be(En,">"),Pt,ve);if($e=="|"||ge=="."||$e=="&")return Ce(En);if(ge=="[")return Ce(En,Me("]"),ve);if($e=="extends"||$e=="implements")return Ke.marked="keyword",Ce(En);if($e=="?")return Ce(En,Me(":"),En)}function Se(ge,$e){if($e=="<")return Ce(kt(">"),Be(En,">"),Pt,ve)}function Re(){return rt(En,Xe)}function Xe(ge,$e){if($e=="=")return Ce(En)}function at(ge,$e){return $e=="enum"?(Ke.marked="keyword",Ce(Qn)):rt(ht,Et,Zt,Ht)}function ht(ge,$e){if(b&&Qt($e))return Ke.marked="keyword",Ce(ht);if(ge=="variable")return jt($e),Ce();if(ge=="spread")return Ce(ht);if(ge=="[")return st(_t,"]");if(ge=="{")return st(Ve,"}")}function Ve(ge,$e){return ge=="variable"&&!Ke.stream.match(/^\s*:/,!1)?(jt($e),Ce(Zt)):(ge=="variable"&&(Ke.marked="property"),ge=="spread"?Ce(ht):ge=="}"?rt():ge=="["?Ce(Pe,Me("]"),Me(":"),Ve):Ce(Me(":"),ht,Zt))}function _t(){return rt(ht,Zt)}function Zt(ge,$e){if($e=="=")return Ce(Ze)}function Ht(ge){if(ge==",")return Ce(at)}function qt(ge,$e){if(ge=="keyword b"&&$e=="else")return Ce(kt("form","else"),he,Pt)}function Vn(ge,$e){if($e=="await")return Ce(Vn);if(ge=="(")return Ce(kt(")"),On,Pt)}function On(ge){return ge=="var"?Ce(at,ir):ge=="variable"?Ce(ir):rt(ir)}function ir(ge,$e){return ge==")"?Ce():ge==";"?Ce(ir):$e=="in"||$e=="of"?(Ke.marked="keyword",Ce(Pe,ir)):rt(Pe,ir)}function or(ge,$e){if($e=="*")return Ke.marked="keyword",Ce(or);if(ge=="variable")return jt($e),Ce(or);if(ge=="(")return Ce(rn,kt(")"),Be(Dr,")"),Pt,mn,he,dt);if(b&&$e=="<")return Ce(kt(">"),Be(Re,">"),Pt,or)}function Tr(ge,$e){if($e=="*")return Ke.marked="keyword",Ce(Tr);if(ge=="variable")return jt($e),Ce(Tr);if(ge=="(")return Ce(rn,kt(")"),Be(Dr,")"),Pt,mn,dt);if(b&&$e=="<")return Ce(kt(">"),Be(Re,">"),Pt,Tr)}function Rr(ge,$e){if(ge=="keyword"||ge=="variable")return Ke.marked="type",Ce(Rr);if($e=="<")return Ce(kt(">"),Be(Re,">"),Pt)}function Dr(ge,$e){return $e=="@"&&Ce(Pe,Dr),ge=="spread"?Ce(Dr):b&&Qt($e)?(Ke.marked="keyword",Ce(Dr)):b&&ge=="this"?Ce(Et,Zt):rt(ht,Et,Zt)}function ei(ge,$e){return ge=="variable"?rr(ge,$e):li(ge,$e)}function rr(ge,$e){if(ge=="variable")return jt($e),Ce(li)}function li(ge,$e){if($e=="<")return Ce(kt(">"),Be(Re,">"),Pt,li);if($e=="extends"||$e=="implements"||b&&ge==",")return $e=="implements"&&(Ke.marked="keyword"),Ce(b?En:Pe,li);if(ge=="{")return Ce(kt("}"),ki,Pt)}function ki(ge,$e){if(ge=="async"||ge=="variable"&&($e=="static"||$e=="get"||$e=="set"||b&&Qt($e))&&Ke.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return Ke.marked="keyword",Ce(ki);if(ge=="variable"||Ke.style=="keyword")return Ke.marked="property",Ce(Xi,ki);if(ge=="number"||ge=="string")return Ce(Xi,ki);if(ge=="[")return Ce(Pe,Et,Me("]"),Xi,ki);if($e=="*")return Ke.marked="keyword",Ce(ki);if(b&&ge=="(")return rt(Tr,ki);if(ge==";"||ge==",")return Ce(ki);if(ge=="}")return Ce();if($e=="@")return Ce(Pe,ki)}function Xi(ge,$e){if($e=="!"||$e=="?")return Ce(Xi);if(ge==":")return Ce(En,Zt);if($e=="=")return Ce(Ze);var Xt=Ke.state.lexical.prev,sn=Xt&&Xt.info=="interface";return rt(sn?Tr:or)}function xo(ge,$e){return $e=="*"?(Ke.marked="keyword",Ce(Ms,Me(";"))):$e=="default"?(Ke.marked="keyword",Ce(Pe,Me(";"))):ge=="{"?Ce(Be(pi,"}"),Ms,Me(";")):rt(he)}function pi(ge,$e){if($e=="as")return Ke.marked="keyword",Ce(Me("variable"));if(ge=="variable")return rt(Ze,pi)}function Oo(ge){return ge=="string"?Ce():ge=="("?rt(Pe):ge=="."?rt(Dt):rt(us,ka,Ms)}function us(ge,$e){return ge=="{"?st(us,"}"):(ge=="variable"&&jt($e),$e=="*"&&(Ke.marked="keyword"),Ce(Ci))}function ka(ge){if(ge==",")return Ce(us,ka)}function Ci(ge,$e){if($e=="as")return Ke.marked="keyword",Ce(us)}function Ms(ge,$e){if($e=="from")return Ke.marked="keyword",Ce(Pe)}function Si(ge){return ge=="]"?Ce():rt(Be(Ze,"]"))}function Qn(){return rt(kt("form"),ht,Me("{"),kt("}"),Be(so,"}"),Pt,Pt)}function so(){return rt(ht,Zt)}function Go(ge,$e){return ge.lastType=="operator"||ge.lastType==","||P.test($e.charAt(0))||/[,.]/.test($e.charAt(0))}function Ji(ge,$e,Xt){return $e.tokenize==oe&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test($e.lastType)||$e.lastType=="quasi"&&/\{\s*$/.test(ge.string.slice(0,ge.pos-(Xt||0)))}return{startState:function(ge){var $e={tokenize:oe,lastType:"sof",cc:[],lexical:new Ne((ge||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new He(null,null,!1),indented:ge||0};return i.globalVars&&typeof i.globalVars=="object"&&($e.globalVars=i.globalVars),$e},token:function(ge,$e){if(ge.sol()&&($e.lexical.hasOwnProperty("align")||($e.lexical.align=!1),$e.indented=ge.indentation(),ye(ge,$e)),$e.tokenize!=ce&&ge.eatSpace())return null;var Xt=$e.tokenize(ge,$e);return W=="comment"?Xt:($e.lastType=W=="operator"&&(Q=="++"||Q=="--")?"incdec":W,ft($e,Xt,W,Q,ge))},indent:function(ge,$e){if(ge.tokenize==ce||ge.tokenize==se)return t.Pass;if(ge.tokenize!=oe)return 0;var Xt=$e&&$e.charAt(0),sn=ge.lexical,Kt;if(!/^\s*else\b/.test($e))for(var Mn=ge.cc.length-1;Mn>=0;--Mn){var cr=ge.cc[Mn];if(cr==Pt)sn=sn.prev;else if(cr!=qt&&cr!=dt)break}for(;(sn.type=="stat"||sn.type=="form")&&(Xt=="}"||(Kt=ge.cc[ge.cc.length-1])&&(Kt==Dt||Kt==pt)&&!/^[,\.=+\-*:?[\(]/.test($e));)sn=sn.prev;s&&sn.type==")"&&sn.prev.type=="stat"&&(sn=sn.prev);var Ii=sn.type,ii=Xt==Ii;return Ii=="vardef"?sn.indented+(ge.lastType=="operator"||ge.lastType==","?sn.info.length+1:0):Ii=="form"&&Xt=="{"?sn.indented:Ii=="form"?sn.indented+o:Ii=="stat"?sn.indented+(Go(ge,$e)?s||o:0):sn.info=="switch"&&!ii&&i.doubleIndentSwitch!=!1?sn.indented+(/^(?:case|default)\b/.test($e)?o:2*o):sn.align?sn.column+(ii?0:1):sn.indented+(ii?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:a,jsonMode:p,expressionAllowed:Ji,skipExpression:function(ge){ft(ge,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,n){(function(t){t(K5())})(function(t){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(le,ye,De){var Ne=document.createElement("div");Ne.className="CodeMirror-lint-tooltip cm-s-"+le.options.theme,Ne.appendChild(De.cloneNode(!0)),le.state.lint.options.selfContain?le.getWrapperElement().appendChild(Ne):document.body.appendChild(Ne);function et(ft){if(!Ne.parentNode)return t.off(document,"mousemove",et);var Ke=Math.max(0,ft.clientY-Ne.offsetHeight-5),rt=Math.max(0,Math.min(ft.clientX+5,Ne.ownerDocument.defaultView.innerWidth-Ne.offsetWidth));Ne.style.top=Ke+"px",Ne.style.left=rt+"px"}return t.on(document,"mousemove",et),et(ye),Ne.style.opacity!=null&&(Ne.style.opacity=1),Ne}function s(le){le.parentNode&&le.parentNode.removeChild(le)}function a(le){le.parentNode&&(le.style.opacity==null&&s(le),le.style.opacity=0,setTimeout(function(){s(le)},600))}function p(le,ye,De,Ne){var et=o(le,ye,De);function ft(){t.off(Ne,"mouseout",ft),et&&(a(et),et=null)}var Ke=setInterval(function(){if(et)for(var rt=Ne;;rt=rt.parentNode){if(rt&&rt.nodeType==11&&(rt=rt.host),rt==document.body)return;if(!rt){ft();break}}if(!et)return clearInterval(Ke)},400);t.on(Ne,"mouseout",ft)}function g(le,ye,De){this.marked=[],ye instanceof Function&&(ye={getAnnotations:ye}),(!ye||ye===!0)&&(ye={}),this.options={},this.linterOptions=ye.options||{};for(var Ne in b)this.options[Ne]=b[Ne];for(var Ne in ye)b.hasOwnProperty(Ne)?ye[Ne]!=null&&(this.options[Ne]=ye[Ne]):ye.options||(this.linterOptions[Ne]=ye[Ne]);this.timeout=null,this.hasGutter=De,this.onMouseOver=function(et){se(le,et)},this.waitingFor=0}var b={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function B(le){var ye=le.state.lint;ye.hasGutter&&le.clearGutter(r),ye.options.highlightLines&&k(le);for(var De=0;De<ye.marked.length;++De)ye.marked[De].clear();ye.marked.length=0}function k(le){le.eachLine(function(ye){var De=ye.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(ye.wrapClass);De&&le.removeLineClass(ye,"wrap",De[0])})}function P(le,ye,De,Ne,et){var ft=document.createElement("div"),Ke=ft;return ft.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+De,Ne&&(Ke=ft.appendChild(document.createElement("div")),Ke.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),et!=!1&&t.on(Ke,"mouseover",function(rt){p(le,rt,ye,Ke)}),ft}function R(le,ye){return le=="error"?le:ye}function Z(le){for(var ye=[],De=0;De<le.length;++De){var Ne=le[De],et=Ne.from.line;(ye[et]||(ye[et]=[])).push(Ne)}return ye}function W(le){var ye=le.severity;ye||(ye="error");var De=document.createElement("div");return De.className="CodeMirror-lint-message CodeMirror-lint-message-"+ye,typeof le.messageHTML<"u"?De.innerHTML=le.messageHTML:De.appendChild(document.createTextNode(le.message)),De}function Q(le,ye){var De=le.state.lint,Ne=++De.waitingFor;function et(){Ne=-1,le.off("change",et)}le.on("change",et),ye(le.getValue(),function(ft,Ke){le.off("change",et),De.waitingFor==Ne&&(Ke&&ft instanceof t&&(ft=Ke),le.operation(function(){oe(le,ft)}))},De.linterOptions,le)}function q(le){var ye=le.state.lint;if(ye){var De=ye.options,Ne=De.getAnnotations||le.getHelper(t.Pos(0,0),"lint");if(Ne)if(De.async||Ne.async)Q(le,Ne);else{var et=Ne(le.getValue(),ye.linterOptions,le);if(!et)return;et.then?et.then(function(ft){le.operation(function(){oe(le,ft)})}):le.operation(function(){oe(le,et)})}}}function oe(le,ye){var De=le.state.lint;if(De){var Ne=De.options;B(le);for(var et=Z(ye),ft=0;ft<et.length;++ft){var Ke=et[ft];if(Ke){for(var rt=null,Ce=De.hasGutter&&document.createDocumentFragment(),Rt=0;Rt<Ke.length;++Rt){var jt=Ke[Rt],tn=jt.severity;tn||(tn="error"),rt=R(rt,tn),Ne.formatAnnotation&&(jt=Ne.formatAnnotation(jt)),De.hasGutter&&Ce.appendChild(W(jt)),jt.to&&De.marked.push(le.markText(jt.from,jt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+tn,__annotation:jt}))}De.hasGutter&&le.setGutterMarker(ft,r,P(le,Ce,rt,Ke.length>1,Ne.tooltips)),Ne.highlightLines&&le.addLineClass(ft,"wrap",i+rt)}}Ne.onUpdateLinting&&Ne.onUpdateLinting(ye,et,le)}}function re(le){var ye=le.state.lint;ye&&(clearTimeout(ye.timeout),ye.timeout=setTimeout(function(){q(le)},ye.options.delay))}function ce(le,ye,De){for(var Ne=De.target||De.srcElement,et=document.createDocumentFragment(),ft=0;ft<ye.length;ft++){var Ke=ye[ft];et.appendChild(W(Ke))}p(le,De,et,Ne)}function se(le,ye){var De=ye.target||ye.srcElement;if(/\bCodeMirror-lint-mark-/.test(De.className)){for(var Ne=De.getBoundingClientRect(),et=(Ne.left+Ne.right)/2,ft=(Ne.top+Ne.bottom)/2,Ke=le.findMarksAt(le.coordsChar({left:et,top:ft},"client")),rt=[],Ce=0;Ce<Ke.length;++Ce){var Rt=Ke[Ce].__annotation;Rt&&rt.push(Rt)}rt.length&&ce(le,rt,ye)}}t.defineOption("lint",!1,function(le,ye,De){if(De&&De!=t.Init&&(B(le),le.state.lint.options.lintOnChange!==!1&&le.off("change",re),t.off(le.getWrapperElement(),"mouseover",le.state.lint.onMouseOver),clearTimeout(le.state.lint.timeout),delete le.state.lint),ye){for(var Ne=le.getOption("gutters"),et=!1,ft=0;ft<Ne.length;++ft)Ne[ft]==r&&(et=!0);var Ke=le.state.lint=new g(le,ye,et);Ke.options.lintOnChange&&le.on("change",re),Ke.options.tooltips!=!1&&Ke.options.tooltips!="gutter"&&t.on(le.getWrapperElement(),"mouseover",Ke.onMouseOver),q(le)}}),t.defineExtension("performLint",function(){q(this)})})})();(function(e,n){(function(t){t(K5())})(function(t){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=t.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(k){return k&&k.bracketRegex||/[(){}[\]]/}function a(k,P,R){var Z=k.getLineHandle(P.line),W=P.ch-1,Q=R&&R.afterCursor;Q==null&&(Q=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var q=s(R),oe=!Q&&W>=0&&q.test(Z.text.charAt(W))&&o[Z.text.charAt(W)]||q.test(Z.text.charAt(W+1))&&o[Z.text.charAt(++W)];if(!oe)return null;var re=oe.charAt(1)==">"?1:-1;if(R&&R.strict&&re>0!=(W==P.ch))return null;var ce=k.getTokenTypeAt(i(P.line,W+1)),se=p(k,i(P.line,W+(re>0?1:0)),re,ce,R);return se==null?null:{from:i(P.line,W),to:se&&se.pos,match:se&&se.ch==oe.charAt(0),forward:re>0}}function p(k,P,R,Z,W){for(var Q=W&&W.maxScanLineLength||1e4,q=W&&W.maxScanLines||1e3,oe=[],re=s(W),ce=R>0?Math.min(P.line+q,k.lastLine()+1):Math.max(k.firstLine()-1,P.line-q),se=P.line;se!=ce;se+=R){var le=k.getLine(se);if(le){var ye=R>0?0:le.length-1,De=R>0?le.length:-1;if(!(le.length>Q))for(se==P.line&&(ye=P.ch-(R<0?1:0));ye!=De;ye+=R){var Ne=le.charAt(ye);if(re.test(Ne)&&(Z===void 0||(k.getTokenTypeAt(i(se,ye+1))||"")==(Z||""))){var et=o[Ne];if(et&&et.charAt(1)==">"==R>0)oe.push(Ne);else if(oe.length)oe.pop();else return{pos:i(se,ye),ch:Ne}}}}}return se-R==(R>0?k.lastLine():k.firstLine())?!1:null}function g(k,P,R){for(var Z=k.state.matchBrackets.maxHighlightLineLength||1e3,W=R&&R.highlightNonMatching,Q=[],q=k.listSelections(),oe=0;oe<q.length;oe++){var re=q[oe].empty()&&a(k,q[oe].head,R);if(re&&(re.match||W!==!1)&&k.getLine(re.from.line).length<=Z){var ce=re.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";Q.push(k.markText(re.from,i(re.from.line,re.from.ch+1),{className:ce})),re.to&&k.getLine(re.to.line).length<=Z&&Q.push(k.markText(re.to,i(re.to.line,re.to.ch+1),{className:ce}))}}if(Q.length){r&&k.state.focused&&k.focus();var se=function(){k.operation(function(){for(var le=0;le<Q.length;le++)Q[le].clear()})};if(P)setTimeout(se,800);else return se}}function b(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=g(k,!1,k.state.matchBrackets)})}function B(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(k,P,R){R&&R!=t.Init&&(k.off("cursorActivity",b),k.off("focus",b),k.off("blur",B),B(k)),P&&(k.state.matchBrackets=typeof P=="object"?P:{},k.on("cursorActivity",b),k.on("focus",b),k.on("blur",B))}),t.defineExtension("matchBrackets",function(){g(this,!0)}),t.defineExtension("findMatchingBracket",function(k,P,R){return(R||typeof P=="boolean")&&(R?(R.strict=P,P=R):P=P?{strict:!0}:null),a(this,k,P)}),t.defineExtension("scanForBracket",function(k,P,R,Z){return p(this,k,P,R,Z)})})})();var npe=/("(?:[^\\"]|\\.)*")|[:,]/g,rpe=function(n,t){var r,i,o;return t=t||{},r=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),i=r===""?1/0:t.maxLength===void 0?80:t.maxLength,o=t.replacer,function s(a,p,g){var b,B,k,P,R,Z,W,Q,q,oe,re,ce;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),re=JSON.stringify(a,o),re===void 0)return re;if(W=i-p.length-g,re.length<=W&&(q=re.replace(npe,function(se,le){return le||se+" "}),q.length<=W))return q;if(o!=null&&(a=JSON.parse(re),o=void 0),typeof a=="object"&&a!==null){if(Q=p+r,k=[],B=0,Array.isArray(a))for(oe="[",b="]",W=a.length;B<W;B++)k.push(s(a[B],Q,B===W-1?0:1)||"null");else for(oe="{",b="}",Z=Object.keys(a),W=Z.length;B<W;B++)P=Z[B],R=JSON.stringify(P)+": ",ce=s(a[P],Q,R.length+(B===W-1?0:1)),ce!==void 0&&k.push(R+ce);if(k.length>0)return[oe,r+k.join(`,
`+Q),b].join(`
`+p)}return re}(n,"",0)};const _W=ma(rpe);function ipe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bW={};(function(e){var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,s,a,p,g,b,B){var k=b.length-1;switch(g){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=b[k-1];case 13:this.$={};break;case 14:this.$=b[k-1];break;case 15:this.$=[b[k-2],b[k]];break;case 16:this.$={},this.$[b[k][0]]=b[k][1];break;case 17:this.$=b[k-2],b[k-2][b[k][0]]=b[k][1];break;case 18:this.$=[];break;case 19:this.$=b[k-1];break;case 20:this.$=[b[k]];break;case 21:this.$=b[k-2],b[k-2].push(b[k]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,s){throw new Error(o)},parse:function(o){var s=this,a=[0],p=[null],g=[],b=this.table,B="",k=0,P=0,R=0,Z=2,W=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var Q=this.lexer.yylloc;g.push(Q),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function q(Ce){a.length=a.length-2*Ce,p.length=p.length-Ce,g.length=g.length-Ce}function oe(){var Ce;return Ce=s.lexer.lex()||1,typeof Ce!="number"&&(Ce=s.symbols_[Ce]||Ce),Ce}for(var re,ce,se,le,ye,De={},Ne,et,ft,Ke;;){if(se=a[a.length-1],this.defaultActions[se]?le=this.defaultActions[se]:(re==null&&(re=oe()),le=b[se]&&b[se][re]),typeof le>"u"||!le.length||!le[0]){if(!R){Ke=[];for(Ne in b[se])this.terminals_[Ne]&&Ne>2&&Ke.push("'"+this.terminals_[Ne]+"'");var rt="";this.lexer.showPosition?rt="Parse error on line "+(k+1)+`:
`+this.lexer.showPosition()+`
Expecting `+Ke.join(", ")+", got '"+this.terminals_[re]+"'":rt="Parse error on line "+(k+1)+": Unexpected "+(re==1?"end of input":"'"+(this.terminals_[re]||re)+"'"),this.parseError(rt,{text:this.lexer.match,token:this.terminals_[re]||re,line:this.lexer.yylineno,loc:Q,expected:Ke})}if(R==3){if(re==W)throw new Error(rt||"Parsing halted.");P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,Q=this.lexer.yylloc,re=oe()}for(;!(Z.toString()in b[se]);){if(se==0)throw new Error(rt||"Parsing halted.");q(1),se=a[a.length-1]}ce=re,re=Z,se=a[a.length-1],le=b[se]&&b[se][Z],R=3}if(le[0]instanceof Array&&le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+re);switch(le[0]){case 1:a.push(re),p.push(this.lexer.yytext),g.push(this.lexer.yylloc),a.push(le[1]),re=null,ce?(re=ce,ce=null):(P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,Q=this.lexer.yylloc,R>0&&R--);break;case 2:if(et=this.productions_[le[1]][1],De.$=p[p.length-et],De._$={first_line:g[g.length-(et||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(et||1)].first_column,last_column:g[g.length-1].last_column},ye=this.performAction.call(De,B,P,k,this.yy,le[1],p,g),typeof ye<"u")return ye;et&&(a=a.slice(0,-1*et*2),p=p.slice(0,-1*et),g=g.slice(0,-1*et)),a.push(this.productions_[le[1]][0]),p.push(De.$),g.push(De._$),ft=b[a[a.length-2]][a[a.length-1]],a.push(ft);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(s,a){if(this.yy.parseError)this.yy.parseError(s,a);else throw new Error(s)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var s=o.match(/\n/);return s&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),s=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+s+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,s,a,p,g;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),B=0;B<b.length&&(a=this._input.match(this.rules[b[B]]),!(a&&(!s||a[0].length>s[0].length)&&(s=a,p=B,!this.options.flex)));B++);if(s)return g=s[0].match(/\n.*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-1:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],o=this.performAction.call(this,this.yy,this,b[p],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return i.options={},i.performAction=function(s,a,p,g){switch(p){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return t.lexer=r,t}();typeof ipe<"u"&&(e.parser=n,e.parse=n.parse.bind(n))})(bW);const jE=ma(bW);var xW={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(_f,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(he,be){return be={exports:{}},he(be,be.exports),be.exports}var i=r(function(he){function be(){var Pe=0,Ze=1,nt=2,xt=3,Ft=4,Dt=5,pt=6,nr=7,pn=8,bn=9,Jn=10,mr=11,xr=12,Nr=13,Cr=14,fi=15,we=16,H=17,Y=0,Be=1,st=2,St=3,Et=4;function Nt(m,Tt){return 55296<=m.charCodeAt(Tt)&&m.charCodeAt(Tt)<=56319&&56320<=m.charCodeAt(Tt+1)&&m.charCodeAt(Tt+1)<=57343}function mn(m,Tt){Tt===void 0&&(Tt=0);var Ur=m.charCodeAt(Tt);if(55296<=Ur&&Ur<=56319&&Tt<m.length-1){var Wn=Ur,Te=m.charCodeAt(Tt+1);return 56320<=Te&&Te<=57343?(Wn-55296)*1024+(Te-56320)+65536:Wn}if(56320<=Ur&&Ur<=57343&&Tt>=1){var Wn=m.charCodeAt(Tt-1),Te=Ur;return 55296<=Wn&&Wn<=56319?(Wn-55296)*1024+(Te-56320)+65536:Te}return Ur}function Kn(m,Tt,Ur){var Wn=[m].concat(Tt).concat([Ur]),Te=Wn[Wn.length-2],de=Ur,ve=Wn.lastIndexOf(Cr);if(ve>1&&Wn.slice(1,ve).every(function(Xe){return Xe==xt})&&[xt,Nr,H].indexOf(m)==-1)return st;var Se=Wn.lastIndexOf(Ft);if(Se>0&&Wn.slice(1,Se).every(function(Xe){return Xe==Ft})&&[xr,Ft].indexOf(Te)==-1)return Wn.filter(function(Xe){return Xe==Ft}).length%2==1?St:Et;if(Te==Pe&&de==Ze)return Y;if(Te==nt||Te==Pe||Te==Ze)return de==Cr&&Tt.every(function(Xe){return Xe==xt})?st:Be;if(de==nt||de==Pe||de==Ze)return Be;if(Te==pt&&(de==pt||de==nr||de==bn||de==Jn))return Y;if((Te==bn||Te==nr)&&(de==nr||de==pn))return Y;if((Te==Jn||Te==pn)&&de==pn)return Y;if(de==xt||de==fi)return Y;if(de==Dt)return Y;if(Te==xr)return Y;var Re=Wn.indexOf(xt)!=-1?Wn.lastIndexOf(xt)-1:Wn.length-2;return[Nr,H].indexOf(Wn[Re])!=-1&&Wn.slice(Re+1,-1).every(function(Xe){return Xe==xt})&&de==Cr||Te==fi&&[we,H].indexOf(de)!=-1?Y:Tt.indexOf(Ft)!=-1?st:Te==Ft&&de==Ft?Y:Be}this.nextBreak=function(m,Tt){if(Tt===void 0&&(Tt=0),Tt<0)return 0;if(Tt>=m.length-1)return m.length;for(var Ur=En(mn(m,Tt)),Wn=[],Te=Tt+1;Te<m.length;Te++)if(!Nt(m,Te-1)){var de=En(mn(m,Te));if(Kn(Ur,Wn,de))return Te;Wn.push(de)}return m.length},this.splitGraphemes=function(m){for(var Tt=[],Ur=0,Wn;(Wn=this.nextBreak(m,Ur))<m.length;)Tt.push(m.slice(Ur,Wn)),Ur=Wn;return Ur<m.length&&Tt.push(m.slice(Ur)),Tt},this.iterateGraphemes=function(m){var Tt=0,Ur={next:(function(){var Wn,Te;return(Te=this.nextBreak(m,Tt))<m.length?(Wn=m.slice(Tt,Te),Tt=Te,{value:Wn,done:!1}):Tt<m.length?(Wn=m.slice(Tt),Tt=m.length,{value:Wn,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(Ur[Symbol.iterator]=function(){return Ur}),Ur},this.countGraphemes=function(m){for(var Tt=0,Ur=0,Wn;(Wn=this.nextBreak(m,Ur))<m.length;)Ur=Wn,Tt++;return Ur<m.length&&Tt++,Tt};function En(m){return 1536<=m&&m<=1541||m==1757||m==1807||m==2274||m==3406||m==69821||70082<=m&&m<=70083||m==72250||72326<=m&&m<=72329||m==73030?xr:m==13?Pe:m==10?Ze:0<=m&&m<=9||11<=m&&m<=12||14<=m&&m<=31||127<=m&&m<=159||m==173||m==1564||m==6158||m==8203||8206<=m&&m<=8207||m==8232||m==8233||8234<=m&&m<=8238||8288<=m&&m<=8292||m==8293||8294<=m&&m<=8303||55296<=m&&m<=57343||m==65279||65520<=m&&m<=65528||65529<=m&&m<=65531||113824<=m&&m<=113827||119155<=m&&m<=119162||m==917504||m==917505||917506<=m&&m<=917535||917632<=m&&m<=917759||918e3<=m&&m<=921599?nt:768<=m&&m<=879||1155<=m&&m<=1159||1160<=m&&m<=1161||1425<=m&&m<=1469||m==1471||1473<=m&&m<=1474||1476<=m&&m<=1477||m==1479||1552<=m&&m<=1562||1611<=m&&m<=1631||m==1648||1750<=m&&m<=1756||1759<=m&&m<=1764||1767<=m&&m<=1768||1770<=m&&m<=1773||m==1809||1840<=m&&m<=1866||1958<=m&&m<=1968||2027<=m&&m<=2035||2070<=m&&m<=2073||2075<=m&&m<=2083||2085<=m&&m<=2087||2089<=m&&m<=2093||2137<=m&&m<=2139||2260<=m&&m<=2273||2275<=m&&m<=2306||m==2362||m==2364||2369<=m&&m<=2376||m==2381||2385<=m&&m<=2391||2402<=m&&m<=2403||m==2433||m==2492||m==2494||2497<=m&&m<=2500||m==2509||m==2519||2530<=m&&m<=2531||2561<=m&&m<=2562||m==2620||2625<=m&&m<=2626||2631<=m&&m<=2632||2635<=m&&m<=2637||m==2641||2672<=m&&m<=2673||m==2677||2689<=m&&m<=2690||m==2748||2753<=m&&m<=2757||2759<=m&&m<=2760||m==2765||2786<=m&&m<=2787||2810<=m&&m<=2815||m==2817||m==2876||m==2878||m==2879||2881<=m&&m<=2884||m==2893||m==2902||m==2903||2914<=m&&m<=2915||m==2946||m==3006||m==3008||m==3021||m==3031||m==3072||3134<=m&&m<=3136||3142<=m&&m<=3144||3146<=m&&m<=3149||3157<=m&&m<=3158||3170<=m&&m<=3171||m==3201||m==3260||m==3263||m==3266||m==3270||3276<=m&&m<=3277||3285<=m&&m<=3286||3298<=m&&m<=3299||3328<=m&&m<=3329||3387<=m&&m<=3388||m==3390||3393<=m&&m<=3396||m==3405||m==3415||3426<=m&&m<=3427||m==3530||m==3535||3538<=m&&m<=3540||m==3542||m==3551||m==3633||3636<=m&&m<=3642||3655<=m&&m<=3662||m==3761||3764<=m&&m<=3769||3771<=m&&m<=3772||3784<=m&&m<=3789||3864<=m&&m<=3865||m==3893||m==3895||m==3897||3953<=m&&m<=3966||3968<=m&&m<=3972||3974<=m&&m<=3975||3981<=m&&m<=3991||3993<=m&&m<=4028||m==4038||4141<=m&&m<=4144||4146<=m&&m<=4151||4153<=m&&m<=4154||4157<=m&&m<=4158||4184<=m&&m<=4185||4190<=m&&m<=4192||4209<=m&&m<=4212||m==4226||4229<=m&&m<=4230||m==4237||m==4253||4957<=m&&m<=4959||5906<=m&&m<=5908||5938<=m&&m<=5940||5970<=m&&m<=5971||6002<=m&&m<=6003||6068<=m&&m<=6069||6071<=m&&m<=6077||m==6086||6089<=m&&m<=6099||m==6109||6155<=m&&m<=6157||6277<=m&&m<=6278||m==6313||6432<=m&&m<=6434||6439<=m&&m<=6440||m==6450||6457<=m&&m<=6459||6679<=m&&m<=6680||m==6683||m==6742||6744<=m&&m<=6750||m==6752||m==6754||6757<=m&&m<=6764||6771<=m&&m<=6780||m==6783||6832<=m&&m<=6845||m==6846||6912<=m&&m<=6915||m==6964||6966<=m&&m<=6970||m==6972||m==6978||7019<=m&&m<=7027||7040<=m&&m<=7041||7074<=m&&m<=7077||7080<=m&&m<=7081||7083<=m&&m<=7085||m==7142||7144<=m&&m<=7145||m==7149||7151<=m&&m<=7153||7212<=m&&m<=7219||7222<=m&&m<=7223||7376<=m&&m<=7378||7380<=m&&m<=7392||7394<=m&&m<=7400||m==7405||m==7412||7416<=m&&m<=7417||7616<=m&&m<=7673||7675<=m&&m<=7679||m==8204||8400<=m&&m<=8412||8413<=m&&m<=8416||m==8417||8418<=m&&m<=8420||8421<=m&&m<=8432||11503<=m&&m<=11505||m==11647||11744<=m&&m<=11775||12330<=m&&m<=12333||12334<=m&&m<=12335||12441<=m&&m<=12442||m==42607||42608<=m&&m<=42610||42612<=m&&m<=42621||42654<=m&&m<=42655||42736<=m&&m<=42737||m==43010||m==43014||m==43019||43045<=m&&m<=43046||43204<=m&&m<=43205||43232<=m&&m<=43249||43302<=m&&m<=43309||43335<=m&&m<=43345||43392<=m&&m<=43394||m==43443||43446<=m&&m<=43449||m==43452||m==43493||43561<=m&&m<=43566||43569<=m&&m<=43570||43573<=m&&m<=43574||m==43587||m==43596||m==43644||m==43696||43698<=m&&m<=43700||43703<=m&&m<=43704||43710<=m&&m<=43711||m==43713||43756<=m&&m<=43757||m==43766||m==44005||m==44008||m==44013||m==64286||65024<=m&&m<=65039||65056<=m&&m<=65071||65438<=m&&m<=65439||m==66045||m==66272||66422<=m&&m<=66426||68097<=m&&m<=68099||68101<=m&&m<=68102||68108<=m&&m<=68111||68152<=m&&m<=68154||m==68159||68325<=m&&m<=68326||m==69633||69688<=m&&m<=69702||69759<=m&&m<=69761||69811<=m&&m<=69814||69817<=m&&m<=69818||69888<=m&&m<=69890||69927<=m&&m<=69931||69933<=m&&m<=69940||m==70003||70016<=m&&m<=70017||70070<=m&&m<=70078||70090<=m&&m<=70092||70191<=m&&m<=70193||m==70196||70198<=m&&m<=70199||m==70206||m==70367||70371<=m&&m<=70378||70400<=m&&m<=70401||m==70460||m==70462||m==70464||m==70487||70502<=m&&m<=70508||70512<=m&&m<=70516||70712<=m&&m<=70719||70722<=m&&m<=70724||m==70726||m==70832||70835<=m&&m<=70840||m==70842||m==70845||70847<=m&&m<=70848||70850<=m&&m<=70851||m==71087||71090<=m&&m<=71093||71100<=m&&m<=71101||71103<=m&&m<=71104||71132<=m&&m<=71133||71219<=m&&m<=71226||m==71229||71231<=m&&m<=71232||m==71339||m==71341||71344<=m&&m<=71349||m==71351||71453<=m&&m<=71455||71458<=m&&m<=71461||71463<=m&&m<=71467||72193<=m&&m<=72198||72201<=m&&m<=72202||72243<=m&&m<=72248||72251<=m&&m<=72254||m==72263||72273<=m&&m<=72278||72281<=m&&m<=72283||72330<=m&&m<=72342||72344<=m&&m<=72345||72752<=m&&m<=72758||72760<=m&&m<=72765||m==72767||72850<=m&&m<=72871||72874<=m&&m<=72880||72882<=m&&m<=72883||72885<=m&&m<=72886||73009<=m&&m<=73014||m==73018||73020<=m&&m<=73021||73023<=m&&m<=73029||m==73031||92912<=m&&m<=92916||92976<=m&&m<=92982||94095<=m&&m<=94098||113821<=m&&m<=113822||m==119141||119143<=m&&m<=119145||119150<=m&&m<=119154||119163<=m&&m<=119170||119173<=m&&m<=119179||119210<=m&&m<=119213||119362<=m&&m<=119364||121344<=m&&m<=121398||121403<=m&&m<=121452||m==121461||m==121476||121499<=m&&m<=121503||121505<=m&&m<=121519||122880<=m&&m<=122886||122888<=m&&m<=122904||122907<=m&&m<=122913||122915<=m&&m<=122916||122918<=m&&m<=122922||125136<=m&&m<=125142||125252<=m&&m<=125258||917536<=m&&m<=917631||917760<=m&&m<=917999?xt:127462<=m&&m<=127487?Ft:m==2307||m==2363||2366<=m&&m<=2368||2377<=m&&m<=2380||2382<=m&&m<=2383||2434<=m&&m<=2435||2495<=m&&m<=2496||2503<=m&&m<=2504||2507<=m&&m<=2508||m==2563||2622<=m&&m<=2624||m==2691||2750<=m&&m<=2752||m==2761||2763<=m&&m<=2764||2818<=m&&m<=2819||m==2880||2887<=m&&m<=2888||2891<=m&&m<=2892||m==3007||3009<=m&&m<=3010||3014<=m&&m<=3016||3018<=m&&m<=3020||3073<=m&&m<=3075||3137<=m&&m<=3140||3202<=m&&m<=3203||m==3262||3264<=m&&m<=3265||3267<=m&&m<=3268||3271<=m&&m<=3272||3274<=m&&m<=3275||3330<=m&&m<=3331||3391<=m&&m<=3392||3398<=m&&m<=3400||3402<=m&&m<=3404||3458<=m&&m<=3459||3536<=m&&m<=3537||3544<=m&&m<=3550||3570<=m&&m<=3571||m==3635||m==3763||3902<=m&&m<=3903||m==3967||m==4145||4155<=m&&m<=4156||4182<=m&&m<=4183||m==4228||m==6070||6078<=m&&m<=6085||6087<=m&&m<=6088||6435<=m&&m<=6438||6441<=m&&m<=6443||6448<=m&&m<=6449||6451<=m&&m<=6456||6681<=m&&m<=6682||m==6741||m==6743||6765<=m&&m<=6770||m==6916||m==6965||m==6971||6973<=m&&m<=6977||6979<=m&&m<=6980||m==7042||m==7073||7078<=m&&m<=7079||m==7082||m==7143||7146<=m&&m<=7148||m==7150||7154<=m&&m<=7155||7204<=m&&m<=7211||7220<=m&&m<=7221||m==7393||7410<=m&&m<=7411||m==7415||43043<=m&&m<=43044||m==43047||43136<=m&&m<=43137||43188<=m&&m<=43203||43346<=m&&m<=43347||m==43395||43444<=m&&m<=43445||43450<=m&&m<=43451||43453<=m&&m<=43456||43567<=m&&m<=43568||43571<=m&&m<=43572||m==43597||m==43755||43758<=m&&m<=43759||m==43765||44003<=m&&m<=44004||44006<=m&&m<=44007||44009<=m&&m<=44010||m==44012||m==69632||m==69634||m==69762||69808<=m&&m<=69810||69815<=m&&m<=69816||m==69932||m==70018||70067<=m&&m<=70069||70079<=m&&m<=70080||70188<=m&&m<=70190||70194<=m&&m<=70195||m==70197||70368<=m&&m<=70370||70402<=m&&m<=70403||m==70463||70465<=m&&m<=70468||70471<=m&&m<=70472||70475<=m&&m<=70477||70498<=m&&m<=70499||70709<=m&&m<=70711||70720<=m&&m<=70721||m==70725||70833<=m&&m<=70834||m==70841||70843<=m&&m<=70844||m==70846||m==70849||71088<=m&&m<=71089||71096<=m&&m<=71099||m==71102||71216<=m&&m<=71218||71227<=m&&m<=71228||m==71230||m==71340||71342<=m&&m<=71343||m==71350||71456<=m&&m<=71457||m==71462||72199<=m&&m<=72200||m==72249||72279<=m&&m<=72280||m==72343||m==72751||m==72766||m==72873||m==72881||m==72884||94033<=m&&m<=94078||m==119142||m==119149?Dt:4352<=m&&m<=4447||43360<=m&&m<=43388?pt:4448<=m&&m<=4519||55216<=m&&m<=55238?nr:4520<=m&&m<=4607||55243<=m&&m<=55291?pn:m==44032||m==44060||m==44088||m==44116||m==44144||m==44172||m==44200||m==44228||m==44256||m==44284||m==44312||m==44340||m==44368||m==44396||m==44424||m==44452||m==44480||m==44508||m==44536||m==44564||m==44592||m==44620||m==44648||m==44676||m==44704||m==44732||m==44760||m==44788||m==44816||m==44844||m==44872||m==44900||m==44928||m==44956||m==44984||m==45012||m==45040||m==45068||m==45096||m==45124||m==45152||m==45180||m==45208||m==45236||m==45264||m==45292||m==45320||m==45348||m==45376||m==45404||m==45432||m==45460||m==45488||m==45516||m==45544||m==45572||m==45600||m==45628||m==45656||m==45684||m==45712||m==45740||m==45768||m==45796||m==45824||m==45852||m==45880||m==45908||m==45936||m==45964||m==45992||m==46020||m==46048||m==46076||m==46104||m==46132||m==46160||m==46188||m==46216||m==46244||m==46272||m==46300||m==46328||m==46356||m==46384||m==46412||m==46440||m==46468||m==46496||m==46524||m==46552||m==46580||m==46608||m==46636||m==46664||m==46692||m==46720||m==46748||m==46776||m==46804||m==46832||m==46860||m==46888||m==46916||m==46944||m==46972||m==47e3||m==47028||m==47056||m==47084||m==47112||m==47140||m==47168||m==47196||m==47224||m==47252||m==47280||m==47308||m==47336||m==47364||m==47392||m==47420||m==47448||m==47476||m==47504||m==47532||m==47560||m==47588||m==47616||m==47644||m==47672||m==47700||m==47728||m==47756||m==47784||m==47812||m==47840||m==47868||m==47896||m==47924||m==47952||m==47980||m==48008||m==48036||m==48064||m==48092||m==48120||m==48148||m==48176||m==48204||m==48232||m==48260||m==48288||m==48316||m==48344||m==48372||m==48400||m==48428||m==48456||m==48484||m==48512||m==48540||m==48568||m==48596||m==48624||m==48652||m==48680||m==48708||m==48736||m==48764||m==48792||m==48820||m==48848||m==48876||m==48904||m==48932||m==48960||m==48988||m==49016||m==49044||m==49072||m==49100||m==49128||m==49156||m==49184||m==49212||m==49240||m==49268||m==49296||m==49324||m==49352||m==49380||m==49408||m==49436||m==49464||m==49492||m==49520||m==49548||m==49576||m==49604||m==49632||m==49660||m==49688||m==49716||m==49744||m==49772||m==49800||m==49828||m==49856||m==49884||m==49912||m==49940||m==49968||m==49996||m==50024||m==50052||m==50080||m==50108||m==50136||m==50164||m==50192||m==50220||m==50248||m==50276||m==50304||m==50332||m==50360||m==50388||m==50416||m==50444||m==50472||m==50500||m==50528||m==50556||m==50584||m==50612||m==50640||m==50668||m==50696||m==50724||m==50752||m==50780||m==50808||m==50836||m==50864||m==50892||m==50920||m==50948||m==50976||m==51004||m==51032||m==51060||m==51088||m==51116||m==51144||m==51172||m==51200||m==51228||m==51256||m==51284||m==51312||m==51340||m==51368||m==51396||m==51424||m==51452||m==51480||m==51508||m==51536||m==51564||m==51592||m==51620||m==51648||m==51676||m==51704||m==51732||m==51760||m==51788||m==51816||m==51844||m==51872||m==51900||m==51928||m==51956||m==51984||m==52012||m==52040||m==52068||m==52096||m==52124||m==52152||m==52180||m==52208||m==52236||m==52264||m==52292||m==52320||m==52348||m==52376||m==52404||m==52432||m==52460||m==52488||m==52516||m==52544||m==52572||m==52600||m==52628||m==52656||m==52684||m==52712||m==52740||m==52768||m==52796||m==52824||m==52852||m==52880||m==52908||m==52936||m==52964||m==52992||m==53020||m==53048||m==53076||m==53104||m==53132||m==53160||m==53188||m==53216||m==53244||m==53272||m==53300||m==53328||m==53356||m==53384||m==53412||m==53440||m==53468||m==53496||m==53524||m==53552||m==53580||m==53608||m==53636||m==53664||m==53692||m==53720||m==53748||m==53776||m==53804||m==53832||m==53860||m==53888||m==53916||m==53944||m==53972||m==54e3||m==54028||m==54056||m==54084||m==54112||m==54140||m==54168||m==54196||m==54224||m==54252||m==54280||m==54308||m==54336||m==54364||m==54392||m==54420||m==54448||m==54476||m==54504||m==54532||m==54560||m==54588||m==54616||m==54644||m==54672||m==54700||m==54728||m==54756||m==54784||m==54812||m==54840||m==54868||m==54896||m==54924||m==54952||m==54980||m==55008||m==55036||m==55064||m==55092||m==55120||m==55148||m==55176?bn:44033<=m&&m<=44059||44061<=m&&m<=44087||44089<=m&&m<=44115||44117<=m&&m<=44143||44145<=m&&m<=44171||44173<=m&&m<=44199||44201<=m&&m<=44227||44229<=m&&m<=44255||44257<=m&&m<=44283||44285<=m&&m<=44311||44313<=m&&m<=44339||44341<=m&&m<=44367||44369<=m&&m<=44395||44397<=m&&m<=44423||44425<=m&&m<=44451||44453<=m&&m<=44479||44481<=m&&m<=44507||44509<=m&&m<=44535||44537<=m&&m<=44563||44565<=m&&m<=44591||44593<=m&&m<=44619||44621<=m&&m<=44647||44649<=m&&m<=44675||44677<=m&&m<=44703||44705<=m&&m<=44731||44733<=m&&m<=44759||44761<=m&&m<=44787||44789<=m&&m<=44815||44817<=m&&m<=44843||44845<=m&&m<=44871||44873<=m&&m<=44899||44901<=m&&m<=44927||44929<=m&&m<=44955||44957<=m&&m<=44983||44985<=m&&m<=45011||45013<=m&&m<=45039||45041<=m&&m<=45067||45069<=m&&m<=45095||45097<=m&&m<=45123||45125<=m&&m<=45151||45153<=m&&m<=45179||45181<=m&&m<=45207||45209<=m&&m<=45235||45237<=m&&m<=45263||45265<=m&&m<=45291||45293<=m&&m<=45319||45321<=m&&m<=45347||45349<=m&&m<=45375||45377<=m&&m<=45403||45405<=m&&m<=45431||45433<=m&&m<=45459||45461<=m&&m<=45487||45489<=m&&m<=45515||45517<=m&&m<=45543||45545<=m&&m<=45571||45573<=m&&m<=45599||45601<=m&&m<=45627||45629<=m&&m<=45655||45657<=m&&m<=45683||45685<=m&&m<=45711||45713<=m&&m<=45739||45741<=m&&m<=45767||45769<=m&&m<=45795||45797<=m&&m<=45823||45825<=m&&m<=45851||45853<=m&&m<=45879||45881<=m&&m<=45907||45909<=m&&m<=45935||45937<=m&&m<=45963||45965<=m&&m<=45991||45993<=m&&m<=46019||46021<=m&&m<=46047||46049<=m&&m<=46075||46077<=m&&m<=46103||46105<=m&&m<=46131||46133<=m&&m<=46159||46161<=m&&m<=46187||46189<=m&&m<=46215||46217<=m&&m<=46243||46245<=m&&m<=46271||46273<=m&&m<=46299||46301<=m&&m<=46327||46329<=m&&m<=46355||46357<=m&&m<=46383||46385<=m&&m<=46411||46413<=m&&m<=46439||46441<=m&&m<=46467||46469<=m&&m<=46495||46497<=m&&m<=46523||46525<=m&&m<=46551||46553<=m&&m<=46579||46581<=m&&m<=46607||46609<=m&&m<=46635||46637<=m&&m<=46663||46665<=m&&m<=46691||46693<=m&&m<=46719||46721<=m&&m<=46747||46749<=m&&m<=46775||46777<=m&&m<=46803||46805<=m&&m<=46831||46833<=m&&m<=46859||46861<=m&&m<=46887||46889<=m&&m<=46915||46917<=m&&m<=46943||46945<=m&&m<=46971||46973<=m&&m<=46999||47001<=m&&m<=47027||47029<=m&&m<=47055||47057<=m&&m<=47083||47085<=m&&m<=47111||47113<=m&&m<=47139||47141<=m&&m<=47167||47169<=m&&m<=47195||47197<=m&&m<=47223||47225<=m&&m<=47251||47253<=m&&m<=47279||47281<=m&&m<=47307||47309<=m&&m<=47335||47337<=m&&m<=47363||47365<=m&&m<=47391||47393<=m&&m<=47419||47421<=m&&m<=47447||47449<=m&&m<=47475||47477<=m&&m<=47503||47505<=m&&m<=47531||47533<=m&&m<=47559||47561<=m&&m<=47587||47589<=m&&m<=47615||47617<=m&&m<=47643||47645<=m&&m<=47671||47673<=m&&m<=47699||47701<=m&&m<=47727||47729<=m&&m<=47755||47757<=m&&m<=47783||47785<=m&&m<=47811||47813<=m&&m<=47839||47841<=m&&m<=47867||47869<=m&&m<=47895||47897<=m&&m<=47923||47925<=m&&m<=47951||47953<=m&&m<=47979||47981<=m&&m<=48007||48009<=m&&m<=48035||48037<=m&&m<=48063||48065<=m&&m<=48091||48093<=m&&m<=48119||48121<=m&&m<=48147||48149<=m&&m<=48175||48177<=m&&m<=48203||48205<=m&&m<=48231||48233<=m&&m<=48259||48261<=m&&m<=48287||48289<=m&&m<=48315||48317<=m&&m<=48343||48345<=m&&m<=48371||48373<=m&&m<=48399||48401<=m&&m<=48427||48429<=m&&m<=48455||48457<=m&&m<=48483||48485<=m&&m<=48511||48513<=m&&m<=48539||48541<=m&&m<=48567||48569<=m&&m<=48595||48597<=m&&m<=48623||48625<=m&&m<=48651||48653<=m&&m<=48679||48681<=m&&m<=48707||48709<=m&&m<=48735||48737<=m&&m<=48763||48765<=m&&m<=48791||48793<=m&&m<=48819||48821<=m&&m<=48847||48849<=m&&m<=48875||48877<=m&&m<=48903||48905<=m&&m<=48931||48933<=m&&m<=48959||48961<=m&&m<=48987||48989<=m&&m<=49015||49017<=m&&m<=49043||49045<=m&&m<=49071||49073<=m&&m<=49099||49101<=m&&m<=49127||49129<=m&&m<=49155||49157<=m&&m<=49183||49185<=m&&m<=49211||49213<=m&&m<=49239||49241<=m&&m<=49267||49269<=m&&m<=49295||49297<=m&&m<=49323||49325<=m&&m<=49351||49353<=m&&m<=49379||49381<=m&&m<=49407||49409<=m&&m<=49435||49437<=m&&m<=49463||49465<=m&&m<=49491||49493<=m&&m<=49519||49521<=m&&m<=49547||49549<=m&&m<=49575||49577<=m&&m<=49603||49605<=m&&m<=49631||49633<=m&&m<=49659||49661<=m&&m<=49687||49689<=m&&m<=49715||49717<=m&&m<=49743||49745<=m&&m<=49771||49773<=m&&m<=49799||49801<=m&&m<=49827||49829<=m&&m<=49855||49857<=m&&m<=49883||49885<=m&&m<=49911||49913<=m&&m<=49939||49941<=m&&m<=49967||49969<=m&&m<=49995||49997<=m&&m<=50023||50025<=m&&m<=50051||50053<=m&&m<=50079||50081<=m&&m<=50107||50109<=m&&m<=50135||50137<=m&&m<=50163||50165<=m&&m<=50191||50193<=m&&m<=50219||50221<=m&&m<=50247||50249<=m&&m<=50275||50277<=m&&m<=50303||50305<=m&&m<=50331||50333<=m&&m<=50359||50361<=m&&m<=50387||50389<=m&&m<=50415||50417<=m&&m<=50443||50445<=m&&m<=50471||50473<=m&&m<=50499||50501<=m&&m<=50527||50529<=m&&m<=50555||50557<=m&&m<=50583||50585<=m&&m<=50611||50613<=m&&m<=50639||50641<=m&&m<=50667||50669<=m&&m<=50695||50697<=m&&m<=50723||50725<=m&&m<=50751||50753<=m&&m<=50779||50781<=m&&m<=50807||50809<=m&&m<=50835||50837<=m&&m<=50863||50865<=m&&m<=50891||50893<=m&&m<=50919||50921<=m&&m<=50947||50949<=m&&m<=50975||50977<=m&&m<=51003||51005<=m&&m<=51031||51033<=m&&m<=51059||51061<=m&&m<=51087||51089<=m&&m<=51115||51117<=m&&m<=51143||51145<=m&&m<=51171||51173<=m&&m<=51199||51201<=m&&m<=51227||51229<=m&&m<=51255||51257<=m&&m<=51283||51285<=m&&m<=51311||51313<=m&&m<=51339||51341<=m&&m<=51367||51369<=m&&m<=51395||51397<=m&&m<=51423||51425<=m&&m<=51451||51453<=m&&m<=51479||51481<=m&&m<=51507||51509<=m&&m<=51535||51537<=m&&m<=51563||51565<=m&&m<=51591||51593<=m&&m<=51619||51621<=m&&m<=51647||51649<=m&&m<=51675||51677<=m&&m<=51703||51705<=m&&m<=51731||51733<=m&&m<=51759||51761<=m&&m<=51787||51789<=m&&m<=51815||51817<=m&&m<=51843||51845<=m&&m<=51871||51873<=m&&m<=51899||51901<=m&&m<=51927||51929<=m&&m<=51955||51957<=m&&m<=51983||51985<=m&&m<=52011||52013<=m&&m<=52039||52041<=m&&m<=52067||52069<=m&&m<=52095||52097<=m&&m<=52123||52125<=m&&m<=52151||52153<=m&&m<=52179||52181<=m&&m<=52207||52209<=m&&m<=52235||52237<=m&&m<=52263||52265<=m&&m<=52291||52293<=m&&m<=52319||52321<=m&&m<=52347||52349<=m&&m<=52375||52377<=m&&m<=52403||52405<=m&&m<=52431||52433<=m&&m<=52459||52461<=m&&m<=52487||52489<=m&&m<=52515||52517<=m&&m<=52543||52545<=m&&m<=52571||52573<=m&&m<=52599||52601<=m&&m<=52627||52629<=m&&m<=52655||52657<=m&&m<=52683||52685<=m&&m<=52711||52713<=m&&m<=52739||52741<=m&&m<=52767||52769<=m&&m<=52795||52797<=m&&m<=52823||52825<=m&&m<=52851||52853<=m&&m<=52879||52881<=m&&m<=52907||52909<=m&&m<=52935||52937<=m&&m<=52963||52965<=m&&m<=52991||52993<=m&&m<=53019||53021<=m&&m<=53047||53049<=m&&m<=53075||53077<=m&&m<=53103||53105<=m&&m<=53131||53133<=m&&m<=53159||53161<=m&&m<=53187||53189<=m&&m<=53215||53217<=m&&m<=53243||53245<=m&&m<=53271||53273<=m&&m<=53299||53301<=m&&m<=53327||53329<=m&&m<=53355||53357<=m&&m<=53383||53385<=m&&m<=53411||53413<=m&&m<=53439||53441<=m&&m<=53467||53469<=m&&m<=53495||53497<=m&&m<=53523||53525<=m&&m<=53551||53553<=m&&m<=53579||53581<=m&&m<=53607||53609<=m&&m<=53635||53637<=m&&m<=53663||53665<=m&&m<=53691||53693<=m&&m<=53719||53721<=m&&m<=53747||53749<=m&&m<=53775||53777<=m&&m<=53803||53805<=m&&m<=53831||53833<=m&&m<=53859||53861<=m&&m<=53887||53889<=m&&m<=53915||53917<=m&&m<=53943||53945<=m&&m<=53971||53973<=m&&m<=53999||54001<=m&&m<=54027||54029<=m&&m<=54055||54057<=m&&m<=54083||54085<=m&&m<=54111||54113<=m&&m<=54139||54141<=m&&m<=54167||54169<=m&&m<=54195||54197<=m&&m<=54223||54225<=m&&m<=54251||54253<=m&&m<=54279||54281<=m&&m<=54307||54309<=m&&m<=54335||54337<=m&&m<=54363||54365<=m&&m<=54391||54393<=m&&m<=54419||54421<=m&&m<=54447||54449<=m&&m<=54475||54477<=m&&m<=54503||54505<=m&&m<=54531||54533<=m&&m<=54559||54561<=m&&m<=54587||54589<=m&&m<=54615||54617<=m&&m<=54643||54645<=m&&m<=54671||54673<=m&&m<=54699||54701<=m&&m<=54727||54729<=m&&m<=54755||54757<=m&&m<=54783||54785<=m&&m<=54811||54813<=m&&m<=54839||54841<=m&&m<=54867||54869<=m&&m<=54895||54897<=m&&m<=54923||54925<=m&&m<=54951||54953<=m&&m<=54979||54981<=m&&m<=55007||55009<=m&&m<=55035||55037<=m&&m<=55063||55065<=m&&m<=55091||55093<=m&&m<=55119||55121<=m&&m<=55147||55149<=m&&m<=55175||55177<=m&&m<=55203?Jn:m==9757||m==9977||9994<=m&&m<=9997||m==127877||127938<=m&&m<=127940||m==127943||127946<=m&&m<=127948||128066<=m&&m<=128067||128070<=m&&m<=128080||m==128110||128112<=m&&m<=128120||m==128124||128129<=m&&m<=128131||128133<=m&&m<=128135||m==128170||128372<=m&&m<=128373||m==128378||m==128400||128405<=m&&m<=128406||128581<=m&&m<=128583||128587<=m&&m<=128591||m==128675||128692<=m&&m<=128694||m==128704||m==128716||129304<=m&&m<=129308||129310<=m&&m<=129311||m==129318||129328<=m&&m<=129337||129341<=m&&m<=129342||129489<=m&&m<=129501?Nr:127995<=m&&m<=127999?Cr:m==8205?fi:m==9792||m==9794||9877<=m&&m<=9878||m==9992||m==10084||m==127752||m==127806||m==127859||m==127891||m==127908||m==127912||m==127979||m==127981||m==128139||128187<=m&&m<=128188||m==128295||m==128300||m==128488||m==128640||m==128658?we:128102<=m&&m<=128105?H:mr}return this}he.exports&&(he.exports=be)}),o=new i,s=function(be,Pe,Ze){for(var nt=o.iterateGraphemes(be.substring(Pe)),xt="",Ft=0;Ft<Ze-Pe;Ft++){var Dt=nt.next();if(xt+=Dt.value,Dt.done)break}return xt},a=function(he,be,Pe,Ze,nt,xt,Ft){return{start:{line:he,column:be,offset:Pe},end:{line:Ze,column:nt,offset:xt},source:Ft||null}},p=r(function(he,be){(function(Pe,Ze){he.exports=Ze()})(t,function(){var Pe="",Ze,nt=xt;function xt(Jn,mr){if(typeof Jn!="string")throw new TypeError("expected a string");if(mr===1)return Jn;if(mr===2)return Jn+Jn;var xr=Jn.length*mr;if(Ze!==Jn||typeof Ze>"u")Ze=Jn,Pe="";else if(Pe.length>=xr)return Pe.substr(0,xr);for(;xr>Pe.length&&mr>1;)mr&1&&(Pe+=Jn),mr>>=1,Jn+=Jn;return Pe+=Jn,Pe=Pe.substr(0,xr),Pe}var Ft=function(mr,xr,Nr){if(mr==null||xr==null)return mr;var Cr=String(mr),fi=typeof xr=="number"?xr:parseInt(xr,10);if(isNaN(fi)||!isFinite(fi))return Cr;var we=Cr.length;if(we>=fi)return Cr;var H=Nr==null?"":String(Nr);H===""&&(H=" ");for(var Y=fi-we;H.length<Y;)H+=H;var Be=H.length>Y?H.substr(0,Y):H;return Be+Cr},Dt=Object.assign||function(Jn){for(var mr=1;mr<arguments.length;mr++){var xr=arguments[mr];for(var Nr in xr)Object.prototype.hasOwnProperty.call(xr,Nr)&&(Jn[Nr]=xr[Nr])}return Jn};function pt(Jn,mr,xr,Nr){var Cr=String(mr),fi=Ft(Cr,xr," "),we=nt(" ",Nr.tabSize);return fi+" | "+Jn.replace(/\t/g,we)}function nr(Jn,mr,xr,Nr,Cr){return Jn.slice(mr,xr).map(function(fi,we){return pt(fi,mr+we+1,Nr,Cr)}).join(`
`)}var pn={extraLines:2,tabSize:4},bn=function(mr,xr,Nr,Cr){Cr=Dt({},pn,Cr);var fi=mr.split(/\r\n?|\n|\f/),we=Math.max(1,xr-Cr.extraLines)-1,H=Math.min(xr+Cr.extraLines,fi.length),Y=String(H).length,Be=nr(fi,we,xr,Y,Cr),st=pt(fi[xr-1].substring(0,Nr-1),xr,Y,Cr),St=nt(" ",st.length)+"^",Et=nr(fi,xr,H,Y,Cr);return[Be,St,Et].filter(Boolean).join(`
`)};return bn})}),g=new Error().stack,b=function(he){var be=Object.create(SyntaxError.prototype);return Object.assign(be,he,{name:"SyntaxError"}),Object.defineProperty(be,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(be)+`
`):""}}),be},B=function(he,be,Pe,Ze,nt){throw b({message:Ze?he+`
`+p(be,Ze,nt):he,rawMessage:he,source:Pe,line:Ze,column:nt})},k={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(be){for(var Pe=arguments.length,Ze=Array(Pe>1?Pe-1:0),nt=1;nt<Pe;nt++)Ze[nt-1]=arguments[nt];return"Unexpected token <"+be+"> at "+Ze.filter(Boolean).join(":")}},P={unexpectedSymbol:function(be){for(var Pe=arguments.length,Ze=Array(Pe>1?Pe-1:0),nt=1;nt<Pe;nt++)Ze[nt-1]=arguments[nt];return"Unexpected symbol <"+be+"> at "+Ze.filter(Boolean).join(":")}},R={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},Z={"{":R.LEFT_BRACE,"}":R.RIGHT_BRACE,"[":R.LEFT_BRACKET,"]":R.RIGHT_BRACKET,":":R.COLON,",":R.COMMA},W={true:R.TRUE,false:R.FALSE,null:R.NULL},Q={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},q={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},oe={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function re(he){return he>="1"&&he<="9"}function ce(he){return he>="0"&&he<="9"}function se(he){return ce(he)||he>="a"&&he<="f"||he>="A"&&he<="F"}function le(he){return he==="e"||he==="E"}function ye(he,be,Pe,Ze){var nt=he.charAt(be);if(nt==="\r")be++,Pe++,Ze=1,he.charAt(be)===`
`&&be++;else if(nt===`
`)be++,Pe++,Ze=1;else if(nt==="	"||nt===" ")be++,Ze++;else return null;return{index:be,line:Pe,column:Ze}}function De(he,be,Pe,Ze){var nt=he.charAt(be);return nt in Z?{type:Z[nt],line:Pe,column:Ze+1,index:be+1,value:null}:null}function Ne(he,be,Pe,Ze){for(var nt in W)if(W.hasOwnProperty(nt)&&he.substr(be,nt.length)===nt)return{type:W[nt],line:Pe,column:Ze+nt.length,index:be+nt.length,value:nt};return null}function et(he,be,Pe,Ze){for(var nt=be,xt=Q._START_;be<he.length;){var Ft=he.charAt(be);switch(xt){case Q._START_:{if(Ft==='"')be++,xt=Q.START_QUOTE_OR_CHAR;else return null;break}case Q.START_QUOTE_OR_CHAR:{if(Ft==="\\")be++,xt=Q.ESCAPE;else{if(Ft==='"')return be++,{type:R.STRING,line:Pe,column:Ze+be-nt,index:be,value:he.slice(nt,be)};be++}break}case Q.ESCAPE:{if(Ft in q){if(be++,Ft==="u")for(var Dt=0;Dt<4;Dt++){var pt=he.charAt(be);if(pt&&se(pt))be++;else return null}xt=Q.START_QUOTE_OR_CHAR}else return null;break}}}}function ft(he,be,Pe,Ze){var nt=be,xt=be,Ft=oe._START_;e:for(;be<he.length;){var Dt=he.charAt(be);switch(Ft){case oe._START_:{if(Dt==="-")Ft=oe.MINUS;else if(Dt==="0")xt=be+1,Ft=oe.ZERO;else if(re(Dt))xt=be+1,Ft=oe.DIGIT;else return null;break}case oe.MINUS:{if(Dt==="0")xt=be+1,Ft=oe.ZERO;else if(re(Dt))xt=be+1,Ft=oe.DIGIT;else return null;break}case oe.ZERO:{if(Dt===".")Ft=oe.POINT;else if(le(Dt))Ft=oe.EXP;else break e;break}case oe.DIGIT:{if(ce(Dt))xt=be+1;else if(Dt===".")Ft=oe.POINT;else if(le(Dt))Ft=oe.EXP;else break e;break}case oe.POINT:{if(ce(Dt))xt=be+1,Ft=oe.DIGIT_FRACTION;else break e;break}case oe.DIGIT_FRACTION:{if(ce(Dt))xt=be+1;else if(le(Dt))Ft=oe.EXP;else break e;break}case oe.EXP:{if(Dt==="+"||Dt==="-")Ft=oe.EXP_DIGIT_OR_SIGN;else if(ce(Dt))xt=be+1,Ft=oe.EXP_DIGIT_OR_SIGN;else break e;break}case oe.EXP_DIGIT_OR_SIGN:{if(ce(Dt))xt=be+1;else break e;break}}be++}return xt>0?{type:R.NUMBER,line:Pe,column:Ze+xt-nt,index:xt,value:he.slice(nt,xt)}:null}var Ke=function(be,Pe){for(var Ze=1,nt=1,xt=0,Ft=[];xt<be.length;){var Dt=[be,xt,Ze,nt],pt=ye.apply(void 0,Dt);if(pt){xt=pt.index,Ze=pt.line,nt=pt.column;continue}var nr=De.apply(void 0,Dt)||Ne.apply(void 0,Dt)||et.apply(void 0,Dt)||ft.apply(void 0,Dt);if(nr){var pn={type:nr.type,value:nr.value,loc:a(Ze,nt,xt,nr.line,nr.column,nr.index,Pe.source)};Ft.push(pn),xt=nr.index,Ze=nr.line,nt=nr.column}else B(P.unexpectedSymbol(s(be,xt,xt+1),Pe.source,Ze,nt),be,Pe.source,Ze,nt)}return Ft},rt={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},Ce={_START_:0,KEY:1,COLON:2},Rt={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},jt={loc:!0,source:null};function tn(he,be,Pe){var Ze=be.length>0?be[be.length-1].loc.end:{line:1,column:1};B(k.unexpectedEnd(),he,Pe.source,Ze.line,Ze.column)}function Qt(he){for(var be=0,Pe=0;Pe<4;Pe++)be=be*16+parseInt(he[Pe],16);return String.fromCharCode(be)}var He={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Je=['"',"\\","/"];function tt(he){for(var be="",Pe=0;Pe<he.length;Pe++){var Ze=he.charAt(Pe);if(Ze==="\\"){Pe++;var nt=he.charAt(Pe);if(nt==="u")be+=Qt(he.substr(Pe+1,4)),Pe+=4;else if(Je.indexOf(nt)!==-1)be+=nt;else if(nt in He)be+=He[nt];else break}else be+=Ze}return be}function rn(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Object",children:[]},Ft=rt._START_;Pe<be.length;){var Dt=be[Pe];switch(Ft){case rt._START_:{if(Dt.type===R.LEFT_BRACE)nt=Dt,Ft=rt.OPEN_OBJECT,Pe++;else return null;break}case rt.OPEN_OBJECT:{if(Dt.type===R.RIGHT_BRACE)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};var pt=mt(he,be,Pe,Ze);xt.children.push(pt.value),Ft=rt.PROPERTY,Pe=pt.index;break}case rt.PROPERTY:{if(Dt.type===R.RIGHT_BRACE)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};Dt.type===R.COMMA?(Ft=rt.COMMA,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case rt.COMMA:{var nr=mt(he,be,Pe,Ze);nr?(Pe=nr.index,xt.children.push(nr.value),Ft=rt.PROPERTY):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}}}tn(he,be,Ze)}function mt(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Property",key:null,value:null},Ft=Ce._START_;Pe<be.length;){var Dt=be[Pe];switch(Ft){case Ce._START_:{if(Dt.type===R.STRING){var pt={type:"Identifier",value:tt(he.slice(Dt.loc.start.offset+1,Dt.loc.end.offset-1)),raw:Dt.value};Ze.loc&&(pt.loc=Dt.loc),nt=Dt,xt.key=pt,Ft=Ce.KEY,Pe++}else return null;break}case Ce.KEY:{Dt.type===R.COLON?(Ft=Ce.COLON,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case Ce.COLON:{var nr=Pt(he,be,Pe,Ze);return xt.value=nr.value,Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,nr.value.loc.end.line,nr.value.loc.end.column,nr.value.loc.end.offset,Ze.source)),{value:xt,index:nr.index}}}}}function dt(he,be,Pe,Ze){for(var nt=void 0,xt={type:"Array",children:[]},Ft=Rt._START_,Dt=void 0;Pe<be.length;)switch(Dt=be[Pe],Ft){case Rt._START_:{if(Dt.type===R.LEFT_BRACKET)nt=Dt,Ft=Rt.OPEN_ARRAY,Pe++;else return null;break}case Rt.OPEN_ARRAY:{if(Dt.type===R.RIGHT_BRACKET)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};var pt=Pt(he,be,Pe,Ze);Pe=pt.index,xt.children.push(pt.value),Ft=Rt.VALUE;break}case Rt.VALUE:{if(Dt.type===R.RIGHT_BRACKET)return Ze.loc&&(xt.loc=a(nt.loc.start.line,nt.loc.start.column,nt.loc.start.offset,Dt.loc.end.line,Dt.loc.end.column,Dt.loc.end.offset,Ze.source)),{value:xt,index:Pe+1};Dt.type===R.COMMA?(Ft=Rt.COMMA,Pe++):B(k.unexpectedToken(s(he,Dt.loc.start.offset,Dt.loc.end.offset),Ze.source,Dt.loc.start.line,Dt.loc.start.column),he,Ze.source,Dt.loc.start.line,Dt.loc.start.column);break}case Rt.COMMA:{var nr=Pt(he,be,Pe,Ze);Pe=nr.index,xt.children.push(nr.value),Ft=Rt.VALUE;break}}tn(he,be,Ze)}function kt(he,be,Pe,Ze){var nt=be[Pe],xt=null;switch(nt.type){case R.STRING:{xt=tt(he.slice(nt.loc.start.offset+1,nt.loc.end.offset-1));break}case R.NUMBER:{xt=Number(nt.value);break}case R.TRUE:{xt=!0;break}case R.FALSE:{xt=!1;break}case R.NULL:{xt=null;break}default:return null}var Ft={type:"Literal",value:xt,raw:nt.value};return Ze.loc&&(Ft.loc=nt.loc),{value:Ft,index:Pe+1}}function Pt(he,be,Pe,Ze){var nt=be[Pe],xt=kt.apply(void 0,arguments)||rn.apply(void 0,arguments)||dt.apply(void 0,arguments);if(xt)return xt;B(k.unexpectedToken(s(he,nt.loc.start.offset,nt.loc.end.offset),Ze.source,nt.loc.start.line,nt.loc.start.column),he,Ze.source,nt.loc.start.line,nt.loc.start.column)}var Me=function(he,be){be=Object.assign({},jt,be);var Pe=Ke(he,be);Pe.length===0&&tn(he,Pe,be);var Ze=Pt(he,Pe,0,be);if(Ze.index===Pe.length)return Ze.value;var nt=Pe[Ze.index];B(k.unexpectedToken(s(he,nt.loc.start.offset,nt.loc.end.offset),be.source,nt.loc.start.line,nt.loc.start.column),he,be.source,nt.loc.start.line,nt.loc.start.column)};return Me})})(xW);var ope=xW.exports;const ape=ma(ope);function Sn(){var e="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",n="a994e12e3e6547813b669a430e6cb42da5d99bba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Sn=function(){return s},s}Sn();Sn().s[0]++;Ec.defineMode("mgl",(e,n)=>(Sn().f[0]++,Sn().s[1]++,Ec.modes.javascript({...e,json:!0},n)));Sn().s[2]++;Ec.registerHelper("lint","json",e=>{Sn().f[1]++;const n=(Sn().s[3]++,[]);Sn().s[4]++,jE.parser.parseError=(t,r)=>{Sn().f[2]++;const i=(Sn().s[5]++,r.loc);Sn().s[6]++,n.push({from:Ec.Pos(i.first_line-1,i.first_column),to:Ec.Pos(i.last_line-1,i.last_column),message:t})},Sn().s[7]++;try{Sn().s[8]++,jE.parse(e)}catch{}return Sn().s[9]++,n});Sn().s[10]++;Ec.registerHelper("lint","mgl",(e,n,t)=>{Sn().f[3]++;const r=(Sn().s[11]++,[]),{parser:i}=(Sn().s[12]++,jE),{context:o}=(Sn().s[13]++,n);Sn().s[14]++,i.parseError=(b,B)=>{Sn().f[4]++;const k=(Sn().s[15]++,B.loc);Sn().s[16]++,r.push({from:Ec.Pos(k.first_line-1,k.first_column),to:Ec.Pos(k.last_line-1,k.last_column),message:b})},Sn().s[17]++;try{Sn().s[18]++,i.parse(e)}catch{}if(Sn().s[19]++,r.length>0)return Sn().b[0][0]++,Sn().s[20]++,r;Sn().b[0][1]++;const s=(Sn().s[21]++,ape(e)),a=(Sn().s[22]++,JSON.parse(e));function p(b,B){if(Sn().f[5]++,Sn().s[23]++,b){if(Sn().b[1][1]++,Sn().s[25]++,B.length<1)return Sn().b[2][0]++,Sn().s[26]++,b;if(Sn().b[2][1]++,Sn().s[27]++,b.children){Sn().b[3][1]++;const k=(Sn().s[29]++,B[0]);let P;return Sn().s[30]++,k.match(/^[0-9]+$/)?(Sn().b[4][0]++,Sn().s[31]++,P=b.children[B[0]]):(Sn().b[4][1]++,Sn().s[32]++,P=b.children.find(R=>(Sn().f[6]++,Sn().s[33]++,Sn().b[5][0]++,R.key&&(Sn().b[5][1]++,R.key.type==="Identifier")&&(Sn().b[5][2]++,R.key.value===k))),Sn().s[34]++,P?(Sn().b[6][0]++,Sn().s[35]++,P=P.value):Sn().b[6][1]++),Sn().s[36]++,p(P,B.slice(1))}else{Sn().b[3][0]++,Sn().s[28]++;return}}else{Sn().b[1][0]++,Sn().s[24]++;return}}let g=(Sn().s[37]++,null);if(Sn().s[38]++,o==="layer"){Sn().b[7][0]++;const b=(Sn().s[39]++,bd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[a]}));Sn().s[40]++,b?(Sn().b[8][0]++,Sn().s[41]++,g={result:"error",value:b.filter(B=>(Sn().f[7]++,Sn().s[42]++,!B.message.match(/^layers\[0\]: source ".*" not found$/))).map(B=>{Sn().f[8]++;const k=(Sn().s[43]++,B.message.replace(/^layers\[0\]./,"").split(":"));return Sn().s[44]++,{name:"",key:k[0],message:k[1]}})}):Sn().b[8][1]++}else if(Sn().b[7][1]++,Sn().s[45]++,o==="expression")Sn().b[9][0]++,Sn().s[46]++,g=OX.createExpression(a,n.spec);else throw Sn().b[9][1]++,Sn().s[47]++,new Error(`Invalid context ${o}`);if(Sn().s[48]++,(g==null?void 0:g.result)==="error"){Sn().b[10][0]++;const b=(Sn().s[49]++,g.value);Sn().s[50]++,b.forEach(B=>{Sn().f[9]++;const{key:k,message:P}=(Sn().s[51]++,B);if(Sn().s[52]++,k)if(Sn().b[11][1]++,Sn().s[56]++,k){Sn().b[12][0]++;const R=(Sn().s[57]++,k.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),Z=(Sn().s[58]++,p(s,R));if(Sn().s[59]++,Z)Sn().b[13][1]++;else{Sn().b[13][0]++,Sn().s[60]++,console.warn("Something went wrong parsing error:",B),Sn().s[61]++;return}const{loc:W}=(Sn().s[62]++,Z),{start:Q,end:q}=(Sn().s[63]++,W);Sn().s[64]++,r.push({from:Ec.Pos(Q.line-1,Q.column),to:Ec.Pos(q.line-1,q.column),message:P})}else Sn().b[12][1]++;else{Sn().b[11][0]++;const R=(Sn().s[53]++,t.getLineHandle(t.lastLine())),Z=(Sn().s[54]++,{from:Ec.Pos(t.firstLine(),0),to:Ec.Pos(t.lastLine(),R.text.length),message:P});Sn().s[55]++,r.push(Z)}})}else Sn().b[10][1]++;return Sn().s[65]++,r});function Pn(){var e="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",n="73341c4954366276bd838a194b53fa026df00a42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73341c4954366276bd838a194b53fa026df00a42"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Pn=function(){return s},s}Pn();class wW extends xn.Component{constructor(t){Pn().f[5]++,Pn().s[4]++;super(t);nn(this,"_keyEvent");nn(this,"_doc");nn(this,"_el",(Pn().s[2]++,null));nn(this,"_cancelNextChange",(Pn().s[3]++,!1));nn(this,"onPointerDown",(Pn().s[11]++,()=>{Pn().f[7]++,Pn().s[12]++,this._keyEvent="pointer"}));nn(this,"onFocus",(Pn().s[13]++,()=>{Pn().f[8]++,Pn().s[14]++,this.props.onFocus?(Pn().b[2][0]++,Pn().s[15]++,this.props.onFocus()):Pn().b[2][1]++,Pn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));nn(this,"onBlur",(Pn().s[17]++,()=>{Pn().f[9]++,Pn().s[18]++,this._keyEvent="keyboard",Pn().s[19]++,this.props.onBlur?(Pn().b[3][0]++,Pn().s[20]++,this.props.onBlur()):Pn().b[3][1]++,Pn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));nn(this,"onChange",(Pn().s[28]++,t=>{if(Pn().f[12]++,Pn().s[29]++,this._cancelNextChange){Pn().b[6][0]++,Pn().s[30]++,this._cancelNextChange=!1,Pn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Pn().s[32]++;return}else Pn().b[6][1]++;const r=(Pn().s[33]++,this._doc.getValue());if(Pn().s[34]++,this.state.prevValue!==r){Pn().b[7][0]++;let i,o;Pn().s[35]++;try{Pn().s[36]++,i=JSON.parse(r)}catch(s){Pn().s[37]++,o=s,Pn().s[38]++,console.warn(s)}Pn().s[39]++,Pn().b[9][0]++,o&&(Pn().b[9][1]++,this.props.onJSONInvalid)?(Pn().b[8][0]++,Pn().s[40]++,this.props.onJSONInvalid()):(Pn().b[8][1]++,Pn().s[41]++,this.props.onChange?(Pn().b[10][0]++,Pn().s[42]++,this.props.onChange(i)):Pn().b[10][1]++,Pn().s[43]++,this.props.onJSONValid?(Pn().b[11][0]++,Pn().s[44]++,this.props.onJSONValid()):Pn().b[11][1]++)}else Pn().b[7][1]++;Pn().s[45]++,this.setState({prevValue:r})}));Pn().s[5]++,this._keyEvent="keyboard",Pn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Pn().f[6]++,Pn().s[7]++,this._doc=Ec(this._el,{value:this.props.getValue(this.props.layer),mode:(Pn().b[0][0]++,this.props.mode||(Pn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Pn().b[1][0]++,this.props.lint||(Pn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Pn().s[8]++,this._doc.on("change",this.onChange),Pn().s[9]++,this._doc.on("focus",this.onFocus),Pn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Pn().f[10]++,Pn().s[22]++,this._doc.off("change",this.onChange),Pn().s[23]++,this._doc.off("focus",this.onFocus),Pn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(t){Pn().f[11]++,Pn().s[25]++,Pn().b[5][0]++,!this.state.isEditing&&(Pn().b[5][1]++,t.layer!==this.props.layer)?(Pn().b[4][0]++,Pn().s[26]++,this._cancelNextChange=!0,Pn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Pn().b[4][1]++}render(){Pn().f[13]++;const{showMessage:t}=(Pn().s[46]++,this.state),r=(Pn().s[47]++,{});return Pn().s[48]++,this.props.maxHeight?(Pn().b[12][0]++,Pn().s[49]++,r.maxHeight=this.props.maxHeight):Pn().b[12][1]++,Pn().s[50]++,N.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[N.jsxs("div",{className:pf("JSONEditor__message",{"JSONEditor__message--on":t}),children:["Press ",N.jsx("kbd",{children:"ESC"})," to lose focus"]}),N.jsx("div",{className:pf("codemirror-container",this.props.className),ref:i=>(Pn().f[14]++,Pn().s[51]++,this._el=i),style:r})]})}}nn(wW,"defaultProps",(Pn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:t=>(Pn().f[0]++,Pn().s[1]++,_W(t,{indent:2,maxLength:40})),onFocus:()=>{Pn().f[1]++},onBlur:()=>{Pn().f[2]++},onJSONInvalid:()=>{Pn().f[3]++},onJSONValid:()=>{Pn().f[4]++}}));function J3(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",n="60f4cd40e505c4a9f8de1078b77716b10a4a4264",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return J3=function(){return s},s}J3();class A8 extends xn.Component{render(){return J3().f[0]++,J3().s[0]++,N.jsx(wW,{...this.props})}}var __="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",spe="M7,10L12,15L17,10H7Z",lpe="M7,15L12,10L17,15H7Z",c8="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function X0(){var e="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",n="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return X0=function(){return s},s}X0();const d8=(X0().s[0]++,["all","any","none"]);X0().s[1]++;const upe=(X0().s[2]++,Object.keys(Hi.filter_operator.values).filter(e=>(X0().f[0]++,X0().s[3]++,d8.indexOf(e)<0)));function Lr(){var e="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",n="3d8bcd70e58647712bf929f9e6ef3e13fde3cd73",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d8bcd70e58647712bf929f9e6ef3e13fde3cd73"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Lr=function(){return s},s}Lr();function Ape(e){return Lr().f[0]++,Lr().s[0]++,e===""?(Lr().b[0][0]++,Lr().s[1]++,e):(Lr().b[0][1]++,Lr().s[2]++,isNaN(e)?(Lr().b[1][0]++,Lr().s[3]++,e):(Lr().b[1][1]++,Lr().s[4]++,parseFloat(e)))}function cpe(e){Lr().f[1]++;const n=(Lr().s[5]++,typeof e=="string");if(Lr().s[6]++,n)Lr().b[2][1]++;else return Lr().b[2][0]++,Lr().s[7]++,e;return Lr().s[8]++,e.match(/^\s*true\s*$/)?(Lr().b[3][0]++,Lr().s[9]++,!0):(Lr().b[3][1]++,Lr().s[10]++,e.match(/^\s*false\s*$/)?(Lr().b[4][0]++,Lr().s[11]++,!1):(Lr().b[4][1]++,Lr().s[12]++,e))}function dpe(e){return Lr().f[2]++,Lr().s[13]++,e=Ape(e),Lr().s[14]++,e=cpe(e),Lr().s[15]++,e}class MW extends xn.Component{onFilterPartChanged(n,t,r){Lr().f[3]++;let i=(Lr().s[17]++,[n,t,...r.map(dpe)]);Lr().s[18]++,Lr().b[6][0]++,n==="has"||(Lr().b[6][1]++,n==="!has")?(Lr().b[5][0]++,Lr().s[19]++,i=[n,t]):(Lr().b[5][1]++,Lr().s[20]++,r.length===0?(Lr().b[7][0]++,Lr().s[21]++,i=[n,t,""]):Lr().b[7][1]++),Lr().s[22]++,this.props.onChange(i)}render(){Lr().f[4]++;const n=(Lr().s[23]++,this.props.filter),t=(Lr().s[24]++,n[0]),r=(Lr().s[25]++,n[1]),i=(Lr().s[26]++,n.slice(2));return Lr().s[27]++,N.jsxs("div",{className:"maputnik-filter-editor-single",children:[N.jsx("div",{className:"maputnik-filter-editor-property",children:N.jsx($y,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Lr().f[5]++,Lr().s[28]++,[o,o])),onChange:o=>(Lr().f[6]++,Lr().s[29]++,this.onFilterPartChanged(t,o,i))})}),N.jsx("div",{className:"maputnik-filter-editor-operator",children:N.jsx(_1,{"aria-label":"function",value:t,onChange:o=>(Lr().f[7]++,Lr().s[30]++,this.onFilterPartChanged(o,r,i)),options:upe})}),(Lr().b[8][0]++,i.length>0&&(Lr().b[8][1]++,N.jsx("div",{className:"maputnik-filter-editor-args",children:N.jsx(vd,{"aria-label":"value",value:i.join(","),onChange:o=>(Lr().f[8]++,Lr().s[31]++,this.onFilterPartChanged(t,r,o.split(",")))})})))]})}}nn(MW,"defaultProps",(Lr().s[16]++,{properties:{}}));function e4(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",n="de90f2b7c2375daa3c7ce706798711f2e425045c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"de90f2b7c2375daa3c7ce706798711f2e425045c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return e4=function(){return s},s}e4();class hpe extends xn.Component{render(){return e4().f[0]++,e4().s[0]++,N.jsxs("div",{className:"maputnik-filter-editor-block",children:[N.jsx("div",{className:"maputnik-filter-editor-block-action",children:N.jsx(Ba,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:N.jsx(zy,{})})}),N.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var fpe=1/0,ppe="[object Symbol]",h8="\\ud800-\\udfff",SW="\\u0300-\\u036f\\ufe20-\\ufe23",EW="\\u20d0-\\u20f0",OW="\\ufe0e\\ufe0f",mpe="["+h8+"]",WE="["+SW+EW+"]",NE="\\ud83c[\\udffb-\\udfff]",gpe="(?:"+WE+"|"+NE+")",BW="[^"+h8+"]",kW="(?:\\ud83c[\\udde6-\\uddff]){2}",IW="[\\ud800-\\udbff][\\udc00-\\udfff]",TW="\\u200d",KW=gpe+"?",PW="["+OW+"]?",ype="(?:"+TW+"(?:"+[BW,kW,IW].join("|")+")"+PW+KW+")*",vpe=PW+KW+ype,Cpe="(?:"+[BW+WE+"?",WE,kW,IW,mpe].join("|")+")",_pe=RegExp(NE+"(?="+NE+")|"+Cpe+vpe,"g"),bpe=RegExp("["+TW+h8+SW+EW+OW+"]"),xpe=typeof window=="object"&&window&&window.Object===Object&&window,wpe=typeof self=="object"&&self&&self.Object===Object&&self,Mpe=xpe||wpe||Function("return this")();function Spe(e){return e.split("")}function FW(e){return bpe.test(e)}function Epe(e){return FW(e)?Ope(e):Spe(e)}function Ope(e){return e.match(_pe)||[]}var Bpe=Object.prototype,kpe=Bpe.toString,HT=Mpe.Symbol,ZT=HT?HT.prototype:void 0,XT=ZT?ZT.toString:void 0;function Ipe(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+n];return o}function Tpe(e){if(typeof e=="string")return e;if(Dpe(e))return XT?XT.call(e):"";var n=e+"";return n=="0"&&1/e==-fpe?"-0":n}function Kpe(e,n,t){var r=e.length;return t=t===void 0?r:t,!n&&t>=r?e:Ipe(e,n,t)}function Ppe(e){return function(n){n=DW(n);var t=FW(n)?Epe(n):void 0,r=t?t[0]:n.charAt(0),i=t?Kpe(t,1).join(""):n.slice(1);return r[e]()+i}}function Fpe(e){return!!e&&typeof e=="object"}function Dpe(e){return typeof e=="symbol"||Fpe(e)&&kpe.call(e)==ppe}function DW(e){return e==null?"":Tpe(e)}function Upe(e){return Rpe(DW(e).toLowerCase())}var Rpe=Ppe("toUpperCase"),Lpe=Upe;const f8=ma(Lpe);function qh(){var e="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",n="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qh=function(){return s},s}qh();function P5(e){qh().f[0]++;let n;const t=(qh().s[0]++,e.split("-"));return qh().s[1]++,t.length>1?(qh().b[0][0]++,qh().s[2]++,n=e.split("-").slice(1).join(" ")):(qh().b[0][1]++,qh().s[3]++,n=e),qh().s[4]++,f8(n)}function Ui(){var e="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",n="aa37ab38c9a5b53df0808e7895b75ac0976599a1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aa37ab38c9a5b53df0808e7895b75ac0976599a1"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ui=function(){return s},s}Ui();class p8 extends xn.Component{constructor(t){Ui().f[2]++,Ui().s[1]++;super(t);nn(this,"onJSONInvalid",(Ui().s[3]++,t=>{Ui().f[3]++,Ui().s[4]++,this.setState({jsonError:!0})}));nn(this,"onJSONValid",(Ui().s[5]++,()=>{Ui().f[4]++,Ui().s[6]++,this.setState({jsonError:!1})}));Ui().s[2]++,this.state={jsonError:!1}}render(){Ui().f[5]++;const{errors:t,fieldName:r,fieldType:i,value:o,canUndo:s}=(Ui().s[7]++,this.props),{jsonError:a}=(Ui().s[8]++,this.state),p=(Ui().s[9]++,s?(Ui().b[0][0]++,!s()):(Ui().b[0][1]++,!0)),g=(Ui().s[10]++,N.jsxs(N.Fragment,{children:[(Ui().b[1][0]++,this.props.onUndo&&(Ui().b[1][1]++,N.jsx(Ba,{onClick:this.props.onUndo,disabled:p,className:"maputnik-delete-stop",title:"Revert from expression",children:N.jsx(CJ,{})},"undo_action"))),N.jsx(Ba,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:N.jsx(zy,{})},"delete_action")]})),b=(Ui().s[11]++,i===void 0?(Ui().b[2][0]++,r):(Ui().b[2][1]++,`${i}.${r}`)),B=(Ui().s[12]++,t[b]),k=(Ui().s[13]++,`${b}[`),P=(Ui().s[14]++,[]);function R(Z){return Ui().f[6]++,Ui().s[15]++,_W(Z,{indent:2,maxLength:38})}return Ui().s[16]++,a?(Ui().b[3][0]++,Ui().s[17]++,P.push({message:"Invalid JSON"})):(Ui().b[3][1]++,Ui().s[18]++,Object.entries(t).filter(([Z,W])=>(Ui().f[7]++,Ui().s[19]++,Z.startsWith(k))).forEach(([Z,W])=>(Ui().f[8]++,Ui().s[20]++,P.push(W))),Ui().s[21]++,B?(Ui().b[4][0]++,Ui().s[22]++,P.push(B)):Ui().b[4][1]++),Ui().s[23]++,N.jsx(Po,{error:P,fieldSpec:this.props.fieldSpec,label:P5(this.props.fieldName),action:g,wideMode:!0,children:N.jsx(A8,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:R,onChange:this.props.onChange})})}}nn(p8,"defaultProps",(Ui().s[0]++,{errors:{},onFocus:()=>{Ui().f[0]++},onBlur:()=>{Ui().f[1]++}}));function hn(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",n="539ebaafc62ae27a5559677295475532f297ca46",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"539ebaafc62ae27a5559677295475532f297ca46"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return hn=function(){return s},s}hn();function em(e){hn().f[0]++;const n=(hn().s[0]++,hn().b[0][0]++,e.filter||(hn().b[0][1]++,["all"]));if(hn().s[1]++,Array.isArray(n))hn().b[1][1]++;else return hn().b[1][0]++,hn().s[2]++,n;let t=(hn().s[3]++,n[0]),r=(hn().s[4]++,n.slice(1));return hn().s[5]++,d8.indexOf(t)<0?(hn().b[2][0]++,hn().s[6]++,t="all",hn().s[7]++,r=[n.slice(0)]):hn().b[2][1]++,hn().s[8]++,[t,...r]}function zpe(e){return hn().f[1]++,hn().s[9]++,EX(jpe(e)).layers[0].filter}function jpe(e){return hn().f[2]++,hn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}const Wpe=(hn().s[11]++,["all","any","none"]);function JT(e){if(hn().f[3]++,hn().s[12]++,hn().b[4][0]++,e.length===1&&(hn().b[4][1]++,Wpe.includes(e[0])))return hn().b[3][0]++,hn().s[13]++,!0;hn().b[3][1]++;const n=(hn().s[14]++,bC(e));return hn().s[15]++,!N4.isEqual(n,e)}function eK(e){return hn().f[4]++,hn().s[16]++,d8.indexOf(e[0])>=0}function Npe(e){return hn().f[5]++,hn().s[17]++,eK(e)?(hn().b[5][0]++,hn().s[18]++,e.slice(1).map(n=>(hn().f[6]++,hn().s[19]++,eK(n))).filter(n=>(hn().f[7]++,hn().s[20]++,n==!0)).length>0):(hn().b[5][1]++,hn().s[21]++,!1)}class UW extends xn.Component{constructor(t){hn().f[8]++,hn().s[23]++;super(t);nn(this,"addFilterItem",(hn().s[31]++,()=>{hn().f[11]++;const t=(hn().s[32]++,em(this.props).slice(0));hn().s[33]++,t.push(["==","name",""]),hn().s[34]++,this.props.onChange(t)}));nn(this,"onToggleDoc",(hn().s[35]++,t=>{hn().f[12]++,hn().s[36]++,this.setState({showDoc:t})}));nn(this,"makeFilter",(hn().s[37]++,()=>{hn().f[13]++,hn().s[38]++,this.setState({displaySimpleFilter:!0})}));nn(this,"makeExpression",(hn().s[39]++,()=>{hn().f[14]++;const t=(hn().s[40]++,em(this.props));hn().s[41]++,this.props.onChange(zpe(t)),hn().s[42]++,this.setState({displaySimpleFilter:!1})}));hn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:JT(em(t))}}onFilterPartChanged(t,r){hn().f[9]++;const i=(hn().s[25]++,em(this.props).slice(0));hn().s[26]++,i[t]=r,hn().s[27]++,this.props.onChange(i)}deleteFilterItem(t){hn().f[10]++;const r=(hn().s[28]++,em(this.props).slice(0));hn().s[29]++,r.splice(t+1,1),hn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(t,r){hn().f[15]++;const i=(hn().s[43]++,JT(em(t)));return hn().s[44]++,hn().b[7][0]++,!i&&(hn().b[7][1]++,r.displaySimpleFilter===!0)?(hn().b[6][0]++,hn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(hn().b[6][1]++,hn().s[46]++,hn().b[9][0]++,i&&(hn().b[9][1]++,r.displaySimpleFilter===!1)?(hn().b[8][0]++,hn().s[47]++,{valueIsSimpleFilter:!0}):(hn().b[8][1]++,hn().s[48]++,{valueIsSimpleFilter:!1}))}render(){hn().f[16]++;const{errors:t}=(hn().s[49]++,this.props),{displaySimpleFilter:r}=(hn().s[50]++,this.state),i=(hn().s[51]++,{doc:pa.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(hn().s[52]++,["all"]),s=(hn().s[53]++,hn().b[10][0]++,r&&(hn().b[10][1]++,Npe(em(this.props))));if(hn().s[54]++,s)return hn().b[11][0]++,hn().s[55]++,N.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[N.jsx("p",{children:"Nested filters are not supported."}),N.jsxs(Ba,{onClick:this.makeExpression,title:"Convert to expression",children:[N.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:__})}),"Upgrade to expression"]})]});if(hn().b[11][1]++,hn().s[56]++,r){hn().b[12][0]++;const a=(hn().s[57]++,em(this.props)),p=(hn().s[58]++,a[0]),g=(hn().s[59]++,a.slice(1)),b=(hn().s[60]++,N.jsx("div",{children:N.jsx(Ba,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:__})})})})),B=(hn().s[61]++,g.map((k,P)=>{hn().f[17]++;const R=(hn().s[62]++,t[`filter[${P+1}]`]);return hn().s[63]++,N.jsxs("div",{children:[N.jsx(hpe,{onDelete:this.deleteFilterItem.bind(this,P),children:N.jsx(MW,{properties:this.props.properties,filter:k,onChange:this.onFilterPartChanged.bind(this,P+1)})},P),(hn().b[13][0]++,R&&(hn().b[13][1]++,N.jsx("div",{className:"maputnik-inline-error",children:R.message},"error")))]},`block-${P}`)}));return hn().s[64]++,N.jsxs(N.Fragment,{children:[N.jsx(Po,{fieldSpec:i,label:"Filter",action:b,children:N.jsx(_1,{value:p,onChange:k=>(hn().f[18]++,hn().s[65]++,this.onFilterPartChanged(0,k)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),B,N.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:N.jsxs(Ba,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:c8})})," Add filter"]})},"buttons"),N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(hn().b[14][0]++,""):(hn().b[14][1]++,"none")},children:N.jsx(PB,{fieldSpec:i})},"doc")]})}else{hn().b[12][1]++;const{filter:a}=(hn().s[66]++,this.props);return hn().s[67]++,N.jsxs(N.Fragment,{children:[N.jsx(p8,{onDelete:()=>{hn().f[19]++,hn().s[68]++,this.setState({displaySimpleFilter:!0}),hn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:a,errors:t,onChange:this.props.onChange}),(hn().b[15][0]++,this.state.valueIsSimpleFilter&&(hn().b[15][1]++,N.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",N.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}nn(UW,"defaultProps",(hn().s[22]++,{filter:["all"]}));var F5={},zs={},X_={},Gpe=typeof window=="object"&&window&&window.Object===Object&&window,RW=Gpe,Qpe=RW,$pe=typeof self=="object"&&self&&self.Object===Object&&self,Ype=Qpe||$pe||Function("return this")(),ch=Ype,qpe=ch,Vpe=qpe.Symbol,J_=Vpe,tK=J_,LW=Object.prototype,Hpe=LW.hasOwnProperty,Zpe=LW.toString,Yv=tK?tK.toStringTag:void 0;function Xpe(e){var n=Hpe.call(e,Yv),t=e[Yv];try{e[Yv]=void 0;var r=!0}catch{}var i=Zpe.call(e);return r&&(n?e[Yv]=t:delete e[Yv]),i}var Jpe=Xpe,eme=Object.prototype,tme=eme.toString;function nme(e){return tme.call(e)}var rme=nme,nK=J_,ime=Jpe,ome=rme,ame="[object Null]",sme="[object Undefined]",rK=nK?nK.toStringTag:void 0;function lme(e){return e==null?e===void 0?sme:ame:rK&&rK in Object(e)?ime(e):ome(e)}var b1=lme,ume=Array.isArray,Uc=ume;function Ame(e){return e!=null&&typeof e=="object"}var Ef=Ame,cme=b1,dme=Uc,hme=Ef,fme="[object String]";function pme(e){return typeof e=="string"||!dme(e)&&hme(e)&&cme(e)==fme}var mme=pme;function gme(e){return function(n,t,r){for(var i=-1,o=Object(n),s=r(n),a=s.length;a--;){var p=s[e?a:++i];if(t(o[p],p,o)===!1)break}return n}}var yme=gme,vme=yme,Cme=vme(),zW=Cme;function _me(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var bme=_me,xme=b1,wme=Ef,Mme="[object Arguments]";function Sme(e){return wme(e)&&xme(e)==Mme}var Eme=Sme,iK=Eme,Ome=Ef,jW=Object.prototype,Bme=jW.hasOwnProperty,kme=jW.propertyIsEnumerable,Ime=iK(function(){return arguments}())?iK:function(e){return Ome(e)&&Bme.call(e,"callee")&&!kme.call(e,"callee")},m8=Ime,t4={exports:{}};function Tme(){return!1}var Kme=Tme;t4.exports;(function(e,n){var t=ch,r=Kme,i=n&&!n.nodeType&&n,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?t.Buffer:void 0,p=a?a.isBuffer:void 0,g=p||r;e.exports=g})(t4,t4.exports);var D5=t4.exports,Pme=9007199254740991,Fme=/^(?:0|[1-9]\d*)$/;function Dme(e,n){var t=typeof e;return n=n??Pme,!!n&&(t=="number"||t!="symbol"&&Fme.test(e))&&e>-1&&e%1==0&&e<n}var g8=Dme,Ume=9007199254740991;function Rme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ume}var y8=Rme,Lme=b1,zme=y8,jme=Ef,Wme="[object Arguments]",Nme="[object Array]",Gme="[object Boolean]",Qme="[object Date]",$me="[object Error]",Yme="[object Function]",qme="[object Map]",Vme="[object Number]",Hme="[object Object]",Zme="[object RegExp]",Xme="[object Set]",Jme="[object String]",e0e="[object WeakMap]",t0e="[object ArrayBuffer]",n0e="[object DataView]",r0e="[object Float32Array]",i0e="[object Float64Array]",o0e="[object Int8Array]",a0e="[object Int16Array]",s0e="[object Int32Array]",l0e="[object Uint8Array]",u0e="[object Uint8ClampedArray]",A0e="[object Uint16Array]",c0e="[object Uint32Array]",as={};as[r0e]=as[i0e]=as[o0e]=as[a0e]=as[s0e]=as[l0e]=as[u0e]=as[A0e]=as[c0e]=!0;as[Wme]=as[Nme]=as[t0e]=as[Gme]=as[n0e]=as[Qme]=as[$me]=as[Yme]=as[qme]=as[Vme]=as[Hme]=as[Zme]=as[Xme]=as[Jme]=as[e0e]=!1;function d0e(e){return jme(e)&&zme(e.length)&&!!as[Lme(e)]}var h0e=d0e;function f0e(e){return function(n){return e(n)}}var v8=f0e,n4={exports:{}};n4.exports;(function(e,n){var t=RW,r=n&&!n.nodeType&&n,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var p=i&&i.require&&i.require("util").types;return p||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(n4,n4.exports);var C8=n4.exports,p0e=h0e,m0e=v8,oK=C8,aK=oK&&oK.isTypedArray,g0e=aK?m0e(aK):p0e,_8=g0e,y0e=bme,v0e=m8,C0e=Uc,_0e=D5,b0e=g8,x0e=_8,w0e=Object.prototype,M0e=w0e.hasOwnProperty;function S0e(e,n){var t=C0e(e),r=!t&&v0e(e),i=!t&&!r&&_0e(e),o=!t&&!r&&!i&&x0e(e),s=t||r||i||o,a=s?y0e(e.length,String):[],p=a.length;for(var g in e)(n||M0e.call(e,g))&&!(s&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||b0e(g,p)))&&a.push(g);return a}var WW=S0e,E0e=Object.prototype;function O0e(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||E0e;return e===t}var b8=O0e;function B0e(e,n){return function(t){return e(n(t))}}var NW=B0e,k0e=NW,I0e=k0e(Object.keys,Object),T0e=I0e,K0e=b8,P0e=T0e,F0e=Object.prototype,D0e=F0e.hasOwnProperty;function U0e(e){if(!K0e(e))return P0e(e);var n=[];for(var t in Object(e))D0e.call(e,t)&&t!="constructor"&&n.push(t);return n}var R0e=U0e;function L0e(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var xd=L0e,z0e=b1,j0e=xd,W0e="[object AsyncFunction]",N0e="[object Function]",G0e="[object GeneratorFunction]",Q0e="[object Proxy]";function $0e(e){if(!j0e(e))return!1;var n=z0e(e);return n==N0e||n==G0e||n==W0e||n==Q0e}var x8=$0e,Y0e=x8,q0e=y8;function V0e(e){return e!=null&&q0e(e.length)&&!Y0e(e)}var Yy=V0e,H0e=WW,Z0e=R0e,X0e=Yy;function J0e(e){return X0e(e)?H0e(e):Z0e(e)}var eb=J0e,e1e=zW,t1e=eb;function n1e(e,n){return e&&e1e(e,n,t1e)}var GW=n1e;function r1e(e){return e}var U5=r1e,i1e=U5;function o1e(e){return typeof e=="function"?e:i1e}var QW=o1e,a1e=GW,s1e=QW;function l1e(e,n){return e&&a1e(e,s1e(n))}var w8=l1e,u1e=NW,A1e=u1e(Object.getPrototypeOf,Object),M8=A1e,c1e=b1,d1e=M8,h1e=Ef,f1e="[object Object]",p1e=Function.prototype,m1e=Object.prototype,$W=p1e.toString,g1e=m1e.hasOwnProperty,y1e=$W.call(Object);function v1e(e){if(!h1e(e)||c1e(e)!=f1e)return!1;var n=d1e(e);if(n===null)return!0;var t=g1e.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&$W.call(t)==y1e}var YW=v1e;function C1e(e,n){for(var t=-1,r=e==null?0:e.length,i=Array(r);++t<r;)i[t]=n(e[t],t,e);return i}var qW=C1e;function _1e(){this.__data__=[],this.size=0}var b1e=_1e;function x1e(e,n){return e===n||e!==e&&n!==n}var tb=x1e,w1e=tb;function M1e(e,n){for(var t=e.length;t--;)if(w1e(e[t][0],n))return t;return-1}var R5=M1e,S1e=R5,E1e=Array.prototype,O1e=E1e.splice;function B1e(e){var n=this.__data__,t=S1e(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():O1e.call(n,t,1),--this.size,!0}var k1e=B1e,I1e=R5;function T1e(e){var n=this.__data__,t=I1e(n,e);return t<0?void 0:n[t][1]}var K1e=T1e,P1e=R5;function F1e(e){return P1e(this.__data__,e)>-1}var D1e=F1e,U1e=R5;function R1e(e,n){var t=this.__data__,r=U1e(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}var L1e=R1e,z1e=b1e,j1e=k1e,W1e=K1e,N1e=D1e,G1e=L1e;function qy(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}qy.prototype.clear=z1e;qy.prototype.delete=j1e;qy.prototype.get=W1e;qy.prototype.has=N1e;qy.prototype.set=G1e;var L5=qy,Q1e=L5;function $1e(){this.__data__=new Q1e,this.size=0}var Y1e=$1e;function q1e(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}var V1e=q1e;function H1e(e){return this.__data__.get(e)}var Z1e=H1e;function X1e(e){return this.__data__.has(e)}var J1e=X1e,ege=ch,tge=ege["__core-js_shared__"],nge=tge,YM=nge,sK=function(){var e=/[^.]+$/.exec(YM&&YM.keys&&YM.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rge(e){return!!sK&&sK in e}var ige=rge,oge=Function.prototype,age=oge.toString;function sge(e){if(e!=null){try{return age.call(e)}catch{}try{return e+""}catch{}}return""}var VW=sge,lge=x8,uge=ige,Age=xd,cge=VW,dge=/[\\^$.*+?()[\]{}|]/g,hge=/^\[object .+?Constructor\]$/,fge=Function.prototype,pge=Object.prototype,mge=fge.toString,gge=pge.hasOwnProperty,yge=RegExp("^"+mge.call(gge).replace(dge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vge(e){if(!Age(e)||uge(e))return!1;var n=lge(e)?yge:hge;return n.test(cge(e))}var Cge=vge;function _ge(e,n){return e==null?void 0:e[n]}var bge=_ge,xge=Cge,wge=bge;function Mge(e,n){var t=wge(e,n);return xge(t)?t:void 0}var x1=Mge,Sge=x1,Ege=ch,Oge=Sge(Ege,"Map"),S8=Oge,Bge=x1,kge=Bge(Object,"create"),z5=kge,lK=z5;function Ige(){this.__data__=lK?lK(null):{},this.size=0}var Tge=Ige;function Kge(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Pge=Kge,Fge=z5,Dge="__lodash_hash_undefined__",Uge=Object.prototype,Rge=Uge.hasOwnProperty;function Lge(e){var n=this.__data__;if(Fge){var t=n[e];return t===Dge?void 0:t}return Rge.call(n,e)?n[e]:void 0}var zge=Lge,jge=z5,Wge=Object.prototype,Nge=Wge.hasOwnProperty;function Gge(e){var n=this.__data__;return jge?n[e]!==void 0:Nge.call(n,e)}var Qge=Gge,$ge=z5,Yge="__lodash_hash_undefined__";function qge(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=$ge&&n===void 0?Yge:n,this}var Vge=qge,Hge=Tge,Zge=Pge,Xge=zge,Jge=Qge,eye=Vge;function Vy(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Vy.prototype.clear=Hge;Vy.prototype.delete=Zge;Vy.prototype.get=Xge;Vy.prototype.has=Jge;Vy.prototype.set=eye;var tye=Vy,uK=tye,nye=L5,rye=S8;function iye(){this.size=0,this.__data__={hash:new uK,map:new(rye||nye),string:new uK}}var oye=iye;function aye(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var sye=aye,lye=sye;function uye(e,n){var t=e.__data__;return lye(n)?t[typeof n=="string"?"string":"hash"]:t.map}var j5=uye,Aye=j5;function cye(e){var n=Aye(this,e).delete(e);return this.size-=n?1:0,n}var dye=cye,hye=j5;function fye(e){return hye(this,e).get(e)}var pye=fye,mye=j5;function gye(e){return mye(this,e).has(e)}var yye=gye,vye=j5;function Cye(e,n){var t=vye(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}var _ye=Cye,bye=oye,xye=dye,wye=pye,Mye=yye,Sye=_ye;function Hy(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Hy.prototype.clear=bye;Hy.prototype.delete=xye;Hy.prototype.get=wye;Hy.prototype.has=Mye;Hy.prototype.set=Sye;var E8=Hy,Eye=L5,Oye=S8,Bye=E8,kye=200;function Iye(e,n){var t=this.__data__;if(t instanceof Eye){var r=t.__data__;if(!Oye||r.length<kye-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Bye(r)}return t.set(e,n),this.size=t.size,this}var Tye=Iye,Kye=L5,Pye=Y1e,Fye=V1e,Dye=Z1e,Uye=J1e,Rye=Tye;function Zy(e){var n=this.__data__=new Kye(e);this.size=n.size}Zy.prototype.clear=Pye;Zy.prototype.delete=Fye;Zy.prototype.get=Dye;Zy.prototype.has=Uye;Zy.prototype.set=Rye;var W5=Zy,Lye="__lodash_hash_undefined__";function zye(e){return this.__data__.set(e,Lye),this}var jye=zye;function Wye(e){return this.__data__.has(e)}var Nye=Wye,Gye=E8,Qye=jye,$ye=Nye;function r4(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Gye;++n<t;)this.add(e[n])}r4.prototype.add=r4.prototype.push=Qye;r4.prototype.has=$ye;var Yye=r4;function qye(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}var Vye=qye;function Hye(e,n){return e.has(n)}var Zye=Hye,Xye=Yye,Jye=Vye,eve=Zye,tve=1,nve=2;function rve(e,n,t,r,i,o){var s=t&tve,a=e.length,p=n.length;if(a!=p&&!(s&&p>a))return!1;var g=o.get(e),b=o.get(n);if(g&&b)return g==n&&b==e;var B=-1,k=!0,P=t&nve?new Xye:void 0;for(o.set(e,n),o.set(n,e);++B<a;){var R=e[B],Z=n[B];if(r)var W=s?r(Z,R,B,n,e,o):r(R,Z,B,e,n,o);if(W!==void 0){if(W)continue;k=!1;break}if(P){if(!Jye(n,function(Q,q){if(!eve(P,q)&&(R===Q||i(R,Q,t,r,o)))return P.push(q)})){k=!1;break}}else if(!(R===Z||i(R,Z,t,r,o))){k=!1;break}}return o.delete(e),o.delete(n),k}var HW=rve,ive=ch,ove=ive.Uint8Array,ZW=ove;function ave(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}var sve=ave;function lve(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var uve=lve,AK=J_,cK=ZW,Ave=tb,cve=HW,dve=sve,hve=uve,fve=1,pve=2,mve="[object Boolean]",gve="[object Date]",yve="[object Error]",vve="[object Map]",Cve="[object Number]",_ve="[object RegExp]",bve="[object Set]",xve="[object String]",wve="[object Symbol]",Mve="[object ArrayBuffer]",Sve="[object DataView]",dK=AK?AK.prototype:void 0,qM=dK?dK.valueOf:void 0;function Eve(e,n,t,r,i,o,s){switch(t){case Sve:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Mve:return!(e.byteLength!=n.byteLength||!o(new cK(e),new cK(n)));case mve:case gve:case Cve:return Ave(+e,+n);case yve:return e.name==n.name&&e.message==n.message;case _ve:case xve:return e==n+"";case vve:var a=dve;case bve:var p=r&fve;if(a||(a=hve),e.size!=n.size&&!p)return!1;var g=s.get(e);if(g)return g==n;r|=pve,s.set(e,n);var b=cve(a(e),a(n),r,i,o,s);return s.delete(e),b;case wve:if(qM)return qM.call(e)==qM.call(n)}return!1}var Ove=Eve;function Bve(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var XW=Bve,kve=XW,Ive=Uc;function Tve(e,n,t){var r=n(e);return Ive(e)?r:kve(r,t(e))}var JW=Tve;function Kve(e,n){for(var t=-1,r=e==null?0:e.length,i=0,o=[];++t<r;){var s=e[t];n(s,t,e)&&(o[i++]=s)}return o}var Pve=Kve;function Fve(){return[]}var eN=Fve,Dve=Pve,Uve=eN,Rve=Object.prototype,Lve=Rve.propertyIsEnumerable,hK=Object.getOwnPropertySymbols,zve=hK?function(e){return e==null?[]:(e=Object(e),Dve(hK(e),function(n){return Lve.call(e,n)}))}:Uve,O8=zve,jve=JW,Wve=O8,Nve=eb;function Gve(e){return jve(e,Nve,Wve)}var tN=Gve,fK=tN,Qve=1,$ve=Object.prototype,Yve=$ve.hasOwnProperty;function qve(e,n,t,r,i,o){var s=t&Qve,a=fK(e),p=a.length,g=fK(n),b=g.length;if(p!=b&&!s)return!1;for(var B=p;B--;){var k=a[B];if(!(s?k in n:Yve.call(n,k)))return!1}var P=o.get(e),R=o.get(n);if(P&&R)return P==n&&R==e;var Z=!0;o.set(e,n),o.set(n,e);for(var W=s;++B<p;){k=a[B];var Q=e[k],q=n[k];if(r)var oe=s?r(q,Q,k,n,e,o):r(Q,q,k,e,n,o);if(!(oe===void 0?Q===q||i(Q,q,t,r,o):oe)){Z=!1;break}W||(W=k=="constructor")}if(Z&&!W){var re=e.constructor,ce=n.constructor;re!=ce&&"constructor"in e&&"constructor"in n&&!(typeof re=="function"&&re instanceof re&&typeof ce=="function"&&ce instanceof ce)&&(Z=!1)}return o.delete(e),o.delete(n),Z}var Vve=qve,Hve=x1,Zve=ch,Xve=Hve(Zve,"DataView"),Jve=Xve,eCe=x1,tCe=ch,nCe=eCe(tCe,"Promise"),rCe=nCe,iCe=x1,oCe=ch,aCe=iCe(oCe,"Set"),sCe=aCe,lCe=x1,uCe=ch,ACe=lCe(uCe,"WeakMap"),cCe=ACe,GE=Jve,QE=S8,$E=rCe,YE=sCe,qE=cCe,nN=b1,Xy=VW,pK="[object Map]",dCe="[object Object]",mK="[object Promise]",gK="[object Set]",yK="[object WeakMap]",vK="[object DataView]",hCe=Xy(GE),fCe=Xy(QE),pCe=Xy($E),mCe=Xy(YE),gCe=Xy(qE),M0=nN;(GE&&M0(new GE(new ArrayBuffer(1)))!=vK||QE&&M0(new QE)!=pK||$E&&M0($E.resolve())!=mK||YE&&M0(new YE)!=gK||qE&&M0(new qE)!=yK)&&(M0=function(e){var n=nN(e),t=n==dCe?e.constructor:void 0,r=t?Xy(t):"";if(r)switch(r){case hCe:return vK;case fCe:return pK;case pCe:return mK;case mCe:return gK;case gCe:return yK}return n});var N5=M0,VM=W5,yCe=HW,vCe=Ove,CCe=Vve,CK=N5,_K=Uc,bK=D5,_Ce=_8,bCe=1,xK="[object Arguments]",wK="[object Array]",Nx="[object Object]",xCe=Object.prototype,MK=xCe.hasOwnProperty;function wCe(e,n,t,r,i,o){var s=_K(e),a=_K(n),p=s?wK:CK(e),g=a?wK:CK(n);p=p==xK?Nx:p,g=g==xK?Nx:g;var b=p==Nx,B=g==Nx,k=p==g;if(k&&bK(e)){if(!bK(n))return!1;s=!0,b=!1}if(k&&!b)return o||(o=new VM),s||_Ce(e)?yCe(e,n,t,r,i,o):vCe(e,n,p,t,r,i,o);if(!(t&bCe)){var P=b&&MK.call(e,"__wrapped__"),R=B&&MK.call(n,"__wrapped__");if(P||R){var Z=P?e.value():e,W=R?n.value():n;return o||(o=new VM),i(Z,W,t,r,o)}}return k?(o||(o=new VM),CCe(e,n,t,r,i,o)):!1}var MCe=wCe,SCe=MCe,SK=Ef;function rN(e,n,t,r,i){return e===n?!0:e==null||n==null||!SK(e)&&!SK(n)?e!==e&&n!==n:SCe(e,n,t,r,rN,i)}var iN=rN,ECe=W5,OCe=iN,BCe=1,kCe=2;function ICe(e,n,t,r){var i=t.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=t[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=t[i];var p=a[0],g=e[p],b=a[1];if(s&&a[2]){if(g===void 0&&!(p in e))return!1}else{var B=new ECe;if(r)var k=r(g,b,p,e,n,B);if(!(k===void 0?OCe(b,g,BCe|kCe,r,B):k))return!1}}return!0}var TCe=ICe,KCe=xd;function PCe(e){return e===e&&!KCe(e)}var oN=PCe,FCe=oN,DCe=eb;function UCe(e){for(var n=DCe(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,FCe(i)]}return n}var RCe=UCe;function LCe(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}var aN=LCe,zCe=TCe,jCe=RCe,WCe=aN;function NCe(e){var n=jCe(e);return n.length==1&&n[0][2]?WCe(n[0][0],n[0][1]):function(t){return t===e||zCe(t,e,n)}}var GCe=NCe,QCe=b1,$Ce=Ef,YCe="[object Symbol]";function qCe(e){return typeof e=="symbol"||$Ce(e)&&QCe(e)==YCe}var G5=qCe,VCe=Uc,HCe=G5,ZCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XCe=/^\w*$/;function JCe(e,n){if(VCe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||HCe(e)?!0:XCe.test(e)||!ZCe.test(e)||n!=null&&e in Object(n)}var B8=JCe,sN=E8,e_e="Expected a function";function k8(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(e_e);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(k8.Cache||sN),t}k8.Cache=sN;var t_e=k8,n_e=t_e,r_e=500;function i_e(e){var n=n_e(e,function(r){return t.size===r_e&&t.clear(),r}),t=n.cache;return n}var o_e=i_e,a_e=o_e,s_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l_e=/\\(\\)?/g,u_e=a_e(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(s_e,function(t,r,i,o){n.push(i?o.replace(l_e,"$1"):r||t)}),n}),A_e=u_e,EK=J_,c_e=qW,d_e=Uc,h_e=G5,f_e=1/0,OK=EK?EK.prototype:void 0,BK=OK?OK.toString:void 0;function lN(e){if(typeof e=="string")return e;if(d_e(e))return c_e(e,lN)+"";if(h_e(e))return BK?BK.call(e):"";var n=e+"";return n=="0"&&1/e==-f_e?"-0":n}var p_e=lN,m_e=p_e;function g_e(e){return e==null?"":m_e(e)}var y_e=g_e,v_e=Uc,C_e=B8,__e=A_e,b_e=y_e;function x_e(e,n){return v_e(e)?e:C_e(e,n)?[e]:__e(b_e(e))}var uN=x_e,w_e=G5,M_e=1/0;function S_e(e){if(typeof e=="string"||w_e(e))return e;var n=e+"";return n=="0"&&1/e==-M_e?"-0":n}var Q5=S_e,E_e=uN,O_e=Q5;function B_e(e,n){n=E_e(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[O_e(n[t++])];return t&&t==r?e:void 0}var AN=B_e,k_e=AN;function I_e(e,n,t){var r=e==null?void 0:k_e(e,n);return r===void 0?t:r}var T_e=I_e;function K_e(e,n){return e!=null&&n in Object(e)}var P_e=K_e,F_e=uN,D_e=m8,U_e=Uc,R_e=g8,L_e=y8,z_e=Q5;function j_e(e,n,t){n=F_e(n,e);for(var r=-1,i=n.length,o=!1;++r<i;){var s=z_e(n[r]);if(!(o=e!=null&&t(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&L_e(i)&&R_e(s,i)&&(U_e(e)||D_e(e)))}var W_e=j_e,N_e=P_e,G_e=W_e;function Q_e(e,n){return e!=null&&G_e(e,n,N_e)}var $_e=Q_e,Y_e=iN,q_e=T_e,V_e=$_e,H_e=B8,Z_e=oN,X_e=aN,J_e=Q5,ebe=1,tbe=2;function nbe(e,n){return H_e(e)&&Z_e(n)?X_e(J_e(e),n):function(t){var r=q_e(t,e);return r===void 0&&r===n?V_e(t,e):Y_e(n,r,ebe|tbe)}}var rbe=nbe;function ibe(e){return function(n){return n==null?void 0:n[e]}}var obe=ibe,abe=AN;function sbe(e){return function(n){return abe(n,e)}}var lbe=sbe,ube=obe,Abe=lbe,cbe=B8,dbe=Q5;function hbe(e){return cbe(e)?ube(dbe(e)):Abe(e)}var fbe=hbe,pbe=GCe,mbe=rbe,gbe=U5,ybe=Uc,vbe=fbe;function Cbe(e){return typeof e=="function"?e:e==null?gbe:typeof e=="object"?ybe(e)?mbe(e[0],e[1]):pbe(e):vbe(e)}var _be=Cbe,bbe=Yy;function xbe(e,n){return function(t,r){if(t==null)return t;if(!bbe(t))return e(t,r);for(var i=t.length,o=n?i:-1,s=Object(t);(n?o--:++o<i)&&r(s[o],o,s)!==!1;);return t}}var wbe=xbe,Mbe=GW,Sbe=wbe,Ebe=Sbe(Mbe),cN=Ebe,Obe=cN,Bbe=Yy;function kbe(e,n){var t=-1,r=Bbe(e)?Array(e.length):[];return Obe(e,function(i,o,s){r[++t]=n(i,o,s)}),r}var Ibe=kbe,Tbe=qW,Kbe=_be,Pbe=Ibe,Fbe=Uc;function Dbe(e,n){var t=Fbe(e)?Tbe:Pbe;return t(e,Kbe(n))}var Ube=Dbe;Object.defineProperty(X_,"__esModule",{value:!0});X_.flattenNames=void 0;var Rbe=mme,Lbe=$5(Rbe),zbe=w8,jbe=$5(zbe),Wbe=YW,Nbe=$5(Wbe),Gbe=Ube,Qbe=$5(Gbe);function $5(e){return e&&e.__esModule?e:{default:e}}var $be=X_.flattenNames=function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,Qbe.default)(n,function(r){Array.isArray(r)?e(r).map(function(i){return t.push(i)}):(0,Nbe.default)(r)?(0,jbe.default)(r,function(i,o){i===!0&&t.push(o),t.push(o+"-"+i)}):(0,Lbe.default)(r)&&t.push(r)}),t};X_.default=$be;var nb={};function Ybe(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var dN=Ybe,qbe=x1,Vbe=function(){try{var e=qbe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),hN=Vbe,kK=hN;function Hbe(e,n,t){n=="__proto__"&&kK?kK(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var I8=Hbe,Zbe=I8,Xbe=tb,Jbe=Object.prototype,exe=Jbe.hasOwnProperty;function txe(e,n,t){var r=e[n];(!(exe.call(e,n)&&Xbe(r,t))||t===void 0&&!(n in e))&&Zbe(e,n,t)}var fN=txe,nxe=fN,rxe=I8;function ixe(e,n,t,r){var i=!t;t||(t={});for(var o=-1,s=n.length;++o<s;){var a=n[o],p=r?r(t[a],e[a],a,t,e):void 0;p===void 0&&(p=e[a]),i?rxe(t,a,p):nxe(t,a,p)}return t}var rb=ixe,oxe=rb,axe=eb;function sxe(e,n){return e&&oxe(n,axe(n),e)}var lxe=sxe;function uxe(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var Axe=uxe,cxe=xd,dxe=b8,hxe=Axe,fxe=Object.prototype,pxe=fxe.hasOwnProperty;function mxe(e){if(!cxe(e))return hxe(e);var n=dxe(e),t=[];for(var r in e)r=="constructor"&&(n||!pxe.call(e,r))||t.push(r);return t}var gxe=mxe,yxe=WW,vxe=gxe,Cxe=Yy;function _xe(e){return Cxe(e)?yxe(e,!0):vxe(e)}var ib=_xe,bxe=rb,xxe=ib;function wxe(e,n){return e&&bxe(n,xxe(n),e)}var Mxe=wxe,i4={exports:{}};i4.exports;(function(e,n){var t=ch,r=n&&!n.nodeType&&n,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function p(g,b){if(b)return g.slice();var B=g.length,k=a?a(B):new g.constructor(B);return g.copy(k),k}e.exports=p})(i4,i4.exports);var pN=i4.exports;function Sxe(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var mN=Sxe,Exe=rb,Oxe=O8;function Bxe(e,n){return Exe(e,Oxe(e),n)}var kxe=Bxe,Ixe=XW,Txe=M8,Kxe=O8,Pxe=eN,Fxe=Object.getOwnPropertySymbols,Dxe=Fxe?function(e){for(var n=[];e;)Ixe(n,Kxe(e)),e=Txe(e);return n}:Pxe,gN=Dxe,Uxe=rb,Rxe=gN;function Lxe(e,n){return Uxe(e,Rxe(e),n)}var zxe=Lxe,jxe=JW,Wxe=gN,Nxe=ib;function Gxe(e){return jxe(e,Nxe,Wxe)}var Qxe=Gxe,$xe=Object.prototype,Yxe=$xe.hasOwnProperty;function qxe(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Yxe.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Vxe=qxe,IK=ZW;function Hxe(e){var n=new e.constructor(e.byteLength);return new IK(n).set(new IK(e)),n}var T8=Hxe,Zxe=T8;function Xxe(e,n){var t=n?Zxe(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Jxe=Xxe,e2e=/\w*$/;function t2e(e){var n=new e.constructor(e.source,e2e.exec(e));return n.lastIndex=e.lastIndex,n}var n2e=t2e,TK=J_,KK=TK?TK.prototype:void 0,PK=KK?KK.valueOf:void 0;function r2e(e){return PK?Object(PK.call(e)):{}}var i2e=r2e,o2e=T8;function a2e(e,n){var t=n?o2e(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var yN=a2e,s2e=T8,l2e=Jxe,u2e=n2e,A2e=i2e,c2e=yN,d2e="[object Boolean]",h2e="[object Date]",f2e="[object Map]",p2e="[object Number]",m2e="[object RegExp]",g2e="[object Set]",y2e="[object String]",v2e="[object Symbol]",C2e="[object ArrayBuffer]",_2e="[object DataView]",b2e="[object Float32Array]",x2e="[object Float64Array]",w2e="[object Int8Array]",M2e="[object Int16Array]",S2e="[object Int32Array]",E2e="[object Uint8Array]",O2e="[object Uint8ClampedArray]",B2e="[object Uint16Array]",k2e="[object Uint32Array]";function I2e(e,n,t){var r=e.constructor;switch(n){case C2e:return s2e(e);case d2e:case h2e:return new r(+e);case _2e:return l2e(e,t);case b2e:case x2e:case w2e:case M2e:case S2e:case E2e:case O2e:case B2e:case k2e:return c2e(e,t);case f2e:return new r;case p2e:case y2e:return new r(e);case m2e:return u2e(e);case g2e:return new r;case v2e:return A2e(e)}}var T2e=I2e,K2e=xd,FK=Object.create,P2e=function(){function e(){}return function(n){if(!K2e(n))return{};if(FK)return FK(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),F2e=P2e,D2e=F2e,U2e=M8,R2e=b8;function L2e(e){return typeof e.constructor=="function"&&!R2e(e)?D2e(U2e(e)):{}}var vN=L2e,z2e=N5,j2e=Ef,W2e="[object Map]";function N2e(e){return j2e(e)&&z2e(e)==W2e}var G2e=N2e,Q2e=G2e,$2e=v8,DK=C8,UK=DK&&DK.isMap,Y2e=UK?$2e(UK):Q2e,q2e=Y2e,V2e=N5,H2e=Ef,Z2e="[object Set]";function X2e(e){return H2e(e)&&V2e(e)==Z2e}var J2e=X2e,e3e=J2e,t3e=v8,RK=C8,LK=RK&&RK.isSet,n3e=LK?t3e(LK):e3e,r3e=n3e,i3e=W5,o3e=dN,a3e=fN,s3e=lxe,l3e=Mxe,u3e=pN,A3e=mN,c3e=kxe,d3e=zxe,h3e=tN,f3e=Qxe,p3e=N5,m3e=Vxe,g3e=T2e,y3e=vN,v3e=Uc,C3e=D5,_3e=q2e,b3e=xd,x3e=r3e,w3e=eb,M3e=ib,S3e=1,E3e=2,O3e=4,CN="[object Arguments]",B3e="[object Array]",k3e="[object Boolean]",I3e="[object Date]",T3e="[object Error]",_N="[object Function]",K3e="[object GeneratorFunction]",P3e="[object Map]",F3e="[object Number]",bN="[object Object]",D3e="[object RegExp]",U3e="[object Set]",R3e="[object String]",L3e="[object Symbol]",z3e="[object WeakMap]",j3e="[object ArrayBuffer]",W3e="[object DataView]",N3e="[object Float32Array]",G3e="[object Float64Array]",Q3e="[object Int8Array]",$3e="[object Int16Array]",Y3e="[object Int32Array]",q3e="[object Uint8Array]",V3e="[object Uint8ClampedArray]",H3e="[object Uint16Array]",Z3e="[object Uint32Array]",Wa={};Wa[CN]=Wa[B3e]=Wa[j3e]=Wa[W3e]=Wa[k3e]=Wa[I3e]=Wa[N3e]=Wa[G3e]=Wa[Q3e]=Wa[$3e]=Wa[Y3e]=Wa[P3e]=Wa[F3e]=Wa[bN]=Wa[D3e]=Wa[U3e]=Wa[R3e]=Wa[L3e]=Wa[q3e]=Wa[V3e]=Wa[H3e]=Wa[Z3e]=!0;Wa[T3e]=Wa[_N]=Wa[z3e]=!1;function x2(e,n,t,r,i,o){var s,a=n&S3e,p=n&E3e,g=n&O3e;if(t&&(s=i?t(e,r,i,o):t(e)),s!==void 0)return s;if(!b3e(e))return e;var b=v3e(e);if(b){if(s=m3e(e),!a)return A3e(e,s)}else{var B=p3e(e),k=B==_N||B==K3e;if(C3e(e))return u3e(e,a);if(B==bN||B==CN||k&&!i){if(s=p||k?{}:y3e(e),!a)return p?d3e(e,l3e(s,e)):c3e(e,s3e(s,e))}else{if(!Wa[B])return i?e:{};s=g3e(e,B,a)}}o||(o=new i3e);var P=o.get(e);if(P)return P;o.set(e,s),x3e(e)?e.forEach(function(W){s.add(x2(W,n,t,W,e,o))}):_3e(e)&&e.forEach(function(W,Q){s.set(Q,x2(W,n,t,Q,e,o))});var R=g?p?f3e:h3e:p?M3e:w3e,Z=b?void 0:R(e);return o3e(Z||e,function(W,Q){Z&&(Q=W,W=e[Q]),a3e(s,Q,x2(W,n,t,Q,e,o))}),s}var X3e=x2,J3e=X3e,e4e=1,t4e=4;function n4e(e){return J3e(e,e4e|t4e)}var r4e=n4e;Object.defineProperty(nb,"__esModule",{value:!0});nb.mergeClasses=void 0;var i4e=w8,o4e=xN(i4e),a4e=r4e,s4e=xN(a4e),l4e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function xN(e){return e&&e.__esModule?e:{default:e}}var u4e=nb.mergeClasses=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.default&&(0,s4e.default)(n.default)||{};return t.map(function(i){var o=n[i];return o&&(0,o4e.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=l4e({},r[a],o[a])}),i}),r};nb.default=u4e;var ob={};Object.defineProperty(ob,"__esModule",{value:!0});ob.autoprefix=void 0;var A4e=w8,zK=d4e(A4e),c4e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function d4e(e){return e&&e.__esModule?e:{default:e}}var h4e={borderRadius:function(n){return{msBorderRadius:n,MozBorderRadius:n,OBorderRadius:n,WebkitBorderRadius:n,borderRadius:n}},boxShadow:function(n){return{msBoxShadow:n,MozBoxShadow:n,OBoxShadow:n,WebkitBoxShadow:n,boxShadow:n}},userSelect:function(n){return{WebkitTouchCallout:n,KhtmlUserSelect:n,MozUserSelect:n,msUserSelect:n,WebkitUserSelect:n,userSelect:n}},flex:function(n){return{WebkitBoxFlex:n,MozBoxFlex:n,WebkitFlex:n,msFlex:n,flex:n}},flexBasis:function(n){return{WebkitFlexBasis:n,flexBasis:n}},justifyContent:function(n){return{WebkitJustifyContent:n,justifyContent:n}},transition:function(n){return{msTransition:n,MozTransition:n,OTransition:n,WebkitTransition:n,transition:n}},transform:function(n){return{msTransform:n,MozTransform:n,OTransform:n,WebkitTransform:n,transform:n}},absolute:function(n){var t=n&&n.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(n,t){var r=t[n];return r||{extend:n}}},f4e=ob.autoprefix=function(n){var t={};return(0,zK.default)(n,function(r,i){var o={};(0,zK.default)(r,function(s,a){var p=h4e[a];p?o=c4e({},o,p(s)):o[a]=s}),t[i]=o}),t};ob.default=f4e;var ab={};Object.defineProperty(ab,"__esModule",{value:!0});ab.hover=void 0;var p4e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m4e=Sr,HM=g4e(m4e);function g4e(e){return e&&e.__esModule?e:{default:e}}function y4e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function v4e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var C4e=ab.hover=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){v4e(i,r);function i(){var o,s,a,p;y4e(this,i);for(var g=arguments.length,b=Array(g),B=0;B<g;B++)b[B]=arguments[B];return p=(s=(a=jK(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(b))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return HM.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},HM.default.createElement(n,p4e({},a.props,a.state)))},s),jK(a,p)}return i}(HM.default.Component)};ab.default=C4e;var sb={};Object.defineProperty(sb,"__esModule",{value:!0});sb.active=void 0;var _4e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},b4e=Sr,ZM=x4e(b4e);function x4e(e){return e&&e.__esModule?e:{default:e}}function w4e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function WK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function M4e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var S4e=sb.active=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){M4e(i,r);function i(){var o,s,a,p;w4e(this,i);for(var g=arguments.length,b=Array(g),B=0;B<g;B++)b[B]=arguments[B];return p=(s=(a=WK(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(b))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return ZM.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},ZM.default.createElement(n,_4e({},a.props,a.state)))},s),WK(a,p)}return i}(ZM.default.Component)};sb.default=S4e;var K8={};Object.defineProperty(K8,"__esModule",{value:!0});var E4e=function(n,t){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return n===0&&i("first-child"),n===t-1&&i("last-child"),(n===0||n%2===0)&&i("even"),Math.abs(n%2)===1&&i("odd"),i("nth-child",n),r};K8.default=E4e;Object.defineProperty(zs,"__esModule",{value:!0});zs.ReactCSS=zs.loop=zs.handleActive=zs.handleHover=zs.hover=void 0;var O4e=X_,B4e=Jy(O4e),k4e=nb,I4e=Jy(k4e),T4e=ob,K4e=Jy(T4e),P4e=ab,wN=Jy(P4e),F4e=sb,D4e=Jy(F4e),U4e=K8,R4e=Jy(U4e);function Jy(e){return e&&e.__esModule?e:{default:e}}zs.hover=wN.default;zs.handleHover=wN.default;zs.handleActive=D4e.default;zs.loop=R4e.default;var L4e=zs.ReactCSS=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=(0,B4e.default)(r),s=(0,I4e.default)(n,o);return(0,K4e.default)(s)};zs.default=L4e;var z4e=I8,j4e=tb;function W4e(e,n,t){(t!==void 0&&!j4e(e[n],t)||t===void 0&&!(n in e))&&z4e(e,n,t)}var MN=W4e,N4e=Yy,G4e=Ef;function Q4e(e){return G4e(e)&&N4e(e)}var $4e=Q4e;function Y4e(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var SN=Y4e,q4e=rb,V4e=ib;function H4e(e){return q4e(e,V4e(e))}var Z4e=H4e,NK=MN,X4e=pN,J4e=yN,e5e=mN,t5e=vN,GK=m8,QK=Uc,n5e=$4e,r5e=D5,i5e=x8,o5e=xd,a5e=YW,s5e=_8,$K=SN,l5e=Z4e;function u5e(e,n,t,r,i,o,s){var a=$K(e,t),p=$K(n,t),g=s.get(p);if(g){NK(e,t,g);return}var b=o?o(a,p,t+"",e,n,s):void 0,B=b===void 0;if(B){var k=QK(p),P=!k&&r5e(p),R=!k&&!P&&s5e(p);b=p,k||P||R?QK(a)?b=a:n5e(a)?b=e5e(a):P?(B=!1,b=X4e(p,!0)):R?(B=!1,b=J4e(p,!0)):b=[]:a5e(p)||GK(p)?(b=a,GK(a)?b=l5e(a):(!o5e(a)||i5e(a))&&(b=t5e(p))):B=!1}B&&(s.set(p,b),i(b,p,r,o,s),s.delete(p)),NK(e,t,b)}var A5e=u5e,c5e=W5,d5e=MN,h5e=zW,f5e=A5e,p5e=xd,m5e=ib,g5e=SN;function EN(e,n,t,r,i){e!==n&&h5e(n,function(o,s){if(i||(i=new c5e),p5e(o))f5e(e,n,s,t,EN,r,i);else{var a=r?r(g5e(e,s),o,s+"",e,n,i):void 0;a===void 0&&(a=o),d5e(e,s,a)}},m5e)}var y5e=EN;function v5e(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var C5e=v5e,_5e=C5e,YK=Math.max;function b5e(e,n,t){return n=YK(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=YK(r.length-n,0),s=Array(o);++i<o;)s[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=t(s),_5e(e,this,a)}}var x5e=b5e;function w5e(e){return function(){return e}}var M5e=w5e,S5e=M5e,qK=hN,E5e=U5,O5e=qK?function(e,n){return qK(e,"toString",{configurable:!0,enumerable:!1,value:S5e(n),writable:!0})}:E5e,B5e=O5e,k5e=800,I5e=16,T5e=Date.now;function K5e(e){var n=0,t=0;return function(){var r=T5e(),i=I5e-(r-t);if(t=r,i>0){if(++n>=k5e)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}var P5e=K5e,F5e=B5e,D5e=P5e,U5e=D5e(F5e),R5e=U5e,L5e=U5,z5e=x5e,j5e=R5e;function W5e(e,n){return j5e(z5e(e,n,L5e),e+"")}var N5e=W5e,G5e=tb,Q5e=Yy,$5e=g8,Y5e=xd;function q5e(e,n,t){if(!Y5e(t))return!1;var r=typeof n;return(r=="number"?Q5e(t)&&$5e(n,t.length):r=="string"&&n in t)?G5e(t[n],e):!1}var V5e=q5e,H5e=N5e,Z5e=V5e;function X5e(e){return H5e(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&Z5e(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var a=t[r];a&&e(n,a,r,o)}return n})}var J5e=X5e,ewe=y5e,twe=J5e,nwe=twe(function(e,n,t){ewe(e,n,t)}),ON=nwe,P8={},lb={},F8={};Object.defineProperty(F8,"__esModule",{value:!0});F8.calculateChange=function(n,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,p=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,g=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,b=p-(o.getBoundingClientRect().left+window.pageXOffset),B=g-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var k=void 0;if(B<0?k=0:B>a?k=1:k=Math.round(B*100/a)/100,t.a!==k)return{h:t.h,s:t.s,l:t.l,a:k,source:"rgb"}}else{var P=void 0;if(b<0?P=0:b>s?P=1:P=Math.round(b*100/s)/100,i!==P)return{h:t.h,s:t.s,l:t.l,a:P,source:"rgb"}}return null};var w1={},Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});var XM={},rwe=Y5.render=function(n,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=n,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};Y5.get=function(n,t,r,i){var o=n+"-"+t+"-"+r+(i?"-server":"");if(XM[o])return XM[o];var s=rwe(n,t,r,i);return XM[o]=s,s};Object.defineProperty(w1,"__esModule",{value:!0});w1.Checkboard=void 0;var VK=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},BN=Sr,HK=kN(BN),iwe=zs,owe=kN(iwe),awe=Y5,swe=lwe(awe);function lwe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function kN(e){return e&&e.__esModule?e:{default:e}}var IN=w1.Checkboard=function(n){var t=n.white,r=n.grey,i=n.size,o=n.renderers,s=n.borderRadius,a=n.boxShadow,p=n.children,g=(0,owe.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+swe.get(t,r,i,o.canvas)+") center left"}}});return(0,BN.isValidElement)(p)?HK.default.cloneElement(p,VK({},p.props,{style:VK({},p.props.style,g.grid)})):HK.default.createElement("div",{style:g.grid})};IN.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};w1.default=IN;Object.defineProperty(lb,"__esModule",{value:!0});lb.Alpha=void 0;var uwe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Awe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),VE=Sr,tm=D8(VE),cwe=zs,dwe=D8(cwe),hwe=F8,fwe=gwe(hwe),pwe=w1,mwe=D8(pwe);function gwe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function D8(e){return e&&e.__esModule?e:{default:e}}function ywe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function vwe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Cwe=lb.Alpha=function(e){vwe(n,e);function n(){var t,r,i,o;ywe(this,n);for(var s=arguments.length,a=Array(s),p=0;p<s;p++)a[p]=arguments[p];return o=(r=(i=ZK(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),i),i.handleChange=function(g){var b=fwe.calculateChange(g,i.props.hsl,i.props.direction,i.props.a,i.container);b&&typeof i.props.onChange=="function"&&i.props.onChange(b,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),ZK(i,o)}return Awe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,dwe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:uwe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return tm.default.createElement("div",{style:o.alpha},tm.default.createElement("div",{style:o.checkboard},tm.default.createElement(mwe.default,{renderers:this.props.renderers})),tm.default.createElement("div",{style:o.gradient}),tm.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},tm.default.createElement("div",{style:o.pointer},this.props.pointer?tm.default.createElement(this.props.pointer,this.props):tm.default.createElement("div",{style:o.slider}))))}}]),n}(VE.PureComponent||VE.Component);lb.default=Cwe;var ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.EditableInput=void 0;var _we=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),HE=Sr,JM=TN(HE),bwe=zs,xwe=TN(bwe);function TN(e){return e&&e.__esModule?e:{default:e}}function wwe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Mwe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Swe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ewe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Owe=1,KN=38,Bwe=40,kwe=[KN,Bwe],Iwe=function(n){return kwe.indexOf(n)>-1},Twe=function(n){return Number(String(n).replace(/%/g,""))},Kwe=1,Pwe=ub.EditableInput=function(e){Ewe(n,e);function n(t){Mwe(this,n);var r=Swe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=Twe(i.target.value);if(!isNaN(o)&&Iwe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===KN?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+Kwe++,r}return _we(n,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return wwe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Owe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,xwe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return JM.default.createElement("div",{style:i.wrap},JM.default.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?JM.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(HE.PureComponent||HE.Component);ub.default=Pwe;var Ab={},U8={};Object.defineProperty(U8,"__esModule",{value:!0});U8.calculateChange=function(n,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,p=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(i.getBoundingClientRect().left+window.pageXOffset),b=p-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var B=void 0;if(b<0)B=359;else if(b>s)B=0;else{var k=-(b*100/s)+100;B=360*k/100}if(r.h!==B)return{h:B,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var P=void 0;if(g<0)P=0;else if(g>o)P=359;else{var R=g*100/o;P=360*R/100}if(r.h!==P)return{h:P,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.Hue=void 0;var Fwe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),ZE=Sr,hg=PN(ZE),Dwe=zs,Uwe=PN(Dwe),Rwe=U8,Lwe=zwe(Rwe);function zwe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function PN(e){return e&&e.__esModule?e:{default:e}}function jwe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function XK(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Wwe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Nwe=Ab.Hue=function(e){Wwe(n,e);function n(){var t,r,i,o;jwe(this,n);for(var s=arguments.length,a=Array(s),p=0;p<s;p++)a[p]=arguments[p];return o=(r=(i=XK(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),i),i.handleChange=function(g){var b=Lwe.calculateChange(g,i.props.direction,i.props.hsl,i.container);b&&typeof i.props.onChange=="function"&&i.props.onChange(b,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),XK(i,o)}return Fwe(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,Uwe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return hg.default.createElement("div",{style:s.hue},hg.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},hg.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),hg.default.createElement("div",{style:s.pointer},this.props.pointer?hg.default.createElement(this.props.pointer,this.props):hg.default.createElement("div",{style:s.slider}))))}}]),n}(ZE.PureComponent||ZE.Component);Ab.default=Nwe;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});cb.Raised=void 0;var Gwe=Sr,eS=q5(Gwe),Qwe=uh,Gx=q5(Qwe),$we=zs,Ywe=q5($we),qwe=ON,Vwe=q5(qwe);function q5(e){return e&&e.__esModule?e:{default:e}}var R8=cb.Raised=function(n){var t=n.zDepth,r=n.radius,i=n.background,o=n.children,s=n.styles,a=s===void 0?{}:s,p=(0,Ywe.default)((0,Vwe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return eS.default.createElement("div",{style:p.wrap},eS.default.createElement("div",{style:p.bg}),eS.default.createElement("div",{style:p.content},o))};R8.propTypes={background:Gx.default.string,zDepth:Gx.default.oneOf([0,1,2,3,4,5]),radius:Gx.default.number,styles:Gx.default.object};R8.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};cb.default=R8;var db={},Hwe=ch,Zwe=function(){return Hwe.Date.now()},Xwe=Zwe,Jwe=/\s/;function eMe(e){for(var n=e.length;n--&&Jwe.test(e.charAt(n)););return n}var tMe=eMe,nMe=tMe,rMe=/^\s+/;function iMe(e){return e&&e.slice(0,nMe(e)+1).replace(rMe,"")}var oMe=iMe,aMe=oMe,JK=xd,sMe=G5,eP=NaN,lMe=/^[-+]0x[0-9a-f]+$/i,uMe=/^0b[01]+$/i,AMe=/^0o[0-7]+$/i,cMe=parseInt;function dMe(e){if(typeof e=="number")return e;if(sMe(e))return eP;if(JK(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=JK(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=aMe(e);var t=uMe.test(e);return t||AMe.test(e)?cMe(e.slice(2),t?2:8):lMe.test(e)?eP:+e}var hMe=dMe,fMe=xd,tS=Xwe,tP=hMe,pMe="Expected a function",mMe=Math.max,gMe=Math.min;function yMe(e,n,t){var r,i,o,s,a,p,g=0,b=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(pMe);n=tP(n)||0,fMe(t)&&(b=!!t.leading,B="maxWait"in t,o=B?mMe(tP(t.maxWait)||0,n):o,k="trailing"in t?!!t.trailing:k);function P(se){var le=r,ye=i;return r=i=void 0,g=se,s=e.apply(ye,le),s}function R(se){return g=se,a=setTimeout(Q,n),b?P(se):s}function Z(se){var le=se-p,ye=se-g,De=n-le;return B?gMe(De,o-ye):De}function W(se){var le=se-p,ye=se-g;return p===void 0||le>=n||le<0||B&&ye>=o}function Q(){var se=tS();if(W(se))return q(se);a=setTimeout(Q,Z(se))}function q(se){return a=void 0,k&&r?P(se):(r=i=void 0,s)}function oe(){a!==void 0&&clearTimeout(a),g=0,r=p=i=a=void 0}function re(){return a===void 0?s:q(tS())}function ce(){var se=tS(),le=W(se);if(r=arguments,i=this,p=se,le){if(a===void 0)return R(p);if(B)return clearTimeout(a),a=setTimeout(Q,n),P(p)}return a===void 0&&(a=setTimeout(Q,n)),s}return ce.cancel=oe,ce.flush=re,ce}var FN=yMe,vMe=FN,CMe=xd,_Me="Expected a function";function bMe(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(_Me);return CMe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),vMe(e,n,{leading:r,maxWait:n,trailing:i})}var xMe=bMe,L8={};Object.defineProperty(L8,"__esModule",{value:!0});L8.calculateChange=function(n,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,p=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,g=a-(r.getBoundingClientRect().left+window.pageXOffset),b=p-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),b<0?b=0:b>s&&(b=s);var B=g/o,k=1-b/s;return{h:t.h,s:B,v:k,a:t.a,source:"hsv"}};Object.defineProperty(db,"__esModule",{value:!0});db.Saturation=void 0;var wMe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),XE=Sr,C0=z8(XE),MMe=zs,SMe=z8(MMe),EMe=xMe,OMe=z8(EMe),BMe=L8,kMe=IMe(BMe);function IMe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function z8(e){return e&&e.__esModule?e:{default:e}}function TMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function KMe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function PMe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var FMe=db.Saturation=function(e){PMe(n,e);function n(t){TMe(this,n);var r=KMe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,kMe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,OMe.default)(function(i,o,s){i(o,s)},50),r}return wMe(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,p=i.pointer,g=i.circle,b=(0,SMe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:p,circle:g}},{custom:!!this.props.style});return C0.default.createElement("div",{style:b.color,ref:function(k){return r.container=k},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},C0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),C0.default.createElement("div",{style:b.white,className:"saturation-white"},C0.default.createElement("div",{style:b.black,className:"saturation-black"}),C0.default.createElement("div",{style:b.pointer},this.props.pointer?C0.default.createElement(this.props.pointer,this.props):C0.default.createElement("div",{style:b.circle}))))}}]),n}(XE.PureComponent||XE.Component);db.default=FMe;var hb={},pA={},DMe=dN,UMe=cN,RMe=QW,LMe=Uc;function zMe(e,n){var t=LMe(e)?DMe:UMe;return t(e,RMe(n))}var jMe=zMe,WMe=jMe,DN={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(_f,function(){function t(Me){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},t(Me)}var r=/^\s+/,i=/\s+$/;function o(Me,he){if(Me=Me||"",he=he||{},Me instanceof o)return Me;if(!(this instanceof o))return new o(Me,he);var be=s(Me);this._originalInput=Me,this._r=be.r,this._g=be.g,this._b=be.b,this._a=be.a,this._roundA=Math.round(100*this._a)/100,this._format=he.format||be.format,this._gradientType=he.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=be.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var he=this.toRgb();return(he.r*299+he.g*587+he.b*114)/1e3},getLuminance:function(){var he=this.toRgb(),be,Pe,Ze,nt,xt,Ft;return be=he.r/255,Pe=he.g/255,Ze=he.b/255,be<=.03928?nt=be/12.92:nt=Math.pow((be+.055)/1.055,2.4),Pe<=.03928?xt=Pe/12.92:xt=Math.pow((Pe+.055)/1.055,2.4),Ze<=.03928?Ft=Ze/12.92:Ft=Math.pow((Ze+.055)/1.055,2.4),.2126*nt+.7152*xt+.0722*Ft},setAlpha:function(he){return this._a=rt(he),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var he=b(this._r,this._g,this._b);return{h:he.h*360,s:he.s,v:he.v,a:this._a}},toHsvString:function(){var he=b(this._r,this._g,this._b),be=Math.round(he.h*360),Pe=Math.round(he.s*100),Ze=Math.round(he.v*100);return this._a==1?"hsv("+be+", "+Pe+"%, "+Ze+"%)":"hsva("+be+", "+Pe+"%, "+Ze+"%, "+this._roundA+")"},toHsl:function(){var he=p(this._r,this._g,this._b);return{h:he.h*360,s:he.s,l:he.l,a:this._a}},toHslString:function(){var he=p(this._r,this._g,this._b),be=Math.round(he.h*360),Pe=Math.round(he.s*100),Ze=Math.round(he.l*100);return this._a==1?"hsl("+be+", "+Pe+"%, "+Ze+"%)":"hsla("+be+", "+Pe+"%, "+Ze+"%, "+this._roundA+")"},toHex:function(he){return k(this._r,this._g,this._b,he)},toHexString:function(he){return"#"+this.toHex(he)},toHex8:function(he){return P(this._r,this._g,this._b,this._a,he)},toHex8String:function(he){return"#"+this.toHex8(he)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ce(this._r,255)*100)+"%",g:Math.round(Ce(this._g,255)*100)+"%",b:Math.round(Ce(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%)":"rgba("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ft[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(he){var be="#"+R(this._r,this._g,this._b,this._a),Pe=be,Ze=this._gradientType?"GradientType = 1, ":"";if(he){var nt=o(he);Pe="#"+R(nt._r,nt._g,nt._b,nt._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ze+"startColorstr="+be+",endColorstr="+Pe+")"},toString:function(he){var be=!!he;he=he||this._format;var Pe=!1,Ze=this._a<1&&this._a>=0,nt=!be&&Ze&&(he==="hex"||he==="hex6"||he==="hex3"||he==="hex4"||he==="hex8"||he==="name");return nt?he==="name"&&this._a===0?this.toName():this.toRgbString():(he==="rgb"&&(Pe=this.toRgbString()),he==="prgb"&&(Pe=this.toPercentageRgbString()),(he==="hex"||he==="hex6")&&(Pe=this.toHexString()),he==="hex3"&&(Pe=this.toHexString(!0)),he==="hex4"&&(Pe=this.toHex8String(!0)),he==="hex8"&&(Pe=this.toHex8String()),he==="name"&&(Pe=this.toName()),he==="hsl"&&(Pe=this.toHslString()),he==="hsv"&&(Pe=this.toHsvString()),Pe||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(he,be){var Pe=he.apply(null,[this].concat([].slice.call(be)));return this._r=Pe._r,this._g=Pe._g,this._b=Pe._b,this.setAlpha(Pe._a),this},lighten:function(){return this._applyModification(q,arguments)},brighten:function(){return this._applyModification(oe,arguments)},darken:function(){return this._applyModification(re,arguments)},desaturate:function(){return this._applyModification(Z,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(Q,arguments)},spin:function(){return this._applyModification(ce,arguments)},_applyCombination:function(he,be){return he.apply(null,[this].concat([].slice.call(be)))},analogous:function(){return this._applyCombination(De,arguments)},complement:function(){return this._applyCombination(se,arguments)},monochromatic:function(){return this._applyCombination(Ne,arguments)},splitcomplement:function(){return this._applyCombination(ye,arguments)},triad:function(){return this._applyCombination(le,[3])},tetrad:function(){return this._applyCombination(le,[4])}},o.fromRatio=function(Me,he){if(t(Me)=="object"){var be={};for(var Pe in Me)Me.hasOwnProperty(Pe)&&(Pe==="a"?be[Pe]=Me[Pe]:be[Pe]=Je(Me[Pe]));Me=be}return o(Me,he)};function s(Me){var he={r:0,g:0,b:0},be=1,Pe=null,Ze=null,nt=null,xt=!1,Ft=!1;return typeof Me=="string"&&(Me=kt(Me)),t(Me)=="object"&&(dt(Me.r)&&dt(Me.g)&&dt(Me.b)?(he=a(Me.r,Me.g,Me.b),xt=!0,Ft=String(Me.r).substr(-1)==="%"?"prgb":"rgb"):dt(Me.h)&&dt(Me.s)&&dt(Me.v)?(Pe=Je(Me.s),Ze=Je(Me.v),he=B(Me.h,Pe,Ze),xt=!0,Ft="hsv"):dt(Me.h)&&dt(Me.s)&&dt(Me.l)&&(Pe=Je(Me.s),nt=Je(Me.l),he=g(Me.h,Pe,nt),xt=!0,Ft="hsl"),Me.hasOwnProperty("a")&&(be=Me.a)),be=rt(be),{ok:xt,format:Me.format||Ft,r:Math.min(255,Math.max(he.r,0)),g:Math.min(255,Math.max(he.g,0)),b:Math.min(255,Math.max(he.b,0)),a:be}}function a(Me,he,be){return{r:Ce(Me,255)*255,g:Ce(he,255)*255,b:Ce(be,255)*255}}function p(Me,he,be){Me=Ce(Me,255),he=Ce(he,255),be=Ce(be,255);var Pe=Math.max(Me,he,be),Ze=Math.min(Me,he,be),nt,xt,Ft=(Pe+Ze)/2;if(Pe==Ze)nt=xt=0;else{var Dt=Pe-Ze;switch(xt=Ft>.5?Dt/(2-Pe-Ze):Dt/(Pe+Ze),Pe){case Me:nt=(he-be)/Dt+(he<be?6:0);break;case he:nt=(be-Me)/Dt+2;break;case be:nt=(Me-he)/Dt+4;break}nt/=6}return{h:nt,s:xt,l:Ft}}function g(Me,he,be){var Pe,Ze,nt;Me=Ce(Me,360),he=Ce(he,100),be=Ce(be,100);function xt(pt,nr,pn){return pn<0&&(pn+=1),pn>1&&(pn-=1),pn<1/6?pt+(nr-pt)*6*pn:pn<1/2?nr:pn<2/3?pt+(nr-pt)*(2/3-pn)*6:pt}if(he===0)Pe=Ze=nt=be;else{var Ft=be<.5?be*(1+he):be+he-be*he,Dt=2*be-Ft;Pe=xt(Dt,Ft,Me+1/3),Ze=xt(Dt,Ft,Me),nt=xt(Dt,Ft,Me-1/3)}return{r:Pe*255,g:Ze*255,b:nt*255}}function b(Me,he,be){Me=Ce(Me,255),he=Ce(he,255),be=Ce(be,255);var Pe=Math.max(Me,he,be),Ze=Math.min(Me,he,be),nt,xt,Ft=Pe,Dt=Pe-Ze;if(xt=Pe===0?0:Dt/Pe,Pe==Ze)nt=0;else{switch(Pe){case Me:nt=(he-be)/Dt+(he<be?6:0);break;case he:nt=(be-Me)/Dt+2;break;case be:nt=(Me-he)/Dt+4;break}nt/=6}return{h:nt,s:xt,v:Ft}}function B(Me,he,be){Me=Ce(Me,360)*6,he=Ce(he,100),be=Ce(be,100);var Pe=Math.floor(Me),Ze=Me-Pe,nt=be*(1-he),xt=be*(1-Ze*he),Ft=be*(1-(1-Ze)*he),Dt=Pe%6,pt=[be,xt,nt,nt,Ft,be][Dt],nr=[Ft,be,be,xt,nt,nt][Dt],pn=[nt,nt,Ft,be,be,xt][Dt];return{r:pt*255,g:nr*255,b:pn*255}}function k(Me,he,be,Pe){var Ze=[He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16))];return Pe&&Ze[0].charAt(0)==Ze[0].charAt(1)&&Ze[1].charAt(0)==Ze[1].charAt(1)&&Ze[2].charAt(0)==Ze[2].charAt(1)?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0):Ze.join("")}function P(Me,he,be,Pe,Ze){var nt=[He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16)),He(tt(Pe))];return Ze&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)&&nt[3].charAt(0)==nt[3].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0)+nt[3].charAt(0):nt.join("")}function R(Me,he,be,Pe){var Ze=[He(tt(Pe)),He(Math.round(Me).toString(16)),He(Math.round(he).toString(16)),He(Math.round(be).toString(16))];return Ze.join("")}o.equals=function(Me,he){return!Me||!he?!1:o(Me).toRgbString()==o(he).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Z(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.s-=he/100,be.s=Rt(be.s),o(be)}function W(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.s+=he/100,be.s=Rt(be.s),o(be)}function Q(Me){return o(Me).desaturate(100)}function q(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.l+=he/100,be.l=Rt(be.l),o(be)}function oe(Me,he){he=he===0?0:he||10;var be=o(Me).toRgb();return be.r=Math.max(0,Math.min(255,be.r-Math.round(255*-(he/100)))),be.g=Math.max(0,Math.min(255,be.g-Math.round(255*-(he/100)))),be.b=Math.max(0,Math.min(255,be.b-Math.round(255*-(he/100)))),o(be)}function re(Me,he){he=he===0?0:he||10;var be=o(Me).toHsl();return be.l-=he/100,be.l=Rt(be.l),o(be)}function ce(Me,he){var be=o(Me).toHsl(),Pe=(be.h+he)%360;return be.h=Pe<0?360+Pe:Pe,o(be)}function se(Me){var he=o(Me).toHsl();return he.h=(he.h+180)%360,o(he)}function le(Me,he){if(isNaN(he)||he<=0)throw new Error("Argument to polyad must be a positive number");for(var be=o(Me).toHsl(),Pe=[o(Me)],Ze=360/he,nt=1;nt<he;nt++)Pe.push(o({h:(be.h+nt*Ze)%360,s:be.s,l:be.l}));return Pe}function ye(Me){var he=o(Me).toHsl(),be=he.h;return[o(Me),o({h:(be+72)%360,s:he.s,l:he.l}),o({h:(be+216)%360,s:he.s,l:he.l})]}function De(Me,he,be){he=he||6,be=be||30;var Pe=o(Me).toHsl(),Ze=360/be,nt=[o(Me)];for(Pe.h=(Pe.h-(Ze*he>>1)+720)%360;--he;)Pe.h=(Pe.h+Ze)%360,nt.push(o(Pe));return nt}function Ne(Me,he){he=he||6;for(var be=o(Me).toHsv(),Pe=be.h,Ze=be.s,nt=be.v,xt=[],Ft=1/he;he--;)xt.push(o({h:Pe,s:Ze,v:nt})),nt=(nt+Ft)%1;return xt}o.mix=function(Me,he,be){be=be===0?0:be||50;var Pe=o(Me).toRgb(),Ze=o(he).toRgb(),nt=be/100,xt={r:(Ze.r-Pe.r)*nt+Pe.r,g:(Ze.g-Pe.g)*nt+Pe.g,b:(Ze.b-Pe.b)*nt+Pe.b,a:(Ze.a-Pe.a)*nt+Pe.a};return o(xt)},o.readability=function(Me,he){var be=o(Me),Pe=o(he);return(Math.max(be.getLuminance(),Pe.getLuminance())+.05)/(Math.min(be.getLuminance(),Pe.getLuminance())+.05)},o.isReadable=function(Me,he,be){var Pe=o.readability(Me,he),Ze,nt;switch(nt=!1,Ze=Pt(be),Ze.level+Ze.size){case"AAsmall":case"AAAlarge":nt=Pe>=4.5;break;case"AAlarge":nt=Pe>=3;break;case"AAAsmall":nt=Pe>=7;break}return nt},o.mostReadable=function(Me,he,be){var Pe=null,Ze=0,nt,xt,Ft,Dt;be=be||{},xt=be.includeFallbackColors,Ft=be.level,Dt=be.size;for(var pt=0;pt<he.length;pt++)nt=o.readability(Me,he[pt]),nt>Ze&&(Ze=nt,Pe=o(he[pt]));return o.isReadable(Me,Pe,{level:Ft,size:Dt})||!xt?Pe:(be.includeFallbackColors=!1,o.mostReadable(Me,["#fff","#000"],be))};var et=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ft=o.hexNames=Ke(et);function Ke(Me){var he={};for(var be in Me)Me.hasOwnProperty(be)&&(he[Me[be]]=be);return he}function rt(Me){return Me=parseFloat(Me),(isNaN(Me)||Me<0||Me>1)&&(Me=1),Me}function Ce(Me,he){tn(Me)&&(Me="100%");var be=Qt(Me);return Me=Math.min(he,Math.max(0,parseFloat(Me))),be&&(Me=parseInt(Me*he,10)/100),Math.abs(Me-he)<1e-6?1:Me%he/parseFloat(he)}function Rt(Me){return Math.min(1,Math.max(0,Me))}function jt(Me){return parseInt(Me,16)}function tn(Me){return typeof Me=="string"&&Me.indexOf(".")!=-1&&parseFloat(Me)===1}function Qt(Me){return typeof Me=="string"&&Me.indexOf("%")!=-1}function He(Me){return Me.length==1?"0"+Me:""+Me}function Je(Me){return Me<=1&&(Me=Me*100+"%"),Me}function tt(Me){return Math.round(parseFloat(Me)*255).toString(16)}function rn(Me){return jt(Me)/255}var mt=function(){var Me="[-\\+]?\\d+%?",he="[-\\+]?\\d*\\.\\d+%?",be="(?:"+he+")|(?:"+Me+")",Pe="[\\s|\\(]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")\\s*\\)?",Ze="[\\s|\\(]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")[,|\\s]+("+be+")\\s*\\)?";return{CSS_UNIT:new RegExp(be),rgb:new RegExp("rgb"+Pe),rgba:new RegExp("rgba"+Ze),hsl:new RegExp("hsl"+Pe),hsla:new RegExp("hsla"+Ze),hsv:new RegExp("hsv"+Pe),hsva:new RegExp("hsva"+Ze),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function dt(Me){return!!mt.CSS_UNIT.exec(Me)}function kt(Me){Me=Me.replace(r,"").replace(i,"").toLowerCase();var he=!1;if(et[Me])Me=et[Me],he=!0;else if(Me=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var be;return(be=mt.rgb.exec(Me))?{r:be[1],g:be[2],b:be[3]}:(be=mt.rgba.exec(Me))?{r:be[1],g:be[2],b:be[3],a:be[4]}:(be=mt.hsl.exec(Me))?{h:be[1],s:be[2],l:be[3]}:(be=mt.hsla.exec(Me))?{h:be[1],s:be[2],l:be[3],a:be[4]}:(be=mt.hsv.exec(Me))?{h:be[1],s:be[2],v:be[3]}:(be=mt.hsva.exec(Me))?{h:be[1],s:be[2],v:be[3],a:be[4]}:(be=mt.hex8.exec(Me))?{r:jt(be[1]),g:jt(be[2]),b:jt(be[3]),a:rn(be[4]),format:he?"name":"hex8"}:(be=mt.hex6.exec(Me))?{r:jt(be[1]),g:jt(be[2]),b:jt(be[3]),format:he?"name":"hex"}:(be=mt.hex4.exec(Me))?{r:jt(be[1]+""+be[1]),g:jt(be[2]+""+be[2]),b:jt(be[3]+""+be[3]),a:rn(be[4]+""+be[4]),format:he?"name":"hex8"}:(be=mt.hex3.exec(Me))?{r:jt(be[1]+""+be[1]),g:jt(be[2]+""+be[2]),b:jt(be[3]+""+be[3]),format:he?"name":"hex"}:!1}function Pt(Me){var he,be;return Me=Me||{level:"AA",size:"small"},he=(Me.level||"AA").toUpperCase(),be=(Me.size||"small").toLowerCase(),he!=="AA"&&he!=="AAA"&&(he="AA"),be!=="small"&&be!=="large"&&(be="small"),{level:he,size:be}}return o})})(DN);var NMe=DN.exports;Object.defineProperty(pA,"__esModule",{value:!0});pA.isvalidColorString=pA.red=pA.getContrastingColor=pA.isValidHex=pA.toState=pA.simpleCheckForValidColor=void 0;var GMe=WMe,QMe=UN(GMe),$Me=NMe,o4=UN($Me);function UN(e){return e&&e.__esModule?e:{default:e}}pA.simpleCheckForValidColor=function(n){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,QMe.default)(t,function(o){if(n[o]&&(r+=1,isNaN(n[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(n[o])&&(i+=1)}}),r===i?n:!1};var YMe=pA.toState=function(n,t){var r=n.hex?(0,o4.default)(n.hex):(0,o4.default)(n),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var p=a==="000000"&&s.a===0;return{hsl:i,hex:p?"transparent":"#"+a,rgb:s,hsv:o,oldHue:n.h||t||i.h,source:n.source}};pA.isValidHex=function(n){if(n==="transparent")return!0;var t=String(n).charAt(0)==="#"?1:0;return n.length!==4+t&&n.length<7+t&&(0,o4.default)(n).isValid()};pA.getContrastingColor=function(n){if(!n)return"#fff";var t=YMe(n);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};pA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};pA.isvalidColorString=function(n,t){var r=n.replace("","");return(0,o4.default)(t+" ("+r+")")._ok};Object.defineProperty(hb,"__esModule",{value:!0});hb.ColorWrap=void 0;var qv=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qMe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),JE=Sr,VMe=RN(JE),HMe=FN,ZMe=RN(HMe),XMe=pA,fg=JMe(XMe);function JMe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function RN(e){return e&&e.__esModule?e:{default:e}}function eSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function tSe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function nSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var rSe=hb.ColorWrap=function(n){var t=function(r){nSe(i,r);function i(o){eSe(this,i);var s=tSe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,p){var g=fg.simpleCheckForValidColor(a);if(g){var b=fg.toState(a,a.h||s.state.oldHue);s.setState(b),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,b,p),s.props.onChange&&s.props.onChange(b,p)}},s.handleSwatchHover=function(a,p){var g=fg.simpleCheckForValidColor(a);if(g){var b=fg.toState(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(b,p)}},s.state=qv({},fg.toState(o.color,0)),s.debounce=(0,ZMe.default)(function(a,p,g){a(p,g)},100),s}return qMe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),VMe.default.createElement(n,qv({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return qv({},fg.toState(s.color,a.oldHue))}}]),i}(JE.PureComponent||JE.Component);return t.propTypes=qv({},n.propTypes),t.defaultProps=qv({},n.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};hb.default=rSe;var fb={},V5={};Object.defineProperty(V5,"__esModule",{value:!0});V5.handleFocus=void 0;var iSe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},oSe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),aSe=Sr,nS=sSe(aSe);function sSe(e){return e&&e.__esModule?e:{default:e}}function lSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nP(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function uSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}V5.handleFocus=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){uSe(i,r);function i(){var o,s,a,p;lSe(this,i);for(var g=arguments.length,b=Array(g),B=0;B<g;B++)b[B]=arguments[B];return p=(s=(a=nP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(b))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),nP(a,p)}return oSe(i,[{key:"render",value:function(){return nS.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},nS.default.createElement(n,iSe({},this.props,this.state)))}}]),i}(nS.default.Component)};Object.defineProperty(fb,"__esModule",{value:!0});fb.Swatch=void 0;var rP=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ASe=Sr,iP=j8(ASe),cSe=zs,dSe=j8(cSe),hSe=V5,fSe=w1,pSe=j8(fSe);function j8(e){return e&&e.__esModule?e:{default:e}}var mSe=13,gSe=fb.Swatch=function(n){var t=n.color,r=n.style,i=n.onClick,o=i===void 0?function(){}:i,s=n.onHover,a=n.title,p=a===void 0?t:a,g=n.children,b=n.focus,B=n.focusStyle,k=B===void 0?{}:B,P=t==="transparent",R=(0,dSe.default)({default:{swatch:rP({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,b?k:{})}}),Z=function(re){return o(t,re)},W=function(re){return re.keyCode===mSe&&o(t,re)},Q=function(re){return s(t,re)},q={};return s&&(q.onMouseOver=Q),iP.default.createElement("div",rP({style:R.swatch,onClick:Z,title:p,tabIndex:0,onKeyDown:W},q),g,P&&iP.default.createElement(pSe.default,{borderRadius:R.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};fb.default=(0,hSe.handleFocus)(gSe);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=lb;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return g(n).default}});var t=w1;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return g(t).default}});var r=ub;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return g(r).default}});var i=Ab;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return g(i).default}});var o=cb;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return g(o).default}});var s=db;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return g(s).default}});var a=hb;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return g(a).default}});var p=fb;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return g(p).default}});function g(b){return b&&b.__esModule?b:{default:b}}})(P8);var pb={};function ySe(e){return e===void 0}var vSe=ySe,W8={};Object.defineProperty(W8,"__esModule",{value:!0});var oP=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},CSe=Sr,aP=_Se(CSe);function _Se(e){return e&&e.__esModule?e:{default:e}}function bSe(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Qx=24;W8.default=function(e){var n=e.fill,t=n===void 0?"currentColor":n,r=e.width,i=r===void 0?Qx:r,o=e.height,s=o===void 0?Qx:o,a=e.style,p=a===void 0?{}:a,g=bSe(e,["fill","width","height","style"]);return aP.default.createElement("svg",oP({viewBox:"0 0 "+Qx+" "+Qx,style:oP({fill:t,width:i,height:s},p)},g),aP.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(pb,"__esModule",{value:!0});pb.ChromeFields=void 0;var xSe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),wSe=Sr,za=H5(wSe),MSe=zs,SSe=H5(MSe),ESe=pA,OSe=TSe(ESe),BSe=vSe,sP=H5(BSe),ep=P8,kSe=W8,ISe=H5(kSe);function TSe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function H5(e){return e&&e.__esModule?e:{default:e}}function KSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function PSe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function FSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var LN=pb.ChromeFields=function(e){FSe(n,e);function n(t){KSe(this,n);var r=PSe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?OSe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,sP.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,sP.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return xSe(n,[{key:"render",value:function(){var r=this,i=(0,SSe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),za.default.createElement("div",{style:i.alpha},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),za.default.createElement("div",{style:i.field},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),za.default.createElement("div",{style:i.alpha},za.default.createElement(ep.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),za.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,za.default.createElement("div",{style:i.toggle},za.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},za.default.createElement(ISe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),n}(za.default.Component);LN.defaultProps={view:"hex"};pb.default=LN;var mb={};Object.defineProperty(mb,"__esModule",{value:!0});mb.ChromePointer=void 0;var DSe=Sr,USe=zN(DSe),RSe=zs,LSe=zN(RSe);function zN(e){return e&&e.__esModule?e:{default:e}}var zSe=mb.ChromePointer=function(){var n=(0,LSe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return USe.default.createElement("div",{style:n.picker})};mb.default=zSe;var gb={};Object.defineProperty(gb,"__esModule",{value:!0});gb.ChromePointerCircle=void 0;var jSe=Sr,WSe=jN(jSe),NSe=zs,GSe=jN(NSe);function jN(e){return e&&e.__esModule?e:{default:e}}var QSe=gb.ChromePointerCircle=function(){var n=(0,GSe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return WSe.default.createElement("div",{style:n.picker})};gb.default=QSe;Object.defineProperty(F5,"__esModule",{value:!0});F5.Chrome=void 0;var $Se=Sr,fA=M1($Se),YSe=uh,pg=M1(YSe),qSe=zs,VSe=M1(qSe),HSe=ON,ZSe=M1(HSe),dC=P8,XSe=pb,JSe=M1(XSe),e6e=mb,lP=M1(e6e),t6e=gb,n6e=M1(t6e);function M1(e){return e&&e.__esModule?e:{default:e}}var N8=F5.Chrome=function(n){var t=n.width,r=n.onChange,i=n.disableAlpha,o=n.rgb,s=n.hsl,a=n.hsv,p=n.hex,g=n.renderers,b=n.styles,B=b===void 0?{}:b,k=n.className,P=k===void 0?"":k,R=n.defaultView,Z=(0,VSe.default)((0,ZSe.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},B),{disableAlpha:i});return fA.default.createElement("div",{style:Z.picker,className:"chrome-picker "+P},fA.default.createElement("div",{style:Z.saturation},fA.default.createElement(dC.Saturation,{style:Z.Saturation,hsl:s,hsv:a,pointer:n6e.default,onChange:r})),fA.default.createElement("div",{style:Z.body},fA.default.createElement("div",{style:Z.controls,className:"flexbox-fix"},fA.default.createElement("div",{style:Z.color},fA.default.createElement("div",{style:Z.swatch},fA.default.createElement("div",{style:Z.active}),fA.default.createElement(dC.Checkboard,{renderers:g}))),fA.default.createElement("div",{style:Z.toggles},fA.default.createElement("div",{style:Z.hue},fA.default.createElement(dC.Hue,{style:Z.Hue,hsl:s,pointer:lP.default,onChange:r})),fA.default.createElement("div",{style:Z.alpha},fA.default.createElement(dC.Alpha,{style:Z.Alpha,rgb:o,hsl:s,pointer:lP.default,renderers:g,onChange:r})))),fA.default.createElement(JSe.default,{rgb:o,hsl:s,hex:p,view:R,onChange:r,disableAlpha:i})))};N8.propTypes={width:pg.default.oneOfType([pg.default.string,pg.default.number]),disableAlpha:pg.default.bool,styles:pg.default.object,defaultView:pg.default.oneOf(["hex","rgb","hsl"])};N8.defaultProps={width:225,disableAlpha:!1,styles:{}};var r6e=F5.default=(0,dC.ColorWrap)(N8);function ci(){var e="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",n="cb6d03ea084207ffce2f89af246bc26074c13af7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ci=function(){return s},s}ci();function i6e(e){ci().f[0]++;const n=(ci().s[0]++,e.rgb);return ci().s[1]++,`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`}class WN extends xn.Component{constructor(t){ci().f[1]++,ci().s[4]++;super(t);nn(this,"state",(ci().s[2]++,{pickerOpened:!1}));nn(this,"colorInput",(ci().s[3]++,null));nn(this,"calcPickerOffset",(ci().s[7]++,()=>{ci().f[3]++;const t=(ci().s[8]++,this.colorInput);if(ci().s[9]++,t){ci().b[0][0]++;const r=(ci().s[10]++,t.getBoundingClientRect());return ci().s[11]++,{top:r.top,left:r.left+196}}else return ci().b[0][1]++,ci().s[12]++,{top:160,left:555}}));nn(this,"togglePicker",(ci().s[13]++,()=>{ci().f[4]++,ci().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));ci().s[5]++,this.onChangeNoCheck=f6.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(t){ci().f[2]++,ci().s[6]++,this.props.onChange(t)}get color(){ci().f[5]++,ci().s[15]++;try{return ci().s[16]++,F6(this.props.value).rgb()}catch(t){return ci().s[17]++,console.warn("Error parsing color: ",t),ci().s[18]++,F6("rgb(255,255,255)")}}onChange(t){ci().f[6]++,ci().s[19]++,this.props.onChange(t===""?(ci().b[1][0]++,void 0):(ci().b[1][1]++,t))}render(){ci().f[7]++;const t=(ci().s[20]++,this.calcPickerOffset()),r=(ci().s[21]++,this.color.object()),i=(ci().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(ci().s[23]++,N.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:t.left,top:t.top},children:[N.jsx(r6e,{color:i,onChange:a=>(ci().f[8]++,ci().s[24]++,this.onChangeNoCheck(i6e(a)))}),N.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),s=(ci().s[25]++,{backgroundColor:this.props.value});return ci().s[26]++,N.jsxs("div",{className:"maputnik-color-wrapper",children:[(ci().b[2][0]++,this.state.pickerOpened&&(ci().b[2][1]++,o)),N.jsx("div",{className:"maputnik-color-swatch",style:s}),N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:a=>(ci().f[9]++,ci().s[27]++,this.colorInput=a),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(ci().b[3][0]++,this.props.value):(ci().b[3][1]++,""),onChange:a=>(ci().f[10]++,ci().s[28]++,this.onChange(a.target.value))})]})}}function zt(){var e="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",n="6f326a25e01ec46339f6b8716575d23b39d5290d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:50}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:50}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA2Ka,SACL,KADK;AA3Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AAuB7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,KAAK,MAAM,YAAa;AAClC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f326a25e01ec46339f6b8716575d23b39d5290d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return zt=function(){return s},s}zt();class Cf extends xn.Component{constructor(t){zt().f[0]++,zt().s[2]++;super(t);nn(this,"_keyboardEvent",(zt().s[1]++,!1));nn(this,"resetValue",(zt().s[26]++,()=>{if(zt().f[4]++,zt().s[27]++,this.setState({editing:!1}),zt().s[28]++,this.state.value)zt().b[16][1]++;else{zt().b[16][0]++,zt().s[29]++;return}zt().s[30]++,this.isValid(this.state.value)?zt().b[17][1]++:(zt().b[17][0]++,zt().s[31]++,this.isValid(this.props.value)?(zt().b[18][0]++,zt().s[32]++,this.changeValue(this.props.value),zt().s[33]++,this.setState({dirtyValue:this.props.value})):(zt().b[18][1]++,zt().s[34]++,this.changeValue(void 0),zt().s[35]++,this.setState({dirtyValue:void 0})))}));nn(this,"onChangeRange",(zt().s[36]++,t=>{zt().f[5]++;let r=(zt().s[37]++,parseFloat(t.target.value));const i=(zt().s[38]++,this.props.rangeStep);let o=(zt().s[39]++,r);if(zt().s[40]++,i){zt().b[19][0]++;const s=(zt().s[41]++,r%i);zt().s[42]++,this._keyboardEvent?(zt().b[20][0]++,zt().s[43]++,r<this.state.dirtyValue?(zt().b[21][0]++,zt().s[44]++,r=this.state.value-i):(zt().b[21][1]++,zt().s[45]++,r=this.state.value+i),zt().s[46]++,o=r):(zt().b[20][1]++,zt().s[47]++,s<i/2?(zt().b[22][0]++,zt().s[48]++,r=r-s):(zt().b[22][1]++,zt().s[49]++,r=r+(i-s)))}else zt().b[19][1]++;zt().s[50]++,this._keyboardEvent=!1,zt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),zt().s[52]++,this.setState({value:r,dirtyValue:o}),zt().s[53]++,this.props.onChange?(zt().b[23][0]++,zt().s[54]++,this.props.onChange(r)):zt().b[23][1]++}));zt().s[3]++,this.state={uuid:+By(),editing:!1,value:t.value,dirtyValue:t.value}}static getDerivedStateFromProps(t,r){return zt().f[1]++,zt().s[4]++,zt().b[1][0]++,!r.editing&&(zt().b[1][1]++,t.value!==r.value)?(zt().b[0][0]++,zt().s[5]++,{value:t.value,dirtyValue:t.value}):(zt().b[0][1]++,zt().s[6]++,null)}changeValue(t){zt().f[2]++;const r=(zt().s[7]++,zt().b[3][0]++,t===""||(zt().b[3][1]++,t===void 0)?(zt().b[2][0]++,void 0):(zt().b[2][1]++,+t)),i=(zt().s[8]++,this.props.value!==r);zt().s[9]++,zt().b[5][0]++,this.isValid(r)&&(zt().b[5][1]++,i)?(zt().b[4][0]++,zt().s[10]++,this.props.onChange?(zt().b[6][0]++,zt().s[11]++,this.props.onChange(r)):zt().b[6][1]++,zt().s[12]++,this.setState({value:r})):(zt().b[4][1]++,zt().s[13]++,zt().b[8][0]++,!this.isValid(r)&&(zt().b[8][1]++,i)?(zt().b[7][0]++,zt().s[14]++,this.setState({value:void 0})):zt().b[7][1]++),zt().s[15]++,this.setState({dirtyValue:t===""?(zt().b[9][0]++,void 0):(zt().b[9][1]++,r)})}isValid(t){if(zt().f[3]++,zt().s[16]++,t===void 0)return zt().b[10][0]++,zt().s[17]++,!0;zt().b[10][1]++;const r=(zt().s[18]++,+t);return zt().s[19]++,isNaN(r)?(zt().b[11][0]++,zt().s[20]++,!1):(zt().b[11][1]++,zt().s[21]++,zt().b[13][0]++,!isNaN(this.props.min)&&(zt().b[13][1]++,r<this.props.min)?(zt().b[12][0]++,zt().s[22]++,!1):(zt().b[12][1]++,zt().s[23]++,zt().b[15][0]++,!isNaN(this.props.max)&&(zt().b[15][1]++,r>this.props.max)?(zt().b[14][0]++,zt().s[24]++,!1):(zt().b[14][1]++,zt().s[25]++,!0)))}render(){var t,r;if(zt().f[6]++,zt().s[55]++,zt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(zt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(zt().b[25][2]++,this.props.min!==void 0)&&(zt().b[25][3]++,this.props.max!==void 0)&&(zt().b[25][4]++,this.props.allowRange)){zt().b[24][0]++;const i=(zt().s[56]++,this.state.editing?(zt().b[26][0]++,this.state.dirtyValue):(zt().b[26][1]++,this.state.value)),o=(zt().s[57]++,this.props.default===void 0?(zt().b[27][0]++,""):(zt().b[27][1]++,this.props.default));let s;return zt().s[58]++,this.state.editingRange?(zt().b[28][0]++,zt().s[59]++,s=this.state.value):(zt().b[28][1]++,zt().s[60]++,s=i),zt().s[61]++,N.jsxs("div",{className:"maputnik-number-container",children:[N.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(zt().b[29][0]++,o):(zt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{zt().f[7]++,zt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{zt().f[8]++,zt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{zt().f[9]++,zt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{zt().f[10]++,zt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),N.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(t=this.props.default)==null?void 0:t.toString(),value:s===void 0?(zt().b[30][0]++,""):(zt().b[30][1]++,s),onFocus:a=>{zt().f[11]++,zt().s[66]++,this.setState({editing:!0})},onChange:a=>{zt().f[12]++,zt().s[67]++,this.changeValue(a.target.value)},onBlur:a=>{zt().f[13]++,zt().s[68]++,this.setState({editing:!1}),zt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{zt().b[24][1]++;const i=(zt().s[70]++,this.state.editing?(zt().b[31][0]++,this.state.dirtyValue):(zt().b[31][1]++,this.state.value));return zt().s[71]++,N.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(zt().b[32][0]++,""):(zt().b[32][1]++,i),onChange:o=>(zt().f[14]++,zt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{zt().f[15]++,zt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}nn(Cf,"defaultProps",(zt().s[0]++,{rangeStep:1}));function Vh(){var e="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",n="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vh=function(){return s},s}Vh();class G8 extends xn.Component{constructor(){super(...arguments);nn(this,"onChange",(Vh().s[1]++,()=>{Vh().f[0]++,Vh().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Vh().f[1]++,Vh().s[3]++,N.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[N.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),N.jsx("div",{className:"maputnik-checkbox-box",children:N.jsx("svg",{style:{display:this.props.value?(Vh().b[0][0]++,"inline"):(Vh().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:N.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}nn(G8,"defaultProps",(Vh().s[0]++,{value:!1}));function fr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",n="b22e3e5f460e97aba4bdc54843ce7e77423f5b07",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b22e3e5f460e97aba4bdc54843ce7e77423f5b07"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return fr=function(){return s},s}fr();var yS;let NN=(yS=class extends xn.Component{constructor(n){fr().f[0]++,fr().s[1]++,super(n),fr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(n,t){fr().f[1]++;const r=(fr().s[3]++,[]),i=(fr().s[4]++,t.initialPropsValue.slice(0));return fr().s[5]++,Array(n.length).fill(null).map((o,s)=>{fr().f[2]++,fr().s[6]++,n.value[s]===t.initialPropsValue[s]?(fr().b[0][0]++,fr().s[7]++,r[s]=t.value[s]):(fr().b[0][1]++,fr().s[8]++,r[s]=t.value[s],fr().s[9]++,i[s]=t.value[s])}),fr().s[10]++,{value:r,initialPropsValue:i}}isComplete(n){return fr().f[3]++,fr().s[11]++,Array(this.props.length).fill(null).every((t,r)=>{fr().f[4]++;const i=(fr().s[12]++,n[r]);return fr().s[13]++,fr().b[1][0]++,!(i===void 0||(fr().b[1][1]++,i===""))})}changeValue(n,t){fr().f[5]++;const r=(fr().s[14]++,this.state.value.slice(0));fr().s[15]++,r[n]=t,fr().s[16]++,this.setState({value:r},()=>{fr().f[6]++,fr().s[17]++,fr().b[3][0]++,this.isComplete(r)&&(fr().b[3][1]++,this.props.onChange)?(fr().b[2][0]++,fr().s[18]++,this.props.onChange(r)):(fr().b[2][1]++,fr().s[19]++,this.props.onChange?(fr().b[4][0]++,fr().s[20]++,this.props.onChange(void 0)):fr().b[4][1]++)})}render(){fr().f[7]++;const{value:n}=(fr().s[21]++,this.state),t=(fr().s[22]++,fr().b[5][0]++,n.length>0&&(fr().b[5][1]++,!n.every(i=>(fr().f[8]++,fr().s[23]++,fr().b[6][0]++,i===""||(fr().b[6][1]++,i===void 0))))),r=(fr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(fr().f[9]++,fr().s[25]++,this.props.type==="number"?(fr().b[7][0]++,fr().s[26]++,N.jsx(Cf,{default:(fr().b[9][0]++,t||(fr().b[9][1]++,!this.props.default)?(fr().b[8][0]++,void 0):(fr().b[8][1]++,this.props.default[o])),value:n[o],required:t?(fr().b[10][0]++,!0):(fr().b[10][1]++,!1),onChange:s=>(fr().f[10]++,fr().s[27]++,this.changeValue(o,s)),"aria-label":(fr().b[11][0]++,this.props["aria-label"]||(fr().b[11][1]++,this.props.label))},o)):(fr().b[7][1]++,fr().s[28]++,N.jsx(vd,{default:(fr().b[13][0]++,t||(fr().b[13][1]++,!this.props.default)?(fr().b[12][0]++,void 0):(fr().b[12][1]++,this.props.default[o])),value:n[o],required:t?(fr().b[14][0]++,!0):(fr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(fr().b[15][0]++,this.props["aria-label"]||(fr().b[15][1]++,this.props.label))},o)))));return fr().s[29]++,N.jsx("div",{className:"maputnik-array",children:r})}},nn(yS,"defaultProps",(fr().s[0]++,{value:[],default:[]})),yS);function ll(){var e="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",n="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ll=function(){return s},s}ll();class o6e extends xn.Component{render(){ll().f[0]++;let n=(ll().s[0]++,this.props.options);ll().s[1]++,ll().b[1][0]++,n.length>0&&(ll().b[1][1]++,!Array.isArray(n[0]))?(ll().b[0][0]++,ll().s[2]++,n=n.map(i=>(ll().f[1]++,ll().s[3]++,[i,i]))):ll().b[0][1]++;const t=(ll().s[4]++,ll().b[2][0]++,this.props.value||(ll().b[2][1]++,n[0][0])),r=(ll().s[5]++,n.map(([i,o])=>(ll().f[2]++,ll().s[6]++,N.jsxs("label",{className:pf("maputnik-radio-as-button",{"maputnik-button-selected":i===t}),children:[N.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(ll().f[3]++,ll().s[7]++,this.props.onChange(i)),value:i,checked:i===t}),o]},i))));return ll().s[8]++,N.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function os(){var e="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",n="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return os=function(){return s},s}os();function a6e(e){os().f[0]++;let n=(os().s[0]++,0);return os().s[1]++,e.forEach(([t,r])=>{os().f[1]++,os().s[2]++,n+=r.length}),os().s[3]++,n}class Q8 extends xn.Component{render(){os().f[2]++;const{options:n,value:t,onChange:r,name:i,label:o}=(os().s[4]++,this.props);return os().s[5]++,os().b[1][0]++,n.length<=3&&(os().b[1][1]++,a6e(n)<=20)?(os().b[0][0]++,os().s[6]++,N.jsx(o6e,{name:i,options:n,value:(os().b[2][0]++,t||(os().b[2][1]++,this.props.default)),onChange:r,"aria-label":(os().b[3][0]++,this.props["aria-label"]||(os().b[3][1]++,o))})):(os().b[0][1]++,os().s[7]++,N.jsx(_1,{options:n,value:(os().b[4][0]++,t||(os().b[4][1]++,this.props.default)),onChange:r,"aria-label":(os().b[5][0]++,this.props["aria-label"]||(os().b[5][1]++,o))}))}}function a4(){var e="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",n="74f20da146753d9876d7a8eb2810e9f5402ba306",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74f20da146753d9876d7a8eb2810e9f5402ba306"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return a4=function(){return s},s}a4();class uP extends xn.Component{render(){return a4().f[0]++,a4().s[0]++,N.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Mi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",n="a46ad84e5c054cc551de3c721f37ad4b7c2acd0b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a46ad84e5c054cc551de3c721f37ad4b7c2acd0b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Mi=function(){return s},s}Mi();function rS(e){if(Mi().f[0]++,Mi().s[0]++,e===""){Mi().b[0][0]++,Mi().s[1]++;return}else Mi().b[0][1]++;let n;Mi().s[2]++;const t=o=>{Mi().f[1]++,Mi().s[3]++;try{const s=(Mi().s[4]++,new URL(o));return Mi().s[5]++,s.protocol}catch{Mi().s[6]++;return}},r=(Mi().s[7]++,t(e)),i=(Mi().s[8]++,window.location.protocol==="https:");return Mi().s[9]++,r?(Mi().b[1][1]++,Mi().s[11]++,Mi().b[4][0]++,r&&(Mi().b[4][1]++,r==="http:")&&(Mi().b[4][2]++,window.location.protocol==="https:")?(Mi().b[3][0]++,Mi().s[12]++,n=N.jsxs(uP,{children:["CORS policy won't allow fetching resources served over http from https, use a ",N.jsx("code",{children:"https://"})," domain"]})):Mi().b[3][1]++):(Mi().b[1][0]++,Mi().s[10]++,n=N.jsxs(uP,{children:["Must provide protocol ",i?(Mi().b[2][0]++,N.jsx("code",{children:"https://"})):(Mi().b[2][1]++,N.jsxs(N.Fragment,{children:[N.jsx("code",{children:"http://"})," or ",N.jsx("code",{children:"https://"})]}))]})),Mi().s[13]++,n}var vS;let $8=(vS=class extends xn.Component{constructor(t){Mi().f[3]++,Mi().s[15]++;super(t);nn(this,"onInput",(Mi().s[17]++,t=>{Mi().f[4]++,Mi().s[18]++,this.setState({error:rS(t)}),Mi().s[19]++,this.props.onInput?(Mi().b[5][0]++,Mi().s[20]++,this.props.onInput(t)):Mi().b[5][1]++}));nn(this,"onChange",(Mi().s[21]++,t=>{Mi().f[5]++,Mi().s[22]++,this.setState({error:rS(t)}),Mi().s[23]++,this.props.onChange(t)}));Mi().s[16]++,this.state={error:rS(t.value)}}render(){return Mi().f[6]++,Mi().s[24]++,N.jsxs("div",{children:[N.jsx(vd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},nn(vS,"defaultProps",(Mi().s[14]++,{onInput:()=>{Mi().f[2]++}})),vS);function lr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",n="a9b629853605b137778e6e7df9c6ca743543c2f4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9b629853605b137778e6e7df9c6ca743543c2f4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return lr=function(){return s},s}lr();let GN=class extends xn.Component{constructor(){super(...arguments);nn(this,"addValue",(lr().s[5]++,()=>{lr().f[2]++;const t=(lr().s[6]++,this.values.slice(0));if(lr().s[7]++,this.props.type==="number")lr().b[2][0]++,lr().s[8]++,t.push(0);else if(lr().b[2][1]++,lr().s[9]++,this.props.type==="url")lr().b[3][0]++,lr().s[10]++,t.push("");else if(lr().b[3][1]++,lr().s[11]++,this.props.type==="enum"){lr().b[4][0]++;const{fieldSpec:r}=(lr().s[12]++,this.props),i=(lr().s[13]++,Object.keys(r.values)[0]);lr().s[14]++,t.push(i)}else lr().b[4][1]++,lr().s[15]++,t.push("");lr().s[16]++,this.props.onChange?(lr().b[5][0]++,lr().s[17]++,this.props.onChange(t)):lr().b[5][1]++}))}changeValue(t,r){lr().f[0]++;const i=(lr().s[0]++,this.values.slice(0));lr().s[1]++,i[t]=r,lr().s[2]++,this.props.onChange?(lr().b[0][0]++,lr().s[3]++,this.props.onChange(i)):lr().b[0][1]++}get values(){return lr().f[1]++,lr().s[4]++,lr().b[1][0]++,this.props.value||(lr().b[1][1]++,this.props.default)||(lr().b[1][2]++,[])}deleteValue(t){lr().f[3]++;const r=(lr().s[18]++,this.values.slice(0));lr().s[19]++,r.splice(t,1),lr().s[20]++,this.props.onChange?(lr().b[6][0]++,lr().s[21]++,this.props.onChange(r.length>0?(lr().b[7][0]++,r):(lr().b[7][1]++,void 0))):lr().b[6][1]++}render(){lr().f[4]++;const t=(lr().s[22]++,this.values.map((r,i)=>{var a;lr().f[5]++;const o=(lr().s[23]++,N.jsx(s6e,{onClick:this.deleteValue.bind(this,i)}));let s;if(lr().s[24]++,this.props.type==="url")lr().b[8][0]++,lr().s[25]++,s=N.jsx($8,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[9][0]++,this.props["aria-label"]||(lr().b[9][1]++,this.props.label))});else if(lr().b[8][1]++,lr().s[26]++,this.props.type==="number")lr().b[10][0]++,lr().s[27]++,s=N.jsx(Cf,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[11][0]++,this.props["aria-label"]||(lr().b[11][1]++,this.props.label))});else if(lr().b[10][1]++,lr().s[28]++,this.props.type==="enum"){lr().b[12][0]++;const p=(lr().s[29]++,Object.keys((a=this.props.fieldSpec)==null?void 0:a.values).map(g=>(lr().f[6]++,lr().s[30]++,[g,f8(g)])));lr().s[31]++,s=N.jsx(Q8,{options:p,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[13][0]++,this.props["aria-label"]||(lr().b[13][1]++,this.props.label))})}else lr().b[12][1]++,lr().s[32]++,s=N.jsx(vd,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(lr().b[14][0]++,this.props["aria-label"]||(lr().b[14][1]++,this.props.label))});return lr().s[33]++,N.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[N.jsx("div",{className:"maputnik-array-block-action",children:o}),N.jsx("div",{className:"maputnik-array-block-content",children:s})]},i)}));return lr().s[34]++,N.jsxs("div",{className:"maputnik-array",children:[t,N.jsx(Ba,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class s6e extends xn.Component{render(){return lr().f[7]++,lr().s[35]++,N.jsx(Ba,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:N.jsx(KB,{label:N.jsx(zy,{})})})}}function qo(){var e="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",n="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qo=function(){return s},s}qo();class QN extends xn.Component{get values(){qo().f[0]++;const n=(qo().s[1]++,qo().b[0][0]++,this.props.value||(qo().b[0][1]++,this.props.default)||(qo().b[0][2]++,[]));return qo().s[2]++,n[n.length-1]!==""?(qo().b[1][0]++,qo().s[3]++,n.concat("")):(qo().b[1][1]++,qo().s[4]++,n)}changeFont(n,t){qo().f[1]++;const r=(qo().s[5]++,this.values.slice(0));qo().s[6]++,r[n]=t;const i=(qo().s[7]++,r.filter(o=>(qo().f[2]++,qo().s[8]++,o!==void 0)).filter(o=>(qo().f[3]++,qo().s[9]++,o!=="")));qo().s[10]++,this.props.onChange(i)}render(){qo().f[4]++;const n=(qo().s[11]++,this.values.map((t,r)=>{var i;return qo().f[5]++,qo().s[12]++,N.jsx("li",{children:N.jsx($y,{"aria-label":(qo().b[2][0]++,this.props["aria-label"]||(qo().b[2][1]++,this.props.name)),value:t,options:(i=this.props.fonts)==null?void 0:i.map(o=>(qo().f[6]++,qo().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return qo().s[14]++,N.jsx("ul",{className:"maputnik-font",children:n})}}nn(QN,"defaultProps",(qo().s[0]++,{fonts:[]}));function yi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",n="f1caee37f22e060a5d19e0dd557765702fdf5851",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:27,column:5}},2:{start:{line:25,column:30},end:{line:25,column:81}},3:{start:{line:28,column:4},end:{line:114,column:5}},4:{start:{line:30,column:8},end:{line:37,column:10}},5:{start:{line:39,column:24},end:{line:39,column:101}},6:{start:{line:39,column:82},end:{line:39,column:100}},7:{start:{line:40,column:8},end:{line:46,column:10}},8:{start:{line:51,column:8},end:{line:67,column:9}},9:{start:{line:52,column:26},end:{line:52,column:59}},10:{start:{line:53,column:10},end:{line:59,column:12}},11:{start:{line:57,column:42},end:{line:57,column:48}},12:{start:{line:61,column:10},end:{line:66,column:12}},13:{start:{line:69,column:8},end:{line:74,column:10}},14:{start:{line:76,column:8},end:{line:81,column:10}},15:{start:{line:83,column:8},end:{line:111,column:9}},16:{start:{line:84,column:10},end:{line:90,column:12}},17:{start:{line:92,column:10},end:{line:110,column:11}},18:{start:{line:93,column:12},end:{line:100,column:14}},19:{start:{line:102,column:12},end:{line:109,column:14}},20:{start:{line:113,column:8},end:{line:113,column:20}},21:{start:{line:117,column:4},end:{line:117,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:115,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:25,column:16},end:{line:25,column:17}},loc:{start:{line:25,column:30},end:{line:25,column:81}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:39,column:75},end:{line:39,column:76}},loc:{start:{line:39,column:82},end:{line:39,column:100}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:57,column:35},end:{line:57,column:36}},loc:{start:{line:57,column:42},end:{line:57,column:48}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:116,column:2},end:{line:116,column:3}},loc:{start:{line:116,column:11},end:{line:118,column:3}},line:116}},branchMap:{0:{loc:{start:{line:28,column:4},end:{line:114,column:5}},type:"switch",locations:[{start:{line:29,column:6},end:{line:37,column:10}},{start:{line:38,column:6},end:{line:47,column:7}},{start:{line:48,column:6},end:{line:48,column:27}},{start:{line:49,column:6},end:{line:49,column:23}},{start:{line:50,column:6},end:{line:67,column:9}},{start:{line:68,column:6},end:{line:74,column:10}},{start:{line:75,column:6},end:{line:81,column:10}},{start:{line:82,column:6},end:{line:111,column:9}},{start:{line:112,column:6},end:{line:113,column:20}}],line:28},1:{loc:{start:{line:39,column:36},end:{line:39,column:69}},type:"binary-expr",locations:[{start:{line:39,column:36},end:{line:39,column:63}},{start:{line:39,column:67},end:{line:39,column:69}}],line:39},2:{loc:{start:{line:51,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:67,column:9}},{start:{line:60,column:15},end:{line:67,column:9}}],line:51},3:{loc:{start:{line:52,column:26},end:{line:52,column:59}},type:"binary-expr",locations:[{start:{line:52,column:26},end:{line:52,column:53}},{start:{line:52,column:57},end:{line:52,column:59}}],line:52},4:{loc:{start:{line:83,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:111,column:9}},{start:{line:91,column:15},end:{line:111,column:9}}],line:83},5:{loc:{start:{line:92,column:10},end:{line:110,column:11}},type:"if",locations:[{start:{line:92,column:10},end:{line:110,column:11}},{start:{line:101,column:17},end:{line:110,column:11}}],line:92}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAwDM;AAxDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f1caee37f22e060a5d19e0dd557765702fdf5851"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return yi=function(){return s},s}yi();const l6e=(yi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let hy=class extends xn.Component{childNodes(){var t,r;yi().f[0]++;const n=(yi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(t=this.props.fieldSpec)==null?void 0:t.default,name:this.props.fieldName,onChange:i=>(yi().f[1]++,yi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(yi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return yi().b[0][0]++,yi().s[4]++,N.jsx(Cf,{...n,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":yi().b[0][1]++;{const i=(yi().s[5]++,Object.keys((yi().b[1][0]++,this.props.fieldSpec.values||(yi().b[1][1]++,[]))).map(o=>(yi().f[2]++,yi().s[6]++,[o,f8(o)])));return yi().s[7]++,N.jsx(Q8,{...n,options:i})}case"resolvedImage":yi().b[0][2]++;case"formatted":yi().b[0][3]++;case"string":if(yi().b[0][4]++,yi().s[8]++,l6e.indexOf(this.props.fieldName)>=0){yi().b[2][0]++;const i=(yi().s[9]++,yi().b[3][0]++,this.props.fieldSpec.values||(yi().b[3][1]++,[]));return yi().s[10]++,N.jsx($y,{...n,options:i.map(o=>(yi().f[3]++,yi().s[11]++,[o,o]))})}else return yi().b[2][1]++,yi().s[12]++,N.jsx(vd,{...n});case"color":return yi().b[0][5]++,yi().s[13]++,N.jsx(WN,{...n});case"boolean":return yi().b[0][6]++,yi().s[14]++,N.jsx(G8,{...n});case"array":return yi().b[0][7]++,yi().s[15]++,this.props.fieldName==="text-font"?(yi().b[4][0]++,yi().s[16]++,N.jsx(QN,{...n,fonts:this.props.fieldSpec.values})):(yi().b[4][1]++,yi().s[17]++,this.props.fieldSpec.length?(yi().b[5][0]++,yi().s[18]++,N.jsx(NN,{...n,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(yi().b[5][1]++,yi().s[19]++,N.jsx(GN,{...n,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return yi().b[0][8]++,yi().s[20]++,null}}render(){return yi().f[4]++,yi().s[21]++,N.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Rl(){var e="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",n="c96d18417df19ff6c7361e6bbaa2c1e3e999a238",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAA6B;AACpC,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c96d18417df19ff6c7361e6bbaa2c1e3e999a238"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Rl=function(){return s},s}Rl();class b_ extends xn.Component{constructor(t){Rl().f[0]++,Rl().s[0]++;super(t);nn(this,"_labelId");nn(this,"onToggleDoc",(Rl().s[3]++,t=>{Rl().f[1]++,Rl().s[4]++,this.setState({showDoc:t})}));Rl().s[1]++,this._labelId=By("fieldset_label_"),Rl().s[2]++,this.state={showDoc:!1}}render(){return Rl().f[2]++,Rl().s[5]++,N.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Rl().b[0][0]++,this.props.fieldSpec&&(Rl().b[0][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:N.jsx(KB,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Rl().b[1][0]++,!this.props.fieldSpec&&(Rl().b[1][1]++,N.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),N.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),N.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Rl().b[2][0]++,this.props.fieldSpec&&(Rl().b[2][1]++,N.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Rl().b[3][0]++,""):(Rl().b[3][1]++,"none")},children:N.jsx(PB,{fieldSpec:this.props.fieldSpec})})))]})}}function Lo(){var e="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",n="adadf49dc291f98804cd53f74e320ed51f276886",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Lo=function(){return s},s}Lo();const u6e=(Lo().s[0]++,{color:()=>(Lo().f[0]++,Lo().s[1]++,Po),enum:({fieldSpec:e})=>(Lo().f[1]++,Lo().s[2]++,Object.keys(e.values).length<=3?(Lo().b[0][0]++,b_):(Lo().b[0][1]++,Po)),boolean:()=>(Lo().f[2]++,Lo().s[3]++,Po),array:()=>(Lo().f[3]++,Lo().s[4]++,b_),resolvedImage:()=>(Lo().f[4]++,Lo().s[5]++,Po),number:()=>(Lo().f[5]++,Lo().s[6]++,Po),string:()=>(Lo().f[6]++,Lo().s[7]++,Po),formatted:()=>(Lo().f[7]++,Lo().s[8]++,Po),padding:()=>(Lo().f[8]++,Lo().s[9]++,Po)});class A6e extends xn.Component{render(){var i;Lo().f[9]++;const n=(Lo().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),t=(Lo().s[11]++,u6e[n]);let r;return Lo().s[12]++,t?(Lo().b[1][0]++,Lo().s[13]++,r=t(this.props)):(Lo().b[1][1]++,Lo().s[14]++,console.warn("No such type for '%s'",n),Lo().s[15]++,r=Po),Lo().s[16]++,N.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:N.jsx(hy,{...this.props})})}}function QA(){var e="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",n="fb167a16b2bc613f08e633cf4dc0232cee30b68f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb167a16b2bc613f08e633cf4dc0232cee30b68f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return QA=function(){return s},s}QA();class c6e extends xn.Component{render(){QA().f[0]++;let n,t,r;return QA().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(QA().b[0][0]++,QA().s[1]++,r=N.jsx(Ba,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:__})})}),QA().s[2]++,n=N.jsx(Ba,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:N.jsx(_J,{})}),QA().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(QA().b[1][0]++,QA().s[4]++,t=N.jsx(Ba,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:N.jsx(bJ,{})})):QA().b[1][1]++,QA().s[5]++,N.jsxs("div",{children:[r,t,n]})):(QA().b[0][1]++,QA().s[6]++,N.jsx("div",{children:r}))}}function Hh(){var e="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",n="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Hh=function(){return s},s}Hh();class $N extends xn.Component{render(){Hh().f[0]++;const{errors:n,fieldName:t,fieldType:r}=(Hh().s[1]++,this.props),i=(Hh().s[2]++,N.jsx(c6e,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(Hh().s[3]++,n[r+"."+t]);return Hh().s[4]++,N.jsx(A6e,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:P5((Hh().b[0][0]++,this.props.fieldName||(Hh().b[0][1]++,""))),action:i})}}nn($N,"defaultProps",(Hh().s[0]++,{errors:{}}));function $A(){var e="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",n="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return $A=function(){return s},s}$A();function YN(e,n){$A().f[0]++;const t=($A().s[0]++,+e),r=($A().s[1]++,+n);return $A().s[2]++,t<r?($A().b[0][0]++,$A().s[3]++,-1):($A().b[0][1]++,$A().s[4]++,t>r?($A().b[1][0]++,$A().s[5]++,1):($A().b[1][1]++,$A().s[6]++,0))}function eh(){var e="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",n="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return eh=function(){return s},s}eh();function sd(e){if(eh().f[0]++,eh().s[0]++,Object.prototype.hasOwnProperty.call(e,"default"))return eh().b[0][0]++,eh().s[1]++,e.default;eh().b[0][1]++;const n=(eh().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return eh().s[3]++,eh().b[1][0]++,n[e.type]||(eh().b[1][1]++,"")}function s4(){var e="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",n="7dda8ab95b7fe1e03f2205def4590751728cfeac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dda8ab95b7fe1e03f2205def4590751728cfeac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return s4=function(){return s},s}s4();class qN extends xn.Component{render(){return s4().f[0]++,s4().s[0]++,N.jsx(Ba,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:N.jsx(zy,{})})}}function Wt(){var e="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",n="232a59a4721428f6ea1780ae642f941986fcb93c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"232a59a4721428f6ea1780ae642f941986fcb93c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Wt=function(){return s},s}Wt();function AP(e,n){Wt().f[0]++;let t;return Wt().s[0]++,Wt().b[1][0]++,e.value&&(Wt().b[1][1]++,e.value.stops)?(Wt().b[0][0]++,Wt().s[1]++,e.value.stops.forEach((r,i)=>{Wt().f[1]++,Wt().s[2]++,Object.prototype.hasOwnProperty.call(n.refs,i)?Wt().b[2][1]++:(Wt().b[2][0]++,Wt().s[3]++,t?Wt().b[3][1]++:(Wt().b[3][0]++,Wt().s[4]++,t={...n}),Wt().s[5]++,t[i]=By("stop-"))})):Wt().b[0][1]++,Wt().s[6]++,t}class d6e extends xn.Component{constructor(){super(...arguments);nn(this,"state",(Wt().s[7]++,{refs:{}}));nn(this,"onChange",(Wt().s[32]++,(t,r)=>{if(Wt().f[11]++,Wt().s[33]++,r.type==="identity")Wt().b[9][0]++,Wt().s[34]++,r={type:r.type,property:r.property};else{Wt().b[9][1]++;const i=(Wt().s[35]++,r.type==="categorical"?(Wt().b[10][0]++,""):(Wt().b[10][1]++,0));Wt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},sd(this.props.fieldSpec)],[{zoom:10,value:i},sd(this.props.fieldSpec)]],...r}}Wt().s[37]++,this.props.onChange(t,r)}))}componentDidMount(){Wt().f[2]++;const t=(Wt().s[8]++,AP(this.props,this.state));Wt().s[9]++,t?(Wt().b[4][0]++,Wt().s[10]++,this.setState({refs:t})):Wt().b[4][1]++}static getDerivedStateFromProps(t,r){Wt().f[3]++;const i=(Wt().s[11]++,AP(t,r));return Wt().s[12]++,i?(Wt().b[5][0]++,Wt().s[13]++,{refs:i}):(Wt().b[5][1]++,Wt().s[14]++,null)}getFieldFunctionType(t){return Wt().f[4]++,Wt().s[15]++,t.expression.interpolated?(Wt().b[6][0]++,Wt().s[16]++,"exponential"):(Wt().b[6][1]++,Wt().s[17]++,t.type==="number"?(Wt().b[7][0]++,Wt().s[18]++,"interval"):(Wt().b[7][1]++,Wt().s[19]++,"categorical"))}getDataFunctionTypes(t){return Wt().f[5]++,Wt().s[20]++,t.expression.interpolated?(Wt().b[8][0]++,Wt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Wt().b[8][1]++,Wt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(t){Wt().f[6]++;const r=(Wt().s[23]++,t.map((o,s)=>(Wt().f[7]++,Wt().s[24]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Wt().f[8]++,Wt().s[25]++,YN(o.data[0].zoom,s.data[0].zoom)))),i=(Wt().s[26]++,{});return Wt().s[27]++,r.forEach((o,s)=>{Wt().f[9]++,Wt().s[28]++,i[s]=o.ref}),Wt().s[29]++,this.setState({refs:i}),Wt().s[30]++,r.map(o=>(Wt().f[10]++,Wt().s[31]++,o.data))}changeStop(t,r,i){var p;Wt().f[12]++;const o=(Wt().s[38]++,Wt().b[11][0]++,((p=this.props.value)==null?void 0:p.stops.slice(0))||(Wt().b[11][1]++,[]));Wt().s[39]++,o[t]=[{value:r.value,zoom:r.zoom===void 0?(Wt().b[12][0]++,0):(Wt().b[12][1]++,r.zoom)},i];const s=(Wt().s[40]++,this.orderStopsByZoom(o)),a=(Wt().s[41]++,{...this.props.value,stops:s});Wt().s[42]++,this.onChange(this.props.fieldName,a)}changeBase(t){Wt().f[13]++;const r=(Wt().s[43]++,{...this.props.value,base:t});Wt().s[44]++,r.base===void 0?(Wt().b[13][0]++,Wt().s[45]++,delete r.base):Wt().b[13][1]++,Wt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(t){Wt().f[14]++,Wt().s[47]++,Wt().b[15][0]++,t==="interpolate"&&(Wt().b[15][1]++,this.props.onChangeToZoomFunction)?(Wt().b[14][0]++,Wt().s[48]++,this.props.onChangeToZoomFunction()):(Wt().b[14][1]++,Wt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:t}))}changeDataProperty(t,r){Wt().f[15]++,Wt().s[50]++,r?(Wt().b[16][0]++,Wt().s[51]++,this.props.value[t]=r):(Wt().b[16][1]++,Wt().s[52]++,delete this.props.value[t]),Wt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,s,a,p,g,b;Wt().f[16]++,Wt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Wt().b[17][0]++,Wt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Wt().b[17][1]++;let t;return Wt().s[56]++,(i=this.props.value)!=null&&i.stops?(Wt().b[18][0]++,Wt().s[57]++,t=this.props.value.stops.map((B,k)=>{var ce,se;Wt().f[17]++;const P=(Wt().s[58]++,typeof B[0]=="object"?(Wt().b[19][0]++,B[0].zoom):(Wt().b[19][1]++,void 0)),R=(Wt().s[59]++,this.state.refs[k]),Z=(Wt().s[60]++,typeof B[0]=="object"?(Wt().b[20][0]++,B[0].value):(Wt().b[20][1]++,B[0])),W=(Wt().s[61]++,B[1]),Q=(Wt().s[62]++,N.jsx(qN,{onClick:(ce=this.props.onDeleteStop)==null?void 0:ce.bind(this,k)})),q=(Wt().s[63]++,{"aria-label":"Input value",label:"Data value",value:Z,onChange:le=>(Wt().f[18]++,Wt().s[64]++,this.changeStop(k,{zoom:P,value:le},W))});let oe;Wt().s[65]++,((se=this.props.value)==null?void 0:se.type)==="categorical"?(Wt().b[21][0]++,Wt().s[66]++,oe=N.jsx(vd,{...q})):(Wt().b[21][1]++,Wt().s[67]++,oe=N.jsx(Cf,{...q}));let re=(Wt().s[68]++,null);return Wt().s[69]++,P!==void 0?(Wt().b[22][0]++,Wt().s[70]++,re=N.jsx("div",{children:N.jsx(Cf,{"aria-label":"Zoom",value:P,onChange:le=>(Wt().f[19]++,Wt().s[71]++,this.changeStop(k,{zoom:le,value:Z},W)),min:0,max:22})})):Wt().b[22][1]++,Wt().s[72]++,N.jsxs("tr",{children:[N.jsx("td",{children:re}),N.jsx("td",{children:oe}),N.jsx("td",{children:N.jsx(hy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:W,onChange:(le,ye)=>(Wt().f[20]++,Wt().s[73]++,this.changeStop(k,{zoom:P,value:Z},ye))})}),N.jsx("td",{children:Q})]},R)})):Wt().b[18][1]++,Wt().s[74]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:P5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(Po,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(_1,{value:this.props.value.type,onChange:B=>(Wt().f[21]++,Wt().s[75]++,this.changeDataType(B)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Wt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Wt().b[23][1]++,N.jsx(Po,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(hy,{fieldName:"base",fieldSpec:Hi.function.base,value:(s=this.props.value)==null?void 0:s.base,onChange:(B,k)=>(Wt().f[22]++,Wt().s[76]++,this.changeBase(k))})})},"base"))),N.jsx(Po,{label:"Property",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(vd,{value:(a=this.props.value)==null?void 0:a.property,title:"Input a data property to base styles off of.",onChange:B=>(Wt().f[23]++,Wt().s[77]++,this.changeDataProperty("property",B))})})},"property"),(Wt().b[24][0]++,t&&(Wt().b[24][1]++,N.jsx(Po,{label:"Default",children:N.jsx(hy,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(p=this.props.value)==null?void 0:p.default,onChange:(B,k)=>(Wt().f[24]++,Wt().s[78]++,this.changeDataProperty("default",k))})},"default"))),(Wt().b[25][0]++,t&&(Wt().b[25][1]++,N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{children:"Input value"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:t})]})}))),N.jsxs("div",{className:"maputnik-toolbox",children:[(Wt().b[26][0]++,t&&(Wt().b[26][1]++,N.jsxs(Ba,{className:"maputnik-add-stop",onClick:(g=this.props.onAddStop)==null?void 0:g.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:c8})})," Add stop"]}))),N.jsxs(Ba,{className:"maputnik-add-stop",onClick:(b=this.props.onExpressionClick)==null?void 0:b.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:__})})," Convert to expression"]})]})]})]})})}}function Rn(){var e="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",n="b293261b8db082101e4d8e26898ce3be8cd692d2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b293261b8db082101e4d8e26898ce3be8cd692d2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Rn=function(){return s},s}Rn();function cP(e,n){Rn().f[0]++;let t=(Rn().s[0]++,{});return Rn().s[1]++,Rn().b[1][0]++,e.value&&(Rn().b[1][1]++,e.value.stops)?(Rn().b[0][0]++,Rn().s[2]++,e.value.stops.forEach((r,i)=>{Rn().f[1]++,Rn().s[3]++,Object.prototype.hasOwnProperty.call(!n.refs,i)?(Rn().b[2][0]++,Rn().s[4]++,t?Rn().b[3][1]++:(Rn().b[3][0]++,Rn().s[5]++,t={...n}),Rn().s[6]++,t[i]=By("stop-")):(Rn().b[2][1]++,Rn().s[7]++,t[i]=n.refs[i])})):Rn().b[0][1]++,Rn().s[8]++,t}class VN extends xn.Component{constructor(){super(...arguments);nn(this,"state",(Rn().s[10]++,{refs:{}}));nn(this,"changeDataType",(Rn().s[36]++,t=>{Rn().f[11]++,Rn().s[37]++,Rn().b[8][0]++,t!=="interpolate"&&(Rn().b[8][1]++,this.props.onChangeToDataFunction)?(Rn().b[7][0]++,Rn().s[38]++,this.props.onChangeToDataFunction(t)):Rn().b[7][1]++}))}componentDidMount(){Rn().f[2]++;const t=(Rn().s[11]++,cP(this.props,this.state));Rn().s[12]++,t?(Rn().b[4][0]++,Rn().s[13]++,this.setState({refs:t})):Rn().b[4][1]++}static getDerivedStateFromProps(t,r){Rn().f[3]++;const i=(Rn().s[14]++,cP(t,r));return Rn().s[15]++,i?(Rn().b[5][0]++,Rn().s[16]++,{refs:i}):(Rn().b[5][1]++,Rn().s[17]++,null)}orderStopsByZoom(t){Rn().f[4]++;const r=(Rn().s[18]++,t.map((o,s)=>(Rn().f[5]++,Rn().s[19]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Rn().f[6]++,Rn().s[20]++,YN(o.data[0],s.data[0])))),i=(Rn().s[21]++,{});return Rn().s[22]++,r.forEach((o,s)=>{Rn().f[7]++,Rn().s[23]++,i[s]=o.ref}),Rn().s[24]++,this.setState({refs:i}),Rn().s[25]++,r.map(o=>(Rn().f[8]++,Rn().s[26]++,o.data))}changeZoomStop(t,r,i){Rn().f[9]++;const o=(Rn().s[27]++,this.props.value.stops.slice(0));Rn().s[28]++,o[t]=[r,i];const s=(Rn().s[29]++,this.orderStopsByZoom(o)),a=(Rn().s[30]++,{...this.props.value,stops:s});Rn().s[31]++,this.props.onChange(this.props.fieldName,a)}changeBase(t){Rn().f[10]++;const r=(Rn().s[32]++,{...this.props.value,base:t});Rn().s[33]++,r.base===void 0?(Rn().b[6][0]++,Rn().s[34]++,delete r.base):Rn().b[6][1]++,Rn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,s;Rn().f[12]++;const t=(Rn().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((a,p)=>{var P;Rn().f[13]++;const g=(Rn().s[40]++,a[0]),b=(Rn().s[41]++,this.state.refs[p]),B=(Rn().s[42]++,a[1]),k=(Rn().s[43]++,N.jsx(qN,{onClick:(P=this.props.onDeleteStop)==null?void 0:P.bind(this,p)}));return Rn().s[44]++,N.jsxs("tr",{children:[N.jsx("td",{children:N.jsx(Cf,{"aria-label":"Zoom",value:g,onChange:R=>(Rn().f[14]++,Rn().s[45]++,this.changeZoomStop(p,R,B)),min:0,max:22})}),N.jsx("td",{children:N.jsx(hy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:B,onChange:(R,Z)=>(Rn().f[15]++,Rn().s[46]++,this.changeZoomStop(p,g,Z))})}),N.jsx("td",{children:k})]},b)}));return Rn().s[47]++,N.jsx("div",{className:"maputnik-data-spec-block",children:N.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[N.jsx("legend",{children:P5(this.props.fieldName)}),N.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[N.jsx(Po,{label:"Function",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(_1,{value:"interpolate",onChange:a=>(Rn().f[16]++,Rn().s[48]++,this.changeDataType(a)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),N.jsx(Po,{label:"Base",children:N.jsx("div",{className:"maputnik-data-spec-property-input",children:N.jsx(hy,{fieldName:"base",fieldSpec:Hi.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(a,p)=>(Rn().f[17]++,Rn().s[49]++,this.changeBase(p))})})}),N.jsx("div",{className:"maputnik-function-stop",children:N.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[N.jsx("caption",{children:"Stops"}),N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Zoom"}),N.jsx("th",{rowSpan:2,children:"Output value"})]})}),N.jsx("tbody",{children:t})]})}),N.jsxs("div",{className:"maputnik-toolbox",children:[N.jsxs(Ba,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:c8})})," Add stop"]}),N.jsxs(Ba,{className:"maputnik-add-stop",onClick:(s=this.props.onExpressionClick)==null?void 0:s.bind(this),children:[N.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:N.jsx("path",{fill:"currentColor",d:__})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(t){return Rn().f[18]++,Rn().s[50]++,t["property-type"]==="data-driven"?(Rn().b[9][0]++,Rn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(Rn().b[9][1]++,Rn().s[52]++,["interpolate"])}}nn(VN,"defaultProps",(Rn().s[9]++,{errors:{}}));function ut(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",n="435f90d980cace940b69ce8c0aa30d2fab175109",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"435f90d980cace940b69ce8c0aa30d2fab175109"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ut=function(){return s},s}ut();function dP(e){return ut().f[0]++,ut().s[0]++,ut().b[0][0]++,Array.isArray(e)&&(ut().b[0][1]++,e.length===2)&&(ut().b[0][2]++,e[0]==="literal")}function hP(e){return ut().f[1]++,ut().s[1]++,ut().b[1][0]++,Array.isArray(e)&&(ut().b[1][1]++,e.length===2)&&(ut().b[1][2]++,e[0]==="get")}function h6e(e){return ut().f[2]++,ut().s[2]++,ut().b[2][0]++,typeof e=="object"&&(ut().b[2][1]++,e.stops)&&(ut().b[2][2]++,typeof e.property>"u")&&(ut().b[2][3]++,Array.isArray(e.stops))&&(ut().b[2][4]++,e.stops.length>1)&&(ut().b[2][5]++,e.stops.every(n=>(ut().f[3]++,ut().s[3]++,ut().b[3][0]++,Array.isArray(n)&&(ut().b[3][1]++,n.length===2))))}function HN(e){return ut().f[4]++,ut().s[4]++,ut().b[4][0]++,typeof e=="object"&&(ut().b[4][1]++,e.type==="identity")&&(ut().b[4][2]++,Object.prototype.hasOwnProperty.call(e,"property"))}function f6e(e){return ut().f[5]++,ut().s[5]++,ut().b[5][0]++,typeof e=="object"&&(ut().b[5][1]++,e.stops)&&(ut().b[5][2]++,typeof e.property<"u")&&(ut().b[5][3]++,e.stops.length>1)&&(ut().b[5][4]++,Array.isArray(e.stops))&&(ut().b[5][5]++,e.stops.every(n=>(ut().f[6]++,ut().s[6]++,ut().b[6][0]++,Array.isArray(n)&&(ut().b[6][1]++,n.length===2)&&(ut().b[6][2]++,typeof n[0]=="object"))))}function p6e(e){return ut().f[7]++,ut().s[7]++,ut().b[7][0]++,HN(e)||(ut().b[7][1]++,f6e(e))}function Y8(e){ut().f[8]++;const n=(ut().s[8]++,["string","boolean","number"]);return ut().s[9]++,n.includes(typeof e)}function m6e(e){return ut().f[9]++,ut().s[10]++,Array.isArray(e)?(ut().b[8][0]++,ut().s[11]++,e.every(Y8)):(ut().b[8][1]++,ut().s[12]++,!1)}function fP(e,n=(ut().b[9][0]++,{})){return ut().f[10]++,ut().s[13]++,e===void 0?(ut().b[10][0]++,ut().s[14]++,"value"):(ut().b[10][1]++,ut().s[15]++,Y8(e)?(ut().b[11][0]++,ut().s[16]++,"value"):(ut().b[11][1]++,ut().s[17]++,ut().b[13][0]++,n.type==="array"&&(ut().b[13][1]++,m6e(e))?(ut().b[12][0]++,ut().s[18]++,"value"):(ut().b[12][1]++,ut().s[19]++,h6e(e)?(ut().b[14][0]++,ut().s[20]++,"zoom_function"):(ut().b[14][1]++,ut().s[21]++,p6e(e)?(ut().b[15][0]++,ut().s[22]++,"data_function"):(ut().b[15][1]++,ut().s[23]++,"expression")))))}class g6e extends xn.Component{constructor(t){ut().f[11]++,ut().s[24]++;super(t);nn(this,"addStop",(ut().s[34]++,()=>{ut().f[14]++;const t=(ut().s[35]++,this.props.value.stops.slice(0)),r=(ut().s[36]++,t[t.length-1]);ut().s[37]++,typeof r[0]=="object"?(ut().b[19][0]++,ut().s[38]++,t.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(ut().b[19][1]++,ut().s[39]++,t.push([r[0]+1,r[1]]));const i=(ut().s[40]++,{...this.props.value,stops:t});ut().s[41]++,this.props.onChange(this.props.fieldName,i)}));nn(this,"deleteExpression",(ut().s[42]++,()=>{ut().f[15]++;const{fieldSpec:t,fieldName:r}=(ut().s[43]++,this.props);ut().s[44]++,this.props.onChange(r,t.default),ut().s[45]++,this.setState({dataType:"value"})}));nn(this,"deleteStop",(ut().s[46]++,t=>{ut().f[16]++;const r=(ut().s[47]++,this.props.value.stops.slice(0));ut().s[48]++,r.splice(t,1);let i=(ut().s[49]++,{...this.props.value,stops:r});ut().s[50]++,r.length===1?(ut().b[20][0]++,ut().s[51]++,i=r[0][1]):ut().b[20][1]++,ut().s[52]++,this.props.onChange(this.props.fieldName,i)}));nn(this,"makeZoomFunction",(ut().s[53]++,()=>{ut().f[17]++;const{value:t}=(ut().s[54]++,this.props);let r;ut().s[55]++,typeof t=="object"?(ut().b[21][0]++,ut().s[56]++,t.stops?(ut().b[22][0]++,ut().s[57]++,r={base:t.base,stops:t.stops.map(i=>(ut().f[18]++,ut().s[58]++,[i[0].zoom,(ut().b[23][0]++,i[1]||(ut().b[23][1]++,sd(this.props.fieldSpec)))]))}):(ut().b[22][1]++,ut().s[59]++,r={base:t.base,stops:[[6,sd(this.props.fieldSpec)],[10,sd(this.props.fieldSpec)]]})):(ut().b[21][1]++,ut().s[60]++,r={stops:[[6,(ut().b[24][0]++,t||(ut().b[24][1]++,sd(this.props.fieldSpec)))],[10,(ut().b[25][0]++,t||(ut().b[25][1]++,sd(this.props.fieldSpec)))]]}),ut().s[61]++,this.props.onChange(this.props.fieldName,r)}));nn(this,"undoExpression",(ut().s[62]++,()=>{ut().f[19]++;const{value:t,fieldName:r}=(ut().s[63]++,this.props);ut().s[64]++,hP(t)?(ut().b[26][0]++,ut().s[65]++,this.props.onChange(r,{type:"identity",property:t[1]}),ut().s[66]++,this.setState({dataType:"value"})):(ut().b[26][1]++,ut().s[67]++,dP(t)?(ut().b[27][0]++,ut().s[68]++,this.props.onChange(r,t[1]),ut().s[69]++,this.setState({dataType:"value"})):ut().b[27][1]++)}));nn(this,"canUndo",(ut().s[70]++,()=>{ut().f[20]++;const{value:t,fieldSpec:r}=(ut().s[71]++,this.props);return ut().s[72]++,ut().b[28][0]++,hP(t)||(ut().b[28][1]++,dP(t))||(ut().b[28][2]++,Y8(t))||(ut().b[28][3]++,Array.isArray(t)&&(ut().b[28][4]++,r.type==="array"))}));nn(this,"makeExpression",(ut().s[73]++,()=>{ut().f[21]++;const{value:t,fieldSpec:r}=(ut().s[74]++,this.props);let i;ut().s[75]++,ut().b[30][0]++,typeof t=="object"&&(ut().b[30][1]++,"stops"in t)?(ut().b[29][0]++,ut().s[76]++,i=BX.convertFunction(t,r)):(ut().b[29][1]++,ut().s[77]++,HN(t)?(ut().b[31][0]++,ut().s[78]++,i=["get",t.property]):(ut().b[31][1]++,ut().s[79]++,i=["literal",(ut().b[32][0]++,t||(ut().b[32][1]++,this.props.fieldSpec.default))])),ut().s[80]++,this.props.onChange(this.props.fieldName,i)}));nn(this,"makeDataFunction",(ut().s[81]++,()=>{ut().f[22]++;const t=(ut().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(ut().s[83]++,t==="categorical"?(ut().b[33][0]++,""):(ut().b[33][1]++,0)),{value:i}=(ut().s[84]++,this.props);let o;ut().s[85]++,typeof i=="object"?(ut().b[34][0]++,ut().s[86]++,i.stops?(ut().b[35][0]++,ut().s[87]++,o={property:"",type:t,base:i.base,stops:i.stops.map(s=>(ut().f[23]++,ut().s[88]++,[{zoom:s[0],value:r},(ut().b[36][0]++,s[1]||(ut().b[36][1]++,sd(this.props.fieldSpec)))]))}):(ut().b[35][1]++,ut().s[89]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},sd(this.props.fieldSpec)],[{zoom:10,value:r},sd(this.props.fieldSpec)]]})):(ut().b[34][1]++,ut().s[90]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},(ut().b[37][0]++,this.props.value||(ut().b[37][1]++,sd(this.props.fieldSpec)))],[{zoom:10,value:r},(ut().b[38][0]++,this.props.value||(ut().b[38][1]++,sd(this.props.fieldSpec)))]]}),ut().s[91]++,this.props.onChange(this.props.fieldName,o)}));nn(this,"onMarkEditing",(ut().s[92]++,()=>{ut().f[24]++,ut().s[93]++,this.setState({isEditing:!0})}));nn(this,"onUnmarkEditing",(ut().s[94]++,()=>{ut().f[25]++,ut().s[95]++,this.setState({isEditing:!1})}));ut().s[25]++,this.state={dataType:fP(t.value,t.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(t,r){return ut().f[12]++,ut().s[26]++,r.isEditing?(ut().b[16][0]++,ut().s[27]++,{}):(ut().b[16][1]++,ut().s[28]++,{isEditing:!1,dataType:fP(t.value,t.fieldSpec)})}getFieldFunctionType(t){return ut().f[13]++,ut().s[29]++,t.expression.interpolated?(ut().b[17][0]++,ut().s[30]++,"exponential"):(ut().b[17][1]++,ut().s[31]++,t.type==="number"?(ut().b[18][0]++,ut().s[32]++,"interval"):(ut().b[18][1]++,ut().s[33]++,"categorical"))}render(){ut().f[26]++;const{dataType:t}=(ut().s[96]++,this.state),r=(ut().s[97]++,this.props.fieldSpec.default===this.props.value?(ut().b[39][0]++,"maputnik-default-property"):(ut().b[39][1]++,"maputnik-modified-property"));let i;return ut().s[98]++,t==="expression"?(ut().b[40][0]++,ut().s[99]++,i=N.jsx(p8,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(ut().b[40][1]++,ut().s[100]++,t==="zoom_function"?(ut().b[41][0]++,ut().s[101]++,i=N.jsx(VN,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(ut().b[41][1]++,ut().s[102]++,t==="data_function"?(ut().b[42][0]++,ut().s[103]++,i=N.jsx(d6e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(ut().b[42][1]++,ut().s[104]++,i=N.jsx($N,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),ut().s[105]++,N.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function vi(){var e="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",n="411d3be261f729b266d6cb26884b34616b925c83",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return vi=function(){return s},s}vi();const y6e=(vi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function v6e(e,n,t){vi().f[0]++;const r=(vi().s[1]++,ZN(e,n,t)),i=(vi().s[2]++,e[r+"_"+n]),o=(vi().s[3]++,i[t]);return vi().s[4]++,y6e.indexOf(t)>=0?(vi().b[0][0]++,vi().s[5]++,{...o,values:e.$root.sprite.values}):(vi().b[0][1]++,vi().s[6]++,t==="text-font"?(vi().b[1][0]++,vi().s[7]++,{...o,values:e.$root.glyphs.values}):(vi().b[1][1]++,vi().s[8]++,o))}function ZN(e,n,t){vi().f[1]++;const r=(vi().s[9]++,vi().b[2][0]++,e["paint_"+n]||(vi().b[2][1]++,{}));return vi().s[10]++,t in r?(vi().b[3][0]++,vi().s[11]++,"paint"):(vi().b[3][1]++,vi().s[12]++,"layout")}class C6e extends xn.Component{constructor(){super(...arguments);nn(this,"onPropertyChange",(vi().s[13]++,(t,r)=>{vi().f[2]++;const i=(vi().s[14]++,ZN(this.props.spec,this.props.layer.type,t));vi().s[15]++,this.props.onChange(i,t,r)}))}render(){vi().f[3]++;const{errors:t}=(vi().s[16]++,this.props),r=(vi().s[17]++,this.props.groupFields.map(i=>{vi().f[4]++;const o=(vi().s[18]++,v6e(this.props.spec,this.props.layer.type,i)),s=(vi().s[19]++,vi().b[4][0]++,this.props.layer.paint||(vi().b[4][1]++,{})),a=(vi().s[20]++,vi().b[5][0]++,this.props.layer.layout||(vi().b[5][1]++,{})),p=(vi().s[21]++,i in s?(vi().b[6][0]++,s[i]):(vi().b[6][1]++,a[i])),g=(vi().s[22]++,i in s?(vi().b[7][0]++,"paint"):(vi().b[7][1]++,"layout"));return vi().s[23]++,N.jsx(g6e,{errors:t,onChange:this.onPropertyChange,fieldName:i,value:p,fieldType:g,fieldSpec:o},i)}));return vi().s[24]++,N.jsx("div",{className:"maputnik-property-group",children:r})}}var _6e=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=2)}([function(e,n){e.exports=uh},function(e,n){e.exports=Sr},function(e,n,t){t.r(n);var r=t(1),i=t(0),o=function(){return(o=Object.assign||function(R){for(var Z,W=1,Q=arguments.length;W<Q;W++)for(var q in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,q)&&(R[q]=Z[q]);return R}).apply(this,arguments)},s=function(R,Z){var W={};for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&Z.indexOf(Q)<0&&(W[Q]=R[Q]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var q=0;for(Q=Object.getOwnPropertySymbols(R);q<Q.length;q++)Z.indexOf(Q[q])<0&&Object.prototype.propertyIsEnumerable.call(R,Q[q])&&(W[Q[q]]=R[Q[q]])}return W},a=0,p=r.forwardRef(function(R,Z){var W=R.title,Q=W===void 0?null:W,q=R.description,oe=q===void 0?null:q,re=R.size,ce=re===void 0?null:re,se=R.color,le=se===void 0?"currentColor":se,ye=R.horizontal,De=ye===void 0?null:ye,Ne=R.vertical,et=Ne===void 0?null:Ne,ft=R.rotate,Ke=ft===void 0?null:ft,rt=R.spin,Ce=rt===void 0?null:rt,Rt=R.style,jt=Rt===void 0?{}:Rt,tn=R.children,Qt=s(R,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var He,Je=Ce!==null&&Ce,tt=r.Children.map(tn,function(kt){var Pt=kt;Je!==!0&&(Je=(Ce===null?Pt.props.spin:Ce)===!0);var Me=Pt.props.size;typeof ce=="number"&&typeof Pt.props.size=="number"&&(Me=Pt.props.size/ce);var he={size:Me,color:le===null?Pt.props.color:le,horizontal:De===null?Pt.props.horizontal:De,vertical:et===null?Pt.props.vertical:et,rotate:Ke===null?Pt.props.rotate:Ke,spin:Ce===null?Pt.props.spin:Ce,inStack:!0};return r.cloneElement(Pt,he)});ce!==null&&(jt.width=typeof ce=="string"?ce:1.5*ce+"rem");var rn,mt="stack_labelledby_"+a,dt="stack_describedby_"+a;if(Q)He=oe?mt+" "+dt:mt;else if(rn="presentation",oe)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:Z,viewBox:"0 0 24 24",style:jt,role:rn,"aria-labelledby":He},Qt),Q&&r.createElement("title",{id:mt},Q),oe&&r.createElement("desc",{id:dt},oe),Je&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),tt)});p.displayName="Stack",p.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},p.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=p;t.d(n,"Icon",function(){return P}),t.d(n,"Stack",function(){return g});var b=function(){return(b=Object.assign||function(R){for(var Z,W=1,Q=arguments.length;W<Q;W++)for(var q in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,q)&&(R[q]=Z[q]);return R}).apply(this,arguments)},B=function(R,Z){var W={};for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&Z.indexOf(Q)<0&&(W[Q]=R[Q]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var q=0;for(Q=Object.getOwnPropertySymbols(R);q<Q.length;q++)Z.indexOf(Q[q])<0&&Object.prototype.propertyIsEnumerable.call(R,Q[q])&&(W[Q[q]]=R[Q[q]])}return W},k=0,P=r.forwardRef(function(R,Z){var W=R.path,Q=R.id,q=Q===void 0?++k:Q,oe=R.title,re=oe===void 0?null:oe,ce=R.description,se=ce===void 0?null:ce,le=R.size,ye=le===void 0?null:le,De=R.color,Ne=De===void 0?"currentColor":De,et=R.horizontal,ft=et!==void 0&&et,Ke=R.vertical,rt=Ke!==void 0&&Ke,Ce=R.rotate,Rt=Ce===void 0?0:Ce,jt=R.spin,tn=jt!==void 0&&jt,Qt=R.style,He=Qt===void 0?{}:Qt,Je=R.inStack,tt=Je!==void 0&&Je,rn=B(R,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),mt={},dt=[];ye!==null&&(tt?dt.push("scale("+ye+")"):(He.width=typeof ye=="string"?ye:1.5*ye+"rem",He.height=He.width)),ft&&dt.push("scaleX(-1)"),rt&&dt.push("scaleY(-1)"),Rt!==0&&dt.push("rotate("+Rt+"deg)"),Ne!==null&&(mt.fill=Ne);var kt=r.createElement("path",b({d:W,style:mt},tt?rn:{})),Pt=kt;dt.length>0&&(He.transform=dt.join(" "),He.transformOrigin="center",tt&&(Pt=r.createElement("g",{style:He},kt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Me,he=Pt,be=tn===!0||typeof tn!="number"?2:tn,Pe=!tt&&(ft||rt);if(be<0&&(Pe=!Pe),tn&&(he=r.createElement("g",{style:{animation:"spin"+(Pe?"-inverse":"")+" linear "+Math.abs(be)+"s infinite",transformOrigin:"center"}},Pt,!(ft||rt||Rt!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),tt)return he;var Ze,nt="icon_labelledby_"+q,xt="icon_describedby_"+q;if(re)Me=se?nt+" "+xt:nt;else if(Ze="presentation",se)throw new Error("title attribute required when description is set");return r.createElement("svg",b({ref:Z,viewBox:"0 0 24 24",style:He,role:Ze,"aria-labelledby":Me},rn),re&&r.createElement("title",{id:nt},re),se&&r.createElement("desc",{id:xt},se),!tt&&tn&&(Pe?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),he)});P.displayName="Icon",P.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},P.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},n.default=P}]);const pP=ma(_6e);function Gg(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",n="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Gg=function(){return s},s}Gg();class b6e extends xn.Component{render(){return Gg().f[0]++,Gg().s[0]++,N.jsxs(gW,{uuid:this.props.id,children:[N.jsx(CW,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:n=>(Gg().f[1]++,Gg().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:N.jsxs(Zfe,{className:"maputnik-layer-editor-group__button",children:[N.jsx("span",{style:{flexGrow:1},children:this.props.title}),N.jsx(pP,{path:lpe,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),N.jsx(pP,{path:spe,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),N.jsx(epe,{children:this.props.children})]})}}function l4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",n="1854bc9345eba3b5ee508193a6378533df537e7e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1854bc9345eba3b5ee508193a6378533df537e7e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return l4=function(){return s},s}l4();class x6e extends xn.Component{render(){return l4().f[0]++,l4().s[0]++,N.jsx(Po,{label:"Min Zoom",fieldSpec:Hi.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:N.jsx(Cf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Hi.layer.minzoom.minimum,max:Hi.layer.minzoom.maximum,default:Hi.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function u4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",n="8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return u4=function(){return s},s}u4();class w6e extends xn.Component{render(){return u4().f[0]++,u4().s[0]++,N.jsx(Po,{label:"Max Zoom",fieldSpec:Hi.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:N.jsx(Cf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Hi.layer.maxzoom.minimum,max:Hi.layer.maxzoom.maximum,default:Hi.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function PC(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",n="78f2f7c5d70fb12fc1126c8cf454a217776b6a18",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"78f2f7c5d70fb12fc1126c8cf454a217776b6a18"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return PC=function(){return s},s}PC();class M6e extends xn.Component{render(){PC().f[0]++;const n=(PC().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return PC().s[1]++,N.jsx(Po,{label:"Comments",fieldSpec:n,"data-wd-key":"layer-comment",error:this.props.error,children:N.jsx(vd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const S6e={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},E6e={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},O6e={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},B6e={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},k6e={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},I6e={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},T6e={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},K6e={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},P6e={groups:[]},iS={line:S6e,background:E6e,fill:O6e,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:B6e,symbol:k6e,raster:I6e,hillshade:T6e,heatmap:K6e,invalid:P6e};function Qg(){var e="/home/runner/work/maputnik/maputnik/src/libs/format.ts",n="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Qg=function(){return s},s}Qg();function XN(e){return Qg().f[0]++,Qg().s[0]++,e===""?(Qg().b[0][0]++,"[empty_string]"):(Qg().b[0][1]++,`'${e}'`)}function an(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",n="13cf530347fd66324a92f0d1d210d94f3d2129c4",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13cf530347fd66324a92f0d1d210d94f3d2129c4"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return an=function(){return s},s}an();function JN(e){return an().f[0]++,an().s[0]++,iS[e]?(an().b[0][0]++,iS[e]):(an().b[0][1]++,iS.invalid)}function mP(e){an().f[1]++;const n=(an().s[1]++,{title:"Layer",type:"layer"}),t=(an().s[2]++,{title:"Filter",type:"filter"}),r=(an().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return an().s[4]++,[n,t].concat(JN(e).groups).concat([r])}class eO extends xn.Component{constructor(n){an().f[5]++,an().s[7]++,super(n);const t=(an().s[8]++,{});an().s[9]++,mP(this.props.layer.type).forEach(r=>{an().f[6]++,an().s[10]++,t[r.title]=!0}),an().s[11]++,this.state={editorGroups:t}}static getDerivedStateFromProps(n,t){an().f[7]++;const r=(an().s[12]++,{...t.editorGroups});return an().s[13]++,JN(n.layer.type).groups.forEach(i=>{an().f[8]++,an().s[14]++,i.title in r?an().b[1][1]++:(an().b[1][0]++,an().s[15]++,r[i.title]=!0)}),an().s[16]++,{editorGroups:r}}getChildContext(){return an().f[9]++,an().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(n,t,r){an().f[10]++,an().s[18]++,this.props.onLayerChanged(this.props.layerIndex,Khe(this.props.layer,n,t,r))}onGroupToggle(n,t){an().f[11]++;const r=(an().s[19]++,{...this.state.editorGroups,[n]:t});an().s[20]++,this.setState({editorGroups:r})}renderGroupType(n,t){an().f[12]++;let r=(an().s[21]++,"");an().s[22]++,this.props.layer.metadata?(an().b[2][0]++,an().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):an().b[2][1]++;const{errors:i,layerIndex:o}=(an().s[24]++,this.props),s=(an().s[25]++,{});an().s[26]++,i.forEach(g=>{an().f[13]++,an().s[27]++,an().b[4][0]++,g.parsed&&(an().b[4][1]++,g.parsed.type==="layer")&&(an().b[4][2]++,g.parsed.data.index==o)?(an().b[3][0]++,an().s[28]++,s[g.parsed.data.key]={message:g.parsed.data.message}):an().b[3][1]++});let a;const p=(an().s[29]++,this.props.layer);switch(an().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,p.source)?(an().b[5][0]++,an().s[31]++,a=this.props.sources[p.source].layers):an().b[5][1]++,an().s[32]++,n){case"layer":return an().b[6][0]++,an().s[33]++,N.jsxs("div",{children:[N.jsx(Jj,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:g=>(an().f[14]++,an().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),N.jsx(J7,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:g=>(an().f[15]++,an().s[35]++,this.props.onLayerChanged(this.props.layerIndex,The(this.props.layer,g)))}),(an().b[7][0]++,this.props.layer.type!=="background"&&(an().b[7][1]++,N.jsx(t8,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(an().f[16]++,an().s[36]++,this.changeProperty(null,"source",g))}))),(an().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(an().b[8][1]++,N.jsx(n8,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:g=>(an().f[17]++,an().s[37]++,this.changeProperty(null,"source-layer",g))}))),N.jsx(x6e,{error:s.minzoom,value:this.props.layer.minzoom,onChange:g=>(an().f[18]++,an().s[38]++,this.changeProperty(null,"minzoom",g))}),N.jsx(w6e,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(an().f[19]++,an().s[39]++,this.changeProperty(null,"maxzoom",g))}),N.jsx(M6e,{error:s.comment,value:r,onChange:g=>(an().f[20]++,an().s[40]++,this.changeProperty("metadata","maputnik:comment",g==""?(an().b[9][0]++,void 0):(an().b[9][1]++,g)))})]});case"filter":return an().b[6][1]++,an().s[41]++,N.jsx("div",{children:N.jsx("div",{className:"maputnik-filter-editor-wrapper",children:N.jsx(UW,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(an().f[21]++,an().s[42]++,this.changeProperty(null,"filter",g))})})});case"properties":return an().b[6][2]++,an().s[43]++,N.jsx(C6e,{errors:s,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return an().b[6][3]++,an().s[44]++,N.jsx(A8,{layer:this.props.layer,onChange:g=>{an().f[22]++,an().s[45]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return an().b[6][4]++,an().s[46]++,N.jsx(N.Fragment,{})}}moveLayer(n){an().f[23]++,an().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+n})}render(){an().f[24]++;const n=(an().s[48]++,[]),t=(an().s[49]++,this.props.layer.type),r=(an().s[50]++,mP(t).filter(a=>(an().f[25]++,an().s[51]++,an().b[10][0]++,!(t==="background"&&(an().b[10][1]++,a.type==="source")))).map(a=>{an().f[26]++;const p=(an().s[52]++,a.title.replace(/ /g,"_"));return an().s[53]++,n.push(p),an().s[54]++,N.jsx(b6e,{"data-wd-key":a.title,id:p,title:a.title,isActive:this.state.editorGroups[a.title],onActiveToggle:this.onGroupToggle.bind(this,a.title),children:this.renderGroupType(a.type,a.fields)},a.title)})),i=(an().s[55]++,an().b[11][0]++,this.props.layer.layout||(an().b[11][1]++,{})),o=(an().s[56]++,{delete:{text:"Delete",handler:()=>(an().f[27]++,an().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(an().f[28]++,an().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(an().b[12][0]++,"Show"):(an().b[12][1]++,"Hide"),handler:()=>(an().f[29]++,an().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(an().f[30]++,an().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(an().f[31]++,an().s[61]++,this.moveLayer(1))}});function s(a,p){an().f[32]++,an().s[62]++,p.stopPropagation(),an().s[63]++,o[a].handler()}return an().s[64]++,N.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[N.jsx("header",{children:N.jsxs("div",{className:"layer-header",children:[N.jsxs("h2",{className:"layer-header__title",children:["Layer: ",XN(this.props.layer.id)]}),N.jsx("div",{className:"layer-header__info",children:N.jsxs(Wx.Wrapper,{className:"more-menu",onSelection:s,closeOnSelection:!1,children:[N.jsx(Wx.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:N.jsx(OJ,{className:"more-menu__button__svg"})}),N.jsx(Wx.Menu,{children:N.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(a=>{an().f[33]++;const p=(an().s[65]++,o[a]);return an().s[66]++,N.jsx("li",{children:N.jsx(Wx.MenuItem,{value:a,className:"more-menu__menu__item",children:p.text})},a)})})})]})})]})}),N.jsx(zfe,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:n,children:r})]})}}nn(eO,"defaultProps",(an().s[5]++,{onLayerChanged:()=>{an().f[2]++},onLayerIdChange:()=>{an().f[3]++},onLayerDestroyed:()=>{an().f[4]++}})),nn(eO,"childContextTypes",(an().s[6]++,{reactIconBase:Kr.object}));var gP=function(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))},F6e=function(){function e(n,t,r){this.name=n,this.version=t,this.os=r,this.type="browser"}return e}(),D6e=function(){function e(n){this.version=n,this.type="node",this.name="node",this.os=process.platform}return e}(),U6e=function(){function e(n,t,r,i){this.name=n,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return e}(),R6e=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),L6e=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),z6e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,j6e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,yP=3,W6e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",z6e]],vP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function N6e(e){return e?CP(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new L6e:typeof navigator<"u"?CP(navigator.userAgent):$6e()}function G6e(e){return e!==""&&W6e.reduce(function(n,t){var r=t[0],i=t[1];if(n)return n;var o=i.exec(e);return!!o&&[r,o]},!1)}function CP(e){var n=G6e(e);if(!n)return null;var t=n[0],r=n[1];if(t==="searchbot")return new R6e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<yP&&(i=gP(gP([],i,!0),Y6e(yP-i.length),!0)):i=[];var o=i.join("."),s=Q6e(e),a=j6e.exec(e);return a&&a[1]?new U6e(t,o,s,a[1]):new F6e(t,o,s)}function Q6e(e){for(var n=0,t=vP.length;n<t;n++){var r=vP[n],i=r[0],o=r[1],s=o.exec(e);if(s)return i}return null}function $6e(){var e=typeof process<"u"&&process.version;return e?new D6e(process.version.slice(1)):null}function Y6e(e){for(var n=[],t=0;t<e;t++)n.push("0");return n}const q6e="maputnik",V6e="2.0.0",H6e="A MapLibre GL visual style editor",Z6e="module",X6e="''",J6e={start:"vite",build:"tsc && vite build --base=/maputnik/",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"'},eEe={type:"git",url:"https://github.com/maplibre/maputnik"},tEe="Lukas Martinelli",nEe="MIT",rEe="https://github.com/maplibre/maputnik#readme",iEe={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-style-spec":"^20.1.0","@mdi/js":"^6.6.96","@mdi/react":"^1.5.0","@typescript-eslint/eslint-plugin":"^6.16.0","@typescript-eslint/parser":"^6.16.0","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.3.1",codemirror:"^5.65.2",color:"^4.2.3","detect-browser":"^5.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^3.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","mapbox-gl-inspect":"^1.3.1","maplibre-gl":"^4.0.0","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","prop-types":"^15.8.1",react:"^16.0.0","react-accessible-accordion":"^4.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^4.0.1","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^16.0.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^4.3.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.50.0",slugify:"^1.6.5","string-hash":"^1.1.3",url:"^0.11.0"},oEe={esversion:6},aEe={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},sEe={"@cypress/code-coverage":"^3.12.15","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.0.17","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.13","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/react":"^16.14.52","@types/react-aria-menubutton":"^6.2.13","@types/react-aria-modal":"^4.0.9","@types/react-autocomplete":"^1.8.9","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.10","@types/react-dom":"^16.9.24","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.7","@vitejs/plugin-react":"^4.2.0",cors:"^2.8.5",cypress:"^13.6.1",eslint:"^8.56.0","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.5",express:"^4.17.3",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.0",mocha:"^9.2.2",postcss:"^8.4.12","react-hot-loader":"^4.13.0",stylelint:"^14.6.1","stylelint-config-recommended-scss":"^6.0.0","stylelint-scss":"^4.2.0",typescript:"^5.3.3",uuid:"^8.3.2",vite:"^5.0.12","vite-plugin-istanbul":"^5.0.0"},_P={name:q6e,version:V6e,description:H6e,type:Z6e,main:X6e,scripts:J6e,repository:eEe,author:tEe,license:nEe,homepage:rEe,dependencies:iEe,jshintConfig:oEe,stylelint:aEe,devDependencies:sEe},lEe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Ri(){var e="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",n="0db82fbe81362fe89bc1026468f1e8ab5376993d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:8,column:16},end:{line:8,column:24}},1:{start:{line:9,column:41},end:{line:9,column:89}},2:{start:{line:12,column:4},end:{line:12,column:107}},3:{start:{line:17,column:4},end:{line:27,column:6}},4:{start:{line:32,column:4},end:{line:39,column:6}},5:{start:{line:44,column:4},end:{line:52,column:6}},6:{start:{line:56,column:10},end:{line:64,column:3}},7:{start:{line:66,column:4},end:{line:66,column:34}},8:{start:{line:68,column:11},end:{line:75,column:3}},9:{start:{line:69,column:4},end:{line:74,column:5}},10:{start:{line:70,column:6},end:{line:70,column:59}},11:{start:{line:72,column:17},end:{line:72,column:65}},12:{start:{line:73,column:6},end:{line:73,column:17}},13:{start:{line:77,column:18},end:{line:113,column:5}},14:{start:{line:114,column:24},end:{line:116,column:6}},15:{start:{line:115,column:6},end:{line:115,column:45}},16:{start:{line:117,column:4},end:{line:217,column:12}},17:{start:{line:128,column:33},end:{line:128,column:58}},18:{start:{line:137,column:33},end:{line:137,column:60}},19:{start:{line:146,column:33},end:{line:146,column:51}},20:{start:{line:198,column:33},end:{line:198,column:69}},21:{start:{line:201,column:38},end:{line:201,column:59}},22:{start:{line:202,column:20},end:{line:202,column:157}},23:{start:{line:204,column:112},end:{line:204,column:145}},24:{start:{line:205,column:20},end:{line:205,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:13,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:11},end:{line:28,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:11},end:{line:40,column:3}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:53,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:68,column:11},end:{line:68,column:12}},loc:{start:{line:68,column:23},end:{line:75,column:3}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:11},end:{line:218,column:3}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:114,column:35},end:{line:114,column:36}},loc:{start:{line:114,column:45},end:{line:116,column:5}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:128,column:25},end:{line:128,column:26}},loc:{start:{line:128,column:33},end:{line:128,column:58}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:137,column:25},end:{line:137,column:26}},loc:{start:{line:137,column:33},end:{line:137,column:60}},line:137},10:{name:"(anonymous_10)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:33},end:{line:146,column:51}},line:146},11:{name:"(anonymous_11)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:69}},line:198},12:{name:"(anonymous_12)",decl:{start:{line:201,column:31},end:{line:201,column:32}},loc:{start:{line:201,column:38},end:{line:201,column:59}},line:201},13:{name:"(anonymous_13)",decl:{start:{line:201,column:65},end:{line:201,column:66}},loc:{start:{line:201,column:75},end:{line:203,column:19}},line:201},14:{name:"(anonymous_14)",decl:{start:{line:204,column:105},end:{line:204,column:106}},loc:{start:{line:204,column:112},end:{line:204,column:145}},line:204},15:{name:"(anonymous_15)",decl:{start:{line:204,column:151},end:{line:204,column:152}},loc:{start:{line:204,column:161},end:{line:206,column:19}},line:204}},branchMap:{0:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:71,column:11},end:{line:74,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAqBW,cAoLG,YApLH;AArBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,oBAAmB;AACjG,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AAGzB,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAI,sBAAqB;AAAA,kBACjD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAS,oBAAM;AAAA,WAClB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAS,0BAAY;AAAA,WACxB;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0db82fbe81362fe89bc1026468f1e8ab5376993d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ri=function(){return s},s}Ri();const uEe=(Ri().s[0]++,N6e()),$x=(Ri().s[1]++,["chrome","firefox"].indexOf(uEe.name)>-1);class Vv extends xn.Component{render(){return Ri().f[0]++,Ri().s[2]++,N.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class AEe extends xn.Component{render(){return Ri().f[1]++,Ri().s[3]++,N.jsx("a",{className:pf("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class cEe extends xn.Component{render(){return Ri().f[2]++,Ri().s[4]++,N.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class Yx extends xn.Component{render(){return Ri().f[3]++,Ri().s[5]++,N.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class dEe extends xn.Component{constructor(){super(...arguments);nn(this,"state",(Ri().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));nn(this,"onSkip",(Ri().s[8]++,t=>{if(Ri().f[5]++,Ri().s[9]++,t==="map")Ri().b[0][0]++,Ri().s[10]++,document.querySelector(".maplibregl-canvas").focus();else{Ri().b[0][1]++;const r=(Ri().s[11]++,document.querySelector("#skip-target-"+t));Ri().s[12]++,r.focus()}}))}handleSelection(t){Ri().f[4]++,Ri().s[7]++,this.props.onSetMapState(t)}render(){Ri().f[6]++;const t=(Ri().s[13]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!$x},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!$x},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!$x},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!$x}]),r=(Ri().s[14]++,t.find(i=>(Ri().f[7]++,Ri().s[15]++,i.id===this.props.mapState)));return Ri().s[16]++,N.jsx("nav",{className:"maputnik-toolbar",children:N.jsxs("div",{className:"maputnik-toolbar__inner",children:[N.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[N.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>(Ri().f[8]++,Ri().s[17]++,this.onSkip("layer-list")),children:"Layers list"}),N.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>(Ri().f[9]++,Ri().s[18]++,this.onSkip("layer-editor")),children:"Layer editor"}),N.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>(Ri().f[10]++,Ri().s[19]++,this.onSkip("map")),children:"Map view"}),N.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[N.jsx("img",{src:lEe,alt:"Maputnik on GitHub"}),N.jsxs("h1",{children:[N.jsx("span",{className:"maputnik-toolbar-name",children:_P.name}),N.jsxs("span",{className:"maputnik-toolbar-version",children:["v",_P.version]})]})]})]}),N.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[N.jsxs(Yx,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[N.jsx(pJ,{}),N.jsx(Vv,{children:"Open"})]}),N.jsxs(Yx,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[N.jsx(I6,{}),N.jsx(Vv,{children:"Export"})]}),N.jsxs(Yx,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[N.jsx(wJ,{}),N.jsx(Vv,{children:"Data Sources"})]}),N.jsxs(Yx,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[N.jsx(mJ,{}),N.jsx(Vv,{children:"Style Settings"})]}),N.jsxs(cEe,{wdKey:"nav:inspect",children:[N.jsx(cJ,{}),N.jsxs("label",{children:["View",N.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>(Ri().f[11]++,Ri().s[20]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[t.filter(i=>(Ri().f[12]++,Ri().s[21]++,i.group==="general")).map(i=>(Ri().f[13]++,Ri().s[22]++,N.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),N.jsx("optgroup",{label:"Color accessibility",children:t.filter(i=>(Ri().f[14]++,Ri().s[23]++,i.group==="color-accessibility")).map(i=>(Ri().f[15]++,Ri().s[24]++,N.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),N.jsxs(AEe,{href:"https://github.com/maplibre/maputnik/wiki",children:[N.jsx(dJ,{}),N.jsx(Vv,{children:"Help"})]})]})]})})}}function A4(){var e="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",n="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return A4=function(){return s},s}A4();class hEe extends xn.Component{render(){return A4().f[0]++,A4().s[0]++,N.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function sp(){var e="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",n="d25fdb432b603b186bd9e2fc84ff27ac61d9521e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d25fdb432b603b186bd9e2fc84ff27ac61d9521e"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return sp=function(){return s},s}sp();class eG extends xn.Component{getChildContext(){return sp().f[0]++,sp().s[1]++,{reactIconBase:{size:14}}}render(){return sp().f[1]++,sp().s[2]++,N.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,N.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),N.jsx("div",{className:"maputnik-layout-drawer",children:N.jsx(hEe,{children:this.props.layerEditor})}),this.props.map,(sp().b[0][0]++,this.props.bottom&&(sp().b[0][1]++,N.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}nn(eG,"childContextTypes",(sp().s[0]++,{reactIconBase:Kr.object}));function ja(){var e="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",n="e5f88535075aece22d8ac3a6577a6cf140d2a75b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e5f88535075aece22d8ac3a6577a6cf140d2a75b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ja=function(){return s},s}ja();class tG extends xn.Component{render(){var i,o;ja().f[1]++;const{selectedLayerIndex:n}=(ja().s[1]++,this.props),t=(ja().s[2]++,(i=this.props.errors)==null?void 0:i.map((s,a)=>{var g;ja().f[2]++;let p;if(ja().s[3]++,ja().b[1][0]++,s.parsed&&(ja().b[1][1]++,s.parsed.type==="layer")){ja().b[0][0]++;const{parsed:b}=(ja().s[4]++,s),B=(ja().s[5]++,(g=this.props.mapStyle)==null?void 0:g.layers[b.data.index].id);ja().s[6]++,p=N.jsxs(N.Fragment,{children:["Layer ",N.jsx("span",{children:XN(B)}),": ",b.data.message,(ja().b[2][0]++,n!==b.data.index&&(ja().b[2][1]++,N.jsxs(N.Fragment,{children:["",N.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(ja().f[3]++,ja().s[7]++,this.props.onLayerSelect(b.data.index)),children:"switch to layer"})]})))]})}else ja().b[0][1]++,ja().s[8]++,p=s.message;return ja().s[9]++,N.jsx("p",{className:"maputnik-message-panel-error",children:p},"error-"+a)})),r=(ja().s[10]++,(o=this.props.infos)==null?void 0:o.map((s,a)=>(ja().f[4]++,ja().s[11]++,N.jsx("p",{children:s},"info-"+a))));return ja().s[12]++,N.jsxs("div",{className:"maputnik-message-panel",children:[t,r]})}}nn(tG,"defaultProps",(ja().s[0]++,{onLayerSelect:()=>{ja().f[0]++}}));function c4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",n="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return c4=function(){return s},s}c4();class d4 extends xn.Component{render(){return c4().f[0]++,c4().s[0]++,N.jsx(b_,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(NN,{...this.props})})}}function h4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",n="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return h4=function(){return s},s}h4();class lp extends xn.Component{render(){return h4().f[0]++,h4().s[0]++,N.jsx(Po,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(Cf,{...this.props})})}}function f4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",n="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return f4=function(){return s},s}f4();class x_ extends xn.Component{render(){return f4().f[0]++,f4().s[0]++,N.jsx(Po,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx($8,{...this.props})})}}function p4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",n="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return p4=function(){return s},s}p4();class q8 extends xn.Component{render(){return p4().f[0]++,p4().s[0]++,N.jsx(Po,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(_1,{...this.props})})}}function m4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",n="5745e67ee75c0f352c022256ef8bf31e8fa7367f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return m4=function(){return s},s}m4();class fEe extends xn.Component{render(){return m4().f[0]++,m4().s[0]++,N.jsx(b_,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(Q8,{...this.props})})}}function g4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",n="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return g4=function(){return s},s}g4();class pEe extends xn.Component{render(){return g4().f[0]++,g4().s[0]++,N.jsx(Po,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:N.jsx(WN,{...this.props})})}}function V8(){var e="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",n="97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return V8=function(){return s},s}V8();const Xh=(V8().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function ni(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",n="b694e94f243a11fbdf621abee61c98955da7068f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:20},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:31}},13:{start:{line:49,column:6},end:{line:49,column:32}},14:{start:{line:51,column:4},end:{line:54,column:7}},15:{start:{line:57,column:25},end:{line:59,column:5}},16:{start:{line:60,column:4},end:{line:64,column:5}},17:{start:{line:61,column:6},end:{line:61,column:36}},18:{start:{line:63,column:6},end:{line:63,column:37}},19:{start:{line:65,column:4},end:{line:65,column:44}},20:{start:{line:68,column:21},end:{line:68,column:55}},21:{start:{line:69,column:51},end:{line:69,column:61}},22:{start:{line:70,column:18},end:{line:70,column:49}},23:{start:{line:71,column:23},end:{line:71,column:59}},24:{start:{line:72,column:20},end:{line:72,column:53}},25:{start:{line:73,column:4},end:{line:283,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:41},end:{line:55,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:39},end:{line:66,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:284,column:3}},line:67}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:60,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:64,column:5}},{start:{line:62,column:11},end:{line:64,column:5}}],line:60},4:{loc:{start:{line:68,column:21},end:{line:68,column:55}},type:"binary-expr",locations:[{start:{line:68,column:21},end:{line:68,column:49}},{start:{line:68,column:53},end:{line:68,column:55}}],line:68},5:{loc:{start:{line:70,column:18},end:{line:70,column:49}},type:"binary-expr",locations:[{start:{line:70,column:18},end:{line:70,column:43}},{start:{line:70,column:47},end:{line:70,column:49}}],line:70},6:{loc:{start:{line:71,column:23},end:{line:71,column:59}},type:"binary-expr",locations:[{start:{line:71,column:23},end:{line:71,column:53}},{start:{line:71,column:57},end:{line:71,column:59}}],line:71},7:{loc:{start:{line:72,column:20},end:{line:72,column:53}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:47}},{start:{line:72,column:51},end:{line:72,column:53}}],line:72},8:{loc:{start:{line:148,column:21},end:{line:148,column:42}},type:"binary-expr",locations:[{start:{line:148,column:21},end:{line:148,column:36}},{start:{line:148,column:40},end:{line:148,column:42}}],line:148},9:{loc:{start:{line:277,column:21},end:{line:277,column:62}},type:"binary-expr",locations:[{start:{line:277,column:21},end:{line:277,column:50}},{start:{line:277,column:54},end:{line:277,column:62}}],line:277}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA6GM,SACE,KADF;AA7GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAGnB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAElD,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,cAC1D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,cAC/D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b694e94f243a11fbdf621abee61c98955da7068f"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ni=function(){return s},s}ni();class mEe extends xn.Component{changeTransitionProperty(n,t){ni().f[0]++;const r=(ni().s[0]++,{...this.props.mapStyle.transition});ni().s[1]++,t===void 0?(ni().b[0][0]++,ni().s[2]++,delete r[n]):(ni().b[0][1]++,ni().s[3]++,r[n]=t),ni().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(n,t){ni().f[1]++;const r=(ni().s[5]++,{...this.props.mapStyle.light});ni().s[6]++,t===void 0?(ni().b[1][0]++,ni().s[7]++,delete r[n]):(ni().b[1][1]++,ni().s[8]++,r[n]=t),ni().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(n,t){ni().f[2]++;const r=(ni().s[10]++,{...this.props.mapStyle.terrain});ni().s[11]++,t===void 0?(ni().b[2][0]++,ni().s[12]++,delete r[n]):(ni().b[2][1]++,ni().s[13]++,r[n]=t),ni().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(n,t){ni().f[3]++;const r=(ni().s[15]++,{...this.props.mapStyle});ni().s[16]++,t===void 0?(ni().b[3][0]++,ni().s[17]++,delete r[n]):(ni().b[3][1]++,ni().s[18]++,r[n]=t),ni().s[19]++,this.props.onStyleChanged(r)}render(){ni().f[4]++;const n=(ni().s[20]++,ni().b[4][0]++,this.props.mapStyle.metadata||(ni().b[4][1]++,{})),{onChangeMetadataProperty:t,mapStyle:r}=(ni().s[21]++,this.props),i=(ni().s[22]++,ni().b[5][0]++,this.props.mapStyle.light||(ni().b[5][1]++,{})),o=(ni().s[23]++,ni().b[6][0]++,this.props.mapStyle.transition||(ni().b[6][1]++,{})),s=(ni().s[24]++,ni().b[7][0]++,this.props.mapStyle.terrain||(ni().b[7][1]++,{}));return ni().s[25]++,N.jsx(Sf,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:N.jsxs("div",{className:"modal:settings",children:[N.jsx(rh,{label:"Name",fieldSpec:Hi.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),N.jsx(rh,{label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),N.jsx(x_,{fieldSpec:Hi.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),N.jsx(x_,{label:"Glyphs URL",fieldSpec:Hi.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),N.jsx(rh,{label:Xh.maputnik.maptiler_access_token.label,fieldSpec:Xh.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:n["maputnik:openmaptiles_access_token"],onChange:t.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(rh,{label:Xh.maputnik.thunderforest_access_token.label,fieldSpec:Xh.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:n["maputnik:thunderforest_access_token"],onChange:t.bind(this,"maputnik:thunderforest_access_token")}),N.jsx(d4,{label:"Center",fieldSpec:Hi.$root.center,length:2,type:"number",value:(ni().b[8][0]++,r.center||(ni().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),N.jsx(lp,{label:"Zoom",fieldSpec:Hi.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),N.jsx(lp,{label:"Bearing",fieldSpec:Hi.$root.bearing,value:r.bearing,default:Hi.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),N.jsx(lp,{label:"Pitch",fieldSpec:Hi.$root.pitch,value:r.pitch,default:Hi.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),N.jsx(fEe,{label:"Light anchor",fieldSpec:Hi.light.anchor,name:"light-anchor",value:i.anchor,options:Object.keys(Hi.light.anchor.values),default:Hi.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),N.jsx(pEe,{label:"Light color",fieldSpec:Hi.light.color,value:i.color,default:Hi.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),N.jsx(lp,{label:"Light intensity",fieldSpec:Hi.light.intensity,value:i.intensity,default:Hi.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),N.jsx(d4,{label:"Light position",fieldSpec:Hi.light.position,type:"number",length:Hi.light.position.length,value:i.position,default:Hi.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),N.jsx(rh,{label:"Terrain source",fieldSpec:Hi.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:s.source,onChange:this.changeTerrainProperty.bind(this,"source")}),N.jsx(lp,{label:"Terrain exaggeration",fieldSpec:Hi.terrain.exaggeration,value:s.exaggeration,default:Hi.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),N.jsx(lp,{label:"Transition delay",fieldSpec:Hi.transition.delay,value:o.delay,default:Hi.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),N.jsx(lp,{label:"Transition duration",fieldSpec:Hi.transition.duration,value:o.duration,default:Hi.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),N.jsx(q8,{label:Xh.maputnik.style_renderer.label,fieldSpec:Xh.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(ni().b[9][0]++,n["maputnik:renderer"]||(ni().b[9][1]++,"mlgljs")),onChange:t.bind(this,"maputnik:renderer")})]})})}}var nG={exports:{}};(function(e,n){(function(t,r,i){e.exports=i(),e.exports.default=i()})("slugify",_f,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=r[s.locale]||{},p=s.replacement===void 0?"-":s.replacement,g=s.trim===void 0?!0:s.trim,b=o.normalize().split("").reduce(function(B,k){var P=a[k];return P===void 0&&(P=t[k]),P===void 0&&(P=k),P===p&&(P=" "),B+P.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(b=b.replace(/[^A-Za-z0-9\s]/g,"")),g&&(b=b.trim()),b=b.replace(/\s+/g,p),s.lower&&(b=b.toLowerCase()),b}return i.extend=function(o){Object.assign(t,o)},i})})(nG);var gEe=nG.exports;const yEe=ma(gEe);var rG={exports:{}};(function(e,n){(function(t,r){r()})(_f,function(){function t(g,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,b,B){var k=new XMLHttpRequest;k.open("GET",g),k.responseType="blob",k.onload=function(){p(k.response,b,B)},k.onerror=function(){console.error("could not download file")},k.send()}function i(g){var b=new XMLHttpRequest;b.open("HEAD",g,!1);try{b.send()}catch{}return 200<=b.status&&299>=b.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(b)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(g,b,B){var k=s.URL||s.webkitURL,P=document.createElement("a");b=b||g.name||"download",P.download=b,P.rel="noopener",typeof g=="string"?(P.href=g,P.origin===location.origin?o(P):i(P.href)?r(g,b,B):o(P,P.target="_blank")):(P.href=k.createObjectURL(g),setTimeout(function(){k.revokeObjectURL(P.href)},4e4),setTimeout(function(){o(P)},0))}:"msSaveOrOpenBlob"in navigator?function(g,b,B){if(b=b||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,B),b);else if(i(g))r(g,b,B);else{var k=document.createElement("a");k.href=g,k.target="_blank",setTimeout(function(){o(k)})}}:function(g,b,B,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof g=="string")return r(g,b,B);var P=g.type==="application/octet-stream",R=/constructor/i.test(s.HTMLElement)||s.safari,Z=/CriOS\/[\d]+/.test(navigator.userAgent);if((Z||P&&R||a)&&typeof FileReader<"u"){var W=new FileReader;W.onloadend=function(){var oe=W.result;oe=Z?oe:oe.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=oe:location=oe,k=null},W.readAsDataURL(g)}else{var Q=s.URL||s.webkitURL,q=Q.createObjectURL(g);k?k.location=q:location.href=q,k=null,setTimeout(function(){Q.revokeObjectURL(q)},4e4)}});s.saveAs=p.saveAs=p,e.exports=p})})(rG);var bP=rG.exports;const vEe="4.0.0",CEe="get_your_own_OpIi9ZULNHzrESv6T2vL",_Ee="b71f7f0ba4064f5eb9e903859a9cf5c6",iG={openmaptiles:CEe,thunderforest:_Ee};function Ln(){var e="/home/runner/work/maputnik/maputnik/src/libs/style.ts",n="90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:93,column:3}},40:{start:{line:86,column:27},end:{line:86,column:73}},41:{start:{line:87,column:4},end:{line:92,column:5}},42:{start:{line:88,column:6},end:{line:91,column:8}},43:{start:{line:94,column:2},end:{line:94,column:22}},44:{start:{line:97,column:26},end:{line:99,column:3}},45:{start:{line:100,column:2},end:{line:100,column:63}},46:{start:{line:101,column:2},end:{line:104,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:95,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:96,column:9},end:{line:96,column:26}},loc:{start:{line:96,column:37},end:{line:105,column:1}},line:96}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80},14:{loc:{start:{line:85,column:2},end:{line:93,column:3}},type:"if",locations:[{start:{line:85,column:2},end:{line:93,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},15:{loc:{start:{line:85,column:6},end:{line:85,column:114}},type:"binary-expr",locations:[{start:{line:85,column:6},end:{line:85,column:21}},{start:{line:85,column:26},end:{line:85,column:69}},{start:{line:85,column:73},end:{line:85,column:113}}],line:85},16:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ln=function(){return s},s}Ln();const bEe=(Ln().s[0]++,aG({version:8,sources:{},layers:[]}));function oG(){return Ln().f[0]++,Ln().s[1]++,Math.random().toString(36).substring(2,9)}function xEe(e){return Ln().f[1]++,Ln().s[2]++,Ln().b[1][0]++,!("id"in e)||(Ln().b[1][1]++,!e.id)?(Ln().b[0][0]++,Ln().s[3]++,e.id=oG(),Ln().s[4]++,e):(Ln().b[0][1]++,Ln().s[5]++,e)}function wEe(e){Ln().f[2]++;const n=(Ln().s[6]++,e.layers.map(t=>{Ln().f[3]++;const r=(Ln().s[7]++,{...t});return Ln().s[8]++,delete r.interactive,Ln().s[9]++,r}));return Ln().s[10]++,{...e,layers:n}}function MEe(e){return Ln().f[4]++,Ln().s[11]++,{...e,layers:FH(e.layers)}}function aG(e){return Ln().f[5]++,Ln().s[12]++,wEe(MEe(xEe(e)))}function SEe(e,n){Ln().f[6]++,Ln().s[13]++;for(let t=(Ln().s[14]++,0);t<e.length;t++){if(Ln().s[15]++,e[t].id===n)return Ln().b[2][0]++,Ln().s[16]++,t;Ln().b[2][1]++}return Ln().s[17]++,null}function H8(e,n,t){Ln().f[7]++,Ln().s[18]++,Ln().b[4][0]++,e==="thunderforest_transport"||(Ln().b[4][1]++,e==="thunderforest_outdoors")?(Ln().b[3][0]++,Ln().s[19]++,e="thunderforest"):Ln().b[3][1]++;const r=(Ln().s[20]++,Ln().b[5][0]++,n.metadata||(Ln().b[5][1]++,{}));let i=(Ln().s[21]++,r[`maputnik:${e}_access_token`]);return Ln().s[22]++,Ln().b[7][0]++,t.allowFallback&&(Ln().b[7][1]++,!i)?(Ln().b[6][0]++,Ln().s[23]++,i=iG[e]):Ln().b[6][1]++,Ln().s[24]++,i}function EEe(e,n,t=(Ln().b[8][0]++,{})){Ln().f[8]++;const r=(Ln().s[25]++,e.sources[n]);if(Ln().s[26]++,r)Ln().b[9][1]++;else return Ln().b[9][0]++,Ln().s[27]++,e;if(Ln().s[28]++,Ln().b[11][0]++,!("url"in r)||(Ln().b[11][1]++,!r.url))return Ln().b[10][0]++,Ln().s[29]++,e;Ln().b[10][1]++;const i=(Ln().s[30]++,H8(n,e,t));if(Ln().s[31]++,i)Ln().b[12][1]++;else return Ln().b[12][0]++,Ln().s[32]++,e;const o=(Ln().s[33]++,{...e.sources,[n]:{...r,url:r.url.replace("{key}",i)}}),s=(Ln().s[34]++,{...e,sources:o});return Ln().s[35]++,s}function OEe(e,n=(Ln().b[13][0]++,{})){Ln().f[9]++;let t=(Ln().s[36]++,e);if(Ln().s[37]++,Object.keys(e.sources).forEach(r=>{Ln().f[10]++,Ln().s[38]++,t=EEe(t,r,n)}),Ln().s[39]++,Ln().b[15][0]++,e.glyphs&&(Ln().b[15][1]++,e.glyphs.match(/\.tilehosting\.com/)||(Ln().b[15][2]++,e.glyphs.match(/\.maptiler\.com/)))){Ln().b[14][0]++;const r=(Ln().s[40]++,H8("openmaptiles",e,n));Ln().s[41]++,r?(Ln().b[16][0]++,Ln().s[42]++,t={...t,glyphs:e.glyphs.replace("{key}",r)}):Ln().b[16][1]++}else Ln().b[14][1]++;return Ln().s[43]++,t}function BEe(e){Ln().f[11]++;const n=(Ln().s[44]++,{...e.metadata});return Ln().s[45]++,delete n["maputnik:openmaptiles_access_token"],Ln().s[46]++,{...e,metadata:n}}const wu={ensureStyleValidity:aG,emptyStyle:bEe,indexOfLayer:SEe,generateId:oG,getAccessToken:H8,replaceAccessTokens:OEe,stripAccessTokens:BEe};function Io(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",n="5ede43596afbfd1204f65c6c1bd54e16d6b65a8a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:13,column:28},end:{line:13,column:35}},1:{start:{line:16,column:4},end:{line:20,column:6}},2:{start:{line:23,column:4},end:{line:31,column:5}},3:{start:{line:24,column:6},end:{line:28,column:9}},4:{start:{line:30,column:6},end:{line:30,column:36}},5:{start:{line:34,column:23},end:{line:34,column:44}},6:{start:{line:35,column:22},end:{line:35,column:55}},7:{start:{line:36,column:17},end:{line:60,column:1}},8:{start:{line:61,column:17},end:{line:61,column:70}},9:{start:{line:62,column:23},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:39}},11:{start:{line:66,column:23},end:{line:66,column:44}},12:{start:{line:67,column:17},end:{line:67,column:83}},13:{start:{line:68,column:23},end:{line:68,column:40}},14:{start:{line:69,column:4},end:{line:69,column:39}},15:{start:{line:72,column:25},end:{line:78,column:5}},16:{start:{line:79,column:4},end:{line:79,column:44}},17:{start:{line:82,column:4},end:{line:137,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:19},end:{line:21,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:15},end:{line:32,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:17},end:{line:64,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:18},end:{line:70,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:42},end:{line:80,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:138,column:3}},line:81}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:31,column:5}},{start:{line:29,column:11},end:{line:31,column:5}}],line:23},1:{loc:{start:{line:35,column:22},end:{line:35,column:55}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:46}},{start:{line:35,column:50},end:{line:35,column:55}}],line:35},2:{loc:{start:{line:99,column:24},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:24},end:{line:99,column:52}},{start:{line:99,column:56},end:{line:99,column:58}}],line:99},3:{loc:{start:{line:108,column:24},end:{line:108,column:58}},type:"binary-expr",locations:[{start:{line:108,column:24},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:58}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA+GQ,cAKA,YALA;AA/GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,gBAC1D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,gBAC/D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5ede43596afbfd1204f65c6c1bd54e16d6b65a8a"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Io=function(){return s},s}Io();const xP=(Io().s[0]++,vEe);class kEe extends xn.Component{tokenizedStyle(){return Io().f[0]++,Io().s[1]++,zR(wu.stripAccessTokens(wu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Io().f[1]++,Io().s[2]++,this.props.mapStyle.name?(Io().b[0][0]++,Io().s[3]++,yEe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Io().b[0][1]++,Io().s[4]++,this.props.mapStyle.id)}downloadHtml(){Io().f[2]++;const n=(Io().s[5]++,this.tokenizedStyle()),t=(Io().s[6]++,Io().b[1][0]++,this.props.mapStyle.name||(Io().b[1][1]++,"Map")),r=(Io().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${xP}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${xP}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${n},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(Io().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(Io().s[9]++,this.exportName());Io().s[10]++,bP.saveAs(i,o+".html")}downloadStyle(){Io().f[3]++;const n=(Io().s[11]++,this.tokenizedStyle()),t=(Io().s[12]++,new Blob([n],{type:"application/json;charset=utf-8"})),r=(Io().s[13]++,this.exportName());Io().s[14]++,bP.saveAs(t,r+".json")}changeMetadataProperty(n,t){Io().f[4]++;const r=(Io().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[n]:t}});Io().s[16]++,this.props.onStyleChanged(r)}render(){return Io().f[5]++,Io().s[17]++,N.jsx(Sf,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Download Style"}),N.jsx("p",{children:"Download a JSON style to your computer."}),N.jsxs("div",{children:[N.jsx(rh,{label:Xh.maputnik.maptiler_access_token.label,fieldSpec:Xh.maputnik.maptiler_access_token,value:(Io().b[2][0]++,this.props.mapStyle.metadata||(Io().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),N.jsx(rh,{label:Xh.maputnik.thunderforest_access_token.label,fieldSpec:Xh.maputnik.thunderforest_access_token,value:(Io().b[3][0]++,this.props.mapStyle.metadata||(Io().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")})]}),N.jsxs("div",{className:"maputnik-modal-export-buttons",children:[N.jsxs(Ba,{onClick:this.downloadStyle.bind(this),children:[N.jsx(I6,{}),"Download Style"]}),N.jsxs(Ba,{onClick:this.downloadHtml.bind(this),children:[N.jsx(I6,{}),"Download HTML"]})]})]})})}}function y4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",n="950dd35e62562a3439b74678b95f406e749c6958",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return y4=function(){return s},s}y4();class sG extends xn.Component{render(){return y4().f[0]++,y4().s[0]++,N.jsx(b_,{label:this.props.label,children:N.jsx(GN,{...this.props})})}}function v4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",n="a27c35e986d22656fa80c276efb67df518853ac2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return v4=function(){return s},s}v4();class IEe extends xn.Component{render(){return v4().f[0]++,v4().s[0]++,N.jsx(Po,{label:this.props.label,children:N.jsx(G8,{...this.props})})}}function qn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",n="bd3e4d09ce7131c28fb23a5fc0245fe57c891028",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:261,column:5}},32:{start:{line:228,column:8},end:{line:228,column:79}},33:{start:{line:230,column:8},end:{line:230,column:85}},34:{start:{line:232,column:8},end:{line:232,column:77}},35:{start:{line:234,column:8},end:{line:234,column:76}},36:{start:{line:236,column:8},end:{line:236,column:77}},37:{start:{line:238,column:8},end:{line:238,column:76}},38:{start:{line:240,column:8},end:{line:240,column:77}},39:{start:{line:242,column:8},end:{line:254,column:13}},40:{start:{line:248,column:36},end:{line:251,column:14}},41:{start:{line:256,column:8},end:{line:256,column:74}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:262,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:248,column:22},end:{line:248,column:23}},loc:{start:{line:248,column:36},end:{line:251,column:14}},line:248}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:261,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:79}},{start:{line:229,column:6},end:{line:230,column:85}},{start:{line:231,column:6},end:{line:232,column:77}},{start:{line:233,column:6},end:{line:234,column:76}},{start:{line:235,column:6},end:{line:236,column:77}},{start:{line:237,column:6},end:{line:238,column:76}},{start:{line:239,column:6},end:{line:240,column:77}},{start:{line:241,column:6},end:{line:254,column:13}},{start:{line:255,column:6},end:{line:256,column:74}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:20}}],line:226},4:{loc:{start:{line:252,column:19},end:{line:252,column:90}},type:"binary-expr",locations:[{start:{line:252,column:19},end:{line:252,column:45}},{start:{line:252,column:49},end:{line:252,column:90}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bd3e4d09ce7131c28fb23a5fc0245fe57c891028"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return qn=function(){return s},s}qn();class oS extends xn.Component{render(){return qn().f[0]++,qn().s[0]++,N.jsxs("div",{children:[N.jsx(x_,{label:"TileJSON URL",fieldSpec:pa.source_vector.url,value:this.props.source.url,onChange:n=>(qn().f[1]++,qn().s[1]++,this.props.onChange({...this.props.source,url:n}))}),this.props.children]})}}class aS extends xn.Component{changeTileUrls(n){qn().f[2]++,qn().s[2]++,this.props.onChange({...this.props.source,tiles:n})}renderTileUrls(){qn().f[3]++;const n=(qn().s[3]++,qn().b[0][0]++,this.props.source.tiles||(qn().b[0][1]++,[]));return qn().s[4]++,N.jsx(sG,{label:"Tile URL",fieldSpec:pa.source_vector.tiles,type:"url",value:n,onChange:this.changeTileUrls.bind(this)})}render(){return qn().f[4]++,qn().s[5]++,N.jsxs("div",{children:[this.renderTileUrls(),N.jsx(lp,{label:"Min Zoom",fieldSpec:pa.source_vector.minzoom,value:(qn().b[1][0]++,this.props.source.minzoom||(qn().b[1][1]++,0)),onChange:n=>(qn().f[5]++,qn().s[6]++,this.props.onChange({...this.props.source,minzoom:n}))}),N.jsx(lp,{label:"Max Zoom",fieldSpec:pa.source_vector.maxzoom,value:(qn().b[2][0]++,this.props.source.maxzoom||(qn().b[2][1]++,22)),onChange:n=>(qn().f[6]++,qn().s[7]++,this.props.onChange({...this.props.source,maxzoom:n}))}),this.props.children]})}}class TEe extends xn.Component{render(){qn().f[7]++,qn().s[8]++;const n=(t,r)=>{qn().f[8]++;const i=(qn().s[9]++,this.props.source.coordinates.slice(0));qn().s[10]++,i[t]=r,qn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return qn().s[12]++,N.jsxs("div",{children:[N.jsx(x_,{label:"Image URL",fieldSpec:pa.source_image.url,value:this.props.source.url,onChange:t=>(qn().f[9]++,qn().s[13]++,this.props.onChange({...this.props.source,url:t}))}),["top left","top right","bottom right","bottom left"].map((t,r)=>(qn().f[10]++,qn().s[14]++,N.jsx(d4,{label:`Coord ${t}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(qn().f[11]++,qn().s[15]++,n(r,i))},t)))]})}}class KEe extends xn.Component{render(){qn().f[12]++,qn().s[16]++;const n=(r,i)=>{qn().f[13]++;const o=(qn().s[17]++,this.props.source.coordinates.slice(0));qn().s[18]++,o[r]=i,qn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};qn().s[20]++;const t=r=>{qn().f[14]++,qn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return qn().s[22]++,N.jsxs("div",{children:[N.jsx(sG,{label:"Video URL",fieldSpec:pa.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:t}),["top left","top right","bottom right","bottom left"].map((r,i)=>(qn().f[15]++,qn().s[23]++,N.jsx(d4,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(qn().f[16]++,qn().s[24]++,n(i,o))},r)))]})}}class PEe extends xn.Component{render(){return qn().f[17]++,qn().s[25]++,N.jsx(x_,{label:"GeoJSON URL",fieldSpec:pa.source_geojson.data,value:this.props.source.data,onChange:n=>(qn().f[18]++,qn().s[26]++,this.props.onChange({...this.props.source,data:n}))})}}class FEe extends xn.Component{render(){return qn().f[19]++,qn().s[27]++,N.jsxs("div",{children:[N.jsx(Po,{label:"GeoJSON",fieldSpec:pa.source_geojson.data,children:N.jsx(A8,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:n=>{qn().f[20]++,qn().s[28]++,this.props.onChange({...this.props.source,data:n})}})}),N.jsx(IEe,{label:"Cluster",value:this.props.source.cluster,onChange:n=>{qn().f[21]++,qn().s[29]++,this.props.onChange({...this.props.source,cluster:n})}})]})}}class lG extends xn.Component{render(){qn().f[22]++;const n=(qn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(qn().s[31]++,this.props.mode){case"geojson_url":return qn().b[3][0]++,qn().s[32]++,N.jsx(PEe,{...n});case"geojson_json":return qn().b[3][1]++,qn().s[33]++,N.jsx(FEe,{...n});case"tilejson_vector":return qn().b[3][2]++,qn().s[34]++,N.jsx(oS,{...n});case"tilexyz_vector":return qn().b[3][3]++,qn().s[35]++,N.jsx(aS,{...n});case"tilejson_raster":return qn().b[3][4]++,qn().s[36]++,N.jsx(oS,{...n});case"tilexyz_raster":return qn().b[3][5]++,qn().s[37]++,N.jsx(aS,{...n});case"tilejson_raster-dem":return qn().b[3][6]++,qn().s[38]++,N.jsx(oS,{...n});case"tilexyz_raster-dem":return qn().b[3][7]++,qn().s[39]++,N.jsx(aS,{...n,children:N.jsx(q8,{label:"Encoding",fieldSpec:pa.source_raster_dem.encoding,options:Object.keys(pa.source_raster_dem.encoding.values),onChange:t=>(qn().f[23]++,qn().s[40]++,this.props.onChange({...this.props.source,encoding:t})),value:(qn().b[4][0]++,this.props.source.encoding||(qn().b[4][1]++,pa.source_raster_dem.encoding.default))})});case"image":return qn().b[3][8]++,qn().s[41]++,N.jsx(TEe,{...n});case"video":return qn().b[3][9]++,qn().s[42]++,N.jsx(KEe,{...n});default:return qn().b[3][10]++,qn().s[43]++,null}}}function ih(){var e="/home/runner/work/maputnik/maputnik/src/libs/source.ts",n="315b9927ffd3b5bf51669bb9e53779783a451930",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ih=function(){return s},s}ih();function DEe(e,n){ih().f[0]++;const t=(ih().s[0]++,{...e.sources});return ih().s[1]++,delete t[n],ih().s[2]++,{...e,sources:t}}function wP(e,n,t){return ih().f[1]++,ih().s[3]++,uG(e,n,t)}function uG(e,n,t){ih().f[2]++;const r=(ih().s[4]++,{...e.sources,[n]:t});return ih().s[5]++,{...e,sources:r}}const UEe={type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key={key}",title:"OpenMapTiles v3"},REe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},LEe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},zEe={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},MP={openmaptiles:UEe,thunderforest_transport:REe,thunderforest_outdoors:LEe,open_zoomstack:zEe};function Vt(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",n="0cdb4eacb2560c191df467eefb0fb2a3bf6cb962",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:183,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:120,column:10}},32:{start:{line:122,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:132,column:10}},34:{start:{line:134,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:144,column:10}},36:{start:{line:146,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:156,column:10}},38:{start:{line:158,column:8},end:{line:167,column:10}},39:{start:{line:169,column:8},end:{line:180,column:10}},40:{start:{line:182,column:8},end:{line:182,column:18}},41:{start:{line:185,column:10},end:{line:188,column:3}},42:{start:{line:186,column:33},end:{line:186,column:43}},43:{start:{line:187,column:4},end:{line:187,column:39}},44:{start:{line:189,column:19},end:{line:191,column:3}},45:{start:{line:190,column:4},end:{line:190,column:30}},46:{start:{line:193,column:32},end:{line:195,column:5}},47:{start:{line:196,column:4},end:{line:243,column:9}},48:{start:{line:203,column:27},end:{line:203,column:57}},49:{start:{line:223,column:30},end:{line:223,column:87}},50:{start:{line:248,column:27},end:{line:248,column:40}},51:{start:{line:249,column:4},end:{line:249,column:35}},52:{start:{line:250,column:4},end:{line:250,column:26}},53:{start:{line:253,column:21},end:{line:253,column:40}},54:{start:{line:254,column:26},end:{line:266,column:6}},55:{start:{line:255,column:21},end:{line:255,column:47}},56:{start:{line:256,column:6},end:{line:265,column:8}},57:{start:{line:261,column:29},end:{line:261,column:93}},58:{start:{line:262,column:26},end:{line:262,column:85}},59:{start:{line:267,column:27},end:{line:279,column:6}},60:{start:{line:267,column:75},end:{line:267,column:106}},61:{start:{line:268,column:21},end:{line:268,column:44}},62:{start:{line:269,column:6},end:{line:278,column:8}},63:{start:{line:275,column:26},end:{line:275,column:107}},64:{start:{line:280,column:4},end:{line:309,column:6}},65:{start:{line:303,column:45},end:{line:303,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:184,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:185,column:10},end:{line:185,column:11}},loc:{start:{line:185,column:16},end:{line:188,column:3}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:189,column:19},end:{line:189,column:20}},loc:{start:{line:189,column:31},end:{line:191,column:3}},line:189},9:{name:"(anonymous_9)",decl:{start:{line:192,column:2},end:{line:192,column:3}},loc:{start:{line:192,column:11},end:{line:244,column:3}},line:192},10:{name:"(anonymous_10)",decl:{start:{line:203,column:20},end:{line:203,column:21}},loc:{start:{line:203,column:27},end:{line:203,column:57}},line:203},11:{name:"(anonymous_11)",decl:{start:{line:223,column:20},end:{line:223,column:21}},loc:{start:{line:223,column:30},end:{line:223,column:87}},line:223},12:{name:"(anonymous_12)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:21},end:{line:251,column:3}},line:247},13:{name:"(anonymous_13)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:11},end:{line:310,column:3}},line:252},14:{name:"(anonymous_14)",decl:{start:{line:254,column:60},end:{line:254,column:61}},loc:{start:{line:254,column:74},end:{line:266,column:5}},line:254},15:{name:"(anonymous_15)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:261,column:93}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:262,column:20},end:{line:262,column:21}},loc:{start:{line:262,column:26},end:{line:262,column:85}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:267,column:61},end:{line:267,column:62}},loc:{start:{line:267,column:75},end:{line:267,column:106}},line:267},18:{name:"(anonymous_18)",decl:{start:{line:267,column:112},end:{line:267,column:113}},loc:{start:{line:267,column:126},end:{line:279,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:275,column:20},end:{line:275,column:21}},loc:{start:{line:275,column:26},end:{line:275,column:107}},line:275},20:{name:"(anonymous_20)",decl:{start:{line:303,column:23},end:{line:303,column:24}},loc:{start:{line:303,column:45},end:{line:303,column:109}},line:303}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:120,column:10}},{start:{line:121,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:144,column:10}},{start:{line:145,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:156,column:10}},{start:{line:157,column:6},end:{line:167,column:10}},{start:{line:168,column:6},end:{line:180,column:10}},{start:{line:181,column:6},end:{line:182,column:18}}],line:109},13:{loc:{start:{line:118,column:19},end:{line:118,column:42}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:33}},{start:{line:118,column:37},end:{line:118,column:42}}],line:118},14:{loc:{start:{line:124,column:15},end:{line:124,column:72}},type:"binary-expr",locations:[{start:{line:124,column:15},end:{line:124,column:25}},{start:{line:124,column:29},end:{line:124,column:72}}],line:124},15:{loc:{start:{line:129,column:17},end:{line:129,column:80}},type:"binary-expr",locations:[{start:{line:129,column:17},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:80}}],line:129},16:{loc:{start:{line:130,column:19},end:{line:130,column:38}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:38}}],line:130},17:{loc:{start:{line:131,column:19},end:{line:131,column:39}},type:"binary-expr",locations:[{start:{line:131,column:19},end:{line:131,column:33}},{start:{line:131,column:37},end:{line:131,column:39}}],line:131},18:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},19:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},20:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},21:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},22:{loc:{start:{line:148,column:15},end:{line:148,column:72}},type:"binary-expr",locations:[{start:{line:148,column:15},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:72}}],line:148},23:{loc:{start:{line:153,column:17},end:{line:153,column:80}},type:"binary-expr",locations:[{start:{line:153,column:17},end:{line:153,column:29}},{start:{line:153,column:33},end:{line:153,column:80}}],line:153},24:{loc:{start:{line:154,column:19},end:{line:154,column:38}},type:"binary-expr",locations:[{start:{line:154,column:19},end:{line:154,column:33}},{start:{line:154,column:37},end:{line:154,column:38}}],line:154},25:{loc:{start:{line:155,column:19},end:{line:155,column:39}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:39}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAGnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0cdb4eacb2560c191df467eefb0fb2a3bf6cb962"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vt=function(){return s},s}Vt();class jEe extends xn.Component{render(){return Vt().f[0]++,Vt().s[0]++,N.jsx("div",{className:"maputnik-public-source",children:N.jsxs(Ba,{className:"maputnik-public-source-select",onClick:()=>(Vt().f[1]++,Vt().s[1]++,this.props.onSelect(this.props.id)),children:[N.jsxs("div",{className:"maputnik-public-source-info",children:[N.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),N.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(qR,{})]})})}}function WEe(e){return Vt().f[2]++,Vt().s[2]++,e.type==="raster"?(Vt().b[0][0]++,Vt().s[3]++,e.tiles?(Vt().b[1][0]++,Vt().s[4]++,"tilexyz_raster"):(Vt().b[1][1]++,Vt().s[5]++,"tilejson_raster")):(Vt().b[0][1]++,Vt().s[6]++,e.type==="raster-dem"?(Vt().b[2][0]++,Vt().s[7]++,e.tiles?(Vt().b[3][0]++,Vt().s[8]++,"tilexyz_raster-dem"):(Vt().b[3][1]++,Vt().s[9]++,"tilejson_raster-dem")):(Vt().b[2][1]++,Vt().s[10]++,e.type==="vector"?(Vt().b[4][0]++,Vt().s[11]++,e.tiles?(Vt().b[5][0]++,Vt().s[12]++,"tilexyz_vector"):(Vt().b[5][1]++,Vt().s[13]++,"tilejson_vector")):(Vt().b[4][1]++,Vt().s[14]++,e.type==="geojson"?(Vt().b[6][0]++,Vt().s[15]++,typeof e.data=="string"?(Vt().b[7][0]++,Vt().s[16]++,"geojson_url"):(Vt().b[7][1]++,Vt().s[17]++,"geojson_json")):(Vt().b[6][1]++,Vt().s[18]++,e.type==="image"?(Vt().b[8][0]++,Vt().s[19]++,"image"):(Vt().b[8][1]++,Vt().s[20]++,e.type==="video"?(Vt().b[9][0]++,Vt().s[21]++,"video"):(Vt().b[9][1]++,Vt().s[22]++,null))))))}class NEe extends xn.Component{render(){return Vt().f[3]++,Vt().s[23]++,N.jsxs("div",{className:"maputnik-active-source-type-editor",children:[N.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[N.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),N.jsx("span",{className:"maputnik-space"}),N.jsx(Ba,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Vt().f[4]++,Vt().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:N.jsx(zy,{})})]}),N.jsx("div",{className:"maputnik-active-source-type-editor-content",children:N.jsx(lG,{onChange:this.props.onChange,mode:WEe(this.props.source),source:this.props.source})})]})}}class GEe extends xn.Component{constructor(t){Vt().f[5]++,Vt().s[25]++;super(t);nn(this,"onAdd",(Vt().s[41]++,()=>{Vt().f[7]++;const{source:t,sourceId:r}=(Vt().s[42]++,this.state);Vt().s[43]++,this.props.onAdd(r,t)}));nn(this,"onChangeSource",(Vt().s[44]++,t=>{Vt().f[8]++,Vt().s[45]++,this.setState({source:t})}));Vt().s[26]++,this.state={mode:"tilejson_vector",sourceId:wu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(t){Vt().f[6]++;const r=(Vt().s[27]++,Vt().b[10][0]++,(Vt().b[11][0]++,this.state||(Vt().b[11][1]++,{})).source||(Vt().b[10][1]++,{})),{protocol:i}=(Vt().s[28]++,window.location);switch(Vt().s[29]++,t){case"geojson_url":return Vt().b[12][0]++,Vt().s[30]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Vt().b[12][1]++,Vt().s[31]++,{type:"geojson",cluster:(Vt().b[13][0]++,r.cluster||(Vt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Vt().b[12][2]++,Vt().s[32]++,{type:"vector",url:(Vt().b[14][0]++,r.url||(Vt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return Vt().b[12][3]++,Vt().s[33]++,{type:"vector",tiles:(Vt().b[15][0]++,r.tiles||(Vt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[16][0]++,r.minzoom||(Vt().b[16][1]++,0)),maxzoom:(Vt().b[17][0]++,r.maxzoom||(Vt().b[17][1]++,14))};case"tilejson_raster":return Vt().b[12][4]++,Vt().s[34]++,{type:"raster",url:(Vt().b[18][0]++,r.url||(Vt().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return Vt().b[12][5]++,Vt().s[35]++,{type:"raster",tiles:(Vt().b[19][0]++,r.tiles||(Vt().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[20][0]++,r.minzoom||(Vt().b[20][1]++,0)),maxzoom:(Vt().b[21][0]++,r.maxzoom||(Vt().b[21][1]++,14))};case"tilejson_raster-dem":return Vt().b[12][6]++,Vt().s[36]++,{type:"raster-dem",url:(Vt().b[22][0]++,r.url||(Vt().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Vt().b[12][7]++,Vt().s[37]++,{type:"raster-dem",tiles:(Vt().b[23][0]++,r.tiles||(Vt().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Vt().b[24][0]++,r.minzoom||(Vt().b[24][1]++,0)),maxzoom:(Vt().b[25][0]++,r.maxzoom||(Vt().b[25][1]++,14))};case"image":return Vt().b[12][8]++,Vt().s[38]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Vt().b[12][9]++,Vt().s[39]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Vt().b[12][10]++,Vt().s[40]++,{}}}render(){Vt().f[9]++;const t=(Vt().s[46]++,{doc:Hi.source_vector.type.doc});return Vt().s[47]++,N.jsxs("div",{className:"maputnik-add-source",children:[N.jsx(rh,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>(Vt().f[10]++,Vt().s[48]++,this.setState({sourceId:r}))}),N.jsx(q8,{label:"Source Type",fieldSpec:t,options:[["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>(Vt().f[11]++,Vt().s[49]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),N.jsx(lG,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),N.jsx(Ba,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class QEe extends xn.Component{stripTitle(n){Vt().f[12]++;const t=(Vt().s[50]++,{...n});return Vt().s[51]++,delete t.title,Vt().s[52]++,t}render(){Vt().f[13]++;const n=(Vt().s[53]++,this.props.mapStyle),t=(Vt().s[54]++,Object.keys(n.sources).map(i=>{Vt().f[14]++;const o=(Vt().s[55]++,n.sources[i]);return Vt().s[56]++,N.jsx(NEe,{sourceId:i,source:o,onChange:s=>(Vt().f[15]++,Vt().s[57]++,this.props.onStyleChanged(uG(n,i,s))),onDelete:()=>(Vt().f[16]++,Vt().s[58]++,this.props.onStyleChanged(DEe(n,i)))},i)})),r=(Vt().s[59]++,Object.keys(MP).filter(i=>(Vt().f[17]++,Vt().s[60]++,!(i in n.sources))).map(i=>{Vt().f[18]++;const o=(Vt().s[61]++,MP[i]);return Vt().s[62]++,N.jsx(jEe,{id:i,type:o.type,title:o.title,onSelect:()=>(Vt().f[19]++,Vt().s[63]++,this.props.onStyleChanged(wP(n,i,this.stripTitle(o))))},i)}));return Vt().s[64]++,N.jsxs(Sf,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Active Sources"}),t]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Choose Public Source"}),N.jsx("p",{children:"Add one of the publicly available sources to your style."}),N.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Add New Source"}),N.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),N.jsx(GEe,{onAdd:(i,o)=>(Vt().f[20]++,Vt().s[65]++,this.props.onStyleChanged(wP(n,i,o)))})]})]})}}var AG={};Object.defineProperty(AG,"__esModule",{value:!0});var $Ee=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},YEe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qEe=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),VEe=Sr,sS=JEe(VEe),HEe=Nm,ZEe=XEe(HEe);function XEe(e){return e&&e.__esModule?e:{default:e}}function JEe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function eOe(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function tOe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nOe(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function rOe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var iOe=function(e){rOe(n,e);function n(t){tOe(this,n);var r=nOe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.handleChange=function(o){var s=Array.prototype.slice.call(o.target.files),a=(r.props.as||"url").toLowerCase();Promise.all(s.map(function(p){return new Promise(function(g,b){var B=new FileReader;switch(B.onload=function(k){g([k,p])},a){case"binary":{B.readAsBinaryString(p);break}case"buffer":{B.readAsArrayBuffer(p);break}case"text":{B.readAsText(p);break}case"url":{B.readAsDataURL(p);break}}})})).then(function(p){r.props.onChange(o,p)})},r.triggerInput=function(){var o=ZEe.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":YEe(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return qEe(n,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,s=i.style,a=eOe(i,["as","children","style"]),p=o?{position:"absolute",top:"-9999px"}:{};return sS.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:s},sS.createElement("input",$Ee({},a,{type:"file",ref:function(b){r._reactFileReaderInput=b},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:p})),o)}}]),n}(sS.Component),oOe=AG.default=iOe;function ld(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",n="c730187d836bc577ee534587d8c8df17ae09966b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c730187d836bc577ee534587d8c8df17ae09966b"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ld=function(){return s},s}ld();class aOe extends xn.Component{underlayOnClick(n){ld().f[0]++,ld().s[0]++,n.stopPropagation()}render(){return ld().f[1]++,ld().s[1]++,N.jsxs(Sf,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:n=>(ld().f[2]++,ld().s[2]++,underlayProps(n))},title:this.props.title,onOpenToggle:()=>(ld().f[3]++,ld().s[3]++,this.props.onCancel()),children:[N.jsx("p",{children:this.props.message}),N.jsx("p",{className:"maputnik-dialog__buttons",children:N.jsx(Ba,{onClick:n=>(ld().f[4]++,ld().s[4]++,this.props.onCancel(n)),children:"Cancel"})})]})}}const cG=[{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"maptiler-basic-gl-style",title:"Maptiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.8/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@339e5b7/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="}];function Yn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",n="6f55b81c74a9657afee47a2c5820a136d93a0f65",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f55b81c74a9657afee47a2c5820a136d93a0f65"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Yn=function(){return s},s}Yn();class sOe extends xn.Component{render(){return Yn().f[0]++,Yn().s[0]++,N.jsx("div",{className:"maputnik-public-style",children:N.jsxs(Ba,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Yn().f[1]++,Yn().s[1]++,this.props.onSelect(this.props.url)),children:[N.jsxs("div",{className:"maputnik-public-style-header",children:[N.jsx("div",{children:this.props.title}),N.jsx("span",{className:"maputnik-space"}),N.jsx(qR,{})]}),N.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class lOe extends xn.Component{constructor(t){Yn().f[2]++,Yn().s[2]++;super(t);nn(this,"onStyleSelect",(Yn().s[10]++,t=>{Yn().f[5]++,Yn().s[11]++,this.clearError();let r=(Yn().s[12]++,!1);Yn().s[13]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(i){return Yn().f[6]++,Yn().s[14]++,i.json()}).then(i=>{if(Yn().f[7]++,Yn().s[15]++,r){Yn().b[2][0]++,Yn().s[16]++;return}else Yn().b[2][1]++;Yn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Yn().s[18]++,wu.ensureStyleValidity(i));Yn().s[19]++,console.log("Loaded style ",o.id),Yn().s[20]++,this.props.onStyleOpen(o),Yn().s[21]++,this.onOpenToggle()}).catch(i=>{Yn().f[8]++,Yn().s[22]++,this.setState({error:`Failed to load: '${t}'`,activeRequest:null,activeRequestUrl:null}),Yn().s[23]++,console.error(i),Yn().s[24]++,console.warn("Could not open the style URL",t)}),Yn().s[25]++,this.setState({activeRequest:{abort:function(){Yn().f[9]++,Yn().s[26]++,r=!0}},activeRequestUrl:t})}));nn(this,"onSubmitUrl",(Yn().s[27]++,t=>{Yn().f[10]++,Yn().s[28]++,t.preventDefault(),Yn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));nn(this,"onUpload",(Yn().s[30]++,(t,r)=>{Yn().f[11]++;const[,i]=(Yn().s[31]++,r[0]),o=(Yn().s[32]++,new FileReader);Yn().s[33]++,this.clearError(),Yn().s[34]++,o.readAsText(i,"UTF-8"),Yn().s[35]++,o.onload=s=>{var p;Yn().f[12]++;let a;Yn().s[36]++;try{Yn().s[37]++,a=JSON.parse((p=s.target)==null?void 0:p.result)}catch(g){Yn().s[38]++,this.setState({error:g.toString()}),Yn().s[39]++;return}Yn().s[40]++,a=wu.ensureStyleValidity(a),Yn().s[41]++,this.props.onStyleOpen(a),Yn().s[42]++,this.onOpenToggle()},Yn().s[43]++,o.onerror=s=>(Yn().f[13]++,Yn().s[44]++,console.log(s.target))}));nn(this,"onChangeUrl",(Yn().s[48]++,t=>{Yn().f[15]++,Yn().s[49]++,this.setState({styleUrl:t})}));Yn().s[3]++,this.state={styleUrl:""}}clearError(){Yn().f[3]++,Yn().s[4]++,this.setState({error:null})}onCancelActiveRequest(t){Yn().f[4]++,Yn().s[5]++,t?(Yn().b[0][0]++,Yn().s[6]++,t.stopPropagation()):Yn().b[0][1]++,Yn().s[7]++,this.state.activeRequest?(Yn().b[1][0]++,Yn().s[8]++,this.state.activeRequest.abort(),Yn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Yn().b[1][1]++}onOpenToggle(){Yn().f[14]++,Yn().s[45]++,this.setState({styleUrl:""}),Yn().s[46]++,this.clearError(),Yn().s[47]++,this.props.onOpenToggle()}render(){Yn().f[16]++;const t=(Yn().s[50]++,cG.map(i=>(Yn().f[17]++,Yn().s[51]++,N.jsx(sOe,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Yn().s[52]++,this.state.error?(Yn().b[3][0]++,Yn().s[53]++,r=N.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,N.jsx("a",{href:"#",onClick:()=>(Yn().f[18]++,Yn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):Yn().b[3][1]++,Yn().s[55]++,N.jsxs("div",{children:[N.jsxs(Sf,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Yn().f[19]++,Yn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Upload Style"}),N.jsx("p",{children:"Upload a JSON style from your computer."}),N.jsx(oOe,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:N.jsxs(Ba,{className:"maputnik-upload-button",children:[N.jsx(xJ,{})," Upload"]})})]}),N.jsx("section",{className:"maputnik-modal-section",children:N.jsxs("form",{onSubmit:this.onSubmitUrl,children:[N.jsx("h1",{children:"Load from URL"}),N.jsxs("p",{children:["Load from a URL. Note that the URL must have ",N.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),N.jsx($8,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),N.jsx("div",{children:N.jsx(Ba,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[N.jsx("h1",{children:"Gallery Styles"}),N.jsx("p",{children:"Open one of the publicly available styles to start from."}),N.jsx("div",{className:"maputnik-style-gallery-container",children:t})]})]}),N.jsx(aOe,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Yn().f[20]++,Yn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function Zh(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",n="5c6b0b4c3c3cced12e6393d9679f373c813a1e88",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5c6b0b4c3c3cced12e6393d9679f373c813a1e88"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Zh=function(){return s},s}Zh();class uOe extends xn.Component{render(){Zh().f[0]++;const n=(Zh().s[0]++,[{key:N.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:N.jsx("kbd",{children:"o"}),text:"Open modal"},{key:N.jsx("kbd",{children:"e"}),text:"Export modal"},{key:N.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:N.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:N.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:N.jsx("kbd",{children:"m"}),text:"Focus map"},{key:N.jsx("kbd",{children:"!"}),text:"Debug modal"}]),t=(Zh().s[1]++,[{key:N.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:N.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:N.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:N.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:N.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:N.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:N.jsxs(N.Fragment,{children:[N.jsx("kbd",{children:"Shift"})," + ",N.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return Zh().s[2]++,N.jsx(Sf,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsxs("p",{children:["Press ",N.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),N.jsx("dl",{children:n.map((r,i)=>(Zh().f[1]++,Zh().s[3]++,N.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[N.jsx("dt",{children:r.key},"dt"+i),N.jsx("dd",{children:r.text},"dd"+i)]},i)))}),N.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),N.jsx("ul",{children:t.map((r,i)=>(Zh().f[2]++,Zh().s[4]++,N.jsxs("li",{children:[N.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const AOe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function um(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",n="61657e6b288c15c4507475083ae2151817c1dbb9",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61657e6b288c15c4507475083ae2151817c1dbb9"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return um=function(){return s},s}um();class cOe extends xn.Component{constructor(){super(...arguments);nn(this,"onClick",(um().s[0]++,()=>{um().f[0]++,um().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),um().s[2]++,this.props.onOpenToggle()}))}render(){return um().f[1]++,um().s[3]++,N.jsx(Sf,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:N.jsxs("div",{className:"maputnik-modal-survey",children:[N.jsx("img",{src:AOe,className:"maputnik-modal-survey__logo"}),N.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),N.jsx("p",{className:"maputnik-modal-survey__description",children:"We dont track you, so we dont know how you use Maputnik. Help us make Maputnik better for you by completing a 7minute survey carried out by our contributing designer."}),N.jsx(Ba,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),N.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Ol(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",n="3e2ef17c22ea77c711c82e681a7c05add06fcb64",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e2ef17c22ea77c711c82e681a7c05add06fcb64"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ol=function(){return s},s}Ol();class dOe extends xn.Component{render(){Ol().f[0]++;const{mapView:n}=(Ol().s[0]++,this.props),t=(Ol().s[1]++,Math.round(n.zoom)+1),r=(Ol().s[2]++,+n.center.lng.toFixed(5)),i=(Ol().s[3]++,+n.center.lat.toFixed(5));return Ol().s[4]++,N.jsxs(Sf,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[N.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[N.jsx("h1",{children:"Options"}),(Ol().b[0][0]++,this.props.renderer==="mlgljs"&&(Ol().b[0][1]++,N.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,s])=>(Ol().f[1]++,Ol().s[5]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Ol().f[2]++,Ol().s[6]++,this.props.onChangeMaplibreGlDebug(o,a.target.checked))})," ",o]})},o)))}))),(Ol().b[1][0]++,this.props.renderer==="ol"&&(Ol().b[1][1]++,N.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,s])=>(Ol().f[3]++,Ol().s[7]++,N.jsx("li",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:s,onChange:a=>(Ol().f[4]++,Ol().s[8]++,this.props.onChangeOpenlayersDebug(o,a.target.checked))})," ",o]})},o)))})))]}),N.jsxs("section",{className:"maputnik-modal-section",children:[N.jsx("h1",{children:"Links"}),N.jsxs("p",{children:[N.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${t}/${i}/${r}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})]})]})}}var f1={},C4={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */C4.exports;(function(e,n){(function(t){var r=n&&!n.nodeType&&n,i=e&&!e.nodeType&&e,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,p=36,g=1,b=26,B=38,k=700,P=72,R=128,Z="-",W=/^xn--/,Q=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=p-g,ce=Math.floor,se=String.fromCharCode,le;function ye(He){throw new RangeError(oe[He])}function De(He,Je){for(var tt=He.length,rn=[];tt--;)rn[tt]=Je(He[tt]);return rn}function Ne(He,Je){var tt=He.split("@"),rn="";tt.length>1&&(rn=tt[0]+"@",He=tt[1]),He=He.replace(q,".");var mt=He.split("."),dt=De(mt,Je).join(".");return rn+dt}function et(He){for(var Je=[],tt=0,rn=He.length,mt,dt;tt<rn;)mt=He.charCodeAt(tt++),mt>=55296&&mt<=56319&&tt<rn?(dt=He.charCodeAt(tt++),(dt&64512)==56320?Je.push(((mt&1023)<<10)+(dt&1023)+65536):(Je.push(mt),tt--)):Je.push(mt);return Je}function ft(He){return De(He,function(Je){var tt="";return Je>65535&&(Je-=65536,tt+=se(Je>>>10&1023|55296),Je=56320|Je&1023),tt+=se(Je),tt}).join("")}function Ke(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:p}function rt(He,Je){return He+22+75*(He<26)-((Je!=0)<<5)}function Ce(He,Je,tt){var rn=0;for(He=tt?ce(He/k):He>>1,He+=ce(He/Je);He>re*b>>1;rn+=p)He=ce(He/re);return ce(rn+(re+1)*He/(He+B))}function Rt(He){var Je=[],tt=He.length,rn,mt=0,dt=R,kt=P,Pt,Me,he,be,Pe,Ze,nt,xt,Ft;for(Pt=He.lastIndexOf(Z),Pt<0&&(Pt=0),Me=0;Me<Pt;++Me)He.charCodeAt(Me)>=128&&ye("not-basic"),Je.push(He.charCodeAt(Me));for(he=Pt>0?Pt+1:0;he<tt;){for(be=mt,Pe=1,Ze=p;he>=tt&&ye("invalid-input"),nt=Ke(He.charCodeAt(he++)),(nt>=p||nt>ce((a-mt)/Pe))&&ye("overflow"),mt+=nt*Pe,xt=Ze<=kt?g:Ze>=kt+b?b:Ze-kt,!(nt<xt);Ze+=p)Ft=p-xt,Pe>ce(a/Ft)&&ye("overflow"),Pe*=Ft;rn=Je.length+1,kt=Ce(mt-be,rn,be==0),ce(mt/rn)>a-dt&&ye("overflow"),dt+=ce(mt/rn),mt%=rn,Je.splice(mt++,0,dt)}return ft(Je)}function jt(He){var Je,tt,rn,mt,dt,kt,Pt,Me,he,be,Pe,Ze=[],nt,xt,Ft,Dt;for(He=et(He),nt=He.length,Je=R,tt=0,dt=P,kt=0;kt<nt;++kt)Pe=He[kt],Pe<128&&Ze.push(se(Pe));for(rn=mt=Ze.length,mt&&Ze.push(Z);rn<nt;){for(Pt=a,kt=0;kt<nt;++kt)Pe=He[kt],Pe>=Je&&Pe<Pt&&(Pt=Pe);for(xt=rn+1,Pt-Je>ce((a-tt)/xt)&&ye("overflow"),tt+=(Pt-Je)*xt,Je=Pt,kt=0;kt<nt;++kt)if(Pe=He[kt],Pe<Je&&++tt>a&&ye("overflow"),Pe==Je){for(Me=tt,he=p;be=he<=dt?g:he>=dt+b?b:he-dt,!(Me<be);he+=p)Dt=Me-be,Ft=p-be,Ze.push(se(rt(be+Dt%Ft,0))),Me=ce(Dt/Ft);Ze.push(se(rt(Me,0))),dt=Ce(tt,xt,rn==mt),tt=0,++rn}++tt,++Je}return Ze.join("")}function tn(He){return Ne(He,function(Je){return W.test(Je)?Rt(Je.slice(4).toLowerCase()):Je})}function Qt(He){return Ne(He,function(Je){return Q.test(Je)?"xn--"+jt(Je):Je})}if(s={version:"1.4.1",ucs2:{decode:et,encode:ft},decode:Rt,encode:jt,toASCII:Qt,toUnicode:tn},r&&i)if(e.exports==r)i.exports=s;else for(le in s)s.hasOwnProperty(le)&&(r[le]=s[le]);else t.punycode=s})(_f)})(C4,C4.exports);var hOe=C4.exports,fOe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;n[t]=i;for(t in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var o=Object.getOwnPropertySymbols(n);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},SP=typeof Symbol<"u"&&Symbol,pOe=fOe,mOe=function(){return typeof SP!="function"||typeof Symbol!="function"||typeof SP("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pOe()},EP={foo:{}},gOe=Object,yOe=function(){return{__proto__:EP}.foo===EP.foo&&!({__proto__:null}instanceof gOe)},vOe="Function.prototype.bind called on incompatible ",COe=Object.prototype.toString,_Oe=Math.max,bOe="[object Function]",OP=function(n,t){for(var r=[],i=0;i<n.length;i+=1)r[i]=n[i];for(var o=0;o<t.length;o+=1)r[o+n.length]=t[o];return r},xOe=function(n,t){for(var r=[],i=t||0,o=0;i<n.length;i+=1,o+=1)r[o]=n[i];return r},wOe=function(e,n){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=n);return t},MOe=function(n){var t=this;if(typeof t!="function"||COe.apply(t)!==bOe)throw new TypeError(vOe+t);for(var r=xOe(arguments,1),i,o=function(){if(this instanceof i){var b=t.apply(this,OP(r,arguments));return Object(b)===b?b:this}return t.apply(n,OP(r,arguments))},s=_Oe(0,t.length-r.length),a=[],p=0;p<s;p++)a[p]="$"+p;if(i=Function("binder","return function ("+wOe(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var g=function(){};g.prototype=t.prototype,i.prototype=new g,g.prototype=null}return i},SOe=MOe,Z8=Function.prototype.bind||SOe,EOe=Function.prototype.call,OOe=Object.prototype.hasOwnProperty,BOe=Z8,kOe=BOe.call(EOe,OOe),_o,ky=SyntaxError,dG=Function,fy=TypeError,lS=function(e){try{return dG('"use strict"; return ('+e+").constructor;")()}catch{}},J0=Object.getOwnPropertyDescriptor;if(J0)try{J0({},"")}catch{J0=null}var uS=function(){throw new fy},IOe=J0?function(){try{return arguments.callee,uS}catch{try{return J0(arguments,"callee").get}catch{return uS}}}():uS,mg=mOe(),TOe=yOe(),ru=Object.getPrototypeOf||(TOe?function(e){return e.__proto__}:null),Og={},KOe=typeof Uint8Array>"u"||!ru?_o:ru(Uint8Array),e1={"%AggregateError%":typeof AggregateError>"u"?_o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_o:ArrayBuffer,"%ArrayIteratorPrototype%":mg&&ru?ru([][Symbol.iterator]()):_o,"%AsyncFromSyncIteratorPrototype%":_o,"%AsyncFunction%":Og,"%AsyncGenerator%":Og,"%AsyncGeneratorFunction%":Og,"%AsyncIteratorPrototype%":Og,"%Atomics%":typeof Atomics>"u"?_o:Atomics,"%BigInt%":typeof BigInt>"u"?_o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?_o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_o:FinalizationRegistry,"%Function%":dG,"%GeneratorFunction%":Og,"%Int8Array%":typeof Int8Array>"u"?_o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":mg&&ru?ru(ru([][Symbol.iterator]())):_o,"%JSON%":typeof JSON=="object"?JSON:_o,"%Map%":typeof Map>"u"?_o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!mg||!ru?_o:ru(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_o:Promise,"%Proxy%":typeof Proxy>"u"?_o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?_o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!mg||!ru?_o:ru(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":mg&&ru?ru(""[Symbol.iterator]()):_o,"%Symbol%":mg?Symbol:_o,"%SyntaxError%":ky,"%ThrowTypeError%":IOe,"%TypedArray%":KOe,"%TypeError%":fy,"%Uint8Array%":typeof Uint8Array>"u"?_o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?_o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_o:WeakSet};if(ru)try{null.error}catch(e){var POe=ru(ru(e));e1["%Error.prototype%"]=POe}var FOe=function e(n){var t;if(n==="%AsyncFunction%")t=lS("async function () {}");else if(n==="%GeneratorFunction%")t=lS("function* () {}");else if(n==="%AsyncGeneratorFunction%")t=lS("async function* () {}");else if(n==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(n==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&ru&&(t=ru(i.prototype))}return e1[n]=t,t},BP={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yb=Z8,_4=kOe,DOe=yb.call(Function.call,Array.prototype.concat),UOe=yb.call(Function.apply,Array.prototype.splice),kP=yb.call(Function.call,String.prototype.replace),b4=yb.call(Function.call,String.prototype.slice),ROe=yb.call(Function.call,RegExp.prototype.exec),LOe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zOe=/\\(\\)?/g,jOe=function(n){var t=b4(n,0,1),r=b4(n,-1);if(t==="%"&&r!=="%")throw new ky("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new ky("invalid intrinsic syntax, expected opening `%`");var i=[];return kP(n,LOe,function(o,s,a,p){i[i.length]=a?kP(p,zOe,"$1"):s||o}),i},WOe=function(n,t){var r=n,i;if(_4(BP,r)&&(i=BP[r],r="%"+i[0]+"%"),_4(e1,r)){var o=e1[r];if(o===Og&&(o=FOe(r)),typeof o>"u"&&!t)throw new fy("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new ky("intrinsic "+n+" does not exist!")},S1=function(n,t){if(typeof n!="string"||n.length===0)throw new fy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new fy('"allowMissing" argument must be a boolean');if(ROe(/^%?[^%]*%?$/,n)===null)throw new ky("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=jOe(n),i=r.length>0?r[0]:"",o=WOe("%"+i+"%",t),s=o.name,a=o.value,p=!1,g=o.alias;g&&(i=g[0],UOe(r,DOe([0,1],g)));for(var b=1,B=!0;b<r.length;b+=1){var k=r[b],P=b4(k,0,1),R=b4(k,-1);if((P==='"'||P==="'"||P==="`"||R==='"'||R==="'"||R==="`")&&P!==R)throw new ky("property names with quotes must have matching quotes");if((k==="constructor"||!B)&&(p=!0),i+="."+k,s="%"+i+"%",_4(e1,s))a=e1[s];else if(a!=null){if(!(k in a)){if(!t)throw new fy("base intrinsic for "+n+" exists, but the property is not available.");return}if(J0&&b+1>=r.length){var Z=J0(a,k);B=!!Z,B&&"get"in Z&&!("originalValue"in Z.get)?a=Z.get:a=a[k]}else B=_4(a,k),a=a[k];B&&!p&&(e1[s]=a)}}return a},hG={exports:{}},NOe=S1,tO=NOe("%Object.defineProperty%",!0),nO=function(){if(tO)try{return tO({},"a",{value:1}),!0}catch{return!1}return!1};nO.hasArrayLengthDefineBug=function(){if(!nO())return null;try{return tO([],"length",{value:1}).length!==1}catch{return!0}};var fG=nO,GOe=S1,w2=GOe("%Object.getOwnPropertyDescriptor%",!0);if(w2)try{w2([],"length")}catch{w2=null}var pG=w2,QOe=fG(),X8=S1,FC=QOe&&X8("%Object.defineProperty%",!0);if(FC)try{FC({},"a",{value:1})}catch{FC=!1}var $Oe=X8("%SyntaxError%"),gg=X8("%TypeError%"),IP=pG,YOe=function(n,t,r){if(!n||typeof n!="object"&&typeof n!="function")throw new gg("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new gg("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new gg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new gg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new gg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new gg("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,p=!!IP&&IP(n,t);if(FC)FC(n,t,{configurable:s===null&&p?p.configurable:!s,enumerable:i===null&&p?p.enumerable:!i,value:r,writable:o===null&&p?p.writable:!o});else if(a||!i&&!o&&!s)n[t]=r;else throw new $Oe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},mG=S1,TP=YOe,qOe=fG(),KP=pG,PP=mG("%TypeError%"),VOe=mG("%Math.floor%"),HOe=function(n,t){if(typeof n!="function")throw new PP("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||VOe(t)!==t)throw new PP("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in n&&KP){var s=KP(n,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(qOe?TP(n,"length",t,!0,!0):TP(n,"length",t)),n};(function(e){var n=Z8,t=S1,r=HOe,i=t("%TypeError%"),o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||n.call(s,o),p=t("%Object.defineProperty%",!0),g=t("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}e.exports=function(k){if(typeof k!="function")throw new i("a function is required");var P=a(n,s,arguments);return r(P,1+g(0,k.length-(arguments.length-1)),!0)};var b=function(){return a(n,o,arguments)};p?p(e.exports,"apply",{value:b}):e.exports.apply=b})(hG);var ZOe=hG.exports,gG=S1,yG=ZOe,XOe=yG(gG("String.prototype.indexOf")),JOe=function(n,t){var r=gG(n,!!t);return typeof r=="function"&&XOe(n,".prototype.")>-1?yG(r):r};const eBe={},tBe=Object.freeze(Object.defineProperty({__proto__:null,default:eBe},Symbol.toStringTag,{value:"Module"})),nBe=hO(tBe);var J8=typeof Map=="function"&&Map.prototype,AS=Object.getOwnPropertyDescriptor&&J8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,x4=J8&&AS&&typeof AS.get=="function"?AS.get:null,FP=J8&&Map.prototype.forEach,ek=typeof Set=="function"&&Set.prototype,cS=Object.getOwnPropertyDescriptor&&ek?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,w4=ek&&cS&&typeof cS.get=="function"?cS.get:null,DP=ek&&Set.prototype.forEach,rBe=typeof WeakMap=="function"&&WeakMap.prototype,DC=rBe?WeakMap.prototype.has:null,iBe=typeof WeakSet=="function"&&WeakSet.prototype,UC=iBe?WeakSet.prototype.has:null,oBe=typeof WeakRef=="function"&&WeakRef.prototype,UP=oBe?WeakRef.prototype.deref:null,aBe=Boolean.prototype.valueOf,sBe=Object.prototype.toString,lBe=Function.prototype.toString,uBe=String.prototype.match,tk=String.prototype.slice,_m=String.prototype.replace,ABe=String.prototype.toUpperCase,RP=String.prototype.toLowerCase,vG=RegExp.prototype.test,LP=Array.prototype.concat,Jh=Array.prototype.join,cBe=Array.prototype.slice,zP=Math.floor,rO=typeof BigInt=="function"?BigInt.prototype.valueOf:null,dS=Object.getOwnPropertySymbols,iO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Xu=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Iy||!0)?Symbol.toStringTag:null,CG=Object.prototype.propertyIsEnumerable,jP=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function WP(e,n){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||vG.call(/e/,n))return n;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-zP(-e):zP(e);if(r!==e){var i=String(r),o=tk.call(n,i.length+1);return _m.call(i,t,"$&_")+"."+_m.call(_m.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _m.call(n,t,"$&_")}var oO=nBe,NP=oO.custom,GP=bG(NP)?NP:null,dBe=function e(n,t,r,i){var o=t||{};if(Am(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Am(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Am(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Am(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Am(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof n>"u")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return wG(n,o);if(typeof n=="number"){if(n===0)return 1/0/n>0?"0":"-0";var p=String(n);return a?WP(n,p):p}if(typeof n=="bigint"){var g=String(n)+"n";return a?WP(n,g):g}var b=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=b&&b>0&&typeof n=="object")return aO(n)?"[Array]":"[Object]";var B=kBe(o,r);if(typeof i>"u")i=[];else if(xG(i,n)>=0)return"[Circular]";function k(Ke,rt,Ce){if(rt&&(i=cBe.call(i),i.push(rt)),Ce){var Rt={depth:o.depth};return Am(o,"quoteStyle")&&(Rt.quoteStyle=o.quoteStyle),e(Ke,Rt,r+1,i)}return e(Ke,o,r+1,i)}if(typeof n=="function"&&!QP(n)){var P=_Be(n),R=qx(n,k);return"[Function"+(P?": "+P:" (anonymous)")+"]"+(R.length>0?" { "+Jh.call(R,", ")+" }":"")}if(bG(n)){var Z=Iy?_m.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):iO.call(n);return typeof n=="object"&&!Iy?Hv(Z):Z}if(EBe(n)){for(var W="<"+RP.call(String(n.nodeName)),Q=n.attributes||[],q=0;q<Q.length;q++)W+=" "+Q[q].name+"="+_G(hBe(Q[q].value),"double",o);return W+=">",n.childNodes&&n.childNodes.length&&(W+="..."),W+="</"+RP.call(String(n.nodeName))+">",W}if(aO(n)){if(n.length===0)return"[]";var oe=qx(n,k);return B&&!BBe(oe)?"["+sO(oe,B)+"]":"[ "+Jh.call(oe,", ")+" ]"}if(pBe(n)){var re=qx(n,k);return!("cause"in Error.prototype)&&"cause"in n&&!CG.call(n,"cause")?"{ ["+String(n)+"] "+Jh.call(LP.call("[cause]: "+k(n.cause),re),", ")+" }":re.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+Jh.call(re,", ")+" }"}if(typeof n=="object"&&s){if(GP&&typeof n[GP]=="function"&&oO)return oO(n,{depth:b-r});if(s!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(bBe(n)){var ce=[];return FP&&FP.call(n,function(Ke,rt){ce.push(k(rt,n,!0)+" => "+k(Ke,n))}),$P("Map",x4.call(n),ce,B)}if(MBe(n)){var se=[];return DP&&DP.call(n,function(Ke){se.push(k(Ke,n))}),$P("Set",w4.call(n),se,B)}if(xBe(n))return hS("WeakMap");if(SBe(n))return hS("WeakSet");if(wBe(n))return hS("WeakRef");if(gBe(n))return Hv(k(Number(n)));if(vBe(n))return Hv(k(rO.call(n)));if(yBe(n))return Hv(aBe.call(n));if(mBe(n))return Hv(k(String(n)));if(typeof window<"u"&&n===window)return"{ [object Window] }";if(n===window)return"{ [object globalThis] }";if(!fBe(n)&&!QP(n)){var le=qx(n,k),ye=jP?jP(n)===Object.prototype:n instanceof Object||n.constructor===Object,De=n instanceof Object?"":"null prototype",Ne=!ye&&Xu&&Object(n)===n&&Xu in n?tk.call(Qm(n),8,-1):De?"Object":"",et=ye||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",ft=et+(Ne||De?"["+Jh.call(LP.call([],Ne||[],De||[]),": ")+"] ":"");return le.length===0?ft+"{}":B?ft+"{"+sO(le,B)+"}":ft+"{ "+Jh.call(le,", ")+" }"}return String(n)};function _G(e,n,t){var r=(t.quoteStyle||n)==="double"?'"':"'";return r+e+r}function hBe(e){return _m.call(String(e),/"/g,"&quot;")}function aO(e){return Qm(e)==="[object Array]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function fBe(e){return Qm(e)==="[object Date]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function QP(e){return Qm(e)==="[object RegExp]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function pBe(e){return Qm(e)==="[object Error]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function mBe(e){return Qm(e)==="[object String]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function gBe(e){return Qm(e)==="[object Number]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function yBe(e){return Qm(e)==="[object Boolean]"&&(!Xu||!(typeof e=="object"&&Xu in e))}function bG(e){if(Iy)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!iO)return!1;try{return iO.call(e),!0}catch{}return!1}function vBe(e){if(!e||typeof e!="object"||!rO)return!1;try{return rO.call(e),!0}catch{}return!1}var CBe=Object.prototype.hasOwnProperty||function(e){return e in this};function Am(e,n){return CBe.call(e,n)}function Qm(e){return sBe.call(e)}function _Be(e){if(e.name)return e.name;var n=uBe.call(lBe.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}function xG(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}function bBe(e){if(!x4||!e||typeof e!="object")return!1;try{x4.call(e);try{w4.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function xBe(e){if(!DC||!e||typeof e!="object")return!1;try{DC.call(e,DC);try{UC.call(e,UC)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function wBe(e){if(!UP||!e||typeof e!="object")return!1;try{return UP.call(e),!0}catch{}return!1}function MBe(e){if(!w4||!e||typeof e!="object")return!1;try{w4.call(e);try{x4.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function SBe(e){if(!UC||!e||typeof e!="object")return!1;try{UC.call(e,UC);try{DC.call(e,DC)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function EBe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function wG(e,n){if(e.length>n.maxStringLength){var t=e.length-n.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return wG(tk.call(e,0,n.maxStringLength),n)+r}var i=_m.call(_m.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,OBe);return _G(i,"single",n)}function OBe(e){var n=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return t?"\\"+t:"\\x"+(n<16?"0":"")+ABe.call(n.toString(16))}function Hv(e){return"Object("+e+")"}function hS(e){return e+" { ? }"}function $P(e,n,t,r){var i=r?sO(t,r):Jh.call(t,", ");return e+" ("+n+") {"+i+"}"}function BBe(e){for(var n=0;n<e.length;n++)if(xG(e[n],`
`)>=0)return!1;return!0}function kBe(e,n){var t;if(e.indent==="	")t="	";else if(typeof e.indent=="number"&&e.indent>0)t=Jh.call(Array(e.indent+1)," ");else return null;return{base:t,prev:Jh.call(Array(n+1),t)}}function sO(e,n){if(e.length===0)return"";var t=`
`+n.prev+n.base;return t+Jh.call(e,","+t)+`
`+n.prev}function qx(e,n){var t=aO(e),r=[];if(t){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Am(e,i)?n(e[i],e):""}var o=typeof dS=="function"?dS(e):[],s;if(Iy){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var p in e)Am(e,p)&&(t&&String(Number(p))===p&&p<e.length||Iy&&s["$"+p]instanceof Symbol||(vG.call(/[^\w$]/,p)?r.push(n(p,e)+": "+n(e[p],e)):r.push(p+": "+n(e[p],e))));if(typeof dS=="function")for(var g=0;g<o.length;g++)CG.call(e,o[g])&&r.push("["+n(o[g])+"]: "+n(e[o[g]],e));return r}var nk=S1,ev=JOe,IBe=dBe,TBe=nk("%TypeError%"),Vx=nk("%WeakMap%",!0),Hx=nk("%Map%",!0),KBe=ev("WeakMap.prototype.get",!0),PBe=ev("WeakMap.prototype.set",!0),FBe=ev("WeakMap.prototype.has",!0),DBe=ev("Map.prototype.get",!0),UBe=ev("Map.prototype.set",!0),RBe=ev("Map.prototype.has",!0),rk=function(e,n){for(var t=e,r;(r=t.next)!==null;t=r)if(r.key===n)return t.next=r.next,r.next=e.next,e.next=r,r},LBe=function(e,n){var t=rk(e,n);return t&&t.value},zBe=function(e,n,t){var r=rk(e,n);r?r.value=t:e.next={key:n,next:e.next,value:t}},jBe=function(e,n){return!!rk(e,n)},WBe=function(){var n,t,r,i={assert:function(o){if(!i.has(o))throw new TBe("Side channel does not contain "+IBe(o))},get:function(o){if(Vx&&o&&(typeof o=="object"||typeof o=="function")){if(n)return KBe(n,o)}else if(Hx){if(t)return DBe(t,o)}else if(r)return LBe(r,o)},has:function(o){if(Vx&&o&&(typeof o=="object"||typeof o=="function")){if(n)return FBe(n,o)}else if(Hx){if(t)return RBe(t,o)}else if(r)return jBe(r,o);return!1},set:function(o,s){Vx&&o&&(typeof o=="object"||typeof o=="function")?(n||(n=new Vx),PBe(n,o,s)):Hx?(t||(t=new Hx),UBe(t,o,s)):(r||(r={key:{},next:null}),zBe(r,o,s))}};return i},NBe=String.prototype.replace,GBe=/%20/g,fS={RFC1738:"RFC1738",RFC3986:"RFC3986"},ik={default:fS.RFC3986,formatters:{RFC1738:function(e){return NBe.call(e,GBe,"+")},RFC3986:function(e){return String(e)}},RFC1738:fS.RFC1738,RFC3986:fS.RFC3986},QBe=ik,pS=Object.prototype.hasOwnProperty,T0=Array.isArray,Yh=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),$Be=function(n){for(;n.length>1;){var t=n.pop(),r=t.obj[t.prop];if(T0(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);t.obj[t.prop]=i}}},MG=function(n,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<n.length;++i)typeof n[i]<"u"&&(r[i]=n[i]);return r},YBe=function e(n,t,r){if(!t)return n;if(typeof t!="object"){if(T0(n))n.push(t);else if(n&&typeof n=="object")(r&&(r.plainObjects||r.allowPrototypes)||!pS.call(Object.prototype,t))&&(n[t]=!0);else return[n,t];return n}if(!n||typeof n!="object")return[n].concat(t);var i=n;return T0(n)&&!T0(t)&&(i=MG(n,r)),T0(n)&&T0(t)?(t.forEach(function(o,s){if(pS.call(n,s)){var a=n[s];a&&typeof a=="object"&&o&&typeof o=="object"?n[s]=e(a,o,r):n.push(o)}else n[s]=o}),n):Object.keys(t).reduce(function(o,s){var a=t[s];return pS.call(o,s)?o[s]=e(o[s],a,r):o[s]=a,o},i)},qBe=function(n,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},n)},VBe=function(e,n,t){var r=e.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},HBe=function(n,t,r,i,o){if(n.length===0)return n;var s=n;if(typeof n=="symbol"?s=Symbol.prototype.toString.call(n):typeof n!="string"&&(s=String(n)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(b){return"%26%23"+parseInt(b.slice(2),16)+"%3B"});for(var a="",p=0;p<s.length;++p){var g=s.charCodeAt(p);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===QBe.RFC1738&&(g===40||g===41)){a+=s.charAt(p);continue}if(g<128){a=a+Yh[g];continue}if(g<2048){a=a+(Yh[192|g>>6]+Yh[128|g&63]);continue}if(g<55296||g>=57344){a=a+(Yh[224|g>>12]+Yh[128|g>>6&63]+Yh[128|g&63]);continue}p+=1,g=65536+((g&1023)<<10|s.charCodeAt(p)&1023),a+=Yh[240|g>>18]+Yh[128|g>>12&63]+Yh[128|g>>6&63]+Yh[128|g&63]}return a},ZBe=function(n){for(var t=[{obj:{o:n},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),p=0;p<a.length;++p){var g=a[p],b=s[g];typeof b=="object"&&b!==null&&r.indexOf(b)===-1&&(t.push({obj:s,prop:g}),r.push(b))}return $Be(t),n},XBe=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},JBe=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},e7e=function(n,t){return[].concat(n,t)},t7e=function(n,t){if(T0(n)){for(var r=[],i=0;i<n.length;i+=1)r.push(t(n[i]));return r}return t(n)},SG={arrayToObject:MG,assign:qBe,combine:e7e,compact:ZBe,decode:VBe,encode:HBe,isBuffer:JBe,isRegExp:XBe,maybeMap:t7e,merge:YBe},EG=WBe,M2=SG,RC=ik,n7e=Object.prototype.hasOwnProperty,YP={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,t){return n+"["+t+"]"},repeat:function(n){return n}},dp=Array.isArray,r7e=Array.prototype.push,OG=function(e,n){r7e.apply(e,dp(n)?n:[n])},i7e=Date.prototype.toISOString,qP=RC.default,qu={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:M2.encode,encodeValuesOnly:!1,format:qP,formatter:RC.formatters[qP],indices:!1,serializeDate:function(n){return i7e.call(n)},skipNulls:!1,strictNullHandling:!1},o7e=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},mS={},a7e=function e(n,t,r,i,o,s,a,p,g,b,B,k,P,R,Z,W){for(var Q=n,q=W,oe=0,re=!1;(q=q.get(mS))!==void 0&&!re;){var ce=q.get(n);if(oe+=1,typeof ce<"u"){if(ce===oe)throw new RangeError("Cyclic object value");re=!0}typeof q.get(mS)>"u"&&(oe=0)}if(typeof p=="function"?Q=p(t,Q):Q instanceof Date?Q=B(Q):r==="comma"&&dp(Q)&&(Q=M2.maybeMap(Q,function(Rt){return Rt instanceof Date?B(Rt):Rt})),Q===null){if(o)return a&&!R?a(t,qu.encoder,Z,"key",k):t;Q=""}if(o7e(Q)||M2.isBuffer(Q)){if(a){var se=R?t:a(t,qu.encoder,Z,"key",k);return[P(se)+"="+P(a(Q,qu.encoder,Z,"value",k))]}return[P(t)+"="+P(String(Q))]}var le=[];if(typeof Q>"u")return le;var ye;if(r==="comma"&&dp(Q))R&&a&&(Q=M2.maybeMap(Q,a)),ye=[{value:Q.length>0?Q.join(",")||null:void 0}];else if(dp(p))ye=p;else{var De=Object.keys(Q);ye=g?De.sort(g):De}for(var Ne=i&&dp(Q)&&Q.length===1?t+"[]":t,et=0;et<ye.length;++et){var ft=ye[et],Ke=typeof ft=="object"&&typeof ft.value<"u"?ft.value:Q[ft];if(!(s&&Ke===null)){var rt=dp(Q)?typeof r=="function"?r(Ne,ft):Ne:Ne+(b?"."+ft:"["+ft+"]");W.set(n,oe);var Ce=EG();Ce.set(mS,W),OG(le,e(Ke,rt,r,i,o,s,r==="comma"&&R&&dp(Q)?null:a,p,g,b,B,k,P,R,Z,Ce))}}return le},s7e=function(n){if(!n)return qu;if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=n.charset||qu.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=RC.default;if(typeof n.format<"u"){if(!n7e.call(RC.formatters,n.format))throw new TypeError("Unknown format option provided.");r=n.format}var i=RC.formatters[r],o=qu.filter;return(typeof n.filter=="function"||dp(n.filter))&&(o=n.filter),{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:qu.addQueryPrefix,allowDots:typeof n.allowDots>"u"?qu.allowDots:!!n.allowDots,charset:t,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:qu.charsetSentinel,delimiter:typeof n.delimiter>"u"?qu.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:qu.encode,encoder:typeof n.encoder=="function"?n.encoder:qu.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:qu.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:qu.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:qu.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:qu.strictNullHandling}},l7e=function(e,n){var t=e,r=s7e(n),i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):dp(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof t!="object"||t===null)return"";var a;n&&n.arrayFormat in YP?a=n.arrayFormat:n&&"indices"in n?a=n.indices?"indices":"repeat":a="indices";var p=YP[a];if(n&&"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g=p==="comma"&&n&&n.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var b=EG(),B=0;B<i.length;++B){var k=i[B];r.skipNulls&&t[k]===null||OG(s,a7e(t[k],k,p,g,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,b))}var P=s.join(r.delimiter),R=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),P.length>0?R+P:""},Ty=SG,lO=Object.prototype.hasOwnProperty,u7e=Array.isArray,nu={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ty.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},A7e=function(e){return e.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(parseInt(t,10))})},BG=function(e,n){return e&&typeof e=="string"&&n.comma&&e.indexOf(",")>-1?e.split(","):e},c7e="utf8=%26%2310003%3B",d7e="utf8=%E2%9C%93",h7e=function(n,t){var r={__proto__:null},i=t.ignoreQueryPrefix?n.replace(/^\?/,""):n,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,p,g=t.charset;if(t.charsetSentinel)for(p=0;p<s.length;++p)s[p].indexOf("utf8=")===0&&(s[p]===d7e?g="utf-8":s[p]===c7e&&(g="iso-8859-1"),a=p,p=s.length);for(p=0;p<s.length;++p)if(p!==a){var b=s[p],B=b.indexOf("]="),k=B===-1?b.indexOf("="):B+1,P,R;k===-1?(P=t.decoder(b,nu.decoder,g,"key"),R=t.strictNullHandling?null:""):(P=t.decoder(b.slice(0,k),nu.decoder,g,"key"),R=Ty.maybeMap(BG(b.slice(k+1),t),function(Z){return t.decoder(Z,nu.decoder,g,"value")})),R&&t.interpretNumericEntities&&g==="iso-8859-1"&&(R=A7e(R)),b.indexOf("[]=")>-1&&(R=u7e(R)?[R]:R),lO.call(r,P)?r[P]=Ty.combine(r[P],R):r[P]=R}return r},f7e=function(e,n,t,r){for(var i=r?n:BG(n,t),o=e.length-1;o>=0;--o){var s,a=e[o];if(a==="[]"&&t.parseArrays)s=[].concat(i);else{s=t.plainObjects?Object.create(null):{};var p=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,g=parseInt(p,10);!t.parseArrays&&p===""?s={0:i}:!isNaN(g)&&a!==p&&String(g)===p&&g>=0&&t.parseArrays&&g<=t.arrayLimit?(s=[],s[g]=i):p!=="__proto__"&&(s[p]=i)}i=s}return i},p7e=function(n,t,r,i){if(n){var o=r.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,p=r.depth>0&&s.exec(o),g=p?o.slice(0,p.index):o,b=[];if(g){if(!r.plainObjects&&lO.call(Object.prototype,g)&&!r.allowPrototypes)return;b.push(g)}for(var B=0;r.depth>0&&(p=a.exec(o))!==null&&B<r.depth;){if(B+=1,!r.plainObjects&&lO.call(Object.prototype,p[1].slice(1,-1))&&!r.allowPrototypes)return;b.push(p[1])}return p&&b.push("["+o.slice(p.index)+"]"),f7e(b,t,r,i)}},m7e=function(n){if(!n)return nu;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof n.charset>"u"?nu.charset:n.charset;return{allowDots:typeof n.allowDots>"u"?nu.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:nu.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:nu.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:nu.arrayLimit,charset:t,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:nu.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:nu.comma,decoder:typeof n.decoder=="function"?n.decoder:nu.decoder,delimiter:typeof n.delimiter=="string"||Ty.isRegExp(n.delimiter)?n.delimiter:nu.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:nu.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:nu.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:nu.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:nu.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:nu.strictNullHandling}},g7e=function(e,n){var t=m7e(n);if(e===""||e===null||typeof e>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?h7e(e,t):e,i=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],p=p7e(a,r[a],t,typeof e=="string");i=Ty.merge(i,p,t)}return t.allowSparse===!0?i:Ty.compact(i)},y7e=l7e,v7e=g7e,C7e=ik,_7e={formats:C7e,parse:v7e,stringify:y7e},b7e=hOe;function gd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var x7e=/^([a-z0-9.+-]+:)/i,w7e=/:[0-9]*$/,M7e=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,S7e=["<",">",'"',"`"," ","\r",`
`,"	"],E7e=["{","}","|","\\","^","`"].concat(S7e),uO=["'"].concat(E7e),VP=["%","/","?",";","#"].concat(uO),HP=["/","?","#"],O7e=255,ZP=/^[+a-z0-9A-Z_-]{0,63}$/,B7e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k7e={javascript:!0,"javascript:":!0},AO={javascript:!0,"javascript:":!0},py={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},cO=_7e;function vb(e,n,t){if(e&&typeof e=="object"&&e instanceof gd)return e;var r=new gd;return r.parse(e,n,t),r}gd.prototype.parse=function(e,n,t){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!t&&e.split("#").length===1){var p=M7e.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],n?this.query=cO.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var g=x7e.exec(a);if(g){g=g[0];var b=g.toLowerCase();this.protocol=b,a=a.substr(g.length)}if(t||g||a.match(/^\/\/[^@/]+@[^@/]+/)){var B=a.substr(0,2)==="//";B&&!(g&&AO[g])&&(a=a.substr(2),this.slashes=!0)}if(!AO[g]&&(B||g&&!py[g])){for(var k=-1,P=0;P<HP.length;P++){var R=a.indexOf(HP[P]);R!==-1&&(k===-1||R<k)&&(k=R)}var Z,W;k===-1?W=a.lastIndexOf("@"):W=a.lastIndexOf("@",k),W!==-1&&(Z=a.slice(0,W),a=a.slice(W+1),this.auth=decodeURIComponent(Z)),k=-1;for(var P=0;P<VP.length;P++){var R=a.indexOf(VP[P]);R!==-1&&(k===-1||R<k)&&(k=R)}k===-1&&(k=a.length),this.host=a.slice(0,k),a=a.slice(k),this.parseHost(),this.hostname=this.hostname||"";var Q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Q)for(var q=this.hostname.split(/\./),P=0,oe=q.length;P<oe;P++){var re=q[P];if(re&&!re.match(ZP)){for(var ce="",se=0,le=re.length;se<le;se++)re.charCodeAt(se)>127?ce+="x":ce+=re[se];if(!ce.match(ZP)){var ye=q.slice(0,P),De=q.slice(P+1),Ne=re.match(B7e);Ne&&(ye.push(Ne[1]),De.unshift(Ne[2])),De.length&&(a="/"+De.join(".")+a),this.hostname=ye.join(".");break}}}this.hostname.length>O7e?this.hostname="":this.hostname=this.hostname.toLowerCase(),Q||(this.hostname=b7e.toASCII(this.hostname));var et=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+et,this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!k7e[b])for(var P=0,oe=uO.length;P<oe;P++){var Ke=uO[P];if(a.indexOf(Ke)!==-1){var rt=encodeURIComponent(Ke);rt===Ke&&(rt=escape(Ke)),a=a.split(Ke).join(rt)}}var Ce=a.indexOf("#");Ce!==-1&&(this.hash=a.substr(Ce),a=a.slice(0,Ce));var Rt=a.indexOf("?");if(Rt!==-1?(this.search=a.substr(Rt),this.query=a.substr(Rt+1),n&&(this.query=cO.parse(this.query)),a=a.slice(0,Rt)):n&&(this.search="",this.query={}),a&&(this.pathname=a),py[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",jt=this.search||"";this.path=et+jt}return this.href=this.format(),this};function I7e(e){return typeof e=="string"&&(e=vb(e)),e instanceof gd?e.format():gd.prototype.format.call(e)}gd.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=cO.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||py[n])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),n+i+t+s+r};function T7e(e,n){return vb(e,!1,!0).resolve(n)}gd.prototype.resolve=function(e){return this.resolveObject(vb(e,!1,!0)).format()};function K7e(e,n){return e?vb(e,!1,!0).resolveObject(n):n}gd.prototype.resolveObject=function(e){if(typeof e=="string"){var n=new gd;n.parse(e,!1,!0),e=n}for(var t=new gd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var p=s[a];p!=="protocol"&&(t[p]=e[p])}return py[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!py[e.protocol]){for(var g=Object.keys(e),b=0;b<g.length;b++){var B=g[b];t[B]=e[B]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!AO[e.protocol]){for(var oe=(e.pathname||"").split("/");oe.length&&!(e.host=oe.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),oe[0]!==""&&oe.unshift(""),oe.length<2&&oe.unshift(""),t.pathname=oe.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var k=t.pathname||"",P=t.search||"";t.path=k+P}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var R=t.pathname&&t.pathname.charAt(0)==="/",Z=e.host||e.pathname&&e.pathname.charAt(0)==="/",W=Z||R||t.host&&e.pathname,Q=W,q=t.pathname&&t.pathname.split("/")||[],oe=e.pathname&&e.pathname.split("/")||[],re=t.protocol&&!py[t.protocol];if(re&&(t.hostname="",t.port=null,t.host&&(q[0]===""?q[0]=t.host:q.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(oe[0]===""?oe[0]=e.host:oe.unshift(e.host)),e.host=null),W=W&&(oe[0]===""||q[0]==="")),Z)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,q=oe;else if(oe.length)q||(q=[]),q.pop(),q=q.concat(oe),t.search=e.search,t.query=e.query;else if(e.search!=null){if(re){t.host=q.shift(),t.hostname=t.host;var ce=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ce&&(t.auth=ce.shift(),t.hostname=ce.shift(),t.host=t.hostname)}return t.search=e.search,t.query=e.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!q.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var se=q.slice(-1)[0],le=(t.host||e.host||q.length>1)&&(se==="."||se==="..")||se==="",ye=0,De=q.length;De>=0;De--)se=q[De],se==="."?q.splice(De,1):se===".."?(q.splice(De,1),ye++):ye&&(q.splice(De,1),ye--);if(!W&&!Q)for(;ye--;ye)q.unshift("..");W&&q[0]!==""&&(!q[0]||q[0].charAt(0)!=="/")&&q.unshift(""),le&&q.join("/").substr(-1)!=="/"&&q.push("");var Ne=q[0]===""||q[0]&&q[0].charAt(0)==="/";if(re){t.hostname=Ne?"":q.length?q.shift():"",t.host=t.hostname;var ce=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ce&&(t.auth=ce.shift(),t.hostname=ce.shift(),t.host=t.hostname)}return W=W||t.host&&q.length,W&&!Ne&&q.unshift(""),q.length>0?t.pathname=q.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t};gd.prototype.parseHost=function(){var e=this.host,n=w7e.exec(e);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)};f1.parse=vb;f1.resolve=T7e;f1.resolveObject=K7e;f1.format=I7e;f1.Url=gd;function To(){var e="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",n="19e47c652b47a74a8fe842dad1f0616429ed3097",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"19e47c652b47a74a8fe842dad1f0616429ed3097"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return To=function(){return s},s}To();function kG(e,n,t){To().f[0]++,To().s[0]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(r){return To().f[1]++,To().s[1]++,r.json()}).then(function(r){To().f[2]++,To().s[2]++,t(r)}).catch(function(){To().f[3]++,To().s[3]++,console.warn("Can not metadata for "+e),To().s[4]++,t(n)})}function P7e(e,n){if(To().f[4]++,To().s[5]++,e)To().b[0][1]++;else return To().b[0][0]++,To().s[6]++,n([]);const t=(To().s[7]++,f1.parse(e)),r=(To().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");To().s[9]++,t.pathname===r?(To().b[1][0]++,To().s[10]++,t.pathname="/fontstacks.json"):(To().b[1][1]++,To().s[11]++,t.pathname=t.pathname.replace(r,".json"));const i=(To().s[12]++,f1.format(t));To().s[13]++,kG(i,[],n)}function F7e(e,n){if(To().f[5]++,To().s[14]++,e)To().b[2][1]++;else return To().b[2][0]++,To().s[15]++,n([]);const t=(To().s[16]++,e+".json");To().s[17]++,kG(t,{},r=>(To().f[6]++,To().s[18]++,n(Object.keys(r))))}function Ll(){var e="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",n="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Ll=function(){return s},s}Ll();function D7e(){Ll().f[0]++;const e=(Ll().s[0]++,new URL(window.location.href));return Ll().s[1]++,e.searchParams.get("style")}function IG(e,n){Ll().f[1]++,Ll().s[2]++,console.log("Loading style",e),Ll().s[3]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(t){return Ll().f[2]++,Ll().s[4]++,t.json()}).then(function(t){Ll().f[3]++,Ll().s[5]++,n(wu.ensureStyleValidity(t))}).catch(function(){Ll().f[4]++,Ll().s[6]++,console.warn("Could not fetch default style",e),Ll().s[7]++,n(wu.emptyStyle)})}function XP(){Ll().f[5]++;const e=(Ll().s[8]++,new URL(window.location.href));Ll().s[9]++,e.searchParams.delete("style"),Ll().s[10]++,window.history.replaceState({},document.title,e.toString())}function gA(){var e="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",n="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return gA=function(){return s},s}gA();function TG(e,n){gA().f[0]++;const t=(gA().s[0]++,zH(e,n));return gA().s[1]++,t.map(r=>(gA().f[1]++,gA().s[2]++,r.command+" "+r.args.join(" ")))}function U7e(e,n){return gA().f[2]++,gA().s[3]++,TG(e,n).map(t=>(gA().f[3]++,gA().s[4]++,"Undo "+t))}function R7e(e,n){return gA().f[4]++,gA().s[5]++,TG(e,n).map(t=>(gA().f[5]++,gA().s[6]++,"Redo "+t))}function Pr(){var e="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",n="dfd07f747cd43002e646758ee096fc67f1f8153d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dfd07f747cd43002e646758ee096fc67f1f8153d"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Pr=function(){return s},s}Pr();const w_=(Pr().s[0]++,"maputnik"),KG=(Pr().s[1]++,"style"),JP=(Pr().s[2]++,{latest:[w_,"latest_style"].join(":"),accessToken:[w_,"access_token"].join(":")}),L7e=(Pr().s[3]++,cG[0].url);function eF(e){Pr().f[0]++,Pr().s[4]++,IG(L7e,e)}function z7e(){Pr().f[1]++;const e=(Pr().s[5]++,[]);Pr().s[6]++;for(let n=(Pr().s[7]++,0);n<window.localStorage.length;n++){const t=(Pr().s[8]++,window.localStorage.key(n));Pr().s[9]++,PG(t)?(Pr().b[0][0]++,Pr().s[10]++,e.push(j7e(t))):Pr().b[0][1]++}return Pr().s[11]++,e}function PG(e){Pr().f[2]++;const n=(Pr().s[12]++,e.split(":"));return Pr().s[13]++,Pr().b[1][0]++,n.length===3&&(Pr().b[1][1]++,n[0]===w_)&&(Pr().b[1][2]++,n[1]===KG)}function j7e(e){if(Pr().f[3]++,Pr().s[14]++,PG(e))Pr().b[2][1]++;else throw Pr().b[2][0]++,Pr().s[15]++,"Key is not a valid style key";const n=(Pr().s[16]++,e.split(":")),t=(Pr().s[17]++,n[2]);return Pr().s[18]++,t}function tF(e){return Pr().f[4]++,Pr().s[19]++,[w_,KG,e].join(":")}class nF{constructor(){nn(this,"mapStyles");Pr().f[5]++,Pr().s[20]++,this.mapStyles=z7e()}init(n){Pr().f[6]++,Pr().s[21]++,n(null)}purge(){Pr().f[7]++,Pr().s[22]++;for(let n=(Pr().s[23]++,0);n<window.localStorage.length;n++){const t=(Pr().s[24]++,window.localStorage.key(n));Pr().s[25]++,t.startsWith(w_)?(Pr().b[3][0]++,Pr().s[26]++,window.localStorage.removeItem(t)):Pr().b[3][1]++}}latestStyle(n){if(Pr().f[8]++,Pr().s[27]++,this.mapStyles.length===0)return Pr().b[4][0]++,Pr().s[28]++,eF(n);Pr().b[4][1]++;const t=(Pr().s[29]++,window.localStorage.getItem(JP.latest)),r=(Pr().s[30]++,window.localStorage.getItem(tF(t)));if(Pr().s[31]++,r)return Pr().b[5][0]++,Pr().s[32]++,n(JSON.parse(r));Pr().b[5][1]++,Pr().s[33]++,eF(n)}save(n){Pr().f[9]++,Pr().s[34]++,n=wu.ensureStyleValidity(n);const t=(Pr().s[35]++,tF(n.id));return Pr().s[36]++,window.localStorage.setItem(t,JSON.stringify(n)),Pr().s[37]++,window.localStorage.setItem(JP.latest,n.id),Pr().s[38]++,n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dO=function(e,n){return dO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},dO(e,n)};function FG(e,n){dO(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function W7e(e){var n=typeof Symbol=="function"&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function N7e(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function G7e(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(N7e(arguments[n]));return e}var DG=function(){function e(n,t){this.target=t,this.type=n}return e}(),Q7e=function(e){FG(n,e);function n(t,r){var i=e.call(this,"error",r)||this;return i.message=t.message,i.error=t,i}return n}(DG),$7e=function(e){FG(n,e);function n(t,r,i){t===void 0&&(t=1e3),r===void 0&&(r="");var o=e.call(this,"close",i)||this;return o.wasClean=!0,o.code=t,o.reason=r,o}return n}(DG);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var Y7e=function(){if(typeof WebSocket<"u")return WebSocket},q7e=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},_0={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},V7e=function(){function e(n,t,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var s=i._options.minUptime,a=s===void 0?_0.minUptime:s;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},a),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(p){return i._ws.send(p)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(p){return i._callEventListener(o,p)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(s){return i._callEventListener(o,s)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(s){return i._callEventListener(o,s)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(s){return i._callEventListener(o,s)})},this._url=n,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var n=this._messageQueue.reduce(function(t,r){return typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t},0);return n+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(n,t){if(n===void 0&&(n=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,t)},e.prototype.reconnect=function(n,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,t),this._connect())},e.prototype.send=function(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{var t=this._options.maxEnqueuedMessages,r=t===void 0?_0.maxEnqueuedMessages:t;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}},e.prototype.addEventListener=function(n,t){this._listeners[n]&&this._listeners[n].push(t)},e.prototype.dispatchEvent=function(n){var t,r,i=this._listeners[n.type];if(i)try{for(var o=W7e(i),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(n,a)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(n,t){this._listeners[n]&&(this._listeners[n]=this._listeners[n].filter(function(r){return r!==t}))},e.prototype._debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._options.debug&&console.log.apply(console,G7e(["RWS>"],n))},e.prototype._getNextDelay=function(){var n=this._options,t=n.reconnectionDelayGrowFactor,r=t===void 0?_0.reconnectionDelayGrowFactor:t,i=n.minReconnectionDelay,o=i===void 0?_0.minReconnectionDelay:i,s=n.maxReconnectionDelay,a=s===void 0?_0.maxReconnectionDelay:s,p=0;return this._retryCount>0&&(p=o*Math.pow(r,this._retryCount-1),p>a&&(p=a)),this._debug("next delay",p),p},e.prototype._wait=function(){var n=this;return new Promise(function(t){setTimeout(t,n._getNextDelay())})},e.prototype._getNextUrl=function(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){var t=n();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var n=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,r=t.maxRetries,i=r===void 0?_0.maxRetries:r,o=t.connectionTimeout,s=o===void 0?_0.connectionTimeout:o,a=t.WebSocket,p=a===void 0?Y7e():a;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!q7e(p))throw Error("No valid WebSocket class provided");this._wait().then(function(){return n._getNextUrl(n._url)}).then(function(g){n._closeCalled||(n._debug("connect",{url:g,protocols:n._protocols}),n._ws=n._protocols?new p(g,n._protocols):new p(g),n._ws.binaryType=n._binaryType,n._connectLock=!1,n._addListeners(),n._connectTimeout=setTimeout(function(){return n._handleTimeout()},s))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Q7e(Error("TIMEOUT"),this))},e.prototype._disconnect=function(n,t){if(n===void 0&&(n=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,t),this._handleClose(new $7e(n,t,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(n,t){"handleEvent"in t?t.handleEvent(n):t(n)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();function Fr(){var e="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",n="affc9a723ceb39c9f38866dab538bc0c9774f995",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"affc9a723ceb39c9f38866dab538bc0c9774f995"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Fr=function(){return s},s}Fr();class H7e{constructor(n){nn(this,"localUrl");nn(this,"websocketUrl");nn(this,"latestStyleId",(Fr().s[0]++,void 0));nn(this,"onLocalStyleChange");Fr().f[0]++,Fr().s[1]++,this.onLocalStyleChange=(Fr().b[0][0]++,n.onLocalStyleChange||(Fr().b[0][1]++,()=>{Fr().f[1]++}));const t=(Fr().s[2]++,Fr().b[1][0]++,n.port||(Fr().b[1][1]++,"8000")),r=(Fr().s[3]++,Fr().b[2][0]++,n.host||(Fr().b[2][1]++,"localhost"));Fr().s[4]++,this.localUrl=`http://${r}:${t}`,Fr().s[5]++,this.websocketUrl=`ws://${r}:${t}/ws`,Fr().s[6]++,this.init=this.init.bind(this)}init(n){Fr().f[2]++,Fr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(t=>(Fr().f[3]++,Fr().s[8]++,t.json())).then(t=>{Fr().f[4]++;const r=(Fr().s[9]++,t);Fr().s[10]++,this.latestStyleId=r[0],Fr().s[11]++,this.notifyLocalChanges(),Fr().s[12]++,n(null)}).catch(()=>{Fr().f[5]++,Fr().s[13]++,n(new Error("Can not connect to style API"))})}notifyLocalChanges(){Fr().f[6]++;const n=(Fr().s[14]++,new V7e(this.websocketUrl));Fr().s[15]++,n.onmessage=t=>{if(Fr().f[7]++,Fr().s[16]++,t.data)Fr().b[3][1]++;else{Fr().b[3][0]++,Fr().s[17]++;return}Fr().s[18]++,console.log("Received style update from API");let r=(Fr().s[19]++,wu.emptyStyle);Fr().s[20]++;try{Fr().s[21]++,r=JSON.parse(t.data)}catch(o){Fr().s[22]++,console.error(o)}const i=(Fr().s[23]++,wu.ensureStyleValidity(r));Fr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(n){if(Fr().f[8]++,Fr().s[25]++,this.latestStyleId)Fr().b[4][0]++,Fr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(t){return Fr().f[9]++,Fr().s[27]++,t.json()}).then(function(t){Fr().f[10]++,Fr().s[28]++,n(wu.ensureStyleValidity(t))});else throw Fr().b[4][1]++,Fr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(n){Fr().f[11]++;const t=(Fr().s[30]++,zR(wu.stripAccessTokens(wu.replaceAccessTokens(n)))),r=(Fr().s[31]++,n.id);return Fr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t}).catch(function(i){Fr().f[12]++,Fr().s[33]++,i?(Fr().b[5][0]++,Fr().s[34]++,console.error(i)):Fr().b[5][1]++}),Fr().s[35]++,n}}function is(){var e="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",n="75aa64d8ac26c323427e8636e380dc661caefa68",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:34}},5:{start:{line:16,column:4},end:{line:16,column:22}},6:{start:{line:19,column:4},end:{line:21,column:5}},7:{start:{line:20,column:6},end:{line:20,column:24}},8:{start:{line:22,column:4},end:{line:22,column:24}},9:{start:{line:25,column:4},end:{line:27,column:5}},10:{start:{line:26,column:6},end:{line:26,column:24}},11:{start:{line:28,column:4},end:{line:28,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:17,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:9},end:{line:23,column:3}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:9},end:{line:29,column:3}},line:24}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:25,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:27,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EACP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"75aa64d8ac26c323427e8636e380dc661caefa68"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return is=function(){return s},s}is();class Z7e{constructor(n=(is().b[0][0]++,[])){nn(this,"revisions");nn(this,"currentIdx");is().f[0]++,is().s[0]++,this.revisions=n,is().s[1]++,this.currentIdx=n.length-1}get latest(){return is().f[1]++,is().s[2]++,this.revisions[this.revisions.length-1]}get current(){return is().f[2]++,is().s[3]++,this.revisions[this.currentIdx]}addRevision(n){is().f[3]++,is().s[4]++,this.revisions.push(n),is().s[5]++,this.currentIdx++}undo(){return is().f[4]++,is().s[6]++,this.currentIdx>0?(is().b[1][0]++,is().s[7]++,this.currentIdx--):is().b[1][1]++,is().s[8]++,this.current}redo(){return is().f[5]++,is().s[9]++,this.currentIdx<this.revisions.length-1?(is().b[2][0]++,is().s[10]++,this.currentIdx++):is().b[2][1]++,is().s[11]++,this.current}}var UG="Expected a function",rF=NaN,X7e="[object Symbol]",J7e=/^\s+|\s+$/g,e8e=/^[-+]0x[0-9a-f]+$/i,t8e=/^0b[01]+$/i,n8e=/^0o[0-7]+$/i,r8e=parseInt,i8e=typeof window=="object"&&window&&window.Object===Object&&window,o8e=typeof self=="object"&&self&&self.Object===Object&&self,a8e=i8e||o8e||Function("return this")(),s8e=Object.prototype,l8e=s8e.toString,u8e=Math.max,A8e=Math.min,gS=function(){return a8e.Date.now()};function c8e(e,n,t){var r,i,o,s,a,p,g=0,b=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(UG);n=iF(n)||0,M4(t)&&(b=!!t.leading,B="maxWait"in t,o=B?u8e(iF(t.maxWait)||0,n):o,k="trailing"in t?!!t.trailing:k);function P(se){var le=r,ye=i;return r=i=void 0,g=se,s=e.apply(ye,le),s}function R(se){return g=se,a=setTimeout(Q,n),b?P(se):s}function Z(se){var le=se-p,ye=se-g,De=n-le;return B?A8e(De,o-ye):De}function W(se){var le=se-p,ye=se-g;return p===void 0||le>=n||le<0||B&&ye>=o}function Q(){var se=gS();if(W(se))return q(se);a=setTimeout(Q,Z(se))}function q(se){return a=void 0,k&&r?P(se):(r=i=void 0,s)}function oe(){a!==void 0&&clearTimeout(a),g=0,r=p=i=a=void 0}function re(){return a===void 0?s:q(gS())}function ce(){var se=gS(),le=W(se);if(r=arguments,i=this,p=se,le){if(a===void 0)return R(p);if(B)return a=setTimeout(Q,n),P(p)}return a===void 0&&(a=setTimeout(Q,n)),s}return ce.cancel=oe,ce.flush=re,ce}function d8e(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(UG);return M4(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),c8e(e,n,{leading:r,maxWait:n,trailing:i})}function M4(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function h8e(e){return!!e&&typeof e=="object"}function f8e(e){return typeof e=="symbol"||h8e(e)&&l8e.call(e)==X7e}function iF(e){if(typeof e=="number")return e;if(f8e(e))return rF;if(M4(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=M4(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(J7e,"");var t=t8e.test(e);return t||n8e.test(e)?r8e(e.slice(2),t?2:8):e8e.test(e)?rF:+e}var p8e=d8e;const m8e=ma(p8e);function Vr(){var e="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",n="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return Vr=function(){return s},s}Vr();class g8e{constructor(n=(Vr().b[0][0]++,{})){nn(this,"onSourcesChange");nn(this,"onVectorLayersChange");nn(this,"throttledAnalyzeVectorLayerFields");nn(this,"_sources");nn(this,"_vectorLayers");Vr().f[0]++,Vr().s[0]++,this.onSourcesChange=(Vr().b[1][0]++,n.onSourcesChange||(Vr().b[1][1]++,()=>{Vr().f[1]++})),Vr().s[1]++,this.onVectorLayersChange=(Vr().b[2][0]++,n.onVectorLayersChange||(Vr().b[2][1]++,()=>{Vr().f[2]++})),Vr().s[2]++,this._sources={},Vr().s[3]++,this._vectorLayers={},Vr().s[4]++,this.throttledAnalyzeVectorLayerFields=m8e(this.analyzeVectorLayerFields,5e3)}analyzeMap(n){Vr().f[3]++;const t=(Vr().s[5]++,{...this._sources});Vr().s[6]++,Object.keys(n.style.sourceCaches).forEach(r=>{Vr().f[4]++,Vr().s[7]++,this._sources[r]=n.style.sourceCaches[r]._source.vectorLayerIds}),Vr().s[8]++,B6(t,this._sources)?Vr().b[3][1]++:(Vr().b[3][0]++,Vr().s[9]++,this.onSourcesChange(this._sources)),Vr().s[10]++,this.throttledAnalyzeVectorLayerFields(n)}analyzeVectorLayerFields(n){Vr().f[5]++;const t=(Vr().s[11]++,{...this._vectorLayers});Vr().s[12]++,Object.keys(this._sources).forEach(r=>{Vr().f[6]++,Vr().s[13]++,(Vr().b[4][0]++,this._sources[r]||(Vr().b[4][1]++,[])).forEach(i=>{Vr().f[7]++;const o=(Vr().s[14]++,Vr().b[5][0]++,this._vectorLayers[i]||(Vr().b[5][1]++,{})),s=(Vr().s[15]++,{sourceLayer:i});Vr().s[16]++,n.querySourceFeatures(r,s).forEach(a=>{Vr().f[8]++,Vr().s[17]++,Object.keys(a.properties).forEach(p=>{Vr().f[9]++;const g=(Vr().s[18]++,Vr().b[6][0]++,o[p]||(Vr().b[6][1]++,{}));Vr().s[19]++,g[a.properties[p]]={},Vr().s[20]++,o[p]=g})}),Vr().s[21]++,this._vectorLayers[i]=o})}),Vr().s[22]++,B6(t,this._vectorLayers)?Vr().b[7][1]++:(Vr().b[7][0]++,Vr().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return Vr().f[10]++,Vr().s[24]++,this._sources}get vectorLayers(){return Vr().f[11]++,Vr().s[25]++,this._vectorLayers}}function zo(){var e="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",n="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return zo=function(){return s},s}zo();const LC=(zo().s[0]++,{});function ok(){zo().f[0]++;const e=(zo().s[1]++,new URL(window.location.href).searchParams),n=(zo().s[2]++,e.get("debug"));return zo().s[3]++,n?(zo().b[0][0]++,zo().s[4]++,!!n.match(/^(|1|true)$/)):(zo().b[0][1]++,zo().s[5]++,!1)}function RG(){return zo().f[1]++,zo().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function y8e(e,n,t){if(zo().f[2]++,zo().s[7]++,ok())zo().b[1][1]++;else throw zo().b[1][0]++,zo().s[8]++,RG();zo().s[9]++,LC[e]=(zo().b[2][0]++,LC[e]||(zo().b[2][1]++,{})),zo().s[10]++,LC[e][n]=t}function v8e(e,n){if(zo().f[3]++,zo().s[11]++,ok())zo().b[3][1]++;else throw zo().b[3][0]++,zo().s[12]++,RG();if(zo().s[13]++,Object.prototype.hasOwnProperty.call(LC,e))return zo().b[4][0]++,zo().s[14]++,LC[e][n];zo().b[4][1]++}const S0=(zo().s[15]++,{enabled:ok,get:v8e,set:y8e});zo().s[16]++;window.debug=S0;function ie(){var e="/home/runner/work/maputnik/maputnik/src/components/App.tsx",n="89c068ca942382ab4384d9496905567c46b1fd10",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:37,column:0},end:{line:37,column:30}},1:{start:{line:39,column:29},end:{line:39,column:60}},2:{start:{line:40,column:26},end:{line:40,column:54}},3:{start:{line:41,column:31},end:{line:41,column:64}},4:{start:{line:42,column:2},end:{line:54,column:3}},5:{start:{line:43,column:24},end:{line:43,column:95}},6:{start:{line:44,column:4},end:{line:46,column:5}},7:{start:{line:45,column:6},end:{line:45,column:47}},8:{start:{line:47,column:9},end:{line:54,column:3}},9:{start:{line:48,column:24},end:{line:48,column:96}},10:{start:{line:49,column:4},end:{line:51,column:5}},11:{start:{line:50,column:6},end:{line:50,column:47}},12:{start:{line:53,column:4},end:{line:53,column:15}},13:{start:{line:57,column:2},end:{line:66,column:4}},14:{start:{line:72,column:15},end:{line:72,column:19}},15:{start:{line:74,column:4},end:{line:74,column:17}},16:{start:{line:75,column:4},end:{line:75,column:19}},17:{start:{line:76,column:4},end:{line:76,column:45}},18:{start:{line:77,column:19},end:{line:77,column:75}},19:{start:{line:78,column:15},end:{line:78,column:38}},20:{start:{line:79,column:4},end:{line:81,column:5}},21:{start:{line:80,column:6},end:{line:80,column:34}},22:{start:{line:82,column:4},end:{line:86,column:7}},23:{start:{line:83,column:40},end:{line:83,column:86}},24:{start:{line:87,column:22},end:{line:138,column:5}},25:{start:{line:91,column:10},end:{line:91,column:40}},26:{start:{line:97,column:10},end:{line:97,column:35}},27:{start:{line:103,column:10},end:{line:103,column:37}},28:{start:{line:109,column:10},end:{line:109,column:38}},29:{start:{line:115,column:10},end:{line:115,column:39}},30:{start:{line:121,column:10},end:{line:123,column:12}},31:{start:{line:129,column:10},end:{line:129,column:63}},32:{start:{line:135,column:10},end:{line:135,column:36}},33:{start:{line:139,column:4},end:{line:152,column:7}},34:{start:{line:140,column:6},end:{line:151,column:7}},35:{start:{line:141,column:8},end:{line:141,column:24}},36:{start:{line:142,column:8},end:{line:142,column:30}},37:{start:{line:143,column:13},end:{line:151,column:7}},38:{start:{line:144,column:25},end:{line:146,column:10}},39:{start:{line:145,column:10},end:{line:145,column:41}},40:{start:{line:147,column:8},end:{line:150,column:9}},41:{start:{line:148,column:10},end:{line:148,column:44}},42:{start:{line:149,column:10},end:{line:149,column:29}},43:{start:{line:153,column:21},end:{line:153,column:38}},44:{start:{line:154,column:4},end:{line:173,column:5}},45:{start:{line:155,column:6},end:{line:155,column:41}},46:{start:{line:156,column:6},end:{line:156,column:74}},47:{start:{line:156,column:43},end:{line:156,column:72}},48:{start:{line:157,column:6},end:{line:157,column:31}},49:{start:{line:159,column:6},end:{line:161,column:7}},50:{start:{line:160,column:8},end:{line:160,column:33}},51:{start:{line:162,column:6},end:{line:172,column:9}},52:{start:{line:163,column:8},end:{line:166,column:9}},53:{start:{line:164,column:10},end:{line:164,column:74}},54:{start:{line:165,column:10},end:{line:165,column:45}},55:{start:{line:167,column:8},end:{line:167,column:104}},56:{start:{line:167,column:50},end:{line:167,column:102}},57:{start:{line:168,column:8},end:{line:171,column:9}},58:{start:{line:169,column:10},end:{line:169,column:63}},59:{start:{line:170,column:10},end:{line:170,column:69}},60:{start:{line:174,column:4},end:{line:177,column:5}},61:{start:{line:175,column:6},end:{line:175,column:65}},62:{start:{line:176,column:6},end:{line:176,column:59}},63:{start:{line:178,column:4},end:{line:212,column:6}},64:{start:{line:213,column:4},end:{line:215,column:7}},65:{start:{line:214,column:35},end:{line:214,column:69}},66:{start:{line:217,column:19},end:{line:235,column:3}},67:{start:{line:218,column:4},end:{line:234,column:5}},68:{start:{line:219,column:6},end:{line:225,column:7}},69:{start:{line:220,column:8},end:{line:220,column:27}},70:{start:{line:221,column:8},end:{line:221,column:22}},71:{start:{line:222,column:13},end:{line:225,column:7}},72:{start:{line:223,column:8},end:{line:223,column:27}},73:{start:{line:224,column:8},end:{line:224,column:22}},74:{start:{line:227,column:6},end:{line:233,column:7}},75:{start:{line:228,column:8},end:{line:228,column:27}},76:{start:{line:229,column:8},end:{line:229,column:22}},77:{start:{line:230,column:13},end:{line:233,column:7}},78:{start:{line:231,column:8},end:{line:231,column:27}},79:{start:{line:232,column:8},end:{line:232,column:22}},80:{start:{line:237,column:4},end:{line:237,column:60}},81:{start:{line:240,column:4},end:{line:240,column:63}},82:{start:{line:243,column:4},end:{line:243,column:40}},83:{start:{line:246,column:21},end:{line:246,column:55}},84:{start:{line:247,column:24},end:{line:247,column:93}},85:{start:{line:248,column:21},end:{line:248,column:110}},86:{start:{line:249,column:4},end:{line:251,column:7}},87:{start:{line:250,column:6},end:{line:250,column:80}},88:{start:{line:254,column:4},end:{line:256,column:7}},89:{start:{line:255,column:6},end:{line:255,column:80}},90:{start:{line:258,column:29},end:{line:272,column:3}},91:{start:{line:259,column:4},end:{line:263,column:5}},92:{start:{line:260,column:6},end:{line:262,column:9}},93:{start:{line:264,column:25},end:{line:270,column:5}},94:{start:{line:271,column:4},end:{line:271,column:38}},95:{start:{line:273,column:19},end:{line:385,column:3}},96:{start:{line:274,column:4},end:{line:279,column:6}},97:{start:{line:280,column:4},end:{line:282,column:5}},98:{start:{line:281,column:6},end:{line:281,column:44}},99:{start:{line:283,column:19},end:{line:283,column:51}},100:{start:{line:284,column:24},end:{line:284,column:26}},101:{start:{line:285,column:4},end:{line:296,column:5}},102:{start:{line:286,column:26},end:{line:286,column:42}},103:{start:{line:287,column:6},end:{line:295,column:9}},104:{start:{line:288,column:8},end:{line:293,column:9}},105:{start:{line:289,column:24},end:{line:291,column:11}},106:{start:{line:292,column:10},end:{line:292,column:34}},107:{start:{line:294,column:8},end:{line:294,column:40}},108:{start:{line:297,column:25},end:{line:348,column:6}},109:{start:{line:298,column:23},end:{line:298,column:109}},110:{start:{line:299,column:6},end:{line:312,column:7}},111:{start:{line:300,column:35},end:{line:300,column:43}},112:{start:{line:301,column:8},end:{line:311,column:10}},113:{start:{line:313,column:33},end:{line:313,column:100}},114:{start:{line:314,column:6},end:{line:327,column:7}},115:{start:{line:315,column:35},end:{line:315,column:53}},116:{start:{line:316,column:8},end:{line:326,column:10}},117:{start:{line:328,column:25},end:{line:328,column:88}},118:{start:{line:329,column:6},end:{line:347,column:7}},119:{start:{line:330,column:52},end:{line:330,column:62}},120:{start:{line:331,column:20},end:{line:331,column:78}},121:{start:{line:332,column:8},end:{line:342,column:10}},122:{start:{line:344,column:8},end:{line:346,column:10}},123:{start:{line:349,column:24},end:{line:349,column:30}},124:{start:{line:350,column:4},end:{line:364,column:5}},125:{start:{line:351,column:6},end:{line:351,column:42}},126:{start:{line:352,column:6},end:{line:363,column:9}},127:{start:{line:353,column:28},end:{line:353,column:33}},128:{start:{line:354,column:8},end:{line:362,column:9}},129:{start:{line:355,column:10},end:{line:361,column:11}},130:{start:{line:356,column:28},end:{line:356,column:49}},131:{start:{line:357,column:30},end:{line:357,column:69}},132:{start:{line:358,column:12},end:{line:358,column:44}},133:{start:{line:360,column:12},end:{line:360,column:30}},134:{start:{line:365,column:4},end:{line:367,column:5}},135:{start:{line:366,column:6},end:{line:366,column:40}},136:{start:{line:368,column:4},end:{line:370,column:5}},137:{start:{line:369,column:6},end:{line:369,column:40}},138:{start:{line:371,column:4},end:{line:373,column:5}},139:{start:{line:372,column:6},end:{line:372,column:47}},140:{start:{line:374,column:4},end:{line:376,column:5}},141:{start:{line:375,column:6},end:{line:375,column:31}},142:{start:{line:377,column:4},end:{line:384,column:7}},143:{start:{line:382,column:6},end:{line:382,column:26}},144:{start:{line:383,column:6},end:{line:383,column:27}},145:{start:{line:386,column:11},end:{line:393,column:3}},146:{start:{line:387,column:24},end:{line:387,column:49}},147:{start:{line:388,column:21},end:{line:388,column:67}},148:{start:{line:389,column:4},end:{line:389,column:61}},149:{start:{line:390,column:4},end:{line:392,column:7}},150:{start:{line:394,column:11},end:{line:401,column:3}},151:{start:{line:395,column:24},end:{line:395,column:49}},152:{start:{line:396,column:21},end:{line:396,column:67}},153:{start:{line:397,column:4},end:{line:397,column:61}},154:{start:{line:398,column:4},end:{line:400,column:7}},155:{start:{line:402,column:16},end:{line:417,column:3}},156:{start:{line:403,column:33},end:{line:403,column:37}},157:{start:{line:404,column:17},end:{line:404,column:43}},158:{start:{line:405,column:4},end:{line:405,column:53}},159:{start:{line:406,column:4},end:{line:406,column:53}},160:{start:{line:407,column:4},end:{line:408,column:13}},161:{start:{line:408,column:6},end:{line:408,column:13}},162:{start:{line:409,column:4},end:{line:413,column:5}},163:{start:{line:410,column:6},end:{line:412,column:9}},164:{start:{line:414,column:4},end:{line:414,column:29}},165:{start:{line:415,column:4},end:{line:415,column:49}},166:{start:{line:416,column:4},end:{line:416,column:32}},167:{start:{line:418,column:19},end:{line:424,column:3}},168:{start:{line:419,column:25},end:{line:422,column:5}},169:{start:{line:423,column:4},end:{line:423,column:38}},170:{start:{line:425,column:19},end:{line:430,column:3}},171:{start:{line:426,column:19},end:{line:426,column:45}},172:{start:{line:427,column:28},end:{line:427,column:43}},173:{start:{line:428,column:4},end:{line:428,column:37}},174:{start:{line:429,column:4},end:{line:429,column:41}},175:{start:{line:431,column:16},end:{line:438,column:3}},176:{start:{line:432,column:19},end:{line:432,column:45}},177:{start:{line:433,column:26},end:{line:433,column:41}},178:{start:{line:434,column:24},end:{line:434,column:55}},179:{start:{line:435,column:4},end:{line:435,column:46}},180:{start:{line:436,column:4},end:{line:436,column:48}},181:{start:{line:437,column:4},end:{line:437,column:39}},182:{start:{line:439,column:28},end:{line:448,column:3}},183:{start:{line:440,column:19},end:{line:440,column:45}},184:{start:{line:441,column:26},end:{line:441,column:41}},185:{start:{line:442,column:18},end:{line:442,column:45}},186:{start:{line:443,column:26},end:{line:443,column:70}},187:{start:{line:444,column:4},end:{line:444,column:88}},188:{start:{line:445,column:4},end:{line:445,column:33}},189:{start:{line:446,column:4},end:{line:446,column:33}},190:{start:{line:447,column:4},end:{line:447,column:39}},191:{start:{line:449,column:20},end:{line:456,column:3}},192:{start:{line:450,column:26},end:{line:450,column:61}},193:{start:{line:451,column:4},end:{line:454,column:6}},194:{start:{line:455,column:4},end:{line:455,column:39}},195:{start:{line:457,column:19},end:{line:461,column:3}},196:{start:{line:458,column:26},end:{line:458,column:61}},197:{start:{line:459,column:4},end:{line:459,column:33}},198:{start:{line:460,column:4},end:{line:460,column:39}},199:{start:{line:462,column:16},end:{line:466,column:3}},200:{start:{line:463,column:4},end:{line:465,column:27}},201:{start:{line:467,column:21},end:{line:481,column:3}},202:{start:{line:468,column:21},end:{line:468,column:44}},203:{start:{line:469,column:4},end:{line:480,column:5}},204:{start:{line:470,column:27},end:{line:476,column:7}},205:{start:{line:477,column:6},end:{line:477,column:26}},206:{start:{line:479,column:6},end:{line:479,column:22}},207:{start:{line:482,column:14},end:{line:485,column:3}},208:{start:{line:483,column:4},end:{line:483,column:47}},209:{start:{line:484,column:4},end:{line:484,column:34}},210:{start:{line:487,column:23},end:{line:487,column:25}},211:{start:{line:488,column:4},end:{line:522,column:5}},212:{start:{line:489,column:6},end:{line:521,column:7}},213:{start:{line:490,column:8},end:{line:493,column:10}},214:{start:{line:494,column:18},end:{line:494,column:25}},215:{start:{line:495,column:8},end:{line:499,column:9}},216:{start:{line:496,column:10},end:{line:496,column:62}},217:{start:{line:498,column:10},end:{line:498,column:63}},218:{start:{line:500,column:8},end:{line:518,column:11}},219:{start:{line:502,column:30},end:{line:502,column:45}},220:{start:{line:503,column:10},end:{line:505,column:11}},221:{start:{line:504,column:12},end:{line:504,column:19}},222:{start:{line:506,column:26},end:{line:508,column:12}},223:{start:{line:509,column:10},end:{line:511,column:11}},224:{start:{line:510,column:12},end:{line:510,column:47}},225:{start:{line:512,column:10},end:{line:512,column:51}},226:{start:{line:513,column:10},end:{line:515,column:13}},227:{start:{line:517,column:10},end:{line:517,column:72}},228:{start:{line:520,column:8},end:{line:520,column:86}},229:{start:{line:523,column:4},end:{line:528,column:5}},230:{start:{line:524,column:6},end:{line:524,column:39}},231:{start:{line:525,column:6},end:{line:527,column:9}},232:{start:{line:531,column:21},end:{line:531,column:55}},233:{start:{line:532,column:4},end:{line:532,column:53}},234:{start:{line:534,column:16},end:{line:538,column:3}},235:{start:{line:535,column:4},end:{line:537,column:7}},236:{start:{line:540,column:40},end:{line:540,column:50}},237:{start:{line:541,column:21},end:{line:552,column:5}},238:{start:{line:544,column:8},end:{line:546,column:11}},239:{start:{line:549,column:8},end:{line:549,column:44}},240:{start:{line:550,column:8},end:{line:550,column:28}},241:{start:{line:553,column:21},end:{line:553,column:40}},242:{start:{line:555,column:4},end:{line:577,column:5}},243:{start:{line:556,column:6},end:{line:564,column:8}},244:{start:{line:566,column:6},end:{line:576,column:8}},245:{start:{line:579,column:4},end:{line:581,column:5}},246:{start:{line:580,column:6},end:{line:580,column:63}},247:{start:{line:582,column:25},end:{line:582,column:27}},248:{start:{line:583,column:4},end:{line:585,column:5}},249:{start:{line:584,column:6},end:{line:584,column:52}},250:{start:{line:586,column:4},end:{line:586,column:160}},251:{start:{line:588,column:18},end:{line:606,column:3}},252:{start:{line:589,column:43},end:{line:589,column:53}},253:{start:{line:590,column:35},end:{line:590,column:45}},254:{start:{line:591,column:16},end:{line:591,column:38}},255:{start:{line:592,column:20},end:{line:592,column:50}},256:{start:{line:593,column:4},end:{line:593,column:70}},257:{start:{line:594,column:23},end:{line:594,column:122}},258:{start:{line:594,column:66},end:{line:594,column:91}},259:{start:{line:594,column:109},end:{line:594,column:121}},260:{start:{line:595,column:4},end:{line:599,column:5}},261:{start:{line:596,column:6},end:{line:596,column:58}},262:{start:{line:598,column:6},end:{line:598,column:39}},263:{start:{line:600,column:4},end:{line:604,column:5}},264:{start:{line:601,column:6},end:{line:601,column:38}},265:{start:{line:602,column:11},end:{line:604,column:5}},266:{start:{line:603,column:6},end:{line:603,column:46}},267:{start:{line:605,column:4},end:{line:605,column:71}},268:{start:{line:607,column:27},end:{line:652,column:3}},269:{start:{line:608,column:16},end:{line:608,column:38}},270:{start:{line:609,column:23},end:{line:609,column:52}},271:{start:{line:610,column:4},end:{line:622,column:5}},272:{start:{line:611,column:21},end:{line:611,column:42}},273:{start:{line:612,column:23},end:{line:612,column:25}},274:{start:{line:613,column:6},end:{line:615,column:9}},275:{start:{line:614,column:8},end:{line:614,column:35}},276:{start:{line:616,column:6},end:{line:621,column:9}},277:{start:{line:623,column:17},end:{line:623,column:45}},278:{start:{line:624,column:4},end:{line:626,column:5}},279:{start:{line:625,column:6},end:{line:625,column:29}},280:{start:{line:627,column:17},end:{line:627,column:46}},281:{start:{line:628,column:4},end:{line:651,column:5}},282:{start:{line:629,column:6},end:{line:650,column:7}},283:{start:{line:630,column:22},end:{line:630,column:37}},284:{start:{line:631,column:46},end:{line:634,column:9}},285:{start:{line:635,column:20},end:{line:635,column:24}},286:{start:{line:636,column:8},end:{line:641,column:9}},287:{start:{line:637,column:33},end:{line:637,column:63}},288:{start:{line:638,column:10},end:{line:640,column:11}},289:{start:{line:639,column:12},end:{line:639,column:26}},290:{start:{line:642,column:8},end:{line:647,column:9}},291:{start:{line:643,column:10},end:{line:646,column:13}},292:{start:{line:649,column:8},end:{line:649,column:26}},293:{start:{line:653,column:18},end:{line:658,column:3}},294:{start:{line:654,column:4},end:{line:657,column:27}},295:{start:{line:660,column:4},end:{line:662,column:5}},296:{start:{line:661,column:6},end:{line:661,column:41}},297:{start:{line:663,column:4},end:{line:668,column:27}},298:{start:{line:671,column:4},end:{line:671,column:60}},299:{start:{line:673,column:28},end:{line:680,column:3}},300:{start:{line:674,column:4},end:{line:679,column:7}},301:{start:{line:681,column:28},end:{line:688,column:3}},302:{start:{line:682,column:4},end:{line:687,column:7}},303:{start:{line:690,column:19},end:{line:690,column:51}},304:{start:{line:691,column:26},end:{line:691,column:92}},305:{start:{line:692,column:36},end:{line:705,column:5}},306:{start:{line:706,column:38},end:{line:720,column:5}},307:{start:{line:721,column:24},end:{line:740,column:14}},308:{start:{line:741,column:24},end:{line:751,column:14}},309:{start:{line:752,column:35},end:{line:817,column:8}},310:{start:{line:769,column:23},end:{line:769,column:43}},311:{start:{line:818,column:4},end:{line:828,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:38,column:9},end:{line:38,column:28}},loc:{start:{line:38,column:44},end:{line:55,column:1}},line:38},1:{name:"updateRootSpec",decl:{start:{line:56,column:9},end:{line:56,column:23}},loc:{start:{line:56,column:52},end:{line:67,column:1}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:21},end:{line:216,column:3}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:40},end:{line:83,column:86}},line:83},4:{name:"(anonymous_4)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:9}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:9}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:102,column:17},end:{line:102,column:18}},loc:{start:{line:102,column:23},end:{line:104,column:9}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:23},end:{line:110,column:9}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:23},end:{line:116,column:9}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:124,column:9}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:17},end:{line:128,column:18}},loc:{start:{line:128,column:23},end:{line:130,column:9}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:134,column:17},end:{line:134,column:18}},loc:{start:{line:134,column:23},end:{line:136,column:9}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:139,column:44},end:{line:139,column:45}},loc:{start:{line:139,column:51},end:{line:152,column:5}},line:139},13:{name:"(anonymous_13)",decl:{start:{line:144,column:40},end:{line:144,column:41}},loc:{start:{line:144,column:55},end:{line:146,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:156,column:29},end:{line:156,column:30}},loc:{start:{line:156,column:43},end:{line:156,column:72}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:162,column:27},end:{line:162,column:28}},loc:{start:{line:162,column:36},end:{line:172,column:7}},line:162},16:{name:"(anonymous_16)",decl:{start:{line:167,column:36},end:{line:167,column:37}},loc:{start:{line:167,column:50},end:{line:167,column:102}},line:167},17:{name:"(anonymous_17)",decl:{start:{line:214,column:28},end:{line:214,column:29}},loc:{start:{line:214,column:35},end:{line:214,column:69}},line:214},18:{name:"(anonymous_18)",decl:{start:{line:217,column:19},end:{line:217,column:20}},loc:{start:{line:217,column:26},end:{line:235,column:3}},line:217},19:{name:"(anonymous_19)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:22},end:{line:238,column:3}},line:236},20:{name:"(anonymous_20)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:25},end:{line:241,column:3}},line:239},21:{name:"(anonymous_21)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:27},end:{line:244,column:3}},line:242},22:{name:"(anonymous_22)",decl:{start:{line:245,column:2},end:{line:245,column:3}},loc:{start:{line:245,column:27},end:{line:252,column:3}},line:245},23:{name:"(anonymous_23)",decl:{start:{line:249,column:37},end:{line:249,column:38}},loc:{start:{line:249,column:48},end:{line:251,column:5}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:253,column:2},end:{line:253,column:3}},loc:{start:{line:253,column:23},end:{line:257,column:3}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:254,column:36},end:{line:254,column:37}},loc:{start:{line:254,column:47},end:{line:256,column:5}},line:254},26:{name:"(anonymous_26)",decl:{start:{line:258,column:29},end:{line:258,column:30}},loc:{start:{line:258,column:50},end:{line:272,column:3}},line:258},27:{name:"(anonymous_27)",decl:{start:{line:273,column:19},end:{line:273,column:20}},loc:{start:{line:273,column:44},end:{line:385,column:3}},line:273},28:{name:"(anonymous_28)",decl:{start:{line:287,column:30},end:{line:287,column:31}},loc:{start:{line:287,column:48},end:{line:295,column:7}},line:287},29:{name:"(anonymous_29)",decl:{start:{line:297,column:56},end:{line:297,column:57}},loc:{start:{line:297,column:67},end:{line:348,column:5}},line:297},30:{name:"(anonymous_30)",decl:{start:{line:352,column:21},end:{line:352,column:22}},loc:{start:{line:352,column:32},end:{line:363,column:7}},line:352},31:{name:"(anonymous_31)",decl:{start:{line:381,column:7},end:{line:381,column:8}},loc:{start:{line:381,column:13},end:{line:384,column:5}},line:381},32:{name:"(anonymous_32)",decl:{start:{line:386,column:11},end:{line:386,column:12}},loc:{start:{line:386,column:17},end:{line:393,column:3}},line:386},33:{name:"(anonymous_33)",decl:{start:{line:394,column:11},end:{line:394,column:12}},loc:{start:{line:394,column:17},end:{line:401,column:3}},line:394},34:{name:"(anonymous_34)",decl:{start:{line:402,column:16},end:{line:402,column:17}},loc:{start:{line:402,column:26},end:{line:417,column:3}},line:402},35:{name:"(anonymous_35)",decl:{start:{line:418,column:19},end:{line:418,column:20}},loc:{start:{line:418,column:38},end:{line:424,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:425,column:19},end:{line:425,column:20}},loc:{start:{line:425,column:30},end:{line:430,column:3}},line:425},37:{name:"(anonymous_37)",decl:{start:{line:431,column:16},end:{line:431,column:17}},loc:{start:{line:431,column:27},end:{line:438,column:3}},line:431},38:{name:"(anonymous_38)",decl:{start:{line:439,column:28},end:{line:439,column:29}},loc:{start:{line:439,column:39},end:{line:448,column:3}},line:439},39:{name:"(anonymous_39)",decl:{start:{line:449,column:20},end:{line:449,column:21}},loc:{start:{line:449,column:46},end:{line:456,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:457,column:19},end:{line:457,column:20}},loc:{start:{line:457,column:37},end:{line:461,column:3}},line:457},41:{name:"(anonymous_41)",decl:{start:{line:462,column:16},end:{line:462,column:17}},loc:{start:{line:462,column:30},end:{line:466,column:3}},line:462},42:{name:"(anonymous_42)",decl:{start:{line:467,column:21},end:{line:467,column:22}},loc:{start:{line:467,column:35},end:{line:481,column:3}},line:467},43:{name:"(anonymous_43)",decl:{start:{line:482,column:14},end:{line:482,column:15}},loc:{start:{line:482,column:28},end:{line:485,column:3}},line:482},44:{name:"(anonymous_44)",decl:{start:{line:486,column:2},end:{line:486,column:3}},loc:{start:{line:486,column:17},end:{line:529,column:3}},line:486},45:{name:"(anonymous_45)",decl:{start:{line:502,column:16},end:{line:502,column:17}},loc:{start:{line:502,column:30},end:{line:502,column:45}},line:502},46:{name:"(anonymous_46)",decl:{start:{line:502,column:52},end:{line:502,column:53}},loc:{start:{line:502,column:62},end:{line:516,column:9}},line:502},47:{name:"(anonymous_47)",decl:{start:{line:516,column:17},end:{line:516,column:18}},loc:{start:{line:516,column:26},end:{line:518,column:9}},line:516},48:{name:"(anonymous_48)",decl:{start:{line:530,column:2},end:{line:530,column:3}},loc:{start:{line:530,column:17},end:{line:533,column:3}},line:530},49:{name:"(anonymous_49)",decl:{start:{line:534,column:16},end:{line:534,column:17}},loc:{start:{line:534,column:29},end:{line:538,column:3}},line:534},50:{name:"(anonymous_50)",decl:{start:{line:539,column:2},end:{line:539,column:3}},loc:{start:{line:539,column:16},end:{line:587,column:3}},line:539},51:{name:"(anonymous_51)",decl:{start:{line:543,column:27},end:{line:543,column:28}},loc:{start:{line:543,column:42},end:{line:547,column:7}},line:543},52:{name:"(anonymous_52)",decl:{start:{line:548,column:20},end:{line:548,column:21}},loc:{start:{line:548,column:27},end:{line:551,column:7}},line:548},53:{name:"(anonymous_53)",decl:{start:{line:588,column:18},end:{line:588,column:19}},loc:{start:{line:588,column:24},end:{line:606,column:3}},line:588},54:{name:"(anonymous_54)",decl:{start:{line:594,column:50},end:{line:594,column:51}},loc:{start:{line:594,column:66},end:{line:594,column:91}},line:594},55:{name:"(anonymous_55)",decl:{start:{line:594,column:100},end:{line:594,column:101}},loc:{start:{line:594,column:109},end:{line:594,column:121}},line:594},56:{name:"(anonymous_56)",decl:{start:{line:607,column:27},end:{line:607,column:28}},loc:{start:{line:607,column:41},end:{line:652,column:3}},line:607},57:{name:"(anonymous_57)",decl:{start:{line:613,column:21},end:{line:613,column:22}},loc:{start:{line:613,column:36},end:{line:615,column:7}},line:613},58:{name:"(anonymous_58)",decl:{start:{line:653,column:18},end:{line:653,column:19}},loc:{start:{line:653,column:29},end:{line:658,column:3}},line:653},59:{name:"(anonymous_59)",decl:{start:{line:659,column:2},end:{line:659,column:3}},loc:{start:{line:659,column:29},end:{line:669,column:3}},line:659},60:{name:"(anonymous_60)",decl:{start:{line:670,column:2},end:{line:670,column:3}},loc:{start:{line:670,column:25},end:{line:672,column:3}},line:670},61:{name:"(anonymous_61)",decl:{start:{line:673,column:28},end:{line:673,column:29}},loc:{start:{line:673,column:44},end:{line:680,column:3}},line:673},62:{name:"(anonymous_62)",decl:{start:{line:681,column:28},end:{line:681,column:29}},loc:{start:{line:681,column:44},end:{line:688,column:3}},line:681},63:{name:"(anonymous_63)",decl:{start:{line:689,column:2},end:{line:689,column:3}},loc:{start:{line:689,column:11},end:{line:829,column:3}},line:689},64:{name:"(anonymous_64)",decl:{start:{line:769,column:15},end:{line:769,column:16}},loc:{start:{line:769,column:23},end:{line:769,column:43}},line:769}},branchMap:{0:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:47,column:9},end:{line:54,column:3}}],line:42},1:{loc:{start:{line:42,column:6},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:42,column:6},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:43}}],line:42},2:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},3:{loc:{start:{line:47,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:47,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:47},4:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},6:{loc:{start:{line:79,column:8},end:{line:79,column:89}},type:"binary-expr",locations:[{start:{line:79,column:8},end:{line:79,column:20}},{start:{line:79,column:25},end:{line:79,column:54}},{start:{line:79,column:58},end:{line:79,column:88}}],line:79},7:{loc:{start:{line:122,column:12},end:{line:122,column:61}},type:"cond-expr",locations:[{start:{line:122,column:44},end:{line:122,column:53}},{start:{line:122,column:56},end:{line:122,column:61}}],line:122},8:{loc:{start:{line:140,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:140,column:6},end:{line:151,column:7}},{start:{line:143,column:13},end:{line:151,column:7}}],line:140},9:{loc:{start:{line:143,column:13},end:{line:151,column:7}},type:"if",locations:[{start:{line:143,column:13},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},10:{loc:{start:{line:143,column:17},end:{line:143,column:88}},type:"binary-expr",locations:[{start:{line:143,column:17},end:{line:143,column:44}},{start:{line:143,column:48},end:{line:143,column:88}}],line:143},11:{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},12:{loc:{start:{line:154,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:173,column:5}},{start:{line:158,column:11},end:{line:173,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:104}},type:"binary-expr",locations:[{start:{line:154,column:8},end:{line:154,column:16}},{start:{line:154,column:20},end:{line:154,column:104}}],line:154},14:{loc:{start:{line:159,column:6},end:{line:161,column:7}},type:"if",locations:[{start:{line:159,column:6},end:{line:161,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},15:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},16:{loc:{start:{line:168,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:171,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:168},17:{loc:{start:{line:174,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:174,column:4},end:{line:177,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},18:{loc:{start:{line:218,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:218,column:4},end:{line:234,column:5}},{start:{line:226,column:11},end:{line:234,column:5}}],line:218},19:{loc:{start:{line:219,column:6},end:{line:225,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:225,column:7}},{start:{line:222,column:13},end:{line:225,column:7}}],line:219},20:{loc:{start:{line:219,column:10},end:{line:219,column:53}},type:"binary-expr",locations:[{start:{line:219,column:10},end:{line:219,column:19}},{start:{line:219,column:23},end:{line:219,column:33}},{start:{line:219,column:37},end:{line:219,column:53}}],line:219},21:{loc:{start:{line:222,column:13},end:{line:225,column:7}},type:"if",locations:[{start:{line:222,column:13},end:{line:225,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},22:{loc:{start:{line:222,column:17},end:{line:222,column:46}},type:"binary-expr",locations:[{start:{line:222,column:17},end:{line:222,column:26}},{start:{line:222,column:30},end:{line:222,column:46}}],line:222},23:{loc:{start:{line:227,column:6},end:{line:233,column:7}},type:"if",locations:[{start:{line:227,column:6},end:{line:233,column:7}},{start:{line:230,column:13},end:{line:233,column:7}}],line:227},24:{loc:{start:{line:227,column:10},end:{line:227,column:39}},type:"binary-expr",locations:[{start:{line:227,column:10},end:{line:227,column:19}},{start:{line:227,column:23},end:{line:227,column:39}}],line:227},25:{loc:{start:{line:230,column:13},end:{line:233,column:7}},type:"if",locations:[{start:{line:230,column:13},end:{line:233,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:230},26:{loc:{start:{line:230,column:17},end:{line:230,column:46}},type:"binary-expr",locations:[{start:{line:230,column:17},end:{line:230,column:26}},{start:{line:230,column:30},end:{line:230,column:46}}],line:230},27:{loc:{start:{line:246,column:21},end:{line:246,column:55}},type:"binary-expr",locations:[{start:{line:246,column:21},end:{line:246,column:49}},{start:{line:246,column:53},end:{line:246,column:55}}],line:246},28:{loc:{start:{line:247,column:24},end:{line:247,column:93}},type:"binary-expr",locations:[{start:{line:247,column:24},end:{line:247,column:70}},{start:{line:247,column:74},end:{line:247,column:93}}],line:247},29:{loc:{start:{line:248,column:21},end:{line:248,column:110}},type:"cond-expr",locations:[{start:{line:248,column:55},end:{line:248,column:96}},{start:{line:248,column:99},end:{line:248,column:110}}],line:248},30:{loc:{start:{line:259,column:4},end:{line:263,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:263,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:259},31:{loc:{start:{line:259,column:8},end:{line:259,column:123}},type:"binary-expr",locations:[{start:{line:259,column:8},end:{line:259,column:40}},{start:{line:259,column:44},end:{line:259,column:123}}],line:259},32:{loc:{start:{line:273,column:30},end:{line:273,column:39}},type:"default-arg",locations:[{start:{line:273,column:37},end:{line:273,column:39}}],line:273},33:{loc:{start:{line:280,column:4},end:{line:282,column:5}},type:"if",locations:[{start:{line:280,column:4},end:{line:282,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:280},34:{loc:{start:{line:283,column:19},end:{line:283,column:51}},type:"binary-expr",locations:[{start:{line:283,column:19},end:{line:283,column:45}},{start:{line:283,column:49},end:{line:283,column:51}}],line:283},35:{loc:{start:{line:285,column:4},end:{line:296,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:296,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},36:{loc:{start:{line:285,column:8},end:{line:285,column:35}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:16}},{start:{line:285,column:20},end:{line:285,column:35}}],line:285},37:{loc:{start:{line:288,column:8},end:{line:293,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:293,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:288},38:{loc:{start:{line:288,column:12},end:{line:288,column:56}},type:"binary-expr",locations:[{start:{line:288,column:12},end:{line:288,column:27}},{start:{line:288,column:31},end:{line:288,column:56}}],line:288},39:{loc:{start:{line:299,column:6},end:{line:312,column:7}},type:"if",locations:[{start:{line:299,column:6},end:{line:312,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:299},40:{loc:{start:{line:314,column:6},end:{line:327,column:7}},type:"if",locations:[{start:{line:314,column:6},end:{line:327,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:314},41:{loc:{start:{line:329,column:6},end:{line:347,column:7}},type:"if",locations:[{start:{line:329,column:6},end:{line:347,column:7}},{start:{line:343,column:13},end:{line:347,column:7}}],line:329},42:{loc:{start:{line:331,column:20},end:{line:331,column:78}},type:"cond-expr",locations:[{start:{line:331,column:40},end:{line:331,column:67}},{start:{line:331,column:70},end:{line:331,column:78}}],line:331},43:{loc:{start:{line:331,column:20},end:{line:331,column:37}},type:"binary-expr",locations:[{start:{line:331,column:20},end:{line:331,column:25}},{start:{line:331,column:29},end:{line:331,column:37}}],line:331},44:{loc:{start:{line:350,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:350,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:350},45:{loc:{start:{line:354,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:362,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:354},46:{loc:{start:{line:365,column:4},end:{line:367,column:5}},type:"if",locations:[{start:{line:365,column:4},end:{line:367,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},47:{loc:{start:{line:368,column:4},end:{line:370,column:5}},type:"if",locations:[{start:{line:368,column:4},end:{line:370,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:368},48:{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:371},49:{loc:{start:{line:374,column:4},end:{line:376,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:376,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:374},50:{loc:{start:{line:407,column:4},end:{line:408,column:13}},type:"if",locations:[{start:{line:407,column:4},end:{line:408,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:407},51:{loc:{start:{line:409,column:4},end:{line:413,column:5}},type:"if",locations:[{start:{line:409,column:4},end:{line:413,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:409},52:{loc:{start:{line:443,column:26},end:{line:443,column:70}},type:"cond-expr",locations:[{start:{line:443,column:46},end:{line:443,column:65}},{start:{line:443,column:68},end:{line:443,column:70}}],line:443},53:{loc:{start:{line:444,column:31},end:{line:444,column:87}},type:"cond-expr",locations:[{start:{line:444,column:69},end:{line:444,column:78}},{start:{line:444,column:81},end:{line:444,column:87}}],line:444},54:{loc:{start:{line:468,column:21},end:{line:468,column:44}},type:"binary-expr",locations:[{start:{line:468,column:21},end:{line:468,column:38}},{start:{line:468,column:42},end:{line:468,column:44}}],line:468},55:{loc:{start:{line:469,column:4},end:{line:480,column:5}},type:"if",locations:[{start:{line:469,column:4},end:{line:480,column:5}},{start:{line:478,column:11},end:{line:480,column:5}}],line:469},56:{loc:{start:{line:489,column:6},end:{line:521,column:7}},type:"if",locations:[{start:{line:489,column:6},end:{line:521,column:7}},{start:{line:519,column:13},end:{line:521,column:7}}],line:489},57:{loc:{start:{line:489,column:10},end:{line:489,column:149}},type:"binary-expr",locations:[{start:{line:489,column:10},end:{line:489,column:72}},{start:{line:489,column:76},end:{line:489,column:97}},{start:{line:489,column:101},end:{line:489,column:149}}],line:489},58:{loc:{start:{line:503,column:10},end:{line:505,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:505,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:503},59:{loc:{start:{line:520,column:26},end:{line:520,column:85}},type:"binary-expr",locations:[{start:{line:520,column:26},end:{line:520,column:49}},{start:{line:520,column:53},end:{line:520,column:85}}],line:520},60:{loc:{start:{line:523,column:4},end:{line:528,column:5}},type:"if",locations:[{start:{line:523,column:4},end:{line:528,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:523},61:{loc:{start:{line:531,column:21},end:{line:531,column:55}},type:"binary-expr",locations:[{start:{line:531,column:21},end:{line:531,column:49}},{start:{line:531,column:53},end:{line:531,column:55}}],line:531},62:{loc:{start:{line:532,column:11},end:{line:532,column:52}},type:"binary-expr",locations:[{start:{line:532,column:11},end:{line:532,column:40}},{start:{line:532,column:44},end:{line:532,column:52}}],line:532},63:{loc:{start:{line:542,column:16},end:{line:542,column:41}},type:"binary-expr",locations:[{start:{line:542,column:16},end:{line:542,column:29}},{start:{line:542,column:33},end:{line:542,column:41}}],line:542},64:{loc:{start:{line:555,column:4},end:{line:577,column:5}},type:"if",locations:[{start:{line:555,column:4},end:{line:577,column:5}},{start:{line:565,column:11},end:{line:577,column:5}}],line:555},65:{loc:{start:{line:579,column:4},end:{line:581,column:5}},type:"if",locations:[{start:{line:579,column:4},end:{line:581,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:579},66:{loc:{start:{line:583,column:4},end:{line:585,column:5}},type:"if",locations:[{start:{line:583,column:4},end:{line:585,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:583},67:{loc:{start:{line:594,column:66},end:{line:594,column:91}},type:"cond-expr",locations:[{start:{line:594,column:81},end:{line:594,column:84}},{start:{line:594,column:87},end:{line:594,column:91}}],line:594},68:{loc:{start:{line:595,column:4},end:{line:599,column:5}},type:"if",locations:[{start:{line:595,column:4},end:{line:599,column:5}},{start:{line:597,column:11},end:{line:599,column:5}}],line:595},69:{loc:{start:{line:600,column:4},end:{line:604,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:604,column:5}},{start:{line:602,column:11},end:{line:604,column:5}}],line:600},70:{loc:{start:{line:602,column:11},end:{line:604,column:5}},type:"if",locations:[{start:{line:602,column:11},end:{line:604,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:602},71:{loc:{start:{line:610,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:610,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:610},72:{loc:{start:{line:610,column:8},end:{line:610,column:39}},type:"binary-expr",locations:[{start:{line:610,column:8},end:{line:610,column:18}},{start:{line:610,column:22},end:{line:610,column:39}}],line:610},73:{loc:{start:{line:624,column:4},end:{line:626,column:5}},type:"if",locations:[{start:{line:624,column:4},end:{line:626,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:624},74:{loc:{start:{line:624,column:8},end:{line:624,column:27}},type:"binary-expr",locations:[{start:{line:624,column:8},end:{line:624,column:12}},{start:{line:624,column:16},end:{line:624,column:27}}],line:624},75:{loc:{start:{line:628,column:4},end:{line:651,column:5}},type:"if",locations:[{start:{line:628,column:4},end:{line:651,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:628},76:{loc:{start:{line:636,column:8},end:{line:641,column:9}},type:"if",locations:[{start:{line:636,column:8},end:{line:641,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:636},77:{loc:{start:{line:638,column:10},end:{line:640,column:11}},type:"if",locations:[{start:{line:638,column:10},end:{line:640,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:638},78:{loc:{start:{line:642,column:8},end:{line:647,column:9}},type:"if",locations:[{start:{line:642,column:8},end:{line:647,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:642},79:{loc:{start:{line:660,column:4},end:{line:662,column:5}},type:"if",locations:[{start:{line:660,column:4},end:{line:662,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:660},80:{loc:{start:{line:660,column:8},end:{line:660,column:49}},type:"binary-expr",locations:[{start:{line:660,column:8},end:{line:660,column:30}},{start:{line:660,column:34},end:{line:660,column:49}}],line:660},81:{loc:{start:{line:690,column:19},end:{line:690,column:51}},type:"binary-expr",locations:[{start:{line:690,column:19},end:{line:690,column:45}},{start:{line:690,column:49},end:{line:690,column:51}}],line:690},82:{loc:{start:{line:691,column:26},end:{line:691,column:92}},type:"cond-expr",locations:[{start:{line:691,column:46},end:{line:691,column:83}},{start:{line:691,column:86},end:{line:691,column:92}}],line:691},83:{loc:{start:{line:721,column:24},end:{line:740,column:14}},type:"cond-expr",locations:[{start:{line:721,column:56},end:{line:740,column:5}},{start:{line:740,column:8},end:{line:740,column:14}}],line:721},84:{loc:{start:{line:741,column:24},end:{line:751,column:14}},type:"cond-expr",locations:[{start:{line:741,column:97},end:{line:751,column:5}},{start:{line:751,column:8},end:{line:751,column:14}}],line:741}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAotBmB,SAAA,KAgNA,YAhNA;AAntBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89c068ca942382ab4384d9496905567c46b1fd10"},o=t[r]||(t[r]={});(!o[e]||o[e].hash!==n)&&(o[e]=i);var s=o[e];return ie=function(){return s},s}ie();ie().s[0]++;window.Buffer=$q.Buffer;function C8e(e,n){ie().f[0]++;const t=(ie().s[1]++,e.match(/\.tilehosting\.com/)),r=(ie().s[2]++,e.match(/\.maptiler\.com/)),i=(ie().s[3]++,e.match(/\.thunderforest\.com/));if(ie().s[4]++,ie().b[1][0]++,t||(ie().b[1][1]++,r)){ie().b[0][0]++;const o=(ie().s[5]++,wu.getAccessToken("openmaptiles",n,{allowFallback:!0}));if(ie().s[6]++,o)return ie().b[2][0]++,ie().s[7]++,e.replace("{key}",o);ie().b[2][1]++}else if(ie().b[0][1]++,ie().s[8]++,i){ie().b[3][0]++;const o=(ie().s[9]++,wu.getAccessToken("thunderforest",n,{allowFallback:!0}));if(ie().s[10]++,o)return ie().b[4][0]++,ie().s[11]++,e.replace("{key}",o);ie().b[4][1]++}else return ie().b[3][1]++,ie().s[12]++,e}function oF(e,n,t){return ie().f[1]++,ie().s[13]++,{...e,$root:{...e.$root,[n]:{...e.$root[n],values:t}}}}class _8e extends xn.Component{constructor(t){ie().f[2]++,ie().s[15]++;super(t);nn(this,"revisionStore");nn(this,"styleStore");nn(this,"layerWatcher");nn(this,"shortcutEl",(ie().s[14]++,null));nn(this,"handleKeyPress",(ie().s[66]++,t=>{ie().f[18]++,ie().s[67]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(ie().b[18][0]++,ie().s[68]++,ie().b[20][0]++,t.metaKey&&(ie().b[20][1]++,t.shiftKey)&&(ie().b[20][2]++,t.keyCode===90)?(ie().b[19][0]++,ie().s[69]++,t.preventDefault(),ie().s[70]++,this.onRedo()):(ie().b[19][1]++,ie().s[71]++,ie().b[22][0]++,t.metaKey&&(ie().b[22][1]++,t.keyCode===90)?(ie().b[21][0]++,ie().s[72]++,t.preventDefault(),ie().s[73]++,this.onUndo()):ie().b[21][1]++)):(ie().b[18][1]++,ie().s[74]++,ie().b[24][0]++,t.ctrlKey&&(ie().b[24][1]++,t.keyCode===90)?(ie().b[23][0]++,ie().s[75]++,t.preventDefault(),ie().s[76]++,this.onUndo()):(ie().b[23][1]++,ie().s[77]++,ie().b[26][0]++,t.ctrlKey&&(ie().b[26][1]++,t.keyCode===89)?(ie().b[25][0]++,ie().s[78]++,t.preventDefault(),ie().s[79]++,this.onRedo()):ie().b[25][1]++))}));nn(this,"onChangeMetadataProperty",(ie().s[90]++,(t,r)=>{ie().f[26]++,ie().s[91]++,ie().b[31][0]++,t==="maputnik:renderer"&&(ie().b[31][1]++,r!==GV(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(ie().b[30][0]++,ie().s[92]++,this.setState({mapState:"map"})):ie().b[30][1]++;const i=(ie().s[93]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[t]:r}});ie().s[94]++,this.onStyleChanged(i)}));nn(this,"onStyleChanged",(ie().s[95]++,(t,r=(ie().b[32][0]++,{}))=>{ie().f[27]++,ie().s[96]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},ie().s[97]++,r.initialLoad?(ie().b[33][0]++,ie().s[98]++,this.getInitialStateFromUrl(t)):ie().b[33][1]++;const i=(ie().s[99]++,ie().b[34][0]++,bd(t)||(ie().b[34][1]++,[])),o=(ie().s[100]++,[]);if(ie().s[101]++,ie().b[36][0]++,t&&(ie().b[36][1]++,t.layers)){ie().b[35][0]++;const p=(ie().s[102]++,new window.Map);ie().s[103]++,t.layers.forEach((g,b)=>{if(ie().f[28]++,ie().s[104]++,ie().b[38][0]++,g.id===""&&(ie().b[38][1]++,p.has(g.id))){ie().b[37][0]++;const B=(ie().s[105]++,new Error(`layers[${b}]: duplicate layer id [empty_string], previously used`));ie().s[106]++,o.push(B)}else ie().b[37][1]++;ie().s[107]++,p.set(g.id,!0)})}else ie().b[35][1]++;const s=(ie().s[108]++,o.concat(i).map(p=>{ie().f[29]++;const g=(ie().s[109]++,p.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(ie().s[110]++,g){ie().b[39][0]++;const[,k,P]=(ie().s[111]++,g);return ie().s[112]++,{message:p.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"id",message:P}}}}else ie().b[39][1]++;const b=(ie().s[113]++,p.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(ie().s[114]++,b){ie().b[40][0]++;const[,k,P]=(ie().s[115]++,b);return ie().s[116]++,{message:p.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"source",message:P}}}}else ie().b[40][1]++;const B=(ie().s[117]++,p.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(ie().s[118]++,B){ie().b[41][0]++;const[,k,P,R,Z]=(ie().s[119]++,B),W=(ie().s[120]++,ie().b[43][0]++,P&&(ie().b[43][1]++,R)?(ie().b[42][0]++,[P,R].join(".")):(ie().b[42][1]++,R));return ie().s[121]++,{message:p.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:W,message:Z}}}}else return ie().b[41][1]++,ie().s[122]++,{message:p.message}}));let a=(ie().s[123]++,void 0);ie().s[124]++,i.length>0?(ie().b[44][0]++,ie().s[125]++,a=_I(t),ie().s[126]++,i.forEach(p=>{ie().f[30]++;const{message:g}=(ie().s[127]++,p);if(ie().s[128]++,g){ie().b[45][0]++,ie().s[129]++;try{const b=(ie().s[130]++,g.split(":")[0]),B=(ie().s[131]++,b.match(/^\S+?\[\d+\]\.[^[]+/)[0]);ie().s[132]++,N4.unset(a,B)}catch(b){ie().s[133]++,console.warn(b)}}else ie().b[45][1]++})):ie().b[44][1]++,ie().s[134]++,t.glyphs!==this.state.mapStyle.glyphs?(ie().b[46][0]++,ie().s[135]++,this.updateFonts(t.glyphs)):ie().b[46][1]++,ie().s[136]++,t.sprite!==this.state.mapStyle.sprite?(ie().b[47][0]++,ie().s[137]++,this.updateIcons(t.sprite)):ie().b[47][1]++,ie().s[138]++,r.addRevision?(ie().b[48][0]++,ie().s[139]++,this.revisionStore.addRevision(t)):ie().b[48][1]++,ie().s[140]++,r.save?(ie().b[49][0]++,ie().s[141]++,this.saveStyle(t)):ie().b[49][1]++,ie().s[142]++,this.setState({mapStyle:t,dirtyMapStyle:a,errors:s},()=>{ie().f[31]++,ie().s[143]++,this.fetchSources(),ie().s[144]++,this.setStateInUrl()})}));nn(this,"onUndo",(ie().s[145]++,()=>{ie().f[32]++;const t=(ie().s[146]++,this.revisionStore.undo()),r=(ie().s[147]++,U7e(this.state.mapStyle,t));ie().s[148]++,this.onStyleChanged(t,{addRevision:!1}),ie().s[149]++,this.setState({infos:r})}));nn(this,"onRedo",(ie().s[150]++,()=>{ie().f[33]++;const t=(ie().s[151]++,this.revisionStore.redo()),r=(ie().s[152]++,R7e(this.state.mapStyle,t));ie().s[153]++,this.onStyleChanged(t,{addRevision:!1}),ie().s[154]++,this.setState({infos:r})}));nn(this,"onMoveLayer",(ie().s[155]++,t=>{ie().f[34]++;let{oldIndex:r,newIndex:i}=(ie().s[156]++,t),o=(ie().s[157]++,this.state.mapStyle.layers);if(ie().s[158]++,r=wI(r,0,o.length-1),ie().s[159]++,i=wI(i,0,o.length-1),ie().s[160]++,r===i){ie().b[50][0]++,ie().s[161]++;return}else ie().b[50][1]++;ie().s[162]++,r===this.state.selectedLayerIndex?(ie().b[51][0]++,ie().s[163]++,this.setState({selectedLayerIndex:i})):ie().b[51][1]++,ie().s[164]++,o=o.slice(0),ie().s[165]++,QV(o,r,i),ie().s[166]++,this.onLayersChange(o)}));nn(this,"onLayersChange",(ie().s[167]++,t=>{ie().f[35]++;const r=(ie().s[168]++,{...this.state.mapStyle,layers:t});ie().s[169]++,this.onStyleChanged(r)}));nn(this,"onLayerDestroy",(ie().s[170]++,t=>{ie().f[36]++;const r=(ie().s[171]++,this.state.mapStyle.layers),i=(ie().s[172]++,r.slice(0));ie().s[173]++,i.splice(t,1),ie().s[174]++,this.onLayersChange(i)}));nn(this,"onLayerCopy",(ie().s[175]++,t=>{ie().f[37]++;const r=(ie().s[176]++,this.state.mapStyle.layers),i=(ie().s[177]++,r.slice(0)),o=(ie().s[178]++,_I(i[t]));ie().s[179]++,o.id=o.id+"-copy",ie().s[180]++,i.splice(t,0,o),ie().s[181]++,this.onLayersChange(i)}));nn(this,"onLayerVisibilityToggle",(ie().s[182]++,t=>{ie().f[38]++;const r=(ie().s[183]++,this.state.mapStyle.layers),i=(ie().s[184]++,r.slice(0)),o=(ie().s[185]++,{...i[t]}),s=(ie().s[186]++,"layout"in o?(ie().b[52][0]++,{...o.layout}):(ie().b[52][1]++,{}));ie().s[187]++,s.visibility=s.visibility==="none"?(ie().b[53][0]++,"visible"):(ie().b[53][1]++,"none"),ie().s[188]++,o.layout=s,ie().s[189]++,i[t]=o,ie().s[190]++,this.onLayersChange(i)}));nn(this,"onLayerIdChange",(ie().s[191]++,(t,r,i)=>{ie().f[39]++;const o=(ie().s[192]++,this.state.mapStyle.layers.slice(0));ie().s[193]++,o[t]={...o[t],id:i},ie().s[194]++,this.onLayersChange(o)}));nn(this,"onLayerChanged",(ie().s[195]++,(t,r)=>{ie().f[40]++;const i=(ie().s[196]++,this.state.mapStyle.layers.slice(0));ie().s[197]++,i[t]=r,ie().s[198]++,this.onLayersChange(i)}));nn(this,"setMapState",(ie().s[199]++,t=>{ie().f[41]++,ie().s[200]++,this.setState({mapState:t},this.setStateInUrl)}));nn(this,"setDefaultValues",(ie().s[201]++,t=>{ie().f[42]++;const r=(ie().s[202]++,ie().b[54][0]++,t.metadata||(ie().b[54][1]++,{}));if(ie().s[203]++,r["maputnik:renderer"]===void 0){ie().b[55][0]++;const i=(ie().s[204]++,{...t,metadata:{...t.metadata,"maputnik:renderer":"mlgljs"}});return ie().s[205]++,i}else return ie().b[55][1]++,ie().s[206]++,t}));nn(this,"openStyle",(ie().s[207]++,t=>{ie().f[43]++,ie().s[208]++,t=this.setDefaultValues(t),ie().s[209]++,this.onStyleChanged(t)}));nn(this,"onMapChange",(ie().s[234]++,t=>{ie().f[49]++,ie().s[235]++,this.setState({mapView:t})}));nn(this,"setStateInUrl",(ie().s[251]++,()=>{ie().f[53]++;const{mapState:t,mapStyle:r,isOpen:i}=(ie().s[252]++,this.state),{selectedLayerIndex:o}=(ie().s[253]++,this.state),s=(ie().s[254]++,new URL(location.href)),a=(ie().s[255]++,BI(JSON.stringify(r)));ie().s[256]++,s.searchParams.set("layer",`${a}~${o}`);const p=(ie().s[257]++,Object.entries(i).map(([g,b])=>(ie().f[54]++,ie().s[258]++,b===!0?(ie().b[67][0]++,g):(ie().b[67][1]++,null))).filter(g=>(ie().f[55]++,ie().s[259]++,g!==null)));ie().s[260]++,p.length>0?(ie().b[68][0]++,ie().s[261]++,s.searchParams.set("modal",p.join(","))):(ie().b[68][1]++,ie().s[262]++,s.searchParams.delete("modal")),ie().s[263]++,t==="map"?(ie().b[69][0]++,ie().s[264]++,s.searchParams.delete("view")):(ie().b[69][1]++,ie().s[265]++,t==="inspect"?(ie().b[70][0]++,ie().s[266]++,s.searchParams.set("view","inspect")):ie().b[70][1]++),ie().s[267]++,history.replaceState({selectedLayerIndex:o},"Maputnik",s.href)}));nn(this,"getInitialStateFromUrl",(ie().s[268]++,t=>{ie().f[56]++;const r=(ie().s[269]++,new URL(location.href)),i=(ie().s[270]++,r.searchParams.get("modal"));if(ie().s[271]++,ie().b[72][0]++,i&&(ie().b[72][1]++,i!=="")){ie().b[71][0]++;const a=(ie().s[272]++,i.split(",")),p=(ie().s[273]++,{});ie().s[274]++,a.forEach(g=>{ie().f[57]++,ie().s[275]++,p[g]=!0}),ie().s[276]++,this.setState({isOpen:{...this.state.isOpen,...p}})}else ie().b[71][1]++;const o=(ie().s[277]++,r.searchParams.get("view"));ie().s[278]++,ie().b[74][0]++,o&&(ie().b[74][1]++,o!=="")?(ie().b[73][0]++,ie().s[279]++,this.setMapState(o)):ie().b[73][1]++;const s=(ie().s[280]++,r.searchParams.get("layer"));if(ie().s[281]++,s){ie().b[75][0]++,ie().s[282]++;try{const a=(ie().s[283]++,s.split("~")),[p,g]=(ie().s[284]++,[a[0],parseInt(a[1],10)]);let b=(ie().s[285]++,!0);if(ie().s[286]++,p!=="-"){ie().b[76][0]++;const B=(ie().s[287]++,BI(JSON.stringify(t)));ie().s[288]++,B!==parseInt(p,10)?(ie().b[77][0]++,ie().s[289]++,b=!1):ie().b[77][1]++}else ie().b[76][1]++;ie().s[290]++,b?(ie().b[78][0]++,ie().s[291]++,this.setState({selectedLayerIndex:g,selectedLayerOriginalId:t.layers[g].id})):ie().b[78][1]++}catch(a){ie().s[292]++,console.warn(a)}}else ie().b[75][1]++}));nn(this,"onLayerSelect",(ie().s[293]++,t=>{ie().f[58]++,ie().s[294]++,this.setState({selectedLayerIndex:t,selectedLayerOriginalId:this.state.mapStyle.layers[t].id},this.setStateInUrl)}));nn(this,"onChangeOpenlayersDebug",(ie().s[299]++,(t,r)=>{ie().f[61]++,ie().s[300]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[t]:r}})}));nn(this,"onChangeMaplibreGlDebug",(ie().s[301]++,(t,r)=>{ie().f[62]++,ie().s[302]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[t]:r}})}));ie().s[16]++,xq(this),ie().s[17]++,this.revisionStore=new Z7e;const r=(ie().s[18]++,new URLSearchParams(window.location.search.substring(1)));let i=(ie().s[19]++,r.get("localport"));ie().s[20]++,ie().b[6][0]++,i==null&&(ie().b[6][1]++,window.location.port!=="80")&&(ie().b[6][2]++,window.location.port!=="443")?(ie().b[5][0]++,ie().s[21]++,i=window.location.port):ie().b[5][1]++,ie().s[22]++,this.styleStore=new H7e({onLocalStyleChange:a=>(ie().f[3]++,ie().s[23]++,this.onStyleChanged(a,{save:!1})),port:i,host:r.get("localhost")});const o=(ie().s[24]++,[{key:"?",handler:()=>{ie().f[4]++,ie().s[25]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{ie().f[5]++,ie().s[26]++,this.toggleModal("open")}},{key:"e",handler:()=>{ie().f[6]++,ie().s[27]++,this.toggleModal("export")}},{key:"d",handler:()=>{ie().f[7]++,ie().s[28]++,this.toggleModal("sources")}},{key:"s",handler:()=>{ie().f[8]++,ie().s[29]++,this.toggleModal("settings")}},{key:"i",handler:()=>{ie().f[9]++,ie().s[30]++,this.setMapState(this.state.mapState==="map"?(ie().b[7][0]++,"inspect"):(ie().b[7][1]++,"map"))}},{key:"m",handler:()=>{ie().f[10]++,ie().s[31]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{ie().f[11]++,ie().s[32]++,this.toggleModal("debug")}}]);ie().s[33]++,document.body.addEventListener("keyup",a=>{if(ie().f[12]++,ie().s[34]++,a.key==="Escape")ie().b[8][0]++,ie().s[35]++,a.target.blur(),ie().s[36]++,document.body.focus();else if(ie().b[8][1]++,ie().s[37]++,ie().b[10][0]++,this.state.isOpen.shortcuts||(ie().b[10][1]++,document.activeElement===document.body)){ie().b[9][0]++;const p=(ie().s[38]++,o.find(g=>(ie().f[13]++,ie().s[39]++,g.key===a.key)));ie().s[40]++,p?(ie().b[11][0]++,ie().s[41]++,this.setModal("shortcuts",!1),ie().s[42]++,p.handler()):ie().b[11][1]++}else ie().b[9][1]++});const s=(ie().s[43]++,D7e());ie().s[44]++,ie().b[13][0]++,s&&(ie().b[13][1]++,window.confirm("Load style from URL: "+s+" and discard current changes?"))?(ie().b[12][0]++,ie().s[45]++,this.styleStore=new nF,ie().s[46]++,IG(s,a=>(ie().f[14]++,ie().s[47]++,this.onStyleChanged(a))),ie().s[48]++,XP()):(ie().b[12][1]++,ie().s[49]++,s?(ie().b[14][0]++,ie().s[50]++,XP()):ie().b[14][1]++,ie().s[51]++,this.styleStore.init(a=>{ie().f[15]++,ie().s[52]++,a?(ie().b[15][0]++,ie().s[53]++,console.log("Falling back to local storage for storing styles"),ie().s[54]++,this.styleStore=new nF):ie().b[15][1]++,ie().s[55]++,this.styleStore.latestStyle(p=>(ie().f[16]++,ie().s[56]++,this.onStyleChanged(p,{initialLoad:!0}))),ie().s[57]++,S0.enabled()?(ie().b[16][0]++,ie().s[58]++,S0.set("maputnik","styleStore",this.styleStore),ie().s[59]++,S0.set("maputnik","revisionStore",this.revisionStore)):ie().b[16][1]++})),ie().s[60]++,S0.enabled()?(ie().b[17][0]++,ie().s[61]++,S0.set("maputnik","revisionStore",this.revisionStore),ie().s[62]++,S0.set("maputnik","styleStore",this.styleStore)):ie().b[17][1]++,ie().s[63]++,this.state={errors:[],infos:[],mapStyle:wu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:pa,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},ie().s[64]++,this.layerWatcher=new g8e({onVectorLayersChange:a=>(ie().f[17]++,ie().s[65]++,this.setState({vectorLayers:a}))})}componentDidMount(){ie().f[19]++,ie().s[80]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){ie().f[20]++,ie().s[81]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(t){ie().f[21]++,ie().s[82]++,this.styleStore.save(t)}updateFonts(t){ie().f[22]++;const r=(ie().s[83]++,ie().b[27][0]++,this.state.mapStyle.metadata||(ie().b[27][1]++,{})),i=(ie().s[84]++,ie().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(ie().b[28][1]++,iG.openmaptiles)),o=(ie().s[85]++,typeof t=="string"?(ie().b[29][0]++,t.replace("{key}",i)):(ie().b[29][1]++,t));ie().s[86]++,P7e(o,s=>{ie().f[23]++,ie().s[87]++,this.setState({spec:oF(this.state.spec,"glyphs",s)})})}updateIcons(t){ie().f[24]++,ie().s[88]++,F7e(t,r=>{ie().f[25]++,ie().s[89]++,this.setState({spec:oF(this.state.spec,"sprite",r)})})}fetchSources(){ie().f[44]++;const t=(ie().s[210]++,{});ie().s[211]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(ie().s[212]++,ie().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(ie().b[57][1]++,i.type==="vector")&&(ie().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){ie().b[56][0]++,ie().s[213]++,t[r]={type:i.type,layers:[]};let o=(ie().s[214]++,i.url);ie().s[215]++;try{ie().s[216]++,o=C8e(o,this.state.mapStyle)}catch(s){ie().s[217]++,console.warn("Failed to setFetchAccessToken: ",s)}ie().s[218]++,fetch(o,{mode:"cors"}).then(s=>(ie().f[45]++,ie().s[219]++,s.json())).then(s=>{if(ie().f[46]++,ie().s[220]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))ie().b[58][1]++;else{ie().b[58][0]++,ie().s[221]++;return}const a=(ie().s[222]++,Object.assign({},{[r]:this.state.sources[r]}));ie().s[223]++;for(const p of s.vector_layers)ie().s[224]++,a[r].layers.push(p.id);ie().s[225]++,console.debug("Updating source: "+r),ie().s[226]++,this.setState({sources:a})}).catch(s=>{ie().f[47]++,ie().s[227]++,console.error("Failed to process sources for '%s'",o,s)})}else ie().b[56][1]++,ie().s[228]++,t[r]=(ie().b[59][0]++,this.state.sources[r]||(ie().b[59][1]++,this.state.mapStyle.sources[r]));ie().s[229]++,B6(this.state.sources,t)?ie().b[60][1]++:(ie().b[60][0]++,ie().s[230]++,console.debug("Setting sources"),ie().s[231]++,this.setState({sources:t}))}_getRenderer(){ie().f[48]++;const t=(ie().s[232]++,ie().b[61][0]++,this.state.mapStyle.metadata||(ie().b[61][1]++,{}));return ie().s[233]++,ie().b[62][0]++,t["maputnik:renderer"]||(ie().b[62][1]++,"mlgljs")}mapRenderer(){ie().f[50]++;const{mapStyle:t,dirtyMapStyle:r}=(ie().s[236]++,this.state),i=(ie().s[237]++,{mapStyle:(ie().b[63][0]++,r||(ie().b[63][1]++,t)),replaceAccessTokens:g=>(ie().f[51]++,ie().s[238]++,wu.replaceAccessTokens(g,{allowFallback:!0})),onDataChange:g=>{ie().f[52]++,ie().s[239]++,this.layerWatcher.analyzeMap(g.map),ie().s[240]++,this.fetchSources()}}),o=(ie().s[241]++,this._getRenderer());let s;ie().s[242]++,o==="ol"?(ie().b[64][0]++,ie().s[243]++,s=N.jsx(Ij,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(ie().b[64][1]++,ie().s[244]++,s=N.jsx(aL,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let a;ie().s[245]++,this.state.mapState.match(/^filter-/)?(ie().b[65][0]++,ie().s[246]++,a=this.state.mapState.replace(/^filter-/,"")):ie().b[65][1]++;const p=(ie().s[247]++,{});return ie().s[248]++,a?(ie().b[66][0]++,ie().s[249]++,p.filter=`url('#${a}')`):ie().b[66][1]++,ie().s[250]++,N.jsx("div",{style:p,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:s})}setModal(t,r){ie().f[59]++,ie().s[295]++,ie().b[80][0]++,t==="survey"&&(ie().b[80][1]++,r===!1)?(ie().b[79][0]++,ie().s[296]++,localStorage.setItem("survey","")):ie().b[79][1]++,ie().s[297]++,this.setState({isOpen:{...this.state.isOpen,[t]:r}},this.setStateInUrl)}toggleModal(t){ie().f[60]++,ie().s[298]++,this.setModal(t,!this.state.isOpen[t])}render(){ie().f[63]++;const t=(ie().s[303]++,ie().b[81][0]++,this.state.mapStyle.layers||(ie().b[81][1]++,[])),r=(ie().s[304]++,t.length>0?(ie().b[82][0]++,t[this.state.selectedLayerIndex]):(ie().b[82][1]++,void 0)),i=(ie().s[305]++,N.jsx(dEe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(ie().s[306]++,N.jsx(Dhe,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:t,sources:this.state.sources,errors:this.state.errors})),s=(ie().s[307]++,r?(ie().b[83][0]++,N.jsx(eO,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(ie().b[83][1]++,void 0)),a=(ie().s[308]++,this.state.errors.length+this.state.infos.length>0?(ie().b[84][0]++,N.jsx(tG,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(ie().b[84][1]++,void 0)),p=(ie().s[309]++,N.jsxs("div",{children:[N.jsx(dOe,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),N.jsx(uOe,{ref:g=>(ie().f[64]++,ie().s[310]++,this.shortcutEl=g),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),N.jsx(mEe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),N.jsx(kEe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),N.jsx(lOe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),N.jsx(QEe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),N.jsx(cOe,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return ie().s[311]++,N.jsx(eG,{toolbar:i,layerList:o,layerEditor:s,map:this.mapRenderer(),bottom:a,modals:p})}}_U.render(N.jsx(xS.Provider,{value:{className:"react-icons"},children:N.jsx(_8e,{})}),document.querySelector("#app"));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-C8UOi5vM.js.map
