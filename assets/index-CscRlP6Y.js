var lV=Object.defineProperty;var uV=(n,e,t)=>e in n?lV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pn=(n,e,t)=>uV(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Da(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rI(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var CR={exports:{}},S5={},bR={exports:{}},Fo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=Symbol.for("react.element"),AV=Symbol.for("react.portal"),cV=Symbol.for("react.fragment"),hV=Symbol.for("react.strict_mode"),dV=Symbol.for("react.profiler"),fV=Symbol.for("react.provider"),pV=Symbol.for("react.context"),mV=Symbol.for("react.forward_ref"),gV=Symbol.for("react.suspense"),yV=Symbol.for("react.memo"),vV=Symbol.for("react.lazy"),VT=Symbol.iterator;function _V(n){return n===null||typeof n!="object"?null:(n=VT&&n[VT]||n["@@iterator"],typeof n=="function"?n:null)}var xR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wR=Object.assign,MR={};function zv(n,e,t){this.props=n,this.context=e,this.refs=MR,this.updater=t||xR}zv.prototype.isReactComponent={};zv.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};zv.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function SR(){}SR.prototype=zv.prototype;function iI(n,e,t){this.props=n,this.context=e,this.refs=MR,this.updater=t||xR}var oI=iI.prototype=new SR;oI.constructor=iI;wR(oI,zv.prototype);oI.isPureReactComponent=!0;var HT=Array.isArray,ER=Object.prototype.hasOwnProperty,aI={current:null},OR={key:!0,ref:!0,__self:!0,__source:!0};function BR(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ER.call(e,r)&&!OR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var f=Array(a),m=0;m<a;m++)f[m]=arguments[m+2];i.children=f}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vb,type:n,key:o,ref:s,props:i,_owner:aI.current}}function CV(n,e){return{$$typeof:Vb,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function sI(n){return typeof n=="object"&&n!==null&&n.$$typeof===Vb}function bV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ZT=/\/+/g;function $S(n,e){return typeof n=="object"&&n!==null&&n.key!=null?bV(""+n.key):e.toString(36)}function X3(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Vb:case AV:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+$S(s,0):r,HT(i)?(t="",n!=null&&(t=n.replace(ZT,"$&/")+"/"),X3(i,e,t,"",function(m){return m})):i!=null&&(sI(i)&&(i=CV(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ZT,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",HT(n))for(var a=0;a<n.length;a++){o=n[a];var f=r+$S(o,a);s+=X3(o,e,t,f,i)}else if(f=_V(n),typeof f=="function")for(n=f.call(n),a=0;!(o=n.next()).done;)o=o.value,f=r+$S(o,a++),s+=X3(o,e,t,f,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qx(n,e,t){if(n==null)return n;var r=[],i=0;return X3(n,r,"","",function(o){return e.call(t,o,i++)}),r}function xV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var lc={current:null},J3={transition:null},wV={ReactCurrentDispatcher:lc,ReactCurrentBatchConfig:J3,ReactCurrentOwner:aI};Fo.Children={map:Qx,forEach:function(n,e,t){Qx(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Qx(n,function(){e++}),e},toArray:function(n){return Qx(n,function(e){return e})||[]},only:function(n){if(!sI(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fo.Component=zv;Fo.Fragment=cV;Fo.Profiler=dV;Fo.PureComponent=iI;Fo.StrictMode=hV;Fo.Suspense=gV;Fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wV;Fo.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=wR({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=aI.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(f in e)ER.call(e,f)&&!OR.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&a!==void 0?a[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=t;else if(1<f){a=Array(f);for(var m=0;m<f;m++)a[m]=arguments[m+2];r.children=a}return{$$typeof:Vb,type:n.type,key:i,ref:o,props:r,_owner:s}};Fo.createContext=function(n){return n={$$typeof:pV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:fV,_context:n},n.Consumer=n};Fo.createElement=BR;Fo.createFactory=function(n){var e=BR.bind(null,n);return e.type=n,e};Fo.createRef=function(){return{current:null}};Fo.forwardRef=function(n){return{$$typeof:mV,render:n}};Fo.isValidElement=sI;Fo.lazy=function(n){return{$$typeof:vV,_payload:{_status:-1,_result:n},_init:xV}};Fo.memo=function(n,e){return{$$typeof:yV,type:n,compare:e===void 0?null:e}};Fo.startTransition=function(n){var e=J3.transition;J3.transition={};try{n()}finally{J3.transition=e}};Fo.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fo.useCallback=function(n,e){return lc.current.useCallback(n,e)};Fo.useContext=function(n){return lc.current.useContext(n)};Fo.useDebugValue=function(){};Fo.useDeferredValue=function(n){return lc.current.useDeferredValue(n)};Fo.useEffect=function(n,e){return lc.current.useEffect(n,e)};Fo.useId=function(){return lc.current.useId()};Fo.useImperativeHandle=function(n,e,t){return lc.current.useImperativeHandle(n,e,t)};Fo.useInsertionEffect=function(n,e){return lc.current.useInsertionEffect(n,e)};Fo.useLayoutEffect=function(n,e){return lc.current.useLayoutEffect(n,e)};Fo.useMemo=function(n,e){return lc.current.useMemo(n,e)};Fo.useReducer=function(n,e,t){return lc.current.useReducer(n,e,t)};Fo.useRef=function(n){return lc.current.useRef(n)};Fo.useState=function(n){return lc.current.useState(n)};Fo.useSyncExternalStore=function(n,e,t){return lc.current.useSyncExternalStore(n,e,t)};Fo.useTransition=function(){return lc.current.useTransition()};Fo.version="18.2.0";bR.exports=Fo;var $n=bR.exports;const kn=Da($n);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV=$n,SV=Symbol.for("react.element"),EV=Symbol.for("react.fragment"),OV=Object.prototype.hasOwnProperty,BV=MV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IV={key:!0,ref:!0,__self:!0,__source:!0};function IR(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)OV.call(e,r)&&!IV.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SV,type:n,key:o,ref:s,props:i,_owner:BV.current}}S5.Fragment=EV;S5.jsx=IR;S5.jsxs=IR;CR.exports=S5;var Y=CR.exports,kR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oO=kn.createContext&&kn.createContext(kR),kV=["attr","size","title"];function TV(n,e){if(n==null)return{};var t=PV(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function PV(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function M4(){return M4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M4.apply(this,arguments)}function XT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function S4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(t),!0).forEach(function(r){KV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KV(n,e,t){return e=DV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DV(n){var e=LV(n,"string");return typeof e=="symbol"?e:String(e)}function LV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TR(n){return n&&n.map((e,t)=>kn.createElement(e.tag,S4({key:t},e.attr),TR(e.child)))}function Ls(n){return e=>kn.createElement(FV,M4({attr:S4({},n.attr)},e),TR(n.child))}function FV(n){var e=t=>{var{attr:r,size:i,title:o}=n,s=TV(n,kV),a=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),kn.createElement("svg",M4({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:f,style:S4(S4({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&kn.createElement("title",null,o),n.children)};return oO!==void 0?kn.createElement(oO.Consumer,null,t=>e(t)):e(kR)}var PR={exports:{}},Oh={},KR={exports:{}},DR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(ft,bt){var $e=ft.length;ft.push(bt);e:for(;0<$e;){var tt=$e-1>>>1,nt=ft[tt];if(0<i(nt,bt))ft[tt]=bt,ft[$e]=nt,$e=tt;else break e}}function t(ft){return ft.length===0?null:ft[0]}function r(ft){if(ft.length===0)return null;var bt=ft[0],$e=ft.pop();if($e!==bt){ft[0]=$e;e:for(var tt=0,nt=ft.length,en=nt>>>1;tt<en;){var tn=2*(tt+1)-1,St=ft[tn],Xt=tn+1,Nt=ft[Xt];if(0>i(St,$e))Xt<nt&&0>i(Nt,St)?(ft[tt]=Nt,ft[Xt]=$e,tt=Xt):(ft[tt]=St,ft[tn]=$e,tt=tn);else if(Xt<nt&&0>i(Nt,$e))ft[tt]=Nt,ft[Xt]=$e,tt=Xt;else break e}}return bt}function i(ft,bt){var $e=ft.sortIndex-bt.sortIndex;return $e!==0?$e:ft.id-bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var f=[],m=[],C=1,k=null,I=3,K=!1,L=!1,q=!1,X=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ft){for(var bt=t(m);bt!==null;){if(bt.callback===null)r(m);else if(bt.startTime<=ft)r(m),bt.sortIndex=bt.expirationTime,e(f,bt);else break;bt=t(m)}}function ne(ft){if(q=!1,ee(ft),!L)if(t(f)!==null)L=!0,pt(se);else{var bt=t(m);bt!==null&&wt(ne,bt.startTime-ft)}}function se(ft,bt){L=!1,q&&(q=!1,H(re),re=-1),K=!0;var $e=I;try{for(ee(bt),k=t(f);k!==null&&(!(k.expirationTime>bt)||ft&&!Pe());){var tt=k.callback;if(typeof tt=="function"){k.callback=null,I=k.priorityLevel;var nt=tt(k.expirationTime<=bt);bt=n.unstable_now(),typeof nt=="function"?k.callback=nt:k===t(f)&&r(f),ee(bt)}else r(f);k=t(f)}if(k!==null)var en=!0;else{var tn=t(m);tn!==null&&wt(ne,tn.startTime-bt),en=!1}return en}finally{k=null,I=$e,K=!1}}var Ae=!1,V=null,re=-1,be=5,_e=-1;function Pe(){return!(n.unstable_now()-_e<be)}function Ue(){if(V!==null){var ft=n.unstable_now();_e=ft;var bt=!0;try{bt=V(!0,ft)}finally{bt?pe():(Ae=!1,V=null)}}else Ae=!1}var pe;if(typeof G=="function")pe=function(){G(Ue)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,we=Ye.port2;Ye.port1.onmessage=Ue,pe=function(){we.postMessage(null)}}else pe=function(){X(Ue,0)};function pt(ft){V=ft,Ae||(Ae=!0,pe())}function wt(ft,bt){re=X(function(){ft(n.unstable_now())},bt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ft){ft.callback=null},n.unstable_continueExecution=function(){L||K||(L=!0,pt(se))},n.unstable_forceFrameRate=function(ft){0>ft||125<ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<ft?Math.floor(1e3/ft):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ft){switch(I){case 1:case 2:case 3:var bt=3;break;default:bt=I}var $e=I;I=bt;try{return ft()}finally{I=$e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ft,bt){switch(ft){case 1:case 2:case 3:case 4:case 5:break;default:ft=3}var $e=I;I=ft;try{return bt()}finally{I=$e}},n.unstable_scheduleCallback=function(ft,bt,$e){var tt=n.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?tt+$e:tt):$e=tt,ft){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=$e+nt,ft={id:C++,callback:bt,priorityLevel:ft,startTime:$e,expirationTime:nt,sortIndex:-1},$e>tt?(ft.sortIndex=$e,e(m,ft),t(f)===null&&ft===t(m)&&(q?(H(re),re=-1):q=!0,wt(ne,$e-tt))):(ft.sortIndex=nt,e(f,ft),L||K||(L=!0,pt(se))),ft},n.unstable_shouldYield=Pe,n.unstable_wrapCallback=function(ft){var bt=I;return function(){var $e=I;I=bt;try{return ft.apply(this,arguments)}finally{I=$e}}}})(DR);KR.exports=DR;var RV=KR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=$n,Eh=RV;function qn(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FR=new Set,tb={};function g1(n,e){Cv(n,e),Cv(n+"Capture",e)}function Cv(n,e){for(tb[n]=e,n=0;n<e.length;n++)FR.add(e[n])}var mm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aO=Object.prototype.hasOwnProperty,UV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JT={},e9={};function jV(n){return aO.call(e9,n)?!0:aO.call(JT,n)?!1:UV.test(n)?e9[n]=!0:(JT[n]=!0,!1)}function zV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function NV(n,e,t,r){if(e===null||typeof e>"u"||zV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function uc(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var sA={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){sA[n]=new uc(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];sA[e]=new uc(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){sA[n]=new uc(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){sA[n]=new uc(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){sA[n]=new uc(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){sA[n]=new uc(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){sA[n]=new uc(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){sA[n]=new uc(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){sA[n]=new uc(n,5,!1,n.toLowerCase(),null,!1,!1)});var lI=/[\-:]([a-z])/g;function uI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(lI,uI);sA[e]=new uc(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(lI,uI);sA[e]=new uc(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(lI,uI);sA[e]=new uc(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){sA[n]=new uc(n,1,!1,n.toLowerCase(),null,!1,!1)});sA.xlinkHref=new uc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){sA[n]=new uc(n,1,!1,n.toLowerCase(),null,!0,!0)});function AI(n,e,t,r){var i=sA.hasOwnProperty(e)?sA[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NV(e,t,i,r)&&(t=null),r||i===null?jV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Cm=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$x=Symbol.for("react.element"),by=Symbol.for("react.portal"),xy=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),sO=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),hI=Symbol.for("react.forward_ref"),lO=Symbol.for("react.suspense"),uO=Symbol.for("react.suspense_list"),dI=Symbol.for("react.memo"),r0=Symbol.for("react.lazy"),jR=Symbol.for("react.offscreen"),t9=Symbol.iterator;function R_(n){return n===null||typeof n!="object"?null:(n=t9&&n[t9]||n["@@iterator"],typeof n=="function"?n:null)}var Js=Object.assign,YS;function uC(n){if(YS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);YS=e&&e[1]||""}return`
`+YS+n}var qS=!1;function VS(n,e){if(!n||qS)return"";qS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(n,[],e)}else{try{e.call()}catch(m){r=m}n.call(e.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=s&&0<=a);break}}}finally{qS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?uC(n):""}function WV(n){switch(n.tag){case 5:return uC(n.type);case 16:return uC("Lazy");case 13:return uC("Suspense");case 19:return uC("SuspenseList");case 0:case 2:case 15:return n=VS(n.type,!1),n;case 11:return n=VS(n.type.render,!1),n;case 1:return n=VS(n.type,!0),n;default:return""}}function AO(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xy:return"Fragment";case by:return"Portal";case sO:return"Profiler";case cI:return"StrictMode";case lO:return"Suspense";case uO:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case UR:return(n.displayName||"Context")+".Consumer";case RR:return(n._context.displayName||"Context")+".Provider";case hI:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dI:return e=n.displayName||null,e!==null?e:AO(n.type)||"Memo";case r0:e=n._payload,n=n._init;try{return AO(n(e))}catch{}}return null}function GV(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AO(e);case 8:return e===cI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function K0(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QV(n){var e=zR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Yx(n){n._valueTracker||(n._valueTracker=QV(n))}function NR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=zR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function E4(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function cO(n,e){var t=e.checked;return Js({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function n9(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=K0(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WR(n,e){e=e.checked,e!=null&&AI(n,"checked",e,!1)}function hO(n,e){WR(n,e);var t=K0(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?dO(n,e.type,t):e.hasOwnProperty("defaultValue")&&dO(n,e.type,K0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function r9(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function dO(n,e,t){(e!=="number"||E4(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var AC=Array.isArray;function Yy(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+K0(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function fO(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qn(91));return Js({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function i9(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(qn(92));if(AC(t)){if(1<t.length)throw Error(qn(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:K0(t)}}function GR(n,e){var t=K0(e.value),r=K0(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function o9(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function QR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pO(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?QR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qx,$R=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qx=qx||document.createElement("div"),qx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function nb(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var SC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$V=["Webkit","ms","Moz","O"];Object.keys(SC).forEach(function(n){$V.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),SC[e]=SC[n]})});function YR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||SC.hasOwnProperty(n)&&SC[n]?(""+e).trim():e+"px"}function qR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=YR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var YV=Js({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mO(n,e){if(e){if(YV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qn(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qn(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qn(62))}}function gO(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yO=null;function fI(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vO=null,qy=null,Vy=null;function a9(n){if(n=Xb(n)){if(typeof vO!="function")throw Error(qn(280));var e=n.stateNode;e&&(e=k5(e),vO(n.stateNode,n.type,e))}}function VR(n){qy?Vy?Vy.push(n):Vy=[n]:qy=n}function HR(){if(qy){var n=qy,e=Vy;if(Vy=qy=null,a9(n),e)for(n=0;n<e.length;n++)a9(e[n])}}function ZR(n,e){return n(e)}function XR(){}var HS=!1;function JR(n,e,t){if(HS)return n(e,t);HS=!0;try{return ZR(n,e,t)}finally{HS=!1,(qy!==null||Vy!==null)&&(XR(),HR())}}function rb(n,e){var t=n.stateNode;if(t===null)return null;var r=k5(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(qn(231,e,typeof t));return t}var _O=!1;if(mm)try{var U_={};Object.defineProperty(U_,"passive",{get:function(){_O=!0}}),window.addEventListener("test",U_,U_),window.removeEventListener("test",U_,U_)}catch{_O=!1}function qV(n,e,t,r,i,o,s,a,f){var m=Array.prototype.slice.call(arguments,3);try{e.apply(t,m)}catch(C){this.onError(C)}}var EC=!1,O4=null,B4=!1,CO=null,VV={onError:function(n){EC=!0,O4=n}};function HV(n,e,t,r,i,o,s,a,f){EC=!1,O4=null,qV.apply(VV,arguments)}function ZV(n,e,t,r,i,o,s,a,f){if(HV.apply(this,arguments),EC){if(EC){var m=O4;EC=!1,O4=null}else throw Error(qn(198));B4||(B4=!0,CO=m)}}function y1(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function eU(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function s9(n){if(y1(n)!==n)throw Error(qn(188))}function XV(n){var e=n.alternate;if(!e){if(e=y1(n),e===null)throw Error(qn(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return s9(i),n;if(o===r)return s9(i),e;o=o.sibling}throw Error(qn(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(qn(189))}}if(t.alternate!==r)throw Error(qn(190))}if(t.tag!==3)throw Error(qn(188));return t.stateNode.current===t?n:e}function tU(n){return n=XV(n),n!==null?nU(n):null}function nU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=nU(n);if(e!==null)return e;n=n.sibling}return null}var rU=Eh.unstable_scheduleCallback,l9=Eh.unstable_cancelCallback,JV=Eh.unstable_shouldYield,eH=Eh.unstable_requestPaint,kl=Eh.unstable_now,tH=Eh.unstable_getCurrentPriorityLevel,pI=Eh.unstable_ImmediatePriority,iU=Eh.unstable_UserBlockingPriority,I4=Eh.unstable_NormalPriority,nH=Eh.unstable_LowPriority,oU=Eh.unstable_IdlePriority,E5=null,cp=null;function rH(n){if(cp&&typeof cp.onCommitFiberRoot=="function")try{cp.onCommitFiberRoot(E5,n,void 0,(n.current.flags&128)===128)}catch{}}var pf=Math.clz32?Math.clz32:aH,iH=Math.log,oH=Math.LN2;function aH(n){return n>>>=0,n===0?32:31-(iH(n)/oH|0)|0}var Vx=64,Hx=4194304;function cC(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function k4(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=cC(a):(o&=s,o!==0&&(r=cC(o)))}else s=t&~i,s!==0?r=cC(s):o!==0&&(r=cC(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-pf(e),i=1<<t,r|=n[t],e&=~i;return r}function sH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-pf(o),a=1<<s,f=i[s];f===-1?(!(a&t)||a&r)&&(i[s]=sH(a,e)):f<=e&&(n.expiredLanes|=a),o&=~a}}function bO(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function aU(){var n=Vx;return Vx<<=1,!(Vx&4194240)&&(Vx=64),n}function ZS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hb(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-pf(e),n[e]=t}function uH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-pf(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function mI(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-pf(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ka=0;function sU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var lU,gI,uU,AU,cU,xO=!1,Zx=[],v0=null,_0=null,C0=null,ib=new Map,ob=new Map,l0=[],AH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u9(n,e){switch(n){case"focusin":case"focusout":v0=null;break;case"dragenter":case"dragleave":_0=null;break;case"mouseover":case"mouseout":C0=null;break;case"pointerover":case"pointerout":ib.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ob.delete(e.pointerId)}}function j_(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xb(e),e!==null&&gI(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function cH(n,e,t,r,i){switch(e){case"focusin":return v0=j_(v0,n,e,t,r,i),!0;case"dragenter":return _0=j_(_0,n,e,t,r,i),!0;case"mouseover":return C0=j_(C0,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return ib.set(o,j_(ib.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ob.set(o,j_(ob.get(o)||null,n,e,t,r,i)),!0}return!1}function hU(n){var e=Kg(n.target);if(e!==null){var t=y1(e);if(t!==null){if(e=t.tag,e===13){if(e=eU(t),e!==null){n.blockedOn=e,cU(n.priority,function(){uU(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function e4(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=wO(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);yO=r,t.target.dispatchEvent(r),yO=null}else return e=Xb(t),e!==null&&gI(e),n.blockedOn=t,!1;e.shift()}return!0}function A9(n,e,t){e4(n)&&t.delete(e)}function hH(){xO=!1,v0!==null&&e4(v0)&&(v0=null),_0!==null&&e4(_0)&&(_0=null),C0!==null&&e4(C0)&&(C0=null),ib.forEach(A9),ob.forEach(A9)}function z_(n,e){n.blockedOn===e&&(n.blockedOn=null,xO||(xO=!0,Eh.unstable_scheduleCallback(Eh.unstable_NormalPriority,hH)))}function ab(n){function e(i){return z_(i,n)}if(0<Zx.length){z_(Zx[0],n);for(var t=1;t<Zx.length;t++){var r=Zx[t];r.blockedOn===n&&(r.blockedOn=null)}}for(v0!==null&&z_(v0,n),_0!==null&&z_(_0,n),C0!==null&&z_(C0,n),ib.forEach(e),ob.forEach(e),t=0;t<l0.length;t++)r=l0[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<l0.length&&(t=l0[0],t.blockedOn===null);)hU(t),t.blockedOn===null&&l0.shift()}var Hy=Cm.ReactCurrentBatchConfig,T4=!0;function dH(n,e,t,r){var i=Ka,o=Hy.transition;Hy.transition=null;try{Ka=1,yI(n,e,t,r)}finally{Ka=i,Hy.transition=o}}function fH(n,e,t,r){var i=Ka,o=Hy.transition;Hy.transition=null;try{Ka=4,yI(n,e,t,r)}finally{Ka=i,Hy.transition=o}}function yI(n,e,t,r){if(T4){var i=wO(n,e,t,r);if(i===null)sE(n,e,r,P4,t),u9(n,r);else if(cH(i,n,e,t,r))r.stopPropagation();else if(u9(n,r),e&4&&-1<AH.indexOf(n)){for(;i!==null;){var o=Xb(i);if(o!==null&&lU(o),o=wO(n,e,t,r),o===null&&sE(n,e,r,P4,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else sE(n,e,r,null,t)}}var P4=null;function wO(n,e,t,r){if(P4=null,n=fI(r),n=Kg(n),n!==null)if(e=y1(n),e===null)n=null;else if(t=e.tag,t===13){if(n=eU(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return P4=n,null}function dU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tH()){case pI:return 1;case iU:return 4;case I4:case nH:return 16;case oU:return 536870912;default:return 16}default:return 16}}var c0=null,vI=null,t4=null;function fU(){if(t4)return t4;var n,e=vI,t=e.length,r,i="value"in c0?c0.value:c0.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return t4=i.slice(n,1<r?1-r:void 0)}function n4(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Xx(){return!0}function c9(){return!1}function Bh(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xx:c9,this.isPropagationStopped=c9,this}return Js(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Xx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Xx)},persist:function(){},isPersistent:Xx}),e}var Nv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_I=Bh(Nv),Zb=Js({},Nv,{view:0,detail:0}),pH=Bh(Zb),XS,JS,N_,O5=Js({},Zb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CI,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==N_&&(N_&&n.type==="mousemove"?(XS=n.screenX-N_.screenX,JS=n.screenY-N_.screenY):JS=XS=0,N_=n),XS)},movementY:function(n){return"movementY"in n?n.movementY:JS}}),h9=Bh(O5),mH=Js({},O5,{dataTransfer:0}),gH=Bh(mH),yH=Js({},Zb,{relatedTarget:0}),eE=Bh(yH),vH=Js({},Nv,{animationName:0,elapsedTime:0,pseudoElement:0}),_H=Bh(vH),CH=Js({},Nv,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bH=Bh(CH),xH=Js({},Nv,{data:0}),d9=Bh(xH),wH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=SH[n])?!!e[n]:!1}function CI(){return EH}var OH=Js({},Zb,{key:function(n){if(n.key){var e=wH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=n4(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?MH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CI,charCode:function(n){return n.type==="keypress"?n4(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?n4(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),BH=Bh(OH),IH=Js({},O5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f9=Bh(IH),kH=Js({},Zb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CI}),TH=Bh(kH),PH=Js({},Nv,{propertyName:0,elapsedTime:0,pseudoElement:0}),KH=Bh(PH),DH=Js({},O5,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LH=Bh(DH),FH=[9,13,27,32],bI=mm&&"CompositionEvent"in window,OC=null;mm&&"documentMode"in document&&(OC=document.documentMode);var RH=mm&&"TextEvent"in window&&!OC,pU=mm&&(!bI||OC&&8<OC&&11>=OC),p9=" ",m9=!1;function mU(n,e){switch(n){case"keyup":return FH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wy=!1;function UH(n,e){switch(n){case"compositionend":return gU(e);case"keypress":return e.which!==32?null:(m9=!0,p9);case"textInput":return n=e.data,n===p9&&m9?null:n;default:return null}}function jH(n,e){if(wy)return n==="compositionend"||!bI&&mU(n,e)?(n=fU(),t4=vI=c0=null,wy=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pU&&e.locale!=="ko"?null:e.data;default:return null}}var zH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!zH[n.type]:e==="textarea"}function yU(n,e,t,r){VR(r),e=K4(e,"onChange"),0<e.length&&(t=new _I("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var BC=null,sb=null;function NH(n){BU(n,0)}function B5(n){var e=Ey(n);if(NR(e))return n}function WH(n,e){if(n==="change")return e}var vU=!1;if(mm){var tE;if(mm){var nE="oninput"in document;if(!nE){var y9=document.createElement("div");y9.setAttribute("oninput","return;"),nE=typeof y9.oninput=="function"}tE=nE}else tE=!1;vU=tE&&(!document.documentMode||9<document.documentMode)}function v9(){BC&&(BC.detachEvent("onpropertychange",_U),sb=BC=null)}function _U(n){if(n.propertyName==="value"&&B5(sb)){var e=[];yU(e,sb,n,fI(n)),JR(NH,e)}}function GH(n,e,t){n==="focusin"?(v9(),BC=e,sb=t,BC.attachEvent("onpropertychange",_U)):n==="focusout"&&v9()}function QH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return B5(sb)}function $H(n,e){if(n==="click")return B5(e)}function YH(n,e){if(n==="input"||n==="change")return B5(e)}function qH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var yf=typeof Object.is=="function"?Object.is:qH;function lb(n,e){if(yf(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!aO.call(e,i)||!yf(n[i],e[i]))return!1}return!0}function _9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function C9(n,e){var t=_9(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_9(t)}}function CU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?CU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function bU(){for(var n=window,e=E4();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=E4(n.document)}return e}function xI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function VH(n){var e=bU(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&CU(t.ownerDocument.documentElement,t)){if(r!==null&&xI(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=C9(t,o);var s=C9(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HH=mm&&"documentMode"in document&&11>=document.documentMode,My=null,MO=null,IC=null,SO=!1;function b9(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;SO||My==null||My!==E4(r)||(r=My,"selectionStart"in r&&xI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),IC&&lb(IC,r)||(IC=r,r=K4(MO,"onSelect"),0<r.length&&(e=new _I("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=My)))}function Jx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Sy={animationend:Jx("Animation","AnimationEnd"),animationiteration:Jx("Animation","AnimationIteration"),animationstart:Jx("Animation","AnimationStart"),transitionend:Jx("Transition","TransitionEnd")},rE={},xU={};mm&&(xU=document.createElement("div").style,"AnimationEvent"in window||(delete Sy.animationend.animation,delete Sy.animationiteration.animation,delete Sy.animationstart.animation),"TransitionEvent"in window||delete Sy.transitionend.transition);function I5(n){if(rE[n])return rE[n];if(!Sy[n])return n;var e=Sy[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in xU)return rE[n]=e[t];return n}var wU=I5("animationend"),MU=I5("animationiteration"),SU=I5("animationstart"),EU=I5("transitionend"),OU=new Map,x9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function U0(n,e){OU.set(n,e),g1(e,[n])}for(var iE=0;iE<x9.length;iE++){var oE=x9[iE],ZH=oE.toLowerCase(),XH=oE[0].toUpperCase()+oE.slice(1);U0(ZH,"on"+XH)}U0(wU,"onAnimationEnd");U0(MU,"onAnimationIteration");U0(SU,"onAnimationStart");U0("dblclick","onDoubleClick");U0("focusin","onFocus");U0("focusout","onBlur");U0(EU,"onTransitionEnd");Cv("onMouseEnter",["mouseout","mouseover"]);Cv("onMouseLeave",["mouseout","mouseover"]);Cv("onPointerEnter",["pointerout","pointerover"]);Cv("onPointerLeave",["pointerout","pointerover"]);g1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));g1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));g1("onBeforeInput",["compositionend","keypress","textInput","paste"]);g1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));g1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));g1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JH=new Set("cancel close invalid load scroll toggle".split(" ").concat(hC));function w9(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,ZV(r,e,void 0,n),n.currentTarget=null}function BU(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,m=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;w9(i,a,m),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,m=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;w9(i,a,m),o=f}}}if(B4)throw n=CO,B4=!1,CO=null,n}function ys(n,e){var t=e[kO];t===void 0&&(t=e[kO]=new Set);var r=n+"__bubble";t.has(r)||(IU(e,n,2,!1),t.add(r))}function aE(n,e,t){var r=0;e&&(r|=4),IU(t,n,r,e)}var e3="_reactListening"+Math.random().toString(36).slice(2);function ub(n){if(!n[e3]){n[e3]=!0,FR.forEach(function(t){t!=="selectionchange"&&(JH.has(t)||aE(t,!1,n),aE(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[e3]||(e[e3]=!0,aE("selectionchange",!1,e))}}function IU(n,e,t,r){switch(dU(e)){case 1:var i=dH;break;case 4:i=fH;break;default:i=yI}t=i.bind(null,e,t,n),i=void 0,!_O||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function sE(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kg(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}JR(function(){var m=o,C=fI(t),k=[];e:{var I=OU.get(n);if(I!==void 0){var K=_I,L=n;switch(n){case"keypress":if(n4(t)===0)break e;case"keydown":case"keyup":K=BH;break;case"focusin":L="focus",K=eE;break;case"focusout":L="blur",K=eE;break;case"beforeblur":case"afterblur":K=eE;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=h9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=TH;break;case wU:case MU:case SU:K=_H;break;case EU:K=KH;break;case"scroll":K=pH;break;case"wheel":K=LH;break;case"copy":case"cut":case"paste":K=bH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=f9}var q=(e&4)!==0,X=!q&&n==="scroll",H=q?I!==null?I+"Capture":null:I;q=[];for(var G=m,ee;G!==null;){ee=G;var ne=ee.stateNode;if(ee.tag===5&&ne!==null&&(ee=ne,H!==null&&(ne=rb(G,H),ne!=null&&q.push(Ab(G,ne,ee)))),X)break;G=G.return}0<q.length&&(I=new K(I,L,null,t,C),k.push({event:I,listeners:q}))}}if(!(e&7)){e:{if(I=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",I&&t!==yO&&(L=t.relatedTarget||t.fromElement)&&(Kg(L)||L[gm]))break e;if((K||I)&&(I=C.window===C?C:(I=C.ownerDocument)?I.defaultView||I.parentWindow:window,K?(L=t.relatedTarget||t.toElement,K=m,L=L?Kg(L):null,L!==null&&(X=y1(L),L!==X||L.tag!==5&&L.tag!==6)&&(L=null)):(K=null,L=m),K!==L)){if(q=h9,ne="onMouseLeave",H="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(q=f9,ne="onPointerLeave",H="onPointerEnter",G="pointer"),X=K==null?I:Ey(K),ee=L==null?I:Ey(L),I=new q(ne,G+"leave",K,t,C),I.target=X,I.relatedTarget=ee,ne=null,Kg(C)===m&&(q=new q(H,G+"enter",L,t,C),q.target=ee,q.relatedTarget=X,ne=q),X=ne,K&&L)t:{for(q=K,H=L,G=0,ee=q;ee;ee=Y1(ee))G++;for(ee=0,ne=H;ne;ne=Y1(ne))ee++;for(;0<G-ee;)q=Y1(q),G--;for(;0<ee-G;)H=Y1(H),ee--;for(;G--;){if(q===H||H!==null&&q===H.alternate)break t;q=Y1(q),H=Y1(H)}q=null}else q=null;K!==null&&M9(k,I,K,q,!1),L!==null&&X!==null&&M9(k,X,L,q,!0)}}e:{if(I=m?Ey(m):window,K=I.nodeName&&I.nodeName.toLowerCase(),K==="select"||K==="input"&&I.type==="file")var se=WH;else if(g9(I))if(vU)se=YH;else{se=QH;var Ae=GH}else(K=I.nodeName)&&K.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(se=$H);if(se&&(se=se(n,m))){yU(k,se,t,C);break e}Ae&&Ae(n,I,m),n==="focusout"&&(Ae=I._wrapperState)&&Ae.controlled&&I.type==="number"&&dO(I,"number",I.value)}switch(Ae=m?Ey(m):window,n){case"focusin":(g9(Ae)||Ae.contentEditable==="true")&&(My=Ae,MO=m,IC=null);break;case"focusout":IC=MO=My=null;break;case"mousedown":SO=!0;break;case"contextmenu":case"mouseup":case"dragend":SO=!1,b9(k,t,C);break;case"selectionchange":if(HH)break;case"keydown":case"keyup":b9(k,t,C)}var V;if(bI)e:{switch(n){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else wy?mU(n,t)&&(re="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(re="onCompositionStart");re&&(pU&&t.locale!=="ko"&&(wy||re!=="onCompositionStart"?re==="onCompositionEnd"&&wy&&(V=fU()):(c0=C,vI="value"in c0?c0.value:c0.textContent,wy=!0)),Ae=K4(m,re),0<Ae.length&&(re=new d9(re,n,null,t,C),k.push({event:re,listeners:Ae}),V?re.data=V:(V=gU(t),V!==null&&(re.data=V)))),(V=RH?UH(n,t):jH(n,t))&&(m=K4(m,"onBeforeInput"),0<m.length&&(C=new d9("onBeforeInput","beforeinput",null,t,C),k.push({event:C,listeners:m}),C.data=V))}BU(k,e)})}function Ab(n,e,t){return{instance:n,listener:e,currentTarget:t}}function K4(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rb(n,t),o!=null&&r.unshift(Ab(n,o,i)),o=rb(n,e),o!=null&&r.push(Ab(n,o,i))),n=n.return}return r}function Y1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function M9(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,f=a.alternate,m=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&m!==null&&(a=m,i?(f=rb(t,o),f!=null&&s.unshift(Ab(t,f,a))):i||(f=rb(t,o),f!=null&&s.push(Ab(t,f,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var eZ=/\r\n?/g,tZ=/\u0000|\uFFFD/g;function S9(n){return(typeof n=="string"?n:""+n).replace(eZ,`
`).replace(tZ,"")}function t3(n,e,t){if(e=S9(e),S9(n)!==e&&t)throw Error(qn(425))}function D4(){}var EO=null,OO=null;function BO(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IO=typeof setTimeout=="function"?setTimeout:void 0,nZ=typeof clearTimeout=="function"?clearTimeout:void 0,E9=typeof Promise=="function"?Promise:void 0,rZ=typeof queueMicrotask=="function"?queueMicrotask:typeof E9<"u"?function(n){return E9.resolve(null).then(n).catch(iZ)}:IO;function iZ(n){setTimeout(function(){throw n})}function lE(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ab(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ab(e)}function b0(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function O9(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Wv=Math.random().toString(36).slice(2),ip="__reactFiber$"+Wv,cb="__reactProps$"+Wv,gm="__reactContainer$"+Wv,kO="__reactEvents$"+Wv,oZ="__reactListeners$"+Wv,aZ="__reactHandles$"+Wv;function Kg(n){var e=n[ip];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gm]||t[ip]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=O9(n);n!==null;){if(t=n[ip])return t;n=O9(n)}return e}n=t,t=n.parentNode}return null}function Xb(n){return n=n[ip]||n[gm],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ey(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(qn(33))}function k5(n){return n[cb]||null}var TO=[],Oy=-1;function j0(n){return{current:n}}function ws(n){0>Oy||(n.current=TO[Oy],TO[Oy]=null,Oy--)}function fs(n,e){Oy++,TO[Oy]=n.current,n.current=e}var D0={},TA=j0(D0),jc=j0(!1),t1=D0;function bv(n,e){var t=n.type.contextTypes;if(!t)return D0;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function zc(n){return n=n.childContextTypes,n!=null}function L4(){ws(jc),ws(TA)}function B9(n,e,t){if(TA.current!==D0)throw Error(qn(168));fs(TA,e),fs(jc,t)}function kU(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qn(108,GV(n)||"Unknown",i));return Js({},t,r)}function F4(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||D0,t1=TA.current,fs(TA,n),fs(jc,jc.current),!0}function I9(n,e,t){var r=n.stateNode;if(!r)throw Error(qn(169));t?(n=kU(n,e,t1),r.__reactInternalMemoizedMergedChildContext=n,ws(jc),ws(TA),fs(TA,n)):ws(jc),fs(jc,t)}var nm=null,T5=!1,uE=!1;function TU(n){nm===null?nm=[n]:nm.push(n)}function sZ(n){T5=!0,TU(n)}function z0(){if(!uE&&nm!==null){uE=!0;var n=0,e=Ka;try{var t=nm;for(Ka=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}nm=null,T5=!1}catch(i){throw nm!==null&&(nm=nm.slice(n+1)),rU(pI,z0),i}finally{Ka=e,uE=!1}}return null}var By=[],Iy=0,R4=null,U4=0,nd=[],rd=0,n1=null,lm=1,um="";function Cg(n,e){By[Iy++]=U4,By[Iy++]=R4,R4=n,U4=e}function PU(n,e,t){nd[rd++]=lm,nd[rd++]=um,nd[rd++]=n1,n1=n;var r=lm;n=um;var i=32-pf(r)-1;r&=~(1<<i),t+=1;var o=32-pf(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,lm=1<<32-pf(e)+i|t<<i|r,um=o+n}else lm=1<<o|t<<i|r,um=n}function wI(n){n.return!==null&&(Cg(n,1),PU(n,1,0))}function MI(n){for(;n===R4;)R4=By[--Iy],By[Iy]=null,U4=By[--Iy],By[Iy]=null;for(;n===n1;)n1=nd[--rd],nd[rd]=null,um=nd[--rd],nd[rd]=null,lm=nd[--rd],nd[rd]=null}var Mh=null,bh=null,Ps=!1,df=null;function KU(n,e){var t=ad(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function k9(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Mh=n,bh=b0(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Mh=n,bh=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=n1!==null?{id:lm,overflow:um}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ad(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Mh=n,bh=null,!0):!1;default:return!1}}function PO(n){return(n.mode&1)!==0&&(n.flags&128)===0}function KO(n){if(Ps){var e=bh;if(e){var t=e;if(!k9(n,e)){if(PO(n))throw Error(qn(418));e=b0(t.nextSibling);var r=Mh;e&&k9(n,e)?KU(r,t):(n.flags=n.flags&-4097|2,Ps=!1,Mh=n)}}else{if(PO(n))throw Error(qn(418));n.flags=n.flags&-4097|2,Ps=!1,Mh=n}}}function T9(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mh=n}function n3(n){if(n!==Mh)return!1;if(!Ps)return T9(n),Ps=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!BO(n.type,n.memoizedProps)),e&&(e=bh)){if(PO(n))throw DU(),Error(qn(418));for(;e;)KU(n,e),e=b0(e.nextSibling)}if(T9(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(qn(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){bh=b0(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}bh=null}}else bh=Mh?b0(n.stateNode.nextSibling):null;return!0}function DU(){for(var n=bh;n;)n=b0(n.nextSibling)}function xv(){bh=Mh=null,Ps=!1}function SI(n){df===null?df=[n]:df.push(n)}var lZ=Cm.ReactCurrentBatchConfig;function sf(n,e){if(n&&n.defaultProps){e=Js({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var j4=j0(null),z4=null,ky=null,EI=null;function OI(){EI=ky=z4=null}function BI(n){var e=j4.current;ws(j4),n._currentValue=e}function DO(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Zy(n,e){z4=n,EI=ky=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Uc=!0),n.firstContext=null)}function dd(n){var e=n._currentValue;if(EI!==n)if(n={context:n,memoizedValue:e,next:null},ky===null){if(z4===null)throw Error(qn(308));ky=n,z4.dependencies={lanes:0,firstContext:n}}else ky=ky.next=n;return e}var Dg=null;function II(n){Dg===null?Dg=[n]:Dg.push(n)}function LU(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,II(e)):(t.next=i.next,i.next=t),e.interleaved=t,ym(n,r)}function ym(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var i0=!1;function kI(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FU(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Am(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function x0(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,na&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ym(n,t)}return i=r.interleaved,i===null?(e.next=e,II(r)):(e.next=i.next,i.next=e),r.interleaved=e,ym(n,t)}function r4(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mI(n,t)}}function P9(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function N4(n,e,t,r){var i=n.updateQueue;i0=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,m=f.next;f.next=null,s===null?o=m:s.next=m,s=f;var C=n.alternate;C!==null&&(C=C.updateQueue,a=C.lastBaseUpdate,a!==s&&(a===null?C.firstBaseUpdate=m:a.next=m,C.lastBaseUpdate=f))}if(o!==null){var k=i.baseState;s=0,C=m=f=null,a=o;do{var I=a.lane,K=a.eventTime;if((r&I)===I){C!==null&&(C=C.next={eventTime:K,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var L=n,q=a;switch(I=e,K=t,q.tag){case 1:if(L=q.payload,typeof L=="function"){k=L.call(K,k,I);break e}k=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=q.payload,I=typeof L=="function"?L.call(K,k,I):L,I==null)break e;k=Js({},k,I);break e;case 2:i0=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,I=i.effects,I===null?i.effects=[a]:I.push(a))}else K={eventTime:K,lane:I,tag:a.tag,payload:a.payload,callback:a.callback,next:null},C===null?(m=C=K,f=k):C=C.next=K,s|=I;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;I=a,a=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);if(C===null&&(f=k),i.baseState=f,i.firstBaseUpdate=m,i.lastBaseUpdate=C,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);i1|=s,n.lanes=s,n.memoizedState=k}}function K9(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(qn(191,i));i.call(r)}}}var RU=new LR.Component().refs;function LO(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Js({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var P5={isMounted:function(n){return(n=n._reactInternals)?y1(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ac(),i=M0(n),o=Am(r,i);o.payload=e,t!=null&&(o.callback=t),e=x0(n,o,i),e!==null&&(mf(e,n,i,r),r4(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ac(),i=M0(n),o=Am(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=x0(n,o,i),e!==null&&(mf(e,n,i,r),r4(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ac(),r=M0(n),i=Am(t,r);i.tag=2,e!=null&&(i.callback=e),e=x0(n,i,r),e!==null&&(mf(e,n,r,t),r4(e,n,r))}};function D9(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!lb(t,r)||!lb(i,o):!0}function UU(n,e,t){var r=!1,i=D0,o=e.contextType;return typeof o=="object"&&o!==null?o=dd(o):(i=zc(e)?t1:TA.current,r=e.contextTypes,o=(r=r!=null)?bv(n,i):D0),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=P5,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function L9(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&P5.enqueueReplaceState(e,e.state,null)}function FO(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=RU,kI(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dd(o):(o=zc(e)?t1:TA.current,i.context=bv(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(LO(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&P5.enqueueReplaceState(i,i.state,null),N4(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function W_(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(qn(309));var r=t.stateNode}if(!r)throw Error(qn(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===RU&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(qn(284));if(!t._owner)throw Error(qn(290,n))}return n}function r3(n,e){throw n=Object.prototype.toString.call(e),Error(qn(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function F9(n){var e=n._init;return e(n._payload)}function jU(n){function e(H,G){if(n){var ee=H.deletions;ee===null?(H.deletions=[G],H.flags|=16):ee.push(G)}}function t(H,G){if(!n)return null;for(;G!==null;)e(H,G),G=G.sibling;return null}function r(H,G){for(H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function i(H,G){return H=S0(H,G),H.index=0,H.sibling=null,H}function o(H,G,ee){return H.index=ee,n?(ee=H.alternate,ee!==null?(ee=ee.index,ee<G?(H.flags|=2,G):ee):(H.flags|=2,G)):(H.flags|=1048576,G)}function s(H){return n&&H.alternate===null&&(H.flags|=2),H}function a(H,G,ee,ne){return G===null||G.tag!==6?(G=mE(ee,H.mode,ne),G.return=H,G):(G=i(G,ee),G.return=H,G)}function f(H,G,ee,ne){var se=ee.type;return se===xy?C(H,G,ee.props.children,ne,ee.key):G!==null&&(G.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===r0&&F9(se)===G.type)?(ne=i(G,ee.props),ne.ref=W_(H,G,ee),ne.return=H,ne):(ne=u4(ee.type,ee.key,ee.props,null,H.mode,ne),ne.ref=W_(H,G,ee),ne.return=H,ne)}function m(H,G,ee,ne){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=gE(ee,H.mode,ne),G.return=H,G):(G=i(G,ee.children||[]),G.return=H,G)}function C(H,G,ee,ne,se){return G===null||G.tag!==7?(G=$g(ee,H.mode,ne,se),G.return=H,G):(G=i(G,ee),G.return=H,G)}function k(H,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=mE(""+G,H.mode,ee),G.return=H,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case $x:return ee=u4(G.type,G.key,G.props,null,H.mode,ee),ee.ref=W_(H,null,G),ee.return=H,ee;case by:return G=gE(G,H.mode,ee),G.return=H,G;case r0:var ne=G._init;return k(H,ne(G._payload),ee)}if(AC(G)||R_(G))return G=$g(G,H.mode,ee,null),G.return=H,G;r3(H,G)}return null}function I(H,G,ee,ne){var se=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return se!==null?null:a(H,G,""+ee,ne);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case $x:return ee.key===se?f(H,G,ee,ne):null;case by:return ee.key===se?m(H,G,ee,ne):null;case r0:return se=ee._init,I(H,G,se(ee._payload),ne)}if(AC(ee)||R_(ee))return se!==null?null:C(H,G,ee,ne,null);r3(H,ee)}return null}function K(H,G,ee,ne,se){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return H=H.get(ee)||null,a(G,H,""+ne,se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case $x:return H=H.get(ne.key===null?ee:ne.key)||null,f(G,H,ne,se);case by:return H=H.get(ne.key===null?ee:ne.key)||null,m(G,H,ne,se);case r0:var Ae=ne._init;return K(H,G,ee,Ae(ne._payload),se)}if(AC(ne)||R_(ne))return H=H.get(ee)||null,C(G,H,ne,se,null);r3(G,ne)}return null}function L(H,G,ee,ne){for(var se=null,Ae=null,V=G,re=G=0,be=null;V!==null&&re<ee.length;re++){V.index>re?(be=V,V=null):be=V.sibling;var _e=I(H,V,ee[re],ne);if(_e===null){V===null&&(V=be);break}n&&V&&_e.alternate===null&&e(H,V),G=o(_e,G,re),Ae===null?se=_e:Ae.sibling=_e,Ae=_e,V=be}if(re===ee.length)return t(H,V),Ps&&Cg(H,re),se;if(V===null){for(;re<ee.length;re++)V=k(H,ee[re],ne),V!==null&&(G=o(V,G,re),Ae===null?se=V:Ae.sibling=V,Ae=V);return Ps&&Cg(H,re),se}for(V=r(H,V);re<ee.length;re++)be=K(V,H,re,ee[re],ne),be!==null&&(n&&be.alternate!==null&&V.delete(be.key===null?re:be.key),G=o(be,G,re),Ae===null?se=be:Ae.sibling=be,Ae=be);return n&&V.forEach(function(Pe){return e(H,Pe)}),Ps&&Cg(H,re),se}function q(H,G,ee,ne){var se=R_(ee);if(typeof se!="function")throw Error(qn(150));if(ee=se.call(ee),ee==null)throw Error(qn(151));for(var Ae=se=null,V=G,re=G=0,be=null,_e=ee.next();V!==null&&!_e.done;re++,_e=ee.next()){V.index>re?(be=V,V=null):be=V.sibling;var Pe=I(H,V,_e.value,ne);if(Pe===null){V===null&&(V=be);break}n&&V&&Pe.alternate===null&&e(H,V),G=o(Pe,G,re),Ae===null?se=Pe:Ae.sibling=Pe,Ae=Pe,V=be}if(_e.done)return t(H,V),Ps&&Cg(H,re),se;if(V===null){for(;!_e.done;re++,_e=ee.next())_e=k(H,_e.value,ne),_e!==null&&(G=o(_e,G,re),Ae===null?se=_e:Ae.sibling=_e,Ae=_e);return Ps&&Cg(H,re),se}for(V=r(H,V);!_e.done;re++,_e=ee.next())_e=K(V,H,re,_e.value,ne),_e!==null&&(n&&_e.alternate!==null&&V.delete(_e.key===null?re:_e.key),G=o(_e,G,re),Ae===null?se=_e:Ae.sibling=_e,Ae=_e);return n&&V.forEach(function(Ue){return e(H,Ue)}),Ps&&Cg(H,re),se}function X(H,G,ee,ne){if(typeof ee=="object"&&ee!==null&&ee.type===xy&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case $x:e:{for(var se=ee.key,Ae=G;Ae!==null;){if(Ae.key===se){if(se=ee.type,se===xy){if(Ae.tag===7){t(H,Ae.sibling),G=i(Ae,ee.props.children),G.return=H,H=G;break e}}else if(Ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===r0&&F9(se)===Ae.type){t(H,Ae.sibling),G=i(Ae,ee.props),G.ref=W_(H,Ae,ee),G.return=H,H=G;break e}t(H,Ae);break}else e(H,Ae);Ae=Ae.sibling}ee.type===xy?(G=$g(ee.props.children,H.mode,ne,ee.key),G.return=H,H=G):(ne=u4(ee.type,ee.key,ee.props,null,H.mode,ne),ne.ref=W_(H,G,ee),ne.return=H,H=ne)}return s(H);case by:e:{for(Ae=ee.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){t(H,G.sibling),G=i(G,ee.children||[]),G.return=H,H=G;break e}else{t(H,G);break}else e(H,G);G=G.sibling}G=gE(ee,H.mode,ne),G.return=H,H=G}return s(H);case r0:return Ae=ee._init,X(H,G,Ae(ee._payload),ne)}if(AC(ee))return L(H,G,ee,ne);if(R_(ee))return q(H,G,ee,ne);r3(H,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(t(H,G.sibling),G=i(G,ee),G.return=H,H=G):(t(H,G),G=mE(ee,H.mode,ne),G.return=H,H=G),s(H)):t(H,G)}return X}var wv=jU(!0),zU=jU(!1),Jb={},hp=j0(Jb),hb=j0(Jb),db=j0(Jb);function Lg(n){if(n===Jb)throw Error(qn(174));return n}function TI(n,e){switch(fs(db,e),fs(hb,n),fs(hp,Jb),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pO(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=pO(e,n)}ws(hp),fs(hp,e)}function Mv(){ws(hp),ws(hb),ws(db)}function NU(n){Lg(db.current);var e=Lg(hp.current),t=pO(e,n.type);e!==t&&(fs(hb,n),fs(hp,t))}function PI(n){hb.current===n&&(ws(hp),ws(hb))}var Vs=j0(0);function W4(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var AE=[];function KI(){for(var n=0;n<AE.length;n++)AE[n]._workInProgressVersionPrimary=null;AE.length=0}var i4=Cm.ReactCurrentDispatcher,cE=Cm.ReactCurrentBatchConfig,r1=0,Xs=null,_u=null,Qu=null,G4=!1,kC=!1,fb=0,uZ=0;function SA(){throw Error(qn(321))}function DI(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!yf(n[t],e[t]))return!1;return!0}function LI(n,e,t,r,i,o){if(r1=o,Xs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,i4.current=n===null||n.memoizedState===null?dZ:fZ,n=t(r,i),kC){o=0;do{if(kC=!1,fb=0,25<=o)throw Error(qn(301));o+=1,Qu=_u=null,e.updateQueue=null,i4.current=pZ,n=t(r,i)}while(kC)}if(i4.current=Q4,e=_u!==null&&_u.next!==null,r1=0,Qu=_u=Xs=null,G4=!1,e)throw Error(qn(300));return n}function FI(){var n=fb!==0;return fb=0,n}function Vf(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qu===null?Xs.memoizedState=Qu=n:Qu=Qu.next=n,Qu}function fd(){if(_u===null){var n=Xs.alternate;n=n!==null?n.memoizedState:null}else n=_u.next;var e=Qu===null?Xs.memoizedState:Qu.next;if(e!==null)Qu=e,_u=n;else{if(n===null)throw Error(qn(310));_u=n,n={memoizedState:_u.memoizedState,baseState:_u.baseState,baseQueue:_u.baseQueue,queue:_u.queue,next:null},Qu===null?Xs.memoizedState=Qu=n:Qu=Qu.next=n}return Qu}function pb(n,e){return typeof e=="function"?e(n):e}function hE(n){var e=fd(),t=e.queue;if(t===null)throw Error(qn(311));t.lastRenderedReducer=n;var r=_u,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,m=o;do{var C=m.lane;if((r1&C)===C)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var k={lane:C,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(a=f=k,s=r):f=f.next=k,Xs.lanes|=C,i1|=C}m=m.next}while(m!==null&&m!==o);f===null?s=r:f.next=a,yf(r,e.memoizedState)||(Uc=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=f,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Xs.lanes|=o,i1|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function dE(n){var e=fd(),t=e.queue;if(t===null)throw Error(qn(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);yf(o,e.memoizedState)||(Uc=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function WU(){}function GU(n,e){var t=Xs,r=fd(),i=e(),o=!yf(r.memoizedState,i);if(o&&(r.memoizedState=i,Uc=!0),r=r.queue,RI(YU.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Qu!==null&&Qu.memoizedState.tag&1){if(t.flags|=2048,mb(9,$U.bind(null,t,r,i,e),void 0,null),qu===null)throw Error(qn(349));r1&30||QU(t,e,i)}return i}function QU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Xs.updateQueue,e===null?(e={lastEffect:null,stores:null},Xs.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function $U(n,e,t,r){e.value=t,e.getSnapshot=r,qU(e)&&VU(n)}function YU(n,e,t){return t(function(){qU(e)&&VU(n)})}function qU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!yf(n,t)}catch{return!0}}function VU(n){var e=ym(n,1);e!==null&&mf(e,n,1,-1)}function R9(n){var e=Vf();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pb,lastRenderedState:n},e.queue=n,n=n.dispatch=hZ.bind(null,Xs,n),[e.memoizedState,n]}function mb(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Xs.updateQueue,e===null?(e={lastEffect:null,stores:null},Xs.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function HU(){return fd().memoizedState}function o4(n,e,t,r){var i=Vf();Xs.flags|=n,i.memoizedState=mb(1|e,t,void 0,r===void 0?null:r)}function K5(n,e,t,r){var i=fd();r=r===void 0?null:r;var o=void 0;if(_u!==null){var s=_u.memoizedState;if(o=s.destroy,r!==null&&DI(r,s.deps)){i.memoizedState=mb(e,t,o,r);return}}Xs.flags|=n,i.memoizedState=mb(1|e,t,o,r)}function U9(n,e){return o4(8390656,8,n,e)}function RI(n,e){return K5(2048,8,n,e)}function ZU(n,e){return K5(4,2,n,e)}function XU(n,e){return K5(4,4,n,e)}function JU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ej(n,e,t){return t=t!=null?t.concat([n]):null,K5(4,4,JU.bind(null,e,n),t)}function UI(){}function tj(n,e){var t=fd();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DI(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function nj(n,e){var t=fd();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DI(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function rj(n,e,t){return r1&21?(yf(t,e)||(t=aU(),Xs.lanes|=t,i1|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Uc=!0),n.memoizedState=t)}function AZ(n,e){var t=Ka;Ka=t!==0&&4>t?t:4,n(!0);var r=cE.transition;cE.transition={};try{n(!1),e()}finally{Ka=t,cE.transition=r}}function ij(){return fd().memoizedState}function cZ(n,e,t){var r=M0(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},oj(n))aj(e,t);else if(t=LU(n,e,t,r),t!==null){var i=ac();mf(t,n,r,i),sj(t,e,r)}}function hZ(n,e,t){var r=M0(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(oj(n))aj(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,yf(a,s)){var f=e.interleaved;f===null?(i.next=i,II(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}t=LU(n,e,i,r),t!==null&&(i=ac(),mf(t,n,r,i),sj(t,e,r))}}function oj(n){var e=n.alternate;return n===Xs||e!==null&&e===Xs}function aj(n,e){kC=G4=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function sj(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mI(n,t)}}var Q4={readContext:dd,useCallback:SA,useContext:SA,useEffect:SA,useImperativeHandle:SA,useInsertionEffect:SA,useLayoutEffect:SA,useMemo:SA,useReducer:SA,useRef:SA,useState:SA,useDebugValue:SA,useDeferredValue:SA,useTransition:SA,useMutableSource:SA,useSyncExternalStore:SA,useId:SA,unstable_isNewReconciler:!1},dZ={readContext:dd,useCallback:function(n,e){return Vf().memoizedState=[n,e===void 0?null:e],n},useContext:dd,useEffect:U9,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,o4(4194308,4,JU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return o4(4194308,4,n,e)},useInsertionEffect:function(n,e){return o4(4,2,n,e)},useMemo:function(n,e){var t=Vf();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Vf();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=cZ.bind(null,Xs,n),[r.memoizedState,n]},useRef:function(n){var e=Vf();return n={current:n},e.memoizedState=n},useState:R9,useDebugValue:UI,useDeferredValue:function(n){return Vf().memoizedState=n},useTransition:function(){var n=R9(!1),e=n[0];return n=AZ.bind(null,n[1]),Vf().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Xs,i=Vf();if(Ps){if(t===void 0)throw Error(qn(407));t=t()}else{if(t=e(),qu===null)throw Error(qn(349));r1&30||QU(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,U9(YU.bind(null,r,o,n),[n]),r.flags|=2048,mb(9,$U.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Vf(),e=qu.identifierPrefix;if(Ps){var t=um,r=lm;t=(r&~(1<<32-pf(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=fb++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=uZ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fZ={readContext:dd,useCallback:tj,useContext:dd,useEffect:RI,useImperativeHandle:ej,useInsertionEffect:ZU,useLayoutEffect:XU,useMemo:nj,useReducer:hE,useRef:HU,useState:function(){return hE(pb)},useDebugValue:UI,useDeferredValue:function(n){var e=fd();return rj(e,_u.memoizedState,n)},useTransition:function(){var n=hE(pb)[0],e=fd().memoizedState;return[n,e]},useMutableSource:WU,useSyncExternalStore:GU,useId:ij,unstable_isNewReconciler:!1},pZ={readContext:dd,useCallback:tj,useContext:dd,useEffect:RI,useImperativeHandle:ej,useInsertionEffect:ZU,useLayoutEffect:XU,useMemo:nj,useReducer:dE,useRef:HU,useState:function(){return dE(pb)},useDebugValue:UI,useDeferredValue:function(n){var e=fd();return _u===null?e.memoizedState=n:rj(e,_u.memoizedState,n)},useTransition:function(){var n=dE(pb)[0],e=fd().memoizedState;return[n,e]},useMutableSource:WU,useSyncExternalStore:GU,useId:ij,unstable_isNewReconciler:!1};function Sv(n,e){try{var t="",r=e;do t+=WV(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function fE(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function RO(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var mZ=typeof WeakMap=="function"?WeakMap:Map;function lj(n,e,t){t=Am(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Y4||(Y4=!0,qO=r),RO(n,e)},t}function uj(n,e,t){t=Am(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){RO(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){RO(n,e),typeof r!="function"&&(w0===null?w0=new Set([this]):w0.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function j9(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new mZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=IZ.bind(null,n,e,t),e.then(n,n))}function z9(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function N9(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Am(-1,1),e.tag=2,x0(t,e,1))),t.lanes|=1),n)}var gZ=Cm.ReactCurrentOwner,Uc=!1;function tc(n,e,t,r){e.child=n===null?zU(e,null,t,r):wv(e,n.child,t,r)}function W9(n,e,t,r,i){t=t.render;var o=e.ref;return Zy(e,i),r=LI(n,e,t,r,o,i),t=FI(),n!==null&&!Uc?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,vm(n,e,i)):(Ps&&t&&wI(e),e.flags|=1,tc(n,e,r,i),e.child)}function G9(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!YI(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,Aj(n,e,o,r,i)):(n=u4(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:lb,t(s,r)&&n.ref===e.ref)return vm(n,e,i)}return e.flags|=1,n=S0(o,r),n.ref=e.ref,n.return=e,e.child=n}function Aj(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(lb(o,r)&&n.ref===e.ref)if(Uc=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Uc=!0);else return e.lanes=n.lanes,vm(n,e,i)}return UO(n,e,t,r,i)}function cj(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fs(Py,gh),gh|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,fs(Py,gh),gh|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,fs(Py,gh),gh|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,fs(Py,gh),gh|=r;return tc(n,e,i,t),e.child}function hj(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function UO(n,e,t,r,i){var o=zc(t)?t1:TA.current;return o=bv(e,o),Zy(e,i),t=LI(n,e,t,r,o,i),r=FI(),n!==null&&!Uc?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,vm(n,e,i)):(Ps&&r&&wI(e),e.flags|=1,tc(n,e,t,i),e.child)}function Q9(n,e,t,r,i){if(zc(t)){var o=!0;F4(e)}else o=!1;if(Zy(e,i),e.stateNode===null)a4(n,e),UU(e,t,r),FO(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var f=s.context,m=t.contextType;typeof m=="object"&&m!==null?m=dd(m):(m=zc(t)?t1:TA.current,m=bv(e,m));var C=t.getDerivedStateFromProps,k=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function";k||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==m)&&L9(e,s,r,m),i0=!1;var I=e.memoizedState;s.state=I,N4(e,r,s,i),f=e.memoizedState,a!==r||I!==f||jc.current||i0?(typeof C=="function"&&(LO(e,t,C,r),f=e.memoizedState),(a=i0||D9(e,t,a,r,I,f,m))?(k||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=m,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,FU(n,e),a=e.memoizedProps,m=e.type===e.elementType?a:sf(e.type,a),s.props=m,k=e.pendingProps,I=s.context,f=t.contextType,typeof f=="object"&&f!==null?f=dd(f):(f=zc(t)?t1:TA.current,f=bv(e,f));var K=t.getDerivedStateFromProps;(C=typeof K=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==k||I!==f)&&L9(e,s,r,f),i0=!1,I=e.memoizedState,s.state=I,N4(e,r,s,i);var L=e.memoizedState;a!==k||I!==L||jc.current||i0?(typeof K=="function"&&(LO(e,t,K,r),L=e.memoizedState),(m=i0||D9(e,t,m,r,I,L,f)||!1)?(C||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,L,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,L,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),s.props=r,s.state=L,s.context=f,r=m):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=1024),r=!1)}return jO(n,e,t,r,o,i)}function jO(n,e,t,r,i,o){hj(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&I9(e,t,!1),vm(n,e,o);r=e.stateNode,gZ.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=wv(e,n.child,null,o),e.child=wv(e,null,a,o)):tc(n,e,a,o),e.memoizedState=r.state,i&&I9(e,t,!0),e.child}function dj(n){var e=n.stateNode;e.pendingContext?B9(n,e.pendingContext,e.pendingContext!==e.context):e.context&&B9(n,e.context,!1),TI(n,e.containerInfo)}function $9(n,e,t,r,i){return xv(),SI(i),e.flags|=256,tc(n,e,t,r),e.child}var zO={dehydrated:null,treeContext:null,retryLane:0};function NO(n){return{baseLanes:n,cachePool:null,transitions:null}}function fj(n,e,t){var r=e.pendingProps,i=Vs.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),fs(Vs,i&1),n===null)return KO(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=F5(s,r,0,null),n=$g(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=NO(t),e.memoizedState=zO,n):jI(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yZ(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=S0(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=S0(a,o):(o=$g(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?NO(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=zO,r}return o=n.child,n=o.sibling,r=S0(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function jI(n,e){return e=F5({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function i3(n,e,t,r){return r!==null&&SI(r),wv(e,n.child,null,t),n=jI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function yZ(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=fE(Error(qn(422))),i3(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=F5({mode:"visible",children:r.children},i,0,null),o=$g(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wv(e,n.child,null,s),e.child.memoizedState=NO(s),e.memoizedState=zO,o);if(!(e.mode&1))return i3(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(qn(419)),r=fE(o,r,void 0),i3(n,e,s,r)}if(a=(s&n.childLanes)!==0,Uc||a){if(r=qu,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ym(n,i),mf(r,n,i,-1))}return $I(),r=fE(Error(qn(421))),i3(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=kZ.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,bh=b0(i.nextSibling),Mh=e,Ps=!0,df=null,n!==null&&(nd[rd++]=lm,nd[rd++]=um,nd[rd++]=n1,lm=n.id,um=n.overflow,n1=e),e=jI(e,r.children),e.flags|=4096,e)}function Y9(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),DO(n.return,e,t)}function pE(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function pj(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(tc(n,e,r.children,t),r=Vs.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y9(n,t,e);else if(n.tag===19)Y9(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(fs(Vs,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&W4(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),pE(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&W4(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}pE(e,!0,t,null,o);break;case"together":pE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function a4(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function vm(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),i1|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(qn(153));if(e.child!==null){for(n=e.child,t=S0(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=S0(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function vZ(n,e,t){switch(e.tag){case 3:dj(e),xv();break;case 5:NU(e);break;case 1:zc(e.type)&&F4(e);break;case 4:TI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fs(j4,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fs(Vs,Vs.current&1),e.flags|=128,null):t&e.child.childLanes?fj(n,e,t):(fs(Vs,Vs.current&1),n=vm(n,e,t),n!==null?n.sibling:null);fs(Vs,Vs.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return pj(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fs(Vs,Vs.current),r)break;return null;case 22:case 23:return e.lanes=0,cj(n,e,t)}return vm(n,e,t)}var mj,WO,gj,yj;mj=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};WO=function(){};gj=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Lg(hp.current);var o=null;switch(t){case"input":i=cO(n,i),r=cO(n,r),o=[];break;case"select":i=Js({},i,{value:void 0}),r=Js({},r,{value:void 0}),o=[];break;case"textarea":i=fO(n,i),r=fO(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=D4)}mO(t,r);var s;t=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var a=i[m];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(tb.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(a=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&f!==a&&(f!=null||a!=null))if(m==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(t||(t={}),t[s]=f[s])}else t||(o||(o=[]),o.push(m,t)),t=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(tb.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&ys("scroll",n),o||a===f||(o=[])):(o=o||[]).push(m,f))}t&&(o=o||[]).push("style",t);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};yj=function(n,e,t,r){t!==r&&(e.flags|=4)};function G_(n,e){if(!Ps)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function EA(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function _Z(n,e,t){var r=e.pendingProps;switch(MI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return EA(e),null;case 1:return zc(e.type)&&L4(),EA(e),null;case 3:return r=e.stateNode,Mv(),ws(jc),ws(TA),KI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(n3(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,df!==null&&(ZO(df),df=null))),WO(n,e),EA(e),null;case 5:PI(e);var i=Lg(db.current);if(t=e.type,n!==null&&e.stateNode!=null)gj(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qn(166));return EA(e),null}if(n=Lg(hp.current),n3(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[ip]=e,r[cb]=o,n=(e.mode&1)!==0,t){case"dialog":ys("cancel",r),ys("close",r);break;case"iframe":case"object":case"embed":ys("load",r);break;case"video":case"audio":for(i=0;i<hC.length;i++)ys(hC[i],r);break;case"source":ys("error",r);break;case"img":case"image":case"link":ys("error",r),ys("load",r);break;case"details":ys("toggle",r);break;case"input":n9(r,o),ys("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ys("invalid",r);break;case"textarea":i9(r,o),ys("invalid",r)}mO(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&t3(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&t3(r.textContent,a,n),i=["children",""+a]):tb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ys("scroll",r)}switch(t){case"input":Yx(r),r9(r,o,!0);break;case"textarea":Yx(r),o9(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=D4)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=QR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[ip]=e,n[cb]=r,mj(n,e,!1,!1),e.stateNode=n;e:{switch(s=gO(t,r),t){case"dialog":ys("cancel",n),ys("close",n),i=r;break;case"iframe":case"object":case"embed":ys("load",n),i=r;break;case"video":case"audio":for(i=0;i<hC.length;i++)ys(hC[i],n);i=r;break;case"source":ys("error",n),i=r;break;case"img":case"image":case"link":ys("error",n),ys("load",n),i=r;break;case"details":ys("toggle",n),i=r;break;case"input":n9(n,r),i=cO(n,r),ys("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Js({},r,{value:void 0}),ys("invalid",n);break;case"textarea":i9(n,r),i=fO(n,r),ys("invalid",n);break;default:i=r}mO(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?qR(n,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&$R(n,f)):o==="children"?typeof f=="string"?(t!=="textarea"||f!=="")&&nb(n,f):typeof f=="number"&&nb(n,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tb.hasOwnProperty(o)?f!=null&&o==="onScroll"&&ys("scroll",n):f!=null&&AI(n,o,f,s))}switch(t){case"input":Yx(n),r9(n,r,!1);break;case"textarea":Yx(n),o9(n);break;case"option":r.value!=null&&n.setAttribute("value",""+K0(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Yy(n,!!r.multiple,o,!1):r.defaultValue!=null&&Yy(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=D4)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return EA(e),null;case 6:if(n&&e.stateNode!=null)yj(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qn(166));if(t=Lg(db.current),Lg(hp.current),n3(e)){if(r=e.stateNode,t=e.memoizedProps,r[ip]=e,(o=r.nodeValue!==t)&&(n=Mh,n!==null))switch(n.tag){case 3:t3(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&t3(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ip]=e,e.stateNode=r}return EA(e),null;case 13:if(ws(Vs),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ps&&bh!==null&&e.mode&1&&!(e.flags&128))DU(),xv(),e.flags|=98560,o=!1;else if(o=n3(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(qn(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(qn(317));o[ip]=e}else xv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;EA(e),o=!1}else df!==null&&(ZO(df),df=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Vs.current&1?Cu===0&&(Cu=3):$I())),e.updateQueue!==null&&(e.flags|=4),EA(e),null);case 4:return Mv(),WO(n,e),n===null&&ub(e.stateNode.containerInfo),EA(e),null;case 10:return BI(e.type._context),EA(e),null;case 17:return zc(e.type)&&L4(),EA(e),null;case 19:if(ws(Vs),o=e.memoizedState,o===null)return EA(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)G_(o,!1);else{if(Cu!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=W4(n),s!==null){for(e.flags|=128,G_(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return fs(Vs,Vs.current&1|2),e.child}n=n.sibling}o.tail!==null&&kl()>Ev&&(e.flags|=128,r=!0,G_(o,!1),e.lanes=4194304)}else{if(!r)if(n=W4(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),G_(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ps)return EA(e),null}else 2*kl()-o.renderingStartTime>Ev&&t!==1073741824&&(e.flags|=128,r=!0,G_(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kl(),e.sibling=null,t=Vs.current,fs(Vs,r?t&1|2:t&1),e):(EA(e),null);case 22:case 23:return QI(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gh&1073741824&&(EA(e),e.subtreeFlags&6&&(e.flags|=8192)):EA(e),null;case 24:return null;case 25:return null}throw Error(qn(156,e.tag))}function CZ(n,e){switch(MI(e),e.tag){case 1:return zc(e.type)&&L4(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mv(),ws(jc),ws(TA),KI(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return PI(e),null;case 13:if(ws(Vs),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(qn(340));xv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ws(Vs),null;case 4:return Mv(),null;case 10:return BI(e.type._context),null;case 22:case 23:return QI(),null;case 24:return null;default:return null}}var o3=!1,kA=!1,bZ=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function Ty(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){pl(n,e,r)}else t.current=null}function GO(n,e,t){try{t()}catch(r){pl(n,e,r)}}var q9=!1;function xZ(n,e){if(EO=T4,n=bU(),xI(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,f=-1,m=0,C=0,k=n,I=null;t:for(;;){for(var K;k!==t||i!==0&&k.nodeType!==3||(a=s+i),k!==o||r!==0&&k.nodeType!==3||(f=s+r),k.nodeType===3&&(s+=k.nodeValue.length),(K=k.firstChild)!==null;)I=k,k=K;for(;;){if(k===n)break t;if(I===t&&++m===i&&(a=s),I===o&&++C===r&&(f=s),(K=k.nextSibling)!==null)break;k=I,I=k.parentNode}k=K}t=a===-1||f===-1?null:{start:a,end:f}}else t=null}t=t||{start:0,end:0}}else t=null;for(OO={focusedElem:n,selectionRange:t},T4=!1,Rr=e;Rr!==null;)if(e=Rr,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Rr=n;else for(;Rr!==null;){e=Rr;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var q=L.memoizedProps,X=L.memoizedState,H=e.stateNode,G=H.getSnapshotBeforeUpdate(e.elementType===e.type?q:sf(e.type,q),X);H.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=e.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qn(163))}}catch(ne){pl(e,e.return,ne)}if(n=e.sibling,n!==null){n.return=e.return,Rr=n;break}Rr=e.return}return L=q9,q9=!1,L}function TC(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&GO(e,t,o)}i=i.next}while(i!==r)}}function D5(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function QO(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function vj(n){var e=n.alternate;e!==null&&(n.alternate=null,vj(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ip],delete e[cb],delete e[kO],delete e[oZ],delete e[aZ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _j(n){return n.tag===5||n.tag===3||n.tag===4}function V9(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_j(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $O(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=D4));else if(r!==4&&(n=n.child,n!==null))for($O(n,e,t),n=n.sibling;n!==null;)$O(n,e,t),n=n.sibling}function YO(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(YO(n,e,t),n=n.sibling;n!==null;)YO(n,e,t),n=n.sibling}var iA=null,Af=!1;function qm(n,e,t){for(t=t.child;t!==null;)Cj(n,e,t),t=t.sibling}function Cj(n,e,t){if(cp&&typeof cp.onCommitFiberUnmount=="function")try{cp.onCommitFiberUnmount(E5,t)}catch{}switch(t.tag){case 5:kA||Ty(t,e);case 6:var r=iA,i=Af;iA=null,qm(n,e,t),iA=r,Af=i,iA!==null&&(Af?(n=iA,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):iA.removeChild(t.stateNode));break;case 18:iA!==null&&(Af?(n=iA,t=t.stateNode,n.nodeType===8?lE(n.parentNode,t):n.nodeType===1&&lE(n,t),ab(n)):lE(iA,t.stateNode));break;case 4:r=iA,i=Af,iA=t.stateNode.containerInfo,Af=!0,qm(n,e,t),iA=r,Af=i;break;case 0:case 11:case 14:case 15:if(!kA&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&GO(t,e,s),i=i.next}while(i!==r)}qm(n,e,t);break;case 1:if(!kA&&(Ty(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){pl(t,e,a)}qm(n,e,t);break;case 21:qm(n,e,t);break;case 22:t.mode&1?(kA=(r=kA)||t.memoizedState!==null,qm(n,e,t),kA=r):qm(n,e,t);break;default:qm(n,e,t)}}function H9(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bZ),e.forEach(function(r){var i=TZ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function tf(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:iA=a.stateNode,Af=!1;break e;case 3:iA=a.stateNode.containerInfo,Af=!0;break e;case 4:iA=a.stateNode.containerInfo,Af=!0;break e}a=a.return}if(iA===null)throw Error(qn(160));Cj(o,s,i),iA=null,Af=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(m){pl(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bj(e,n),e=e.sibling}function bj(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tf(e,n),Yf(n),r&4){try{TC(3,n,n.return),D5(3,n)}catch(q){pl(n,n.return,q)}try{TC(5,n,n.return)}catch(q){pl(n,n.return,q)}}break;case 1:tf(e,n),Yf(n),r&512&&t!==null&&Ty(t,t.return);break;case 5:if(tf(e,n),Yf(n),r&512&&t!==null&&Ty(t,t.return),n.flags&32){var i=n.stateNode;try{nb(i,"")}catch(q){pl(n,n.return,q)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&WR(i,o),gO(a,s);var m=gO(a,o);for(s=0;s<f.length;s+=2){var C=f[s],k=f[s+1];C==="style"?qR(i,k):C==="dangerouslySetInnerHTML"?$R(i,k):C==="children"?nb(i,k):AI(i,C,k,m)}switch(a){case"input":hO(i,o);break;case"textarea":GR(i,o);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var K=o.value;K!=null?Yy(i,!!o.multiple,K,!1):I!==!!o.multiple&&(o.defaultValue!=null?Yy(i,!!o.multiple,o.defaultValue,!0):Yy(i,!!o.multiple,o.multiple?[]:"",!1))}i[cb]=o}catch(q){pl(n,n.return,q)}}break;case 6:if(tf(e,n),Yf(n),r&4){if(n.stateNode===null)throw Error(qn(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(q){pl(n,n.return,q)}}break;case 3:if(tf(e,n),Yf(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ab(e.containerInfo)}catch(q){pl(n,n.return,q)}break;case 4:tf(e,n),Yf(n);break;case 13:tf(e,n),Yf(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(WI=kl())),r&4&&H9(n);break;case 22:if(C=t!==null&&t.memoizedState!==null,n.mode&1?(kA=(m=kA)||C,tf(e,n),kA=m):tf(e,n),Yf(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!C&&n.mode&1)for(Rr=n,C=n.child;C!==null;){for(k=Rr=C;Rr!==null;){switch(I=Rr,K=I.child,I.tag){case 0:case 11:case 14:case 15:TC(4,I,I.return);break;case 1:Ty(I,I.return);var L=I.stateNode;if(typeof L.componentWillUnmount=="function"){r=I,t=I.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(q){pl(r,t,q)}}break;case 5:Ty(I,I.return);break;case 22:if(I.memoizedState!==null){X9(k);continue}}K!==null?(K.return=I,Rr=K):X9(k)}C=C.sibling}e:for(C=null,k=n;;){if(k.tag===5){if(C===null){C=k;try{i=k.stateNode,m?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=k.stateNode,f=k.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=YR("display",s))}catch(q){pl(n,n.return,q)}}}else if(k.tag===6){if(C===null)try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(q){pl(n,n.return,q)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===n)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===n)break e;for(;k.sibling===null;){if(k.return===null||k.return===n)break e;C===k&&(C=null),k=k.return}C===k&&(C=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:tf(e,n),Yf(n),r&4&&H9(n);break;case 21:break;default:tf(e,n),Yf(n)}}function Yf(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(_j(t)){var r=t;break e}t=t.return}throw Error(qn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nb(i,""),r.flags&=-33);var o=V9(n);YO(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=V9(n);$O(n,a,s);break;default:throw Error(qn(161))}}catch(f){pl(n,n.return,f)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function wZ(n,e,t){Rr=n,xj(n)}function xj(n,e,t){for(var r=(n.mode&1)!==0;Rr!==null;){var i=Rr,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||o3;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||kA;a=o3;var m=kA;if(o3=s,(kA=f)&&!m)for(Rr=i;Rr!==null;)s=Rr,f=s.child,s.tag===22&&s.memoizedState!==null?J9(i):f!==null?(f.return=s,Rr=f):J9(i);for(;o!==null;)Rr=o,xj(o),o=o.sibling;Rr=i,o3=a,kA=m}Z9(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Rr=o):Z9(n)}}function Z9(n){for(;Rr!==null;){var e=Rr;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kA||D5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kA)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:sf(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&K9(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}K9(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&t.focus();break;case"img":f.src&&(t.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var C=m.memoizedState;if(C!==null){var k=C.dehydrated;k!==null&&ab(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qn(163))}kA||e.flags&512&&QO(e)}catch(I){pl(e,e.return,I)}}if(e===n){Rr=null;break}if(t=e.sibling,t!==null){t.return=e.return,Rr=t;break}Rr=e.return}}function X9(n){for(;Rr!==null;){var e=Rr;if(e===n){Rr=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Rr=t;break}Rr=e.return}}function J9(n){for(;Rr!==null;){var e=Rr;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{D5(4,e)}catch(f){pl(e,t,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){pl(e,i,f)}}var o=e.return;try{QO(e)}catch(f){pl(e,o,f)}break;case 5:var s=e.return;try{QO(e)}catch(f){pl(e,s,f)}}}catch(f){pl(e,e.return,f)}if(e===n){Rr=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Rr=a;break}Rr=e.return}}var MZ=Math.ceil,$4=Cm.ReactCurrentDispatcher,zI=Cm.ReactCurrentOwner,ud=Cm.ReactCurrentBatchConfig,na=0,qu=null,Jl=null,oA=0,gh=0,Py=j0(0),Cu=0,gb=null,i1=0,L5=0,NI=0,PC=null,Fc=null,WI=0,Ev=1/0,em=null,Y4=!1,qO=null,w0=null,a3=!1,h0=null,q4=0,KC=0,VO=null,s4=-1,l4=0;function ac(){return na&6?kl():s4!==-1?s4:s4=kl()}function M0(n){return n.mode&1?na&2&&oA!==0?oA&-oA:lZ.transition!==null?(l4===0&&(l4=aU()),l4):(n=Ka,n!==0||(n=window.event,n=n===void 0?16:dU(n.type)),n):1}function mf(n,e,t,r){if(50<KC)throw KC=0,VO=null,Error(qn(185));Hb(n,t,r),(!(na&2)||n!==qu)&&(n===qu&&(!(na&2)&&(L5|=t),Cu===4&&u0(n,oA)),Nc(n,r),t===1&&na===0&&!(e.mode&1)&&(Ev=kl()+500,T5&&z0()))}function Nc(n,e){var t=n.callbackNode;lH(n,e);var r=k4(n,n===qu?oA:0);if(r===0)t!==null&&l9(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&l9(t),e===1)n.tag===0?sZ(eP.bind(null,n)):TU(eP.bind(null,n)),rZ(function(){!(na&6)&&z0()}),t=null;else{switch(sU(r)){case 1:t=pI;break;case 4:t=iU;break;case 16:t=I4;break;case 536870912:t=oU;break;default:t=I4}t=kj(t,wj.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function wj(n,e){if(s4=-1,l4=0,na&6)throw Error(qn(327));var t=n.callbackNode;if(Xy()&&n.callbackNode!==t)return null;var r=k4(n,n===qu?oA:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=V4(n,r);else{e=r;var i=na;na|=2;var o=Sj();(qu!==n||oA!==e)&&(em=null,Ev=kl()+500,Qg(n,e));do try{OZ();break}catch(a){Mj(n,a)}while(!0);OI(),$4.current=o,na=i,Jl!==null?e=0:(qu=null,oA=0,e=Cu)}if(e!==0){if(e===2&&(i=bO(n),i!==0&&(r=i,e=HO(n,i))),e===1)throw t=gb,Qg(n,0),u0(n,r),Nc(n,kl()),t;if(e===6)u0(n,r);else{if(i=n.current.alternate,!(r&30)&&!SZ(i)&&(e=V4(n,r),e===2&&(o=bO(n),o!==0&&(r=o,e=HO(n,o))),e===1))throw t=gb,Qg(n,0),u0(n,r),Nc(n,kl()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(qn(345));case 2:bg(n,Fc,em);break;case 3:if(u0(n,r),(r&130023424)===r&&(e=WI+500-kl(),10<e)){if(k4(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ac(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=IO(bg.bind(null,n,Fc,em),e);break}bg(n,Fc,em);break;case 4:if(u0(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-pf(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kl()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MZ(r/1960))-r,10<r){n.timeoutHandle=IO(bg.bind(null,n,Fc,em),r);break}bg(n,Fc,em);break;case 5:bg(n,Fc,em);break;default:throw Error(qn(329))}}}return Nc(n,kl()),n.callbackNode===t?wj.bind(null,n):null}function HO(n,e){var t=PC;return n.current.memoizedState.isDehydrated&&(Qg(n,e).flags|=256),n=V4(n,e),n!==2&&(e=Fc,Fc=t,e!==null&&ZO(e)),n}function ZO(n){Fc===null?Fc=n:Fc.push.apply(Fc,n)}function SZ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!yf(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function u0(n,e){for(e&=~NI,e&=~L5,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-pf(e),r=1<<t;n[t]=-1,e&=~r}}function eP(n){if(na&6)throw Error(qn(327));Xy();var e=k4(n,0);if(!(e&1))return Nc(n,kl()),null;var t=V4(n,e);if(n.tag!==0&&t===2){var r=bO(n);r!==0&&(e=r,t=HO(n,r))}if(t===1)throw t=gb,Qg(n,0),u0(n,e),Nc(n,kl()),t;if(t===6)throw Error(qn(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,bg(n,Fc,em),Nc(n,kl()),null}function GI(n,e){var t=na;na|=1;try{return n(e)}finally{na=t,na===0&&(Ev=kl()+500,T5&&z0())}}function o1(n){h0!==null&&h0.tag===0&&!(na&6)&&Xy();var e=na;na|=1;var t=ud.transition,r=Ka;try{if(ud.transition=null,Ka=1,n)return n()}finally{Ka=r,ud.transition=t,na=e,!(na&6)&&z0()}}function QI(){gh=Py.current,ws(Py)}function Qg(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,nZ(t)),Jl!==null)for(t=Jl.return;t!==null;){var r=t;switch(MI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&L4();break;case 3:Mv(),ws(jc),ws(TA),KI();break;case 5:PI(r);break;case 4:Mv();break;case 13:ws(Vs);break;case 19:ws(Vs);break;case 10:BI(r.type._context);break;case 22:case 23:QI()}t=t.return}if(qu=n,Jl=n=S0(n.current,null),oA=gh=e,Cu=0,gb=null,NI=L5=i1=0,Fc=PC=null,Dg!==null){for(e=0;e<Dg.length;e++)if(t=Dg[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}Dg=null}return n}function Mj(n,e){do{var t=Jl;try{if(OI(),i4.current=Q4,G4){for(var r=Xs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}G4=!1}if(r1=0,Qu=_u=Xs=null,kC=!1,fb=0,zI.current=null,t===null||t.return===null){Cu=1,gb=e,Jl=null;break}e:{var o=n,s=t.return,a=t,f=e;if(e=oA,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,C=a,k=C.tag;if(!(C.mode&1)&&(k===0||k===11||k===15)){var I=C.alternate;I?(C.updateQueue=I.updateQueue,C.memoizedState=I.memoizedState,C.lanes=I.lanes):(C.updateQueue=null,C.memoizedState=null)}var K=z9(s);if(K!==null){K.flags&=-257,N9(K,s,a,o,e),K.mode&1&&j9(o,m,e),e=K,f=m;var L=e.updateQueue;if(L===null){var q=new Set;q.add(f),e.updateQueue=q}else L.add(f);break e}else{if(!(e&1)){j9(o,m,e),$I();break e}f=Error(qn(426))}}else if(Ps&&a.mode&1){var X=z9(s);if(X!==null){!(X.flags&65536)&&(X.flags|=256),N9(X,s,a,o,e),SI(Sv(f,a));break e}}o=f=Sv(f,a),Cu!==4&&(Cu=2),PC===null?PC=[o]:PC.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var H=lj(o,f,e);P9(o,H);break e;case 1:a=f;var G=o.type,ee=o.stateNode;if(!(o.flags&128)&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(w0===null||!w0.has(ee)))){o.flags|=65536,e&=-e,o.lanes|=e;var ne=uj(o,a,e);P9(o,ne);break e}}o=o.return}while(o!==null)}Oj(t)}catch(se){e=se,Jl===t&&t!==null&&(Jl=t=t.return);continue}break}while(!0)}function Sj(){var n=$4.current;return $4.current=Q4,n===null?Q4:n}function $I(){(Cu===0||Cu===3||Cu===2)&&(Cu=4),qu===null||!(i1&268435455)&&!(L5&268435455)||u0(qu,oA)}function V4(n,e){var t=na;na|=2;var r=Sj();(qu!==n||oA!==e)&&(em=null,Qg(n,e));do try{EZ();break}catch(i){Mj(n,i)}while(!0);if(OI(),na=t,$4.current=r,Jl!==null)throw Error(qn(261));return qu=null,oA=0,Cu}function EZ(){for(;Jl!==null;)Ej(Jl)}function OZ(){for(;Jl!==null&&!JV();)Ej(Jl)}function Ej(n){var e=Ij(n.alternate,n,gh);n.memoizedProps=n.pendingProps,e===null?Oj(n):Jl=e,zI.current=null}function Oj(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=CZ(t,e),t!==null){t.flags&=32767,Jl=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Cu=6,Jl=null;return}}else if(t=_Z(t,e,gh),t!==null){Jl=t;return}if(e=e.sibling,e!==null){Jl=e;return}Jl=e=n}while(e!==null);Cu===0&&(Cu=5)}function bg(n,e,t){var r=Ka,i=ud.transition;try{ud.transition=null,Ka=1,BZ(n,e,t,r)}finally{ud.transition=i,Ka=r}return null}function BZ(n,e,t,r){do Xy();while(h0!==null);if(na&6)throw Error(qn(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(qn(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(uH(n,o),n===qu&&(Jl=qu=null,oA=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||a3||(a3=!0,kj(I4,function(){return Xy(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=ud.transition,ud.transition=null;var s=Ka;Ka=1;var a=na;na|=4,zI.current=null,xZ(n,t),bj(t,n),VH(OO),T4=!!EO,OO=EO=null,n.current=t,wZ(t),eH(),na=a,Ka=s,ud.transition=o}else n.current=t;if(a3&&(a3=!1,h0=n,q4=i),o=n.pendingLanes,o===0&&(w0=null),rH(t.stateNode),Nc(n,kl()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y4)throw Y4=!1,n=qO,qO=null,n;return q4&1&&n.tag!==0&&Xy(),o=n.pendingLanes,o&1?n===VO?KC++:(KC=0,VO=n):KC=0,z0(),null}function Xy(){if(h0!==null){var n=sU(q4),e=ud.transition,t=Ka;try{if(ud.transition=null,Ka=16>n?16:n,h0===null)var r=!1;else{if(n=h0,h0=null,q4=0,na&6)throw Error(qn(331));var i=na;for(na|=4,Rr=n.current;Rr!==null;){var o=Rr,s=o.child;if(Rr.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var m=a[f];for(Rr=m;Rr!==null;){var C=Rr;switch(C.tag){case 0:case 11:case 15:TC(8,C,o)}var k=C.child;if(k!==null)k.return=C,Rr=k;else for(;Rr!==null;){C=Rr;var I=C.sibling,K=C.return;if(vj(C),C===m){Rr=null;break}if(I!==null){I.return=K,Rr=I;break}Rr=K}}}var L=o.alternate;if(L!==null){var q=L.child;if(q!==null){L.child=null;do{var X=q.sibling;q.sibling=null,q=X}while(q!==null)}}Rr=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Rr=s;else e:for(;Rr!==null;){if(o=Rr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:TC(9,o,o.return)}var H=o.sibling;if(H!==null){H.return=o.return,Rr=H;break e}Rr=o.return}}var G=n.current;for(Rr=G;Rr!==null;){s=Rr;var ee=s.child;if(s.subtreeFlags&2064&&ee!==null)ee.return=s,Rr=ee;else e:for(s=G;Rr!==null;){if(a=Rr,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:D5(9,a)}}catch(se){pl(a,a.return,se)}if(a===s){Rr=null;break e}var ne=a.sibling;if(ne!==null){ne.return=a.return,Rr=ne;break e}Rr=a.return}}if(na=i,z0(),cp&&typeof cp.onPostCommitFiberRoot=="function")try{cp.onPostCommitFiberRoot(E5,n)}catch{}r=!0}return r}finally{Ka=t,ud.transition=e}}return!1}function tP(n,e,t){e=Sv(t,e),e=lj(n,e,1),n=x0(n,e,1),e=ac(),n!==null&&(Hb(n,1,e),Nc(n,e))}function pl(n,e,t){if(n.tag===3)tP(n,n,t);else for(;e!==null;){if(e.tag===3){tP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(w0===null||!w0.has(r))){n=Sv(t,n),n=uj(e,n,1),e=x0(e,n,1),n=ac(),e!==null&&(Hb(e,1,n),Nc(e,n));break}}e=e.return}}function IZ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ac(),n.pingedLanes|=n.suspendedLanes&t,qu===n&&(oA&t)===t&&(Cu===4||Cu===3&&(oA&130023424)===oA&&500>kl()-WI?Qg(n,0):NI|=t),Nc(n,e)}function Bj(n,e){e===0&&(n.mode&1?(e=Hx,Hx<<=1,!(Hx&130023424)&&(Hx=4194304)):e=1);var t=ac();n=ym(n,e),n!==null&&(Hb(n,e,t),Nc(n,t))}function kZ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Bj(n,t)}function TZ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(qn(314))}r!==null&&r.delete(e),Bj(n,t)}var Ij;Ij=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||jc.current)Uc=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Uc=!1,vZ(n,e,t);Uc=!!(n.flags&131072)}else Uc=!1,Ps&&e.flags&1048576&&PU(e,U4,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;a4(n,e),n=e.pendingProps;var i=bv(e,TA.current);Zy(e,t),i=LI(null,e,r,n,i,t);var o=FI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zc(r)?(o=!0,F4(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kI(e),i.updater=P5,e.stateNode=i,i._reactInternals=e,FO(e,r,n,t),e=jO(null,e,r,!0,o,t)):(e.tag=0,Ps&&o&&wI(e),tc(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(a4(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KZ(r),n=sf(r,n),i){case 0:e=UO(null,e,r,n,t);break e;case 1:e=Q9(null,e,r,n,t);break e;case 11:e=W9(null,e,r,n,t);break e;case 14:e=G9(null,e,r,sf(r.type,n),t);break e}throw Error(qn(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sf(r,i),UO(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sf(r,i),Q9(n,e,r,i,t);case 3:e:{if(dj(e),n===null)throw Error(qn(387));r=e.pendingProps,o=e.memoizedState,i=o.element,FU(n,e),N4(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Sv(Error(qn(423)),e),e=$9(n,e,r,t,i);break e}else if(r!==i){i=Sv(Error(qn(424)),e),e=$9(n,e,r,t,i);break e}else for(bh=b0(e.stateNode.containerInfo.firstChild),Mh=e,Ps=!0,df=null,t=zU(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(xv(),r===i){e=vm(n,e,t);break e}tc(n,e,r,t)}e=e.child}return e;case 5:return NU(e),n===null&&KO(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,BO(r,i)?s=null:o!==null&&BO(r,o)&&(e.flags|=32),hj(n,e),tc(n,e,s,t),e.child;case 6:return n===null&&KO(e),null;case 13:return fj(n,e,t);case 4:return TI(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=wv(e,null,r,t):tc(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sf(r,i),W9(n,e,r,i,t);case 7:return tc(n,e,e.pendingProps,t),e.child;case 8:return tc(n,e,e.pendingProps.children,t),e.child;case 12:return tc(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,fs(j4,r._currentValue),r._currentValue=s,o!==null)if(yf(o.value,s)){if(o.children===i.children&&!jc.current){e=vm(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Am(-1,t&-t),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var C=m.pending;C===null?f.next=f:(f.next=C.next,C.next=f),m.pending=f}}o.lanes|=t,f=o.alternate,f!==null&&(f.lanes|=t),DO(o.return,t,e),a.lanes|=t;break}f=f.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(qn(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),DO(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}tc(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zy(e,t),i=dd(i),r=r(i),e.flags|=1,tc(n,e,r,t),e.child;case 14:return r=e.type,i=sf(r,e.pendingProps),i=sf(r.type,i),G9(n,e,r,i,t);case 15:return Aj(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sf(r,i),a4(n,e),e.tag=1,zc(r)?(n=!0,F4(e)):n=!1,Zy(e,t),UU(e,r,i),FO(e,r,i,t),jO(null,e,r,!0,n,t);case 19:return pj(n,e,t);case 22:return cj(n,e,t)}throw Error(qn(156,e.tag))};function kj(n,e){return rU(n,e)}function PZ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ad(n,e,t,r){return new PZ(n,e,t,r)}function YI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KZ(n){if(typeof n=="function")return YI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===hI)return 11;if(n===dI)return 14}return 2}function S0(n,e){var t=n.alternate;return t===null?(t=ad(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function u4(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")YI(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case xy:return $g(t.children,i,o,e);case cI:s=8,i|=8;break;case sO:return n=ad(12,t,e,i|2),n.elementType=sO,n.lanes=o,n;case lO:return n=ad(13,t,e,i),n.elementType=lO,n.lanes=o,n;case uO:return n=ad(19,t,e,i),n.elementType=uO,n.lanes=o,n;case jR:return F5(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case RR:s=10;break e;case UR:s=9;break e;case hI:s=11;break e;case dI:s=14;break e;case r0:s=16,r=null;break e}throw Error(qn(130,n==null?n:typeof n,""))}return e=ad(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function $g(n,e,t,r){return n=ad(7,n,r,e),n.lanes=t,n}function F5(n,e,t,r){return n=ad(22,n,r,e),n.elementType=jR,n.lanes=t,n.stateNode={isHidden:!1},n}function mE(n,e,t){return n=ad(6,n,null,e),n.lanes=t,n}function gE(n,e,t){return e=ad(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function DZ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZS(0),this.expirationTimes=ZS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qI(n,e,t,r,i,o,s,a,f){return n=new DZ(n,e,t,a,f),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ad(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kI(o),n}function LZ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:by,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Tj(n){if(!n)return D0;n=n._reactInternals;e:{if(y1(n)!==n||n.tag!==1)throw Error(qn(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qn(171))}if(n.tag===1){var t=n.type;if(zc(t))return kU(n,t,e)}return e}function Pj(n,e,t,r,i,o,s,a,f){return n=qI(t,r,!0,n,i,o,s,a,f),n.context=Tj(null),t=n.current,r=ac(),i=M0(t),o=Am(r,i),o.callback=e??null,x0(t,o,i),n.current.lanes=i,Hb(n,i,r),Nc(n,r),n}function R5(n,e,t,r){var i=e.current,o=ac(),s=M0(i);return t=Tj(t),e.context===null?e.context=t:e.pendingContext=t,e=Am(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=x0(i,e,s),n!==null&&(mf(n,i,s,o),r4(n,i,s)),s}function H4(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function VI(n,e){nP(n,e),(n=n.alternate)&&nP(n,e)}function FZ(){return null}var Kj=typeof reportError=="function"?reportError:function(n){console.error(n)};function HI(n){this._internalRoot=n}U5.prototype.render=HI.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(qn(409));R5(n,e,null,null)};U5.prototype.unmount=HI.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;o1(function(){R5(null,n,null,null)}),e[gm]=null}};function U5(n){this._internalRoot=n}U5.prototype.unstable_scheduleHydration=function(n){if(n){var e=AU();n={blockedOn:null,target:n,priority:e};for(var t=0;t<l0.length&&e!==0&&e<l0[t].priority;t++);l0.splice(t,0,n),t===0&&hU(n)}};function ZI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function j5(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function rP(){}function RZ(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var m=H4(s);o.call(m)}}var s=Pj(e,r,n,0,null,!1,!1,"",rP);return n._reactRootContainer=s,n[gm]=s.current,ub(n.nodeType===8?n.parentNode:n),o1(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var m=H4(f);a.call(m)}}var f=qI(n,0,!1,null,null,!1,!1,"",rP);return n._reactRootContainer=f,n[gm]=f.current,ub(n.nodeType===8?n.parentNode:n),o1(function(){R5(e,f,t,r)}),f}function z5(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=H4(s);a.call(f)}}R5(e,s,n,i)}else s=RZ(t,e,n,i,r);return H4(s)}lU=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=cC(e.pendingLanes);t!==0&&(mI(e,t|1),Nc(e,kl()),!(na&6)&&(Ev=kl()+500,z0()))}break;case 13:o1(function(){var r=ym(n,1);if(r!==null){var i=ac();mf(r,n,1,i)}}),VI(n,1)}};gI=function(n){if(n.tag===13){var e=ym(n,134217728);if(e!==null){var t=ac();mf(e,n,134217728,t)}VI(n,134217728)}};uU=function(n){if(n.tag===13){var e=M0(n),t=ym(n,e);if(t!==null){var r=ac();mf(t,n,e,r)}VI(n,e)}};AU=function(){return Ka};cU=function(n,e){var t=Ka;try{return Ka=n,e()}finally{Ka=t}};vO=function(n,e,t){switch(e){case"input":if(hO(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=k5(r);if(!i)throw Error(qn(90));NR(r),hO(r,i)}}}break;case"textarea":GR(n,t);break;case"select":e=t.value,e!=null&&Yy(n,!!t.multiple,e,!1)}};ZR=GI;XR=o1;var UZ={usingClientEntryPoint:!1,Events:[Xb,Ey,k5,VR,HR,GI]},Q_={findFiberByHostInstance:Kg,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jZ={bundleType:Q_.bundleType,version:Q_.version,rendererPackageName:Q_.rendererPackageName,rendererConfig:Q_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cm.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tU(n),n===null?null:n.stateNode},findFiberByHostInstance:Q_.findFiberByHostInstance||FZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s3.isDisabled&&s3.supportsFiber)try{E5=s3.inject(jZ),cp=s3}catch{}}Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UZ;Oh.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZI(e))throw Error(qn(200));return LZ(n,e,null,t)};Oh.createRoot=function(n,e){if(!ZI(n))throw Error(qn(299));var t=!1,r="",i=Kj;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qI(n,1,!1,null,null,t,!1,r,i),n[gm]=e.current,ub(n.nodeType===8?n.parentNode:n),new HI(e)};Oh.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(qn(188)):(n=Object.keys(n).join(","),Error(qn(268,n)));return n=tU(e),n=n===null?null:n.stateNode,n};Oh.flushSync=function(n){return o1(n)};Oh.hydrate=function(n,e,t){if(!j5(e))throw Error(qn(200));return z5(null,n,e,!0,t)};Oh.hydrateRoot=function(n,e,t){if(!ZI(n))throw Error(qn(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=Kj;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Pj(e,null,n,1,t??null,i,!1,o,s),n[gm]=e.current,ub(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new U5(e)};Oh.render=function(n,e,t){if(!j5(e))throw Error(qn(200));return z5(null,n,e,!1,t)};Oh.unmountComponentAtNode=function(n){if(!j5(n))throw Error(qn(40));return n._reactRootContainer?(o1(function(){z5(null,null,n,!1,function(){n._reactRootContainer=null,n[gm]=null})}),!0):!1};Oh.unstable_batchedUpdates=GI;Oh.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!j5(t))throw Error(qn(200));if(n==null||n._reactInternals===void 0)throw Error(qn(38));return z5(n,e,t,!1,r)};Oh.version="18.2.0-next-9e3b772b8-20220608";function Dj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dj)}catch(n){console.error(n)}}Dj(),PR.exports=Oh;var N0=PR.exports;const zZ=Da(N0);var Lj,iP=N0;Lj=iP.createRoot,iP.hydrateRoot;const NZ="modulepreload",WZ=function(n){return"/maputnik/"+n},oP={},$_=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(f=>{if(f=WZ(f),f in oP)return;oP[f]=!0;const m=f.endsWith(".css"),C=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${C}`))return;const k=document.createElement("link");if(k.rel=m?"stylesheet":NZ,m||(k.as="script"),k.crossOrigin="",k.href=f,a&&k.setAttribute("nonce",a),document.head.appendChild(k),m)return new Promise((I,K)=>{k.addEventListener("load",I),k.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},GZ=(n,e,t)=>{const r=n[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},QZ={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Z4{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||QZ,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Z4(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Z4(this.logger,e)}}var lp=new Z4;class N5{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,f]=s;for(let m=0;m<f;m++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,f]=s;for(let m=0;m<f;m++)a.apply(a,[e,...r])})}}function Y_(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function aP(n){return n==null?"":""+n}function $Z(n,e,t){n.forEach(r=>{e[r]&&(t[r]=e[r])})}const YZ=/###/g;function DC(n,e,t){function r(a){return a&&a.indexOf("###")>-1?a.replace(YZ,"."):a}function i(){return!n||typeof n=="string"}const o=typeof e!="string"?e:e.split(".");let s=0;for(;s<o.length-1;){if(i())return{};const a=r(o[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return i()?{}:{obj:n,k:r(o[s])}}function sP(n,e,t){const{obj:r,k:i}=DC(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=DC(n,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=DC(n,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t}function qZ(n,e,t,r){const{obj:i,k:o}=DC(n,e,Object);i[o]=i[o]||[],i[o].push(t)}function X4(n,e){const{obj:t,k:r}=DC(n,e);if(t)return t[r]}function VZ(n,e,t){const r=X4(n,t);return r!==void 0?r:X4(e,t)}function Fj(n,e,t){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?typeof n[r]=="string"||n[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(n[r]=e[r]):Fj(n[r],e[r],t):n[r]=e[r]);return n}function q1(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var HZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ZZ(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>HZ[e]):n}class XZ{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const JZ=[" ",",","?","!",";"],eX=new XZ(20);function tX(n,e,t){e=e||"",t=t||"";const r=JZ.filter(s=>e.indexOf(s)<0&&t.indexOf(s)<0);if(r.length===0)return!0;const i=eX.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(n);if(!o){const s=n.indexOf(t);s>0&&!i.test(n.substring(0,s))&&(o=!0)}return o}function XO(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let i=n;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let f=o;f<r.length;++f)if(f!==o&&(a+=t),a+=r[f],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&f<r.length-1)continue;o+=f-o+1;break}i=s}return i}function J4(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class lP extends N5{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const f=X4(this.data,a);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),f||!s||typeof r!="string"?f:XO(this.data&&this.data[e]&&this.data[e][t],r,o)}addResource(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),sP(this.data,a,i),o.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let f=X4(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Fj(f,r,o):f={...f,...r},sP(this.data,a,f),s.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var Rj={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,t,r,i))}),e}};const uP={};class ew extends N5{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$Z(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=lp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!tX(e,r,i);if(s&&!a){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:o};const m=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(i)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),f=a[a.length-1],m=t.lng||this.language,C=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(C){const ne=t.nsSeparator||this.options.nsSeparator;return i?{res:`${f}${ne}${s}`,usedKey:s,exactUsedKey:s,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${ne}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:s}const k=this.resolve(e,t);let I=k&&k.res;const K=k&&k.usedKey||s,L=k&&k.exactUsedKey||s,q=Object.prototype.toString.apply(I),X=["[object Number]","[object Function]","[object RegExp]"],H=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject;if(G&&I&&(typeof I!="string"&&typeof I!="boolean"&&typeof I!="number")&&X.indexOf(q)<0&&!(typeof H=="string"&&Array.isArray(I))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(K,I,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(k.res=ne,k.usedParams=this.getUsedParamsDetails(t),k):ne}if(o){const ne=Array.isArray(I),se=ne?[]:{},Ae=ne?L:K;for(const V in I)if(Object.prototype.hasOwnProperty.call(I,V)){const re=`${Ae}${o}${V}`;se[V]=this.translate(re,{...t,joinArrays:!1,ns:a}),se[V]===re&&(se[V]=I[V])}I=se}}else if(G&&typeof H=="string"&&Array.isArray(I))I=I.join(H),I&&(I=this.extendTranslation(I,e,t,r));else{let ne=!1,se=!1;const Ae=t.count!==void 0&&typeof t.count!="string",V=ew.hasDefaultValue(t),re=Ae?this.pluralResolver.getSuffix(m,t.count,t):"",be=t.ordinal&&Ae?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",_e=Ae&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),Pe=_e&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${re}`]||t[`defaultValue${be}`]||t.defaultValue;!this.isValidLookup(I)&&V&&(ne=!0,I=Pe),this.isValidLookup(I)||(se=!0,I=s);const pe=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:I,Ye=V&&Pe!==I&&this.options.updateMissing;if(se||ne||Ye){if(this.logger.log(Ye?"updateKey":"missingKey",m,f,s,Ye?Pe:I),o){const ft=this.resolve(s,{...t,keySeparator:!1});ft&&ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[];const pt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pt&&pt[0])for(let ft=0;ft<pt.length;ft++)we.push(pt[ft]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(t.lng||this.language):we.push(t.lng||this.language);const wt=(ft,bt,$e)=>{const tt=V&&$e!==I?$e:pe;this.options.missingKeyHandler?this.options.missingKeyHandler(ft,f,bt,tt,Ye,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ft,f,bt,tt,Ye,t),this.emit("missingKey",ft,f,bt,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ae?we.forEach(ft=>{const bt=this.pluralResolver.getSuffixes(ft,t);_e&&t[`defaultValue${this.options.pluralSeparator}zero`]&&bt.indexOf(`${this.options.pluralSeparator}zero`)<0&&bt.push(`${this.options.pluralSeparator}zero`),bt.forEach($e=>{wt([ft],s+$e,t[`defaultValue${$e}`]||Pe)})}):wt(we,s,Pe))}I=this.extendTranslation(I,e,t,k,r),se&&I===s&&this.options.appendNamespaceToMissingKey&&(I=`${f}:${s}`),(se||ne)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${s}`:s,ne?I:void 0):I=this.options.parseMissingKeyHandler(I))}return i?(k.res=I,k.usedParams=this.getUsedParamsDetails(t),k):I}extendTranslation(e,t,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let C;if(m){const I=e.match(this.interpolator.nestingRegexp);C=I&&I.length}let k=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(k={...this.options.interpolation.defaultVariables,...k}),e=this.interpolator.interpolate(e,k,r.lng||this.language||i.usedLng,r),m){const I=e.match(this.interpolator.nestingRegexp),K=I&&I.length;C<K&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var I=arguments.length,K=new Array(I),L=0;L<I;L++)K[L]=arguments[L];return o&&o[0]===K[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${K[0]} in key: ${t[0]}`),null):s.translate(...K,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,f=typeof a=="string"?[a]:a;return e!=null&&f&&f.length&&r.applyPostProcessor!==!1&&(e=Rj.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof e=="string"&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),C=m.key;i=C;let k=m.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));const I=t.count!==void 0&&typeof t.count!="string",K=I&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),L=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",q=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);k.forEach(X=>{this.isValidLookup(r)||(a=X,!uP[`${q[0]}-${X}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(uP[`${q[0]}-${X}`]=!0,this.logger.warn(`key "${i}" for languages "${q.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),q.forEach(H=>{if(this.isValidLookup(r))return;s=H;const G=[C];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(G,C,H,X,t);else{let ne;I&&(ne=this.pluralResolver.getSuffix(H,t.count,t));const se=`${this.options.pluralSeparator}zero`,Ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(I&&(G.push(C+ne),t.ordinal&&ne.indexOf(Ae)===0&&G.push(C+ne.replace(Ae,this.options.pluralSeparator)),K&&G.push(C+se)),L){const V=`${C}${this.options.contextSeparator}${t.context}`;G.push(V),I&&(G.push(V+ne),t.ordinal&&ne.indexOf(Ae)===0&&G.push(V+ne.replace(Ae,this.options.pluralSeparator)),K&&G.push(V+se))}}let ee;for(;ee=G.pop();)this.isValidLookup(r)||(o=ee,r=this.getResource(H,X,ee,t))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of t)delete i[o]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}function yE(n){return n.charAt(0).toUpperCase()+n.slice(1)}class AP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=lp.create("languageUtils")}getScriptPartFromCode(e){if(e=J4(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=J4(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=yE(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=yE(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=yE(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let nX=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],rX={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const iX=["v1","v2","v3"],oX=["v4"],cP={zero:0,one:1,two:2,few:3,many:4,other:5};function aX(){const n={};return nX.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:rX[e.fc]}})}),n}class sX{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=lp.create("pluralResolver"),(!this.options.compatibilityJSON||oX.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=aX()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(J4(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>cP[i]-cP[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!iX.includes(this.options.compatibilityJSON)}}function hP(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=VZ(n,e,t);return!o&&i&&typeof t=="string"&&(o=XO(n,t,r),o===void 0&&(o=XO(e,t,r))),o}class lX{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lp.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:f,formatSeparator:m,unescapeSuffix:C,unescapePrefix:k,nestingPrefix:I,nestingPrefixEscaped:K,nestingSuffix:L,nestingSuffixEscaped:q,nestingOptionsSeparator:X,maxReplaces:H,alwaysFormat:G}=e.interpolation;this.escape=t!==void 0?t:ZZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?q1(o):s||"{{",this.suffix=a?q1(a):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=C?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":C||"",this.nestingPrefix=I?q1(I):K||q1("$t("),this.nestingSuffix=L?q1(L):q||q1(")"),this.nestingOptionsSeparator=X||",",this.maxReplaces=H||1e3,this.alwaysFormat=G!==void 0?G:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let o,s,a;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function m(L){return L.replace(/\$/g,"$$$$")}const C=L=>{if(L.indexOf(this.formatSeparator)<0){const G=hP(t,f,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(G,void 0,r,{...i,...t,interpolationkey:L}):G}const q=L.split(this.formatSeparator),X=q.shift().trim(),H=q.join(this.formatSeparator).trim();return this.format(hP(t,f,X,this.options.keySeparator,this.options.ignoreJSONStructure),H,r,{...i,...t,interpolationkey:X})};this.resetRegExp();const k=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,I=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>m(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?m(this.escape(L)):m(L)}].forEach(L=>{for(a=0;o=L.regex.exec(e);){const q=o[1].trim();if(s=C(q),s===void 0)if(typeof k=="function"){const H=k(e,o,i);s=typeof H=="string"?H:""}else if(i&&Object.prototype.hasOwnProperty.call(i,q))s="";else if(I){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${q} for interpolating ${e}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=aP(s));const X=L.safeValue(s);if(e=e.replace(o[0],X),I?(L.regex.lastIndex+=s.length,L.regex.lastIndex-=o[0].length):L.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function a(f,m){const C=this.nestingOptionsSeparator;if(f.indexOf(C)<0)return f;const k=f.split(new RegExp(`${C}[ ]*{`));let I=`{${k[1]}`;f=k[0],I=this.interpolate(I,s);const K=I.match(/'/g),L=I.match(/"/g);(K&&K.length%2===0&&!L||L.length%2!==0)&&(I=I.replace(/'/g,'"'));try{s=JSON.parse(I),m&&(s={...m,...s})}catch(q){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,q),`${f}${C}${I}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,f}for(;i=this.nestingRegexp.exec(e);){let f=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let m=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const C=i[1].split(this.formatSeparator).map(k=>k.trim());i[1]=C.shift(),f=C,m=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=aP(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),m&&(o=f.reduce((C,k)=>this.format(C,k,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}function uX(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...f]=s.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),C=a.trim();t[C]||(t[C]=m),m==="false"&&(t[C]=!1),m==="true"&&(t[C]=!0),isNaN(m)||(t[C]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}}function V1(n){const e={};return function(r,i,o){const s=i+JSON.stringify(o);let a=e[s];return a||(a=n(J4(i),o),e[s]=a),a(r)}}class AX{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lp.create("formatter"),this.options=e,this.formats={number:V1((t,r)=>{const i=new Intl.NumberFormat(t,{...r});return o=>i.format(o)}),currency:V1((t,r)=>{const i=new Intl.NumberFormat(t,{...r,style:"currency"});return o=>i.format(o)}),datetime:V1((t,r)=>{const i=new Intl.DateTimeFormat(t,{...r});return o=>i.format(o)}),relativetime:V1((t,r)=>{const i=new Intl.RelativeTimeFormat(t,{...r});return o=>i.format(o,r.range||"day")}),list:V1((t,r)=>{const i=new Intl.ListFormat(t,{...r});return o=>i.format(o)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=V1(t)}format(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((a,f)=>{const{formatName:m,formatOptions:C}=uX(f);if(this.formats[m]){let k=a;try{const I=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},K=I.locale||I.lng||i.locale||i.lng||r;k=this.formats[m](a,K,{...C,...i,...I})}catch(I){this.logger.warn(I)}return k}else this.logger.warn(`there was no format function for ${m}`);return a},e)}}function cX(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class hX extends N5{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=lp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,t,r,i){const o={},s={},a={},f={};return e.forEach(m=>{let C=!0;t.forEach(k=>{const I=`${m}|${k}`;!r.reload&&this.store.hasResourceBundle(m,k)?this.state[I]=2:this.state[I]<0||(this.state[I]===1?s[I]===void 0&&(s[I]=!0):(this.state[I]=1,C=!1,s[I]===void 0&&(s[I]=!0),o[I]===void 0&&(o[I]=!0),f[k]===void 0&&(f[k]=!0)))}),C||(a[m]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const a={};this.queue.forEach(f=>{qZ(f.loaded,[o],s),cX(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{a[m]||(a[m]={});const C=f.loaded[m];C.length&&C.forEach(k=>{a[m][k]===void 0&&(a[m][k]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(m,C)=>{if(this.readingCalls--,this.waitingReads.length>0){const k=this.waitingReads.shift();this.read(k.lng,k.ns,k.fcName,k.tried,k.wait,k.callback)}if(m&&C&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,o*2,s)},o);return}s(m,C)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(C=>a(null,C)).catch(a):a(null,m)}catch(m){a(m)}return}return f(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,t,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const f={...s,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let C;m.length===5?C=m(e,t,r,i,f):C=m(e,t,r,i),C&&typeof C.then=="function"?C.then(k=>a(null,k)).catch(a):a(null,C)}catch(C){a(C)}else m(e,t,r,i,a,f)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}function dP(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{t[i]=r[i]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function fP(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function l3(){}function dX(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class yb extends N5{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=fP(e),this.services={},this.logger=lp,this.modules={external:[]},dX(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=dP();this.options={...i,...this.options,...fP(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function o(C){return C?typeof C=="function"?new C:C:null}if(!this.options.isClone){this.modules.logger?lp.init(o(this.modules.logger),this.options):lp.init(null,this.options);let C;this.modules.formatter?C=this.modules.formatter:typeof Intl<"u"&&(C=AX);const k=new AP(this.options);this.store=new lP(this.options.resources,this.options);const I=this.services;I.logger=lp,I.resourceStore=this.store,I.languageUtils=k,I.pluralResolver=new sX(k,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),C&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(I.formatter=o(C),I.formatter.init(I,this.options),this.options.interpolation.format=I.formatter.format.bind(I.formatter)),I.interpolator=new lX(this.options),I.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},I.backendConnector=new hX(o(this.modules.backend),I.resourceStore,I,this.options),I.backendConnector.on("*",function(K){for(var L=arguments.length,q=new Array(L>1?L-1:0),X=1;X<L;X++)q[X-1]=arguments[X];e.emit(K,...q)}),this.modules.languageDetector&&(I.languageDetector=o(this.modules.languageDetector),I.languageDetector.init&&I.languageDetector.init(I,this.options.detection,this.options)),this.modules.i18nFormat&&(I.i18nFormat=o(this.modules.i18nFormat),I.i18nFormat.init&&I.i18nFormat.init(this)),this.translator=new ew(this.services,this.options),this.translator.on("*",function(K){for(var L=arguments.length,q=new Array(L>1?L-1:0),X=1;X<L;X++)q[X-1]=arguments[X];e.emit(K,...q)}),this.modules.external.forEach(K=>{K.init&&K.init(this)})}if(this.format=this.options.interpolation.format,r||(r=l3),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const C=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);C.length>0&&C[0]!=="dev"&&(this.options.lng=C[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(C=>{this[C]=function(){return e.store[C](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(C=>{this[C]=function(){return e.store[C](...arguments),e}});const f=Y_(),m=()=>{const C=(k,I)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(I),r(k,I)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return C(null,this.t.bind(this));this.changeLanguage(this.options.lng,C)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),f}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l3;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(m=>{m!=="cimode"&&o.indexOf(m)<0&&o.push(m)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>s(f)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,t,r){const i=Y_();return e||(e=this.languages),t||(t=this.options.ns),r||(r=l3),this.services.backendConnector.reload(e,t,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Rj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const i=Y_();this.emit("languageChanging",e);const o=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},s=(f,m)=>{m?(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},a=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const m=typeof f=="string"?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||o(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,C=>{s(C,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,r){var i=this;const o=function(s,a){let f;if(typeof a!="object"){for(var m=arguments.length,C=new Array(m>2?m-2:0),k=2;k<m;k++)C[k-2]=arguments[k];f=i.options.overloadTranslationOptionHandler([s,a].concat(C))}else f={...a};f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||o.keyPrefix);const I=i.options.keySeparator||".";let K;return f.keyPrefix&&Array.isArray(s)?K=s.map(L=>`${f.keyPrefix}${I}${L}`):K=f.keyPrefix?`${f.keyPrefix}${I}${s}`:s,i.t(K,f)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,f)=>{const m=this.services.backendConnector.state[`${a}|${f}`];return m===-1||m===2};if(t.precheck){const a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,t){const r=Y_();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Y_();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new AP(dP());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new yb(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l3;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new yb(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new lP(this.store.data,i),o.services.resourceStore=o.store),o.translator=new ew(o.services,i),o.translator.on("*",function(a){for(var f=arguments.length,m=new Array(f>1?f-1:0),C=1;C<f;C++)m[C-1]=arguments[C];o.emit(a,...m)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const lA=yb.createInstance();lA.createInstance=yb.createInstance;lA.createInstance;lA.dir;lA.init;lA.loadResources;lA.reloadResources;lA.use;lA.changeLanguage;lA.getFixedT;lA.t;lA.exists;lA.setDefaultNamespace;lA.hasLoadedNamespace;lA.loadNamespaces;lA.loadLanguages;const{slice:fX,forEach:pX}=[];function mX(n){return pX.call(fX.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const pP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gX=(n,e,t)=>{const r=t||{};r.path=r.path||"/";const i=encodeURIComponent(e);let o=`${n}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!pP.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!pP.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},mP={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=gX(n,encodeURIComponent(e),i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n){this.create(n,"",-1)}};var yX={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return mP.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&mP.create(t,n,r,i,o)}},vX={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const f=s[a].indexOf("=");f>0&&s[a].substring(0,f)===e&&(t=s[a].substring(f+1))}}return t}};let q_=null;const gP=()=>{if(q_!==null)return q_;try{q_=window!=="undefined"&&window.localStorage!==null;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{q_=!1}return q_};var _X={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&gP())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&gP()&&window.localStorage.setItem(t,n)}};let V_=null;const yP=()=>{if(V_!==null)return V_;try{V_=window!=="undefined"&&window.sessionStorage!==null;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{V_=!1}return V_};var CX={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&yP())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&yP()&&window.sessionStorage.setItem(t,n)}},bX={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},xX={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},wX={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},MX={name:"subdomain",lookup(n){var i,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};function SX(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n}}class Uj{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=mX(t,this.options||{},SX()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(yX),this.addDetector(vX),this.addDetector(_X),this.addDetector(CX),this.addDetector(bX),this.addDetector(xX),this.addDetector(wX),this.addDetector(MX)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e,t){t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Uj.type="languageDetector";var EX=function(e){return{type:"backend",init:function(r,i,o){},read:function(r,i,o){if(typeof e=="function"){if(e.length<3){try{var s=e(r,i);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}e(r,i,o);return}o(null,e&&e[r]&&e[r][i])}}},OX={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const BX=Da(OX);var IX=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function vP(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(BX[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=n.indexOf("-->");return{type:"comment",comment:r!==-1?n.slice(4,r):""}}for(var i=new RegExp(IX),o=null;(o=i.exec(n))!==null;)if(o[0].trim())if(o[1]){var s=o[1].trim(),a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),e.attrs[a[0]]=a[1],i.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var kX=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,TX=/^\s*$/,PX=Object.create(null);function jj(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var r=[];for(var i in t)r.push(i+'="'+t[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(jj,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var KX={parse:function(n,e){e||(e={}),e.components||(e.components=PX);var t,r=[],i=[],o=-1,s=!1;if(n.indexOf("<")!==0){var a=n.indexOf("<");r.push({type:"text",content:a===-1?n:n.substring(0,a)})}return n.replace(kX,function(f,m){if(s){if(f!=="</"+t.name+">")return;s=!1}var C,k=f.charAt(1)!=="/",I=f.startsWith("<!--"),K=m+f.length,L=n.charAt(K);if(I){var q=vP(f);return o<0?(r.push(q),r):((C=i[o]).children.push(q),r)}if(k&&(o++,(t=vP(f)).type==="tag"&&e.components[t.name]&&(t.type="component",s=!0),t.voidElement||s||!L||L==="<"||t.children.push({type:"text",content:n.slice(K,n.indexOf("<",K))}),o===0&&r.push(t),(C=i[o-1])&&C.children.push(t),i[o]=t),(!k||t.voidElement)&&(o>-1&&(t.voidElement||t.name===f.slice(2,-1))&&(o--,t=o===-1?r:i[o]),!s&&L!=="<"&&L)){C=o===-1?r:i[o].children;var X=n.indexOf("<",K),H=n.slice(K,X===-1?void 0:X);TX.test(H)&&(H=" "),(X>-1&&o+C.length>=0||H!==" ")&&C.push({type:"text",content:H})}}),r},stringify:function(n){return n.reduce(function(e,t){return e+jj("",t)},"")}};const A4=(...n)=>{console!=null&&console.warn&&(Sh(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),console.warn(...n))},_P={},tw=(...n)=>{Sh(n[0])&&_P[n[0]]||(Sh(n[0])&&(_P[n[0]]=new Date),A4(...n))},zj=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},CP=(n,e,t)=>{n.loadNamespaces(e,zj(n,t))},bP=(n,e,t,r)=>{Sh(t)&&(t=[t]),t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,zj(n,r))},DX=(n,e,t={})=>!e.languages||!e.languages.length?(tw("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),LX=n=>n.displayName||n.name||(Sh(n)&&n.length>0?n:"Unknown"),Sh=n=>typeof n=="string",Ky=n=>typeof n=="object"&&n!==null,FX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UX=n=>RX[n],jX=n=>n.replace(FX,UX);let JO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:jX};const zX=(n={})=>{JO={...JO,...n}},Nj=()=>JO;let Wj;const NX=n=>{Wj=n},XI=()=>Wj,vE=(n,e)=>{var r;if(!n)return!1;const t=((r=n.props)==null?void 0:r.children)??n.children;return e?t.length>0:!!t},_E=n=>{var t,r;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(r=n.props)!=null&&r.i18nIsDynamicList?Dy(e):e},WX=n=>Array.isArray(n)&&n.every($n.isValidElement),Dy=n=>Array.isArray(n)?n:[n],GX=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},Gj=(n,e)=>{if(!n)return"";let t="";const r=Dy(n),i=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((o,s)=>{if(Sh(o))t+=`${o}`;else if($n.isValidElement(o)){const{props:a,type:f}=o,m=Object.keys(a).length,C=i.indexOf(f)>-1,k=a.children;if(!k&&C&&!m)t+=`<${f}/>`;else if(!k&&(!C||m)||a.i18nIsDynamicList)t+=`<${s}></${s}>`;else if(C&&m===1&&Sh(k))t+=`<${f}>${k}</${f}>`;else{const I=Gj(k,e);t+=`<${s}>${I}</${s}>`}}else if(o===null)A4("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Ky(o)){const{format:a,...f}=o,m=Object.keys(f);if(m.length===1){const C=a?`${m[0]}, ${a}`:m[0];t+=`{{${C}}}`}else A4("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else A4("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),t},QX=(n,e,t,r,i,o)=>{if(e==="")return[];const s=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(s.map(X=>`<${X}`).join("|")).test(e);if(!n&&!a&&!o)return[e];const f={},m=X=>{Dy(X).forEach(G=>{Sh(G)||(vE(G)?m(_E(G)):Ky(G)&&!$n.isValidElement(G)&&Object.assign(f,G))})};m(n);const C=KX.parse(`<0>${e}</0>`),k={...f,...i},I=(X,H,G)=>{var se;const ee=_E(X),ne=L(ee,H.children,G);return WX(ee)&&ne.length===0||(se=X.props)!=null&&se.i18nIsDynamicList?ee:ne},K=(X,H,G,ee,ne)=>{X.dummy?(X.children=H,G.push($n.cloneElement(X,{key:ee},ne?void 0:H))):G.push(...$n.Children.map([X],se=>{const Ae={...se.props};return delete Ae.i18nIsDynamicList,$n.createElement(se.type,{...Ae,key:ee,ref:se.ref},ne?null:H)}))},L=(X,H,G)=>{const ee=Dy(X);return Dy(H).reduce((se,Ae,V)=>{var be,_e;const re=((_e=(be=Ae.children)==null?void 0:be[0])==null?void 0:_e.content)&&t.services.interpolator.interpolate(Ae.children[0].content,k,t.language);if(Ae.type==="tag"){let Pe=ee[parseInt(Ae.name,10)];G.length===1&&!Pe&&(Pe=G[0][Ae.name]),Pe||(Pe={});const Ue=Object.keys(Ae.attrs).length!==0?GX({props:Ae.attrs},Pe):Pe,pe=$n.isValidElement(Ue),Ye=pe&&vE(Ae,!0)&&!Ae.voidElement,we=a&&Ky(Ue)&&Ue.dummy&&!pe,pt=Ky(n)&&Object.hasOwnProperty.call(n,Ae.name);if(Sh(Ue)){const wt=t.services.interpolator.interpolate(Ue,k,t.language);se.push(wt)}else if(vE(Ue)||Ye){const wt=I(Ue,Ae,G);K(Ue,wt,se,V)}else if(we){const wt=L(ee,Ae.children,G);K(Ue,wt,se,V)}else if(Number.isNaN(parseFloat(Ae.name)))if(pt){const wt=I(Ue,Ae,G);K(Ue,wt,se,V,Ae.voidElement)}else if(r.transSupportBasicHtmlNodes&&s.indexOf(Ae.name)>-1)if(Ae.voidElement)se.push($n.createElement(Ae.name,{key:`${Ae.name}-${V}`}));else{const wt=L(ee,Ae.children,G);se.push($n.createElement(Ae.name,{key:`${Ae.name}-${V}`},wt))}else if(Ae.voidElement)se.push(`<${Ae.name} />`);else{const wt=L(ee,Ae.children,G);se.push(`<${Ae.name}>${wt}</${Ae.name}>`)}else if(Ky(Ue)&&!pe){const wt=Ae.children[0]?re:null;wt&&se.push(wt)}else K(Ue,re,se,V,Ae.children.length!==1||!re)}else if(Ae.type==="text"){const Pe=r.transWrapTextNodes,Ue=o?r.unescape(t.services.interpolator.interpolate(Ae.content,k,t.language)):t.services.interpolator.interpolate(Ae.content,k,t.language);Pe?se.push($n.createElement(Pe,{key:`${Ae.name}-${V}`},Ue)):se.push(Ue)}return se},[])},q=L([{dummy:!0,children:n||[]}],C,Dy(n||[]));return _E(q[0])};function $X({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o={},values:s,defaults:a,components:f,ns:m,i18n:C,t:k,shouldUnescape:I,...K}){var Pe,Ue,pe,Ye;const L=C||XI();if(!L)return tw("You will need to pass in an i18next instance by using i18nextReactModule"),n;const q=k||L.t.bind(L)||(we=>we),X={...Nj(),...(Pe=L.options)==null?void 0:Pe.react};let H=m||q.ns||((Ue=L.options)==null?void 0:Ue.defaultNS);H=Sh(H)?[H]:H||["translation"];const G=Gj(n,X),ee=a||G||X.transEmptyNodeValue||r,{hashTransKey:ne}=X,se=r||(ne?ne(G||ee):G||ee);(Ye=(pe=L.options)==null?void 0:pe.interpolation)!=null&&Ye.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...L.options.interpolation.defaultVariables}:{...L.options.interpolation.defaultVariables});const Ae=s||e!==void 0||!n?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},V={...o,context:i||o.context,count:e,...s,...Ae,defaultValue:ee,ns:H},re=se?q(se,V):ee;f&&Object.keys(f).forEach(we=>{const pt=f[we];if(typeof pt.type=="function"||!pt.props||!pt.props.children||re.indexOf(`${we}/>`)<0&&re.indexOf(`${we} />`)<0)return;function wt(){return $n.createElement($n.Fragment,null,pt)}f[we]=$n.createElement(wt)});const be=QX(f||n,re,L,X,V,I),_e=t??X.defaultTransParent;return _e?$n.createElement(_e,K,be):be}const YX={type:"3rdParty",init(n){zX(n.options.react),NX(n)}},Qj=$n.createContext();class qX{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{var r;(r=this.usedNamespaces)[t]??(r[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function E0({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o={},values:s,defaults:a,components:f,ns:m,i18n:C,t:k,shouldUnescape:I,...K}){var G;const{i18n:L,defaultNS:q}=$n.useContext(Qj)||{},X=C||L||XI(),H=k||(X==null?void 0:X.t.bind(X));return $X({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o,values:s,defaults:a,components:f,ns:m||(H==null?void 0:H.ns)||q||((G=X==null?void 0:X.options)==null?void 0:G.defaultNS),i18n:X,t:k,shouldUnescape:I,...K})}const VX=(n,e)=>{const t=$n.useRef();return $n.useEffect(()=>{t.current=n},[n,e]),t.current},$j=(n,e,t,r)=>n.getFixedT(e,t,r),HX=(n,e,t,r)=>$n.useCallback($j(n,e,t,r),[n,e,t,r]),ZX=(n,e={})=>{var ne,se,Ae,V;const{i18n:t}=e,{i18n:r,defaultNS:i}=$n.useContext(Qj)||{},o=t||r||XI();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new qX),!o){tw("You will need to pass in an i18next instance by using initReactI18next");const re=(_e,Pe)=>Sh(Pe)?Pe:Ky(Pe)&&Sh(Pe.defaultValue)?Pe.defaultValue:Array.isArray(_e)?_e[_e.length-1]:_e,be=[re,{},!1];return be.t=re,be.i18n={},be.ready=!1,be}(ne=o.options.react)!=null&&ne.wait&&tw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Nj(),...o.options.react,...e},{useSuspense:a,keyPrefix:f}=s;let m=i||((se=o.options)==null?void 0:se.defaultNS);m=Sh(m)?[m]:m||["translation"],(V=(Ae=o.reportNamespaces).addUsedNamespaces)==null||V.call(Ae,m);const C=(o.isInitialized||o.initializedStoreOnce)&&m.every(re=>DX(re,o,s)),k=HX(o,e.lng||null,s.nsMode==="fallback"?m:m[0],f),I=()=>k,K=()=>$j(o,e.lng||null,s.nsMode==="fallback"?m:m[0],f),[L,q]=$n.useState(I);let X=m.join();e.lng&&(X=`${e.lng}${X}`);const H=VX(X),G=$n.useRef(!0);$n.useEffect(()=>{const{bindI18n:re,bindI18nStore:be}=s;G.current=!0,!C&&!a&&(e.lng?bP(o,e.lng,m,()=>{G.current&&q(K)}):CP(o,m,()=>{G.current&&q(K)})),C&&H&&H!==X&&G.current&&q(K);const _e=()=>{G.current&&q(K)};return re&&(o==null||o.on(re,_e)),be&&(o==null||o.store.on(be,_e)),()=>{G.current=!1,o&&(re==null||re.split(" ").forEach(Pe=>o.off(Pe,_e))),be&&o&&be.split(" ").forEach(Pe=>o.store.off(Pe,_e))}},[o,X]),$n.useEffect(()=>{G.current&&C&&q(I)},[o,f,C]);const ee=[L,o,C];if(ee.t=L,ee.i18n=o,ee.ready=C,C||!C&&!a)return ee;throw new Promise(re=>{e.lng?bP(o,e.lng,m,()=>re()):CP(o,m,()=>re())})},qo=(n,e={})=>function(r){function i({forwardedRef:s,...a}){const[f,m,C]=ZX(n,{...a,keyPrefix:e.keyPrefix}),k={...a,t:f,i18n:m,tReady:C};return e.withRef&&s?k.ref=s:!e.withRef&&s&&(k.forwardedRef=s),$n.createElement(r,k)}i.displayName=`withI18nextTranslation(${LX(r)})`,i.WrappedComponent=r;const o=(s,a)=>$n.createElement(i,Object.assign({},s,{forwardedRef:a}));return e.withRef?$n.forwardRef(o):i};function cs(){var n="/home/runner/work/maputnik/maputnik/src/i18n.ts",e="88171a921c612dae0e59fda23a505c3fa25e6d2c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/i18n.ts",statementMap:{0:{start:{line:5,column:34},end:{line:12,column:1}},1:{start:{line:13,column:0},end:{line:39,column:3}},2:{start:{line:15,column:4},end:{line:17,column:5}},3:{start:{line:16,column:6},end:{line:16,column:16}},4:{start:{line:18,column:4},end:{line:18,column:514}},5:{start:{line:18,column:119},end:{line:18,column:158}},6:{start:{line:18,column:198},end:{line:18,column:237}},7:{start:{line:18,column:277},end:{line:18,column:316}},8:{start:{line:18,column:356},end:{line:18,column:395}},9:{start:{line:18,column:435},end:{line:18,column:474}},10:{start:{line:34,column:4},end:{line:36,column:5}},11:{start:{line:35,column:6},end:{line:35,column:13}},12:{start:{line:37,column:4},end:{line:37,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:21},end:{line:14,column:22}},loc:{start:{line:14,column:35},end:{line:19,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:18,column:113},end:{line:18,column:114}},loc:{start:{line:18,column:119},end:{line:18,column:158}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:18,column:192},end:{line:18,column:193}},loc:{start:{line:18,column:198},end:{line:18,column:237}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:18,column:271},end:{line:18,column:272}},loc:{start:{line:18,column:277},end:{line:18,column:316}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:18,column:350},end:{line:18,column:351}},loc:{start:{line:18,column:356},end:{line:18,column:395}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:18,column:429},end:{line:18,column:430}},loc:{start:{line:18,column:435},end:{line:18,column:474}},line:18},6:{name:"(anonymous_6)",decl:{start:{line:33,column:21},end:{line:33,column:22}},loc:{start:{line:33,column:41},end:{line:38,column:3}},line:33}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:17,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/i18n.ts"],names:[],mappings:"kFAAA,MAAA,CAAO,IAAU,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AACjB,MAAA,CAAO,QAAc,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AACrB,MAAA,CAAO,kBAAwB,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA,CAAA,OAAA,CAAA,CAAA;AAC/B,MAAA,CAAA,CAAA,CAAS,gBAAwB,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AAE1B,MAAA,CAAA,KAAA,CAAM,kBAAqB,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CAChC,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACR,CAAA,CAAA;AAEA,IACG,CAAA,GAAA,CAAI,QAAQ,CACZ,CAAA,GAAA,CAAA;AAAA,CACC,CAAA,kBAAA,CAAmB,CAAC,IAAA,CAAA,CAAc,EAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAC/C,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,SAAS,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAAA,CACV,CAAA,CAAA,CAAA,CAAA;AACA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,sfAA8B,CAAA;AAAA,CAAA,CACvC,CAAC,CAAA;AACH,CACC,CAAA,GAAA,CAAI,gBAAgB,CAAA,CACpB,IAAK,CAAA,CAAA;AAAA,CACJ,CAAA,aAAA,CAAA,CAAe,MAAO,CAAA,IAAA,CAAK,kBAAkB,CAAA,CAAA;AAAA,CAAA,CAC7C,YAAc,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,OAAA;AAAA,CAAA,CACd,WAAa,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CACb,aAAe,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CACb,WAAa,CAAA,CAAA,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AAAA,CACf,CAAA,CAAA,CAAA;AAAA,CAAA,CACA,WAAa,CAAA,CAAA,IAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,IAAA;AAAA,CAAA,CACb,WAAa,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA,GAAA,CAAA,iBAAA;AAAA,CAAA,CACb,iBAAmB,CAAA,CAAA,CAAC,IAAM,CAAA,CAAA,GAAA,CAAA,CAAK,GAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACrC,CAAI,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA;AAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AAAA,CAAQ,CAAA,CAAA,CAAA,CAAA;AAChC,CAAQ,CAAA,CAAA,CAAA,OAAA,CAAA,IAAA,CAAK,4BAA4B,GAAG,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAS,KAAK,IAAK,CAAA,CAAA,CAAA,CAAA,CAAI,CAAC,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,CACzE,CAAA,CAAA;AACF,CAAC,CAAA,CAAA;AAEH,MAAe,CAAA,OAAA,CAAA,IAAA,CAAA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"88171a921c612dae0e59fda23a505c3fa25e6d2c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return cs=function(){return s},s}cs();const Yj=(cs().s[0]++,{de:"Deutsch",en:"English",fr:"Franais",he:"",ja:"",zh:""});cs().s[1]++;lA.use(Uj).use(EX((n,e)=>(cs().f[0]++,cs().s[2]++,n==="en"?(cs().b[0][0]++,cs().s[3]++,{}):(cs().b[0][1]++,cs().s[4]++,GZ(Object.assign({"./locales/de/translation.json":()=>(cs().f[1]++,cs().s[5]++,$_(()=>import("./translation-Cx5K9xRA.js"),[])),"./locales/fr/translation.json":()=>(cs().f[2]++,cs().s[6]++,$_(()=>import("./translation-DMROeVlu.js"),[])),"./locales/he/translation.json":()=>(cs().f[3]++,cs().s[7]++,$_(()=>import("./translation-BwY-6-lI.js"),[])),"./locales/ja/translation.json":()=>(cs().f[4]++,cs().s[8]++,$_(()=>import("./translation-BeHok-3B.js"),[])),"./locales/zh/translation.json":()=>(cs().f[5]++,cs().s[9]++,$_(()=>import("./translation-Dkk3-oVs.js"),[]))}),`./locales/${n}/${e}.json`,4))))).use(YX).init({supportedLngs:Object.keys(Yj),keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},saveMissing:!0,fallbackLng:!1,missingKeyHandler:(n,e,t)=>{if(cs().f[6]++,cs().s[10]++,n[0]==="en"){cs().b[1][0]++,cs().s[11]++;return}else cs().b[1][1]++;cs().s[12]++,console.warn(`Missing translation for "${t}" in "${n.join(", ")}"`)}});var eB={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(s){if(s===void 0){console.error("Autobind error: No context provided.");return}var a=Object.getPrototypeOf(s);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(a),r.forEach(function(f){var m=Object.getOwnPropertyDescriptor(a,f);if(m===void 0){console.warn('Autobind: "'+f+'" method not found in class.');return}t.indexOf(f)!==-1||typeof m.value!="function"||Object.defineProperty(a,f,o(a,f,m))})}function o(s,a,f){var m=f.value;return{configurable:!0,get:function(){if(this===s||this.hasOwnProperty(a))return m;var k=m.bind(this);return Object.defineProperty(this,a,{value:k,configurable:!0,writable:!0}),k}}}n.exports=e.default})(eB,eB.exports);var XX=eB.exports,JX=XX;const eJ=Da(JX);var nw={exports:{}};nw.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",f="[object Date]",m="[object Error]",C="[object Function]",k="[object GeneratorFunction]",I="[object Map]",K="[object Number]",L="[object Object]",q="[object Promise]",X="[object RegExp]",H="[object Set]",G="[object String]",ee="[object Symbol]",ne="[object WeakMap]",se="[object ArrayBuffer]",Ae="[object DataView]",V="[object Float32Array]",re="[object Float64Array]",be="[object Int8Array]",_e="[object Int16Array]",Pe="[object Int32Array]",Ue="[object Uint8Array]",pe="[object Uint8ClampedArray]",Ye="[object Uint16Array]",we="[object Uint32Array]",pt=/[\\^$.*+?()[\]{}|]/g,wt=/\w*$/,ft=/^\[object .+?Constructor\]$/,bt=/^(?:0|[1-9]\d*)$/,$e={};$e[o]=$e[s]=$e[se]=$e[Ae]=$e[a]=$e[f]=$e[V]=$e[re]=$e[be]=$e[_e]=$e[Pe]=$e[I]=$e[K]=$e[L]=$e[X]=$e[H]=$e[G]=$e[ee]=$e[Ue]=$e[pe]=$e[Ye]=$e[we]=!0,$e[m]=$e[C]=$e[ne]=!1;var tt=typeof window=="object"&&window&&window.Object===Object&&window,nt=typeof self=="object"&&self&&self.Object===Object&&self,en=tt||nt||Function("return this")(),tn=e&&!e.nodeType&&e,St=tn&&!0&&n&&!n.nodeType&&n,Xt=St&&St.exports===tn;function Nt(N,he){return N.set(he[0],he[1]),N}function Fe(N,he){return N.add(he),N}function ye(N,he){for(var We=-1,Tt=N?N.length:0;++We<Tt&&he(N[We],We,N)!==!1;);return N}function ke(N,he){for(var We=-1,Tt=he.length,sr=N.length;++We<Tt;)N[sr+We]=he[We];return N}function Ge(N,he,We,Tt){for(var sr=-1,On=N?N.length:0;++sr<On;)We=he(We,N[sr],sr,N);return We}function st(N,he){for(var We=-1,Tt=Array(N);++We<N;)Tt[We]=he(We);return Tt}function ht(N,he){return N==null?void 0:N[he]}function Bt(N){var he=!1;if(N!=null&&typeof N.toString!="function")try{he=!!(N+"")}catch{}return he}function nn(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt,sr){We[++he]=[sr,Tt]}),We}function Gt(N,he){return function(We){return N(he(We))}}function zn(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt){We[++he]=Tt}),We}var rr=Array.prototype,xn=Function.prototype,Zn=Object.prototype,yr=en["__core-js_shared__"],Mr=function(){var N=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),Or=xn.toString,Jr=Zn.hasOwnProperty,_r=Zn.toString,gi=RegExp("^"+Or.call(Jr).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Xt?en.Buffer:void 0,te=en.Symbol,oe=en.Uint8Array,je=Gt(Object.getPrototypeOf,Object),Ct=Object.create,Lt=Zn.propertyIsEnumerable,jt=rr.splice,cr=Object.getOwnPropertySymbols,Re=Te?Te.isBuffer:void 0,Ee=Gt(Object.keys,Object),Me=di(en,"DataView"),p=di(en,"Map"),Ke=di(en,"Promise"),rt=di(en,"Set"),ot=di(en,"WeakMap"),yt=di(Object,"create"),lt=xo(Me),Rt=xo(p),Dt=xo(Ke),Ot=xo(rt),At=xo(ot),yn=te?te.prototype:void 0,gn=yn?yn.valueOf:void 0;function Yn(N){var he=-1,We=N?N.length:0;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Sr(){this.__data__=yt?yt(null):{}}function $t(N){return this.has(N)&&delete this.__data__[N]}function Kn(N){var he=this.__data__;if(yt){var We=he[N];return We===r?void 0:We}return Jr.call(he,N)?he[N]:void 0}function Wn(N){var he=this.__data__;return yt?he[N]!==void 0:Jr.call(he,N)}function Tr(N,he){var We=this.__data__;return We[N]=yt&&he===void 0?r:he,this}Yn.prototype.clear=Sr,Yn.prototype.delete=$t,Yn.prototype.get=Kn,Yn.prototype.has=Wn,Yn.prototype.set=Tr;function Jn(N){var he=-1,We=N?N.length:0;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Vn(){this.__data__=[]}function Tn(N){var he=this.__data__,We=La(he,N);if(We<0)return!1;var Tt=he.length-1;return We==Tt?he.pop():jt.call(he,We,1),!0}function _i(N){var he=this.__data__,We=La(he,N);return We<0?void 0:he[We][1]}function Zi(N){return La(this.__data__,N)>-1}function ei(N,he){var We=this.__data__,Tt=La(We,N);return Tt<0?We.push([N,he]):We[Tt][1]=he,this}Jn.prototype.clear=Vn,Jn.prototype.delete=Tn,Jn.prototype.get=_i,Jn.prototype.has=Zi,Jn.prototype.set=ei;function Wr(N){var he=-1,We=N?N.length:0;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Yr(){this.__data__={hash:new Yn,map:new(p||Jn),string:new Yn}}function Xi(N){return Ro(this,N).delete(N)}function hi(N){return Ro(this,N).get(N)}function ra(N){return Ro(this,N).has(N)}function Ca(N,he){return Ro(this,N).set(N,he),this}Wr.prototype.clear=Yr,Wr.prototype.delete=Xi,Wr.prototype.get=hi,Wr.prototype.has=ra,Wr.prototype.set=Ca;function ao(N){this.__data__=new Jn(N)}function Vo(){this.__data__=new Jn}function la(N){return this.__data__.delete(N)}function ba(N){return this.__data__.get(N)}function el(N){return this.__data__.has(N)}function Ss(N,he){var We=this.__data__;if(We instanceof Jn){var Tt=We.__data__;if(!p||Tt.length<t-1)return Tt.push([N,he]),this;We=this.__data__=new Wr(Tt)}return We.set(N,he),this}ao.prototype.clear=Vo,ao.prototype.delete=la,ao.prototype.get=ba,ao.prototype.has=el,ao.prototype.set=Ss;function li(N,he){var We=qa(N)||yl(N)?st(N.length,String):[],Tt=We.length,sr=!!Tt;for(var On in N)Jr.call(N,On)&&!(sr&&(On=="length"||tu(On,Tt)))&&We.push(On);return We}function ar(N,he,We){var Tt=N[he];(!(Jr.call(N,he)&&ya(Tt,We))||We===void 0&&!(he in N))&&(N[he]=We)}function La(N,he){for(var We=N.length;We--;)if(ya(N[We][0],he))return We;return-1}function Io(N,he){return N&&Gr(he,xi(he),N)}function ua(N,he,We,Tt,sr,On,Ur){var Vr;if(Tt&&(Vr=On?Tt(N,sr,On,Ur):Tt(N)),Vr!==void 0)return Vr;if(!Dr(N))return N;var er=qa(N);if(er){if(Vr=Aa(N),!he)return xa(N,Vr)}else{var lr=Es(N),ri=lr==C||lr==k;if(Gi(N))return En(N,he);if(lr==L||lr==o||ri&&!On){if(Bt(N))return On?N:{};if(Vr=so(ri?{}:N),!he)return ms(N,Io(Vr,N))}else{if(!$e[lr])return On?N:{};Vr=ca(N,lr,ua,he)}}Ur||(Ur=new ao);var lo=Ur.get(N);if(lo)return lo;if(Ur.set(N,Vr),!er)var wi=We?Mu(N):xi(N);return ye(wi||N,function(Er,Li){wi&&(Li=Er,Er=N[Li]),ar(Vr,Li,ua(Er,he,We,Tt,Li,N,Ur))}),Vr}function Oe(N){return Dr(N)?Ct(N):{}}function it(N,he,We){var Tt=he(N);return qa(N)?Tt:ke(Tt,We(N))}function rn(N){return _r.call(N)}function wn(N){if(!Dr(N)||Uo(N))return!1;var he=vl(N)||Bt(N)?gi:ft;return he.test(xo(N))}function Qt(N){if(!Os(N))return Ee(N);var he=[];for(var We in Object(N))Jr.call(N,We)&&We!="constructor"&&he.push(We);return he}function En(N,he){if(he)return N.slice();var We=new N.constructor(N.length);return N.copy(We),We}function ni(N){var he=new N.constructor(N.byteLength);return new oe(he).set(new oe(N)),he}function Ci(N,he){var We=he?ni(N.buffer):N.buffer;return new N.constructor(We,N.byteOffset,N.byteLength)}function Wi(N,he,We){var Tt=he?We(nn(N),!0):nn(N);return Ge(Tt,Nt,new N.constructor)}function Wo(N){var he=new N.constructor(N.source,wt.exec(N));return he.lastIndex=N.lastIndex,he}function Dl(N,he,We){var Tt=he?We(zn(N),!0):zn(N);return Ge(Tt,Fe,new N.constructor)}function Br(N){return gn?Object(gn.call(N)):{}}function qr(N,he){var We=he?ni(N.buffer):N.buffer;return new N.constructor(We,N.byteOffset,N.length)}function xa(N,he){var We=-1,Tt=N.length;for(he||(he=Array(Tt));++We<Tt;)he[We]=N[We];return he}function Gr(N,he,We,Tt){We||(We={});for(var sr=-1,On=he.length;++sr<On;){var Ur=he[sr],Vr=void 0;ar(We,Ur,Vr===void 0?N[Ur]:Vr)}return We}function ms(N,he){return Gr(N,ii(N),he)}function Mu(N){return it(N,xi,ii)}function Ro(N,he){var We=N.__data__;return Ll(he)?We[typeof he=="string"?"string":"hash"]:We.map}function di(N,he){var We=ht(N,he);return wn(We)?We:void 0}var ii=cr?Gt(cr,Object):Ji,Es=rn;(Me&&Es(new Me(new ArrayBuffer(1)))!=Ae||p&&Es(new p)!=I||Ke&&Es(Ke.resolve())!=q||rt&&Es(new rt)!=H||ot&&Es(new ot)!=ne)&&(Es=function(N){var he=_r.call(N),We=he==L?N.constructor:void 0,Tt=We?xo(We):void 0;if(Tt)switch(Tt){case lt:return Ae;case Rt:return I;case Dt:return q;case Ot:return H;case At:return ne}return he});function Aa(N){var he=N.length,We=N.constructor(he);return he&&typeof N[0]=="string"&&Jr.call(N,"index")&&(We.index=N.index,We.input=N.input),We}function so(N){return typeof N.constructor=="function"&&!Os(N)?Oe(je(N)):{}}function ca(N,he,We,Tt){var sr=N.constructor;switch(he){case se:return ni(N);case a:case f:return new sr(+N);case Ae:return Ci(N,Tt);case V:case re:case be:case _e:case Pe:case Ue:case pe:case Ye:case we:return qr(N,Tt);case I:return Wi(N,Tt,We);case K:case G:return new sr(N);case X:return Wo(N);case H:return Dl(N,Tt,We);case ee:return Br(N)}}function tu(N,he){return he=he??i,!!he&&(typeof N=="number"||bt.test(N))&&N>-1&&N%1==0&&N<he}function Ll(N){var he=typeof N;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?N!=="__proto__":N===null}function Uo(N){return!!Mr&&Mr in N}function Os(N){var he=N&&N.constructor,We=typeof he=="function"&&he.prototype||Zn;return N===We}function xo(N){if(N!=null){try{return Or.call(N)}catch{}try{return N+""}catch{}}return""}function wa(N){return ua(N,!0,!0)}function ya(N,he){return N===he||N!==N&&he!==he}function yl(N){return Vu(N)&&Jr.call(N,"callee")&&(!Lt.call(N,"callee")||_r.call(N)==o)}var qa=Array.isArray;function Rs(N){return N!=null&&bi(N.length)&&!vl(N)}function Vu(N){return Fl(N)&&Rs(N)}var Gi=Re||ki;function vl(N){var he=Dr(N)?_r.call(N):"";return he==C||he==k}function bi(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=i}function Dr(N){var he=typeof N;return!!N&&(he=="object"||he=="function")}function Fl(N){return!!N&&typeof N=="object"}function xi(N){return Rs(N)?li(N):Qt(N)}function Ji(){return[]}function ki(){return!1}n.exports=wa})(nw,nw.exports);var tJ=nw.exports;const xP=Da(tJ);var wP=NaN,nJ="[object Symbol]",rJ=/^\s+|\s+$/g,iJ=/^[-+]0x[0-9a-f]+$/i,oJ=/^0b[01]+$/i,aJ=/^0o[0-7]+$/i,sJ=parseInt,lJ=Object.prototype,uJ=lJ.toString;function AJ(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}function MP(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function cJ(n){return!!n&&typeof n=="object"}function hJ(n){return typeof n=="symbol"||cJ(n)&&uJ.call(n)==nJ}function CE(n){if(typeof n=="number")return n;if(hJ(n))return wP;if(MP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=MP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(rJ,"");var t=oJ.test(n);return t||aJ.test(n)?sJ(n.slice(2),t?2:8):iJ.test(n)?wP:+n}function dJ(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=CE(t),t=t===t?t:0),e!==void 0&&(e=CE(e),e=e===e?e:0),AJ(CE(n),e,t)}var fJ=dJ;const SP=Da(fJ);var qj={},W5={};W5.byteLength=gJ;W5.toByteArray=vJ;W5.fromByteArray=bJ;var op=[],Jh=[],pJ=typeof Uint8Array<"u"?Uint8Array:Array,bE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var H1=0,mJ=bE.length;H1<mJ;++H1)op[H1]=bE[H1],Jh[bE.charCodeAt(H1)]=H1;Jh[45]=62;Jh[95]=63;function Vj(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function gJ(n){var e=Vj(n),t=e[0],r=e[1];return(t+r)*3/4-r}function yJ(n,e,t){return(e+t)*3/4-t}function vJ(n){var e,t=Vj(n),r=t[0],i=t[1],o=new pJ(yJ(n,r,i)),s=0,a=i>0?r-4:r,f;for(f=0;f<a;f+=4)e=Jh[n.charCodeAt(f)]<<18|Jh[n.charCodeAt(f+1)]<<12|Jh[n.charCodeAt(f+2)]<<6|Jh[n.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Jh[n.charCodeAt(f)]<<2|Jh[n.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=Jh[n.charCodeAt(f)]<<10|Jh[n.charCodeAt(f+1)]<<4|Jh[n.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function _J(n){return op[n>>18&63]+op[n>>12&63]+op[n>>6&63]+op[n&63]}function CJ(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(_J(r));return i.join("")}function bJ(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(CJ(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(op[e>>2]+op[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(op[e>>10]+op[e>>4&63]+op[e<<2&63]+"=")),i.join("")}var G5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G5.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,f=(1<<a)-1,m=f>>1,C=-7,k=t?i-1:0,I=t?-1:1,K=n[e+k];for(k+=I,o=K&(1<<-C)-1,K>>=-C,C+=a;C>0;o=o*256+n[e+k],k+=I,C-=8);for(s=o&(1<<-C)-1,o>>=-C,C+=r;C>0;s=s*256+n[e+k],k+=I,C-=8);if(o===0)o=1-m;else{if(o===f)return s?NaN:(K?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-m}return(K?-1:1)*s*Math.pow(2,o-r)};G5.write=function(n,e,t,r,i,o){var s,a,f,m=o*8-i-1,C=(1<<m)-1,k=C>>1,I=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=r?0:o-1,L=r?1:-1,q=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=C):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+k>=1?e+=I/f:e+=I*Math.pow(2,1-k),e*f>=2&&(s++,f/=2),s+k>=C?(a=0,s=C):s+k>=1?(a=(e*f-1)*Math.pow(2,i),s=s+k):(a=e*Math.pow(2,k-1)*Math.pow(2,i),s=0));i>=8;n[t+K]=a&255,K+=L,a/=256,i-=8);for(s=s<<i|a,m+=i;m>0;n[t+K]=s&255,K+=L,s/=256,m-=8);n[t+K-L]|=q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=W5,t=G5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=G,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Te=new Uint8Array(1),te={foo:function(){return 42}};return Object.setPrototypeOf(te,Uint8Array.prototype),Object.setPrototypeOf(Te,te),Te.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(Te){if(Te>i)throw new RangeError('The value "'+Te+'" is invalid for option "size"');const te=new Uint8Array(Te);return Object.setPrototypeOf(te,a.prototype),te}function a(Te,te,oe){if(typeof Te=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(Te)}return f(Te,te,oe)}a.poolSize=8192;function f(Te,te,oe){if(typeof Te=="string")return I(Te,te);if(ArrayBuffer.isView(Te))return L(Te);if(Te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Te);if(Mr(Te,ArrayBuffer)||Te&&Mr(Te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Mr(Te,SharedArrayBuffer)||Te&&Mr(Te.buffer,SharedArrayBuffer)))return q(Te,te,oe);if(typeof Te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const je=Te.valueOf&&Te.valueOf();if(je!=null&&je!==Te)return a.from(je,te,oe);const Ct=X(Te);if(Ct)return Ct;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Te[Symbol.toPrimitive]=="function")return a.from(Te[Symbol.toPrimitive]("string"),te,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Te)}a.from=function(Te,te,oe){return f(Te,te,oe)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function m(Te){if(typeof Te!="number")throw new TypeError('"size" argument must be of type number');if(Te<0)throw new RangeError('The value "'+Te+'" is invalid for option "size"')}function C(Te,te,oe){return m(Te),Te<=0?s(Te):te!==void 0?typeof oe=="string"?s(Te).fill(te,oe):s(Te).fill(te):s(Te)}a.alloc=function(Te,te,oe){return C(Te,te,oe)};function k(Te){return m(Te),s(Te<0?0:H(Te)|0)}a.allocUnsafe=function(Te){return k(Te)},a.allocUnsafeSlow=function(Te){return k(Te)};function I(Te,te){if((typeof te!="string"||te==="")&&(te="utf8"),!a.isEncoding(te))throw new TypeError("Unknown encoding: "+te);const oe=ee(Te,te)|0;let je=s(oe);const Ct=je.write(Te,te);return Ct!==oe&&(je=je.slice(0,Ct)),je}function K(Te){const te=Te.length<0?0:H(Te.length)|0,oe=s(te);for(let je=0;je<te;je+=1)oe[je]=Te[je]&255;return oe}function L(Te){if(Mr(Te,Uint8Array)){const te=new Uint8Array(Te);return q(te.buffer,te.byteOffset,te.byteLength)}return K(Te)}function q(Te,te,oe){if(te<0||Te.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<te+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let je;return te===void 0&&oe===void 0?je=new Uint8Array(Te):oe===void 0?je=new Uint8Array(Te,te):je=new Uint8Array(Te,te,oe),Object.setPrototypeOf(je,a.prototype),je}function X(Te){if(a.isBuffer(Te)){const te=H(Te.length)|0,oe=s(te);return oe.length===0||Te.copy(oe,0,0,te),oe}if(Te.length!==void 0)return typeof Te.length!="number"||Or(Te.length)?s(0):K(Te);if(Te.type==="Buffer"&&Array.isArray(Te.data))return K(Te.data)}function H(Te){if(Te>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Te|0}function G(Te){return+Te!=Te&&(Te=0),a.alloc(+Te)}a.isBuffer=function(te){return te!=null&&te._isBuffer===!0&&te!==a.prototype},a.compare=function(te,oe){if(Mr(te,Uint8Array)&&(te=a.from(te,te.offset,te.byteLength)),Mr(oe,Uint8Array)&&(oe=a.from(oe,oe.offset,oe.byteLength)),!a.isBuffer(te)||!a.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===oe)return 0;let je=te.length,Ct=oe.length;for(let Lt=0,jt=Math.min(je,Ct);Lt<jt;++Lt)if(te[Lt]!==oe[Lt]){je=te[Lt],Ct=oe[Lt];break}return je<Ct?-1:Ct<je?1:0},a.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(te,oe){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(te.length===0)return a.alloc(0);let je;if(oe===void 0)for(oe=0,je=0;je<te.length;++je)oe+=te[je].length;const Ct=a.allocUnsafe(oe);let Lt=0;for(je=0;je<te.length;++je){let jt=te[je];if(Mr(jt,Uint8Array))Lt+jt.length>Ct.length?(a.isBuffer(jt)||(jt=a.from(jt)),jt.copy(Ct,Lt)):Uint8Array.prototype.set.call(Ct,jt,Lt);else if(a.isBuffer(jt))jt.copy(Ct,Lt);else throw new TypeError('"list" argument must be an Array of Buffers');Lt+=jt.length}return Ct};function ee(Te,te){if(a.isBuffer(Te))return Te.length;if(ArrayBuffer.isView(Te)||Mr(Te,ArrayBuffer))return Te.byteLength;if(typeof Te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Te);const oe=Te.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&oe===0)return 0;let Ct=!1;for(;;)switch(te){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return zn(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe*2;case"hex":return oe>>>1;case"base64":return Zn(Te).length;default:if(Ct)return je?-1:zn(Te).length;te=(""+te).toLowerCase(),Ct=!0}}a.byteLength=ee;function ne(Te,te,oe){let je=!1;if((te===void 0||te<0)&&(te=0),te>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0,te>>>=0,oe<=te))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return bt(this,te,oe);case"utf8":case"utf-8":return Ye(this,te,oe);case"ascii":return wt(this,te,oe);case"latin1":case"binary":return ft(this,te,oe);case"base64":return pe(this,te,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,te,oe);default:if(je)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),je=!0}}a.prototype._isBuffer=!0;function se(Te,te,oe){const je=Te[te];Te[te]=Te[oe],Te[oe]=je}a.prototype.swap16=function(){const te=this.length;if(te%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<te;oe+=2)se(this,oe,oe+1);return this},a.prototype.swap32=function(){const te=this.length;if(te%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<te;oe+=4)se(this,oe,oe+3),se(this,oe+1,oe+2);return this},a.prototype.swap64=function(){const te=this.length;if(te%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<te;oe+=8)se(this,oe,oe+7),se(this,oe+1,oe+6),se(this,oe+2,oe+5),se(this,oe+3,oe+4);return this},a.prototype.toString=function(){const te=this.length;return te===0?"":arguments.length===0?Ye(this,0,te):ne.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(te){if(!a.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te?!0:a.compare(this,te)===0},a.prototype.inspect=function(){let te="";const oe=n.INSPECT_MAX_BYTES;return te=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(te+=" ... "),"<Buffer "+te+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(te,oe,je,Ct,Lt){if(Mr(te,Uint8Array)&&(te=a.from(te,te.offset,te.byteLength)),!a.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(oe===void 0&&(oe=0),je===void 0&&(je=te?te.length:0),Ct===void 0&&(Ct=0),Lt===void 0&&(Lt=this.length),oe<0||je>te.length||Ct<0||Lt>this.length)throw new RangeError("out of range index");if(Ct>=Lt&&oe>=je)return 0;if(Ct>=Lt)return-1;if(oe>=je)return 1;if(oe>>>=0,je>>>=0,Ct>>>=0,Lt>>>=0,this===te)return 0;let jt=Lt-Ct,cr=je-oe;const Re=Math.min(jt,cr),Ee=this.slice(Ct,Lt),Me=te.slice(oe,je);for(let p=0;p<Re;++p)if(Ee[p]!==Me[p]){jt=Ee[p],cr=Me[p];break}return jt<cr?-1:cr<jt?1:0};function Ae(Te,te,oe,je,Ct){if(Te.length===0)return-1;if(typeof oe=="string"?(je=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,Or(oe)&&(oe=Ct?0:Te.length-1),oe<0&&(oe=Te.length+oe),oe>=Te.length){if(Ct)return-1;oe=Te.length-1}else if(oe<0)if(Ct)oe=0;else return-1;if(typeof te=="string"&&(te=a.from(te,je)),a.isBuffer(te))return te.length===0?-1:V(Te,te,oe,je,Ct);if(typeof te=="number")return te=te&255,typeof Uint8Array.prototype.indexOf=="function"?Ct?Uint8Array.prototype.indexOf.call(Te,te,oe):Uint8Array.prototype.lastIndexOf.call(Te,te,oe):V(Te,[te],oe,je,Ct);throw new TypeError("val must be string, number or Buffer")}function V(Te,te,oe,je,Ct){let Lt=1,jt=Te.length,cr=te.length;if(je!==void 0&&(je=String(je).toLowerCase(),je==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(Te.length<2||te.length<2)return-1;Lt=2,jt/=2,cr/=2,oe/=2}function Re(Me,p){return Lt===1?Me[p]:Me.readUInt16BE(p*Lt)}let Ee;if(Ct){let Me=-1;for(Ee=oe;Ee<jt;Ee++)if(Re(Te,Ee)===Re(te,Me===-1?0:Ee-Me)){if(Me===-1&&(Me=Ee),Ee-Me+1===cr)return Me*Lt}else Me!==-1&&(Ee-=Ee-Me),Me=-1}else for(oe+cr>jt&&(oe=jt-cr),Ee=oe;Ee>=0;Ee--){let Me=!0;for(let p=0;p<cr;p++)if(Re(Te,Ee+p)!==Re(te,p)){Me=!1;break}if(Me)return Ee}return-1}a.prototype.includes=function(te,oe,je){return this.indexOf(te,oe,je)!==-1},a.prototype.indexOf=function(te,oe,je){return Ae(this,te,oe,je,!0)},a.prototype.lastIndexOf=function(te,oe,je){return Ae(this,te,oe,je,!1)};function re(Te,te,oe,je){oe=Number(oe)||0;const Ct=Te.length-oe;je?(je=Number(je),je>Ct&&(je=Ct)):je=Ct;const Lt=te.length;je>Lt/2&&(je=Lt/2);let jt;for(jt=0;jt<je;++jt){const cr=parseInt(te.substr(jt*2,2),16);if(Or(cr))return jt;Te[oe+jt]=cr}return jt}function be(Te,te,oe,je){return yr(zn(te,Te.length-oe),Te,oe,je)}function _e(Te,te,oe,je){return yr(rr(te),Te,oe,je)}function Pe(Te,te,oe,je){return yr(Zn(te),Te,oe,je)}function Ue(Te,te,oe,je){return yr(xn(te,Te.length-oe),Te,oe,je)}a.prototype.write=function(te,oe,je,Ct){if(oe===void 0)Ct="utf8",je=this.length,oe=0;else if(je===void 0&&typeof oe=="string")Ct=oe,je=this.length,oe=0;else if(isFinite(oe))oe=oe>>>0,isFinite(je)?(je=je>>>0,Ct===void 0&&(Ct="utf8")):(Ct=je,je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Lt=this.length-oe;if((je===void 0||je>Lt)&&(je=Lt),te.length>0&&(je<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ct||(Ct="utf8");let jt=!1;for(;;)switch(Ct){case"hex":return re(this,te,oe,je);case"utf8":case"utf-8":return be(this,te,oe,je);case"ascii":case"latin1":case"binary":return _e(this,te,oe,je);case"base64":return Pe(this,te,oe,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,te,oe,je);default:if(jt)throw new TypeError("Unknown encoding: "+Ct);Ct=(""+Ct).toLowerCase(),jt=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(Te,te,oe){return te===0&&oe===Te.length?e.fromByteArray(Te):e.fromByteArray(Te.slice(te,oe))}function Ye(Te,te,oe){oe=Math.min(Te.length,oe);const je=[];let Ct=te;for(;Ct<oe;){const Lt=Te[Ct];let jt=null,cr=Lt>239?4:Lt>223?3:Lt>191?2:1;if(Ct+cr<=oe){let Re,Ee,Me,p;switch(cr){case 1:Lt<128&&(jt=Lt);break;case 2:Re=Te[Ct+1],(Re&192)===128&&(p=(Lt&31)<<6|Re&63,p>127&&(jt=p));break;case 3:Re=Te[Ct+1],Ee=Te[Ct+2],(Re&192)===128&&(Ee&192)===128&&(p=(Lt&15)<<12|(Re&63)<<6|Ee&63,p>2047&&(p<55296||p>57343)&&(jt=p));break;case 4:Re=Te[Ct+1],Ee=Te[Ct+2],Me=Te[Ct+3],(Re&192)===128&&(Ee&192)===128&&(Me&192)===128&&(p=(Lt&15)<<18|(Re&63)<<12|(Ee&63)<<6|Me&63,p>65535&&p<1114112&&(jt=p))}}jt===null?(jt=65533,cr=1):jt>65535&&(jt-=65536,je.push(jt>>>10&1023|55296),jt=56320|jt&1023),je.push(jt),Ct+=cr}return pt(je)}const we=4096;function pt(Te){const te=Te.length;if(te<=we)return String.fromCharCode.apply(String,Te);let oe="",je=0;for(;je<te;)oe+=String.fromCharCode.apply(String,Te.slice(je,je+=we));return oe}function wt(Te,te,oe){let je="";oe=Math.min(Te.length,oe);for(let Ct=te;Ct<oe;++Ct)je+=String.fromCharCode(Te[Ct]&127);return je}function ft(Te,te,oe){let je="";oe=Math.min(Te.length,oe);for(let Ct=te;Ct<oe;++Ct)je+=String.fromCharCode(Te[Ct]);return je}function bt(Te,te,oe){const je=Te.length;(!te||te<0)&&(te=0),(!oe||oe<0||oe>je)&&(oe=je);let Ct="";for(let Lt=te;Lt<oe;++Lt)Ct+=Jr[Te[Lt]];return Ct}function $e(Te,te,oe){const je=Te.slice(te,oe);let Ct="";for(let Lt=0;Lt<je.length-1;Lt+=2)Ct+=String.fromCharCode(je[Lt]+je[Lt+1]*256);return Ct}a.prototype.slice=function(te,oe){const je=this.length;te=~~te,oe=oe===void 0?je:~~oe,te<0?(te+=je,te<0&&(te=0)):te>je&&(te=je),oe<0?(oe+=je,oe<0&&(oe=0)):oe>je&&(oe=je),oe<te&&(oe=te);const Ct=this.subarray(te,oe);return Object.setPrototypeOf(Ct,a.prototype),Ct};function tt(Te,te,oe){if(Te%1!==0||Te<0)throw new RangeError("offset is not uint");if(Te+te>oe)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(te,oe,je){te=te>>>0,oe=oe>>>0,je||tt(te,oe,this.length);let Ct=this[te],Lt=1,jt=0;for(;++jt<oe&&(Lt*=256);)Ct+=this[te+jt]*Lt;return Ct},a.prototype.readUintBE=a.prototype.readUIntBE=function(te,oe,je){te=te>>>0,oe=oe>>>0,je||tt(te,oe,this.length);let Ct=this[te+--oe],Lt=1;for(;oe>0&&(Lt*=256);)Ct+=this[te+--oe]*Lt;return Ct},a.prototype.readUint8=a.prototype.readUInt8=function(te,oe){return te=te>>>0,oe||tt(te,1,this.length),this[te]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(te,oe){return te=te>>>0,oe||tt(te,2,this.length),this[te]|this[te+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(te,oe){return te=te>>>0,oe||tt(te,2,this.length),this[te]<<8|this[te+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+this[te+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),this[te]*16777216+(this[te+1]<<16|this[te+2]<<8|this[te+3])},a.prototype.readBigUInt64LE=_r(function(te){te=te>>>0,ht(te,"offset");const oe=this[te],je=this[te+7];(oe===void 0||je===void 0)&&Bt(te,this.length-8);const Ct=oe+this[++te]*2**8+this[++te]*2**16+this[++te]*2**24,Lt=this[++te]+this[++te]*2**8+this[++te]*2**16+je*2**24;return BigInt(Ct)+(BigInt(Lt)<<BigInt(32))}),a.prototype.readBigUInt64BE=_r(function(te){te=te>>>0,ht(te,"offset");const oe=this[te],je=this[te+7];(oe===void 0||je===void 0)&&Bt(te,this.length-8);const Ct=oe*2**24+this[++te]*2**16+this[++te]*2**8+this[++te],Lt=this[++te]*2**24+this[++te]*2**16+this[++te]*2**8+je;return(BigInt(Ct)<<BigInt(32))+BigInt(Lt)}),a.prototype.readIntLE=function(te,oe,je){te=te>>>0,oe=oe>>>0,je||tt(te,oe,this.length);let Ct=this[te],Lt=1,jt=0;for(;++jt<oe&&(Lt*=256);)Ct+=this[te+jt]*Lt;return Lt*=128,Ct>=Lt&&(Ct-=Math.pow(2,8*oe)),Ct},a.prototype.readIntBE=function(te,oe,je){te=te>>>0,oe=oe>>>0,je||tt(te,oe,this.length);let Ct=oe,Lt=1,jt=this[te+--Ct];for(;Ct>0&&(Lt*=256);)jt+=this[te+--Ct]*Lt;return Lt*=128,jt>=Lt&&(jt-=Math.pow(2,8*oe)),jt},a.prototype.readInt8=function(te,oe){return te=te>>>0,oe||tt(te,1,this.length),this[te]&128?(255-this[te]+1)*-1:this[te]},a.prototype.readInt16LE=function(te,oe){te=te>>>0,oe||tt(te,2,this.length);const je=this[te]|this[te+1]<<8;return je&32768?je|4294901760:je},a.prototype.readInt16BE=function(te,oe){te=te>>>0,oe||tt(te,2,this.length);const je=this[te+1]|this[te]<<8;return je&32768?je|4294901760:je},a.prototype.readInt32LE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},a.prototype.readInt32BE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},a.prototype.readBigInt64LE=_r(function(te){te=te>>>0,ht(te,"offset");const oe=this[te],je=this[te+7];(oe===void 0||je===void 0)&&Bt(te,this.length-8);const Ct=this[te+4]+this[te+5]*2**8+this[te+6]*2**16+(je<<24);return(BigInt(Ct)<<BigInt(32))+BigInt(oe+this[++te]*2**8+this[++te]*2**16+this[++te]*2**24)}),a.prototype.readBigInt64BE=_r(function(te){te=te>>>0,ht(te,"offset");const oe=this[te],je=this[te+7];(oe===void 0||je===void 0)&&Bt(te,this.length-8);const Ct=(oe<<24)+this[++te]*2**16+this[++te]*2**8+this[++te];return(BigInt(Ct)<<BigInt(32))+BigInt(this[++te]*2**24+this[++te]*2**16+this[++te]*2**8+je)}),a.prototype.readFloatLE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),t.read(this,te,!0,23,4)},a.prototype.readFloatBE=function(te,oe){return te=te>>>0,oe||tt(te,4,this.length),t.read(this,te,!1,23,4)},a.prototype.readDoubleLE=function(te,oe){return te=te>>>0,oe||tt(te,8,this.length),t.read(this,te,!0,52,8)},a.prototype.readDoubleBE=function(te,oe){return te=te>>>0,oe||tt(te,8,this.length),t.read(this,te,!1,52,8)};function nt(Te,te,oe,je,Ct,Lt){if(!a.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Ct||te<Lt)throw new RangeError('"value" argument is out of bounds');if(oe+je>Te.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(te,oe,je,Ct){if(te=+te,oe=oe>>>0,je=je>>>0,!Ct){const cr=Math.pow(2,8*je)-1;nt(this,te,oe,je,cr,0)}let Lt=1,jt=0;for(this[oe]=te&255;++jt<je&&(Lt*=256);)this[oe+jt]=te/Lt&255;return oe+je},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(te,oe,je,Ct){if(te=+te,oe=oe>>>0,je=je>>>0,!Ct){const cr=Math.pow(2,8*je)-1;nt(this,te,oe,je,cr,0)}let Lt=je-1,jt=1;for(this[oe+Lt]=te&255;--Lt>=0&&(jt*=256);)this[oe+Lt]=te/jt&255;return oe+je},a.prototype.writeUint8=a.prototype.writeUInt8=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,1,255,0),this[oe]=te&255,oe+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,2,65535,0),this[oe]=te&255,this[oe+1]=te>>>8,oe+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,2,65535,0),this[oe]=te>>>8,this[oe+1]=te&255,oe+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,4,4294967295,0),this[oe+3]=te>>>24,this[oe+2]=te>>>16,this[oe+1]=te>>>8,this[oe]=te&255,oe+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,4,4294967295,0),this[oe]=te>>>24,this[oe+1]=te>>>16,this[oe+2]=te>>>8,this[oe+3]=te&255,oe+4};function en(Te,te,oe,je,Ct){st(te,je,Ct,Te,oe,7);let Lt=Number(te&BigInt(4294967295));Te[oe++]=Lt,Lt=Lt>>8,Te[oe++]=Lt,Lt=Lt>>8,Te[oe++]=Lt,Lt=Lt>>8,Te[oe++]=Lt;let jt=Number(te>>BigInt(32)&BigInt(4294967295));return Te[oe++]=jt,jt=jt>>8,Te[oe++]=jt,jt=jt>>8,Te[oe++]=jt,jt=jt>>8,Te[oe++]=jt,oe}function tn(Te,te,oe,je,Ct){st(te,je,Ct,Te,oe,7);let Lt=Number(te&BigInt(4294967295));Te[oe+7]=Lt,Lt=Lt>>8,Te[oe+6]=Lt,Lt=Lt>>8,Te[oe+5]=Lt,Lt=Lt>>8,Te[oe+4]=Lt;let jt=Number(te>>BigInt(32)&BigInt(4294967295));return Te[oe+3]=jt,jt=jt>>8,Te[oe+2]=jt,jt=jt>>8,Te[oe+1]=jt,jt=jt>>8,Te[oe]=jt,oe+8}a.prototype.writeBigUInt64LE=_r(function(te,oe=0){return en(this,te,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_r(function(te,oe=0){return tn(this,te,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(te,oe,je,Ct){if(te=+te,oe=oe>>>0,!Ct){const Re=Math.pow(2,8*je-1);nt(this,te,oe,je,Re-1,-Re)}let Lt=0,jt=1,cr=0;for(this[oe]=te&255;++Lt<je&&(jt*=256);)te<0&&cr===0&&this[oe+Lt-1]!==0&&(cr=1),this[oe+Lt]=(te/jt>>0)-cr&255;return oe+je},a.prototype.writeIntBE=function(te,oe,je,Ct){if(te=+te,oe=oe>>>0,!Ct){const Re=Math.pow(2,8*je-1);nt(this,te,oe,je,Re-1,-Re)}let Lt=je-1,jt=1,cr=0;for(this[oe+Lt]=te&255;--Lt>=0&&(jt*=256);)te<0&&cr===0&&this[oe+Lt+1]!==0&&(cr=1),this[oe+Lt]=(te/jt>>0)-cr&255;return oe+je},a.prototype.writeInt8=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,1,127,-128),te<0&&(te=255+te+1),this[oe]=te&255,oe+1},a.prototype.writeInt16LE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,2,32767,-32768),this[oe]=te&255,this[oe+1]=te>>>8,oe+2},a.prototype.writeInt16BE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,2,32767,-32768),this[oe]=te>>>8,this[oe+1]=te&255,oe+2},a.prototype.writeInt32LE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,4,2147483647,-2147483648),this[oe]=te&255,this[oe+1]=te>>>8,this[oe+2]=te>>>16,this[oe+3]=te>>>24,oe+4},a.prototype.writeInt32BE=function(te,oe,je){return te=+te,oe=oe>>>0,je||nt(this,te,oe,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),this[oe]=te>>>24,this[oe+1]=te>>>16,this[oe+2]=te>>>8,this[oe+3]=te&255,oe+4},a.prototype.writeBigInt64LE=_r(function(te,oe=0){return en(this,te,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_r(function(te,oe=0){return tn(this,te,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function St(Te,te,oe,je,Ct,Lt){if(oe+je>Te.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Xt(Te,te,oe,je,Ct){return te=+te,oe=oe>>>0,Ct||St(Te,te,oe,4),t.write(Te,te,oe,je,23,4),oe+4}a.prototype.writeFloatLE=function(te,oe,je){return Xt(this,te,oe,!0,je)},a.prototype.writeFloatBE=function(te,oe,je){return Xt(this,te,oe,!1,je)};function Nt(Te,te,oe,je,Ct){return te=+te,oe=oe>>>0,Ct||St(Te,te,oe,8),t.write(Te,te,oe,je,52,8),oe+8}a.prototype.writeDoubleLE=function(te,oe,je){return Nt(this,te,oe,!0,je)},a.prototype.writeDoubleBE=function(te,oe,je){return Nt(this,te,oe,!1,je)},a.prototype.copy=function(te,oe,je,Ct){if(!a.isBuffer(te))throw new TypeError("argument should be a Buffer");if(je||(je=0),!Ct&&Ct!==0&&(Ct=this.length),oe>=te.length&&(oe=te.length),oe||(oe=0),Ct>0&&Ct<je&&(Ct=je),Ct===je||te.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(je<0||je>=this.length)throw new RangeError("Index out of range");if(Ct<0)throw new RangeError("sourceEnd out of bounds");Ct>this.length&&(Ct=this.length),te.length-oe<Ct-je&&(Ct=te.length-oe+je);const Lt=Ct-je;return this===te&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,je,Ct):Uint8Array.prototype.set.call(te,this.subarray(je,Ct),oe),Lt},a.prototype.fill=function(te,oe,je,Ct){if(typeof te=="string"){if(typeof oe=="string"?(Ct=oe,oe=0,je=this.length):typeof je=="string"&&(Ct=je,je=this.length),Ct!==void 0&&typeof Ct!="string")throw new TypeError("encoding must be a string");if(typeof Ct=="string"&&!a.isEncoding(Ct))throw new TypeError("Unknown encoding: "+Ct);if(te.length===1){const jt=te.charCodeAt(0);(Ct==="utf8"&&jt<128||Ct==="latin1")&&(te=jt)}}else typeof te=="number"?te=te&255:typeof te=="boolean"&&(te=Number(te));if(oe<0||this.length<oe||this.length<je)throw new RangeError("Out of range index");if(je<=oe)return this;oe=oe>>>0,je=je===void 0?this.length:je>>>0,te||(te=0);let Lt;if(typeof te=="number")for(Lt=oe;Lt<je;++Lt)this[Lt]=te;else{const jt=a.isBuffer(te)?te:a.from(te,Ct),cr=jt.length;if(cr===0)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Lt=0;Lt<je-oe;++Lt)this[Lt+oe]=jt[Lt%cr]}return this};const Fe={};function ye(Te,te,oe){Fe[Te]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:te.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Te}]`,this.stack,delete this.name}get code(){return Te}set code(Ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ct,writable:!0})}toString(){return`${this.name} [${Te}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(Te){return Te?`${Te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(Te,te){return`The "${Te}" argument must be of type number. Received type ${typeof te}`},TypeError),ye("ERR_OUT_OF_RANGE",function(Te,te,oe){let je=`The value of "${Te}" is out of range.`,Ct=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?Ct=ke(String(oe)):typeof oe=="bigint"&&(Ct=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(Ct=ke(Ct)),Ct+="n"),je+=` It must be ${te}. Received ${Ct}`,je},RangeError);function ke(Te){let te="",oe=Te.length;const je=Te[0]==="-"?1:0;for(;oe>=je+4;oe-=3)te=`_${Te.slice(oe-3,oe)}${te}`;return`${Te.slice(0,oe)}${te}`}function Ge(Te,te,oe){ht(te,"offset"),(Te[te]===void 0||Te[te+oe]===void 0)&&Bt(te,Te.length-(oe+1))}function st(Te,te,oe,je,Ct,Lt){if(Te>oe||Te<te){const jt=typeof te=="bigint"?"n":"";let cr;throw te===0||te===BigInt(0)?cr=`>= 0${jt} and < 2${jt} ** ${(Lt+1)*8}${jt}`:cr=`>= -(2${jt} ** ${(Lt+1)*8-1}${jt}) and < 2 ** ${(Lt+1)*8-1}${jt}`,new Fe.ERR_OUT_OF_RANGE("value",cr,Te)}Ge(je,Ct,Lt)}function ht(Te,te){if(typeof Te!="number")throw new Fe.ERR_INVALID_ARG_TYPE(te,"number",Te)}function Bt(Te,te,oe){throw Math.floor(Te)!==Te?(ht(Te,oe),new Fe.ERR_OUT_OF_RANGE("offset","an integer",Te)):te<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${te}`,Te)}const nn=/[^+/0-9A-Za-z-_]/g;function Gt(Te){if(Te=Te.split("=")[0],Te=Te.trim().replace(nn,""),Te.length<2)return"";for(;Te.length%4!==0;)Te=Te+"=";return Te}function zn(Te,te){te=te||1/0;let oe;const je=Te.length;let Ct=null;const Lt=[];for(let jt=0;jt<je;++jt){if(oe=Te.charCodeAt(jt),oe>55295&&oe<57344){if(!Ct){if(oe>56319){(te-=3)>-1&&Lt.push(239,191,189);continue}else if(jt+1===je){(te-=3)>-1&&Lt.push(239,191,189);continue}Ct=oe;continue}if(oe<56320){(te-=3)>-1&&Lt.push(239,191,189),Ct=oe;continue}oe=(Ct-55296<<10|oe-56320)+65536}else Ct&&(te-=3)>-1&&Lt.push(239,191,189);if(Ct=null,oe<128){if((te-=1)<0)break;Lt.push(oe)}else if(oe<2048){if((te-=2)<0)break;Lt.push(oe>>6|192,oe&63|128)}else if(oe<65536){if((te-=3)<0)break;Lt.push(oe>>12|224,oe>>6&63|128,oe&63|128)}else if(oe<1114112){if((te-=4)<0)break;Lt.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,oe&63|128)}else throw new Error("Invalid code point")}return Lt}function rr(Te){const te=[];for(let oe=0;oe<Te.length;++oe)te.push(Te.charCodeAt(oe)&255);return te}function xn(Te,te){let oe,je,Ct;const Lt=[];for(let jt=0;jt<Te.length&&!((te-=2)<0);++jt)oe=Te.charCodeAt(jt),je=oe>>8,Ct=oe%256,Lt.push(Ct),Lt.push(je);return Lt}function Zn(Te){return e.toByteArray(Gt(Te))}function yr(Te,te,oe,je){let Ct;for(Ct=0;Ct<je&&!(Ct+oe>=te.length||Ct>=Te.length);++Ct)te[Ct+oe]=Te[Ct];return Ct}function Mr(Te,te){return Te instanceof te||Te!=null&&Te.constructor!=null&&Te.constructor.name!=null&&Te.constructor.name===te.name}function Or(Te){return Te!==Te}const Jr=function(){const Te="0123456789abcdef",te=new Array(256);for(let oe=0;oe<16;++oe){const je=oe*16;for(let Ct=0;Ct<16;++Ct)te[je+Ct]=Te[oe]+Te[Ct]}return te}();function _r(Te){return typeof BigInt>"u"?gi:Te}function gi(){throw new Error("BigInt not supported")}})(qj);const xJ=Da(qj);var wJ="Expected a function",Hj="__lodash_hash_undefined__",Zj=1/0,MJ="[object Function]",SJ="[object GeneratorFunction]",EJ="[object Symbol]",OJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BJ=/^\w*$/,IJ=/^\./,kJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TJ=/[\\^$.*+?()[\]{}|]/g,PJ=/\\(\\)?/g,KJ=/^\[object .+?Constructor\]$/,DJ=typeof window=="object"&&window&&window.Object===Object&&window,LJ=typeof self=="object"&&self&&self.Object===Object&&self,JI=DJ||LJ||Function("return this")();function FJ(n,e){return n==null?void 0:n[e]}function RJ(n){var e=!1;if(n!=null&&typeof n.toString!="function")try{e=!!(n+"")}catch{}return e}var UJ=Array.prototype,jJ=Function.prototype,Xj=Object.prototype,xE=JI["__core-js_shared__"],EP=function(){var n=/[^.]+$/.exec(xE&&xE.keys&&xE.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Jj=jJ.toString,e7=Xj.hasOwnProperty,ez=Xj.toString,zJ=RegExp("^"+Jj.call(e7).replace(TJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),OP=JI.Symbol,NJ=UJ.splice,WJ=tz(JI,"Map"),vb=tz(Object,"create"),BP=OP?OP.prototype:void 0,IP=BP?BP.toString:void 0;function a1(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function GJ(){this.__data__=vb?vb(null):{}}function QJ(n){return this.has(n)&&delete this.__data__[n]}function $J(n){var e=this.__data__;if(vb){var t=e[n];return t===Hj?void 0:t}return e7.call(e,n)?e[n]:void 0}function YJ(n){var e=this.__data__;return vb?e[n]!==void 0:e7.call(e,n)}function qJ(n,e){var t=this.__data__;return t[n]=vb&&e===void 0?Hj:e,this}a1.prototype.clear=GJ;a1.prototype.delete=QJ;a1.prototype.get=$J;a1.prototype.has=YJ;a1.prototype.set=qJ;function Gv(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function VJ(){this.__data__=[]}function HJ(n){var e=this.__data__,t=Q5(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():NJ.call(e,t,1),!0}function ZJ(n){var e=this.__data__,t=Q5(e,n);return t<0?void 0:e[t][1]}function XJ(n){return Q5(this.__data__,n)>-1}function JJ(n,e){var t=this.__data__,r=Q5(t,n);return r<0?t.push([n,e]):t[r][1]=e,this}Gv.prototype.clear=VJ;Gv.prototype.delete=HJ;Gv.prototype.get=ZJ;Gv.prototype.has=XJ;Gv.prototype.set=JJ;function v1(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function eee(){this.__data__={hash:new a1,map:new(WJ||Gv),string:new a1}}function tee(n){return $5(this,n).delete(n)}function nee(n){return $5(this,n).get(n)}function ree(n){return $5(this,n).has(n)}function iee(n,e){return $5(this,n).set(n,e),this}v1.prototype.clear=eee;v1.prototype.delete=tee;v1.prototype.get=nee;v1.prototype.has=ree;v1.prototype.set=iee;function Q5(n,e){for(var t=n.length;t--;)if(pee(n[t][0],e))return t;return-1}function oee(n,e){e=uee(e,n)?[e]:lee(e);for(var t=0,r=e.length;n!=null&&t<r;)n=n[dee(e[t++])];return t&&t==r?n:void 0}function aee(n){if(!rz(n)||cee(n))return!1;var e=mee(n)||RJ(n)?zJ:KJ;return e.test(fee(n))}function see(n){if(typeof n=="string")return n;if(n7(n))return IP?IP.call(n):"";var e=n+"";return e=="0"&&1/n==-Zj?"-0":e}function lee(n){return nz(n)?n:hee(n)}function $5(n,e){var t=n.__data__;return Aee(e)?t[typeof e=="string"?"string":"hash"]:t.map}function tz(n,e){var t=FJ(n,e);return aee(t)?t:void 0}function uee(n,e){if(nz(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||n7(n)?!0:BJ.test(n)||!OJ.test(n)||e!=null&&n in Object(e)}function Aee(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function cee(n){return!!EP&&EP in n}var hee=t7(function(n){n=yee(n);var e=[];return IJ.test(n)&&e.push(""),n.replace(kJ,function(t,r,i,o){e.push(i?o.replace(PJ,"$1"):r||t)}),e});function dee(n){if(typeof n=="string"||n7(n))return n;var e=n+"";return e=="0"&&1/n==-Zj?"-0":e}function fee(n){if(n!=null){try{return Jj.call(n)}catch{}try{return n+""}catch{}}return""}function t7(n,e){if(typeof n!="function"||e&&typeof e!="function")throw new TypeError(wJ);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s),s};return t.cache=new(t7.Cache||v1),t}t7.Cache=v1;function pee(n,e){return n===e||n!==n&&e!==e}var nz=Array.isArray;function mee(n){var e=rz(n)?ez.call(n):"";return e==MJ||e==SJ}function rz(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function gee(n){return!!n&&typeof n=="object"}function n7(n){return typeof n=="symbol"||gee(n)&&ez.call(n)==EJ}function yee(n){return n==null?"":see(n)}function vee(n,e,t){var r=n==null?void 0:oee(n,e);return r===void 0?t:r}var _ee=vee;const Cee=Da(_ee);var rw={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */rw.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,C="__lodash_placeholder__",k=1,I=2,K=4,L=1,q=2,X=1,H=2,G=4,ee=8,ne=16,se=32,Ae=64,V=128,re=256,be=512,_e=30,Pe="...",Ue=800,pe=16,Ye=1,we=2,pt=3,wt=1/0,ft=9007199254740991,bt=17976931348623157e292,$e=NaN,tt=4294967295,nt=tt-1,en=tt>>>1,tn=[["ary",V],["bind",X],["bindKey",H],["curry",ee],["curryRight",ne],["flip",be],["partial",se],["partialRight",Ae],["rearg",re]],St="[object Arguments]",Xt="[object Array]",Nt="[object AsyncFunction]",Fe="[object Boolean]",ye="[object Date]",ke="[object DOMException]",Ge="[object Error]",st="[object Function]",ht="[object GeneratorFunction]",Bt="[object Map]",nn="[object Number]",Gt="[object Null]",zn="[object Object]",rr="[object Promise]",xn="[object Proxy]",Zn="[object RegExp]",yr="[object Set]",Mr="[object String]",Or="[object Symbol]",Jr="[object Undefined]",_r="[object WeakMap]",gi="[object WeakSet]",Te="[object ArrayBuffer]",te="[object DataView]",oe="[object Float32Array]",je="[object Float64Array]",Ct="[object Int8Array]",Lt="[object Int16Array]",jt="[object Int32Array]",cr="[object Uint8Array]",Re="[object Uint8ClampedArray]",Ee="[object Uint16Array]",Me="[object Uint32Array]",p=/\b__p \+= '';/g,Ke=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,lt=RegExp(ot.source),Rt=RegExp(yt.source),Dt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gn=/^\w*$/,Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sr=/[\\^$.*+?()[\]{}|]/g,$t=RegExp(Sr.source),Kn=/^\s+/,Wn=/\s/,Tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jn=/\{\n\/\* \[wrapped with (.+)\] \*/,Vn=/,? & /,Tn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_i=/[()=,{}\[\]\/\s]/,Zi=/\\(\\)?/g,ei=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wr=/\w*$/,Yr=/^[-+]0x[0-9a-f]+$/i,Xi=/^0b[01]+$/i,hi=/^\[object .+?Constructor\]$/,ra=/^0o[0-7]+$/i,Ca=/^(?:0|[1-9]\d*)$/,ao=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vo=/($^)/,la=/['\n\r\u2028\u2029\\]/g,ba="\\ud800-\\udfff",el="\\u0300-\\u036f",Ss="\\ufe20-\\ufe2f",li="\\u20d0-\\u20ff",ar=el+Ss+li,La="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",ua="\\xac\\xb1\\xd7\\xf7",Oe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",it="\\u2000-\\u206f",rn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wn="A-Z\\xc0-\\xd6\\xd8-\\xde",Qt="\\ufe0e\\ufe0f",En=ua+Oe+it+rn,ni="[']",Ci="["+ba+"]",Wi="["+En+"]",Wo="["+ar+"]",Dl="\\d+",Br="["+La+"]",qr="["+Io+"]",xa="[^"+ba+En+Dl+La+Io+wn+"]",Gr="\\ud83c[\\udffb-\\udfff]",ms="(?:"+Wo+"|"+Gr+")",Mu="[^"+ba+"]",Ro="(?:\\ud83c[\\udde6-\\uddff]){2}",di="[\\ud800-\\udbff][\\udc00-\\udfff]",ii="["+wn+"]",Es="\\u200d",Aa="(?:"+qr+"|"+xa+")",so="(?:"+ii+"|"+xa+")",ca="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",tu="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",Ll=ms+"?",Uo="["+Qt+"]?",Os="(?:"+Es+"(?:"+[Mu,Ro,di].join("|")+")"+Uo+Ll+")*",xo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ya=Uo+Ll+Os,yl="(?:"+[Br,Ro,di].join("|")+")"+ya,qa="(?:"+[Mu+Wo+"?",Wo,Ro,di,Ci].join("|")+")",Rs=RegExp(ni,"g"),Vu=RegExp(Wo,"g"),Gi=RegExp(Gr+"(?="+Gr+")|"+qa+ya,"g"),vl=RegExp([ii+"?"+qr+"+"+ca+"(?="+[Wi,ii,"$"].join("|")+")",so+"+"+tu+"(?="+[Wi,ii+Aa,"$"].join("|")+")",ii+"?"+Aa+"+"+ca,ii+"+"+tu,wa,xo,Dl,yl].join("|"),"g"),bi=RegExp("["+Es+ba+ar+Qt+"]"),Dr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xi=-1,Ji={};Ji[oe]=Ji[je]=Ji[Ct]=Ji[Lt]=Ji[jt]=Ji[cr]=Ji[Re]=Ji[Ee]=Ji[Me]=!0,Ji[St]=Ji[Xt]=Ji[Te]=Ji[Fe]=Ji[te]=Ji[ye]=Ji[Ge]=Ji[st]=Ji[Bt]=Ji[nn]=Ji[zn]=Ji[Zn]=Ji[yr]=Ji[Mr]=Ji[_r]=!1;var ki={};ki[St]=ki[Xt]=ki[Te]=ki[te]=ki[Fe]=ki[ye]=ki[oe]=ki[je]=ki[Ct]=ki[Lt]=ki[jt]=ki[Bt]=ki[nn]=ki[zn]=ki[Zn]=ki[yr]=ki[Mr]=ki[Or]=ki[cr]=ki[Re]=ki[Ee]=ki[Me]=!0,ki[Ge]=ki[st]=ki[_r]=!1;var N={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sr=parseFloat,On=parseInt,Ur=typeof window=="object"&&window&&window.Object===Object&&window,Vr=typeof self=="object"&&self&&self.Object===Object&&self,er=Ur||Vr||Function("return this")(),lr=e&&!e.nodeType&&e,ri=lr&&!0&&n&&!n.nodeType&&n,lo=ri&&ri.exports===lr,wi=lo&&Ur.process,Er=function(){try{var Pt=ri&&ri.require&&ri.require("util").types;return Pt||wi&&wi.binding&&wi.binding("util")}catch{}}(),Li=Er&&Er.isArrayBuffer,ko=Er&&Er.isDate,ia=Er&&Er.isMap,Va=Er&&Er.isRegExp,tl=Er&&Er.isSet,Rl=Er&&Er.isTypedArray;function Ma(Pt,mn,Zt){switch(Zt.length){case 0:return Pt.call(mn);case 1:return Pt.call(mn,Zt[0]);case 2:return Pt.call(mn,Zt[0],Zt[1]);case 3:return Pt.call(mn,Zt[0],Zt[1],Zt[2])}return Pt.apply(mn,Zt)}function $c(Pt,mn,Zt,vr){for(var ti=-1,eo=Pt==null?0:Pt.length;++ti<eo;){var Sa=Pt[ti];mn(vr,Sa,Zt(Sa),Pt)}return vr}function Us(Pt,mn){for(var Zt=-1,vr=Pt==null?0:Pt.length;++Zt<vr&&mn(Pt[Zt],Zt,Pt)!==!1;);return Pt}function _l(Pt,mn){for(var Zt=Pt==null?0:Pt.length;Zt--&&mn(Pt[Zt],Zt,Pt)!==!1;);return Pt}function kh(Pt,mn){for(var Zt=-1,vr=Pt==null?0:Pt.length;++Zt<vr;)if(!mn(Pt[Zt],Zt,Pt))return!1;return!0}function nu(Pt,mn){for(var Zt=-1,vr=Pt==null?0:Pt.length,ti=0,eo=[];++Zt<vr;){var Sa=Pt[Zt];mn(Sa,Zt,Pt)&&(eo[ti++]=Sa)}return eo}function ru(Pt,mn){var Zt=Pt==null?0:Pt.length;return!!Zt&&ha(Pt,mn,0)>-1}function vd(Pt,mn,Zt){for(var vr=-1,ti=Pt==null?0:Pt.length;++vr<ti;)if(Zt(mn,Pt[vr]))return!0;return!1}function oa(Pt,mn){for(var Zt=-1,vr=Pt==null?0:Pt.length,ti=Array(vr);++Zt<vr;)ti[Zt]=mn(Pt[Zt],Zt,Pt);return ti}function iu(Pt,mn){for(var Zt=-1,vr=mn.length,ti=Pt.length;++Zt<vr;)Pt[ti+Zt]=mn[Zt];return Pt}function Yc(Pt,mn,Zt,vr){var ti=-1,eo=Pt==null?0:Pt.length;for(vr&&eo&&(Zt=Pt[++ti]);++ti<eo;)Zt=mn(Zt,Pt[ti],ti,Pt);return Zt}function wm(Pt,mn,Zt,vr){var ti=Pt==null?0:Pt.length;for(vr&&ti&&(Zt=Pt[--ti]);ti--;)Zt=mn(Zt,Pt[ti],ti,Pt);return Zt}function Su(Pt,mn){for(var Zt=-1,vr=Pt==null?0:Pt.length;++Zt<vr;)if(mn(Pt[Zt],Zt,Pt))return!0;return!1}var Th=xf("length");function qc(Pt){return Pt.split("")}function Mm(Pt){return Pt.match(Tn)||[]}function Mp(Pt,mn,Zt){var vr;return Zt(Pt,function(ti,eo,Sa){if(mn(ti,eo,Sa))return vr=eo,!1}),vr}function KA(Pt,mn,Zt,vr){for(var ti=Pt.length,eo=Zt+(vr?1:-1);vr?eo--:++eo<ti;)if(mn(Pt[eo],eo,Pt))return eo;return-1}function ha(Pt,mn,Zt){return mn===mn?Sm(Pt,mn,Zt):KA(Pt,bf,Zt)}function Sp(Pt,mn,Zt,vr){for(var ti=Zt-1,eo=Pt.length;++ti<eo;)if(vr(Pt[ti],mn))return ti;return-1}function bf(Pt){return Pt!==Pt}function Vc(Pt,mn){var Zt=Pt==null?0:Pt.length;return Zt?Cd(Pt,mn)/Zt:$e}function xf(Pt){return function(mn){return mn==null?t:mn[Pt]}}function Ph(Pt){return function(mn){return Pt==null?t:Pt[mn]}}function DA(Pt,mn,Zt,vr,ti){return ti(Pt,function(eo,Sa,wo){Zt=vr?(vr=!1,eo):mn(Zt,eo,Sa,wo)}),Zt}function _d(Pt,mn){var Zt=Pt.length;for(Pt.sort(mn);Zt--;)Pt[Zt]=Pt[Zt].value;return Pt}function Cd(Pt,mn){for(var Zt,vr=-1,ti=Pt.length;++vr<ti;){var eo=mn(Pt[vr]);eo!==t&&(Zt=Zt===t?eo:Zt+eo)}return Zt}function Hc(Pt,mn){for(var Zt=-1,vr=Array(Pt);++Zt<Pt;)vr[Zt]=mn(Zt);return vr}function Y0(Pt,mn){return oa(mn,function(Zt){return[Zt,Pt[Zt]]})}function Ac(Pt){return Pt&&Pt.slice(0,Mf(Pt)+1).replace(Kn,"")}function Ul(Pt){return function(mn){return Pt(mn)}}function Ep(Pt,mn){return oa(mn,function(Zt){return Pt[Zt]})}function uA(Pt,mn){return Pt.has(mn)}function Eu(Pt,mn){for(var Zt=-1,vr=Pt.length;++Zt<vr&&ha(mn,Pt[Zt],0)>-1;);return Zt}function Zc(Pt,mn){for(var Zt=Pt.length;Zt--&&ha(mn,Pt[Zt],0)>-1;);return Zt}function bd(Pt,mn){for(var Zt=Pt.length,vr=0;Zt--;)Pt[Zt]===mn&&++vr;return vr}var Op=Ph(N),jl=Ph(he);function nl(Pt){return"\\"+Tt[Pt]}function xd(Pt,mn){return Pt==null?t:Pt[mn]}function cc(Pt){return bi.test(Pt)}function wf(Pt){return Dr.test(Pt)}function Bp(Pt){for(var mn,Zt=[];!(mn=Pt.next()).done;)Zt.push(mn.value);return Zt}function Kh(Pt){var mn=-1,Zt=Array(Pt.size);return Pt.forEach(function(vr,ti){Zt[++mn]=[ti,vr]}),Zt}function AA(Pt,mn){return function(Zt){return Pt(mn(Zt))}}function Cl(Pt,mn){for(var Zt=-1,vr=Pt.length,ti=0,eo=[];++Zt<vr;){var Sa=Pt[Zt];(Sa===mn||Sa===C)&&(Pt[Zt]=C,eo[ti++]=Zt)}return eo}function ou(Pt){var mn=-1,Zt=Array(Pt.size);return Pt.forEach(function(vr){Zt[++mn]=vr}),Zt}function go(Pt){var mn=-1,Zt=Array(Pt.size);return Pt.forEach(function(vr){Zt[++mn]=[vr,vr]}),Zt}function Sm(Pt,mn,Zt){for(var vr=Zt-1,ti=Pt.length;++vr<ti;)if(Pt[vr]===mn)return vr;return-1}function q0(Pt,mn,Zt){for(var vr=Zt+1;vr--;)if(Pt[vr]===mn)return vr;return vr}function Xc(Pt){return cc(Pt)?hc(Pt):Th(Pt)}function Hu(Pt){return cc(Pt)?Md(Pt):qc(Pt)}function Mf(Pt){for(var mn=Pt.length;mn--&&Wn.test(Pt.charAt(mn)););return mn}var wd=Ph(We);function hc(Pt){for(var mn=Gi.lastIndex=0;Gi.test(Pt);)++mn;return mn}function Md(Pt){return Pt.match(Gi)||[]}function Sf(Pt){return Pt.match(vl)||[]}var LA=function Pt(mn){mn=mn==null?er:zl.defaults(er.Object(),mn,zl.pick(er,Fl));var Zt=mn.Array,vr=mn.Date,ti=mn.Error,eo=mn.Function,Sa=mn.Math,wo=mn.Object,dc=mn.RegExp,Em=mn.String,js=mn.TypeError,FA=Zt.prototype,fc=eo.prototype,au=wo.prototype,Ti=mn["__core-js_shared__"],RA=fc.toString,Eo=au.hasOwnProperty,Ip=0,pc=function(){var _=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),cA=au.toString,UA=RA.call(wo),rl=er._,mc=dc("^"+RA.call(Eo).replace(Sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),su=lo?mn.Buffer:t,bl=mn.Symbol,Jc=mn.Uint8Array,Sd=su?su.allocUnsafe:t,lu=AA(wo.getPrototypeOf,wo),Ed=wo.create,eh=au.propertyIsEnumerable,hA=FA.splice,Ef=bl?bl.isConcatSpreadable:t,th=bl?bl.iterator:t,dA=bl?bl.toStringTag:t,nh=function(){try{var _=$h(wo,"defineProperty");return _({},"",{}),_}catch{}}(),Od=mn.clearTimeout!==er.clearTimeout&&mn.clearTimeout,jA=vr&&vr.now!==er.Date.now&&vr.now,Dh=mn.setTimeout!==er.setTimeout&&mn.setTimeout,rh=Sa.ceil,zA=Sa.floor,ih=wo.getOwnPropertySymbols,Of=su?su.isBuffer:t,Bf=mn.isFinite,Lh=FA.join,aa=AA(wo.keys,wo),yo=Sa.max,Oo=Sa.min,kp=vr.now,Fh=mn.parseInt,If=Sa.random,fA=FA.reverse,gc=$h(mn,"DataView"),Nl=$h(mn,"Map"),NA=$h(mn,"Promise"),il=$h(mn,"Set"),pA=$h(mn,"WeakMap"),Ou=$h(wo,"create"),oh=pA&&new pA,uu={},kf=Wa(gc),Tp=Wa(Nl),Bu=Wa(NA),yc=Wa(il),Om=Wa(pA),Bd=bl?bl.prototype:t,Rh=Bd?Bd.valueOf:t,Uh=Bd?Bd.toString:t;function ze(_){if(as(_)&&!ji(_)&&!(_ instanceof Pr)){if(_ instanceof Pi)return _;if(Eo.call(_,"__wrapped__"))return ll(_)}return new Pi(_)}var Ha=function(){function _(){}return function(E){if(!os(E))return{};if(Ed)return Ed(E);_.prototype=E;var R=new _;return _.prototype=t,R}}();function To(){}function Pi(_,E){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=t}ze.templateSettings={escape:Dt,evaluate:Ot,interpolate:At,variable:"",imports:{_:ze}},ze.prototype=To.prototype,ze.prototype.constructor=ze,Pi.prototype=Ha(To.prototype),Pi.prototype.constructor=Pi;function Pr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tt,this.__views__=[]}function da(){var _=new Pr(this.__wrapped__);return _.__actions__=Ja(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Ja(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Ja(this.__views__),_}function Id(){if(this.__filtered__){var _=new Pr(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function V0(){var _=this.__wrapped__.value(),E=this.__dir__,R=ji(_),ie=E<0,Be=R?_.length:0,qe=d_(0,Be,this.__views__),gt=qe.start,kt=qe.end,Ut=kt-gt,Mn=ie?kt:gt-1,Sn=this.__iteratees__,jn=Sn.length,br=0,Xr=Oo(Ut,this.__takeCount__);if(!R||!ie&&Be==Ut&&Xr==Ut)return Gl(_,this.__actions__);var Si=[];e:for(;Ut--&&br<Xr;){Mn+=E;for(var fo=-1,Ei=_[Mn];++fo<jn;){var Bo=Sn[fo],jo=Bo.iteratee,ph=Bo.type,JA=jo(Ei);if(ph==we)Ei=JA;else if(!JA){if(ph==Ye)continue e;break e}}Si[br++]=Ei}return Si}Pr.prototype=Ha(To.prototype),Pr.prototype.constructor=Pr;function Wl(_){var E=-1,R=_==null?0:_.length;for(this.clear();++E<R;){var ie=_[E];this.set(ie[0],ie[1])}}function Bm(){this.__data__=Ou?Ou(null):{},this.size=0}function Tf(_){var E=this.has(_)&&delete this.__data__[_];return this.size-=E?1:0,E}function kd(_){var E=this.__data__;if(Ou){var R=E[_];return R===f?t:R}return Eo.call(E,_)?E[_]:t}function Au(_){var E=this.__data__;return Ou?E[_]!==t:Eo.call(E,_)}function ir(_,E){var R=this.__data__;return this.size+=this.has(_)?0:1,R[_]=Ou&&E===t?f:E,this}Wl.prototype.clear=Bm,Wl.prototype.delete=Tf,Wl.prototype.get=kd,Wl.prototype.has=Au,Wl.prototype.set=ir;function ol(_){var E=-1,R=_==null?0:_.length;for(this.clear();++E<R;){var ie=_[E];this.set(ie[0],ie[1])}}function Pp(){this.__data__=[],this.size=0}function vc(_){var E=this.__data__,R=Bs(E,_);if(R<0)return!1;var ie=E.length-1;return R==ie?E.pop():hA.call(E,R,1),--this.size,!0}function ah(_){var E=this.__data__,R=Bs(E,_);return R<0?t:E[R][1]}function jh(_){return Bs(this.__data__,_)>-1}function zh(_,E){var R=this.__data__,ie=Bs(R,_);return ie<0?(++this.size,R.push([_,E])):R[ie][1]=E,this}ol.prototype.clear=Pp,ol.prototype.delete=vc,ol.prototype.get=ah,ol.prototype.has=jh,ol.prototype.set=zh;function ui(_){var E=-1,R=_==null?0:_.length;for(this.clear();++E<R;){var ie=_[E];this.set(ie[0],ie[1])}}function Nh(){this.size=0,this.__data__={hash:new Wl,map:new(Nl||ol),string:new Wl}}function _c(_){var E=ch(this,_).delete(_);return this.size-=E?1:0,E}function Pf(_){return ch(this,_).get(_)}function Td(_){return ch(this,_).has(_)}function mA(_,E){var R=ch(this,_),ie=R.size;return R.set(_,E),this.size+=R.size==ie?0:1,this}ui.prototype.clear=Nh,ui.prototype.delete=_c,ui.prototype.get=Pf,ui.prototype.has=Td,ui.prototype.set=mA;function gA(_){var E=-1,R=_==null?0:_.length;for(this.__data__=new ui;++E<R;)this.add(_[E])}function Pd(_){return this.__data__.set(_,f),this}function Kf(_){return this.__data__.has(_)}gA.prototype.add=gA.prototype.push=Pd,gA.prototype.has=Kf;function Ea(_){var E=this.__data__=new ol(_);this.size=E.size}function co(){this.__data__=new ol,this.size=0}function Zu(_){var E=this.__data__,R=E.delete(_);return this.size=E.size,R}function WA(_){return this.__data__.get(_)}function al(_){return this.__data__.has(_)}function Ho(_,E){var R=this.__data__;if(R instanceof ol){var ie=R.__data__;if(!Nl||ie.length<i-1)return ie.push([_,E]),this.size=++R.size,this;R=this.__data__=new ui(ie)}return R.set(_,E),this.size=R.size,this}Ea.prototype.clear=co,Ea.prototype.delete=Zu,Ea.prototype.get=WA,Ea.prototype.has=al,Ea.prototype.set=Ho;function sh(_,E){var R=ji(_),ie=!R&&zp(_),Be=!R&&!ie&&dh(_),qe=!R&&!ie&&!Be&&$f(_),gt=R||ie||Be||qe,kt=gt?Hc(_.length,Em):[],Ut=kt.length;for(var Mn in _)(E||Eo.call(_,Mn))&&!(gt&&(Mn=="length"||Be&&(Mn=="offset"||Mn=="parent")||qe&&(Mn=="buffer"||Mn=="byteLength"||Mn=="byteOffset")||M(Mn,Ut)))&&kt.push(Mn);return kt}function Kd(_){var E=_.length;return E?_[ln(0,E-1)]:t}function Kp(_,E){return es(Ja(_),ku(E,0,_.length))}function Dd(_){return es(Ja(_))}function GA(_,E,R){(R!==t&&!kc(_[E],R)||R===t&&!(E in _))&&Iu(_,E,R)}function lh(_,E,R){var ie=_[E];(!(Eo.call(_,E)&&kc(ie,R))||R===t&&!(E in _))&&Iu(_,E,R)}function Bs(_,E){for(var R=_.length;R--;)if(kc(_[R][0],E))return R;return-1}function Xu(_,E,R,ie){return vo(_,function(Be,qe,gt){E(ie,Be,R(Be),gt)}),ie}function Cr(_,E){return _&&$l(E,dr(E),_)}function jr(_,E){return _&&$l(E,pr(E),_)}function Iu(_,E,R){E=="__proto__"&&nh?nh(_,E,{configurable:!0,enumerable:!0,value:R,writable:!0}):_[E]=R}function QA(_,E){for(var R=-1,ie=E.length,Be=Zt(ie),qe=_==null;++R<ie;)Be[R]=qe?t:an(_,E[R]);return Be}function ku(_,E,R){return _===_&&(R!==t&&(_=_<=R?_:R),E!==t&&(_=_>=E?_:E)),_}function Zo(_,E,R,ie,Be,qe){var gt,kt=E&k,Ut=E&I,Mn=E&K;if(R&&(gt=Be?R(_,ie,Be,qe):R(_)),gt!==t)return gt;if(!os(_))return _;var Sn=ji(_);if(Sn){if(gt=P1(_),!kt)return Ja(_,gt)}else{var jn=Ws(_),br=jn==st||jn==ht;if(dh(_))return Qo(_,kt);if(jn==zn||jn==St||br&&!Be){if(gt=Ut||br?{}:jf(_),!kt)return Ut?Pm(_,jr(gt,_)):Rf(_,Cr(gt,_))}else{if(!ki[jn])return Be?_:{};gt=zm(_,jn,kt)}}qe||(qe=new Ea);var Xr=qe.get(_);if(Xr)return Xr;qe.set(_,gt),Q1(_)?_.forEach(function(Ei){gt.add(Zo(Ei,E,R,Ei,_,qe))}):kx(_)&&_.forEach(function(Ei,Bo){gt.set(Bo,Zo(Ei,E,R,Bo,_,qe))});var Si=Mn?Ut?jm:Um:Ut?pr:dr,fo=Sn?t:Si(_);return Us(fo||_,function(Ei,Bo){fo&&(Bo=Ei,Ei=_[Bo]),lh(gt,Bo,Zo(Ei,E,R,Bo,_,qe))}),gt}function Im(_){var E=dr(_);return function(R){return Tu(R,_,E)}}function Tu(_,E,R){var ie=R.length;if(_==null)return!ie;for(_=wo(_);ie--;){var Be=R[ie],qe=E[Be],gt=_[Be];if(gt===t&&!(Be in _)||!qe(gt))return!1}return!0}function km(_,E,R){if(typeof _!="function")throw new js(s);return Fr(function(){_.apply(t,R)},E)}function $A(_,E,R,ie){var Be=-1,qe=ru,gt=!0,kt=_.length,Ut=[],Mn=E.length;if(!kt)return Ut;R&&(E=oa(E,Ul(R))),ie?(qe=vd,gt=!1):E.length>=i&&(qe=uA,gt=!1,E=new gA(E));e:for(;++Be<kt;){var Sn=_[Be],jn=R==null?Sn:R(Sn);if(Sn=ie||Sn!==0?Sn:0,gt&&jn===jn){for(var br=Mn;br--;)if(E[br]===jn)continue e;Ut.push(Sn)}else qe(E,jn,ie)||Ut.push(Sn)}return Ut}var vo=CA(xl),Go=CA(xc,!0);function Tm(_,E){var R=!0;return vo(_,function(ie,Be,qe){return R=!!E(ie,Be,qe),R}),R}function Cc(_,E,R){for(var ie=-1,Be=_.length;++ie<Be;){var qe=_[ie],gt=E(qe);if(gt!=null&&(kt===t?gt===gt&&!hu(gt):R(gt,kt)))var kt=gt,Ut=qe}return Ut}function Ld(_,E,R,ie){var Be=_.length;for(R=b(R),R<0&&(R=-R>Be?0:Be+R),ie=ie===t||ie>Be?Be:b(ie),ie<0&&(ie+=Be),ie=R>ie?0:B(ie);R<ie;)_[R++]=E;return _}function yA(_,E){var R=[];return vo(_,function(ie,Be,qe){E(ie,Be,qe)&&R.push(ie)}),R}function za(_,E,R,ie,Be){var qe=-1,gt=_.length;for(R||(R=g),Be||(Be=[]);++qe<gt;){var kt=_[qe];E>0&&R(kt)?E>1?za(kt,E-1,R,ie,Be):iu(Be,kt):ie||(Be[Be.length]=kt)}return Be}var bc=B1(),cu=B1(!0);function xl(_,E){return _&&bc(_,E,dr)}function xc(_,E){return _&&cu(_,E,dr)}function uh(_,E){return nu(E,function(R){return ju(_[R])})}function Pu(_,E){E=Ba(E,_);for(var R=0,ie=E.length;_!=null&&R<ie;)_=_[Na(E[R++])];return R&&R==ie?_:t}function Za(_,E,R){var ie=E(_);return ji(_)?ie:iu(ie,R(_))}function Oa(_){return _==null?_===t?Jr:Gt:dA&&dA in wo(_)?h_(_):vn(_)}function vA(_,E){return _>E}function Df(_,E){return _!=null&&Eo.call(_,E)}function Wh(_,E){return _!=null&&E in wo(_)}function Ku(_,E,R){return _>=Oo(E,R)&&_<yo(E,R)}function wc(_,E,R){for(var ie=R?vd:ru,Be=_[0].length,qe=_.length,gt=qe,kt=Zt(qe),Ut=1/0,Mn=[];gt--;){var Sn=_[gt];gt&&E&&(Sn=oa(Sn,Ul(E))),Ut=Oo(Sn.length,Ut),kt[gt]=!R&&(E||Be>=120&&Sn.length>=120)?new gA(gt&&Sn):t}Sn=_[0];var jn=-1,br=kt[0];e:for(;++jn<Be&&Mn.length<Ut;){var Xr=Sn[jn],Si=E?E(Xr):Xr;if(Xr=R||Xr!==0?Xr:0,!(br?uA(br,Si):ie(Mn,Si,R))){for(gt=qe;--gt;){var fo=kt[gt];if(!(fo?uA(fo,Si):ie(_[gt],Si,R)))continue e}br&&br.push(Si),Mn.push(Xr)}}return Mn}function Fd(_,E,R,ie){return xl(_,function(Be,qe,gt){E(ie,R(Be),qe,gt)}),ie}function YA(_,E,R){E=Ba(E,_),_=Hn(_,E);var ie=_==null?_:_[Na(Ic(E))];return ie==null?t:Ma(ie,_,R)}function Rd(_){return as(_)&&Oa(_)==St}function S(_){return as(_)&&Oa(_)==Te}function l(_){return as(_)&&Oa(_)==ye}function c(_,E,R,ie,Be){return _===E?!0:_==null||E==null||!as(_)&&!as(E)?_!==_&&E!==E:v(_,E,R,ie,c,Be)}function v(_,E,R,ie,Be,qe){var gt=ji(_),kt=ji(E),Ut=gt?Xt:Ws(_),Mn=kt?Xt:Ws(E);Ut=Ut==St?zn:Ut,Mn=Mn==St?zn:Mn;var Sn=Ut==zn,jn=Mn==zn,br=Ut==Mn;if(br&&dh(_)){if(!dh(E))return!1;gt=!0,Sn=!1}if(br&&!Sn)return qe||(qe=new Ea),gt||$f(_)?bA(_,E,R,ie,Be,qe):Up(_,E,Ut,R,ie,Be,qe);if(!(R&L)){var Xr=Sn&&Eo.call(_,"__wrapped__"),Si=jn&&Eo.call(E,"__wrapped__");if(Xr||Si){var fo=Xr?_.value():_,Ei=Si?E.value():E;return qe||(qe=new Ea),Be(fo,Ei,R,ie,qe)}}return br?(qe||(qe=new Ea),X0(_,E,R,ie,Be,qe)):!1}function x(_){return as(_)&&Ws(_)==Bt}function O(_,E,R,ie){var Be=R.length,qe=Be,gt=!ie;if(_==null)return!qe;for(_=wo(_);Be--;){var kt=R[Be];if(gt&&kt[2]?kt[1]!==_[kt[0]]:!(kt[0]in _))return!1}for(;++Be<qe;){kt=R[Be];var Ut=kt[0],Mn=_[Ut],Sn=kt[1];if(gt&&kt[2]){if(Mn===t&&!(Ut in _))return!1}else{var jn=new Ea;if(ie)var br=ie(Mn,Sn,Ut,_,E,jn);if(!(br===t?c(Sn,Mn,L|q,ie,jn):br))return!1}}return!0}function D(_){if(!os(_)||le(_))return!1;var E=ju(_)?mc:hi;return E.test(Wa(_))}function U(_){return as(_)&&Oa(_)==Zn}function W(_){return as(_)&&Ws(_)==yr}function $(_){return as(_)&&lg(_.length)&&!!Ji[Oa(_)]}function ue(_){return typeof _=="function"?_:_==null?Kc:typeof _=="object"?ji(_)?Ve(_[0],_[1]):He(_):YT(_)}function fe(_){if(!xe(_))return aa(_);var E=[];for(var R in wo(_))Eo.call(_,R)&&R!="constructor"&&E.push(R);return E}function me(_){if(!os(_))return un(_);var E=xe(_),R=[];for(var ie in _)ie=="constructor"&&(E||!Eo.call(_,ie))||R.push(ie);return R}function Ie(_,E){return _<E}function De(_,E){var R=-1,ie=tA(_)?Zt(_.length):[];return vo(_,function(Be,qe,gt){ie[++R]=E(Be,qe,gt)}),ie}function He(_){var E=Ko(_);return E.length==1&&E[0][2]?at(E[0][0],E[0][1]):function(R){return R===_||O(R,_,E)}}function Ve(_,E){return P(_)&&Xe(E)?at(Na(_),E):function(R){var ie=an(R,_);return ie===t&&ie===E?Cn(R,_):c(E,ie,L|q)}}function Ze(_,E,R,ie,Be){_!==E&&bc(E,function(qe,gt){if(Be||(Be=new Ea),os(qe))et(_,E,gt,R,Ze,ie,Be);else{var kt=ie?ie(Gn(_,gt),qe,gt+"",_,E,Be):t;kt===t&&(kt=qe),GA(_,gt,kt)}},pr)}function et(_,E,R,ie,Be,qe,gt){var kt=Gn(_,R),Ut=Gn(E,R),Mn=gt.get(Ut);if(Mn){GA(_,R,Mn);return}var Sn=qe?qe(kt,Ut,R+"",_,E,gt):t,jn=Sn===t;if(jn){var br=ji(Ut),Xr=!br&&dh(Ut),Si=!br&&!Xr&&$f(Ut);Sn=Ut,br||Xr||Si?ji(kt)?Sn=kt:is(kt)?Sn=Ja(kt):Xr?(jn=!1,Sn=Qo(Ut,!0)):Si?(jn=!1,Sn=Ud(Ut,!0)):Sn=[]:Zd(Ut)||zp(Ut)?(Sn=kt,zp(kt)?Sn=F(kt):(!os(kt)||ju(kt))&&(Sn=jf(Ut))):jn=!1}jn&&(gt.set(Ut,Sn),Be(Sn,Ut,ie,qe,gt),gt.delete(Ut)),GA(_,R,Sn)}function ct(_,E){var R=_.length;if(R)return E+=E<0?R:0,M(E,R)?_[E]:t}function mt(_,E,R){E.length?E=oa(E,function(qe){return ji(qe)?function(gt){return Pu(gt,qe.length===1?qe[0]:qe)}:qe}):E=[Kc];var ie=-1;E=oa(E,Ul(Qr()));var Be=De(_,function(qe,gt,kt){var Ut=oa(E,function(Mn){return Mn(qe)});return{criteria:Ut,index:++ie,value:qe}});return _d(Be,function(qe,gt){return Ah(qe,gt,R)})}function vt(_,E){return Et(_,E,function(R,ie){return Cn(_,ie)})}function Et(_,E,R){for(var ie=-1,Be=E.length,qe={};++ie<Be;){var gt=E[ie],kt=Pu(_,gt);R(kt,gt)&&ur(qe,Ba(gt,_),kt)}return qe}function xt(_){return function(E){return Pu(E,_)}}function zt(_,E,R,ie){var Be=ie?Sp:ha,qe=-1,gt=E.length,kt=_;for(_===E&&(E=Ja(E)),R&&(kt=oa(_,Ul(R)));++qe<gt;)for(var Ut=0,Mn=E[qe],Sn=R?R(Mn):Mn;(Ut=Be(kt,Sn,Ut,ie))>-1;)kt!==_&&hA.call(kt,Ut,1),hA.call(_,Ut,1);return _}function Ft(_,E){for(var R=_?E.length:0,ie=R-1;R--;){var Be=E[R];if(R==ie||Be!==qe){var qe=Be;M(Be)?hA.call(_,Be,1):gs(_,Be)}}return _}function ln(_,E){return _+zA(If()*(E-_+1))}function An(_,E,R,ie){for(var Be=-1,qe=yo(rh((E-_)/(R||1)),0),gt=Zt(qe);qe--;)gt[ie?qe:++Be]=_,_+=R;return gt}function on(_,E){var R="";if(!_||E<1||E>ft)return R;do E%2&&(R+=_),E=zA(E/2),E&&(_+=_);while(E);return R}function fn(_,E){return Lr(Pn(_,E,Kc),_+"")}function Un(_){return Kd(qi(_))}function cn(_,E){var R=qi(_);return es(R,ku(E,0,R.length))}function ur(_,E,R,ie){if(!os(_))return _;E=Ba(E,_);for(var Be=-1,qe=E.length,gt=qe-1,kt=_;kt!=null&&++Be<qe;){var Ut=Na(E[Be]),Mn=R;if(Ut==="__proto__"||Ut==="constructor"||Ut==="prototype")return _;if(Be!=gt){var Sn=kt[Ut];Mn=ie?ie(Sn,Ut,kt):t,Mn===t&&(Mn=os(Sn)?Sn:M(E[Be+1])?[]:{})}lh(kt,Ut,Mn),kt=kt[Ut]}return _}var Ai=oh?function(_,E){return oh.set(_,E),_}:Kc,ho=nh?function(_,E){return nh(_,"toString",{configurable:!0,enumerable:!1,value:XA(E),writable:!0})}:Kc;function fa(_){return es(qi(_))}function fi(_,E,R){var ie=-1,Be=_.length;E<0&&(E=-E>Be?0:Be+E),R=R>Be?Be:R,R<0&&(R+=Be),Be=E>R?0:R-E>>>0,E>>>=0;for(var qe=Zt(Be);++ie<Be;)qe[ie]=_[ie+E];return qe}function Mo(_,E){var R;return vo(_,function(ie,Be,qe){return R=E(ie,Be,qe),!R}),!!R}function So(_,E,R){var ie=0,Be=_==null?ie:_.length;if(typeof E=="number"&&E===E&&Be<=en){for(;ie<Be;){var qe=ie+Be>>>1,gt=_[qe];gt!==null&&!hu(gt)&&(R?gt<=E:gt<E)?ie=qe+1:Be=qe}return Be}return to(_,E,Kc,R)}function to(_,E,R,ie){var Be=0,qe=_==null?0:_.length;if(qe===0)return 0;E=R(E);for(var gt=E!==E,kt=E===null,Ut=hu(E),Mn=E===t;Be<qe;){var Sn=zA((Be+qe)/2),jn=R(_[Sn]),br=jn!==t,Xr=jn===null,Si=jn===jn,fo=hu(jn);if(gt)var Ei=ie||Si;else Mn?Ei=Si&&(ie||br):kt?Ei=Si&&br&&(ie||!Xr):Ut?Ei=Si&&br&&!Xr&&(ie||!fo):Xr||fo?Ei=!1:Ei=ie?jn<=E:jn<E;Ei?Be=Sn+1:qe=Sn}return Oo(qe,nt)}function $i(_,E){for(var R=-1,ie=_.length,Be=0,qe=[];++R<ie;){var gt=_[R],kt=E?E(gt):gt;if(!R||!kc(kt,Ut)){var Ut=kt;qe[Be++]=gt===0?0:gt}}return qe}function Xa(_){return typeof _=="number"?_:hu(_)?$e:+_}function _o(_){if(typeof _=="string")return _;if(ji(_))return oa(_,_o)+"";if(hu(_))return Uh?Uh.call(_):"";var E=_+"";return E=="0"&&1/_==-wt?"-0":E}function Po(_,E,R){var ie=-1,Be=ru,qe=_.length,gt=!0,kt=[],Ut=kt;if(R)gt=!1,Be=vd;else if(qe>=i){var Mn=E?null:I1(_);if(Mn)return ou(Mn);gt=!1,Be=uA,Ut=new gA}else Ut=E?[]:kt;e:for(;++ie<qe;){var Sn=_[ie],jn=E?E(Sn):Sn;if(Sn=R||Sn!==0?Sn:0,gt&&jn===jn){for(var br=Ut.length;br--;)if(Ut[br]===jn)continue e;E&&Ut.push(jn),kt.push(Sn)}else Be(Ut,jn,R)||(Ut!==kt&&Ut.push(jn),kt.push(Sn))}return kt}function gs(_,E){return E=Ba(E,_),_=Hn(_,E),_==null||delete _[Na(Ic(E))]}function Du(_,E,R,ie){return ur(_,E,R(Pu(_,E)),ie)}function zs(_,E,R,ie){for(var Be=_.length,qe=ie?Be:-1;(ie?qe--:++qe<Be)&&E(_[qe],qe,_););return R?fi(_,ie?0:qe,ie?qe+1:Be):fi(_,ie?qe+1:0,ie?Be:qe)}function Gl(_,E){var R=_;return R instanceof Pr&&(R=R.value()),Yc(E,function(ie,Be){return Be.func.apply(Be.thisArg,iu([ie],Be.args))},R)}function Ql(_,E,R){var ie=_.length;if(ie<2)return ie?Po(_[0]):[];for(var Be=-1,qe=Zt(ie);++Be<ie;)for(var gt=_[Be],kt=-1;++kt<ie;)kt!=Be&&(qe[Be]=$A(qe[Be]||gt,_[kt],E,R));return Po(za(qe,1),E,R)}function Mc(_,E,R){for(var ie=-1,Be=_.length,qe=E.length,gt={};++ie<Be;){var kt=ie<qe?E[ie]:t;R(gt,_[ie],kt)}return gt}function Sc(_){return is(_)?_:[]}function Lu(_){return typeof _=="function"?_:Kc}function Ba(_,E){return ji(_)?_:P(_,E)?[_]:ka(Q(_))}var Ns=fn;function Ia(_,E,R){var ie=_.length;return R=R===t?ie:R,!E&&R>=ie?_:fi(_,E,R)}var sl=Od||function(_){return er.clearTimeout(_)};function Qo(_,E){if(E)return _.slice();var R=_.length,ie=Sd?Sd(R):new _.constructor(R);return _.copy(ie),ie}function va(_){var E=new _.constructor(_.byteLength);return new Jc(E).set(new Jc(_)),E}function Is(_,E){var R=E?va(_.buffer):_.buffer;return new _.constructor(R,_.byteOffset,_.byteLength)}function ks(_){var E=new _.constructor(_.source,Wr.exec(_));return E.lastIndex=_.lastIndex,E}function Gh(_){return Rh?wo(Rh.call(_)):{}}function Ud(_,E){var R=E?va(_.buffer):_.buffer;return new _.constructor(R,_.byteOffset,_.length)}function Lf(_,E){if(_!==E){var R=_!==t,ie=_===null,Be=_===_,qe=hu(_),gt=E!==t,kt=E===null,Ut=E===E,Mn=hu(E);if(!kt&&!Mn&&!qe&&_>E||qe&&gt&&Ut&&!kt&&!Mn||ie&&gt&&Ut||!R&&Ut||!Be)return 1;if(!ie&&!qe&&!Mn&&_<E||Mn&&R&&Be&&!ie&&!qe||kt&&R&&Be||!gt&&Be||!Ut)return-1}return 0}function Ah(_,E,R){for(var ie=-1,Be=_.criteria,qe=E.criteria,gt=Be.length,kt=R.length;++ie<gt;){var Ut=Lf(Be[ie],qe[ie]);if(Ut){if(ie>=kt)return Ut;var Mn=R[ie];return Ut*(Mn=="desc"?-1:1)}}return _.index-E.index}function _A(_,E,R,ie){for(var Be=-1,qe=_.length,gt=R.length,kt=-1,Ut=E.length,Mn=yo(qe-gt,0),Sn=Zt(Ut+Mn),jn=!ie;++kt<Ut;)Sn[kt]=E[kt];for(;++Be<gt;)(jn||Be<qe)&&(Sn[R[Be]]=_[Be]);for(;Mn--;)Sn[kt++]=_[Be++];return Sn}function Ff(_,E,R,ie){for(var Be=-1,qe=_.length,gt=-1,kt=R.length,Ut=-1,Mn=E.length,Sn=yo(qe-kt,0),jn=Zt(Sn+Mn),br=!ie;++Be<Sn;)jn[Be]=_[Be];for(var Xr=Be;++Ut<Mn;)jn[Xr+Ut]=E[Ut];for(;++gt<kt;)(br||Be<qe)&&(jn[Xr+R[gt]]=_[Be++]);return jn}function Ja(_,E){var R=-1,ie=_.length;for(E||(E=Zt(ie));++R<ie;)E[R]=_[R];return E}function $l(_,E,R,ie){var Be=!R;R||(R={});for(var qe=-1,gt=E.length;++qe<gt;){var kt=E[qe],Ut=ie?ie(R[kt],_[kt],kt,R,_):t;Ut===t&&(Ut=_[kt]),Be?Iu(R,kt,Ut):lh(R,kt,Ut)}return R}function Rf(_,E){return $l(_,Yh(_),E)}function Pm(_,E){return $l(_,k1(_),E)}function qA(_,E){return function(R,ie){var Be=ji(R)?$c:Xu,qe=E?E():{};return Be(R,_,Qr(ie,2),qe)}}function Ju(_){return fn(function(E,R){var ie=-1,Be=R.length,qe=Be>1?R[Be-1]:t,gt=Be>2?R[2]:t;for(qe=_.length>3&&typeof qe=="function"?(Be--,qe):t,gt&&w(R[0],R[1],gt)&&(qe=Be<3?t:qe,Be=1),E=wo(E);++ie<Be;){var kt=R[ie];kt&&_(E,kt,ie,qe)}return E})}function CA(_,E){return function(R,ie){if(R==null)return R;if(!tA(R))return _(R,ie);for(var Be=R.length,qe=E?Be:-1,gt=wo(R);(E?qe--:++qe<Be)&&ie(gt[qe],qe,gt)!==!1;);return R}}function B1(_){return function(E,R,ie){for(var Be=-1,qe=wo(E),gt=ie(E),kt=gt.length;kt--;){var Ut=gt[_?kt:++Be];if(R(qe[Ut],Ut,qe)===!1)break}return E}}function Km(_,E,R){var ie=E&X,Be=Ec(_);function qe(){var gt=this&&this!==er&&this instanceof qe?Be:_;return gt.apply(ie?R:this,arguments)}return qe}function H0(_){return function(E){E=Q(E);var R=cc(E)?Hu(E):t,ie=R?R[0]:E.charAt(0),Be=R?Ia(R,1).join(""):E.slice(1);return ie[_]()+Be}}function jd(_){return function(E){return Yc(Wx(Ag(E).replace(Rs,"")),_,"")}}function Ec(_){return function(){var E=arguments;switch(E.length){case 0:return new _;case 1:return new _(E[0]);case 2:return new _(E[0],E[1]);case 3:return new _(E[0],E[1],E[2]);case 4:return new _(E[0],E[1],E[2],E[3]);case 5:return new _(E[0],E[1],E[2],E[3],E[4]);case 6:return new _(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new _(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var R=Ha(_.prototype),ie=_.apply(R,E);return os(ie)?ie:R}}function c_(_,E,R){var ie=Ec(_);function Be(){for(var qe=arguments.length,gt=Zt(qe),kt=qe,Ut=Yd(Be);kt--;)gt[kt]=arguments[kt];var Mn=qe<3&&gt[0]!==Ut&&gt[qe-1]!==Ut?[]:Cl(gt,Ut);if(qe-=Mn.length,qe<R)return Lp(_,E,Nd,Be.placeholder,t,gt,Mn,t,t,R-qe);var Sn=this&&this!==er&&this instanceof Be?ie:_;return Ma(Sn,this,gt)}return Be}function zd(_){return function(E,R,ie){var Be=wo(E);if(!tA(E)){var qe=Qr(R,3);E=dr(E),R=function(kt){return qe(Be[kt],kt,Be)}}var gt=_(E,R,ie);return gt>-1?Be[qe?E[gt]:gt]:t}}function Dp(_){return Oc(function(E){var R=E.length,ie=R,Be=Pi.prototype.thru;for(_&&E.reverse();ie--;){var qe=E[ie];if(typeof qe!="function")throw new js(s);if(Be&&!gt&&$d(qe)=="wrapper")var gt=new Pi([],!0)}for(ie=gt?ie:R;++ie<R;){qe=E[ie];var kt=$d(qe),Ut=kt=="wrapper"?Qd(qe):t;Ut&&Z(Ut[0])&&Ut[1]==(V|ee|se|re)&&!Ut[4].length&&Ut[9]==1?gt=gt[$d(Ut[0])].apply(gt,Ut[3]):gt=qe.length==1&&Z(qe)?gt[kt]():gt.thru(qe)}return function(){var Mn=arguments,Sn=Mn[0];if(gt&&Mn.length==1&&ji(Sn))return gt.plant(Sn).value();for(var jn=0,br=R?E[jn].apply(this,Mn):Sn;++jn<R;)br=E[jn].call(this,br);return br}})}function Nd(_,E,R,ie,Be,qe,gt,kt,Ut,Mn){var Sn=E&V,jn=E&X,br=E&H,Xr=E&(ee|ne),Si=E&be,fo=br?t:Ec(_);function Ei(){for(var Bo=arguments.length,jo=Zt(Bo),ph=Bo;ph--;)jo[ph]=arguments[ph];if(Xr)var JA=Yd(Ei),mh=bd(jo,JA);if(ie&&(jo=_A(jo,ie,Be,Xr)),qe&&(jo=Ff(jo,qe,gt,Xr)),Bo-=mh,Xr&&Bo<Mn){var Sl=Cl(jo,JA);return Lp(_,E,Nd,Ei.placeholder,R,jo,Sl,kt,Ut,Mn-Bo)}var ef=jn?R:this,$p=br?ef[_]:_;return Bo=jo.length,kt?jo=or(jo,kt):Si&&Bo>1&&jo.reverse(),Sn&&Ut<Bo&&(jo.length=Ut),this&&this!==er&&this instanceof Ei&&($p=fo||Ec($p)),$p.apply(ef,jo)}return Ei}function Dm(_,E){return function(R,ie){return Fd(R,_,E(ie),{})}}function Wd(_,E){return function(R,ie){var Be;if(R===t&&ie===t)return E;if(R!==t&&(Be=R),ie!==t){if(Be===t)return ie;typeof R=="string"||typeof ie=="string"?(R=_o(R),ie=_o(ie)):(R=Xa(R),ie=Xa(ie)),Be=_(R,ie)}return Be}}function Lm(_){return Oc(function(E){return E=oa(E,Ul(Qr())),fn(function(R){var ie=this;return _(E,function(Be){return Ma(Be,ie,R)})})})}function Fm(_,E){E=E===t?" ":_o(E);var R=E.length;if(R<2)return R?on(E,_):E;var ie=on(E,rh(_/Xc(E)));return cc(E)?Ia(Hu(ie),0,_).join(""):ie.slice(0,_)}function Z0(_,E,R,ie){var Be=E&X,qe=Ec(_);function gt(){for(var kt=-1,Ut=arguments.length,Mn=-1,Sn=ie.length,jn=Zt(Sn+Ut),br=this&&this!==er&&this instanceof gt?qe:_;++Mn<Sn;)jn[Mn]=ie[Mn];for(;Ut--;)jn[Mn++]=arguments[++kt];return Ma(br,Be?R:this,jn)}return gt}function Qh(_){return function(E,R,ie){return ie&&typeof ie!="number"&&w(E,R,ie)&&(R=ie=t),E=y(E),R===t?(R=E,E=0):R=y(R),ie=ie===t?E<R?1:-1:y(ie),An(E,R,ie,_)}}function Uf(_){return function(E,R){return typeof E=="string"&&typeof R=="string"||(E=T(E),R=T(R)),_(E,R)}}function Lp(_,E,R,ie,Be,qe,gt,kt,Ut,Mn){var Sn=E&ee,jn=Sn?gt:t,br=Sn?t:gt,Xr=Sn?qe:t,Si=Sn?t:qe;E|=Sn?se:Ae,E&=~(Sn?Ae:se),E&G||(E&=~(X|H));var fo=[_,E,Be,Xr,jn,Si,br,kt,Ut,Mn],Ei=R.apply(t,fo);return Z(_)&&hr(Ei,fo),Ei.placeholder=ie,Fi(Ei,_,E)}function Fp(_){var E=Sa[_];return function(R,ie){if(R=T(R),ie=ie==null?0:Oo(b(ie),292),ie&&Bf(R)){var Be=(Q(R)+"e").split("e"),qe=E(Be[0]+"e"+(+Be[1]+ie));return Be=(Q(qe)+"e").split("e"),+(Be[0]+"e"+(+Be[1]-ie))}return E(R)}}var I1=il&&1/ou(new il([,-0]))[1]==wt?function(_){return new il(_)}:WS;function Rm(_){return function(E){var R=Ws(E);return R==Bt?Kh(E):R==yr?go(E):Y0(E,_(E))}}function uo(_,E,R,ie,Be,qe,gt,kt){var Ut=E&H;if(!Ut&&typeof _!="function")throw new js(s);var Mn=ie?ie.length:0;if(Mn||(E&=~(se|Ae),ie=Be=t),gt=gt===t?gt:yo(b(gt),0),kt=kt===t?kt:b(kt),Mn-=Be?Be.length:0,E&Ae){var Sn=ie,jn=Be;ie=Be=t}var br=Ut?t:Qd(_),Xr=[_,E,R,ie,Be,Sn,jn,qe,gt,kt];if(br&&It(Xr,br),_=Xr[0],E=Xr[1],R=Xr[2],ie=Xr[3],Be=Xr[4],kt=Xr[9]=Xr[9]===t?Ut?0:_.length:yo(Xr[9]-Mn,0),!kt&&E&(ee|ne)&&(E&=~(ee|ne)),!E||E==X)var Si=Km(_,E,R);else E==ee||E==ne?Si=c_(_,E,kt):(E==se||E==(X|se))&&!Be.length?Si=Z0(_,E,R,ie):Si=Nd.apply(t,Xr);var fo=br?Ai:hr;return Fi(fo(Si,Xr),_,E)}function Fu(_,E,R,ie){return _===t||kc(_,au[R])&&!Eo.call(ie,R)?E:_}function Rp(_,E,R,ie,Be,qe){return os(_)&&os(E)&&(qe.set(E,_),Ze(_,E,t,Rp,qe),qe.delete(E)),_}function Gd(_){return Zd(_)?t:_}function bA(_,E,R,ie,Be,qe){var gt=R&L,kt=_.length,Ut=E.length;if(kt!=Ut&&!(gt&&Ut>kt))return!1;var Mn=qe.get(_),Sn=qe.get(E);if(Mn&&Sn)return Mn==E&&Sn==_;var jn=-1,br=!0,Xr=R&q?new gA:t;for(qe.set(_,E),qe.set(E,_);++jn<kt;){var Si=_[jn],fo=E[jn];if(ie)var Ei=gt?ie(fo,Si,jn,E,_,qe):ie(Si,fo,jn,_,E,qe);if(Ei!==t){if(Ei)continue;br=!1;break}if(Xr){if(!Su(E,function(Bo,jo){if(!uA(Xr,jo)&&(Si===Bo||Be(Si,Bo,R,ie,qe)))return Xr.push(jo)})){br=!1;break}}else if(!(Si===fo||Be(Si,fo,R,ie,qe))){br=!1;break}}return qe.delete(_),qe.delete(E),br}function Up(_,E,R,ie,Be,qe,gt){switch(R){case te:if(_.byteLength!=E.byteLength||_.byteOffset!=E.byteOffset)return!1;_=_.buffer,E=E.buffer;case Te:return!(_.byteLength!=E.byteLength||!qe(new Jc(_),new Jc(E)));case Fe:case ye:case nn:return kc(+_,+E);case Ge:return _.name==E.name&&_.message==E.message;case Zn:case Mr:return _==E+"";case Bt:var kt=Kh;case yr:var Ut=ie&L;if(kt||(kt=ou),_.size!=E.size&&!Ut)return!1;var Mn=gt.get(_);if(Mn)return Mn==E;ie|=q,gt.set(_,E);var Sn=bA(kt(_),kt(E),ie,Be,qe,gt);return gt.delete(_),Sn;case Or:if(Rh)return Rh.call(_)==Rh.call(E)}return!1}function X0(_,E,R,ie,Be,qe){var gt=R&L,kt=Um(_),Ut=kt.length,Mn=Um(E),Sn=Mn.length;if(Ut!=Sn&&!gt)return!1;for(var jn=Ut;jn--;){var br=kt[jn];if(!(gt?br in E:Eo.call(E,br)))return!1}var Xr=qe.get(_),Si=qe.get(E);if(Xr&&Si)return Xr==E&&Si==_;var fo=!0;qe.set(_,E),qe.set(E,_);for(var Ei=gt;++jn<Ut;){br=kt[jn];var Bo=_[br],jo=E[br];if(ie)var ph=gt?ie(jo,Bo,br,E,_,qe):ie(Bo,jo,br,_,E,qe);if(!(ph===t?Bo===jo||Be(Bo,jo,R,ie,qe):ph)){fo=!1;break}Ei||(Ei=br=="constructor")}if(fo&&!Ei){var JA=_.constructor,mh=E.constructor;JA!=mh&&"constructor"in _&&"constructor"in E&&!(typeof JA=="function"&&JA instanceof JA&&typeof mh=="function"&&mh instanceof mh)&&(fo=!1)}return qe.delete(_),qe.delete(E),fo}function Oc(_){return Lr(Pn(_,t,qh),_+"")}function Um(_){return Za(_,dr,Yh)}function jm(_){return Za(_,pr,k1)}var Qd=oh?function(_){return oh.get(_)}:WS;function $d(_){for(var E=_.name+"",R=uu[E],ie=Eo.call(uu,E)?R.length:0;ie--;){var Be=R[ie],qe=Be.func;if(qe==null||qe==_)return Be.name}return E}function Yd(_){var E=Eo.call(ze,"placeholder")?ze:_;return E.placeholder}function Qr(){var _=ze.iteratee||zS;return _=_===zS?ue:_,arguments.length?_(arguments[0],arguments[1]):_}function ch(_,E){var R=_.__data__;return j(E)?R[typeof E=="string"?"string":"hash"]:R.map}function Ko(_){for(var E=dr(_),R=E.length;R--;){var ie=E[R],Be=_[ie];E[R]=[ie,Be,Xe(Be)]}return E}function $h(_,E){var R=xd(_,E);return D(R)?R:t}function h_(_){var E=Eo.call(_,dA),R=_[dA];try{_[dA]=t;var ie=!0}catch{}var Be=cA.call(_);return ie&&(E?_[dA]=R:delete _[dA]),Be}var Yh=ih?function(_){return _==null?[]:(_=wo(_),nu(ih(_),function(E){return eh.call(_,E)}))}:GS,k1=ih?function(_){for(var E=[];_;)iu(E,Yh(_)),_=lu(_);return E}:GS,Ws=Oa;(gc&&Ws(new gc(new ArrayBuffer(1)))!=te||Nl&&Ws(new Nl)!=Bt||NA&&Ws(NA.resolve())!=rr||il&&Ws(new il)!=yr||pA&&Ws(new pA)!=_r)&&(Ws=function(_){var E=Oa(_),R=E==zn?_.constructor:t,ie=R?Wa(R):"";if(ie)switch(ie){case kf:return te;case Tp:return Bt;case Bu:return rr;case yc:return yr;case Om:return _r}return E});function d_(_,E,R){for(var ie=-1,Be=R.length;++ie<Be;){var qe=R[ie],gt=qe.size;switch(qe.type){case"drop":_+=gt;break;case"dropRight":E-=gt;break;case"take":E=Oo(E,_+gt);break;case"takeRight":_=yo(_,E-gt);break}}return{start:_,end:E}}function Fa(_){var E=_.match(Jn);return E?E[1].split(Vn):[]}function T1(_,E,R){E=Ba(E,_);for(var ie=-1,Be=E.length,qe=!1;++ie<Be;){var gt=Na(E[ie]);if(!(qe=_!=null&&R(_,gt)))break;_=_[gt]}return qe||++ie!=Be?qe:(Be=_==null?0:_.length,!!Be&&lg(Be)&&M(gt,Be)&&(ji(_)||zp(_)))}function P1(_){var E=_.length,R=new _.constructor(E);return E&&typeof _[0]=="string"&&Eo.call(_,"index")&&(R.index=_.index,R.input=_.input),R}function jf(_){return typeof _.constructor=="function"&&!xe(_)?Ha(lu(_)):{}}function zm(_,E,R){var ie=_.constructor;switch(E){case Te:return va(_);case Fe:case ye:return new ie(+_);case te:return Is(_,R);case oe:case je:case Ct:case Lt:case jt:case cr:case Re:case Ee:case Me:return Ud(_,R);case Bt:return new ie;case nn:case Mr:return new ie(_);case Zn:return ks(_);case yr:return new ie;case Or:return Gh(_)}}function A(_,E){var R=E.length;if(!R)return _;var ie=R-1;return E[ie]=(R>1?"& ":"")+E[ie],E=E.join(R>2?", ":" "),_.replace(Tr,`{
/* [wrapped with `+E+`] */
`)}function g(_){return ji(_)||zp(_)||!!(Ef&&_&&_[Ef])}function M(_,E){var R=typeof _;return E=E??ft,!!E&&(R=="number"||R!="symbol"&&Ca.test(_))&&_>-1&&_%1==0&&_<E}function w(_,E,R){if(!os(R))return!1;var ie=typeof E;return(ie=="number"?tA(R)&&M(E,R.length):ie=="string"&&E in R)?kc(R[E],_):!1}function P(_,E){if(ji(_))return!1;var R=typeof _;return R=="number"||R=="symbol"||R=="boolean"||_==null||hu(_)?!0:gn.test(_)||!yn.test(_)||E!=null&&_ in wo(E)}function j(_){var E=typeof _;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?_!=="__proto__":_===null}function Z(_){var E=$d(_),R=ze[E];if(typeof R!="function"||!(E in Pr.prototype))return!1;if(_===R)return!0;var ie=Qd(R);return!!ie&&_===ie[0]}function le(_){return!!pc&&pc in _}var de=Ti?ju:QS;function xe(_){var E=_&&_.constructor,R=typeof E=="function"&&E.prototype||au;return _===R}function Xe(_){return _===_&&!os(_)}function at(_,E){return function(R){return R==null?!1:R[_]===E&&(E!==t||_ in wo(R))}}function Kt(_){var E=ag(_,function(ie){return R.size===m&&R.clear(),ie}),R=E.cache;return E}function It(_,E){var R=_[1],ie=E[1],Be=R|ie,qe=Be<(X|H|V),gt=ie==V&&R==ee||ie==V&&R==re&&_[7].length<=E[8]||ie==(V|re)&&E[7].length<=E[8]&&R==ee;if(!(qe||gt))return _;ie&X&&(_[2]=E[2],Be|=R&X?0:G);var kt=E[3];if(kt){var Ut=_[3];_[3]=Ut?_A(Ut,kt,E[4]):kt,_[4]=Ut?Cl(_[3],C):E[4]}return kt=E[5],kt&&(Ut=_[5],_[5]=Ut?Ff(Ut,kt,E[6]):kt,_[6]=Ut?Cl(_[5],C):E[6]),kt=E[7],kt&&(_[7]=kt),ie&V&&(_[8]=_[8]==null?E[8]:Oo(_[8],E[8])),_[9]==null&&(_[9]=E[9]),_[0]=E[0],_[1]=Be,_}function un(_){var E=[];if(_!=null)for(var R in wo(_))E.push(R);return E}function vn(_){return cA.call(_)}function Pn(_,E,R){return E=yo(E===t?_.length-1:E,0),function(){for(var ie=arguments,Be=-1,qe=yo(ie.length-E,0),gt=Zt(qe);++Be<qe;)gt[Be]=ie[E+Be];Be=-1;for(var kt=Zt(E+1);++Be<E;)kt[Be]=ie[Be];return kt[E]=R(gt),Ma(_,this,kt)}}function Hn(_,E){return E.length<2?_:Pu(_,fi(E,0,-1))}function or(_,E){for(var R=_.length,ie=Oo(E.length,R),Be=Ja(_);ie--;){var qe=E[ie];_[ie]=M(qe,R)?Be[qe]:t}return _}function Gn(_,E){if(!(E==="constructor"&&typeof _[E]=="function")&&E!="__proto__")return _[E]}var hr=Xo(Ai),Fr=Dh||function(_,E){return er.setTimeout(_,E)},Lr=Xo(ho);function Fi(_,E,R){var ie=E+"";return Lr(_,A(ie,ts(Fa(ie),R)))}function Xo(_){var E=0,R=0;return function(){var ie=kp(),Be=pe-(ie-R);if(R=ie,Be>0){if(++E>=Ue)return arguments[0]}else E=0;return _.apply(t,arguments)}}function es(_,E){var R=-1,ie=_.length,Be=ie-1;for(E=E===t?ie:E;++R<E;){var qe=ln(R,Be),gt=_[qe];_[qe]=_[R],_[R]=gt}return _.length=E,_}var ka=Kt(function(_){var E=[];return _.charCodeAt(0)===46&&E.push(""),_.replace(Yn,function(R,ie,Be,qe){E.push(Be?qe.replace(Zi,"$1"):ie||R)}),E});function Na(_){if(typeof _=="string"||hu(_))return _;var E=_+"";return E=="0"&&1/_==-wt?"-0":E}function Wa(_){if(_!=null){try{return RA.call(_)}catch{}try{return _+""}catch{}}return""}function ts(_,E){return Us(tn,function(R){var ie="_."+R[0];E&R[1]&&!ru(_,ie)&&_.push(ie)}),_.sort()}function ll(_){if(_ instanceof Pr)return _.clone();var E=new Pi(_.__wrapped__,_.__chain__);return E.__actions__=Ja(_.__actions__),E.__index__=_.__index__,E.__values__=_.__values__,E}function Gs(_,E,R){(R?w(_,E,R):E===t)?E=1:E=yo(b(E),0);var ie=_==null?0:_.length;if(!ie||E<1)return[];for(var Be=0,qe=0,gt=Zt(rh(ie/E));Be<ie;)gt[qe++]=fi(_,Be,Be+=E);return gt}function ns(_){for(var E=-1,R=_==null?0:_.length,ie=0,Be=[];++E<R;){var qe=_[E];qe&&(Be[ie++]=qe)}return Be}function rs(){var _=arguments.length;if(!_)return[];for(var E=Zt(_-1),R=arguments[0],ie=_;ie--;)E[ie-1]=arguments[ie];return iu(ji(R)?Ja(R):[R],za(E,1))}var Ra=fn(function(_,E){return is(_)?$A(_,za(E,1,is,!0)):[]}),ul=fn(function(_,E){var R=Ic(E);return is(R)&&(R=t),is(_)?$A(_,za(E,1,is,!0),Qr(R,2)):[]}),qd=fn(function(_,E){var R=Ic(E);return is(R)&&(R=t),is(_)?$A(_,za(E,1,is,!0),t,R):[]});function hh(_,E,R){var ie=_==null?0:_.length;return ie?(E=R||E===t?1:b(E),fi(_,E<0?0:E,ie)):[]}function Al(_,E,R){var ie=_==null?0:_.length;return ie?(E=R||E===t?1:b(E),E=ie-E,fi(_,0,E<0?0:E)):[]}function Ru(_,E){return _&&_.length?zs(_,Qr(E,3),!0,!0):[]}function Qs(_,E){return _&&_.length?zs(_,Qr(E,3),!0):[]}function jp(_,E,R,ie){var Be=_==null?0:_.length;return Be?(R&&typeof R!="number"&&w(_,E,R)&&(R=0,ie=Be),Ld(_,E,R,ie)):[]}function Uu(_,E,R){var ie=_==null?0:_.length;if(!ie)return-1;var Be=R==null?0:b(R);return Be<0&&(Be=yo(ie+Be,0)),KA(_,Qr(E,3),Be)}function Bc(_,E,R){var ie=_==null?0:_.length;if(!ie)return-1;var Be=ie-1;return R!==t&&(Be=b(R),Be=R<0?yo(ie+Be,0):Oo(Be,ie-1)),KA(_,Qr(E,3),Be,!0)}function qh(_){var E=_==null?0:_.length;return E?za(_,1):[]}function Yl(_){var E=_==null?0:_.length;return E?za(_,wt):[]}function Vd(_,E){var R=_==null?0:_.length;return R?(E=E===t?1:b(E),za(_,E)):[]}function Nm(_){for(var E=-1,R=_==null?0:_.length,ie={};++E<R;){var Be=_[E];ie[Be[0]]=Be[1]}return ie}function N2(_){return _&&_.length?_[0]:t}function tS(_,E,R){var ie=_==null?0:_.length;if(!ie)return-1;var Be=R==null?0:b(R);return Be<0&&(Be=yo(ie+Be,0)),ha(_,E,Be)}function J0(_){var E=_==null?0:_.length;return E?fi(_,0,-1):[]}var W2=fn(function(_){var E=oa(_,Sc);return E.length&&E[0]===_[0]?wc(E):[]}),nS=fn(function(_){var E=Ic(_),R=oa(_,Sc);return E===Ic(R)?E=t:R.pop(),R.length&&R[0]===_[0]?wc(R,Qr(E,2)):[]}),rS=fn(function(_){var E=Ic(_),R=oa(_,Sc);return E=typeof E=="function"?E:t,E&&R.pop(),R.length&&R[0]===_[0]?wc(R,t,E):[]});function iS(_,E){return _==null?"":Lh.call(_,E)}function Ic(_){var E=_==null?0:_.length;return E?_[E-1]:t}function oS(_,E,R){var ie=_==null?0:_.length;if(!ie)return-1;var Be=ie;return R!==t&&(Be=b(R),Be=Be<0?yo(ie+Be,0):Oo(Be,ie-1)),E===E?q0(_,E,Be):KA(_,bf,Be,!0)}function aS(_,E){return _&&_.length?ct(_,b(E)):t}var G2=fn(K1);function K1(_,E){return _&&_.length&&E&&E.length?zt(_,E):_}function Q2(_,E,R){return _&&_.length&&E&&E.length?zt(_,E,Qr(R,2)):_}function $2(_,E,R){return _&&_.length&&E&&E.length?zt(_,E,t,R):_}var Y2=Oc(function(_,E){var R=_==null?0:_.length,ie=QA(_,E);return Ft(_,oa(E,function(Be){return M(Be,R)?+Be:Be}).sort(Lf)),ie});function sS(_,E){var R=[];if(!(_&&_.length))return R;var ie=-1,Be=[],qe=_.length;for(E=Qr(E,3);++ie<qe;){var gt=_[ie];E(gt,ie,_)&&(R.push(gt),Be.push(ie))}return Ft(_,Be),R}function Wm(_){return _==null?_:fA.call(_)}function lS(_,E,R){var ie=_==null?0:_.length;return ie?(R&&typeof R!="number"&&w(_,E,R)?(E=0,R=ie):(E=E==null?0:b(E),R=R===t?ie:b(R)),fi(_,E,R)):[]}function q2(_,E){return So(_,E)}function uS(_,E,R){return to(_,E,Qr(R,2))}function AS(_,E){var R=_==null?0:_.length;if(R){var ie=So(_,E);if(ie<R&&kc(_[ie],E))return ie}return-1}function cS(_,E){return So(_,E,!0)}function V2(_,E,R){return to(_,E,Qr(R,2),!0)}function hS(_,E){var R=_==null?0:_.length;if(R){var ie=So(_,E,!0)-1;if(kc(_[ie],E))return ie}return-1}function dS(_){return _&&_.length?$i(_):[]}function eg(_,E){return _&&_.length?$i(_,Qr(E,2)):[]}function H2(_){var E=_==null?0:_.length;return E?fi(_,1,E):[]}function f_(_,E,R){return _&&_.length?(E=R||E===t?1:b(E),fi(_,0,E<0?0:E)):[]}function Z2(_,E,R){var ie=_==null?0:_.length;return ie?(E=R||E===t?1:b(E),E=ie-E,fi(_,E<0?0:E,ie)):[]}function $s(_,E){return _&&_.length?zs(_,Qr(E,3),!1,!0):[]}function p_(_,E){return _&&_.length?zs(_,Qr(E,3)):[]}var fS=fn(function(_){return Po(za(_,1,is,!0))}),X2=fn(function(_){var E=Ic(_);return is(E)&&(E=t),Po(za(_,1,is,!0),Qr(E,2))}),m_=fn(function(_){var E=Ic(_);return E=typeof E=="function"?E:t,Po(za(_,1,is,!0),t,E)});function g_(_){return _&&_.length?Po(_):[]}function pS(_,E){return _&&_.length?Po(_,Qr(E,2)):[]}function mS(_,E){return E=typeof E=="function"?E:t,_&&_.length?Po(_,t,E):[]}function y_(_){if(!(_&&_.length))return[];var E=0;return _=nu(_,function(R){if(is(R))return E=yo(R.length,E),!0}),Hc(E,function(R){return oa(_,xf(R))})}function J2(_,E){if(!(_&&_.length))return[];var R=y_(_);return E==null?R:oa(R,function(ie){return Ma(E,t,ie)})}var ex=fn(function(_,E){return is(_)?$A(_,E):[]}),eA=fn(function(_){return Ql(nu(_,is))}),v_=fn(function(_){var E=Ic(_);return is(E)&&(E=t),Ql(nu(_,is),Qr(E,2))}),tx=fn(function(_){var E=Ic(_);return E=typeof E=="function"?E:t,Ql(nu(_,is),t,E)}),zf=fn(y_);function tg(_,E){return Mc(_||[],E||[],lh)}function ng(_,E){return Mc(_||[],E||[],ur)}var Gm=fn(function(_){var E=_.length,R=E>1?_[E-1]:t;return R=typeof R=="function"?(_.pop(),R):t,J2(_,R)});function rg(_){var E=ze(_);return E.__chain__=!0,E}function D1(_,E){return E(_),_}function L1(_,E){return E(_)}var gS=Oc(function(_){var E=_.length,R=E?_[0]:0,ie=this.__wrapped__,Be=function(qe){return QA(qe,_)};return E>1||this.__actions__.length||!(ie instanceof Pr)||!M(R)?this.thru(Be):(ie=ie.slice(R,+R+(E?1:0)),ie.__actions__.push({func:L1,args:[Be],thisArg:t}),new Pi(ie,this.__chain__).thru(function(qe){return E&&!qe.length&&qe.push(t),qe}))});function nx(){return rg(this)}function rx(){return new Pi(this.value(),this.__chain__)}function yS(){this.__values__===t&&(this.__values__=h(this.value()));var _=this.__index__>=this.__values__.length,E=_?t:this.__values__[this.__index__++];return{done:_,value:E}}function ix(){return this}function ox(_){for(var E,R=this;R instanceof To;){var ie=ll(R);ie.__index__=0,ie.__values__=t,E?Be.__wrapped__=ie:E=ie;var Be=ie;R=R.__wrapped__}return Be.__wrapped__=_,E}function __(){var _=this.__wrapped__;if(_ instanceof Pr){var E=_;return this.__actions__.length&&(E=new Pr(this)),E=E.reverse(),E.__actions__.push({func:L1,args:[Wm],thisArg:t}),new Pi(E,this.__chain__)}return this.thru(Wm)}function C_(){return Gl(this.__wrapped__,this.__actions__)}var vS=qA(function(_,E,R){Eo.call(_,R)?++_[R]:Iu(_,R,1)});function _S(_,E,R){var ie=ji(_)?kh:Tm;return R&&w(_,E,R)&&(E=t),ie(_,Qr(E,3))}function ax(_,E){var R=ji(_)?nu:yA;return R(_,Qr(E,3))}var sx=zd(Uu),ig=zd(Bc);function Vh(_,E){return za(Qm(_,E),1)}function Nf(_,E){return za(Qm(_,E),wt)}function lx(_,E,R){return R=R===t?1:b(R),za(Qm(_,E),R)}function F1(_,E){var R=ji(_)?Us:vo;return R(_,Qr(E,3))}function ux(_,E){var R=ji(_)?_l:Go;return R(_,Qr(E,3))}var CS=qA(function(_,E,R){Eo.call(_,R)?_[R].push(E):Iu(_,R,[E])});function R1(_,E,R,ie){_=tA(_)?_:qi(_),R=R&&!ie?b(R):0;var Be=_.length;return R<0&&(R=yo(Be+R,0)),Np(_)?R<=Be&&_.indexOf(E,R)>-1:!!Be&&ha(_,E,R)>-1}var b_=fn(function(_,E,R){var ie=-1,Be=typeof E=="function",qe=tA(_)?Zt(_.length):[];return vo(_,function(gt){qe[++ie]=Be?Ma(E,gt,R):YA(gt,E,R)}),qe}),bS=qA(function(_,E,R){Iu(_,R,E)});function Qm(_,E){var R=ji(_)?oa:De;return R(_,Qr(E,3))}function x_(_,E,R,ie){return _==null?[]:(ji(E)||(E=E==null?[]:[E]),R=ie?t:R,ji(R)||(R=R==null?[]:[R]),mt(_,E,R))}var $m=qA(function(_,E,R){_[R?0:1].push(E)},function(){return[[],[]]});function Ax(_,E,R){var ie=ji(_)?Yc:DA,Be=arguments.length<3;return ie(_,Qr(E,4),R,Be,vo)}function cx(_,E,R){var ie=ji(_)?wm:DA,Be=arguments.length<3;return ie(_,Qr(E,4),R,Be,Go)}function w_(_,E){var R=ji(_)?nu:yA;return R(_,Wf(Qr(E,3)))}function hx(_){var E=ji(_)?Kd:Un;return E(_)}function U1(_,E,R){(R?w(_,E,R):E===t)?E=1:E=b(E);var ie=ji(_)?Kp:cn;return ie(_,E)}function dx(_){var E=ji(_)?Dd:fa;return E(_)}function xS(_){if(_==null)return 0;if(tA(_))return Np(_)?Xc(_):_.length;var E=Ws(_);return E==Bt||E==yr?_.size:fe(_).length}function wS(_,E,R){var ie=ji(_)?Su:Mo;return R&&w(_,E,R)&&(E=t),ie(_,Qr(E,3))}var fx=fn(function(_,E){if(_==null)return[];var R=E.length;return R>1&&w(_,E[0],E[1])?E=[]:R>2&&w(E[0],E[1],E[2])&&(E=[E[0]]),mt(_,za(E,1),[])}),j1=jA||function(){return er.Date.now()};function MS(_,E){if(typeof E!="function")throw new js(s);return _=b(_),function(){if(--_<1)return E.apply(this,arguments)}}function px(_,E,R){return E=R?t:E,E=_&&E==null?_.length:E,uo(_,V,t,t,t,t,E)}function mx(_,E){var R;if(typeof E!="function")throw new js(s);return _=b(_),function(){return--_>0&&(R=E.apply(this,arguments)),_<=1&&(E=t),R}}var og=fn(function(_,E,R){var ie=X;if(R.length){var Be=Cl(R,Yd(og));ie|=se}return uo(_,ie,E,R,Be)}),Hd=fn(function(_,E,R){var ie=X|H;if(R.length){var Be=Cl(R,Yd(Hd));ie|=se}return uo(E,ie,_,R,Be)});function M_(_,E,R){E=R?t:E;var ie=uo(_,ee,t,t,t,t,t,E);return ie.placeholder=M_.placeholder,ie}function S_(_,E,R){E=R?t:E;var ie=uo(_,ne,t,t,t,t,t,E);return ie.placeholder=S_.placeholder,ie}function E_(_,E,R){var ie,Be,qe,gt,kt,Ut,Mn=0,Sn=!1,jn=!1,br=!0;if(typeof _!="function")throw new js(s);E=T(E)||0,os(R)&&(Sn=!!R.leading,jn="maxWait"in R,qe=jn?yo(T(R.maxWait)||0,E):qe,br="trailing"in R?!!R.trailing:br);function Xr(Sl){var ef=ie,$p=Be;return ie=Be=t,Mn=Sl,gt=_.apply($p,ef),gt}function Si(Sl){return Mn=Sl,kt=Fr(Bo,E),Sn?Xr(Sl):gt}function fo(Sl){var ef=Sl-Ut,$p=Sl-Mn,qT=E-ef;return jn?Oo(qT,qe-$p):qT}function Ei(Sl){var ef=Sl-Ut,$p=Sl-Mn;return Ut===t||ef>=E||ef<0||jn&&$p>=qe}function Bo(){var Sl=j1();if(Ei(Sl))return jo(Sl);kt=Fr(Bo,fo(Sl))}function jo(Sl){return kt=t,br&&ie?Xr(Sl):(ie=Be=t,gt)}function ph(){kt!==t&&sl(kt),Mn=0,ie=Ut=Be=kt=t}function JA(){return kt===t?gt:jo(j1())}function mh(){var Sl=j1(),ef=Ei(Sl);if(ie=arguments,Be=this,Ut=Sl,ef){if(kt===t)return Si(Ut);if(jn)return sl(kt),kt=Fr(Bo,E),Xr(Ut)}return kt===t&&(kt=Fr(Bo,E)),gt}return mh.cancel=ph,mh.flush=JA,mh}var gx=fn(function(_,E){return km(_,1,E)}),yx=fn(function(_,E,R){return km(_,T(E)||0,R)});function O_(_){return uo(_,be)}function ag(_,E){if(typeof _!="function"||E!=null&&typeof E!="function")throw new js(s);var R=function(){var ie=arguments,Be=E?E.apply(this,ie):ie[0],qe=R.cache;if(qe.has(Be))return qe.get(Be);var gt=_.apply(this,ie);return R.cache=qe.set(Be,gt)||qe,gt};return R.cache=new(ag.Cache||ui),R}ag.Cache=ui;function Wf(_){if(typeof _!="function")throw new js(s);return function(){var E=arguments;switch(E.length){case 0:return!_.call(this);case 1:return!_.call(this,E[0]);case 2:return!_.call(this,E[0],E[1]);case 3:return!_.call(this,E[0],E[1],E[2])}return!_.apply(this,E)}}function vx(_){return mx(2,_)}var B_=Ns(function(_,E){E=E.length==1&&ji(E[0])?oa(E[0],Ul(Qr())):oa(za(E,1),Ul(Qr()));var R=E.length;return fn(function(ie){for(var Be=-1,qe=Oo(ie.length,R);++Be<qe;)ie[Be]=E[Be].call(this,ie[Be]);return Ma(_,this,ie)})}),z1=fn(function(_,E){var R=Cl(E,Yd(z1));return uo(_,se,t,E,R)}),xA=fn(function(_,E){var R=Cl(E,Yd(xA));return uo(_,Ae,t,E,R)}),Ym=Oc(function(_,E){return uo(_,re,t,t,t,E)});function _x(_,E){if(typeof _!="function")throw new js(s);return E=E===t?E:b(E),fn(_,E)}function Cx(_,E){if(typeof _!="function")throw new js(s);return E=E==null?0:yo(b(E),0),fn(function(R){var ie=R[E],Be=Ia(R,0,E);return ie&&iu(Be,ie),Ma(_,this,Be)})}function bx(_,E,R){var ie=!0,Be=!0;if(typeof _!="function")throw new js(s);return os(R)&&(ie="leading"in R?!!R.leading:ie,Be="trailing"in R?!!R.trailing:Be),E_(_,E,{leading:ie,maxWait:E,trailing:Be})}function xx(_){return px(_,1)}function wx(_,E){return z1(Lu(E),_)}function Mx(){if(!arguments.length)return[];var _=arguments[0];return ji(_)?_:[_]}function SS(_){return Zo(_,K)}function Sx(_,E){return E=typeof E=="function"?E:t,Zo(_,K,E)}function Gf(_){return Zo(_,k|K)}function Ex(_,E){return E=typeof E=="function"?E:t,Zo(_,k|K,E)}function Ox(_,E){return E==null||Tu(_,E,dr(E))}function kc(_,E){return _===E||_!==_&&E!==E}var Bx=Uf(vA),ES=Uf(function(_,E){return _>=E}),zp=Rd(function(){return arguments}())?Rd:function(_){return as(_)&&Eo.call(_,"callee")&&!eh.call(_,"callee")},ji=Zt.isArray,sg=Li?Ul(Li):S;function tA(_){return _!=null&&lg(_.length)&&!ju(_)}function is(_){return as(_)&&tA(_)}function Ix(_){return _===!0||_===!1||as(_)&&Oa(_)==Fe}var dh=Of||QS,N1=ko?Ul(ko):l;function W1(_){return as(_)&&_.nodeType===1&&!Zd(_)}function OS(_){if(_==null)return!0;if(tA(_)&&(ji(_)||typeof _=="string"||typeof _.splice=="function"||dh(_)||$f(_)||zp(_)))return!_.length;var E=Ws(_);if(E==Bt||E==yr)return!_.size;if(xe(_))return!fe(_).length;for(var R in _)if(Eo.call(_,R))return!1;return!0}function BS(_,E){return c(_,E)}function IS(_,E,R){R=typeof R=="function"?R:t;var ie=R?R(_,E):t;return ie===t?c(_,E,t,R):!!ie}function Qf(_){if(!as(_))return!1;var E=Oa(_);return E==Ge||E==ke||typeof _.message=="string"&&typeof _.name=="string"&&!Zd(_)}function ql(_){return typeof _=="number"&&Bf(_)}function ju(_){if(!os(_))return!1;var E=Oa(_);return E==st||E==ht||E==Nt||E==xn}function G1(_){return typeof _=="number"&&_==b(_)}function lg(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=ft}function os(_){var E=typeof _;return _!=null&&(E=="object"||E=="function")}function as(_){return _!=null&&typeof _=="object"}var kx=ia?Ul(ia):x;function Tx(_,E){return _===E||O(_,E,Ko(E))}function Px(_,E,R){return R=typeof R=="function"?R:t,O(_,E,Ko(E),R)}function kS(_){return T_(_)&&_!=+_}function Kx(_){if(de(_))throw new ti(o);return D(_)}function I_(_){return _===null}function k_(_){return _==null}function T_(_){return typeof _=="number"||as(_)&&Oa(_)==nn}function Zd(_){if(!as(_)||Oa(_)!=zn)return!1;var E=lu(_);if(E===null)return!0;var R=Eo.call(E,"constructor")&&E.constructor;return typeof R=="function"&&R instanceof R&&RA.call(R)==UA}var ug=Va?Ul(Va):U;function Dx(_){return G1(_)&&_>=-ft&&_<=ft}var Q1=tl?Ul(tl):W;function Np(_){return typeof _=="string"||!ji(_)&&as(_)&&Oa(_)==Mr}function hu(_){return typeof _=="symbol"||as(_)&&Oa(_)==Or}var $f=Rl?Ul(Rl):$;function P_(_){return _===t}function K_(_){return as(_)&&Ws(_)==_r}function TS(_){return as(_)&&Oa(_)==gi}var d=Uf(Ie),u=Uf(function(_,E){return _<=E});function h(_){if(!_)return[];if(tA(_))return Np(_)?Hu(_):Ja(_);if(th&&_[th])return Bp(_[th]());var E=Ws(_),R=E==Bt?Kh:E==yr?ou:qi;return R(_)}function y(_){if(!_)return _===0?_:0;if(_=T(_),_===wt||_===-wt){var E=_<0?-1:1;return E*bt}return _===_?_:0}function b(_){var E=y(_),R=E%1;return E===E?R?E-R:E:0}function B(_){return _?ku(b(_),0,tt):0}function T(_){if(typeof _=="number")return _;if(hu(_))return $e;if(os(_)){var E=typeof _.valueOf=="function"?_.valueOf():_;_=os(E)?E+"":E}if(typeof _!="string")return _===0?_:+_;_=Ac(_);var R=Xi.test(_);return R||ra.test(_)?On(_.slice(2),R?2:8):Yr.test(_)?$e:+_}function F(_){return $l(_,pr(_))}function z(_){return _?ku(b(_),-ft,ft):_===0?_:0}function Q(_){return _==null?"":_o(_)}var J=Ju(function(_,E){if(xe(E)||tA(E)){$l(E,dr(E),_);return}for(var R in E)Eo.call(E,R)&&lh(_,R,E[R])}),ae=Ju(function(_,E){$l(E,pr(E),_)}),ge=Ju(function(_,E,R,ie){$l(E,pr(E),_,ie)}),Ce=Ju(function(_,E,R,ie){$l(E,dr(E),_,ie)}),Se=Oc(QA);function Le(_,E){var R=Ha(_);return E==null?R:Cr(R,E)}var Qe=fn(function(_,E){_=wo(_);var R=-1,ie=E.length,Be=ie>2?E[2]:t;for(Be&&w(E[0],E[1],Be)&&(ie=1);++R<ie;)for(var qe=E[R],gt=pr(qe),kt=-1,Ut=gt.length;++kt<Ut;){var Mn=gt[kt],Sn=_[Mn];(Sn===t||kc(Sn,au[Mn])&&!Eo.call(_,Mn))&&(_[Mn]=qe[Mn])}return _}),Je=fn(function(_){return _.push(t,Rp),Ma(Ts,t,_)});function Mt(_,E){return Mp(_,Qr(E,3),xl)}function ut(_,E){return Mp(_,Qr(E,3),xc)}function ve(_,E){return _==null?_:bc(_,Qr(E,3),pr)}function Ne(_,E){return _==null?_:cu(_,Qr(E,3),pr)}function dt(_,E){return _&&xl(_,Qr(E,3))}function Wt(_,E){return _&&xc(_,Qr(E,3))}function bn(_){return _==null?[]:uh(_,dr(_))}function Ht(_){return _==null?[]:uh(_,pr(_))}function an(_,E,R){var ie=_==null?t:Pu(_,E);return ie===t?R:ie}function Bn(_,E){return _!=null&&T1(_,E,Df)}function Cn(_,E){return _!=null&&T1(_,E,Wh)}var Rn=Dm(function(_,E,R){E!=null&&typeof E.toString!="function"&&(E=cA.call(E)),_[E]=R},XA(Kc)),hn=Dm(function(_,E,R){E!=null&&typeof E.toString!="function"&&(E=cA.call(E)),Eo.call(_,E)?_[E].push(R):_[E]=[R]},Qr),fr=fn(YA);function dr(_){return tA(_)?sh(_):fe(_)}function pr(_){return tA(_)?sh(_,!0):me(_)}function Ir(_,E){var R={};return E=Qr(E,3),xl(_,function(ie,Be,qe){Iu(R,E(ie,Be,qe),ie)}),R}function Yi(_,E){var R={};return E=Qr(E,3),xl(_,function(ie,Be,qe){Iu(R,Be,E(ie,Be,qe))}),R}var Ga=Ju(function(_,E,R){Ze(_,E,R)}),Ts=Ju(function(_,E,R,ie){Ze(_,E,R,ie)}),wl=Oc(function(_,E){var R={};if(_==null)return R;var ie=!1;E=oa(E,function(qe){return qe=Ba(qe,_),ie||(ie=qe.length>1),qe}),$l(_,jm(_),R),ie&&(R=Zo(R,k|I|K,Gd));for(var Be=E.length;Be--;)gs(R,E[Be]);return R});function Tc(_,E){return cl(_,Wf(Qr(E)))}var zu=Oc(function(_,E){return _==null?{}:vt(_,E)});function cl(_,E){if(_==null)return{};var R=oa(jm(_),function(ie){return[ie]});return E=Qr(E),Et(_,R,function(ie,Be){return E(ie,Be[0])})}function Vl(_,E,R){E=Ba(E,_);var ie=-1,Be=E.length;for(Be||(Be=1,_=t);++ie<Be;){var qe=_==null?t:_[Na(E[ie])];qe===t&&(ie=Be,qe=R),_=ju(qe)?qe.call(_):qe}return _}function ss(_,E,R){return _==null?_:ur(_,E,R)}function Ys(_,E,R,ie){return ie=typeof ie=="function"?ie:t,_==null?_:ur(_,E,R,ie)}var du=Rm(dr),fu=Rm(pr);function Nu(_,E,R){var ie=ji(_),Be=ie||dh(_)||$f(_);if(E=Qr(E,4),R==null){var qe=_&&_.constructor;Be?R=ie?new qe:[]:os(_)?R=ju(qe)?Ha(lu(_)):{}:R={}}return(Be?Us:xl)(_,function(gt,kt,Ut){return E(R,gt,kt,Ut)}),R}function qs(_,E){return _==null?!0:gs(_,E)}function VA(_,E,R){return _==null?_:Du(_,E,Lu(R))}function nA(_,E,R,ie){return ie=typeof ie=="function"?ie:t,_==null?_:Du(_,E,Lu(R),ie)}function qi(_){return _==null?[]:Ep(_,dr(_))}function Hl(_){return _==null?[]:Ep(_,pr(_))}function Ua(_,E,R){return R===t&&(R=E,E=t),R!==t&&(R=T(R),R=R===R?R:0),E!==t&&(E=T(E),E=E===E?E:0),ku(T(_),E,R)}function Qa(_,E,R){return E=y(E),R===t?(R=E,E=0):R=y(R),_=T(_),Ku(_,E,R)}function hl(_,E,R){if(R&&typeof R!="boolean"&&w(_,E,R)&&(E=R=t),R===t&&(typeof E=="boolean"?(R=E,E=t):typeof _=="boolean"&&(R=_,_=t)),_===t&&E===t?(_=0,E=1):(_=y(_),E===t?(E=_,_=0):E=y(E)),_>E){var ie=_;_=E,E=ie}if(R||_%1||E%1){var Be=If();return Oo(_+Be*(E-_+sr("1e-"+((Be+"").length-1))),E)}return ln(_,E)}var Wp=jd(function(_,E,R){return E=E.toLowerCase(),_+(R?wA(E):E)});function wA(_){return F_(Q(_).toLowerCase())}function Ag(_){return _=Q(_),_&&_.replace(ao,Op).replace(Vu,"")}function Pc(_,E,R){_=Q(_),E=_o(E);var ie=_.length;R=R===t?ie:ku(b(R),0,ie);var Be=R;return R-=E.length,R>=0&&_.slice(R,Be)==E}function MA(_){return _=Q(_),_&&Rt.test(_)?_.replace(yt,jl):_}function Ml(_){return _=Q(_),_&&$t.test(_)?_.replace(Sr,"\\$&"):_}var HA=jd(function(_,E,R){return _+(R?"-":"")+E.toLowerCase()}),Xd=jd(function(_,E,R){return _+(R?" ":"")+E.toLowerCase()}),Lx=H0("toLowerCase");function Fx(_,E,R){_=Q(_),E=b(E);var ie=E?Xc(_):0;if(!E||ie>=E)return _;var Be=(E-ie)/2;return Fm(zA(Be),R)+_+Fm(rh(Be),R)}function Rx(_,E,R){_=Q(_),E=b(E);var ie=E?Xc(_):0;return E&&ie<E?_+Fm(E-ie,R):_}function Ux(_,E,R){_=Q(_),E=b(E);var ie=E?Xc(_):0;return E&&ie<E?Fm(E-ie,R)+_:_}function D_(_,E,R){return R||E==null?E=0:E&&(E=+E),Fh(Q(_).replace(Kn,""),E||0)}function L_(_,E,R){return(R?w(_,E,R):E===t)?E=1:E=b(E),on(Q(_),E)}function Jd(){var _=arguments,E=Q(_[0]);return _.length<3?E:E.replace(_[1],_[2])}var jx=jd(function(_,E,R){return _+(R?"_":"")+E.toLowerCase()});function zx(_,E,R){return R&&typeof R!="number"&&w(_,E,R)&&(E=R=t),R=R===t?tt:R>>>0,R?(_=Q(_),_&&(typeof E=="string"||E!=null&&!ug(E))&&(E=_o(E),!E&&cc(_))?Ia(Hu(_),0,R):_.split(E,R)):[]}var PS=jd(function(_,E,R){return _+(R?" ":"")+F_(E)});function KS(_,E,R){return _=Q(_),R=R==null?0:ku(b(R),0,_.length),E=_o(E),_.slice(R,R+E.length)==E}function DS(_,E,R){var ie=ze.templateSettings;R&&w(_,E,R)&&(E=t),_=Q(_),E=ge({},E,ie,Fu);var Be=ge({},E.imports,ie.imports,Fu),qe=dr(Be),gt=Ep(Be,qe),kt,Ut,Mn=0,Sn=E.interpolate||Vo,jn="__p += '",br=dc((E.escape||Vo).source+"|"+Sn.source+"|"+(Sn===At?ei:Vo).source+"|"+(E.evaluate||Vo).source+"|$","g"),Xr="//# sourceURL="+(Eo.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xi+"]")+`
`;_.replace(br,function(Ei,Bo,jo,ph,JA,mh){return jo||(jo=ph),jn+=_.slice(Mn,mh).replace(la,nl),Bo&&(kt=!0,jn+=`' +
__e(`+Bo+`) +
'`),JA&&(Ut=!0,jn+=`';
`+JA+`;
__p += '`),jo&&(jn+=`' +
((__t = (`+jo+`)) == null ? '' : __t) +
'`),Mn=mh+Ei.length,Ei}),jn+=`';
`;var Si=Eo.call(E,"variable")&&E.variable;if(!Si)jn=`with (obj) {
`+jn+`
}
`;else if(_i.test(Si))throw new ti(a);jn=(Ut?jn.replace(p,""):jn).replace(Ke,"$1").replace(rt,"$1;"),jn="function("+(Si||"obj")+`) {
`+(Si?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(kt?", __e = _.escape":"")+(Ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jn+`return __p
}`;var fo=Gx(function(){return eo(qe,Xr+"return "+jn).apply(t,gt)});if(fo.source=jn,Qf(fo))throw fo;return fo}function LS(_){return Q(_).toLowerCase()}function FS(_){return Q(_).toUpperCase()}function RS(_,E,R){if(_=Q(_),_&&(R||E===t))return Ac(_);if(!_||!(E=_o(E)))return _;var ie=Hu(_),Be=Hu(E),qe=Eu(ie,Be),gt=Zc(ie,Be)+1;return Ia(ie,qe,gt).join("")}function US(_,E,R){if(_=Q(_),_&&(R||E===t))return _.slice(0,Mf(_)+1);if(!_||!(E=_o(E)))return _;var ie=Hu(_),Be=Zc(ie,Hu(E))+1;return Ia(ie,0,Be).join("")}function jS(_,E,R){if(_=Q(_),_&&(R||E===t))return _.replace(Kn,"");if(!_||!(E=_o(E)))return _;var ie=Hu(_),Be=Eu(ie,Hu(E));return Ia(ie,Be).join("")}function fh(_,E){var R=_e,ie=Pe;if(os(E)){var Be="separator"in E?E.separator:Be;R="length"in E?b(E.length):R,ie="omission"in E?_o(E.omission):ie}_=Q(_);var qe=_.length;if(cc(_)){var gt=Hu(_);qe=gt.length}if(R>=qe)return _;var kt=R-Xc(ie);if(kt<1)return ie;var Ut=gt?Ia(gt,0,kt).join(""):_.slice(0,kt);if(Be===t)return Ut+ie;if(gt&&(kt+=Ut.length-kt),ug(Be)){if(_.slice(kt).search(Be)){var Mn,Sn=Ut;for(Be.global||(Be=dc(Be.source,Q(Wr.exec(Be))+"g")),Be.lastIndex=0;Mn=Be.exec(Sn);)var jn=Mn.index;Ut=Ut.slice(0,jn===t?kt:jn)}}else if(_.indexOf(_o(Be),kt)!=kt){var br=Ut.lastIndexOf(Be);br>-1&&(Ut=Ut.slice(0,br))}return Ut+ie}function $1(_){return _=Q(_),_&&lt.test(_)?_.replace(ot,wd):_}var Nx=jd(function(_,E,R){return _+(R?" ":"")+E.toUpperCase()}),F_=H0("toUpperCase");function Wx(_,E,R){return _=Q(_),E=R?t:E,E===t?wf(_)?Sf(_):Mm(_):_.match(E)||[]}var Gx=fn(function(_,E){try{return Ma(_,t,E)}catch(R){return Qf(R)?R:new ti(R)}}),pu=Oc(function(_,E){return Us(E,function(R){R=Na(R),Iu(_,R,og(_[R],_))}),_});function ZA(_){var E=_==null?0:_.length,R=Qr();return _=E?oa(_,function(ie){if(typeof ie[1]!="function")throw new js(s);return[R(ie[0]),ie[1]]}):[],fn(function(ie){for(var Be=-1;++Be<E;){var qe=_[Be];if(Ma(qe[0],this,ie))return Ma(qe[1],this,ie)}})}function Gp(_){return Im(Zo(_,k))}function XA(_){return function(){return _}}function Qp(_,E){return _==null||_!==_?E:_}var Hh=Dp(),Oq=Dp(!0);function Kc(_){return _}function zS(_){return ue(typeof _=="function"?_:Zo(_,k))}function Bq(_){return He(Zo(_,k))}function Iq(_,E){return Ve(_,Zo(E,k))}var kq=fn(function(_,E){return function(R){return YA(R,_,E)}}),Tq=fn(function(_,E){return function(R){return YA(_,R,E)}});function NS(_,E,R){var ie=dr(E),Be=uh(E,ie);R==null&&!(os(E)&&(Be.length||!ie.length))&&(R=E,E=_,_=this,Be=uh(E,dr(E)));var qe=!(os(R)&&"chain"in R)||!!R.chain,gt=ju(_);return Us(Be,function(kt){var Ut=E[kt];_[kt]=Ut,gt&&(_.prototype[kt]=function(){var Mn=this.__chain__;if(qe||Mn){var Sn=_(this.__wrapped__),jn=Sn.__actions__=Ja(this.__actions__);return jn.push({func:Ut,args:arguments,thisArg:_}),Sn.__chain__=Mn,Sn}return Ut.apply(_,iu([this.value()],arguments))})}),_}function Pq(){return er._===this&&(er._=rl),this}function WS(){}function Kq(_){return _=b(_),fn(function(E){return ct(E,_)})}var Dq=Lm(oa),Lq=Lm(kh),Fq=Lm(Su);function YT(_){return P(_)?xf(Na(_)):xt(_)}function Rq(_){return function(E){return _==null?t:Pu(_,E)}}var Uq=Qh(),jq=Qh(!0);function GS(){return[]}function QS(){return!1}function zq(){return{}}function Nq(){return""}function Wq(){return!0}function Gq(_,E){if(_=b(_),_<1||_>ft)return[];var R=tt,ie=Oo(_,tt);E=Qr(E),_-=tt;for(var Be=Hc(ie,E);++R<_;)E(R);return Be}function Qq(_){return ji(_)?oa(_,Na):hu(_)?[_]:Ja(ka(Q(_)))}function $q(_){var E=++Ip;return Q(_)+E}var Yq=Wd(function(_,E){return _+E},0),qq=Fp("ceil"),Vq=Wd(function(_,E){return _/E},1),Hq=Fp("floor");function Zq(_){return _&&_.length?Cc(_,Kc,vA):t}function Xq(_,E){return _&&_.length?Cc(_,Qr(E,2),vA):t}function Jq(_){return Vc(_,Kc)}function eV(_,E){return Vc(_,Qr(E,2))}function tV(_){return _&&_.length?Cc(_,Kc,Ie):t}function nV(_,E){return _&&_.length?Cc(_,Qr(E,2),Ie):t}var rV=Wd(function(_,E){return _*E},1),iV=Fp("round"),oV=Wd(function(_,E){return _-E},0);function aV(_){return _&&_.length?Cd(_,Kc):0}function sV(_,E){return _&&_.length?Cd(_,Qr(E,2)):0}return ze.after=MS,ze.ary=px,ze.assign=J,ze.assignIn=ae,ze.assignInWith=ge,ze.assignWith=Ce,ze.at=Se,ze.before=mx,ze.bind=og,ze.bindAll=pu,ze.bindKey=Hd,ze.castArray=Mx,ze.chain=rg,ze.chunk=Gs,ze.compact=ns,ze.concat=rs,ze.cond=ZA,ze.conforms=Gp,ze.constant=XA,ze.countBy=vS,ze.create=Le,ze.curry=M_,ze.curryRight=S_,ze.debounce=E_,ze.defaults=Qe,ze.defaultsDeep=Je,ze.defer=gx,ze.delay=yx,ze.difference=Ra,ze.differenceBy=ul,ze.differenceWith=qd,ze.drop=hh,ze.dropRight=Al,ze.dropRightWhile=Ru,ze.dropWhile=Qs,ze.fill=jp,ze.filter=ax,ze.flatMap=Vh,ze.flatMapDeep=Nf,ze.flatMapDepth=lx,ze.flatten=qh,ze.flattenDeep=Yl,ze.flattenDepth=Vd,ze.flip=O_,ze.flow=Hh,ze.flowRight=Oq,ze.fromPairs=Nm,ze.functions=bn,ze.functionsIn=Ht,ze.groupBy=CS,ze.initial=J0,ze.intersection=W2,ze.intersectionBy=nS,ze.intersectionWith=rS,ze.invert=Rn,ze.invertBy=hn,ze.invokeMap=b_,ze.iteratee=zS,ze.keyBy=bS,ze.keys=dr,ze.keysIn=pr,ze.map=Qm,ze.mapKeys=Ir,ze.mapValues=Yi,ze.matches=Bq,ze.matchesProperty=Iq,ze.memoize=ag,ze.merge=Ga,ze.mergeWith=Ts,ze.method=kq,ze.methodOf=Tq,ze.mixin=NS,ze.negate=Wf,ze.nthArg=Kq,ze.omit=wl,ze.omitBy=Tc,ze.once=vx,ze.orderBy=x_,ze.over=Dq,ze.overArgs=B_,ze.overEvery=Lq,ze.overSome=Fq,ze.partial=z1,ze.partialRight=xA,ze.partition=$m,ze.pick=zu,ze.pickBy=cl,ze.property=YT,ze.propertyOf=Rq,ze.pull=G2,ze.pullAll=K1,ze.pullAllBy=Q2,ze.pullAllWith=$2,ze.pullAt=Y2,ze.range=Uq,ze.rangeRight=jq,ze.rearg=Ym,ze.reject=w_,ze.remove=sS,ze.rest=_x,ze.reverse=Wm,ze.sampleSize=U1,ze.set=ss,ze.setWith=Ys,ze.shuffle=dx,ze.slice=lS,ze.sortBy=fx,ze.sortedUniq=dS,ze.sortedUniqBy=eg,ze.split=zx,ze.spread=Cx,ze.tail=H2,ze.take=f_,ze.takeRight=Z2,ze.takeRightWhile=$s,ze.takeWhile=p_,ze.tap=D1,ze.throttle=bx,ze.thru=L1,ze.toArray=h,ze.toPairs=du,ze.toPairsIn=fu,ze.toPath=Qq,ze.toPlainObject=F,ze.transform=Nu,ze.unary=xx,ze.union=fS,ze.unionBy=X2,ze.unionWith=m_,ze.uniq=g_,ze.uniqBy=pS,ze.uniqWith=mS,ze.unset=qs,ze.unzip=y_,ze.unzipWith=J2,ze.update=VA,ze.updateWith=nA,ze.values=qi,ze.valuesIn=Hl,ze.without=ex,ze.words=Wx,ze.wrap=wx,ze.xor=eA,ze.xorBy=v_,ze.xorWith=tx,ze.zip=zf,ze.zipObject=tg,ze.zipObjectDeep=ng,ze.zipWith=Gm,ze.entries=du,ze.entriesIn=fu,ze.extend=ae,ze.extendWith=ge,NS(ze,ze),ze.add=Yq,ze.attempt=Gx,ze.camelCase=Wp,ze.capitalize=wA,ze.ceil=qq,ze.clamp=Ua,ze.clone=SS,ze.cloneDeep=Gf,ze.cloneDeepWith=Ex,ze.cloneWith=Sx,ze.conformsTo=Ox,ze.deburr=Ag,ze.defaultTo=Qp,ze.divide=Vq,ze.endsWith=Pc,ze.eq=kc,ze.escape=MA,ze.escapeRegExp=Ml,ze.every=_S,ze.find=sx,ze.findIndex=Uu,ze.findKey=Mt,ze.findLast=ig,ze.findLastIndex=Bc,ze.findLastKey=ut,ze.floor=Hq,ze.forEach=F1,ze.forEachRight=ux,ze.forIn=ve,ze.forInRight=Ne,ze.forOwn=dt,ze.forOwnRight=Wt,ze.get=an,ze.gt=Bx,ze.gte=ES,ze.has=Bn,ze.hasIn=Cn,ze.head=N2,ze.identity=Kc,ze.includes=R1,ze.indexOf=tS,ze.inRange=Qa,ze.invoke=fr,ze.isArguments=zp,ze.isArray=ji,ze.isArrayBuffer=sg,ze.isArrayLike=tA,ze.isArrayLikeObject=is,ze.isBoolean=Ix,ze.isBuffer=dh,ze.isDate=N1,ze.isElement=W1,ze.isEmpty=OS,ze.isEqual=BS,ze.isEqualWith=IS,ze.isError=Qf,ze.isFinite=ql,ze.isFunction=ju,ze.isInteger=G1,ze.isLength=lg,ze.isMap=kx,ze.isMatch=Tx,ze.isMatchWith=Px,ze.isNaN=kS,ze.isNative=Kx,ze.isNil=k_,ze.isNull=I_,ze.isNumber=T_,ze.isObject=os,ze.isObjectLike=as,ze.isPlainObject=Zd,ze.isRegExp=ug,ze.isSafeInteger=Dx,ze.isSet=Q1,ze.isString=Np,ze.isSymbol=hu,ze.isTypedArray=$f,ze.isUndefined=P_,ze.isWeakMap=K_,ze.isWeakSet=TS,ze.join=iS,ze.kebabCase=HA,ze.last=Ic,ze.lastIndexOf=oS,ze.lowerCase=Xd,ze.lowerFirst=Lx,ze.lt=d,ze.lte=u,ze.max=Zq,ze.maxBy=Xq,ze.mean=Jq,ze.meanBy=eV,ze.min=tV,ze.minBy=nV,ze.stubArray=GS,ze.stubFalse=QS,ze.stubObject=zq,ze.stubString=Nq,ze.stubTrue=Wq,ze.multiply=rV,ze.nth=aS,ze.noConflict=Pq,ze.noop=WS,ze.now=j1,ze.pad=Fx,ze.padEnd=Rx,ze.padStart=Ux,ze.parseInt=D_,ze.random=hl,ze.reduce=Ax,ze.reduceRight=cx,ze.repeat=L_,ze.replace=Jd,ze.result=Vl,ze.round=iV,ze.runInContext=Pt,ze.sample=hx,ze.size=xS,ze.snakeCase=jx,ze.some=wS,ze.sortedIndex=q2,ze.sortedIndexBy=uS,ze.sortedIndexOf=AS,ze.sortedLastIndex=cS,ze.sortedLastIndexBy=V2,ze.sortedLastIndexOf=hS,ze.startCase=PS,ze.startsWith=KS,ze.subtract=oV,ze.sum=aV,ze.sumBy=sV,ze.template=DS,ze.times=Gq,ze.toFinite=y,ze.toInteger=b,ze.toLength=B,ze.toLower=LS,ze.toNumber=T,ze.toSafeInteger=z,ze.toString=Q,ze.toUpper=FS,ze.trim=RS,ze.trimEnd=US,ze.trimStart=jS,ze.truncate=fh,ze.unescape=$1,ze.uniqueId=$q,ze.upperCase=Nx,ze.upperFirst=F_,ze.each=F1,ze.eachRight=ux,ze.first=N2,NS(ze,function(){var _={};return xl(ze,function(E,R){Eo.call(ze.prototype,R)||(_[R]=E)}),_}(),{chain:!1}),ze.VERSION=r,Us(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ze[_].placeholder=ze}),Us(["drop","take"],function(_,E){Pr.prototype[_]=function(R){R=R===t?1:yo(b(R),0);var ie=this.__filtered__&&!E?new Pr(this):this.clone();return ie.__filtered__?ie.__takeCount__=Oo(R,ie.__takeCount__):ie.__views__.push({size:Oo(R,tt),type:_+(ie.__dir__<0?"Right":"")}),ie},Pr.prototype[_+"Right"]=function(R){return this.reverse()[_](R).reverse()}}),Us(["filter","map","takeWhile"],function(_,E){var R=E+1,ie=R==Ye||R==pt;Pr.prototype[_]=function(Be){var qe=this.clone();return qe.__iteratees__.push({iteratee:Qr(Be,3),type:R}),qe.__filtered__=qe.__filtered__||ie,qe}}),Us(["head","last"],function(_,E){var R="take"+(E?"Right":"");Pr.prototype[_]=function(){return this[R](1).value()[0]}}),Us(["initial","tail"],function(_,E){var R="drop"+(E?"":"Right");Pr.prototype[_]=function(){return this.__filtered__?new Pr(this):this[R](1)}}),Pr.prototype.compact=function(){return this.filter(Kc)},Pr.prototype.find=function(_){return this.filter(_).head()},Pr.prototype.findLast=function(_){return this.reverse().find(_)},Pr.prototype.invokeMap=fn(function(_,E){return typeof _=="function"?new Pr(this):this.map(function(R){return YA(R,_,E)})}),Pr.prototype.reject=function(_){return this.filter(Wf(Qr(_)))},Pr.prototype.slice=function(_,E){_=b(_);var R=this;return R.__filtered__&&(_>0||E<0)?new Pr(R):(_<0?R=R.takeRight(-_):_&&(R=R.drop(_)),E!==t&&(E=b(E),R=E<0?R.dropRight(-E):R.take(E-_)),R)},Pr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Pr.prototype.toArray=function(){return this.take(tt)},xl(Pr.prototype,function(_,E){var R=/^(?:filter|find|map|reject)|While$/.test(E),ie=/^(?:head|last)$/.test(E),Be=ze[ie?"take"+(E=="last"?"Right":""):E],qe=ie||/^find/.test(E);Be&&(ze.prototype[E]=function(){var gt=this.__wrapped__,kt=ie?[1]:arguments,Ut=gt instanceof Pr,Mn=kt[0],Sn=Ut||ji(gt),jn=function(Bo){var jo=Be.apply(ze,iu([Bo],kt));return ie&&br?jo[0]:jo};Sn&&R&&typeof Mn=="function"&&Mn.length!=1&&(Ut=Sn=!1);var br=this.__chain__,Xr=!!this.__actions__.length,Si=qe&&!br,fo=Ut&&!Xr;if(!qe&&Sn){gt=fo?gt:new Pr(this);var Ei=_.apply(gt,kt);return Ei.__actions__.push({func:L1,args:[jn],thisArg:t}),new Pi(Ei,br)}return Si&&fo?_.apply(this,kt):(Ei=this.thru(jn),Si?ie?Ei.value()[0]:Ei.value():Ei)})}),Us(["pop","push","shift","sort","splice","unshift"],function(_){var E=FA[_],R=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",ie=/^(?:pop|shift)$/.test(_);ze.prototype[_]=function(){var Be=arguments;if(ie&&!this.__chain__){var qe=this.value();return E.apply(ji(qe)?qe:[],Be)}return this[R](function(gt){return E.apply(ji(gt)?gt:[],Be)})}}),xl(Pr.prototype,function(_,E){var R=ze[E];if(R){var ie=R.name+"";Eo.call(uu,ie)||(uu[ie]=[]),uu[ie].push({name:E,func:R})}}),uu[Nd(t,H).name]=[{name:"wrapper",func:t}],Pr.prototype.clone=da,Pr.prototype.reverse=Id,Pr.prototype.value=V0,ze.prototype.at=gS,ze.prototype.chain=nx,ze.prototype.commit=rx,ze.prototype.next=yS,ze.prototype.plant=ox,ze.prototype.reverse=__,ze.prototype.toJSON=ze.prototype.valueOf=ze.prototype.value=C_,ze.prototype.first=ze.prototype.head,th&&(ze.prototype[th]=ix),ze},zl=LA();ri?((ri.exports=zl)._=zl,lr._=zl):er._=zl}).call(Cp)})(rw,rw.exports);var Y5=rw.exports;const tB=Da(Y5);function bee(n,e,t){const r=e<0?n.length+e:e;if(r>=0&&r<n.length){const i=t<0?n.length+t:t,[o]=n.splice(e,1);n.splice(i,0,o)}}function xee(n){for(var e=5381,t=n.length;t;)e=e*33^n.charCodeAt(--t);return e>>>0}var wee=xee;const kP=Da(wee);var Mee=8,See={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Eee={"*":{type:"source"}},Oee=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Bee={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Iee={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},kee={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Tee={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Pee={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Kee={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Dee={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Lee=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Fee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ree={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Uee={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zee={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Nee={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Qee={type:"array",value:"*"},$ee={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},Yee={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},qee={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Vee={type:"array",value:"*",minimum:1},Hee={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Zee={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Xee={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},Jee={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},ete=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],tte={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},nte={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},rte={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},ite={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ote={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ate={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ste={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},lte={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ute={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Ate={"*":{type:"string"}},Yo={$version:Mee,$root:See,sources:Eee,source:Oee,source_vector:Bee,source_raster:Iee,source_raster_dem:kee,source_geojson:Tee,source_video:Pee,source_image:Kee,layer:Dee,layout:Lee,layout_background:Fee,layout_fill:Ree,layout_circle:Uee,layout_heatmap:jee,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:zee,layout_symbol:Nee,layout_raster:Wee,layout_hillshade:Gee,filter:Qee,filter_operator:$ee,geometry_type:Yee,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:qee,expression:Vee,light:Hee,sky:Zee,terrain:Xee,projection:Jee,paint:ete,paint_fill:tte,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:nte,paint_circle:rte,paint_heatmap:ite,paint_symbol:ote,paint_raster:ate,paint_hillshade:ste,paint_background:lte,transition:ute,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Ate};const cte=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function hte(n,e){const t={};for(const r in n)r!=="ref"&&(t[r]=n[r]);return cte.forEach(r=>{r in e&&(t[r]=e[r])}),t}function dte(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=hte(n[t],e[n[t].ref]));return n}function _a(n,e){if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!_a(n[t],e[t]))return!1;return!0}if(typeof n=="object"&&n!==null&&e!==null){if(typeof e!="object"||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!_a(n[r],e[r]))return!1;return!0}return n===e}function ed(n,e){n.push(e)}function iz(n,e,t){ed(t,{command:"addSource",args:[n,e[n]]})}function oz(n,e,t){ed(e,{command:"removeSource",args:[n]}),t[n]=!0}function fte(n,e,t,r){oz(n,t,r),iz(n,e,t)}function pte(n,e,t){let r;for(r in n[t])if(Object.prototype.hasOwnProperty.call(n[t],r)&&r!=="data"&&!_a(n[t][r],e[t][r]))return!1;for(r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)&&r!=="data"&&!_a(n[t][r],e[t][r]))return!1;return!0}function mte(n,e,t,r){n=n||{},e=e||{};let i;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(e,i)||oz(i,t,r));for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(n,i)?_a(n[i],e[i])||(n[i].type==="geojson"&&e[i].type==="geojson"&&pte(n,e,i)?ed(t,{command:"setGeoJSONSourceData",args:[i,e[i].data]}):fte(i,e,t,r)):iz(i,e,t))}function u3(n,e,t,r,i,o){n=n||{},e=e||{};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(_a(n[s],e[s])||t.push({command:o,args:[r,s,e[s],i]}));for(const s in e)!Object.prototype.hasOwnProperty.call(e,s)||Object.prototype.hasOwnProperty.call(n,s)||_a(n[s],e[s])||t.push({command:o,args:[r,s,e[s],i]})}function TP(n){return n.id}function PP(n,e){return n[e.id]=e,n}function gte(n,e,t){n=n||[],e=e||[];const r=n.map(TP),i=e.map(TP),o=n.reduce(PP,{}),s=e.reduce(PP,{}),a=r.slice(),f=Object.create(null);let m,C,k,I,K;for(let L=0,q=0;L<r.length;L++)m=r[L],Object.prototype.hasOwnProperty.call(s,m)?q++:(ed(t,{command:"removeLayer",args:[m]}),a.splice(a.indexOf(m,q),1));for(let L=0,q=0;L<i.length;L++)m=i[i.length-1-L],a[a.length-1-L]!==m&&(Object.prototype.hasOwnProperty.call(o,m)?(ed(t,{command:"removeLayer",args:[m]}),a.splice(a.lastIndexOf(m,a.length-q),1)):q++,I=a[a.length-L],ed(t,{command:"addLayer",args:[s[m],I]}),a.splice(a.length-L,0,m),f[m]=!0);for(let L=0;L<i.length;L++)if(m=i[L],C=o[m],k=s[m],!(f[m]||_a(C,k))){if(!_a(C.source,k.source)||!_a(C["source-layer"],k["source-layer"])||!_a(C.type,k.type)){ed(t,{command:"removeLayer",args:[m]}),I=a[a.lastIndexOf(m)+1],ed(t,{command:"addLayer",args:[k,I]});continue}u3(C.layout,k.layout,t,m,null,"setLayoutProperty"),u3(C.paint,k.paint,t,m,null,"setPaintProperty"),_a(C.filter,k.filter)||ed(t,{command:"setFilter",args:[m,k.filter]}),(!_a(C.minzoom,k.minzoom)||!_a(C.maxzoom,k.maxzoom))&&ed(t,{command:"setLayerZoomRange",args:[m,k.minzoom,k.maxzoom]});for(K in C)Object.prototype.hasOwnProperty.call(C,K)&&(K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?u3(C[K],k[K],t,m,K.slice(6),"setPaintProperty"):_a(C[K],k[K])||ed(t,{command:"setLayerProperty",args:[m,K,k[K]]})));for(K in k)!Object.prototype.hasOwnProperty.call(k,K)||Object.prototype.hasOwnProperty.call(C,K)||K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?u3(C[K],k[K],t,m,K.slice(6),"setPaintProperty"):_a(C[K],k[K])||ed(t,{command:"setLayerProperty",args:[m,K,k[K]]}))}}function yte(n,e){if(!n)return[{command:"setStyle",args:[e]}];let t=[];try{if(!_a(n.version,e.version))return[{command:"setStyle",args:[e]}];_a(n.center,e.center)||t.push({command:"setCenter",args:[e.center]}),_a(n.centerAltitude,e.centerAltitude)||t.push({command:"setCenterAltitude",args:[e.centerAltitude]}),_a(n.zoom,e.zoom)||t.push({command:"setZoom",args:[e.zoom]}),_a(n.bearing,e.bearing)||t.push({command:"setBearing",args:[e.bearing]}),_a(n.pitch,e.pitch)||t.push({command:"setPitch",args:[e.pitch]}),_a(n.roll,e.roll)||t.push({command:"setRoll",args:[e.roll]}),_a(n.sprite,e.sprite)||t.push({command:"setSprite",args:[e.sprite]}),_a(n.glyphs,e.glyphs)||t.push({command:"setGlyphs",args:[e.glyphs]}),_a(n.transition,e.transition)||t.push({command:"setTransition",args:[e.transition]}),_a(n.light,e.light)||t.push({command:"setLight",args:[e.light]}),_a(n.terrain,e.terrain)||t.push({command:"setTerrain",args:[e.terrain]}),_a(n.sky,e.sky)||t.push({command:"setSky",args:[e.sky]}),_a(n.projection,e.projection)||t.push({command:"setProjection",args:[e.projection]});const r={},i=[];mte(n.sources,e.sources,i,r);const o=[];n.layers&&n.layers.forEach(s=>{"source"in s&&r[s.source]?t.push({command:"removeLayer",args:[s.id]}):o.push(s)}),t=t.concat(i),gte(o,e.layers,t)}catch(r){console.warn("Unable to compute style diff:",r),t=[{command:"setStyle",args:[e]}]}return t}class Xn{constructor(e,t,r,i){this.message=(e?`${e}: `:"")+r,i&&(this.identifier=i),t!=null&&t.__line__&&(this.line=t.__line__)}}function Ov(n,...e){for(const t of e)for(const r in t)n[r]=t[r];return n}class ap extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}let vte=class az{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(e){return new az(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}};const q5={kind:"null"},nr={kind:"number"},po={kind:"string"},no={kind:"boolean"},dp={kind:"color"},V5={kind:"projectionDefinition"},Jy={kind:"object"},io={kind:"value"},_te={kind:"error"},H5={kind:"collator"},Z5={kind:"formatted"},X5={kind:"padding"},e2={kind:"resolvedImage"},J5={kind:"variableAnchorOffsetCollection"};function vh(n,e){return{kind:"array",itemType:n,N:e}}function Ks(n){if(n.kind==="array"){const e=Ks(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const Cte=[q5,nr,po,no,dp,V5,Z5,Jy,vh(io),X5,e2,J5];function _b(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!_b(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of Cte)if(!_b(t,e))return null}}return`Expected ${Ks(n)} but found ${Ks(e)} instead.`}function r7(n,e){return e.some(t=>t.kind===n.kind)}function Yg(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}function Z1(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const sz=.96422,lz=1,uz=.82521,Az=4/29,ev=6/29,cz=3*ev*ev,bte=ev*ev*ev,xte=Math.PI/180,wte=180/Math.PI;function hz(n){return n=n%360,n<0&&(n+=360),n}function dz([n,e,t,r]){n=wE(n),e=wE(e),t=wE(t);let i,o;const s=ME((.2225045*n+.7168786*e+.0606169*t)/lz);n===e&&e===t?i=o=s:(i=ME((.4360747*n+.3850649*e+.1430804*t)/sz),o=ME((.0139322*n+.0971045*e+.7141733*t)/uz));const a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o),r]}function wE(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function ME(n){return n>bte?Math.pow(n,1/3):n/cz+Az}function fz([n,e,t,r]){let i=(n+16)/116,o=isNaN(e)?i:i+e/500,s=isNaN(t)?i:i-t/200;return i=lz*EE(i),o=sz*EE(o),s=uz*EE(s),[SE(3.1338561*o-1.6168667*i-.4906146*s),SE(-.9787684*o+1.9161415*i+.033454*s),SE(.0719453*o-.2289914*i+1.4052427*s),r]}function SE(n){return n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055,n<0?0:n>1?1:n}function EE(n){return n>ev?n*n*n:cz*(n-Az)}function Mte(n){const[e,t,r,i]=dz(n),o=Math.sqrt(t*t+r*r);return[Math.round(o*1e4)?hz(Math.atan2(r,t)*wte):NaN,o,e,i]}function Ste([n,e,t,r]){return n=isNaN(n)?0:n*xte,fz([t,Math.cos(n)*e,Math.sin(n)*e,r])}function Ete([n,e,t,r]){n=hz(n),e/=100,t/=100;function i(o){const s=(o+n/30)%12,a=e*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(s-3,9-s,1))}return[i(0),i(8),i(4),r]}function Ote(n){if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];const e=Bte[n];if(e){const[i,o,s]=e;return[i/255,o/255,s/255,1]}if(n.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(n)){const o=n.length<6?1:2;let s=1;return[A3(n.slice(s,s+=o)),A3(n.slice(s,s+=o)),A3(n.slice(s,s+=o)),A3(n.slice(s,s+o)||"ff")]}if(n.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=n.match(i);if(o){const[s,a,f,m,C,k,I,K,L,q,X,H]=o,G=[m||" ",I||" ",q].join("");if(G==="  "||G==="  /"||G===",,"||G===",,,"){const ee=[f,k,L].join(""),ne=ee==="%%%"?100:ee===""?255:0;if(ne){const se=[cy(+a/ne,0,1),cy(+C/ne,0,1),cy(+K/ne,0,1),X?KP(+X,H):1];if(DP(se))return se}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=n.match(t);if(r){const[i,o,s,a,f,m,C,k,I]=r,K=[s||" ",f||" ",C].join("");if(K==="  "||K==="  /"||K===",,"||K===",,,"){const L=[+o,cy(+a,0,100),cy(+m,0,100),k?KP(+k,I):1];if(DP(L))return Ete(L)}}}function A3(n){return parseInt(n.padEnd(2,n),16)/255}function KP(n,e){return cy(e?n/100:n,0,1)}function cy(n,e,t){return Math.min(Math.max(e,n),t)}function DP(n){return!n.some(Number.isNaN)}const Bte={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function O0(n,e,t){return n+t*(e-n)}function Cb(n,e,t){return n.map((r,i)=>O0(r,e[i],t))}function Ite(n){return n==="rgb"||n==="hcl"||n==="lab"}let Ms=class hy{constructor(e,t,r,i=1,o=!0){this.r=e,this.g=t,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,r,i]))}static parse(e){if(e instanceof hy)return e;if(typeof e!="string")return;const t=Ote(e);if(t)return new hy(...t,!1)}get rgb(){const{r:e,g:t,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[e/o,t/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",Mte(this.rgb))}get lab(){return this.overwriteGetter("lab",dz(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,r,i]=this.rgb;return`rgba(${[e,t,r].map(o=>Math.round(o*255)).join(",")},${i})`}static interpolate(e,t,r,i="rgb"){switch(i){case"rgb":{const[o,s,a,f]=Cb(e.rgb,t.rgb,r);return new hy(o,s,a,f,!1)}case"hcl":{const[o,s,a,f]=e.hcl,[m,C,k,I]=t.hcl;let K,L;if(!isNaN(o)&&!isNaN(m)){let ee=m-o;m>o&&ee>180?ee-=360:m<o&&o-m>180&&(ee+=360),K=o+r*ee}else isNaN(o)?isNaN(m)?K=NaN:(K=m,(a===1||a===0)&&(L=C)):(K=o,(k===1||k===0)&&(L=s));const[q,X,H,G]=Ste([K,L??O0(s,C,r),O0(a,k,r),O0(f,I,r)]);return new hy(q,X,H,G,!1)}case"lab":{const[o,s,a,f]=fz(Cb(e.lab,t.lab,r));return new hy(o,s,a,f,!1)}}}};Ms.black=new Ms(0,0,0,1);Ms.white=new Ms(1,1,1,1);Ms.transparent=new Ms(0,0,0,0);Ms.red=new Ms(1,0,0,1);let i7=class{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}};const kte=["bottom","center","top"];let nB=class{constructor(e,t,r,i,o,s){this.text=e,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o,this.verticalAlign=s}},Qv=class c4{constructor(e){this.sections=e}static fromString(e){return new c4([new nB(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof c4?e:c4.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}};class oc{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof oc)return e;if(typeof e=="number")return new oc([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new oc(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){return new oc(Cb(e.values,t.values,r))}}let Kl=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const Tte=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ad{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Ad)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const r=e[t],i=e[t+1];if(typeof r!="string"||!Tte.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new Ad(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){const i=e.values,o=t.values;if(i.length!==o.length)throw new Kl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const s=[];for(let a=0;a<i.length;a+=2){if(i[a]!==o[a])throw new Kl(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${i[a]}, to[${a}]: ${o[a]}`);s.push(i[a]);const[f,m]=i[a+1],[C,k]=o[a+1];s.push([O0(f,C,r),O0(m,k,r)])}return new Ad(s)}}let _1=class pz{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new pz({name:e,available:!1}):null}};class id{constructor(e,t,r){this.from=e,this.to=t,this.transition=r}static interpolate(e,t,r){return new id(e,t,r)}static parse(e){if(e instanceof id)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new id(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new id(e.from,e.to,e.transition);if(typeof e=="string")return new id(e,e,1)}}function mz(n,e,t,r){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[n,e,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[n,e,t,r]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function bb(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof id||n instanceof Ms||n instanceof i7||n instanceof Qv||n instanceof oc||n instanceof Ad||n instanceof _1)return!0;if(Array.isArray(n)){for(const e of n)if(!bb(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!bb(n[e]))return!1;return!0}else return!1}function bu(n){if(n===null)return q5;if(typeof n=="string")return po;if(typeof n=="boolean")return no;if(typeof n=="number")return nr;if(n instanceof Ms)return dp;if(n instanceof id)return V5;if(n instanceof i7)return H5;if(n instanceof Qv)return Z5;if(n instanceof oc)return X5;if(n instanceof Ad)return J5;if(n instanceof _1)return e2;if(Array.isArray(n)){const e=n.length;let t;for(const r of n){const i=bu(r);if(!t)t=i;else{if(t===i)continue;t=io;break}}return vh(t||io,e)}else return Jy}function LC(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof Ms||n instanceof id||n instanceof Qv||n instanceof oc||n instanceof Ad||n instanceof _1?n.toString():JSON.stringify(n)}let iw=class gz{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!bb(e[1]))return t.error("invalid value");const r=e[1];let i=bu(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new gz(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}};const c3={string:po,number:nr,boolean:no,object:Jy};let om=class yz{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=e[0];if(o==="array"){let a;if(e.length>2){const m=e[1];if(typeof m!="string"||!(m in c3)||m==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=c3[m],r++}else a=io;let f;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);f=e[2],r++}i=vh(a,f)}else{if(!c3[o])throw new Error(`Types doesn't contain name = ${o}`);i=c3[o]}const s=[];for(;r<e.length;r++){const a=t.parse(e[r],r,io);if(!a)return null;s.push(a)}return new yz(i,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(_b(this.type,bu(r))){if(t===this.args.length-1)throw new Kl(`Expected value to be of type ${Ks(this.type)}, but found ${Ks(bu(r))} instead.`)}else return r}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};const LP={"to-boolean":no,"to-color":dp,"to-number":nr,"to-string":po};let Ly=class vz{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(!LP[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=LP[r],o=[];for(let s=1;s<e.length;s++){const a=t.parse(e[s],s,io);if(!a)return null;o.push(a)}return new vz(i,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,r;for(const i of this.args){if(t=i.evaluate(e),r=null,t instanceof Ms)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=mz(t[0],t[1],t[2],t[3]),!r))return new Ms(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Kl(r||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const r of this.args){t=r.evaluate(e);const i=oc.parse(t);if(i)return i}throw new Kl(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const r of this.args){t=r.evaluate(e);const i=Ad.parse(t);if(i)return i}throw new Kl(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const r of this.args){if(t=r.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Kl(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Qv.fromString(LC(this.args[0].evaluate(e)));case"resolvedImage":return _1.fromString(LC(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return LC(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};const Pte=["Unknown","Point","LineString","Polygon"];let _z=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Pte[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ms.parse(e)),t}},Cz=class bz{constructor(e,t,r=[],i,o=new vte,s=[]){this.registry=e,this.path=r,this.key=r.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=i,this._isConstant=t}parse(e,t,r,i,o={}){return t?this.concat(t,r,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function r(i,o,s){return s==="assert"?new om(o,[i]):s==="coerce"?new Ly(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(e,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if(a.kind==="projectionDefinition"&&(f.kind==="string"||f.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="padding"&&(f.kind==="value"||f.kind==="number"||f.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="variableAnchorOffsetCollection"&&(f.kind==="value"||f.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof iw)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new _z;try{s=new iw(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const i=typeof e=="number"?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new bz(this.registry,this._isConstant,i,t||null,o,this.errors)}error(e,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new ap(r,e))}checkSubtype(e,t){const r=_b(e,t);return r&&this.error(r),r}},xz=class wz{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let o=1;o<e.length-1;o+=2){const s=e[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(e[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return i?new wz(r,i):null}outputDefined(){return this.result.outputDefined()}},Mz=class Sz{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new Sz(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}},Kte=class Ez{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,nr),i=t.parse(e[2],2,vh(t.expectedType||io));if(!r||!i)return null;const o=i.type;return new Ez(o.itemType,r,i)}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Kl(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Kl(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Kl(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}},Dte=class Oz{constructor(e,t){this.type=no,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,io),i=t.parse(e[2],2,io);return!r||!i?null:r7(r.type,[no,po,nr,q5,io])?new Oz(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Yg(t,["boolean","string","number","null"]))throw new Kl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(bu(t))} instead.`);if(!Yg(r,["string","array"]))throw new Kl(`Expected second argument to be of type array or string, but found ${Ks(bu(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}},Lte=class rB{constructor(e,t,r){this.type=nr,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,io),i=t.parse(e[2],2,io);if(!r||!i)return null;if(!r7(r.type,[no,po,nr,q5,io]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,nr);return o?new rB(r,i,o):null}else return new rB(r,i)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Yg(t,["boolean","string","number","null"]))throw new Kl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(bu(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),Yg(r,["string"])){const o=r.indexOf(t,i);return o===-1?-1:[...r.slice(0,o)].length}else{if(Yg(r,["array"]))return r.indexOf(t,i);throw new Kl(`Expected second argument to be of type array or string, but found ${Ks(bu(r))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}},Fte=class Bz{constructor(e,t,r,i,o,s){this.inputType=e,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let m=2;m<e.length-1;m+=2){let C=e[m];const k=e[m+1];Array.isArray(C)||(C=[C]);const I=t.concat(m);if(C.length===0)return I.error("Expected at least one branch label.");for(const L of C){if(typeof L!="number"&&typeof L!="string")return I.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return I.error("Numeric branch labels must be integer values.");if(!r)r=bu(L);else if(I.checkSubtype(r,bu(L)))return null;if(typeof o[String(L)]<"u")return I.error("Branch labels must be unique.");o[String(L)]=s.length}const K=t.parse(k,m,i);if(!K)return null;i=i||K.type,s.push(K)}const a=t.parse(e[1],1,io);if(!a)return null;const f=t.parse(e[e.length-1],e.length-1,i);return!f||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new Bz(r,i,a,o,s,f)}evaluate(e){const t=this.input.evaluate(e);return(bu(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}},Rte=class Iz{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<e.length-1;s+=2){const a=t.parse(e[s],s,no);if(!a)return null;const f=t.parse(e[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=t.parse(e[e.length-1],e.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new Iz(r,i,o)}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}},Ute=class iB{constructor(e,t,r,i){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,io),i=t.parse(e[2],2,nr);if(!r||!i)return null;if(!r7(r.type,[vh(io),po,io]))return t.error(`Expected first argument to be of type array or string, but found ${Ks(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,nr);return o?new iB(r.type,r,i,o):null}else return new iB(r.type,r,i)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),Yg(t,["string"]))return[...t].slice(r,i).join("");if(Yg(t,["array"]))return t.slice(r,i);throw new Kl(`Expected first argument to be of type array or string, but found ${Ks(bu(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}};function eM(n,e){const t=n.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=n[o],a=n[o+1],s<=e){if(o===t||e<a)return o;r=o+1}else if(s>e)i=o-1;else throw new Kl("Input is not a number.");return 0}let kz=class Tz{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,nr);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<e.length;s+=2){const a=s===1?-1/0:e[s],f=e[s+1],m=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const k=t.parse(f,C,o);if(!k)return null;o=o||k.type,i.push([a,k])}return new Tz(o,r,i)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=eM(t,i);return r[s].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}};function jte(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var OE,FP;function zte(){if(FP)return OE;FP=1,OE=n;function n(e,t,r,i){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=i}return n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,i=0;i<8;i++){var o=this.sampleCurveX(r)-e;if(Math.abs(o)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r=r-o/s}var a=0,f=1;for(r=e,i=0;i<20&&(o=this.sampleCurveX(r),!(Math.abs(o-e)<t));i++)e>o?a=r:f=r,r=(f-a)*.5+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},OE}var Nte=zte(),Wte=jte(Nte);let cm=class oB{constructor(e,t,r,i,o){this.type=e,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,r,i){let o=0;if(e.name==="exponential")o=BE(t,e.base,r,i);else if(e.name==="linear")o=BE(t,1,r,i);else if(e.name==="cubic-bezier"){const s=e.controlPoints;o=new Wte(s[0],s[1],s[2],s[3]).solve(BE(t,1,r,i))}return o}static parse(e,t){let[r,i,o,...s]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,nr),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=dp:t.expectedType&&t.expectedType.kind!=="value"&&(f=t.expectedType);for(let m=0;m<s.length;m+=2){const C=s[m],k=s[m+1],I=m+3,K=m+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const L=t.parse(k,K,f);if(!L)return null;f=f||L.type,a.push([C,L])}return!Z1(f,nr)&&!Z1(f,V5)&&!Z1(f,dp)&&!Z1(f,X5)&&!Z1(f,J5)&&!Z1(f,vh(nr))?t.error(`Type ${Ks(f)} is not interpolatable.`):new oB(f,r,i,o,a)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=eM(t,i),a=t[s],f=t[s+1],m=oB.interpolationFactor(this.interpolation,i,a,f),C=r[s].evaluate(e),k=r[s+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return O0(C,k,m);case"color":return Ms.interpolate(C,k,m);case"padding":return oc.interpolate(C,k,m);case"variableAnchorOffsetCollection":return Ad.interpolate(C,k,m);case"array":return Cb(C,k,m);case"projectionDefinition":return id.interpolate(C,k,m)}case"interpolate-hcl":return Ms.interpolate(C,k,m,"hcl");case"interpolate-lab":return Ms.interpolate(C,k,m,"lab")}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}};function BE(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}const Gte={color:Ms.interpolate,number:O0,padding:oc.interpolate,variableAnchorOffsetCollection:Ad.interpolate,array:Cb};let Pz=class aB{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of e.slice(1)){const f=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}if(!r)throw new Error("No output type");return i&&o.some(a=>_b(i,a.type))?new aB(io,o):new aB(r,o)}evaluate(e){let t=null,r=0,i;for(const o of this.args)if(r++,t=o.evaluate(e),t&&t instanceof _1&&!t.available&&(i||(i=t.name),t=null,r===this.args.length&&(t=i)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};function RP(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function Qte(n,e,t){return e===t}function $te(n,e,t){return e!==t}function Yte(n,e,t){return e<t}function qte(n,e,t){return e>t}function Vte(n,e,t){return e<=t}function Hte(n,e,t){return e>=t}function Kz(n,e,t,r){return r.compare(e,t)===0}function Zte(n,e,t,r){return!Kz(n,e,t,r)}function Xte(n,e,t,r){return r.compare(e,t)<0}function Jte(n,e,t,r){return r.compare(e,t)>0}function ene(n,e,t,r){return r.compare(e,t)<=0}function tne(n,e,t,r){return r.compare(e,t)>=0}function $v(n,e,t){const r=n!=="=="&&n!=="!=";return class Dz{constructor(o,s,a){this.type=no,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,io);if(!f)return null;if(!RP(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${Ks(f.type)}'.`);let m=s.parse(o[2],2,io);if(!m)return null;if(!RP(a,m.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${Ks(m.type)}'.`);if(f.type.kind!==m.type.kind&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error(`Cannot compare types '${Ks(f.type)}' and '${Ks(m.type)}'.`);r&&(f.type.kind==="value"&&m.type.kind!=="value"?f=new om(m.type,[f]):f.type.kind!=="value"&&m.type.kind==="value"&&(m=new om(f.type,[m])));let C=null;if(o.length===4){if(f.type.kind!=="string"&&m.type.kind!=="string"&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,H5),!C)return null}return new Dz(f,m,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=bu(s),m=bu(a);if(f.kind!==m.kind||!(f.kind==="string"||f.kind==="number"))throw new Kl(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${f.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=bu(s),m=bu(a);if(f.kind!=="string"||m.kind!=="string")return e(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):e(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const nne=$v("==",Qte,Kz),rne=$v("!=",$te,Zte),ine=$v("<",Yte,Xte),one=$v(">",qte,Jte),ane=$v("<=",Vte,ene),sne=$v(">=",Hte,tne);let Lz=class Fz{constructor(e,t,r){this.type=H5,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const r=e[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,no);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,no);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,po),!s)?null:new Fz(i,o,s)}evaluate(e){return new i7(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}},lne=class Rz{constructor(e,t,r,i,o){this.type=po,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const r=t.parse(e[1],1,nr);if(!r)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,po),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,po),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=t.parse(i["min-fraction-digits"],1,nr),!a))return null;let f=null;return i["max-fraction-digits"]&&(f=t.parse(i["max-fraction-digits"],1,nr),!f)?null:new Rz(r,o,s,a,f)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}},une=class Uz{constructor(e){this.type=Z5,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=e.length-1;++s){const a=e[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=t.parse(a["font-scale"],1,nr),!f))return null;let m=null;if(a["text-font"]&&(m=t.parse(a["text-font"],1,vh(po)),!m))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,dp),!C))return null;let k=null;if(a["vertical-align"]){if(typeof a["vertical-align"]=="string"&&!kte.includes(a["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${a["vertical-align"]}' instead.`);if(k=t.parse(a["vertical-align"],1,po),!k)return null}const I=i[i.length-1];I.scale=f,I.font=m,I.textColor=C,I.verticalAlign=k}else{const f=t.parse(e[s],1,io);if(!f)return null;const m=f.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Uz(i)}evaluate(e){const t=r=>{const i=r.content.evaluate(e);return bu(i)===e2?new nB("",i,null,null,null,r.verticalAlign?r.verticalAlign.evaluate(e):null):new nB(LC(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null,r.verticalAlign?r.verticalAlign.evaluate(e):null)};return new Qv(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}},Ane=class jz{constructor(e){this.type=e2,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const r=t.parse(e[1],1,po);return r?new jz(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=_1.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}},cne=class zz{constructor(e){this.type=nr,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Ks(r.type)} instead.`):new zz(r):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new Kl(`Expected value to be of type string or array, but found ${Ks(bu(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}};const fp=8192;function hne(n,e){const t=dne(n[0]),r=pne(n[1]),i=Math.pow(2,e.z);return[Math.round(t*i*fp),Math.round(r*i*fp)]}function o7(n,e){const t=Math.pow(2,e.z),r=(n[0]/fp+e.x)/t,i=(n[1]/fp+e.y)/t;return[fne(r),mne(i)]}function dne(n){return(180+n)/360}function fne(n){return n*360-180}function pne(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function mne(n){return 360/Math.PI*Math.atan(Math.exp((180-n*360)*Math.PI/180))-90}function t2(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function xb(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function gne(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function yne(n,e,t){const r=n[0]-e[0],i=n[1]-e[1],o=n[0]-t[0],s=n[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function tM(n,e,t,r){const i=[e[0]-n[0],e[1]-n[1]],o=[r[0]-t[0],r[1]-t[1]];return bne(o,i)===0?!1:!!(UP(n,e,t,r)&&UP(t,r,n,e))}function vne(n,e,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(tM(n,e,r[i],r[i+1]))return!0;return!1}function Yv(n,e,t=!1){let r=!1;for(const i of e)for(let o=0;o<i.length-1;o++){if(yne(n,i[o],i[o+1]))return t;gne(n,i[o],i[o+1])&&(r=!r)}return r}function _ne(n,e){for(const t of e)if(Yv(n,t))return!0;return!1}function Nz(n,e){for(const t of n)if(!Yv(t,e))return!1;for(let t=0;t<n.length-1;++t)if(vne(n[t],n[t+1],e))return!1;return!0}function Cne(n,e){for(const t of e)if(Nz(n,t))return!0;return!1}function bne(n,e){return n[0]*e[1]-n[1]*e[0]}function UP(n,e,t,r){const i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],f=r[0]-t[0],m=r[1]-t[1],C=i*m-f*o,k=s*m-f*a;return C>0&&k<0||C<0&&k>0}function a7(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=[];for(let s=0;s<n[i].length;s++){const a=hne(n[i][s],t);t2(e,a),o.push(a)}r.push(o)}return r}function Wz(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=a7(n[i],e,t);r.push(o)}return r}function Gz(n,e,t,r){if(n[0]<t[0]||n[0]>t[2]){const i=r*.5;let o=n[0]-t[0]>i?-r:t[0]-n[0]>i?r:0;o===0&&(o=n[0]-t[2]>i?-r:t[2]-n[0]>i?r:0),n[0]+=o}t2(e,n)}function xne(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function jP(n,e,t,r){const i=Math.pow(2,r.z)*fp,o=[r.x*fp,r.y*fp],s=[];for(const a of n)for(const f of a){const m=[f.x+o[0],f.y+o[1]];Gz(m,e,t,i),s.push(m)}return s}function zP(n,e,t,r){const i=Math.pow(2,r.z)*fp,o=[r.x*fp,r.y*fp],s=[];for(const a of n){const f=[];for(const m of a){const C=[m.x+o[0],m.y+o[1]];t2(e,C),f.push(C)}s.push(f)}if(e[2]-e[0]<=i/2){xne(e);for(const a of s)for(const f of a)Gz(f,e,t,i)}return s}function wne(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(e.type==="Polygon"){const o=a7(e.coordinates,r,i),s=jP(n.geometry(),t,r,i);if(!xb(t,r))return!1;for(const a of s)if(!Yv(a,o))return!1}if(e.type==="MultiPolygon"){const o=Wz(e.coordinates,r,i),s=jP(n.geometry(),t,r,i);if(!xb(t,r))return!1;for(const a of s)if(!_ne(a,o))return!1}return!0}function Mne(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(e.type==="Polygon"){const o=a7(e.coordinates,r,i),s=zP(n.geometry(),t,r,i);if(!xb(t,r))return!1;for(const a of s)if(!Nz(a,o))return!1}if(e.type==="MultiPolygon"){const o=Wz(e.coordinates,r,i),s=zP(n.geometry(),t,r,i);if(!xb(t,r))return!1;for(const a of s)if(!Cne(a,o))return!1}return!0}let s7=class h4{constructor(e,t){this.type=no,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(bb(e[1])){const r=e[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:s,coordinates:a}=o.geometry;s==="Polygon"&&i.push(a),s==="MultiPolygon"&&i.push(...a)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new h4(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new h4(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new h4(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return wne(e,this.geometries);if(e.geometryType()==="LineString")return Mne(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}};class Qz{constructor(e=[],t=(r,i)=>r<i?-1:r>i?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,i=t[e];for(;e>0;){const o=e-1>>1,s=t[o];if(r(i,s)>=0)break;t[e]=s,e=o}t[e]=i}_down(e){const{data:t,compare:r}=this,i=this.length>>1,o=t[e];for(;e<i;){let s=(e<<1)+1;const a=s+1;if(a<this.length&&r(t[a],t[s])<0&&(s=a),r(t[s],o)>=0)break;t[e]=t[s],e=s}t[e]=o}}function Sne(n,e){if(n.length<=1)return[n];const r=[];let i,o;for(const s of n){const a=Ene(s);a!==0&&(s.area=Math.abs(a),o===void 0&&(o=a<0),o===a<0?(i&&r.push(i),i=[s]):i.push(s))}return i&&r.push(i),r}function Ene(n){let e=0;for(let t=0,r=n.length,i=r-1,o,s;t<r;i=t++)o=n[t],s=n[i],e+=(s.x-o.x)*(o.y+s.y);return e}const One=6378.137,NP=1/298.257223563,WP=NP*(2-NP),GP=Math.PI/180;class l7{constructor(e){const t=GP*One*1e3,r=Math.cos(e*GP),i=1/(1-WP*(1-r*r)),o=Math.sqrt(i);this.kx=t*o*r,this.ky=t*o*i*(1-WP)}distance(e,t){const r=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(r*r+i*i)}pointOnLine(e,t){let r=1/0,i,o,s,a;for(let f=0;f<e.length-1;f++){let m=e[f][0],C=e[f][1],k=this.wrap(e[f+1][0]-m)*this.kx,I=(e[f+1][1]-C)*this.ky,K=0;(k!==0||I!==0)&&(K=(this.wrap(t[0]-m)*this.kx*k+(t[1]-C)*this.ky*I)/(k*k+I*I),K>1?(m=e[f+1][0],C=e[f+1][1]):K>0&&(m+=k/this.kx*K,C+=I/this.ky*K)),k=this.wrap(t[0]-m)*this.kx,I=(t[1]-C)*this.ky;const L=k*k+I*I;L<r&&(r=L,i=m,o=C,s=f,a=K)}return{point:[i,o],index:s,t:Math.max(0,Math.min(1,a))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const sB=100,lB=50;function $z(n,e){return e[0]-n[0]}function ow(n){return n[1]-n[0]+1}function _m(n,e){return n[1]>=n[0]&&n[1]<e}function uB(n,e){if(n[0]>n[1])return[null,null];const t=ow(n);if(e){if(t===2)return[n,null];const i=Math.floor(t/2);return[[n[0],n[0]+i],[n[0]+i,n[1]]]}if(t===1)return[n,null];const r=Math.floor(t/2)-1;return[[n[0],n[0]+r],[n[0]+r+1,n[1]]]}function AB(n,e){if(!_m(e,n.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let r=e[0];r<=e[1];++r)t2(t,n[r]);return t}function cB(n){const e=[1/0,1/0,-1/0,-1/0];for(const t of n)for(const r of t)t2(e,r);return e}function QP(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function u7(n,e,t){if(!QP(n)||!QP(e))return NaN;let r=0,i=0;return n[2]<e[0]&&(r=e[0]-n[2]),n[0]>e[2]&&(r=n[0]-e[2]),n[1]>e[3]&&(i=n[1]-e[3]),n[3]<e[1]&&(i=e[1]-n[3]),t.distance([0,0],[r,i])}function Fg(n,e,t){const r=t.pointOnLine(e,n);return t.distance(n,r.point)}function A7(n,e,t,r,i){const o=Math.min(Fg(n,[t,r],i),Fg(e,[t,r],i)),s=Math.min(Fg(t,[n,e],i),Fg(r,[n,e],i));return Math.min(o,s)}function Bne(n,e,t,r,i){if(!(_m(e,n.length)&&_m(r,t.length)))return 1/0;let s=1/0;for(let a=e[0];a<e[1];++a){const f=n[a],m=n[a+1];for(let C=r[0];C<r[1];++C){const k=t[C],I=t[C+1];if(tM(f,m,k,I))return 0;s=Math.min(s,A7(f,m,k,I,i))}}return s}function Ine(n,e,t,r,i){if(!(_m(e,n.length)&&_m(r,t.length)))return NaN;let s=1/0;for(let a=e[0];a<=e[1];++a)for(let f=r[0];f<=r[1];++f)if(s=Math.min(s,i.distance(n[a],t[f])),s===0)return s;return s}function kne(n,e,t){if(Yv(n,e,!0))return 0;let r=1/0;for(const i of e){const o=i[0],s=i[i.length-1];if(o!==s&&(r=Math.min(r,Fg(n,[s,o],t)),r===0))return r;const a=t.pointOnLine(i,n);if(r=Math.min(r,t.distance(n,a.point)),r===0)return r}return r}function Tne(n,e,t,r){if(!_m(e,n.length))return NaN;for(let o=e[0];o<=e[1];++o)if(Yv(n[o],t,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const s=n[o],a=n[o+1];for(const f of t)for(let m=0,C=f.length,k=C-1;m<C;k=m++){const I=f[k],K=f[m];if(tM(s,a,I,K))return 0;i=Math.min(i,A7(s,a,I,K,r))}}return i}function $P(n,e){for(const t of n)for(const r of t)if(Yv(r,e,!0))return!0;return!1}function Pne(n,e,t,r=1/0){const i=cB(n),o=cB(e);if(r!==1/0&&u7(i,o,t)>=r)return r;if(xb(i,o)){if($P(n,e))return 0}else if($P(e,n))return 0;let s=1/0;for(const a of n)for(let f=0,m=a.length,C=m-1;f<m;C=f++){const k=a[C],I=a[f];for(const K of e)for(let L=0,q=K.length,X=q-1;L<q;X=L++){const H=K[X],G=K[L];if(tM(k,I,H,G))return 0;s=Math.min(s,A7(k,I,H,G,t))}}return s}function YP(n,e,t,r,i,o){if(!o)return;const s=u7(AB(r,o),i,t);s<e&&n.push([s,o,[0,0]])}function h3(n,e,t,r,i,o,s){if(!o||!s)return;const a=u7(AB(r,o),AB(i,s),t);a<e&&n.push([a,o,s])}function aw(n,e,t,r,i=1/0){let o=Math.min(r.distance(n[0],t[0][0]),i);if(o===0)return o;const s=new Qz([[0,[0,n.length-1],[0,0]]],$z),a=cB(t);for(;s.length>0;){const f=s.pop();if(f[0]>=o)continue;const m=f[1],C=e?lB:sB;if(ow(m)<=C){if(!_m(m,n.length))return NaN;if(e){const k=Tne(n,m,t,r);if(isNaN(k)||k===0)return k;o=Math.min(o,k)}else for(let k=m[0];k<=m[1];++k){const I=kne(n[k],t,r);if(o=Math.min(o,I),o===0)return 0}}else{const k=uB(m,e);YP(s,o,r,n,a,k[0]),YP(s,o,r,n,a,k[1])}}return o}function sw(n,e,t,r,i,o=1/0){let s=Math.min(o,i.distance(n[0],t[0]));if(s===0)return s;const a=new Qz([[0,[0,n.length-1],[0,t.length-1]]],$z);for(;a.length>0;){const f=a.pop();if(f[0]>=s)continue;const m=f[1],C=f[2],k=e?lB:sB,I=r?lB:sB;if(ow(m)<=k&&ow(C)<=I){if(!_m(m,n.length)&&_m(C,t.length))return NaN;let K;if(e&&r)K=Bne(n,m,t,C,i),s=Math.min(s,K);else if(e&&!r){const L=n.slice(m[0],m[1]+1);for(let q=C[0];q<=C[1];++q)if(K=Fg(t[q],L,i),s=Math.min(s,K),s===0)return s}else if(!e&&r){const L=t.slice(C[0],C[1]+1);for(let q=m[0];q<=m[1];++q)if(K=Fg(n[q],L,i),s=Math.min(s,K),s===0)return s}else K=Ine(n,m,t,C,i),s=Math.min(s,K)}else{const K=uB(m,e),L=uB(C,r);h3(a,s,i,n,t,K[0],L[0]),h3(a,s,i,n,t,K[0],L[1]),h3(a,s,i,n,t,K[1],L[0]),h3(a,s,i,n,t,K[1],L[1])}}return s}function Kne(n,e){const t=n.geometry(),r=t.flat().map(s=>o7([s.x,s.y],n.canonical));if(t.length===0)return NaN;const i=new l7(r[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,sw(r,!1,[s.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,sw(r,!1,s.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,aw(r,!1,s.coordinates,i,o));break}if(o===0)return o}return o}function Dne(n,e){const t=n.geometry(),r=t.flat().map(s=>o7([s.x,s.y],n.canonical));if(t.length===0)return NaN;const i=new l7(r[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,sw(r,!0,[s.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,sw(r,!0,s.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,aw(r,!0,s.coordinates,i,o));break}if(o===0)return o}return o}function Lne(n,e){const t=n.geometry();if(t.length===0||t[0].length===0)return NaN;const r=Sne(t).map(s=>s.map(a=>a.map(f=>o7([f.x,f.y],n.canonical)))),i=new l7(r[0][0][0][1]);let o=1/0;for(const s of e)for(const a of r){switch(s.type){case"Point":o=Math.min(o,aw([s.coordinates],!1,a,i,o));break;case"LineString":o=Math.min(o,aw(s.coordinates,!0,a,i,o));break;case"Polygon":o=Math.min(o,Pne(a,s.coordinates,i,o));break}if(o===0)return o}return o}function IE(n){return n.type==="MultiPolygon"?n.coordinates.map(e=>({type:"Polygon",coordinates:e})):n.type==="MultiLineString"?n.coordinates.map(e=>({type:"LineString",coordinates:e})):n.type==="MultiPoint"?n.coordinates.map(e=>({type:"Point",coordinates:e})):[n]}class qg{constructor(e,t){this.type=nr,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(bb(e[1])){const r=e[1];if(r.type==="FeatureCollection")return new qg(r,r.features.map(i=>IE(i.geometry)).flat());if(r.type==="Feature")return new qg(r,IE(r.geometry));if("type"in r&&"coordinates"in r)return new qg(r,IE(r))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return Kne(e,this.geometries);if(e.geometryType()==="LineString")return Dne(e,this.geometries);if(e.geometryType()==="Polygon")return Lne(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const c7={"==":nne,"!=":rne,">":one,"<":ine,">=":sne,"<=":ane,array:om,at:Kte,boolean:om,case:Rte,coalesce:Pz,collator:Lz,format:une,image:Ane,in:Dte,"index-of":Lte,interpolate:cm,"interpolate-hcl":cm,"interpolate-lab":cm,length:cne,let:xz,literal:iw,match:Fte,number:om,"number-format":lne,object:om,slice:Ute,step:kz,string:om,"to-boolean":Ly,"to-color":Ly,"to-number":Ly,"to-string":Ly,var:Mz,within:s7,distance:qg};let qv=class dC{constructor(e,t,r,i){this.name=e,this.type=t,this._evaluate=r,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const r=e[0],i=dC.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([m])=>!Array.isArray(m)||m.length===e.length-1);let f=null;for(const[m,C]of a){f=new Cz(t.registry,lw,t.path,null,t.scope);const k=[];let I=!1;for(let K=1;K<e.length;K++){const L=e[K],q=Array.isArray(m)?m[K-1]:m.type,X=f.parse(L,1+k.length,q);if(!X){I=!0;break}k.push(X)}if(!I){if(Array.isArray(m)&&m.length!==k.length){f.error(`Expected ${m.length} arguments, but found ${k.length} instead.`);continue}for(let K=0;K<k.length;K++){const L=Array.isArray(m)?m[K]:m.type,q=k[K];f.concat(K+1).checkSubtype(L,q.type)}if(f.errors.length===0)return new dC(r,o,C,k)}}if(a.length===1)t.errors.push(...f.errors);else{const C=(a.length?a:s).map(([I])=>Rne(I)).join(" | "),k=[];for(let I=1;I<e.length;I++){const K=t.parse(e[I],1+k.length);if(!K)return null;k.push(Ks(K.type))}t.error(`Expected arguments of type ${C}, but found (${k.join(", ")}) instead.`)}return null}static register(e,t){dC.definitions=t;for(const r in t)e[r]=dC}};function qP(n,[e,t,r,i]){e=e.evaluate(n),t=t.evaluate(n),r=r.evaluate(n);const o=i?i.evaluate(n):1,s=mz(e,t,r,o);if(s)throw new Kl(s);return new Ms(e/255,t/255,r/255,o,!1)}function VP(n,e){return n in e}function kE(n,e){const t=e[n];return typeof t>"u"?null:t}function Fne(n,e,t,r){for(;t<=r;){const i=t+r>>1;if(e[i]===n)return!0;e[i]>n?r=i-1:t=i+1}return!1}function cg(n){return{type:n}}qv.register(c7,{error:[_te,[po],(n,[e])=>{throw new Kl(e.evaluate(n))}],typeof:[po,[io],(n,[e])=>Ks(bu(e.evaluate(n)))],"to-rgba":[vh(nr,4),[dp],(n,[e])=>{const[t,r,i,o]=e.evaluate(n).rgb;return[t*255,r*255,i*255,o]}],rgb:[dp,[nr,nr,nr],qP],rgba:[dp,[nr,nr,nr,nr],qP],has:{type:no,overloads:[[[po],(n,[e])=>VP(e.evaluate(n),n.properties())],[[po,Jy],(n,[e,t])=>VP(e.evaluate(n),t.evaluate(n))]]},get:{type:io,overloads:[[[po],(n,[e])=>kE(e.evaluate(n),n.properties())],[[po,Jy],(n,[e,t])=>kE(e.evaluate(n),t.evaluate(n))]]},"feature-state":[io,[po],(n,[e])=>kE(e.evaluate(n),n.featureState||{})],properties:[Jy,[],n=>n.properties()],"geometry-type":[po,[],n=>n.geometryType()],id:[io,[],n=>n.id()],zoom:[nr,[],n=>n.globals.zoom],"heatmap-density":[nr,[],n=>n.globals.heatmapDensity||0],"line-progress":[nr,[],n=>n.globals.lineProgress||0],accumulated:[io,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[nr,cg(nr),(n,e)=>{let t=0;for(const r of e)t+=r.evaluate(n);return t}],"*":[nr,cg(nr),(n,e)=>{let t=1;for(const r of e)t*=r.evaluate(n);return t}],"-":{type:nr,overloads:[[[nr,nr],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[nr],(n,[e])=>-e.evaluate(n)]]},"/":[nr,[nr,nr],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[nr,[nr,nr],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[nr,[],()=>Math.LN2],pi:[nr,[],()=>Math.PI],e:[nr,[],()=>Math.E],"^":[nr,[nr,nr],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[nr,[nr],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[nr,[nr],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[nr,[nr],(n,[e])=>Math.log(e.evaluate(n))],log2:[nr,[nr],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[nr,[nr],(n,[e])=>Math.sin(e.evaluate(n))],cos:[nr,[nr],(n,[e])=>Math.cos(e.evaluate(n))],tan:[nr,[nr],(n,[e])=>Math.tan(e.evaluate(n))],asin:[nr,[nr],(n,[e])=>Math.asin(e.evaluate(n))],acos:[nr,[nr],(n,[e])=>Math.acos(e.evaluate(n))],atan:[nr,[nr],(n,[e])=>Math.atan(e.evaluate(n))],min:[nr,cg(nr),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[nr,cg(nr),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[nr,[nr],(n,[e])=>Math.abs(e.evaluate(n))],round:[nr,[nr],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[nr,[nr],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[nr,[nr],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[no,[po,io],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[no,[io],(n,[e])=>n.id()===e.value],"filter-type-==":[no,[po],(n,[e])=>n.geometryType()===e.value],"filter-<":[no,[po,io],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[no,[io],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<r}],"filter->":[no,[po,io],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[no,[io],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>r}],"filter-<=":[no,[po,io],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[no,[io],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<=r}],"filter->=":[no,[po,io],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[no,[io],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>=r}],"filter-has":[no,[io],(n,[e])=>e.value in n.properties()],"filter-has-id":[no,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[no,[vh(po)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[no,[vh(io)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[no,[po,vh(io)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[no,[po,vh(io)],(n,[e,t])=>Fne(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:no,overloads:[[[no,no],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[cg(no),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:no,overloads:[[[no,no],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[cg(no),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[no,[no],(n,[e])=>!e.evaluate(n)],"is-supported-script":[no,[po],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[po,[po],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[po,[po],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[po,cg(io),(n,e)=>e.map(t=>LC(t.evaluate(n))).join("")],"resolved-locale":[po,[H5],(n,[e])=>e.evaluate(n).resolvedLocale()]});function Rne(n){return Array.isArray(n)?`(${n.map(Ks).join(", ")})`:`(${Ks(n.type)}...)`}function lw(n){if(n instanceof Mz)return lw(n.boundExpression);if(n instanceof qv&&n.name==="error")return!1;if(n instanceof Lz)return!1;if(n instanceof s7)return!1;if(n instanceof qg)return!1;const e=n instanceof Ly||n instanceof om;let t=!0;return n.eachChild(r=>{e?t=t&&lw(r):t=t&&r instanceof iw}),t?nM(n)&&rM(n,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function nM(n){if(n instanceof qv){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof s7||n instanceof qg)return!1;let e=!0;return n.eachChild(t=>{e&&!nM(t)&&(e=!1)}),e}function wb(n){if(n instanceof qv&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!wb(t)&&(e=!1)}),e}function rM(n,e){if(n instanceof qv&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(r=>{t&&!rM(r,e)&&(t=!1)}),t}function hB(n){return{result:"success",value:n}}function dy(n){return{result:"error",value:n}}function uw(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function Yz(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function h7(n){return!!n.expression&&n.expression.interpolated}function No(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function n2(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Une(n){return n}function d7(n,e){const t=e.type==="color",r=n.stops&&typeof n.stops[0][0]=="object",i=r||n.property!==void 0,o=r||!i,s=n.type||(h7(e)?"exponential":"interval");if(t||e.type==="padding"){const C=t?Ms.parse:oc.parse;n=Ov({},n),n.stops&&(n.stops=n.stops.map(k=>[k[0],C(k[1])])),n.default?n.default=C(n.default):n.default=C(e.default)}if(n.colorSpace&&!Ite(n.colorSpace))throw new Error(`Unknown color space: "${n.colorSpace}"`);let a,f,m;if(s==="exponential")a=HP;else if(s==="interval")a=zne;else if(s==="categorical"){a=jne,f=Object.create(null);for(const C of n.stops)f[C[0]]=C[1];m=typeof n.stops[0][0]}else if(s==="identity")a=Nne;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},k=[];for(let L=0;L<n.stops.length;L++){const q=n.stops[L],X=q[0].zoom;C[X]===void 0&&(C[X]={zoom:X,type:n.type,property:n.property,default:n.default,stops:[]},k.push(X)),C[X].stops.push([q[0].value,q[1]])}const I=[];for(const L of k)I.push([C[L].zoom,d7(C[L],e)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:cm.interpolationFactor.bind(void 0,K),zoomStops:I.map(L=>L[0]),evaluate({zoom:L},q){return HP({stops:I,base:n.base},e,L).evaluate(L,q)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:cm.interpolationFactor.bind(void 0,C),zoomStops:n.stops.map(k=>k[0]),evaluate:({zoom:k})=>a(n,e,k,f,m)}}else return{kind:"source",evaluate(C,k){const I=k&&k.properties?k.properties[n.property]:void 0;return I===void 0?r2(n.default,e.default):a(n,e,I,f,m)}}}function r2(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function jne(n,e,t,r,i){const o=typeof t===i?r[t]:void 0;return r2(o,n.default,e.default)}function zne(n,e,t){if(No(t)!=="number")return r2(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const i=eM(n.stops.map(o=>o[0]),t);return n.stops[i][1]}function HP(n,e,t){const r=n.base!==void 0?n.base:1;if(No(t)!=="number")return r2(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const o=eM(n.stops.map(C=>C[0]),t),s=Wne(t,r,n.stops[o][0],n.stops[o+1][0]),a=n.stops[o][1],f=n.stops[o+1][1],m=Gte[e.type]||Une;return typeof a.evaluate=="function"?{evaluate(...C){const k=a.evaluate.apply(void 0,C),I=f.evaluate.apply(void 0,C);if(!(k===void 0||I===void 0))return m(k,I,s,n.colorSpace)}}:m(a,f,s,n.colorSpace)}function Nne(n,e,t){switch(e.type){case"color":t=Ms.parse(t);break;case"formatted":t=Qv.fromString(t.toString());break;case"resolvedImage":t=_1.fromString(t.toString());break;case"padding":t=oc.parse(t);break;default:No(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0)}return r2(t,n.default,e.default)}function Wne(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}let qz=class{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new _z,this._defaultValue=t?Yne(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,i,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new Kl(`Expected value to be one of ${Object.keys(this._enumValues).map(f=>JSON.stringify(f)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}};function i2(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in c7}function f7(n,e){const t=new Cz(c7,lw,[],e?$ne(e):void 0),r=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?hB(new qz(r,e)):dy(t.errors)}let dB=class{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!wb(t.expression)}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}},fB=class{constructor(e,t,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!wb(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}interpolationFactor(e,t,r){return this.interpolationType?cm.interpolationFactor(this.interpolationType,e,t,r):0}};function Gne(n){return n._styleExpression!==void 0}function p7(n,e){const t=f7(n,e);if(t.result==="error")return t;const r=t.value.expression,i=nM(r);if(!i&&!uw(e))return dy([new ap("","data expressions not supported")]);const o=rM(r,["zoom"]);if(!o&&!Yz(e))return dy([new ap("","zoom expressions not supported")]);const s=d4(r);if(!s&&!o)return dy([new ap("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof ap)return dy([s]);if(s instanceof cm&&!h7(e))return dy([new ap("",'"interpolate" expressions cannot be used with this property')]);if(!s)return hB(i?new dB("constant",t.value):new dB("source",t.value));const a=s instanceof cm?s.interpolation:void 0;return hB(i?new fB("camera",t.value,s.labels,a):new fB("composite",t.value,s.labels,a))}let Vz=class Hz{constructor(e,t){this._parameters=e,this._specification=t,Ov(this,d7(this._parameters,this._specification))}static deserialize(e){return new Hz(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}};function Qne(n,e){if(n2(n))return new Vz(n,e);if(i2(n)){const t=p7(n,e);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=n;return e.type==="color"&&typeof n=="string"?t=Ms.parse(n):e.type==="padding"&&(typeof n=="number"||Array.isArray(n))?t=oc.parse(n):e.type==="variableAnchorOffsetCollection"&&Array.isArray(n)?t=Ad.parse(n):e.type==="projectionDefinition"&&typeof n=="string"&&(t=id.parse(n)),{kind:"constant",evaluate:()=>t}}}function d4(n){let e=null;if(n instanceof xz)e=d4(n.result);else if(n instanceof Pz){for(const t of n.args)if(e=d4(t),e)break}else(n instanceof kz||n instanceof cm)&&n.input instanceof qv&&n.input.name==="zoom"&&(e=n);return e instanceof ap||n.eachChild(t=>{const r=d4(t);r instanceof ap?e=r:!e&&r?e=new ap("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new ap("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function $ne(n){const e={color:dp,string:po,number:nr,enum:po,boolean:no,formatted:Z5,padding:X5,projectionDefinition:V5,resolvedImage:e2,variableAnchorOffsetCollection:J5};return n.type==="array"?vh(e[n.value]||io,n.length):e[n.type]}function Yne(n){return n.type==="color"&&n2(n.default)?new Ms(0,0,0,0):n.type==="color"?Ms.parse(n.default)||null:n.type==="padding"?oc.parse(n.default)||null:n.type==="variableAnchorOffsetCollection"?Ad.parse(n.default)||null:n.type==="projectionDefinition"?id.parse(n.default)||null:n.default===void 0?null:n.default}function iM(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!iM(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function FC(n,e={}){if(iM(n))return n;if(!n)return!0;const t=n,r=t[0];if(n.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=n;return Vne(i,o,r,e)}case"any":{const[,...i]=t;return["any",...i.map(s=>{const a={},f=FC(s,a),m=qne(a);return m===!0?f:["case",m,f,!1]})]}case"all":{const[,...i]=t,o=i.map(s=>FC(s,e));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=t;return["!",FC(["any",...i],{})]}case"in":{const[,i,...o]=t;return ZP(i,o)}case"!in":{const[,i,...o]=t;return ZP(i,o,!0)}case"has":return XP(t[1]);case"!has":return["!",XP(t[1])];default:return!0}}function qne(n){const e=[];for(const t in n){const r=t==="$id"?["id"]:["get",t];e.push(["==",["typeof",r],n[t]])}return e.length===0?!0:e.length===1?e[0]:["all",...e]}function Vne(n,e,t,r){let i;if(n==="$type")return[t,["geometry-type"],e];if(n==="$id"?i=["id"]:i=["get",n],r&&e!==null){const o=typeof e;r[n]=o}return t==="=="&&n!=="$id"&&e===null?["all",["has",n],["==",i,null]]:t==="!="&&n!=="$id"&&e===null?["any",["!",["has",n]],["!=",i,null]]:[t,i,e]}function ZP(n,e,t=!1){if(e.length===0)return t;let r;n==="$type"?r=["geometry-type"]:n==="$id"?r=["id"]:r=["get",n];let i=!0;const o=typeof e[0];for(const s of e)if(typeof s!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const s=e.sort().filter((a,f)=>f===0||e[f-1]!==a);return["match",r,s,!t,t]}return t?["all",...e.map(s=>["!=",r,s])]:["any",...e.map(s=>["==",r,s])]}function XP(n){return n==="$type"?!0:n==="$id"?["!=",["id"],null]:["has",n]}function Mb(n){return typeof n=="object"?["literal",n]:n}function Zz(n,e){let t=n.stops;if(!t)return Hne(n,e);const r=t&&typeof t[0][0]=="object",i=r||n.property!==void 0,o=r||!i;return t=t.map(s=>!i&&e.tokens&&typeof s[1]=="string"?[s[0],Xz(s[1])]:[s[0],Mb(s[1])]),r?Zne(n,e,t):o?Jne(n,e,t):pB(n,e,t)}function Hne(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const r=[e.type==="color"?"to-color":e.type,t,Mb(n.default)];return e.type==="array"&&r.splice(1,0,e.value,e.length||null),r}}function m7(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Zne(n,e,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const f=t[a],m=f[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:n.type,property:n.property,default:n.default},i[m]=[],o.push(m)),i[m].push([f[0].value,f[1]])}if(y7({},e)==="exponential"){const a=[m7(n),["linear"],["zoom"]];for(const f of o){const m=pB(r[f],e,i[f]);tv(a,f,m,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const m=pB(r[f],e,i[f]);tv(a,f,m,!0)}return g7(a),a}}function Xne(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function JP(n,e){const t=Mb(Xne(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function pB(n,e,t){const r=y7(n,e),i=["get",n.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(JP(n,e)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)tv(o,s[0],s[1],!1);return o.push(JP(n,e)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)tv(o,s[0],s[1],!0);return g7(o),n.default===void 0?o:["case",["==",["typeof",i],"number"],o,Mb(n.default)]}else if(r==="exponential"){const o=n.base!==void 0?n.base:1,s=[m7(n),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)tv(s,a[0],a[1],!1);return n.default===void 0?s:["case",["==",["typeof",i],"number"],s,Mb(n.default)]}else throw new Error(`Unknown property function type ${r}`)}function Jne(n,e,t,r=["zoom"]){const i=y7(n,e);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=n.base!==void 0?n.base:1;o=[m7(n),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)tv(o,a[0],a[1],s);return g7(o),o}function g7(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function tv(n,e,t,r){n.length>3&&e===n[n.length-2]||(r&&n.length===2||n.push(e),n.push(t))}function y7(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function Xz(n){const e=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(n);i!==null;i=t.exec(n)){const o=n.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return n;if(r<n.length)e.push(n.slice(r));else if(e.length===2)return["to-string",e[1]];return e}function ere(n){for(let e=0;e<Yo.layout.length;e++)for(const t in Yo[Yo.layout[e]])if(t===n)return Yo[Yo.layout[e]][t];for(let e=0;e<Yo.paint.length;e++)for(const t in Yo[Yo.paint[e]])if(t===n)return Yo[Yo.paint[e]][t];return null}function tre(n,e){for(const t in n.sources)e(n.sources[t])}function RC(n,e){for(const t of n.layers)e(t)}function v7(n,e,t){function r(i,o){const s=i[o];s&&Object.keys(s).forEach(a=>{t({path:[i.id,o,a],key:a,value:s[a],reference:ere(a),set(f){s[a]=f}})})}RC(n,i=>{e.paint&&r(i,"paint"),e.layout&&r(i,"layout")})}function Jz(n){const e=n.key,t=n.value;return t?[new Xn(e,t,"constants have been deprecated as of v8")]:[]}function gl(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function s1(n){if(Array.isArray(n))return n.map(s1);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=s1(n[t]);return e}return gl(n)}function sd(n){const e=n.key,t=n.value,r=n.valueSpec||{},i=n.objectElementValidators||{},o=n.style,s=n.styleSpec,a=n.validateSpec;let f=[];const m=No(t);if(m!=="object")return[new Xn(e,t,`object expected, ${m} found`)];for(const C in t){const k=C.split(".")[0],I=r[k]||r["*"];let K;if(i[k])K=i[k];else if(r[k])K=a;else if(i["*"])K=i["*"];else if(r["*"])K=a;else{f.push(new Xn(e,t[C],`unknown property "${C}"`));continue}f=f.concat(K({key:(e&&`${e}.`)+C,value:t[C],valueSpec:I,style:o,styleSpec:s,object:t,objectKey:C,validateSpec:a},t))}for(const C in r)i[C]||r[C].required&&r[C].default===void 0&&t[C]===void 0&&f.push(new Xn(e,t,`missing required property "${C}"`));return f}function _7(n){const e=n.value,t=n.valueSpec,r=n.validateSpec,i=n.style,o=n.styleSpec,s=n.key,a=n.arrayElementValidator||r;if(No(e)!=="array")return[new Xn(s,e,`array expected, ${No(e)} found`)];if(t.length&&e.length!==t.length)return[new Xn(s,e,`array length ${t.length} expected, length ${e.length} found`)];if(t["min-length"]&&e.length<t["min-length"])return[new Xn(s,e,`array length at least ${t["min-length"]} expected, length ${e.length} found`)];let f={type:t.value,values:t.values};o.$version<7&&(f.function=t.function),No(t.value)==="object"&&(f=t.value);let m=[];for(let C=0;C<e.length;C++)m=m.concat(a({array:e,arrayIndex:C,value:e[C],valueSpec:f,validateSpec:n.validateSpec,style:i,styleSpec:o,key:`${s}[${C}]`}));return m}function C7(n){const e=n.key,t=n.value,r=n.valueSpec;let i=No(t);return i==="number"&&t!==t&&(i="NaN"),i!=="number"?[new Xn(e,t,`number expected, ${i} found`)]:"minimum"in r&&t<r.minimum?[new Xn(e,t,`${t} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&t>r.maximum?[new Xn(e,t,`${t} is greater than the maximum value ${r.maximum}`)]:[]}function eN(n){const e=n.valueSpec,t=gl(n.value.type);let r,i={},o,s;const a=t!=="categorical"&&n.value.property===void 0,f=!a,m=No(n.value.stops)==="array"&&No(n.value.stops[0])==="array"&&No(n.value.stops[0][0])==="object",C=sd({key:n.key,value:n.value,valueSpec:n.styleSpec.function,validateSpec:n.validateSpec,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:k,default:L}});return t==="identity"&&a&&C.push(new Xn(n.key,n.value,'missing required property "property"')),t!=="identity"&&!n.value.stops&&C.push(new Xn(n.key,n.value,'missing required property "stops"')),t==="exponential"&&n.valueSpec.expression&&!h7(n.valueSpec)&&C.push(new Xn(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(f&&!uw(n.valueSpec)?C.push(new Xn(n.key,n.value,"property functions not supported")):a&&!Yz(n.valueSpec)&&C.push(new Xn(n.key,n.value,"zoom functions not supported"))),(t==="categorical"||m)&&n.value.property===void 0&&C.push(new Xn(n.key,n.value,'"property" property is required')),C;function k(q){if(t==="identity")return[new Xn(q.key,q.value,'identity function may not have a "stops" property')];let X=[];const H=q.value;return X=X.concat(_7({key:q.key,value:H,valueSpec:q.valueSpec,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:I})),No(H)==="array"&&H.length===0&&X.push(new Xn(q.key,H,"array must have at least one stop")),X}function I(q){let X=[];const H=q.value,G=q.key;if(No(H)!=="array")return[new Xn(G,H,`array expected, ${No(H)} found`)];if(H.length!==2)return[new Xn(G,H,`array length 2 expected, length ${H.length} found`)];if(m){if(No(H[0])!=="object")return[new Xn(G,H,`object expected, ${No(H[0])} found`)];if(H[0].zoom===void 0)return[new Xn(G,H,"object stop key must have zoom")];if(H[0].value===void 0)return[new Xn(G,H,"object stop key must have value")];if(s&&s>gl(H[0].zoom))return[new Xn(G,H[0].zoom,"stop zoom values must appear in ascending order")];gl(H[0].zoom)!==s&&(s=gl(H[0].zoom),o=void 0,i={}),X=X.concat(sd({key:`${G}[0]`,value:H[0],valueSpec:{zoom:{}},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:C7,value:K}}))}else X=X.concat(K({key:`${G}[0]`,value:H[0],valueSpec:{},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec},H));return i2(s1(H[1]))?X.concat([new Xn(`${G}[1]`,H[1],"expressions are not allowed in function stops.")]):X.concat(q.validateSpec({key:`${G}[1]`,value:H[1],valueSpec:e,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec}))}function K(q,X){const H=No(q.value),G=gl(q.value),ee=q.value!==null?q.value:X;if(!r)r=H;else if(H!==r)return[new Xn(q.key,ee,`${H} stop domain type must match previous stop domain type ${r}`)];if(H!=="number"&&H!=="string"&&H!=="boolean")return[new Xn(q.key,ee,"stop domain value must be a number, string, or boolean")];if(H!=="number"&&t!=="categorical"){let ne=`number expected, ${H} found`;return uw(e)&&t===void 0&&(ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xn(q.key,ee,ne)]}return t==="categorical"&&H==="number"&&(!isFinite(G)||Math.floor(G)!==G)?[new Xn(q.key,ee,`integer expected, found ${G}`)]:t!=="categorical"&&H==="number"&&o!==void 0&&G<o?[new Xn(q.key,ee,"stop domain values must appear in ascending order")]:(o=G,t==="categorical"&&G in i?[new Xn(q.key,ee,"stop domain values must be unique")]:(i[G]=!0,[]))}function L(q){return q.validateSpec({key:q.key,value:q.value,valueSpec:e,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec})}}function Bv(n){const e=(n.expressionContext==="property"?p7:f7)(s1(n.value),n.valueSpec);if(e.result==="error")return e.value.map(r=>new Xn(`${n.key}${r.key}`,n.value,r.message));const t=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!t.outputDefined())return[new Xn(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!wb(t))return[new Xn(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!wb(t))return[new Xn(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!rM(t,["zoom","feature-state"]))return[new Xn(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!nM(t))return[new Xn(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nre(n){const e=n.value,t=n.key,r=No(e);return r!=="boolean"?[new Xn(t,e,`boolean expected, ${r} found`)]:[]}function rre(n){const e=n.key,t=n.value,r=No(t);return r!=="string"?[new Xn(e,t,`color expected, ${r} found`)]:Ms.parse(String(t))?[]:[new Xn(e,t,`color expected, "${t}" found`)]}function Sb(n){const e=n.key,t=n.value,r=n.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(gl(t))===-1&&i.push(new Xn(e,t,`expected one of [${r.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(r.values).indexOf(gl(t))===-1&&i.push(new Xn(e,t,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(t)} found`)),i}function b7(n){return iM(s1(n.value))?Bv(Ov({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):tN(n)}function tN(n){const e=n.value,t=n.key;if(No(e)!=="array")return[new Xn(t,e,`array expected, ${No(e)} found`)];const r=n.styleSpec;let i,o=[];if(e.length<1)return[new Xn(t,e,"filter array must have at least 1 element")];switch(o=o.concat(Sb({key:`${t}[0]`,value:e[0],valueSpec:r.filter_operator,style:n.style,styleSpec:n.styleSpec})),gl(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&gl(e[1])==="$type"&&o.push(new Xn(t,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&o.push(new Xn(t,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(i=No(e[1]),i!=="string"&&o.push(new Xn(`${t}[1]`,e[1],`string expected, ${i} found`)));for(let s=2;s<e.length;s++)i=No(e[s]),gl(e[1])==="$type"?o=o.concat(Sb({key:`${t}[${s}]`,value:e[s],valueSpec:r.geometry_type,style:n.style,styleSpec:n.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Xn(`${t}[${s}]`,e[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let s=1;s<e.length;s++)o=o.concat(tN({key:`${t}[${s}]`,value:e[s],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":i=No(e[1]),e.length!==2?o.push(new Xn(t,e,`filter array for "${e[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Xn(`${t}[1]`,e[1],`string expected, ${i} found`));break}return o}function nN(n,e){const t=n.key,r=n.validateSpec,i=n.style,o=n.styleSpec,s=n.value,a=n.objectKey,f=o[`${e}_${n.layerType}`];if(!f)return[];const m=a.match(/^(.*)-transition$/);if(e==="paint"&&m&&f[m[1]]&&f[m[1]].transition)return r({key:t,value:s,valueSpec:o.transition,style:i,styleSpec:o});const C=n.valueSpec||f[a];if(!C)return[new Xn(t,s,`unknown property "${a}"`)];let k;if(No(s)==="string"&&uw(C)&&!C.tokens&&(k=/^{([^}]+)}$/.exec(s)))return[new Xn(t,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(k[1])} }\`.`)];const I=[];return n.layerType==="symbol"&&(a==="text-field"&&i&&!i.glyphs&&I.push(new Xn(t,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&n2(s1(s))&&gl(s.type)==="identity"&&I.push(new Xn(t,s,'"text-font" does not support identity functions'))),I.concat(r({key:n.key,value:s,valueSpec:C,style:i,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function rN(n){return nN(n,"paint")}function iN(n){return nN(n,"layout")}function oN(n){let e=[];const t=n.value,r=n.key,i=n.style,o=n.styleSpec;!t.type&&!t.ref&&e.push(new Xn(r,t,'either "type" or "ref" is required'));let s=gl(t.type);const a=gl(t.ref);if(t.id){const f=gl(t.id);for(let m=0;m<n.arrayIndex;m++){const C=i.layers[m];gl(C.id)===f&&e.push(new Xn(r,t.id,`duplicate layer id "${t.id}", previously used at line ${C.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(m=>{m in t&&e.push(new Xn(r,t[m],`"${m}" is prohibited for ref layers`))});let f;i.layers.forEach(m=>{gl(m.id)===a&&(f=m)}),f?f.ref?e.push(new Xn(r,t.ref,"ref cannot reference another ref layer")):s=gl(f.type):e.push(new Xn(r,t.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!t.source)e.push(new Xn(r,t,'missing required property "source"'));else{const f=i.sources&&i.sources[t.source],m=f&&gl(f.type);f?m==="vector"&&s==="raster"?e.push(new Xn(r,t.source,`layer "${t.id}" requires a raster source`)):m!=="raster-dem"&&s==="hillshade"?e.push(new Xn(r,t.source,`layer "${t.id}" requires a raster-dem source`)):m==="raster"&&s!=="raster"?e.push(new Xn(r,t.source,`layer "${t.id}" requires a vector source`)):m==="vector"&&!t["source-layer"]?e.push(new Xn(r,t,`layer "${t.id}" must specify a "source-layer"`)):m==="raster-dem"&&s!=="hillshade"?e.push(new Xn(r,t.source,"raster-dem source can only be used with layer type 'hillshade'.")):s==="line"&&t.paint&&t.paint["line-gradient"]&&(m!=="geojson"||!f.lineMetrics)&&e.push(new Xn(r,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Xn(r,t.source,`source "${t.source}" not found`))}return e=e.concat(sd({key:r,value:t,valueSpec:o.layer,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,objectElementValidators:{"*"(){return[]},type(){return n.validateSpec({key:`${r}.type`,value:t.type,valueSpec:o.layer.type,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,object:t,objectKey:"type"})},filter:b7,layout(f){return sd({layer:t,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(m){return iN(Ov({layerType:s},m))}}})},paint(f){return sd({layer:t,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(m){return rN(Ov({layerType:s},m))}}})}}})),e}function l1(n){const e=n.value,t=n.key,r=No(e);return r!=="string"?[new Xn(t,e,`string expected, ${r} found`)]:[]}function ire(n){var e;const t=(e=n.sourceName)!==null&&e!==void 0?e:"",r=n.value,i=n.styleSpec,o=i.source_raster_dem,s=n.style;let a=[];const f=No(r);if(r===void 0)return a;if(f!=="object")return a.push(new Xn("source_raster_dem",r,`object expected, ${f} found`)),a;const C=gl(r.encoding)==="custom",k=["redFactor","greenFactor","blueFactor","baseShift"],I=n.value.encoding?`"${n.value.encoding}"`:"Default";for(const K in r)!C&&k.includes(K)?a.push(new Xn(K,r[K],`In "${t}": "${K}" is only valid when "encoding" is set to "custom". ${I} encoding found`)):o[K]?a=a.concat(n.validateSpec({key:K,value:r[K],valueSpec:o[K],validateSpec:n.validateSpec,style:s,styleSpec:i})):a.push(new Xn(K,r[K],`unknown property "${K}"`));return a}const eK={promoteId:ore};function aN(n){const e=n.value,t=n.key,r=n.styleSpec,i=n.style,o=n.validateSpec;if(!e.type)return[new Xn(t,e,'"type" is required')];const s=gl(e.type);let a;switch(s){case"vector":case"raster":return a=sd({key:t,value:e,valueSpec:r[`source_${s.replace("-","_")}`],style:n.style,styleSpec:r,objectElementValidators:eK,validateSpec:o}),a;case"raster-dem":return a=ire({sourceName:t,value:e,style:n.style,styleSpec:r,validateSpec:o}),a;case"geojson":if(a=sd({key:t,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:eK}),e.cluster)for(const f in e.clusterProperties){const[m,C]=e.clusterProperties[f],k=typeof m=="string"?[m,["accumulated"],["get",f]]:m;a.push(...Bv({key:`${t}.${f}.map`,value:C,validateSpec:o,expressionContext:"cluster-map"})),a.push(...Bv({key:`${t}.${f}.reduce`,value:k,validateSpec:o,expressionContext:"cluster-reduce"}))}return a;case"video":return sd({key:t,value:e,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return sd({key:t,value:e,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Xn(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Sb({key:`${t}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function ore({key:n,value:e}){if(No(e)==="string")return l1({key:n,value:e});{const t=[];for(const r in e)t.push(...l1({key:`${n}.${r}`,value:e[r]}));return t}}function sN(n){const e=n.value,t=n.styleSpec,r=t.light,i=n.style;let o=[];const s=No(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new Xn("light",e,`object expected, ${s} found`)]),o;for(const a in e){const f=a.match(/^(.*)-transition$/);f&&r[f[1]]&&r[f[1]].transition?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:t.transition,validateSpec:n.validateSpec,style:i,styleSpec:t})):r[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],validateSpec:n.validateSpec,style:i,styleSpec:t})):o=o.concat([new Xn(a,e[a],`unknown property "${a}"`)])}return o}function lN(n){const e=n.value,t=n.styleSpec,r=t.sky,i=n.style,o=No(e);if(e===void 0)return[];if(o!=="object")return[new Xn("sky",e,`object expected, ${o} found`)];let s=[];for(const a in e)r[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Xn(a,e[a],`unknown property "${a}"`)]);return s}function uN(n){const e=n.value,t=n.styleSpec,r=t.terrain,i=n.style;let o=[];const s=No(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new Xn("terrain",e,`object expected, ${s} found`)]),o;for(const a in e)r[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],validateSpec:n.validateSpec,style:i,styleSpec:t})):o=o.concat([new Xn(a,e[a],`unknown property "${a}"`)]);return o}function are(n){return l1(n).length===0?[]:Bv(n)}function sre(n){return l1(n).length===0?[]:Bv(n)}function lre(n){const e=n.key,t=n.value;if(No(t)==="array"){if(t.length<1||t.length>4)return[new Xn(e,t,`padding requires 1 to 4 values; ${t.length} values found`)];const i={type:"number"};let o=[];for(let s=0;s<t.length;s++)o=o.concat(n.validateSpec({key:`${e}[${s}]`,value:t[s],validateSpec:n.validateSpec,valueSpec:i}));return o}else return C7({key:e,value:t,valueSpec:{}})}function ure(n){const e=n.key,t=n.value,r=No(t),i=n.styleSpec;if(r!=="array"||t.length<1||t.length%2!==0)return[new Xn(e,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let s=0;s<t.length;s+=2)o=o.concat(Sb({key:`${e}[${s}]`,value:t[s],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(_7({key:`${e}[${s+1}]`,value:t[s+1],valueSpec:{length:2,value:"number"},validateSpec:n.validateSpec,style:n.style,styleSpec:i}));return o}function AN(n){let e=[];const t=n.value,r=n.key;if(Array.isArray(t)){const i=[],o=[];for(const s in t){t[s].id&&i.includes(t[s].id)&&e.push(new Xn(r,t,`all the sprites' ids must be unique, but ${t[s].id} is duplicated`)),i.push(t[s].id),t[s].url&&o.includes(t[s].url)&&e.push(new Xn(r,t,`all the sprites' URLs must be unique, but ${t[s].url} is duplicated`)),o.push(t[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};e=e.concat(sd({key:`${r}[${s}]`,value:t[s],valueSpec:a,validateSpec:n.validateSpec}))}return e}else return l1({key:r,value:t})}function Are(n){const e=n.value,t=n.styleSpec,r=t.projection,i=n.style,o=No(e);if(e===void 0)return[];if(o!=="object")return[new Xn("projection",e,`object expected, ${o} found`)];let s=[];for(const a in e)r[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Xn(a,e[a],`unknown property "${a}"`)]);return s}function cre(n){const e=n.key;let t=n.value;t=t instanceof String?t.valueOf():t;const r=No(t);return r==="array"&&!dre(t)&&!hre(t)?[new Xn(e,t,`projection expected, invalid array ${JSON.stringify(t)} found`)]:["array","string"].includes(r)?[]:[new Xn(e,t,`projection expected, invalid type "${r}" found`)]}function hre(n){return!!["interpolate","step","literal"].includes(n[0])}function dre(n){return Array.isArray(n)&&n.length===3&&typeof n[0]=="string"&&typeof n[1]=="string"&&typeof n[2]=="number"}const tK={"*"(){return[]},array:_7,boolean:nre,number:C7,color:rre,constants:Jz,enum:Sb,filter:b7,function:eN,layer:oN,object:sd,source:aN,light:sN,sky:lN,terrain:uN,projection:Are,projectionDefinition:cre,string:l1,formatted:are,resolvedImage:sre,padding:lre,variableAnchorOffsetCollection:ure,sprite:AN};function UC(n){const e=n.value,t=n.valueSpec,r=n.styleSpec;return n.validateSpec=UC,t.expression&&n2(gl(e))?eN(n):t.expression&&i2(s1(e))?Bv(n):t.type&&tK[t.type]?tK[t.type](n):sd(Ov({},n,{valueSpec:t.type?r[t.type]:t}))}function cN(n){const e=n.value,t=n.key,r=l1(n);return r.length||(e.indexOf("{fontstack}")===-1&&r.push(new Xn(t,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&r.push(new Xn(t,e,'"glyphs" url must include a "{range}" token'))),r}function gd(n,e=Yo){let t=[];return t=t.concat(UC({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,validateSpec:UC,objectElementValidators:{glyphs:cN,"*"(){return[]}}})),n.constants&&(t=t.concat(Jz({key:"constants",value:n.constants,style:n,styleSpec:e,validateSpec:UC}))),hN(t)}gd.source=xp(bp(aN));gd.sprite=xp(bp(AN));gd.glyphs=xp(bp(cN));gd.light=xp(bp(sN));gd.sky=xp(bp(lN));gd.terrain=xp(bp(uN));gd.layer=xp(bp(oN));gd.filter=xp(bp(b7));gd.paintProperty=xp(bp(rN));gd.layoutProperty=xp(bp(iN));function bp(n){return function(e){return n({...e,validateSpec:UC})}}function hN(n){return[].concat(n).sort((e,t)=>e.line-t.line)}function xp(n){return function(...e){return hN(n.apply(this,e))}}const fre=/("(?:[^\\"]|\\.)*")|[:,]/g;function pre(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),r=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:i}=e;return function o(s,a,f){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const m=JSON.stringify(s,i);if(m===void 0)return m;const C=r-a.length-f;if(m.length<=C){const k=m.replace(fre,(I,K)=>K||`${I} `);if(k.length<=C)return k}if(i!=null&&(s=JSON.parse(m),i=void 0),typeof s=="object"&&s!==null){const k=a+t,I=[];let K=0,L,q;if(Array.isArray(s)){L="[",q="]";const{length:X}=s;for(;K<X;K++)I.push(o(s[K],k,K===X-1?0:1)||"null")}else{L="{",q="}";const X=Object.keys(s),{length:H}=X;for(;K<H;K++){const G=X[K],ee=`${JSON.stringify(G)}: `,ne=o(s[G],k,ee.length+(K===H-1?0:1));ne!==void 0&&I.push(ee+ne)}}if(I.length>0)return[L,t+I.join(`,
${k}`),q].join(`
${a}`)}return m}(n,"",0)}function nK(n,e){const t={};for(const r in e)n[r]!==void 0&&(t[r]=n[r]);for(const r in n)t[r]===void 0&&(t[r]=n[r]);return t}function dN(n,e=2){return n=nK(n,Yo.$root),n.layers&&(n.layers=n.layers.map(t=>nK(t,Yo.layer))),pre(n,{indent:e})}function TE(n,e){for(const t in n)t.indexOf("layout")===0&&e(n[t],t)}function rK(n,e){for(const t in n)t.indexOf("paint")===0&&e(n[t],t)}function mB(n,e){return typeof e=="string"&&e[0]==="@"?mB(n,n.constants[e]):e}function mre(n){return Array.isArray(n.stops)}function H_(n,e,t){n[t]=n[e],delete n[e]}function gre(n){n.version=8,tre(n,i=>{i.type==="video"&&i.url!==void 0&&H_(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),RC(n,i=>{TE(i,o=>{o["symbol-min-distance"]!==void 0&&H_(o,"symbol-min-distance","symbol-spacing")}),rK(i,o=>{o["background-image"]!==void 0&&H_(o,"background-image","background-pattern"),o["line-image"]!==void 0&&H_(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&H_(o,"fill-image","fill-pattern")})}),v7(n,{paint:!0,layout:!0},i=>{const o=mB(n,i.value);mre(o)&&o.stops.forEach(s=>{s[1]=mB(n,s[1])}),i.set(o)}),delete n.constants,RC(n,i=>{TE(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),rK(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function e(i){function o(s){return s.split(",").map(a=>a.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(s=>{s[1]=o(s[1])}),i;throw new Error("unexpected font value")}RC(n,i=>{TE(i,o=>{o["text-font"]&&(o["text-font"]=e(o["text-font"]))})});let t=0;for(let i=n.layers.length-1;i>=0;i--)if(n.layers[i].type!=="symbol"){t=i+1;break}const r=n.layers.splice(t);return r.reverse(),n.layers=n.layers.concat(r),n}function yre(n){const e=[];return RC(n,t=>{t.filter&&(t.filter=FC(t.filter))}),v7(n,{paint:!0,layout:!0},({path:t,value:r,reference:i,set:o})=>{i2(r)||(typeof r=="object"&&!Array.isArray(r)?(o(Zz(r,i)),e.push(t.join("."))):i.tokens&&typeof r=="string"&&o(Xz(r)))}),n}function vre(n){return JSON.parse(_re(JSON.stringify(n)))}function _re(n){return n.replace(/"hsla?\((.+?)\)"/gi,(e,t)=>{const r=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,s,a]=r.slice(1);return[o,s]=[o,s].map(f=>f.endsWith("%")?f:`${parseFloat(f)*100}%`),`"hsl${typeof a=="string"?"a":""}(${[i,o,s,a].filter(Boolean).join(",")})"`}return e})}function Cre(n){let e=!1;if(n.version===7&&(n=gre(n),e=!0),n.version===8&&(e=!!yre(n),e=!0),v7(n,{paint:!0,layout:!0},({value:t,reference:r,set:i})=>{r.type==="color"&&i(vre(t))}),!e)throw new Error(`Cannot migrate from ${n.version}`);return n}const bre={StyleExpression:qz,StylePropertyFunction:Vz,ZoomConstantExpression:dB,ZoomDependentExpression:fB,createExpression:f7,createPropertyExpression:p7,isExpression:i2,isExpressionFilter:iM,isZoomExpression:Gne,normalizePropertyExpression:Qne},xre={convertFunction:Zz,createFunction:d7,isFunction:n2};var fN={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.0.1/LICENSE.txt
 */(function(n,e){(function(t,r){n.exports=r()})(Cp,function(){var t={},r={};function i(s,a,f){if(r[s]=f,s==="index"){var m="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",C={};return r.shared(C),r.index(t,C),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([m],{type:"text/javascript"}))),t}}i("shared",["exports"],function(s){function a(d,u,h,y){return new(h||(h=Promise))(function(b,B){function T(Q){try{z(y.next(Q))}catch(J){B(J)}}function F(Q){try{z(y.throw(Q))}catch(J){B(J)}}function z(Q){var J;Q.done?b(Q.value):(J=Q.value,J instanceof h?J:new h(function(ae){ae(J)})).then(T,F)}z((y=y.apply(d,u||[])).next())})}function f(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var m,C;function k(){if(C)return m;function d(u,h){this.x=u,this.y=h}return C=1,m=d,d.prototype={clone:function(){return new d(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,h){return this.clone()._rotateAround(u,h)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var h=u.x-this.x,y=u.y-this.y;return h*h+y*y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,h){return Math.atan2(this.x*h-this.y*u,this.x*u+this.y*h)},_matMult:function(u){var h=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=h,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var h=Math.cos(u),y=Math.sin(u),b=y*this.x+h*this.y;return this.x=h*this.x-y*this.y,this.y=b,this},_rotateAround:function(u,h){var y=Math.cos(u),b=Math.sin(u),B=h.y+b*(this.x-h.x)+y*(this.y-h.y);return this.x=h.x+y*(this.x-h.x)-b*(this.y-h.y),this.y=B,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(u){return u instanceof d?u:Array.isArray(u)?new d(u[0],u[1]):u},m}typeof SuppressedError=="function"&&SuppressedError;var I,K,L=f(k()),q=function(){if(K)return I;function d(u,h,y,b){this.cx=3*u,this.bx=3*(y-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(b-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=h,this.p2x=y,this.p2y=b}return K=1,I=d,d.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,h){if(h===void 0&&(h=1e-6),u<0)return 0;if(u>1)return 1;for(var y=u,b=0;b<8;b++){var B=this.sampleCurveX(y)-u;if(Math.abs(B)<h)return y;var T=this.sampleCurveDerivativeX(y);if(Math.abs(T)<1e-6)break;y-=B/T}var F=0,z=1;for(y=u,b=0;b<20&&(B=this.sampleCurveX(y),!(Math.abs(B-u)<h));b++)u>B?F=y:z=y,y=.5*(z-F)+F;return y},solve:function(u,h){return this.sampleCurveY(this.solveCurveX(u,h))}},I}(),X=f(q);let H,G;function ee(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function ne(){if(G==null&&(G=!1,ee())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let y=0;y<5*5;y++){const b=4*y;u.fillStyle=`rgb(${b},${b+1},${b+2})`,u.fillRect(y%5,Math.floor(y/5),1,1)}const h=u.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&h[y]!==y){G=!0;break}}}return G||!1}var se,Ae=1e-6,V=typeof Float32Array<"u"?Float32Array:Array;function re(){var d=new V(9);return V!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0),d[0]=1,d[4]=1,d[8]=1,d}function be(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function _e(){var d=new V(3);return V!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function Pe(d,u,h){var y=new V(3);return y[0]=d,y[1]=u,y[2]=h,y}function Ue(d,u,h){var y=u[0],b=u[1],B=u[2],T=u[3];return d[0]=h[0]*y+h[4]*b+h[8]*B+h[12]*T,d[1]=h[1]*y+h[5]*b+h[9]*B+h[13]*T,d[2]=h[2]*y+h[6]*b+h[10]*B+h[14]*T,d[3]=h[3]*y+h[7]*b+h[11]*B+h[15]*T,d}function pe(){var d=new V(4);return V!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d[3]=1,d}function Ye(){var d=new V(2);return V!=Float32Array&&(d[0]=0,d[1]=0),d}function we(d,u){var h=new V(2);return h[0]=d,h[1]=u,h}Math.hypot||(Math.hypot=function(){for(var d=0,u=arguments.length;u--;)d+=arguments[u]*arguments[u];return Math.sqrt(d)}),_e(),se=new V(4),V!=Float32Array&&(se[0]=0,se[1]=0,se[2]=0,se[3]=0),_e(),Pe(1,0,0),Pe(0,1,0),pe(),pe(),re(),Ye();const pt=8192;function wt(d,u,h){return u*(pt/(d.tileSize*Math.pow(2,h-d.tileID.overscaledZ)))}function ft(d,u){return(d%u+u)%u}function bt(d,u,h){return d*(1-h)+u*h}function $e(d){if(d<=0)return 0;if(d>=1)return 1;const u=d*d,h=u*d;return 4*(d<.5?h:3*(d-u)+h-.75)}function tt(d,u,h,y){const b=new X(d,u,h,y);return B=>b.solve(B)}const nt=tt(.25,.1,.25,1);function en(d,u,h){return Math.min(h,Math.max(u,d))}function tn(d,u,h){const y=h-u,b=((d-u)%y+y)%y+u;return b===u?h:b}function St(d,...u){for(const h of u)for(const y in h)d[y]=h[y];return d}let Xt=1;function Nt(d,u,h){const y={};for(const b in d)y[b]=u.call(this,d[b],b,d);return y}function Fe(d,u,h){const y={};for(const b in d)u.call(this,d[b],b,d)&&(y[b]=d[b]);return y}function ye(d){return Array.isArray(d)?d.map(ye):typeof d=="object"&&d?Nt(d,ye):d}const ke={};function Ge(d){ke[d]||(typeof console<"u"&&console.warn(d),ke[d]=!0)}function st(d,u,h){return(h.y-d.y)*(u.x-d.x)>(u.y-d.y)*(h.x-d.x)}function ht(d){return typeof WorkerGlobalScope<"u"&&d!==void 0&&d instanceof WorkerGlobalScope}let Bt=null;function nn(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const Gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function zn(d,u,h,y,b){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const B=new VideoFrame(d,{timestamp:0});try{const T=B==null?void 0:B.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const F=T.startsWith("BGR"),z=new Uint8ClampedArray(y*b*4);if(yield B.copyTo(z,function(Q,J,ae,ge,Ce){const Se=4*Math.max(1,0),Le=(Math.max(0,ae)-ae)*ge*4+Se,Qe=4*ge,Je=Math.max(0,J),Mt=Math.max(0,ae);return{rect:{x:Je,y:Mt,width:Math.min(Q.width,J+ge)-Je,height:Math.min(Q.height,ae+Ce)-Mt},layout:[{offset:Le,stride:Qe}]}}(d,u,h,y,b)),F)for(let Q=0;Q<z.length;Q+=4){const J=z[Q];z[Q]=z[Q+2],z[Q+2]=J}return z}finally{B.close()}})}let rr,xn;function Zn(d){return d/Math.PI*180}const yr="AbortError";function Mr(){return new Error(yr)}const Or={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Jr(d){return Or.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))]}const _r="global-dispatcher";class gi extends Error{constructor(u,h,y,b){super(`AJAXError: ${h} (${u}): ${y}`),this.status=u,this.statusText=h,this.url=y,this.body=b}}const Te=()=>ht(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,te=function(d,u){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){const y=Jr(d.url);if(y)return y(d,u);if(ht(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,targetMapId:_r},u)}if(!(/^file:/.test(h=d.url)||/^file:/.test(Te())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,b){return a(this,void 0,void 0,function*(){const B=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:Te(),signal:b.signal});let T,F;y.type!=="json"||B.headers.has("Accept")||B.headers.set("Accept","application/json");try{T=yield fetch(B)}catch(Q){throw new gi(0,Q.message,y.url,new Blob)}if(!T.ok){const Q=yield T.blob();throw new gi(T.status,T.statusText,y.url,Q)}F=y.type==="arrayBuffer"||y.type==="image"?T.arrayBuffer():y.type==="json"?T.json():T.text();const z=yield F;if(b.signal.aborted)throw Mr();return{data:z,cacheControl:T.headers.get("Cache-Control"),expires:T.headers.get("Expires")}})}(d,u);if(ht(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,mustQueue:!0,targetMapId:_r},u)}var h;return function(y,b){return new Promise((B,T)=>{var F;const z=new XMLHttpRequest;z.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(z.responseType="arraybuffer");for(const Q in y.headers)z.setRequestHeader(Q,y.headers[Q]);y.type==="json"&&(z.responseType="text",!((F=y.headers)===null||F===void 0)&&F.Accept||z.setRequestHeader("Accept","application/json")),z.withCredentials=y.credentials==="include",z.onerror=()=>{T(new Error(z.statusText))},z.onload=()=>{if(!b.signal.aborted)if((z.status>=200&&z.status<300||z.status===0)&&z.response!==null){let Q=z.response;if(y.type==="json")try{Q=JSON.parse(z.response)}catch(J){return void T(J)}B({data:Q,cacheControl:z.getResponseHeader("Cache-Control"),expires:z.getResponseHeader("Expires")})}else{const Q=new Blob([z.response],{type:z.getResponseHeader("Content-Type")});T(new gi(z.status,z.statusText,y.url,Q))}},b.signal.addEventListener("abort",()=>{z.abort(),T(Mr())}),z.send(y.body)})}(d,u)};function oe(d){if(!d||d.indexOf("://")<=0||d.indexOf("data:image/")===0||d.indexOf("blob:")===0)return!0;const u=new URL(d),h=window.location;return u.protocol===h.protocol&&u.host===h.host}function je(d,u,h){h[d]&&h[d].indexOf(u)!==-1||(h[d]=h[d]||[],h[d].push(u))}function Ct(d,u,h){if(h&&h[d]){const y=h[d].indexOf(u);y!==-1&&h[d].splice(y,1)}}class Lt{constructor(u,h={}){St(this,h),this.type=u}}class jt extends Lt{constructor(u,h={}){super("error",St({error:u},h))}}class cr{on(u,h){return this._listeners=this._listeners||{},je(u,h,this._listeners),{unsubscribe:()=>{this.off(u,h)}}}off(u,h){return Ct(u,h,this._listeners),Ct(u,h,this._oneTimeListeners),this}once(u,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},je(u,h,this._oneTimeListeners),this):new Promise(y=>this.once(u,y))}fire(u,h){typeof u=="string"&&(u=new Lt(u,h||{}));const y=u.type;if(this.listens(y)){u.target=this;const b=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const F of b)F.call(this,u);const B=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const F of B)Ct(y,F,this._oneTimeListeners),F.call(this,u);const T=this._eventedParent;T&&(St(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(u))}else u instanceof jt&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,h){return this._eventedParent=u,this._eventedParentData=h,this}}var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Ee=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Me(d,u){const h={};for(const y in d)y!=="ref"&&(h[y]=d[y]);return Ee.forEach(y=>{y in u&&(h[y]=u[y])}),h}function p(d,u){if(Array.isArray(d)){if(!Array.isArray(u)||d.length!==u.length)return!1;for(let h=0;h<d.length;h++)if(!p(d[h],u[h]))return!1;return!0}if(typeof d=="object"&&d!==null&&u!==null){if(typeof u!="object"||Object.keys(d).length!==Object.keys(u).length)return!1;for(const h in d)if(!p(d[h],u[h]))return!1;return!0}return d===u}function Ke(d,u){d.push(u)}function rt(d,u,h){Ke(h,{command:"addSource",args:[d,u[d]]})}function ot(d,u,h){Ke(u,{command:"removeSource",args:[d]}),h[d]=!0}function yt(d,u,h,y){ot(d,h,y),rt(d,u,h)}function lt(d,u,h){let y;for(y in d[h])if(Object.prototype.hasOwnProperty.call(d[h],y)&&y!=="data"&&!p(d[h][y],u[h][y]))return!1;for(y in u[h])if(Object.prototype.hasOwnProperty.call(u[h],y)&&y!=="data"&&!p(d[h][y],u[h][y]))return!1;return!0}function Rt(d,u,h,y,b,B){d=d||{},u=u||{};for(const T in d)Object.prototype.hasOwnProperty.call(d,T)&&(p(d[T],u[T])||h.push({command:B,args:[y,T,u[T],b]}));for(const T in u)Object.prototype.hasOwnProperty.call(u,T)&&!Object.prototype.hasOwnProperty.call(d,T)&&(p(d[T],u[T])||h.push({command:B,args:[y,T,u[T],b]}))}function Dt(d){return d.id}function Ot(d,u){return d[u.id]=u,d}class At{constructor(u,h,y,b){this.message=(u?`${u}: `:"")+y,b&&(this.identifier=b),h!=null&&h.__line__&&(this.line=h.__line__)}}function yn(d,...u){for(const h of u)for(const y in h)d[y]=h[y];return d}class gn extends Error{constructor(u,h){super(h),this.message=h,this.key=u}}class Yn{constructor(u,h=[]){this.parent=u,this.bindings={};for(const[y,b]of h)this.bindings[y]=b}concat(u){return new Yn(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const Sr={kind:"null"},$t={kind:"number"},Kn={kind:"string"},Wn={kind:"boolean"},Tr={kind:"color"},Jn={kind:"projectionDefinition"},Vn={kind:"object"},Tn={kind:"value"},_i={kind:"collator"},Zi={kind:"formatted"},ei={kind:"padding"},Wr={kind:"resolvedImage"},Yr={kind:"variableAnchorOffsetCollection"};function Xi(d,u){return{kind:"array",itemType:d,N:u}}function hi(d){if(d.kind==="array"){const u=hi(d.itemType);return typeof d.N=="number"?`array<${u}, ${d.N}>`:d.itemType.kind==="value"?"array":`array<${u}>`}return d.kind}const ra=[Sr,$t,Kn,Wn,Tr,Jn,Zi,Vn,Xi(Tn),ei,Wr,Yr];function Ca(d,u){if(u.kind==="error")return null;if(d.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!Ca(d.itemType,u.itemType))&&(typeof d.N!="number"||d.N===u.N))return null}else{if(d.kind===u.kind)return null;if(d.kind==="value"){for(const h of ra)if(!Ca(h,u))return null}}return`Expected ${hi(d)} but found ${hi(u)} instead.`}function ao(d,u){return u.some(h=>h.kind===d.kind)}function Vo(d,u){return u.some(h=>h==="null"?d===null:h==="array"?Array.isArray(d):h==="object"?d&&!Array.isArray(d)&&typeof d=="object":h===typeof d)}function la(d,u){return d.kind==="array"&&u.kind==="array"?d.itemType.kind===u.itemType.kind&&typeof d.N=="number":d.kind===u.kind}const ba=.96422,el=.82521,Ss=4/29,li=6/29,ar=3*li*li,La=li*li*li,Io=Math.PI/180,ua=180/Math.PI;function Oe(d){return(d%=360)<0&&(d+=360),d}function it([d,u,h,y]){let b,B;const T=wn((.2225045*(d=rn(d))+.7168786*(u=rn(u))+.0606169*(h=rn(h)))/1);d===u&&u===h?b=B=T:(b=wn((.4360747*d+.3850649*u+.1430804*h)/ba),B=wn((.0139322*d+.0971045*u+.7141733*h)/el));const F=116*T-16;return[F<0?0:F,500*(b-T),200*(T-B),y]}function rn(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function wn(d){return d>La?Math.pow(d,1/3):d/ar+Ss}function Qt([d,u,h,y]){let b=(d+16)/116,B=isNaN(u)?b:b+u/500,T=isNaN(h)?b:b-h/200;return b=1*ni(b),B=ba*ni(B),T=el*ni(T),[En(3.1338561*B-1.6168667*b-.4906146*T),En(-.9787684*B+1.9161415*b+.033454*T),En(.0719453*B-.2289914*b+1.4052427*T),y]}function En(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:d>1?1:d}function ni(d){return d>li?d*d*d:ar*(d-Ss)}function Ci(d){return parseInt(d.padEnd(2,d),16)/255}function Wi(d,u){return Wo(u?d/100:d,0,1)}function Wo(d,u,h){return Math.min(Math.max(u,d),h)}function Dl(d){return!d.some(Number.isNaN)}const Br={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function qr(d,u,h){return d+h*(u-d)}function xa(d,u,h){return d.map((y,b)=>qr(y,u[b],h))}class Gr{constructor(u,h,y,b=1,B=!0){this.r=u,this.g=h,this.b=y,this.a=b,B||(this.r*=b,this.g*=b,this.b*=b,b||this.overwriteGetter("rgb",[u,h,y,b]))}static parse(u){if(u instanceof Gr)return u;if(typeof u!="string")return;const h=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const b=Br[y];if(b){const[T,F,z]=b;return[T/255,F/255,z/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const T=y.length<6?1:2;let F=1;return[Ci(y.slice(F,F+=T)),Ci(y.slice(F,F+=T)),Ci(y.slice(F,F+=T)),Ci(y.slice(F,F+T)||"ff")]}if(y.startsWith("rgb")){const T=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt]=T,ut=[J||" ",Ce||" ",Qe].join("");if(ut==="  "||ut==="  /"||ut===",,"||ut===",,,"){const ve=[Q,ge,Le].join(""),Ne=ve==="%%%"?100:ve===""?255:0;if(Ne){const dt=[Wo(+z/Ne,0,1),Wo(+ae/Ne,0,1),Wo(+Se/Ne,0,1),Je?Wi(+Je,Mt):1];if(Dl(dt))return dt}}return}}const B=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(B){const[T,F,z,Q,J,ae,ge,Ce,Se]=B,Le=[z||" ",J||" ",ge].join("");if(Le==="  "||Le==="  /"||Le===",,"||Le===",,,"){const Qe=[+F,Wo(+Q,0,100),Wo(+ae,0,100),Ce?Wi(+Ce,Se):1];if(Dl(Qe))return function([Je,Mt,ut,ve]){function Ne(dt){const Wt=(dt+Je/30)%12,bn=Mt*Math.min(ut,1-ut);return ut-bn*Math.max(-1,Math.min(Wt-3,9-Wt,1))}return Je=Oe(Je),Mt/=100,ut/=100,[Ne(0),Ne(8),Ne(4),ve]}(Qe)}}}(u);return h?new Gr(...h,!1):void 0}get rgb(){const{r:u,g:h,b:y,a:b}=this,B=b||1/0;return this.overwriteGetter("rgb",[u/B,h/B,y/B,b])}get hcl(){return this.overwriteGetter("hcl",function(u){const[h,y,b,B]=it(u),T=Math.sqrt(y*y+b*b);return[Math.round(1e4*T)?Oe(Math.atan2(b,y)*ua):NaN,T,h,B]}(this.rgb))}get lab(){return this.overwriteGetter("lab",it(this.rgb))}overwriteGetter(u,h){return Object.defineProperty(this,u,{value:h}),h}toString(){const[u,h,y,b]=this.rgb;return`rgba(${[u,h,y].map(B=>Math.round(255*B)).join(",")},${b})`}static interpolate(u,h,y,b="rgb"){switch(b){case"rgb":{const[B,T,F,z]=xa(u.rgb,h.rgb,y);return new Gr(B,T,F,z,!1)}case"hcl":{const[B,T,F,z]=u.hcl,[Q,J,ae,ge]=h.hcl;let Ce,Se;if(isNaN(B)||isNaN(Q))isNaN(B)?isNaN(Q)?Ce=NaN:(Ce=Q,F!==1&&F!==0||(Se=J)):(Ce=B,ae!==1&&ae!==0||(Se=T));else{let ut=Q-B;Q>B&&ut>180?ut-=360:Q<B&&B-Q>180&&(ut+=360),Ce=B+y*ut}const[Le,Qe,Je,Mt]=function([ut,ve,Ne,dt]){return ut=isNaN(ut)?0:ut*Io,Qt([Ne,Math.cos(ut)*ve,Math.sin(ut)*ve,dt])}([Ce,Se??qr(T,J,y),qr(F,ae,y),qr(z,ge,y)]);return new Gr(Le,Qe,Je,Mt,!1)}case"lab":{const[B,T,F,z]=Qt(xa(u.lab,h.lab,y));return new Gr(B,T,F,z,!1)}}}}Gr.black=new Gr(0,0,0,1),Gr.white=new Gr(1,1,1,1),Gr.transparent=new Gr(0,0,0,0),Gr.red=new Gr(1,0,0,1);class ms{constructor(u,h,y){this.sensitivity=u?h?"variant":"case":h?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,h){return this.collator.compare(u,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Mu{constructor(u,h,y,b,B){this.text=u,this.image=h,this.scale=y,this.fontStack=b,this.textColor=B}}class Ro{constructor(u){this.sections=u}static fromString(u){return new Ro([new Mu(u,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof Ro?u:Ro.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class di{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof di)return u;if(typeof u=="number")return new di([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const h of u)if(typeof h!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new di(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,h,y){return new di(xa(u.values,h.values,y))}}class ii{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const Es=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Aa{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Aa)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let h=0;h<u.length;h+=2){const y=u[h],b=u[h+1];if(typeof y!="string"||!Es.has(y)||!Array.isArray(b)||b.length!==2||typeof b[0]!="number"||typeof b[1]!="number")return}return new Aa(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,h,y){const b=u.values,B=h.values;if(b.length!==B.length)throw new ii(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${h.toString()}`);const T=[];for(let F=0;F<b.length;F+=2){if(b[F]!==B[F])throw new ii(`Cannot interpolate values containing mismatched anchors. from[${F}]: ${b[F]}, to[${F}]: ${B[F]}`);T.push(b[F]);const[z,Q]=b[F+1],[J,ae]=B[F+1];T.push([qr(z,J,y),qr(Q,ae,y)])}return new Aa(T)}}class so{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new so({name:u,available:!1}):null}}class ca{constructor(u,h,y){this.from=u,this.to=h,this.transition=y}static interpolate(u,h,y){return new ca(u,h,y)}static parse(u){return u instanceof ca?u:Array.isArray(u)&&u.length===3&&typeof u[0]=="string"&&typeof u[1]=="string"&&typeof u[2]=="number"?new ca(u[0],u[1],u[2]):typeof u=="object"&&typeof u.from=="string"&&typeof u.to=="string"&&typeof u.transition=="number"?new ca(u.from,u.to,u.transition):typeof u=="string"?new ca(u,u,1):void 0}}function tu(d,u,h,y){return typeof d=="number"&&d>=0&&d<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof h=="number"&&h>=0&&h<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[d,u,h,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[d,u,h,y]:[d,u,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ll(d){if(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number"||d instanceof ca||d instanceof Gr||d instanceof ms||d instanceof Ro||d instanceof di||d instanceof Aa||d instanceof so)return!0;if(Array.isArray(d)){for(const u of d)if(!Ll(u))return!1;return!0}if(typeof d=="object"){for(const u in d)if(!Ll(d[u]))return!1;return!0}return!1}function Uo(d){if(d===null)return Sr;if(typeof d=="string")return Kn;if(typeof d=="boolean")return Wn;if(typeof d=="number")return $t;if(d instanceof Gr)return Tr;if(d instanceof ca)return Jn;if(d instanceof ms)return _i;if(d instanceof Ro)return Zi;if(d instanceof di)return ei;if(d instanceof Aa)return Yr;if(d instanceof so)return Wr;if(Array.isArray(d)){const u=d.length;let h;for(const y of d){const b=Uo(y);if(h){if(h===b)continue;h=Tn;break}h=b}return Xi(h||Tn,u)}return Vn}function Os(d){const u=typeof d;return d===null?"":u==="string"||u==="number"||u==="boolean"?String(d):d instanceof Gr||d instanceof ca||d instanceof Ro||d instanceof di||d instanceof Aa||d instanceof so?d.toString():JSON.stringify(d)}class xo{constructor(u,h){this.type=u,this.value=h}static parse(u,h){if(u.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!Ll(u[1]))return h.error("invalid value");const y=u[1];let b=Uo(y);const B=h.expectedType;return b.kind!=="array"||b.N!==0||!B||B.kind!=="array"||typeof B.N=="number"&&B.N!==0||(b=B),new xo(b,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const wa={string:Kn,number:$t,boolean:Wn,object:Vn};class ya{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");let y,b=1;const B=u[0];if(B==="array"){let F,z;if(u.length>2){const Q=u[1];if(typeof Q!="string"||!(Q in wa)||Q==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);F=wa[Q],b++}else F=Tn;if(u.length>3){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return h.error('The length argument to "array" must be a positive integer literal',2);z=u[2],b++}y=Xi(F,z)}else{if(!wa[B])throw new Error(`Types doesn't contain name = ${B}`);y=wa[B]}const T=[];for(;b<u.length;b++){const F=h.parse(u[b],b,Tn);if(!F)return null;T.push(F)}return new ya(y,T)}evaluate(u){for(let h=0;h<this.args.length;h++){const y=this.args[h].evaluate(u);if(!Ca(this.type,Uo(y)))return y;if(h===this.args.length-1)throw new ii(`Expected value to be of type ${hi(this.type)}, but found ${hi(Uo(y))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const yl={"to-boolean":Wn,"to-color":Tr,"to-number":$t,"to-string":Kn};class qa{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");const y=u[0];if(!yl[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&u.length!==2)return h.error("Expected one argument.");const b=yl[y],B=[];for(let T=1;T<u.length;T++){const F=h.parse(u[T],T,Tn);if(!F)return null;B.push(F)}return new qa(b,B)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let h,y;for(const b of this.args){if(h=b.evaluate(u),y=null,h instanceof Gr)return h;if(typeof h=="string"){const B=u.parseColor(h);if(B)return B}else if(Array.isArray(h)&&(y=h.length<3||h.length>4?`Invalid rgba value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:tu(h[0],h[1],h[2],h[3]),!y))return new Gr(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new ii(y||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const y of this.args){h=y.evaluate(u);const b=di.parse(h);if(b)return b}throw new ii(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const y of this.args){h=y.evaluate(u);const b=Aa.parse(h);if(b)return b}throw new ii(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const y of this.args){if(h=y.evaluate(u),h===null)return 0;const b=Number(h);if(!isNaN(b))return b}throw new ii(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Ro.fromString(Os(this.args[0].evaluate(u)));case"resolvedImage":return so.fromString(Os(this.args[0].evaluate(u)));case"projectionDefinition":return this.args[0].evaluate(u);default:return Os(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Rs=["Unknown","Point","LineString","Polygon"];class Vu{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Rs[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let h=this._parseColorCache[u];return h||(h=this._parseColorCache[u]=Gr.parse(u)),h}}class Gi{constructor(u,h,y=[],b,B=new Yn,T=[]){this.registry=u,this.path=y,this.key=y.map(F=>`[${F}]`).join(""),this.scope=B,this.errors=T,this.expectedType=b,this._isConstant=h}parse(u,h,y,b,B={}){return h?this.concat(h,y,b)._parse(u,B):this._parse(u,B)}_parse(u,h){function y(b,B,T){return T==="assert"?new ya(B,[b]):T==="coerce"?new qa(B,[b]):b}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const b=u[0];if(typeof b!="string")return this.error(`Expression name must be a string, but found ${typeof b} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const B=this.registry[b];if(B){let T=B.parse(u,this);if(!T)return null;if(this.expectedType){const F=this.expectedType,z=T.type;if(F.kind!=="string"&&F.kind!=="number"&&F.kind!=="boolean"&&F.kind!=="object"&&F.kind!=="array"||z.kind!=="value")if(F.kind!=="projectionDefinition"||z.kind!=="string"&&z.kind!=="array")if(F.kind!=="color"&&F.kind!=="formatted"&&F.kind!=="resolvedImage"||z.kind!=="value"&&z.kind!=="string")if(F.kind!=="padding"||z.kind!=="value"&&z.kind!=="number"&&z.kind!=="array")if(F.kind!=="variableAnchorOffsetCollection"||z.kind!=="value"&&z.kind!=="array"){if(this.checkSubtype(F,z))return null}else T=y(T,F,h.typeAnnotation||"coerce");else T=y(T,F,h.typeAnnotation||"coerce");else T=y(T,F,h.typeAnnotation||"coerce");else T=y(T,F,h.typeAnnotation||"coerce");else T=y(T,F,h.typeAnnotation||"assert")}if(!(T instanceof xo)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const F=new Vu;try{T=new xo(T.type,T.evaluate(F))}catch(z){return this.error(z.message),null}}return T}return this.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(u===void 0?"'undefined' value invalid. Use null instead.":typeof u=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,h,y){const b=typeof u=="number"?this.path.concat(u):this.path,B=y?this.scope.concat(y):this.scope;return new Gi(this.registry,this._isConstant,b,h||null,B,this.errors)}error(u,...h){const y=`${this.key}${h.map(b=>`[${b}]`).join("")}`;this.errors.push(new gn(y,u))}checkSubtype(u,h){const y=Ca(u,h);return y&&this.error(y),y}}class vl{constructor(u,h){this.type=h.type,this.bindings=[].concat(u),this.result=h}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const h of this.bindings)u(h[1]);u(this.result)}static parse(u,h){if(u.length<4)return h.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const y=[];for(let B=1;B<u.length-1;B+=2){const T=u[B];if(typeof T!="string")return h.error(`Expected string, but found ${typeof T} instead.`,B);if(/[^a-zA-Z0-9_]/.test(T))return h.error("Variable names must contain only alphanumeric characters or '_'.",B);const F=h.parse(u[B+1],B+1);if(!F)return null;y.push([T,F])}const b=h.parse(u[u.length-1],u.length-1,h.expectedType,y);return b?new vl(y,b):null}outputDefined(){return this.result.outputDefined()}}class bi{constructor(u,h){this.type=h.type,this.name=u,this.boundExpression=h}static parse(u,h){if(u.length!==2||typeof u[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const y=u[1];return h.scope.has(y)?new bi(y,h.scope.get(y)):h.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class Dr{constructor(u,h,y){this.type=u,this.index=h,this.input=y}static parse(u,h){if(u.length!==3)return h.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,$t),b=h.parse(u[2],2,Xi(h.expectedType||Tn));return y&&b?new Dr(b.type.itemType,y,b):null}evaluate(u){const h=this.index.evaluate(u),y=this.input.evaluate(u);if(h<0)throw new ii(`Array index out of bounds: ${h} < 0.`);if(h>=y.length)throw new ii(`Array index out of bounds: ${h} > ${y.length-1}.`);if(h!==Math.floor(h))throw new ii(`Array index must be an integer, but found ${h} instead.`);return y[h]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class Fl{constructor(u,h){this.type=Wn,this.needle=u,this.haystack=h}static parse(u,h){if(u.length!==3)return h.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,Tn),b=h.parse(u[2],2,Tn);return y&&b?ao(y.type,[Wn,Kn,$t,Sr,Tn])?new Fl(y,b):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${hi(y.type)} instead`):null}evaluate(u){const h=this.needle.evaluate(u),y=this.haystack.evaluate(u);if(!y)return!1;if(!Vo(h,["boolean","string","number","null"]))throw new ii(`Expected first argument to be of type boolean, string, number or null, but found ${hi(Uo(h))} instead.`);if(!Vo(y,["string","array"]))throw new ii(`Expected second argument to be of type array or string, but found ${hi(Uo(y))} instead.`);return y.indexOf(h)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class xi{constructor(u,h,y){this.type=$t,this.needle=u,this.haystack=h,this.fromIndex=y}static parse(u,h){if(u.length<=2||u.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,Tn),b=h.parse(u[2],2,Tn);if(!y||!b)return null;if(!ao(y.type,[Wn,Kn,$t,Sr,Tn]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${hi(y.type)} instead`);if(u.length===4){const B=h.parse(u[3],3,$t);return B?new xi(y,b,B):null}return new xi(y,b)}evaluate(u){const h=this.needle.evaluate(u),y=this.haystack.evaluate(u);if(!Vo(h,["boolean","string","number","null"]))throw new ii(`Expected first argument to be of type boolean, string, number or null, but found ${hi(Uo(h))} instead.`);let b;if(this.fromIndex&&(b=this.fromIndex.evaluate(u)),Vo(y,["string"])){const B=y.indexOf(h,b);return B===-1?-1:[...y.slice(0,B)].length}if(Vo(y,["array"]))return y.indexOf(h,b);throw new ii(`Expected second argument to be of type array or string, but found ${hi(Uo(y))} instead.`)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class Ji{constructor(u,h,y,b,B,T){this.inputType=u,this.type=h,this.input=y,this.cases=b,this.outputs=B,this.otherwise=T}static parse(u,h){if(u.length<5)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return h.error("Expected an even number of arguments.");let y,b;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);const B={},T=[];for(let Q=2;Q<u.length-1;Q+=2){let J=u[Q];const ae=u[Q+1];Array.isArray(J)||(J=[J]);const ge=h.concat(Q);if(J.length===0)return ge.error("Expected at least one branch label.");for(const Se of J){if(typeof Se!="number"&&typeof Se!="string")return ge.error("Branch labels must be numbers or strings.");if(typeof Se=="number"&&Math.abs(Se)>Number.MAX_SAFE_INTEGER)return ge.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Se=="number"&&Math.floor(Se)!==Se)return ge.error("Numeric branch labels must be integer values.");if(y){if(ge.checkSubtype(y,Uo(Se)))return null}else y=Uo(Se);if(B[String(Se)]!==void 0)return ge.error("Branch labels must be unique.");B[String(Se)]=T.length}const Ce=h.parse(ae,Q,b);if(!Ce)return null;b=b||Ce.type,T.push(Ce)}const F=h.parse(u[1],1,Tn);if(!F)return null;const z=h.parse(u[u.length-1],u.length-1,b);return z?F.type.kind!=="value"&&h.concat(1).checkSubtype(y,F.type)?null:new Ji(y,b,F,B,T,z):null}evaluate(u){const h=this.input.evaluate(u);return(Uo(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class ki{constructor(u,h,y){this.type=u,this.branches=h,this.otherwise=y}static parse(u,h){if(u.length<4)return h.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return h.error("Expected an odd number of arguments.");let y;h.expectedType&&h.expectedType.kind!=="value"&&(y=h.expectedType);const b=[];for(let T=1;T<u.length-1;T+=2){const F=h.parse(u[T],T,Wn);if(!F)return null;const z=h.parse(u[T+1],T+1,y);if(!z)return null;b.push([F,z]),y=y||z.type}const B=h.parse(u[u.length-1],u.length-1,y);if(!B)return null;if(!y)throw new Error("Can't infer output type");return new ki(y,b,B)}evaluate(u){for(const[h,y]of this.branches)if(h.evaluate(u))return y.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[h,y]of this.branches)u(h),u(y);u(this.otherwise)}outputDefined(){return this.branches.every(([u,h])=>h.outputDefined())&&this.otherwise.outputDefined()}}class N{constructor(u,h,y,b){this.type=u,this.input=h,this.beginIndex=y,this.endIndex=b}static parse(u,h){if(u.length<=2||u.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,Tn),b=h.parse(u[2],2,$t);if(!y||!b)return null;if(!ao(y.type,[Xi(Tn),Kn,Tn]))return h.error(`Expected first argument to be of type array or string, but found ${hi(y.type)} instead`);if(u.length===4){const B=h.parse(u[3],3,$t);return B?new N(y.type,y,b,B):null}return new N(y.type,y,b)}evaluate(u){const h=this.input.evaluate(u),y=this.beginIndex.evaluate(u);let b;if(this.endIndex&&(b=this.endIndex.evaluate(u)),Vo(h,["string"]))return[...h].slice(y,b).join("");if(Vo(h,["array"]))return h.slice(y,b);throw new ii(`Expected first argument to be of type array or string, but found ${hi(Uo(h))} instead.`)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function he(d,u){const h=d.length-1;let y,b,B=0,T=h,F=0;for(;B<=T;)if(F=Math.floor((B+T)/2),y=d[F],b=d[F+1],y<=u){if(F===h||u<b)return F;B=F+1}else{if(!(y>u))throw new ii("Input is not a number.");T=F-1}return 0}class We{constructor(u,h,y){this.type=u,this.input=h,this.labels=[],this.outputs=[];for(const[b,B]of y)this.labels.push(b),this.outputs.push(B)}static parse(u,h){if(u.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return h.error("Expected an even number of arguments.");const y=h.parse(u[1],1,$t);if(!y)return null;const b=[];let B=null;h.expectedType&&h.expectedType.kind!=="value"&&(B=h.expectedType);for(let T=1;T<u.length;T+=2){const F=T===1?-1/0:u[T],z=u[T+1],Q=T,J=T+1;if(typeof F!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(b.length&&b[b.length-1][0]>=F)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Q);const ae=h.parse(z,J,B);if(!ae)return null;B=B||ae.type,b.push([F,ae])}return new We(B,y,b)}evaluate(u){const h=this.labels,y=this.outputs;if(h.length===1)return y[0].evaluate(u);const b=this.input.evaluate(u);if(b<=h[0])return y[0].evaluate(u);const B=h.length;return b>=h[B-1]?y[B-1].evaluate(u):y[he(h,b)].evaluate(u)}eachChild(u){u(this.input);for(const h of this.outputs)u(h)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function Tt(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var sr,On,Ur=function(){if(On)return sr;function d(u,h,y,b){this.cx=3*u,this.bx=3*(y-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(b-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=h,this.p2x=y,this.p2y=b}return On=1,sr=d,d.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,h){if(h===void 0&&(h=1e-6),u<0)return 0;if(u>1)return 1;for(var y=u,b=0;b<8;b++){var B=this.sampleCurveX(y)-u;if(Math.abs(B)<h)return y;var T=this.sampleCurveDerivativeX(y);if(Math.abs(T)<1e-6)break;y-=B/T}var F=0,z=1;for(y=u,b=0;b<20&&(B=this.sampleCurveX(y),!(Math.abs(B-u)<h));b++)u>B?F=y:z=y,y=.5*(z-F)+F;return y},solve:function(u,h){return this.sampleCurveY(this.solveCurveX(u,h))}},sr}(),Vr=Tt(Ur);class er{constructor(u,h,y,b,B){this.type=u,this.operator=h,this.interpolation=y,this.input=b,this.labels=[],this.outputs=[];for(const[T,F]of B)this.labels.push(T),this.outputs.push(F)}static interpolationFactor(u,h,y,b){let B=0;if(u.name==="exponential")B=lr(h,u.base,y,b);else if(u.name==="linear")B=lr(h,1,y,b);else if(u.name==="cubic-bezier"){const T=u.controlPoints;B=new Vr(T[0],T[1],T[2],T[3]).solve(lr(h,1,y,b))}return B}static parse(u,h){let[y,b,B,...T]=u;if(!Array.isArray(b)||b.length===0)return h.error("Expected an interpolation type expression.",1);if(b[0]==="linear")b={name:"linear"};else if(b[0]==="exponential"){const Q=b[1];if(typeof Q!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);b={name:"exponential",base:Q}}else{if(b[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(b[0])}`,1,0);{const Q=b.slice(1);if(Q.length!==4||Q.some(J=>typeof J!="number"||J<0||J>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);b={name:"cubic-bezier",controlPoints:Q}}}if(u.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(B=h.parse(B,2,$t),!B)return null;const F=[];let z=null;y==="interpolate-hcl"||y==="interpolate-lab"?z=Tr:h.expectedType&&h.expectedType.kind!=="value"&&(z=h.expectedType);for(let Q=0;Q<T.length;Q+=2){const J=T[Q],ae=T[Q+1],ge=Q+3,Ce=Q+4;if(typeof J!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(F.length&&F[F.length-1][0]>=J)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ge);const Se=h.parse(ae,Ce,z);if(!Se)return null;z=z||Se.type,F.push([J,Se])}return la(z,$t)||la(z,Jn)||la(z,Tr)||la(z,ei)||la(z,Yr)||la(z,Xi($t))?new er(z,y,b,B,F):h.error(`Type ${hi(z)} is not interpolatable.`)}evaluate(u){const h=this.labels,y=this.outputs;if(h.length===1)return y[0].evaluate(u);const b=this.input.evaluate(u);if(b<=h[0])return y[0].evaluate(u);const B=h.length;if(b>=h[B-1])return y[B-1].evaluate(u);const T=he(h,b),F=er.interpolationFactor(this.interpolation,b,h[T],h[T+1]),z=y[T].evaluate(u),Q=y[T+1].evaluate(u);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return qr(z,Q,F);case"color":return Gr.interpolate(z,Q,F);case"padding":return di.interpolate(z,Q,F);case"variableAnchorOffsetCollection":return Aa.interpolate(z,Q,F);case"array":return xa(z,Q,F);case"projectionDefinition":return ca.interpolate(z,Q,F)}case"interpolate-hcl":return Gr.interpolate(z,Q,F,"hcl");case"interpolate-lab":return Gr.interpolate(z,Q,F,"lab")}}eachChild(u){u(this.input);for(const h of this.outputs)u(h)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function lr(d,u,h,y){const b=y-h,B=d-h;return b===0?0:u===1?B/b:(Math.pow(u,B)-1)/(Math.pow(u,b)-1)}const ri={color:Gr.interpolate,number:qr,padding:di.interpolate,variableAnchorOffsetCollection:Aa.interpolate,array:xa};class lo{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");let y=null;const b=h.expectedType;b&&b.kind!=="value"&&(y=b);const B=[];for(const F of u.slice(1)){const z=h.parse(F,1+B.length,y,void 0,{typeAnnotation:"omit"});if(!z)return null;y=y||z.type,B.push(z)}if(!y)throw new Error("No output type");const T=b&&B.some(F=>Ca(b,F.type));return new lo(T?Tn:y,B)}evaluate(u){let h,y=null,b=0;for(const B of this.args)if(b++,y=B.evaluate(u),y&&y instanceof so&&!y.available&&(h||(h=y.name),y=null,b===this.args.length&&(y=h)),y!==null)break;return y}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}function wi(d,u){return d==="=="||d==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function Er(d,u,h,y){return y.compare(u,h)===0}function Li(d,u,h){const y=d!=="=="&&d!=="!=";return class pN{constructor(B,T,F){this.type=Wn,this.lhs=B,this.rhs=T,this.collator=F,this.hasUntypedArgument=B.type.kind==="value"||T.type.kind==="value"}static parse(B,T){if(B.length!==3&&B.length!==4)return T.error("Expected two or three arguments.");const F=B[0];let z=T.parse(B[1],1,Tn);if(!z)return null;if(!wi(F,z.type))return T.concat(1).error(`"${F}" comparisons are not supported for type '${hi(z.type)}'.`);let Q=T.parse(B[2],2,Tn);if(!Q)return null;if(!wi(F,Q.type))return T.concat(2).error(`"${F}" comparisons are not supported for type '${hi(Q.type)}'.`);if(z.type.kind!==Q.type.kind&&z.type.kind!=="value"&&Q.type.kind!=="value")return T.error(`Cannot compare types '${hi(z.type)}' and '${hi(Q.type)}'.`);y&&(z.type.kind==="value"&&Q.type.kind!=="value"?z=new ya(Q.type,[z]):z.type.kind!=="value"&&Q.type.kind==="value"&&(Q=new ya(z.type,[Q])));let J=null;if(B.length===4){if(z.type.kind!=="string"&&Q.type.kind!=="string"&&z.type.kind!=="value"&&Q.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(J=T.parse(B[3],3,_i),!J)return null}return new pN(z,Q,J)}evaluate(B){const T=this.lhs.evaluate(B),F=this.rhs.evaluate(B);if(y&&this.hasUntypedArgument){const z=Uo(T),Q=Uo(F);if(z.kind!==Q.kind||z.kind!=="string"&&z.kind!=="number")throw new ii(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${z.kind}, ${Q.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const z=Uo(T),Q=Uo(F);if(z.kind!=="string"||Q.kind!=="string")return u(B,T,F)}return this.collator?h(B,T,F,this.collator.evaluate(B)):u(B,T,F)}eachChild(B){B(this.lhs),B(this.rhs),this.collator&&B(this.collator)}outputDefined(){return!0}}}const ko=Li("==",function(d,u,h){return u===h},Er),ia=Li("!=",function(d,u,h){return u!==h},function(d,u,h,y){return!Er(0,u,h,y)}),Va=Li("<",function(d,u,h){return u<h},function(d,u,h,y){return y.compare(u,h)<0}),tl=Li(">",function(d,u,h){return u>h},function(d,u,h,y){return y.compare(u,h)>0}),Rl=Li("<=",function(d,u,h){return u<=h},function(d,u,h,y){return y.compare(u,h)<=0}),Ma=Li(">=",function(d,u,h){return u>=h},function(d,u,h,y){return y.compare(u,h)>=0});class $c{constructor(u,h,y){this.type=_i,this.locale=y,this.caseSensitive=u,this.diacriticSensitive=h}static parse(u,h){if(u.length!==2)return h.error("Expected one argument.");const y=u[1];if(typeof y!="object"||Array.isArray(y))return h.error("Collator options argument must be an object.");const b=h.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Wn);if(!b)return null;const B=h.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Wn);if(!B)return null;let T=null;return y.locale&&(T=h.parse(y.locale,1,Kn),!T)?null:new $c(b,B,T)}evaluate(u){return new ms(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}class Us{constructor(u,h,y,b,B){this.type=Kn,this.number=u,this.locale=h,this.currency=y,this.minFractionDigits=b,this.maxFractionDigits=B}static parse(u,h){if(u.length!==3)return h.error("Expected two arguments.");const y=h.parse(u[1],1,$t);if(!y)return null;const b=u[2];if(typeof b!="object"||Array.isArray(b))return h.error("NumberFormat options argument must be an object.");let B=null;if(b.locale&&(B=h.parse(b.locale,1,Kn),!B))return null;let T=null;if(b.currency&&(T=h.parse(b.currency,1,Kn),!T))return null;let F=null;if(b["min-fraction-digits"]&&(F=h.parse(b["min-fraction-digits"],1,$t),!F))return null;let z=null;return b["max-fraction-digits"]&&(z=h.parse(b["max-fraction-digits"],1,$t),!z)?null:new Us(y,B,T,F,z)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class _l{constructor(u){this.type=Zi,this.sections=u}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");const y=u[1];if(!Array.isArray(y)&&typeof y=="object")return h.error("First argument must be an image or text section.");const b=[];let B=!1;for(let T=1;T<=u.length-1;++T){const F=u[T];if(B&&typeof F=="object"&&!Array.isArray(F)){B=!1;let z=null;if(F["font-scale"]&&(z=h.parse(F["font-scale"],1,$t),!z))return null;let Q=null;if(F["text-font"]&&(Q=h.parse(F["text-font"],1,Xi(Kn)),!Q))return null;let J=null;if(F["text-color"]&&(J=h.parse(F["text-color"],1,Tr),!J))return null;const ae=b[b.length-1];ae.scale=z,ae.font=Q,ae.textColor=J}else{const z=h.parse(u[T],1,Tn);if(!z)return null;const Q=z.type.kind;if(Q!=="string"&&Q!=="value"&&Q!=="null"&&Q!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");B=!0,b.push({content:z,scale:null,font:null,textColor:null})}}return new _l(b)}evaluate(u){return new Ro(this.sections.map(h=>{const y=h.content.evaluate(u);return Uo(y)===Wr?new Mu("",y,null,null,null):new Mu(Os(y),null,h.scale?h.scale.evaluate(u):null,h.font?h.font.evaluate(u).join(","):null,h.textColor?h.textColor.evaluate(u):null)}))}eachChild(u){for(const h of this.sections)u(h.content),h.scale&&u(h.scale),h.font&&u(h.font),h.textColor&&u(h.textColor)}outputDefined(){return!1}}class kh{constructor(u){this.type=Wr,this.input=u}static parse(u,h){if(u.length!==2)return h.error("Expected two arguments.");const y=h.parse(u[1],1,Kn);return y?new kh(y):h.error("No image name provided.")}evaluate(u){const h=this.input.evaluate(u),y=so.fromString(h);return y&&u.availableImages&&(y.available=u.availableImages.indexOf(h)>-1),y}eachChild(u){u(this.input)}outputDefined(){return!1}}class nu{constructor(u){this.type=$t,this.input=u}static parse(u,h){if(u.length!==2)return h.error(`Expected 1 argument, but found ${u.length-1} instead.`);const y=h.parse(u[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${hi(y.type)} instead.`):new nu(y):null}evaluate(u){const h=this.input.evaluate(u);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new ii(`Expected value to be of type string or array, but found ${hi(Uo(h))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const ru=8192;function vd(d,u){const h=(180+d[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d[1]*Math.PI/360)))/360,b=Math.pow(2,u.z);return[Math.round(h*b*ru),Math.round(y*b*ru)]}function oa(d,u){const h=Math.pow(2,u.z);return[(b=(d[0]/ru+u.x)/h,360*b-180),(y=(d[1]/ru+u.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*y)*Math.PI/180))-90)];var y,b}function iu(d,u){d[0]=Math.min(d[0],u[0]),d[1]=Math.min(d[1],u[1]),d[2]=Math.max(d[2],u[0]),d[3]=Math.max(d[3],u[1])}function Yc(d,u){return!(d[0]<=u[0]||d[2]>=u[2]||d[1]<=u[1]||d[3]>=u[3])}function wm(d,u,h){const y=d[0]-u[0],b=d[1]-u[1],B=d[0]-h[0],T=d[1]-h[1];return y*T-B*b==0&&y*B<=0&&b*T<=0}function Su(d,u,h,y){return(b=[y[0]-h[0],y[1]-h[1]])[0]*(B=[u[0]-d[0],u[1]-d[1]])[1]-b[1]*B[0]!=0&&!(!ha(d,u,h,y)||!ha(h,y,d,u));var b,B}function Th(d,u,h){for(const y of h)for(let b=0;b<y.length-1;++b)if(Su(d,u,y[b],y[b+1]))return!0;return!1}function qc(d,u,h=!1){let y=!1;for(const F of u)for(let z=0;z<F.length-1;z++){if(wm(d,F[z],F[z+1]))return h;(B=F[z])[1]>(b=d)[1]!=(T=F[z+1])[1]>b[1]&&b[0]<(T[0]-B[0])*(b[1]-B[1])/(T[1]-B[1])+B[0]&&(y=!y)}var b,B,T;return y}function Mm(d,u){for(const h of u)if(qc(d,h))return!0;return!1}function Mp(d,u){for(const h of d)if(!qc(h,u))return!1;for(let h=0;h<d.length-1;++h)if(Th(d[h],d[h+1],u))return!1;return!0}function KA(d,u){for(const h of u)if(Mp(d,h))return!0;return!1}function ha(d,u,h,y){const b=y[0]-h[0],B=y[1]-h[1],T=(d[0]-h[0])*B-b*(d[1]-h[1]),F=(u[0]-h[0])*B-b*(u[1]-h[1]);return T>0&&F<0||T<0&&F>0}function Sp(d,u,h){const y=[];for(let b=0;b<d.length;b++){const B=[];for(let T=0;T<d[b].length;T++){const F=vd(d[b][T],h);iu(u,F),B.push(F)}y.push(B)}return y}function bf(d,u,h){const y=[];for(let b=0;b<d.length;b++){const B=Sp(d[b],u,h);y.push(B)}return y}function Vc(d,u,h,y){if(d[0]<h[0]||d[0]>h[2]){const b=.5*y;let B=d[0]-h[0]>b?-y:h[0]-d[0]>b?y:0;B===0&&(B=d[0]-h[2]>b?-y:h[2]-d[0]>b?y:0),d[0]+=B}iu(u,d)}function xf(d,u,h,y){const b=Math.pow(2,y.z)*ru,B=[y.x*ru,y.y*ru],T=[];for(const F of d)for(const z of F){const Q=[z.x+B[0],z.y+B[1]];Vc(Q,u,h,b),T.push(Q)}return T}function Ph(d,u,h,y){const b=Math.pow(2,y.z)*ru,B=[y.x*ru,y.y*ru],T=[];for(const z of d){const Q=[];for(const J of z){const ae=[J.x+B[0],J.y+B[1]];iu(u,ae),Q.push(ae)}T.push(Q)}if(u[2]-u[0]<=b/2){(F=u)[0]=F[1]=1/0,F[2]=F[3]=-1/0;for(const z of T)for(const Q of z)Vc(Q,u,h,b)}var F;return T}class DA{constructor(u,h){this.type=Wn,this.geojson=u,this.geometries=h}static parse(u,h){if(u.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ll(u[1])){const y=u[1];if(y.type==="FeatureCollection"){const b=[];for(const B of y.features){const{type:T,coordinates:F}=B.geometry;T==="Polygon"&&b.push(F),T==="MultiPolygon"&&b.push(...F)}if(b.length)return new DA(y,{type:"MultiPolygon",coordinates:b})}else if(y.type==="Feature"){const b=y.geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new DA(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new DA(y,y)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(h,y){const b=[1/0,1/0,-1/0,-1/0],B=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(y.type==="Polygon"){const F=Sp(y.coordinates,B,T),z=xf(h.geometry(),b,B,T);if(!Yc(b,B))return!1;for(const Q of z)if(!qc(Q,F))return!1}if(y.type==="MultiPolygon"){const F=bf(y.coordinates,B,T),z=xf(h.geometry(),b,B,T);if(!Yc(b,B))return!1;for(const Q of z)if(!Mm(Q,F))return!1}return!0}(u,this.geometries);if(u.geometryType()==="LineString")return function(h,y){const b=[1/0,1/0,-1/0,-1/0],B=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(y.type==="Polygon"){const F=Sp(y.coordinates,B,T),z=Ph(h.geometry(),b,B,T);if(!Yc(b,B))return!1;for(const Q of z)if(!Mp(Q,F))return!1}if(y.type==="MultiPolygon"){const F=bf(y.coordinates,B,T),z=Ph(h.geometry(),b,B,T);if(!Yc(b,B))return!1;for(const Q of z)if(!KA(Q,F))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let _d=class{constructor(d=[],u=(h,y)=>h<y?-1:h>y?1:0){if(this.data=d,this.length=this.data.length,this.compare=u,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(d){this.data.push(d),this._up(this.length++)}pop(){if(this.length===0)return;const d=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:u,compare:h}=this,y=u[d];for(;d>0;){const b=d-1>>1,B=u[b];if(h(y,B)>=0)break;u[d]=B,d=b}u[d]=y}_down(d){const{data:u,compare:h}=this,y=this.length>>1,b=u[d];for(;d<y;){let B=1+(d<<1);const T=B+1;if(T<this.length&&h(u[T],u[B])<0&&(B=T),h(u[B],b)>=0)break;u[d]=u[B],d=B}u[d]=b}};function Cd(d,u,h=0,y=d.length-1,b=Y0){for(;y>h;){if(y-h>600){const z=y-h+1,Q=u-h+1,J=Math.log(z),ae=.5*Math.exp(2*J/3),ge=.5*Math.sqrt(J*ae*(z-ae)/z)*(Q-z/2<0?-1:1);Cd(d,u,Math.max(h,Math.floor(u-Q*ae/z+ge)),Math.min(y,Math.floor(u+(z-Q)*ae/z+ge)),b)}const B=d[u];let T=h,F=y;for(Hc(d,h,u),b(d[y],B)>0&&Hc(d,h,y);T<F;){for(Hc(d,T,F),T++,F--;b(d[T],B)<0;)T++;for(;b(d[F],B)>0;)F--}b(d[h],B)===0?Hc(d,h,F):(F++,Hc(d,F,y)),F<=u&&(h=F+1),u<=F&&(y=F-1)}}function Hc(d,u,h){const y=d[u];d[u]=d[h],d[h]=y}function Y0(d,u){return d<u?-1:d>u?1:0}function Ac(d,u){if(d.length<=1)return[d];const h=[];let y,b;for(const B of d){const T=Ep(B);T!==0&&(B.area=Math.abs(T),b===void 0&&(b=T<0),b===T<0?(y&&h.push(y),y=[B]):y.push(B))}if(y&&h.push(y),u>1)for(let B=0;B<h.length;B++)h[B].length<=u||(Cd(h[B],u,1,h[B].length-1,Ul),h[B]=h[B].slice(0,u));return h}function Ul(d,u){return u.area-d.area}function Ep(d){let u=0;for(let h,y,b=0,B=d.length,T=B-1;b<B;T=b++)h=d[b],y=d[T],u+=(y.x-h.x)*(h.y+y.y);return u}const uA=1/298.257223563,Eu=uA*(2-uA),Zc=Math.PI/180;class bd{constructor(u){const h=6378.137*Zc*1e3,y=Math.cos(u*Zc),b=1/(1-Eu*(1-y*y)),B=Math.sqrt(b);this.kx=h*B*y,this.ky=h*B*b*(1-Eu)}distance(u,h){const y=this.wrap(u[0]-h[0])*this.kx,b=(u[1]-h[1])*this.ky;return Math.sqrt(y*y+b*b)}pointOnLine(u,h){let y,b,B,T,F=1/0;for(let z=0;z<u.length-1;z++){let Q=u[z][0],J=u[z][1],ae=this.wrap(u[z+1][0]-Q)*this.kx,ge=(u[z+1][1]-J)*this.ky,Ce=0;ae===0&&ge===0||(Ce=(this.wrap(h[0]-Q)*this.kx*ae+(h[1]-J)*this.ky*ge)/(ae*ae+ge*ge),Ce>1?(Q=u[z+1][0],J=u[z+1][1]):Ce>0&&(Q+=ae/this.kx*Ce,J+=ge/this.ky*Ce)),ae=this.wrap(h[0]-Q)*this.kx,ge=(h[1]-J)*this.ky;const Se=ae*ae+ge*ge;Se<F&&(F=Se,y=Q,b=J,B=z,T=Ce)}return{point:[y,b],index:B,t:Math.max(0,Math.min(1,T))}}wrap(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}}function Op(d,u){return u[0]-d[0]}function jl(d){return d[1]-d[0]+1}function nl(d,u){return d[1]>=d[0]&&d[1]<u}function xd(d,u){if(d[0]>d[1])return[null,null];const h=jl(d);if(u){if(h===2)return[d,null];const b=Math.floor(h/2);return[[d[0],d[0]+b],[d[0]+b,d[1]]]}if(h===1)return[d,null];const y=Math.floor(h/2)-1;return[[d[0],d[0]+y],[d[0]+y+1,d[1]]]}function cc(d,u){if(!nl(u,d.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let y=u[0];y<=u[1];++y)iu(h,d[y]);return h}function wf(d){const u=[1/0,1/0,-1/0,-1/0];for(const h of d)for(const y of h)iu(u,y);return u}function Bp(d){return d[0]!==-1/0&&d[1]!==-1/0&&d[2]!==1/0&&d[3]!==1/0}function Kh(d,u,h){if(!Bp(d)||!Bp(u))return NaN;let y=0,b=0;return d[2]<u[0]&&(y=u[0]-d[2]),d[0]>u[2]&&(y=d[0]-u[2]),d[1]>u[3]&&(b=d[1]-u[3]),d[3]<u[1]&&(b=u[1]-d[3]),h.distance([0,0],[y,b])}function AA(d,u,h){const y=h.pointOnLine(u,d);return h.distance(d,y.point)}function Cl(d,u,h,y,b){const B=Math.min(AA(d,[h,y],b),AA(u,[h,y],b)),T=Math.min(AA(h,[d,u],b),AA(y,[d,u],b));return Math.min(B,T)}function ou(d,u,h,y,b){if(!nl(u,d.length)||!nl(y,h.length))return 1/0;let B=1/0;for(let T=u[0];T<u[1];++T){const F=d[T],z=d[T+1];for(let Q=y[0];Q<y[1];++Q){const J=h[Q],ae=h[Q+1];if(Su(F,z,J,ae))return 0;B=Math.min(B,Cl(F,z,J,ae,b))}}return B}function go(d,u,h,y,b){if(!nl(u,d.length)||!nl(y,h.length))return NaN;let B=1/0;for(let T=u[0];T<=u[1];++T)for(let F=y[0];F<=y[1];++F)if(B=Math.min(B,b.distance(d[T],h[F])),B===0)return B;return B}function Sm(d,u,h){if(qc(d,u,!0))return 0;let y=1/0;for(const b of u){const B=b[0],T=b[b.length-1];if(B!==T&&(y=Math.min(y,AA(d,[T,B],h)),y===0))return y;const F=h.pointOnLine(b,d);if(y=Math.min(y,h.distance(d,F.point)),y===0)return y}return y}function q0(d,u,h,y){if(!nl(u,d.length))return NaN;for(let B=u[0];B<=u[1];++B)if(qc(d[B],h,!0))return 0;let b=1/0;for(let B=u[0];B<u[1];++B){const T=d[B],F=d[B+1];for(const z of h)for(let Q=0,J=z.length,ae=J-1;Q<J;ae=Q++){const ge=z[ae],Ce=z[Q];if(Su(T,F,ge,Ce))return 0;b=Math.min(b,Cl(T,F,ge,Ce,y))}}return b}function Xc(d,u){for(const h of d)for(const y of h)if(qc(y,u,!0))return!0;return!1}function Hu(d,u,h,y=1/0){const b=wf(d),B=wf(u);if(y!==1/0&&Kh(b,B,h)>=y)return y;if(Yc(b,B)){if(Xc(d,u))return 0}else if(Xc(u,d))return 0;let T=1/0;for(const F of d)for(let z=0,Q=F.length,J=Q-1;z<Q;J=z++){const ae=F[J],ge=F[z];for(const Ce of u)for(let Se=0,Le=Ce.length,Qe=Le-1;Se<Le;Qe=Se++){const Je=Ce[Qe],Mt=Ce[Se];if(Su(ae,ge,Je,Mt))return 0;T=Math.min(T,Cl(ae,ge,Je,Mt,h))}}return T}function Mf(d,u,h,y,b,B){if(!B)return;const T=Kh(cc(y,B),b,h);T<u&&d.push([T,B,[0,0]])}function wd(d,u,h,y,b,B,T){if(!B||!T)return;const F=Kh(cc(y,B),cc(b,T),h);F<u&&d.push([F,B,T])}function hc(d,u,h,y,b=1/0){let B=Math.min(y.distance(d[0],h[0][0]),b);if(B===0)return B;const T=new _d([[0,[0,d.length-1],[0,0]]],Op),F=wf(h);for(;T.length>0;){const z=T.pop();if(z[0]>=B)continue;const Q=z[1],J=u?50:100;if(jl(Q)<=J){if(!nl(Q,d.length))return NaN;if(u){const ae=q0(d,Q,h,y);if(isNaN(ae)||ae===0)return ae;B=Math.min(B,ae)}else for(let ae=Q[0];ae<=Q[1];++ae){const ge=Sm(d[ae],h,y);if(B=Math.min(B,ge),B===0)return 0}}else{const ae=xd(Q,u);Mf(T,B,y,d,F,ae[0]),Mf(T,B,y,d,F,ae[1])}}return B}function Md(d,u,h,y,b,B=1/0){let T=Math.min(B,b.distance(d[0],h[0]));if(T===0)return T;const F=new _d([[0,[0,d.length-1],[0,h.length-1]]],Op);for(;F.length>0;){const z=F.pop();if(z[0]>=T)continue;const Q=z[1],J=z[2],ae=u?50:100,ge=y?50:100;if(jl(Q)<=ae&&jl(J)<=ge){if(!nl(Q,d.length)&&nl(J,h.length))return NaN;let Ce;if(u&&y)Ce=ou(d,Q,h,J,b),T=Math.min(T,Ce);else if(u&&!y){const Se=d.slice(Q[0],Q[1]+1);for(let Le=J[0];Le<=J[1];++Le)if(Ce=AA(h[Le],Se,b),T=Math.min(T,Ce),T===0)return T}else if(!u&&y){const Se=h.slice(J[0],J[1]+1);for(let Le=Q[0];Le<=Q[1];++Le)if(Ce=AA(d[Le],Se,b),T=Math.min(T,Ce),T===0)return T}else Ce=go(d,Q,h,J,b),T=Math.min(T,Ce)}else{const Ce=xd(Q,u),Se=xd(J,y);wd(F,T,b,d,h,Ce[0],Se[0]),wd(F,T,b,d,h,Ce[0],Se[1]),wd(F,T,b,d,h,Ce[1],Se[0]),wd(F,T,b,d,h,Ce[1],Se[1])}}return T}function Sf(d){return d.type==="MultiPolygon"?d.coordinates.map(u=>({type:"Polygon",coordinates:u})):d.type==="MultiLineString"?d.coordinates.map(u=>({type:"LineString",coordinates:u})):d.type==="MultiPoint"?d.coordinates.map(u=>({type:"Point",coordinates:u})):[d]}class LA{constructor(u,h){this.type=$t,this.geojson=u,this.geometries=h}static parse(u,h){if(u.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ll(u[1])){const y=u[1];if(y.type==="FeatureCollection")return new LA(y,y.features.map(b=>Sf(b.geometry)).flat());if(y.type==="Feature")return new LA(y,Sf(y.geometry));if("type"in y&&"coordinates"in y)return new LA(y,Sf(y))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(h,y){const b=h.geometry(),B=b.flat().map(z=>oa([z.x,z.y],h.canonical));if(b.length===0)return NaN;const T=new bd(B[0][1]);let F=1/0;for(const z of y){switch(z.type){case"Point":F=Math.min(F,Md(B,!1,[z.coordinates],!1,T,F));break;case"LineString":F=Math.min(F,Md(B,!1,z.coordinates,!0,T,F));break;case"Polygon":F=Math.min(F,hc(B,!1,z.coordinates,T,F))}if(F===0)return F}return F}(u,this.geometries);if(u.geometryType()==="LineString")return function(h,y){const b=h.geometry(),B=b.flat().map(z=>oa([z.x,z.y],h.canonical));if(b.length===0)return NaN;const T=new bd(B[0][1]);let F=1/0;for(const z of y){switch(z.type){case"Point":F=Math.min(F,Md(B,!0,[z.coordinates],!1,T,F));break;case"LineString":F=Math.min(F,Md(B,!0,z.coordinates,!0,T,F));break;case"Polygon":F=Math.min(F,hc(B,!0,z.coordinates,T,F))}if(F===0)return F}return F}(u,this.geometries);if(u.geometryType()==="Polygon")return function(h,y){const b=h.geometry();if(b.length===0||b[0].length===0)return NaN;const B=Ac(b,0).map(z=>z.map(Q=>Q.map(J=>oa([J.x,J.y],h.canonical)))),T=new bd(B[0][0][0][1]);let F=1/0;for(const z of y)for(const Q of B){switch(z.type){case"Point":F=Math.min(F,hc([z.coordinates],!1,Q,T,F));break;case"LineString":F=Math.min(F,hc(z.coordinates,!0,Q,T,F));break;case"Polygon":F=Math.min(F,Hu(Q,z.coordinates,T,F))}if(F===0)return F}return F}(u,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const zl={"==":ko,"!=":ia,">":tl,"<":Va,">=":Ma,"<=":Rl,array:ya,at:Dr,boolean:ya,case:ki,coalesce:lo,collator:$c,format:_l,image:kh,in:Fl,"index-of":xi,interpolate:er,"interpolate-hcl":er,"interpolate-lab":er,length:nu,let:vl,literal:xo,match:Ji,number:ya,"number-format":Us,object:ya,slice:N,step:We,string:ya,"to-boolean":qa,"to-color":qa,"to-number":qa,"to-string":qa,var:bi,within:DA,distance:LA};class Pt{constructor(u,h,y,b){this.name=u,this.type=h,this._evaluate=y,this.args=b}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,h){const y=u[0],b=Pt.definitions[y];if(!b)return h.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const B=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,F=T.filter(([Q])=>!Array.isArray(Q)||Q.length===u.length-1);let z=null;for(const[Q,J]of F){z=new Gi(h.registry,eo,h.path,null,h.scope);const ae=[];let ge=!1;for(let Ce=1;Ce<u.length;Ce++){const Se=u[Ce],Le=Array.isArray(Q)?Q[Ce-1]:Q.type,Qe=z.parse(Se,1+ae.length,Le);if(!Qe){ge=!0;break}ae.push(Qe)}if(!ge)if(Array.isArray(Q)&&Q.length!==ae.length)z.error(`Expected ${Q.length} arguments, but found ${ae.length} instead.`);else{for(let Ce=0;Ce<ae.length;Ce++){const Se=Array.isArray(Q)?Q[Ce]:Q.type,Le=ae[Ce];z.concat(Ce+1).checkSubtype(Se,Le.type)}if(z.errors.length===0)return new Pt(y,B,J,ae)}}if(F.length===1)h.errors.push(...z.errors);else{const Q=(F.length?F:T).map(([ae])=>{return ge=ae,Array.isArray(ge)?`(${ge.map(hi).join(", ")})`:`(${hi(ge.type)}...)`;var ge}).join(" | "),J=[];for(let ae=1;ae<u.length;ae++){const ge=h.parse(u[ae],1+J.length);if(!ge)return null;J.push(hi(ge.type))}h.error(`Expected arguments of type ${Q}, but found (${J.join(", ")}) instead.`)}return null}static register(u,h){Pt.definitions=h;for(const y in h)u[y]=Pt}}function mn(d,[u,h,y,b]){u=u.evaluate(d),h=h.evaluate(d),y=y.evaluate(d);const B=b?b.evaluate(d):1,T=tu(u,h,y,B);if(T)throw new ii(T);return new Gr(u/255,h/255,y/255,B,!1)}function Zt(d,u){return d in u}function vr(d,u){const h=u[d];return h===void 0?null:h}function ti(d){return{type:d}}function eo(d){if(d instanceof bi)return eo(d.boundExpression);if(d instanceof Pt&&d.name==="error"||d instanceof $c||d instanceof DA||d instanceof LA)return!1;const u=d instanceof qa||d instanceof ya;let h=!0;return d.eachChild(y=>{h=u?h&&eo(y):h&&y instanceof xo}),!!h&&Sa(d)&&dc(d,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Sa(d){if(d instanceof Pt&&(d.name==="get"&&d.args.length===1||d.name==="feature-state"||d.name==="has"&&d.args.length===1||d.name==="properties"||d.name==="geometry-type"||d.name==="id"||/^filter-/.test(d.name))||d instanceof DA||d instanceof LA)return!1;let u=!0;return d.eachChild(h=>{u&&!Sa(h)&&(u=!1)}),u}function wo(d){if(d instanceof Pt&&d.name==="feature-state")return!1;let u=!0;return d.eachChild(h=>{u&&!wo(h)&&(u=!1)}),u}function dc(d,u){if(d instanceof Pt&&u.indexOf(d.name)>=0)return!1;let h=!0;return d.eachChild(y=>{h&&!dc(y,u)&&(h=!1)}),h}function Em(d){return{result:"success",value:d}}function js(d){return{result:"error",value:d}}function FA(d){return d["property-type"]==="data-driven"||d["property-type"]==="cross-faded-data-driven"}function fc(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function au(d){return!!d.expression&&d.expression.interpolated}function Ti(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":d===null?"null":typeof d}function RA(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)}function Eo(d){return d}function Ip(d,u){const h=u.type==="color",y=d.stops&&typeof d.stops[0][0]=="object",b=y||!(y||d.property!==void 0),B=d.type||(au(u)?"exponential":"interval");if(h||u.type==="padding"){const J=h?Gr.parse:di.parse;(d=yn({},d)).stops&&(d.stops=d.stops.map(ae=>[ae[0],J(ae[1])])),d.default=J(d.default?d.default:u.default)}if(d.colorSpace&&(T=d.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${d.colorSpace}"`);var T;let F,z,Q;if(B==="exponential")F=rl;else if(B==="interval")F=UA;else if(B==="categorical"){F=cA,z=Object.create(null);for(const J of d.stops)z[J[0]]=J[1];Q=typeof d.stops[0][0]}else{if(B!=="identity")throw new Error(`Unknown function type "${B}"`);F=mc}if(y){const J={},ae=[];for(let Se=0;Se<d.stops.length;Se++){const Le=d.stops[Se],Qe=Le[0].zoom;J[Qe]===void 0&&(J[Qe]={zoom:Qe,type:d.type,property:d.property,default:d.default,stops:[]},ae.push(Qe)),J[Qe].stops.push([Le[0].value,Le[1]])}const ge=[];for(const Se of ae)ge.push([J[Se].zoom,Ip(J[Se],u)]);const Ce={name:"linear"};return{kind:"composite",interpolationType:Ce,interpolationFactor:er.interpolationFactor.bind(void 0,Ce),zoomStops:ge.map(Se=>Se[0]),evaluate:({zoom:Se},Le)=>rl({stops:ge,base:d.base},u,Se).evaluate(Se,Le)}}if(b){const J=B==="exponential"?{name:"exponential",base:d.base!==void 0?d.base:1}:null;return{kind:"camera",interpolationType:J,interpolationFactor:er.interpolationFactor.bind(void 0,J),zoomStops:d.stops.map(ae=>ae[0]),evaluate:({zoom:ae})=>F(d,u,ae,z,Q)}}return{kind:"source",evaluate(J,ae){const ge=ae&&ae.properties?ae.properties[d.property]:void 0;return ge===void 0?pc(d.default,u.default):F(d,u,ge,z,Q)}}}function pc(d,u,h){return d!==void 0?d:u!==void 0?u:h!==void 0?h:void 0}function cA(d,u,h,y,b){return pc(typeof h===b?y[h]:void 0,d.default,u.default)}function UA(d,u,h){if(Ti(h)!=="number")return pc(d.default,u.default);const y=d.stops.length;if(y===1||h<=d.stops[0][0])return d.stops[0][1];if(h>=d.stops[y-1][0])return d.stops[y-1][1];const b=he(d.stops.map(B=>B[0]),h);return d.stops[b][1]}function rl(d,u,h){const y=d.base!==void 0?d.base:1;if(Ti(h)!=="number")return pc(d.default,u.default);const b=d.stops.length;if(b===1||h<=d.stops[0][0])return d.stops[0][1];if(h>=d.stops[b-1][0])return d.stops[b-1][1];const B=he(d.stops.map(J=>J[0]),h),T=function(J,ae,ge,Ce){const Se=Ce-ge,Le=J-ge;return Se===0?0:ae===1?Le/Se:(Math.pow(ae,Le)-1)/(Math.pow(ae,Se)-1)}(h,y,d.stops[B][0],d.stops[B+1][0]),F=d.stops[B][1],z=d.stops[B+1][1],Q=ri[u.type]||Eo;return typeof F.evaluate=="function"?{evaluate(...J){const ae=F.evaluate.apply(void 0,J),ge=z.evaluate.apply(void 0,J);if(ae!==void 0&&ge!==void 0)return Q(ae,ge,T,d.colorSpace)}}:Q(F,z,T,d.colorSpace)}function mc(d,u,h){switch(u.type){case"color":h=Gr.parse(h);break;case"formatted":h=Ro.fromString(h.toString());break;case"resolvedImage":h=so.fromString(h.toString());break;case"padding":h=di.parse(h);break;default:Ti(h)===u.type||u.type==="enum"&&u.values[h]||(h=void 0)}return pc(h,d.default,u.default)}Pt.register(zl,{error:[{kind:"error"},[Kn],(d,[u])=>{throw new ii(u.evaluate(d))}],typeof:[Kn,[Tn],(d,[u])=>hi(Uo(u.evaluate(d)))],"to-rgba":[Xi($t,4),[Tr],(d,[u])=>{const[h,y,b,B]=u.evaluate(d).rgb;return[255*h,255*y,255*b,B]}],rgb:[Tr,[$t,$t,$t],mn],rgba:[Tr,[$t,$t,$t,$t],mn],has:{type:Wn,overloads:[[[Kn],(d,[u])=>Zt(u.evaluate(d),d.properties())],[[Kn,Vn],(d,[u,h])=>Zt(u.evaluate(d),h.evaluate(d))]]},get:{type:Tn,overloads:[[[Kn],(d,[u])=>vr(u.evaluate(d),d.properties())],[[Kn,Vn],(d,[u,h])=>vr(u.evaluate(d),h.evaluate(d))]]},"feature-state":[Tn,[Kn],(d,[u])=>vr(u.evaluate(d),d.featureState||{})],properties:[Vn,[],d=>d.properties()],"geometry-type":[Kn,[],d=>d.geometryType()],id:[Tn,[],d=>d.id()],zoom:[$t,[],d=>d.globals.zoom],"heatmap-density":[$t,[],d=>d.globals.heatmapDensity||0],"line-progress":[$t,[],d=>d.globals.lineProgress||0],accumulated:[Tn,[],d=>d.globals.accumulated===void 0?null:d.globals.accumulated],"+":[$t,ti($t),(d,u)=>{let h=0;for(const y of u)h+=y.evaluate(d);return h}],"*":[$t,ti($t),(d,u)=>{let h=1;for(const y of u)h*=y.evaluate(d);return h}],"-":{type:$t,overloads:[[[$t,$t],(d,[u,h])=>u.evaluate(d)-h.evaluate(d)],[[$t],(d,[u])=>-u.evaluate(d)]]},"/":[$t,[$t,$t],(d,[u,h])=>u.evaluate(d)/h.evaluate(d)],"%":[$t,[$t,$t],(d,[u,h])=>u.evaluate(d)%h.evaluate(d)],ln2:[$t,[],()=>Math.LN2],pi:[$t,[],()=>Math.PI],e:[$t,[],()=>Math.E],"^":[$t,[$t,$t],(d,[u,h])=>Math.pow(u.evaluate(d),h.evaluate(d))],sqrt:[$t,[$t],(d,[u])=>Math.sqrt(u.evaluate(d))],log10:[$t,[$t],(d,[u])=>Math.log(u.evaluate(d))/Math.LN10],ln:[$t,[$t],(d,[u])=>Math.log(u.evaluate(d))],log2:[$t,[$t],(d,[u])=>Math.log(u.evaluate(d))/Math.LN2],sin:[$t,[$t],(d,[u])=>Math.sin(u.evaluate(d))],cos:[$t,[$t],(d,[u])=>Math.cos(u.evaluate(d))],tan:[$t,[$t],(d,[u])=>Math.tan(u.evaluate(d))],asin:[$t,[$t],(d,[u])=>Math.asin(u.evaluate(d))],acos:[$t,[$t],(d,[u])=>Math.acos(u.evaluate(d))],atan:[$t,[$t],(d,[u])=>Math.atan(u.evaluate(d))],min:[$t,ti($t),(d,u)=>Math.min(...u.map(h=>h.evaluate(d)))],max:[$t,ti($t),(d,u)=>Math.max(...u.map(h=>h.evaluate(d)))],abs:[$t,[$t],(d,[u])=>Math.abs(u.evaluate(d))],round:[$t,[$t],(d,[u])=>{const h=u.evaluate(d);return h<0?-Math.round(-h):Math.round(h)}],floor:[$t,[$t],(d,[u])=>Math.floor(u.evaluate(d))],ceil:[$t,[$t],(d,[u])=>Math.ceil(u.evaluate(d))],"filter-==":[Wn,[Kn,Tn],(d,[u,h])=>d.properties()[u.value]===h.value],"filter-id-==":[Wn,[Tn],(d,[u])=>d.id()===u.value],"filter-type-==":[Wn,[Kn],(d,[u])=>d.geometryType()===u.value],"filter-<":[Wn,[Kn,Tn],(d,[u,h])=>{const y=d.properties()[u.value],b=h.value;return typeof y==typeof b&&y<b}],"filter-id-<":[Wn,[Tn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h<y}],"filter->":[Wn,[Kn,Tn],(d,[u,h])=>{const y=d.properties()[u.value],b=h.value;return typeof y==typeof b&&y>b}],"filter-id->":[Wn,[Tn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h>y}],"filter-<=":[Wn,[Kn,Tn],(d,[u,h])=>{const y=d.properties()[u.value],b=h.value;return typeof y==typeof b&&y<=b}],"filter-id-<=":[Wn,[Tn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h<=y}],"filter->=":[Wn,[Kn,Tn],(d,[u,h])=>{const y=d.properties()[u.value],b=h.value;return typeof y==typeof b&&y>=b}],"filter-id->=":[Wn,[Tn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h>=y}],"filter-has":[Wn,[Tn],(d,[u])=>u.value in d.properties()],"filter-has-id":[Wn,[],d=>d.id()!==null&&d.id()!==void 0],"filter-type-in":[Wn,[Xi(Kn)],(d,[u])=>u.value.indexOf(d.geometryType())>=0],"filter-id-in":[Wn,[Xi(Tn)],(d,[u])=>u.value.indexOf(d.id())>=0],"filter-in-small":[Wn,[Kn,Xi(Tn)],(d,[u,h])=>h.value.indexOf(d.properties()[u.value])>=0],"filter-in-large":[Wn,[Kn,Xi(Tn)],(d,[u,h])=>function(y,b,B,T){for(;B<=T;){const F=B+T>>1;if(b[F]===y)return!0;b[F]>y?T=F-1:B=F+1}return!1}(d.properties()[u.value],h.value,0,h.value.length-1)],all:{type:Wn,overloads:[[[Wn,Wn],(d,[u,h])=>u.evaluate(d)&&h.evaluate(d)],[ti(Wn),(d,u)=>{for(const h of u)if(!h.evaluate(d))return!1;return!0}]]},any:{type:Wn,overloads:[[[Wn,Wn],(d,[u,h])=>u.evaluate(d)||h.evaluate(d)],[ti(Wn),(d,u)=>{for(const h of u)if(h.evaluate(d))return!0;return!1}]]},"!":[Wn,[Wn],(d,[u])=>!u.evaluate(d)],"is-supported-script":[Wn,[Kn],(d,[u])=>{const h=d.globals&&d.globals.isSupportedScript;return!h||h(u.evaluate(d))}],upcase:[Kn,[Kn],(d,[u])=>u.evaluate(d).toUpperCase()],downcase:[Kn,[Kn],(d,[u])=>u.evaluate(d).toLowerCase()],concat:[Kn,ti(Tn),(d,u)=>u.map(h=>Os(h.evaluate(d))).join("")],"resolved-locale":[Kn,[_i],(d,[u])=>u.evaluate(d).resolvedLocale()]});class su{constructor(u,h){var y;this.expression=u,this._warningHistory={},this._evaluator=new Vu,this._defaultValue=h?(y=h).type==="color"&&RA(y.default)?new Gr(0,0,0,0):y.type==="color"?Gr.parse(y.default)||null:y.type==="padding"?di.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?Aa.parse(y.default)||null:y.type==="projectionDefinition"?ca.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(u,h,y,b,B,T){return this._evaluator.globals=u,this._evaluator.feature=h,this._evaluator.featureState=y,this._evaluator.canonical=b,this._evaluator.availableImages=B||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(u,h,y,b,B,T){this._evaluator.globals=u,this._evaluator.feature=h||null,this._evaluator.featureState=y||null,this._evaluator.canonical=b,this._evaluator.availableImages=B||null,this._evaluator.formattedSection=T||null;try{const F=this.expression.evaluate(this._evaluator);if(F==null||typeof F=="number"&&F!=F)return this._defaultValue;if(this._enumValues&&!(F in this._enumValues))throw new ii(`Expected value to be one of ${Object.keys(this._enumValues).map(z=>JSON.stringify(z)).join(", ")}, but found ${JSON.stringify(F)} instead.`);return F}catch(F){return this._warningHistory[F.message]||(this._warningHistory[F.message]=!0,typeof console<"u"&&console.warn(F.message)),this._defaultValue}}}function bl(d){return Array.isArray(d)&&d.length>0&&typeof d[0]=="string"&&d[0]in zl}function Jc(d,u){const h=new Gi(zl,eo,[],u?function(b){const B={color:Tr,string:Kn,number:$t,enum:Kn,boolean:Wn,formatted:Zi,padding:ei,projectionDefinition:Jn,resolvedImage:Wr,variableAnchorOffsetCollection:Yr};return b.type==="array"?Xi(B[b.value]||Tn,b.length):B[b.type]}(u):void 0),y=h.parse(d,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Em(new su(y,u)):js(h.errors)}class Sd{constructor(u,h){this.kind=u,this._styleExpression=h,this.isStateDependent=u!=="constant"&&!wo(h.expression)}evaluateWithoutErrorHandling(u,h,y,b,B,T){return this._styleExpression.evaluateWithoutErrorHandling(u,h,y,b,B,T)}evaluate(u,h,y,b,B,T){return this._styleExpression.evaluate(u,h,y,b,B,T)}}class lu{constructor(u,h,y,b){this.kind=u,this.zoomStops=y,this._styleExpression=h,this.isStateDependent=u!=="camera"&&!wo(h.expression),this.interpolationType=b}evaluateWithoutErrorHandling(u,h,y,b,B,T){return this._styleExpression.evaluateWithoutErrorHandling(u,h,y,b,B,T)}evaluate(u,h,y,b,B,T){return this._styleExpression.evaluate(u,h,y,b,B,T)}interpolationFactor(u,h,y){return this.interpolationType?er.interpolationFactor(this.interpolationType,u,h,y):0}}function Ed(d,u){const h=Jc(d,u);if(h.result==="error")return h;const y=h.value.expression,b=Sa(y);if(!b&&!FA(u))return js([new gn("","data expressions not supported")]);const B=dc(y,["zoom"]);if(!B&&!fc(u))return js([new gn("","zoom expressions not supported")]);const T=hA(y);return T||B?T instanceof gn?js([T]):T instanceof er&&!au(u)?js([new gn("",'"interpolate" expressions cannot be used with this property')]):Em(T?new lu(b?"camera":"composite",h.value,T.labels,T instanceof er?T.interpolation:void 0):new Sd(b?"constant":"source",h.value)):js([new gn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class eh{constructor(u,h){this._parameters=u,this._specification=h,yn(this,Ip(this._parameters,this._specification))}static deserialize(u){return new eh(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function hA(d){let u=null;if(d instanceof vl)u=hA(d.result);else if(d instanceof lo){for(const h of d.args)if(u=hA(h),u)break}else(d instanceof We||d instanceof er)&&d.input instanceof Pt&&d.input.name==="zoom"&&(u=d);return u instanceof gn||d.eachChild(h=>{const y=hA(h);y instanceof gn?u=y:!u&&y?u=new gn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&y&&u!==y&&(u=new gn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function Ef(d){if(d===!0||d===!1)return!0;if(!Array.isArray(d)||d.length===0)return!1;switch(d[0]){case"has":return d.length>=2&&d[1]!=="$id"&&d[1]!=="$type";case"in":return d.length>=3&&(typeof d[1]!="string"||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return d.length!==3||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const u of d.slice(1))if(!Ef(u)&&typeof u!="boolean")return!1;return!0;default:return!0}}const th={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function dA(d){if(d==null)return{filter:()=>!0,needGeometry:!1};Ef(d)||(d=jA(d));const u=Jc(d,th);if(u.result==="error")throw new Error(u.value.map(h=>`${h.key}: ${h.message}`).join(", "));return{filter:(h,y,b)=>u.value.evaluate(h,y,{},b),needGeometry:Od(d)}}function nh(d,u){return d<u?-1:d>u?1:0}function Od(d){if(!Array.isArray(d))return!1;if(d[0]==="within"||d[0]==="distance")return!0;for(let u=1;u<d.length;u++)if(Od(d[u]))return!0;return!1}function jA(d){if(!d)return!0;const u=d[0];return d.length<=1?u!=="any":u==="=="?Dh(d[1],d[2],"=="):u==="!="?ih(Dh(d[1],d[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Dh(d[1],d[2],u):u==="any"?(h=d.slice(1),["any"].concat(h.map(jA))):u==="all"?["all"].concat(d.slice(1).map(jA)):u==="none"?["all"].concat(d.slice(1).map(jA).map(ih)):u==="in"?rh(d[1],d.slice(2)):u==="!in"?ih(rh(d[1],d.slice(2))):u==="has"?zA(d[1]):u!=="!has"||ih(zA(d[1]));var h}function Dh(d,u,h){switch(d){case"$type":return[`filter-type-${h}`,u];case"$id":return[`filter-id-${h}`,u];default:return[`filter-${h}`,d,u]}}function rh(d,u){if(u.length===0)return!1;switch(d){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(h=>typeof h!=typeof u[0])?["filter-in-large",d,["literal",u.sort(nh)]]:["filter-in-small",d,["literal",u]]}}function zA(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function ih(d){return["!",d]}function Of(d){const u=typeof d;if(u==="number"||u==="boolean"||u==="string"||d==null)return JSON.stringify(d);if(Array.isArray(d)){let b="[";for(const B of d)b+=`${Of(B)},`;return`${b}]`}const h=Object.keys(d).sort();let y="{";for(let b=0;b<h.length;b++)y+=`${JSON.stringify(h[b])}:${Of(d[h[b]])},`;return`${y}}`}function Bf(d){let u="";for(const h of Ee)u+=`/${Of(d[h])}`;return u}function Lh(d){const u=d.value;return u?[new At(d.key,u,"constants have been deprecated as of v8")]:[]}function aa(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function yo(d){if(Array.isArray(d))return d.map(yo);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const u={};for(const h in d)u[h]=yo(d[h]);return u}return aa(d)}function Oo(d){const u=d.key,h=d.value,y=d.valueSpec||{},b=d.objectElementValidators||{},B=d.style,T=d.styleSpec,F=d.validateSpec;let z=[];const Q=Ti(h);if(Q!=="object")return[new At(u,h,`object expected, ${Q} found`)];for(const J in h){const ae=J.split(".")[0],ge=y[ae]||y["*"];let Ce;if(b[ae])Ce=b[ae];else if(y[ae])Ce=F;else if(b["*"])Ce=b["*"];else{if(!y["*"]){z.push(new At(u,h[J],`unknown property "${J}"`));continue}Ce=F}z=z.concat(Ce({key:(u&&`${u}.`)+J,value:h[J],valueSpec:ge,style:B,styleSpec:T,object:h,objectKey:J,validateSpec:F},h))}for(const J in y)b[J]||y[J].required&&y[J].default===void 0&&h[J]===void 0&&z.push(new At(u,h,`missing required property "${J}"`));return z}function kp(d){const u=d.value,h=d.valueSpec,y=d.style,b=d.styleSpec,B=d.key,T=d.arrayElementValidator||d.validateSpec;if(Ti(u)!=="array")return[new At(B,u,`array expected, ${Ti(u)} found`)];if(h.length&&u.length!==h.length)return[new At(B,u,`array length ${h.length} expected, length ${u.length} found`)];if(h["min-length"]&&u.length<h["min-length"])return[new At(B,u,`array length at least ${h["min-length"]} expected, length ${u.length} found`)];let F={type:h.value,values:h.values};b.$version<7&&(F.function=h.function),Ti(h.value)==="object"&&(F=h.value);let z=[];for(let Q=0;Q<u.length;Q++)z=z.concat(T({array:u,arrayIndex:Q,value:u[Q],valueSpec:F,validateSpec:d.validateSpec,style:y,styleSpec:b,key:`${B}[${Q}]`}));return z}function Fh(d){const u=d.key,h=d.value,y=d.valueSpec;let b=Ti(h);return b==="number"&&h!=h&&(b="NaN"),b!=="number"?[new At(u,h,`number expected, ${b} found`)]:"minimum"in y&&h<y.minimum?[new At(u,h,`${h} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&h>y.maximum?[new At(u,h,`${h} is greater than the maximum value ${y.maximum}`)]:[]}function If(d){const u=d.valueSpec,h=aa(d.value.type);let y,b,B,T={};const F=h!=="categorical"&&d.value.property===void 0,z=!F,Q=Ti(d.value.stops)==="array"&&Ti(d.value.stops[0])==="array"&&Ti(d.value.stops[0][0])==="object",J=Oo({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(Ce){if(h==="identity")return[new At(Ce.key,Ce.value,'identity function may not have a "stops" property')];let Se=[];const Le=Ce.value;return Se=Se.concat(kp({key:Ce.key,value:Le,valueSpec:Ce.valueSpec,validateSpec:Ce.validateSpec,style:Ce.style,styleSpec:Ce.styleSpec,arrayElementValidator:ae})),Ti(Le)==="array"&&Le.length===0&&Se.push(new At(Ce.key,Le,"array must have at least one stop")),Se},default:function(Ce){return Ce.validateSpec({key:Ce.key,value:Ce.value,valueSpec:u,validateSpec:Ce.validateSpec,style:Ce.style,styleSpec:Ce.styleSpec})}}});return h==="identity"&&F&&J.push(new At(d.key,d.value,'missing required property "property"')),h==="identity"||d.value.stops||J.push(new At(d.key,d.value,'missing required property "stops"')),h==="exponential"&&d.valueSpec.expression&&!au(d.valueSpec)&&J.push(new At(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(z&&!FA(d.valueSpec)?J.push(new At(d.key,d.value,"property functions not supported")):F&&!fc(d.valueSpec)&&J.push(new At(d.key,d.value,"zoom functions not supported"))),h!=="categorical"&&!Q||d.value.property!==void 0||J.push(new At(d.key,d.value,'"property" property is required')),J;function ae(Ce){let Se=[];const Le=Ce.value,Qe=Ce.key;if(Ti(Le)!=="array")return[new At(Qe,Le,`array expected, ${Ti(Le)} found`)];if(Le.length!==2)return[new At(Qe,Le,`array length 2 expected, length ${Le.length} found`)];if(Q){if(Ti(Le[0])!=="object")return[new At(Qe,Le,`object expected, ${Ti(Le[0])} found`)];if(Le[0].zoom===void 0)return[new At(Qe,Le,"object stop key must have zoom")];if(Le[0].value===void 0)return[new At(Qe,Le,"object stop key must have value")];if(B&&B>aa(Le[0].zoom))return[new At(Qe,Le[0].zoom,"stop zoom values must appear in ascending order")];aa(Le[0].zoom)!==B&&(B=aa(Le[0].zoom),b=void 0,T={}),Se=Se.concat(Oo({key:`${Qe}[0]`,value:Le[0],valueSpec:{zoom:{}},validateSpec:Ce.validateSpec,style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{zoom:Fh,value:ge}}))}else Se=Se.concat(ge({key:`${Qe}[0]`,value:Le[0],valueSpec:{},validateSpec:Ce.validateSpec,style:Ce.style,styleSpec:Ce.styleSpec},Le));return bl(yo(Le[1]))?Se.concat([new At(`${Qe}[1]`,Le[1],"expressions are not allowed in function stops.")]):Se.concat(Ce.validateSpec({key:`${Qe}[1]`,value:Le[1],valueSpec:u,validateSpec:Ce.validateSpec,style:Ce.style,styleSpec:Ce.styleSpec}))}function ge(Ce,Se){const Le=Ti(Ce.value),Qe=aa(Ce.value),Je=Ce.value!==null?Ce.value:Se;if(y){if(Le!==y)return[new At(Ce.key,Je,`${Le} stop domain type must match previous stop domain type ${y}`)]}else y=Le;if(Le!=="number"&&Le!=="string"&&Le!=="boolean")return[new At(Ce.key,Je,"stop domain value must be a number, string, or boolean")];if(Le!=="number"&&h!=="categorical"){let Mt=`number expected, ${Le} found`;return FA(u)&&h===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new At(Ce.key,Je,Mt)]}return h!=="categorical"||Le!=="number"||isFinite(Qe)&&Math.floor(Qe)===Qe?h!=="categorical"&&Le==="number"&&b!==void 0&&Qe<b?[new At(Ce.key,Je,"stop domain values must appear in ascending order")]:(b=Qe,h==="categorical"&&Qe in T?[new At(Ce.key,Je,"stop domain values must be unique")]:(T[Qe]=!0,[])):[new At(Ce.key,Je,`integer expected, found ${Qe}`)]}}function fA(d){const u=(d.expressionContext==="property"?Ed:Jc)(yo(d.value),d.valueSpec);if(u.result==="error")return u.value.map(y=>new At(`${d.key}${y.key}`,d.value,y.message));const h=u.value.expression||u.value._styleExpression.expression;if(d.expressionContext==="property"&&d.propertyKey==="text-font"&&!h.outputDefined())return[new At(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if(d.expressionContext==="property"&&d.propertyType==="layout"&&!wo(h))return[new At(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if(d.expressionContext==="filter"&&!wo(h))return[new At(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&d.expressionContext.indexOf("cluster")===0){if(!dc(h,["zoom","feature-state"]))return[new At(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(d.expressionContext==="cluster-initial"&&!Sa(h))return[new At(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function gc(d){const u=d.key,h=d.value,y=d.valueSpec,b=[];return Array.isArray(y.values)?y.values.indexOf(aa(h))===-1&&b.push(new At(u,h,`expected one of [${y.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(y.values).indexOf(aa(h))===-1&&b.push(new At(u,h,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(h)} found`)),b}function Nl(d){return Ef(yo(d.value))?fA(yn({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):NA(d)}function NA(d){const u=d.value,h=d.key;if(Ti(u)!=="array")return[new At(h,u,`array expected, ${Ti(u)} found`)];const y=d.styleSpec;let b,B=[];if(u.length<1)return[new At(h,u,"filter array must have at least 1 element")];switch(B=B.concat(gc({key:`${h}[0]`,value:u[0],valueSpec:y.filter_operator,style:d.style,styleSpec:d.styleSpec})),aa(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&aa(u[1])==="$type"&&B.push(new At(h,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":u.length!==3&&B.push(new At(h,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(b=Ti(u[1]),b!=="string"&&B.push(new At(`${h}[1]`,u[1],`string expected, ${b} found`)));for(let T=2;T<u.length;T++)b=Ti(u[T]),aa(u[1])==="$type"?B=B.concat(gc({key:`${h}[${T}]`,value:u[T],valueSpec:y.geometry_type,style:d.style,styleSpec:d.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&B.push(new At(`${h}[${T}]`,u[T],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let T=1;T<u.length;T++)B=B.concat(NA({key:`${h}[${T}]`,value:u[T],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":b=Ti(u[1]),u.length!==2?B.push(new At(h,u,`filter array for "${u[0]}" operator must have 2 elements`)):b!=="string"&&B.push(new At(`${h}[1]`,u[1],`string expected, ${b} found`))}return B}function il(d,u){const h=d.key,y=d.validateSpec,b=d.style,B=d.styleSpec,T=d.value,F=d.objectKey,z=B[`${u}_${d.layerType}`];if(!z)return[];const Q=F.match(/^(.*)-transition$/);if(u==="paint"&&Q&&z[Q[1]]&&z[Q[1]].transition)return y({key:h,value:T,valueSpec:B.transition,style:b,styleSpec:B});const J=d.valueSpec||z[F];if(!J)return[new At(h,T,`unknown property "${F}"`)];let ae;if(Ti(T)==="string"&&FA(J)&&!J.tokens&&(ae=/^{([^}]+)}$/.exec(T)))return[new At(h,T,`"${F}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ae[1])} }\`.`)];const ge=[];return d.layerType==="symbol"&&(F==="text-field"&&b&&!b.glyphs&&ge.push(new At(h,T,'use of "text-field" requires a style "glyphs" property')),F==="text-font"&&RA(yo(T))&&aa(T.type)==="identity"&&ge.push(new At(h,T,'"text-font" does not support identity functions'))),ge.concat(y({key:d.key,value:T,valueSpec:J,style:b,styleSpec:B,expressionContext:"property",propertyType:u,propertyKey:F}))}function pA(d){return il(d,"paint")}function Ou(d){return il(d,"layout")}function oh(d){let u=[];const h=d.value,y=d.key,b=d.style,B=d.styleSpec;h.type||h.ref||u.push(new At(y,h,'either "type" or "ref" is required'));let T=aa(h.type);const F=aa(h.ref);if(h.id){const z=aa(h.id);for(let Q=0;Q<d.arrayIndex;Q++){const J=b.layers[Q];aa(J.id)===z&&u.push(new At(y,h.id,`duplicate layer id "${h.id}", previously used at line ${J.id.__line__}`))}}if("ref"in h){let z;["type","source","source-layer","filter","layout"].forEach(Q=>{Q in h&&u.push(new At(y,h[Q],`"${Q}" is prohibited for ref layers`))}),b.layers.forEach(Q=>{aa(Q.id)===F&&(z=Q)}),z?z.ref?u.push(new At(y,h.ref,"ref cannot reference another ref layer")):T=aa(z.type):u.push(new At(y,h.ref,`ref layer "${F}" not found`))}else if(T!=="background")if(h.source){const z=b.sources&&b.sources[h.source],Q=z&&aa(z.type);z?Q==="vector"&&T==="raster"?u.push(new At(y,h.source,`layer "${h.id}" requires a raster source`)):Q!=="raster-dem"&&T==="hillshade"?u.push(new At(y,h.source,`layer "${h.id}" requires a raster-dem source`)):Q==="raster"&&T!=="raster"?u.push(new At(y,h.source,`layer "${h.id}" requires a vector source`)):Q!=="vector"||h["source-layer"]?Q==="raster-dem"&&T!=="hillshade"?u.push(new At(y,h.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!h.paint||!h.paint["line-gradient"]||Q==="geojson"&&z.lineMetrics||u.push(new At(y,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new At(y,h,`layer "${h.id}" must specify a "source-layer"`)):u.push(new At(y,h.source,`source "${h.source}" not found`))}else u.push(new At(y,h,'missing required property "source"'));return u=u.concat(Oo({key:y,value:h,valueSpec:B.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*":()=>[],type:()=>d.validateSpec({key:`${y}.type`,value:h.type,valueSpec:B.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:h,objectKey:"type"}),filter:Nl,layout:z=>Oo({layer:h,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":Q=>Ou(yn({layerType:T},Q))}}),paint:z=>Oo({layer:h,key:z.key,value:z.value,style:z.style,styleSpec:z.styleSpec,validateSpec:z.validateSpec,objectElementValidators:{"*":Q=>pA(yn({layerType:T},Q))}})}})),u}function uu(d){const u=d.value,h=d.key,y=Ti(u);return y!=="string"?[new At(h,u,`string expected, ${y} found`)]:[]}const kf={promoteId:function({key:d,value:u}){if(Ti(u)==="string")return uu({key:d,value:u});{const h=[];for(const y in u)h.push(...uu({key:`${d}.${y}`,value:u[y]}));return h}}};function Tp(d){const u=d.value,h=d.key,y=d.styleSpec,b=d.style,B=d.validateSpec;if(!u.type)return[new At(h,u,'"type" is required')];const T=aa(u.type);let F;switch(T){case"vector":case"raster":return F=Oo({key:h,value:u,valueSpec:y[`source_${T.replace("-","_")}`],style:d.style,styleSpec:y,objectElementValidators:kf,validateSpec:B}),F;case"raster-dem":return F=function(z){var Q;const J=(Q=z.sourceName)!==null&&Q!==void 0?Q:"",ae=z.value,ge=z.styleSpec,Ce=ge.source_raster_dem,Se=z.style;let Le=[];const Qe=Ti(ae);if(ae===void 0)return Le;if(Qe!=="object")return Le.push(new At("source_raster_dem",ae,`object expected, ${Qe} found`)),Le;const Je=aa(ae.encoding)==="custom",Mt=["redFactor","greenFactor","blueFactor","baseShift"],ut=z.value.encoding?`"${z.value.encoding}"`:"Default";for(const ve in ae)!Je&&Mt.includes(ve)?Le.push(new At(ve,ae[ve],`In "${J}": "${ve}" is only valid when "encoding" is set to "custom". ${ut} encoding found`)):Ce[ve]?Le=Le.concat(z.validateSpec({key:ve,value:ae[ve],valueSpec:Ce[ve],validateSpec:z.validateSpec,style:Se,styleSpec:ge})):Le.push(new At(ve,ae[ve],`unknown property "${ve}"`));return Le}({sourceName:h,value:u,style:d.style,styleSpec:y,validateSpec:B}),F;case"geojson":if(F=Oo({key:h,value:u,valueSpec:y.source_geojson,style:b,styleSpec:y,validateSpec:B,objectElementValidators:kf}),u.cluster)for(const z in u.clusterProperties){const[Q,J]=u.clusterProperties[z],ae=typeof Q=="string"?[Q,["accumulated"],["get",z]]:Q;F.push(...fA({key:`${h}.${z}.map`,value:J,validateSpec:B,expressionContext:"cluster-map"})),F.push(...fA({key:`${h}.${z}.reduce`,value:ae,validateSpec:B,expressionContext:"cluster-reduce"}))}return F;case"video":return Oo({key:h,value:u,valueSpec:y.source_video,style:b,validateSpec:B,styleSpec:y});case"image":return Oo({key:h,value:u,valueSpec:y.source_image,style:b,validateSpec:B,styleSpec:y});case"canvas":return[new At(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gc({key:`${h}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,validateSpec:B,styleSpec:y})}}function Bu(d){const u=d.value,h=d.styleSpec,y=h.light,b=d.style;let B=[];const T=Ti(u);if(u===void 0)return B;if(T!=="object")return B=B.concat([new At("light",u,`object expected, ${T} found`)]),B;for(const F in u){const z=F.match(/^(.*)-transition$/);B=B.concat(z&&y[z[1]]&&y[z[1]].transition?d.validateSpec({key:F,value:u[F],valueSpec:h.transition,validateSpec:d.validateSpec,style:b,styleSpec:h}):y[F]?d.validateSpec({key:F,value:u[F],valueSpec:y[F],validateSpec:d.validateSpec,style:b,styleSpec:h}):[new At(F,u[F],`unknown property "${F}"`)])}return B}function yc(d){const u=d.value,h=d.styleSpec,y=h.sky,b=d.style,B=Ti(u);if(u===void 0)return[];if(B!=="object")return[new At("sky",u,`object expected, ${B} found`)];let T=[];for(const F in u)T=T.concat(y[F]?d.validateSpec({key:F,value:u[F],valueSpec:y[F],style:b,styleSpec:h}):[new At(F,u[F],`unknown property "${F}"`)]);return T}function Om(d){const u=d.value,h=d.styleSpec,y=h.terrain,b=d.style;let B=[];const T=Ti(u);if(u===void 0)return B;if(T!=="object")return B=B.concat([new At("terrain",u,`object expected, ${T} found`)]),B;for(const F in u)B=B.concat(y[F]?d.validateSpec({key:F,value:u[F],valueSpec:y[F],validateSpec:d.validateSpec,style:b,styleSpec:h}):[new At(F,u[F],`unknown property "${F}"`)]);return B}function Bd(d){let u=[];const h=d.value,y=d.key;if(Array.isArray(h)){const b=[],B=[];for(const T in h)h[T].id&&b.includes(h[T].id)&&u.push(new At(y,h,`all the sprites' ids must be unique, but ${h[T].id} is duplicated`)),b.push(h[T].id),h[T].url&&B.includes(h[T].url)&&u.push(new At(y,h,`all the sprites' URLs must be unique, but ${h[T].url} is duplicated`)),B.push(h[T].url),u=u.concat(Oo({key:`${y}[${T}]`,value:h[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return u}return uu({key:y,value:h})}const Rh={"*":()=>[],array:kp,boolean:function(d){const u=d.value,h=d.key,y=Ti(u);return y!=="boolean"?[new At(h,u,`boolean expected, ${y} found`)]:[]},number:Fh,color:function(d){const u=d.key,h=d.value,y=Ti(h);return y!=="string"?[new At(u,h,`color expected, ${y} found`)]:Gr.parse(String(h))?[]:[new At(u,h,`color expected, "${h}" found`)]},constants:Lh,enum:gc,filter:Nl,function:If,layer:oh,object:Oo,source:Tp,light:Bu,sky:yc,terrain:Om,projection:function(d){const u=d.value,h=d.styleSpec,y=h.projection,b=d.style,B=Ti(u);if(u===void 0)return[];if(B!=="object")return[new At("projection",u,`object expected, ${B} found`)];let T=[];for(const F in u)T=T.concat(y[F]?d.validateSpec({key:F,value:u[F],valueSpec:y[F],style:b,styleSpec:h}):[new At(F,u[F],`unknown property "${F}"`)]);return T},projectionDefinition:function(d){const u=d.key;let h=d.value;h=h instanceof String?h.valueOf():h;const y=Ti(h);return y!=="array"||function(b){return Array.isArray(b)&&b.length===3&&typeof b[0]=="string"&&typeof b[1]=="string"&&typeof b[2]=="number"}(h)||function(b){return!!["interpolate","step","literal"].includes(b[0])}(h)?["array","string"].includes(y)?[]:[new At(u,h,`projection expected, invalid type "${y}" found`)]:[new At(u,h,`projection expected, invalid array ${JSON.stringify(h)} found`)]},string:uu,formatted:function(d){return uu(d).length===0?[]:fA(d)},resolvedImage:function(d){return uu(d).length===0?[]:fA(d)},padding:function(d){const u=d.key,h=d.value;if(Ti(h)==="array"){if(h.length<1||h.length>4)return[new At(u,h,`padding requires 1 to 4 values; ${h.length} values found`)];const y={type:"number"};let b=[];for(let B=0;B<h.length;B++)b=b.concat(d.validateSpec({key:`${u}[${B}]`,value:h[B],validateSpec:d.validateSpec,valueSpec:y}));return b}return Fh({key:u,value:h,valueSpec:{}})},variableAnchorOffsetCollection:function(d){const u=d.key,h=d.value,y=Ti(h),b=d.styleSpec;if(y!=="array"||h.length<1||h.length%2!=0)return[new At(u,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let B=[];for(let T=0;T<h.length;T+=2)B=B.concat(gc({key:`${u}[${T}]`,value:h[T],valueSpec:b.layout_symbol["text-anchor"]})),B=B.concat(kp({key:`${u}[${T+1}]`,value:h[T+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:b}));return B},sprite:Bd};function Uh(d){const u=d.value,h=d.valueSpec,y=d.styleSpec;return d.validateSpec=Uh,h.expression&&RA(aa(u))?If(d):h.expression&&bl(yo(u))?fA(d):h.type&&Rh[h.type]?Rh[h.type](d):Oo(yn({},d,{valueSpec:h.type?y[h.type]:h}))}function ze(d){const u=d.value,h=d.key,y=uu(d);return y.length||(u.indexOf("{fontstack}")===-1&&y.push(new At(h,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&y.push(new At(h,u,'"glyphs" url must include a "{range}" token'))),y}function Ha(d,u=Re){let h=[];return h=h.concat(Uh({key:"",value:d,valueSpec:u.$root,styleSpec:u,style:d,validateSpec:Uh,objectElementValidators:{glyphs:ze,"*":()=>[]}})),d.constants&&(h=h.concat(Lh({key:"constants",value:d.constants,style:d,styleSpec:u,validateSpec:Uh}))),Pi(h)}function To(d){return function(u){return d({...u,validateSpec:Uh})}}function Pi(d){return[].concat(d).sort((u,h)=>u.line-h.line)}function Pr(d){return function(...u){return Pi(d.apply(this,u))}}Ha.source=Pr(To(Tp)),Ha.sprite=Pr(To(Bd)),Ha.glyphs=Pr(To(ze)),Ha.light=Pr(To(Bu)),Ha.sky=Pr(To(yc)),Ha.terrain=Pr(To(Om)),Ha.layer=Pr(To(oh)),Ha.filter=Pr(To(Nl)),Ha.paintProperty=Pr(To(pA)),Ha.layoutProperty=Pr(To(Ou));const da=Ha,Id=da.light,V0=da.sky,Wl=da.paintProperty,Bm=da.layoutProperty;function Tf(d,u){let h=!1;if(u&&u.length)for(const y of u)d.fire(new jt(new Error(y.message))),h=!0;return h}class kd{constructor(u,h,y){const b=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const T=new Int32Array(this.arrayBuffer);u=T[0],this.d=(h=T[1])+2*(y=T[2]);for(let z=0;z<this.d*this.d;z++){const Q=T[3+z],J=T[3+z+1];b.push(Q===J?null:T.subarray(Q,J))}const F=T[3+b.length+1];this.keys=T.subarray(T[3+b.length],F),this.bboxes=T.subarray(F),this.insert=this._insertReadonly}else{this.d=h+2*y;for(let T=0;T<this.d*this.d;T++)b.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=u,this.padding=y,this.scale=h/u,this.uid=0;const B=y/h*u;this.min=-B,this.max=u+B}insert(u,h,y,b,B){this._forEachCell(h,y,b,B,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(h),this.bboxes.push(y),this.bboxes.push(b),this.bboxes.push(B)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,h,y,b,B,T){this.cells[B].push(T)}query(u,h,y,b,B){const T=this.min,F=this.max;if(u<=T&&h<=T&&F<=y&&F<=b&&!B)return Array.prototype.slice.call(this.keys);{const z=[];return this._forEachCell(u,h,y,b,this._queryCell,z,{},B),z}}_queryCell(u,h,y,b,B,T,F,z){const Q=this.cells[B];if(Q!==null){const J=this.keys,ae=this.bboxes;for(let ge=0;ge<Q.length;ge++){const Ce=Q[ge];if(F[Ce]===void 0){const Se=4*Ce;(z?z(ae[Se+0],ae[Se+1],ae[Se+2],ae[Se+3]):u<=ae[Se+2]&&h<=ae[Se+3]&&y>=ae[Se+0]&&b>=ae[Se+1])?(F[Ce]=!0,T.push(J[Ce])):F[Ce]=!1}}}}_forEachCell(u,h,y,b,B,T,F,z){const Q=this._convertToCellCoord(u),J=this._convertToCellCoord(h),ae=this._convertToCellCoord(y),ge=this._convertToCellCoord(b);for(let Ce=Q;Ce<=ae;Ce++)for(let Se=J;Se<=ge;Se++){const Le=this.d*Se+Ce;if((!z||z(this._convertFromCellCoord(Ce),this._convertFromCellCoord(Se),this._convertFromCellCoord(Ce+1),this._convertFromCellCoord(Se+1)))&&B.call(this,u,h,y,b,Le,T,F,z))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,h=3+this.cells.length+1+1;let y=0;for(let T=0;T<this.cells.length;T++)y+=this.cells[T].length;const b=new Int32Array(h+y+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;let B=h;for(let T=0;T<u.length;T++){const F=u[T];b[3+T]=B,b.set(F,B),B+=F.length}return b[3+u.length]=B,b.set(this.keys,B),B+=this.keys.length,b[3+u.length+1]=B,b.set(this.bboxes,B),B+=this.bboxes.length,b.buffer}static serialize(u,h){const y=u.toArrayBuffer();return h&&h.push(y),{buffer:y}}static deserialize(u){return new kd(u.buffer)}}const Au={};function ir(d,u,h={}){if(Au[d])throw new Error(`${d} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:d,writeable:!1}),Au[d]={klass:u,omit:h.omit||[],shallow:h.shallow||[]}}ir("Object",Object),ir("TransferableGridIndex",kd),ir("Color",Gr),ir("Error",Error),ir("AJAXError",gi),ir("ResolvedImage",so),ir("StylePropertyFunction",eh),ir("StyleExpression",su,{omit:["_evaluator"]}),ir("ZoomDependentExpression",lu),ir("ZoomConstantExpression",Sd),ir("CompoundExpression",Pt,{omit:["_evaluate"]});for(const d in zl)zl[d]._classRegistryKey||ir(`Expression_${d}`,zl[d]);function ol(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&d.constructor.name==="ArrayBuffer")}function Pp(d){return d.$name||d.constructor._classRegistryKey}function vc(d){return!function(u){if(u===null||typeof u!="object")return!1;const h=Pp(u);return!(!h||h==="Object")}(d)&&(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error||ol(d)||nn(d)||ArrayBuffer.isView(d)||d instanceof ImageData)}function ah(d,u){if(vc(d))return(ol(d)||nn(d))&&u&&u.push(d),ArrayBuffer.isView(d)&&u&&u.push(d.buffer),d instanceof ImageData&&u&&u.push(d.data.buffer),d;if(Array.isArray(d)){const B=[];for(const T of d)B.push(ah(T,u));return B}if(typeof d!="object")throw new Error("can't serialize object of type "+typeof d);const h=Pp(d);if(!h)throw new Error(`can't serialize object of unregistered class ${d.constructor.name}`);if(!Au[h])throw new Error(`${h} is not registered.`);const{klass:y}=Au[h],b=y.serialize?y.serialize(d,u):{};if(y.serialize){if(u&&b===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const B in d){if(!d.hasOwnProperty(B)||Au[h].omit.indexOf(B)>=0)continue;const T=d[B];b[B]=Au[h].shallow.indexOf(B)>=0?T:ah(T,u)}d instanceof Error&&(b.message=d.message)}if(b.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(b.$name=h),b}function jh(d){if(vc(d))return d;if(Array.isArray(d))return d.map(jh);if(typeof d!="object")throw new Error("can't deserialize object of type "+typeof d);const u=Pp(d)||"Object";if(!Au[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:h}=Au[u];if(!h)throw new Error(`can't deserialize unregistered class ${u}`);if(h.deserialize)return h.deserialize(d);const y=Object.create(h.prototype);for(const b of Object.keys(d)){if(b==="$name")continue;const B=d[b];y[b]=Au[u].shallow.indexOf(b)>=0?B:jh(B)}return y}class zh{constructor(){this.first=!0}update(u,h){const y=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=h),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=y,!0))}}const ui={"Latin-1 Supplement":d=>d>=128&&d<=255,"Hangul Jamo":d=>d>=4352&&d<=4607,Khmer:d=>d>=6016&&d<=6143,"General Punctuation":d=>d>=8192&&d<=8303,"Letterlike Symbols":d=>d>=8448&&d<=8527,"Number Forms":d=>d>=8528&&d<=8591,"Miscellaneous Technical":d=>d>=8960&&d<=9215,"Control Pictures":d=>d>=9216&&d<=9279,"Optical Character Recognition":d=>d>=9280&&d<=9311,"Enclosed Alphanumerics":d=>d>=9312&&d<=9471,"Geometric Shapes":d=>d>=9632&&d<=9727,"Miscellaneous Symbols":d=>d>=9728&&d<=9983,"Miscellaneous Symbols and Arrows":d=>d>=11008&&d<=11263,"Ideographic Description Characters":d=>d>=12272&&d<=12287,"CJK Symbols and Punctuation":d=>d>=12288&&d<=12351,Katakana:d=>d>=12448&&d<=12543,Kanbun:d=>d>=12688&&d<=12703,"CJK Strokes":d=>d>=12736&&d<=12783,"Enclosed CJK Letters and Months":d=>d>=12800&&d<=13055,"CJK Compatibility":d=>d>=13056&&d<=13311,"Yijing Hexagram Symbols":d=>d>=19904&&d<=19967,"Private Use Area":d=>d>=57344&&d<=63743,"Vertical Forms":d=>d>=65040&&d<=65055,"CJK Compatibility Forms":d=>d>=65072&&d<=65103,"Small Form Variants":d=>d>=65104&&d<=65135,"Halfwidth and Fullwidth Forms":d=>d>=65280&&d<=65519};function Nh(d){for(const u of d)if(Pd(u.charCodeAt(0)))return!0;return!1}function _c(d){for(const u of d)if(!mA(u.charCodeAt(0)))return!1;return!0}function Pf(d){const u=d.map(h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}}).filter(h=>h);return new RegExp(u.join("|"),"u")}const Td=Pf(["Arab","Dupl","Mong","Ougr","Syrc"]);function mA(d){return!Td.test(String.fromCodePoint(d))}const gA=Pf(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Pd(d){return!(d!==746&&d!==747&&(d<4352||!(ui["CJK Compatibility Forms"](d)&&!(d>=65097&&d<=65103)||ui["CJK Compatibility"](d)||ui["CJK Strokes"](d)||!(!ui["CJK Symbols and Punctuation"](d)||d>=12296&&d<=12305||d>=12308&&d<=12319||d===12336)||ui["Enclosed CJK Letters and Months"](d)||ui["Ideographic Description Characters"](d)||ui.Kanbun(d)||ui.Katakana(d)&&d!==12540||!(!ui["Halfwidth and Fullwidth Forms"](d)||d===65288||d===65289||d===65293||d>=65306&&d<=65310||d===65339||d===65341||d===65343||d>=65371&&d<=65503||d===65507||d>=65512&&d<=65519)||!(!ui["Small Form Variants"](d)||d>=65112&&d<=65118||d>=65123&&d<=65126)||ui["Vertical Forms"](d)||ui["Yijing Hexagram Symbols"](d)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(d))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(d))||gA.test(String.fromCodePoint(d)))))}function Kf(d){return!(Pd(d)||function(u){return!!(ui["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||ui["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||ui["Letterlike Symbols"](u)||ui["Number Forms"](u)||ui["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||ui["Control Pictures"](u)&&u!==9251||ui["Optical Character Recognition"](u)||ui["Enclosed Alphanumerics"](u)||ui["Geometric Shapes"](u)||ui["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||ui["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||ui["CJK Symbols and Punctuation"](u)||ui.Katakana(u)||ui["Private Use Area"](u)||ui["CJK Compatibility Forms"](u)||ui["Small Form Variants"](u)||ui["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(d))}const Ea=Pf(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function co(d){return Ea.test(String.fromCodePoint(d))}function Zu(d,u){return!(!u&&co(d)||d>=2304&&d<=3583||d>=3840&&d<=4255||ui.Khmer(d))}function WA(d){for(const u of d)if(co(u.charCodeAt(0)))return!0;return!1}const al=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(d){this.pluginStatus=d.pluginStatus,this.pluginURL=d.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(d){if(al.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=d.applyArabicShaping,this.processBidirectionalText=d.processBidirectionalText,this.processStyledBidirectionalText=d.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(d,u){return a(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(d.pluginStatus!=="loading")return this.setState(d),d;const h=d.pluginURL,y=new Promise(B=>{this.loadScriptResolve=B});u(h);const b=new Promise(B=>setTimeout(()=>B(),this.TIMEOUT));if(yield Promise.race([y,b]),this.isParsed()){const B={pluginStatus:"loaded",pluginURL:h};return this.setState(B),B}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${h}`)})}};class Ho{constructor(u,h){this.zoom=u,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.zoomHistory=h.zoomHistory,this.transition=h.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new zh,this.transition={})}isSupportedScript(u){return function(h,y){for(const b of h)if(!Zu(b.charCodeAt(0),y))return!1;return!0}(u,al.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,h=u-Math.floor(u),y=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*h}}}class sh{constructor(u,h){this.property=u,this.value=h,this.expression=function(y,b){if(RA(y))return new eh(y,b);if(bl(y)){const B=Ed(y,b);if(B.result==="error")throw new Error(B.value.map(T=>`${T.key}: ${T.message}`).join(", "));return B.value}{let B=y;return b.type==="color"&&typeof y=="string"?B=Gr.parse(y):b.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(y)?B=Aa.parse(y):b.type==="projectionDefinition"&&typeof y=="string"&&(B=ca.parse(y)):B=di.parse(y),{kind:"constant",evaluate:()=>B}}}(h===void 0?u.specification.default:h,u.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(u,h,y){return this.property.possiblyEvaluate(this,u,h,y)}}class Kd{constructor(u){this.property=u,this.value=new sh(u,void 0)}transitioned(u,h){return new Dd(this.property,this.value,h,St({},u.transition,this.transition),u.now)}untransitioned(){return new Dd(this.property,this.value,null,{},0)}}class Kp{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return ye(this._values[u].value.value)}setValue(u,h){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Kd(this._values[u].property)),this._values[u].value=new sh(this._values[u].property,h===null?void 0:ye(h))}getTransition(u){return ye(this._values[u].transition)}setTransition(u,h){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Kd(this._values[u].property)),this._values[u].transition=ye(h)||void 0}serialize(){const u={};for(const h of Object.keys(this._values)){const y=this.getValue(h);y!==void 0&&(u[h]=y);const b=this.getTransition(h);b!==void 0&&(u[`${h}-transition`]=b)}return u}transitioned(u,h){const y=new GA(this._properties);for(const b of Object.keys(this._values))y._values[b]=this._values[b].transitioned(u,h._values[b]);return y}untransitioned(){const u=new GA(this._properties);for(const h of Object.keys(this._values))u._values[h]=this._values[h].untransitioned();return u}}class Dd{constructor(u,h,y,b,B){this.property=u,this.value=h,this.begin=B+b.delay||0,this.end=this.begin+b.duration||0,u.specification.transition&&(b.delay||b.duration)&&(this.prior=y)}possiblyEvaluate(u,h,y){const b=u.now||0,B=this.value.possiblyEvaluate(u,h,y),T=this.prior;if(T){if(b>this.end)return this.prior=null,B;if(this.value.isDataDriven())return this.prior=null,B;if(b<this.begin)return T.possiblyEvaluate(u,h,y);{const F=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(u,h,y),B,$e(F))}}return B}}class GA{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,h,y){const b=new Xu(this._properties);for(const B of Object.keys(this._values))b._values[B]=this._values[B].possiblyEvaluate(u,h,y);return b}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class lh{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return this._values[u].value!==void 0}getValue(u){return ye(this._values[u].value)}setValue(u,h){this._values[u]=new sh(this._values[u].property,h===null?void 0:ye(h))}serialize(){const u={};for(const h of Object.keys(this._values)){const y=this.getValue(h);y!==void 0&&(u[h]=y)}return u}possiblyEvaluate(u,h,y){const b=new Xu(this._properties);for(const B of Object.keys(this._values))b._values[B]=this._values[B].possiblyEvaluate(u,h,y);return b}}class Bs{constructor(u,h,y){this.property=u,this.value=h,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,h,y,b){return this.property.evaluate(this.value,this.parameters,u,h,y,b)}}class Xu{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class Cr{constructor(u){this.specification=u}possiblyEvaluate(u,h){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(h)}interpolate(u,h,y){const b=ri[this.specification.type];return b?b(u,h,y):u}}class jr{constructor(u,h){this.specification=u,this.overrides=h}possiblyEvaluate(u,h,y,b){return new Bs(this,u.expression.kind==="constant"||u.expression.kind==="camera"?{kind:"constant",value:u.expression.evaluate(h,null,{},y,b)}:u.expression,h)}interpolate(u,h,y){if(u.value.kind!=="constant"||h.value.kind!=="constant")return u;if(u.value.value===void 0||h.value.value===void 0)return new Bs(this,{kind:"constant",value:void 0},u.parameters);const b=ri[this.specification.type];if(b){const B=b(u.value.value,h.value.value,y);return new Bs(this,{kind:"constant",value:B},u.parameters)}return u}evaluate(u,h,y,b,B,T){return u.kind==="constant"?u.value:u.evaluate(h,y,b,B,T)}}class Iu extends jr{possiblyEvaluate(u,h,y,b){if(u.value===void 0)return new Bs(this,{kind:"constant",value:void 0},h);if(u.expression.kind==="constant"){const B=u.expression.evaluate(h,null,{},y,b),T=u.property.specification.type==="resolvedImage"&&typeof B!="string"?B.name:B,F=this._calculate(T,T,T,h);return new Bs(this,{kind:"constant",value:F},h)}if(u.expression.kind==="camera"){const B=this._calculate(u.expression.evaluate({zoom:h.zoom-1}),u.expression.evaluate({zoom:h.zoom}),u.expression.evaluate({zoom:h.zoom+1}),h);return new Bs(this,{kind:"constant",value:B},h)}return new Bs(this,u.expression,h)}evaluate(u,h,y,b,B,T){if(u.kind==="source"){const F=u.evaluate(h,y,b,B,T);return this._calculate(F,F,F,h)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(h.zoom)-1},y,b),u.evaluate({zoom:Math.floor(h.zoom)},y,b),u.evaluate({zoom:Math.floor(h.zoom)+1},y,b),h):u.value}_calculate(u,h,y,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:u,to:h}:{from:y,to:h}}interpolate(u){return u}}class QA{constructor(u){this.specification=u}possiblyEvaluate(u,h,y,b){if(u.value!==void 0){if(u.expression.kind==="constant"){const B=u.expression.evaluate(h,null,{},y,b);return this._calculate(B,B,B,h)}return this._calculate(u.expression.evaluate(new Ho(Math.floor(h.zoom-1),h)),u.expression.evaluate(new Ho(Math.floor(h.zoom),h)),u.expression.evaluate(new Ho(Math.floor(h.zoom+1),h)),h)}}_calculate(u,h,y,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:u,to:h}:{from:y,to:h}}interpolate(u){return u}}class ku{constructor(u){this.specification=u}possiblyEvaluate(u,h,y,b){return!!u.expression.evaluate(h,null,{},y,b)}interpolate(){return!1}}class Zo{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in u){const y=u[h];y.specification.overridable&&this.overridableProperties.push(h);const b=this.defaultPropertyValues[h]=new sh(y,void 0),B=this.defaultTransitionablePropertyValues[h]=new Kd(y);this.defaultTransitioningPropertyValues[h]=B.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=b.possiblyEvaluate({})}}}ir("DataDrivenProperty",jr),ir("DataConstantProperty",Cr),ir("CrossFadedDataDrivenProperty",Iu),ir("CrossFadedProperty",QA),ir("ColorRampProperty",ku);const Im="-transition";class Tu extends cr{constructor(u,h){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),h.layout&&(this._unevaluatedLayout=new lh(h.layout)),h.paint)){this._transitionablePaint=new Kp(h.paint);for(const y in u.paint)this.setPaintProperty(y,u.paint[y],{validate:!1});for(const y in u.layout)this.setLayoutProperty(y,u.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xu(h.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,h,y={}){h!=null&&this._validate(Bm,`layers.${this.id}.layout.${u}`,u,h,y)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,h):this.visibility=h)}getPaintProperty(u){return u.endsWith(Im)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,h,y={}){if(h!=null&&this._validate(Wl,`layers.${this.id}.paint.${u}`,u,h,y))return!1;if(u.endsWith(Im))return this._transitionablePaint.setTransition(u.slice(0,-11),h||void 0),!1;{const b=this._transitionablePaint._values[u],B=b.property.specification["property-type"]==="cross-faded-data-driven",T=b.value.isDataDriven(),F=b.value;this._transitionablePaint.setValue(u,h),this._handleSpecialPaintPropertyUpdate(u);const z=this._transitionablePaint._values[u].value;return z.isDataDriven()||T||B||this._handleOverridablePaintPropertyUpdate(u,F,z)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,h,y){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,h){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,h)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),Fe(u,(h,y)=>!(h===void 0||y==="layout"&&!Object.keys(h).length||y==="paint"&&!Object.keys(h).length))}_validate(u,h,y,b,B={}){return(!B||B.validate!==!1)&&Tf(this,u.call(da,{key:h,layerType:this.type,objectKey:y,value:b,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const h=this.paint.get(u);if(h instanceof Bs&&FA(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const km={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class $A{constructor(u,h){this._structArray=u,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class vo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,h){return u._trim(),h&&(u.isTransferred=!0,h.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const h=Object.create(this.prototype);return h.arrayBuffer=u.arrayBuffer,h.length=u.length,h.capacity=u.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Go(d,u=1){let h=0,y=0;return{members:d.map(b=>{const B=km[b.type].BYTES_PER_ELEMENT,T=h=Tm(h,Math.max(u,B)),F=b.components||1;return y=Math.max(y,B),h+=B*F,{name:b.name,type:b.type,components:F,offset:T}}),size:Tm(h,Math.max(y,u)),alignment:u}}function Tm(d,u){return Math.ceil(d/u)*u}class Cc extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const b=2*u;return this.int16[b+0]=h,this.int16[b+1]=y,u}}Cc.prototype.bytesPerElement=4,ir("StructArrayLayout2i4",Cc);class Ld extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y){const b=this.length;return this.resize(b+1),this.emplace(b,u,h,y)}emplace(u,h,y,b){const B=3*u;return this.int16[B+0]=h,this.int16[B+1]=y,this.int16[B+2]=b,u}}Ld.prototype.bytesPerElement=6,ir("StructArrayLayout3i6",Ld);class yA extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b){const B=this.length;return this.resize(B+1),this.emplace(B,u,h,y,b)}emplace(u,h,y,b,B){const T=4*u;return this.int16[T+0]=h,this.int16[T+1]=y,this.int16[T+2]=b,this.int16[T+3]=B,u}}yA.prototype.bytesPerElement=8,ir("StructArrayLayout4i8",yA);class za extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T){const F=this.length;return this.resize(F+1),this.emplace(F,u,h,y,b,B,T)}emplace(u,h,y,b,B,T,F){const z=6*u;return this.int16[z+0]=h,this.int16[z+1]=y,this.int16[z+2]=b,this.int16[z+3]=B,this.int16[z+4]=T,this.int16[z+5]=F,u}}za.prototype.bytesPerElement=12,ir("StructArrayLayout2i4i12",za);class bc extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T){const F=this.length;return this.resize(F+1),this.emplace(F,u,h,y,b,B,T)}emplace(u,h,y,b,B,T,F){const z=4*u,Q=8*u;return this.int16[z+0]=h,this.int16[z+1]=y,this.uint8[Q+4]=b,this.uint8[Q+5]=B,this.uint8[Q+6]=T,this.uint8[Q+7]=F,u}}bc.prototype.bytesPerElement=8,ir("StructArrayLayout2i4ub8",bc);class cu extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const b=2*u;return this.float32[b+0]=h,this.float32[b+1]=y,u}}cu.prototype.bytesPerElement=8,ir("StructArrayLayout2f8",cu);class xl extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T,F,z,Q,J){const ae=this.length;return this.resize(ae+1),this.emplace(ae,u,h,y,b,B,T,F,z,Q,J)}emplace(u,h,y,b,B,T,F,z,Q,J,ae){const ge=10*u;return this.uint16[ge+0]=h,this.uint16[ge+1]=y,this.uint16[ge+2]=b,this.uint16[ge+3]=B,this.uint16[ge+4]=T,this.uint16[ge+5]=F,this.uint16[ge+6]=z,this.uint16[ge+7]=Q,this.uint16[ge+8]=J,this.uint16[ge+9]=ae,u}}xl.prototype.bytesPerElement=20,ir("StructArrayLayout10ui20",xl);class xc extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T,F,z,Q,J,ae,ge){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,u,h,y,b,B,T,F,z,Q,J,ae,ge)}emplace(u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce){const Se=12*u;return this.int16[Se+0]=h,this.int16[Se+1]=y,this.int16[Se+2]=b,this.int16[Se+3]=B,this.uint16[Se+4]=T,this.uint16[Se+5]=F,this.uint16[Se+6]=z,this.uint16[Se+7]=Q,this.int16[Se+8]=J,this.int16[Se+9]=ae,this.int16[Se+10]=ge,this.int16[Se+11]=Ce,u}}xc.prototype.bytesPerElement=24,ir("StructArrayLayout4i4ui4i24",xc);class uh extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y){const b=this.length;return this.resize(b+1),this.emplace(b,u,h,y)}emplace(u,h,y,b){const B=3*u;return this.float32[B+0]=h,this.float32[B+1]=y,this.float32[B+2]=b,u}}uh.prototype.bytesPerElement=12,ir("StructArrayLayout3f12",uh);class Pu extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.uint32[1*u+0]=h,u}}Pu.prototype.bytesPerElement=4,ir("StructArrayLayout1ul4",Pu);class Za extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T,F,z,Q){const J=this.length;return this.resize(J+1),this.emplace(J,u,h,y,b,B,T,F,z,Q)}emplace(u,h,y,b,B,T,F,z,Q,J){const ae=10*u,ge=5*u;return this.int16[ae+0]=h,this.int16[ae+1]=y,this.int16[ae+2]=b,this.int16[ae+3]=B,this.int16[ae+4]=T,this.int16[ae+5]=F,this.uint32[ge+3]=z,this.uint16[ae+8]=Q,this.uint16[ae+9]=J,u}}Za.prototype.bytesPerElement=20,ir("StructArrayLayout6i1ul2ui20",Za);class Oa extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T){const F=this.length;return this.resize(F+1),this.emplace(F,u,h,y,b,B,T)}emplace(u,h,y,b,B,T,F){const z=6*u;return this.int16[z+0]=h,this.int16[z+1]=y,this.int16[z+2]=b,this.int16[z+3]=B,this.int16[z+4]=T,this.int16[z+5]=F,u}}Oa.prototype.bytesPerElement=12,ir("StructArrayLayout2i2i2i12",Oa);class vA extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B){const T=this.length;return this.resize(T+1),this.emplace(T,u,h,y,b,B)}emplace(u,h,y,b,B,T){const F=4*u,z=8*u;return this.float32[F+0]=h,this.float32[F+1]=y,this.float32[F+2]=b,this.int16[z+6]=B,this.int16[z+7]=T,u}}vA.prototype.bytesPerElement=16,ir("StructArrayLayout2f1f2i16",vA);class Df extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T){const F=this.length;return this.resize(F+1),this.emplace(F,u,h,y,b,B,T)}emplace(u,h,y,b,B,T,F){const z=16*u,Q=4*u,J=8*u;return this.uint8[z+0]=h,this.uint8[z+1]=y,this.float32[Q+1]=b,this.float32[Q+2]=B,this.int16[J+6]=T,this.int16[J+7]=F,u}}Df.prototype.bytesPerElement=16,ir("StructArrayLayout2ub2f2i16",Df);class Wh extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y){const b=this.length;return this.resize(b+1),this.emplace(b,u,h,y)}emplace(u,h,y,b){const B=3*u;return this.uint16[B+0]=h,this.uint16[B+1]=y,this.uint16[B+2]=b,u}}Wh.prototype.bytesPerElement=6,ir("StructArrayLayout3ui6",Wh);class Ku extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je)}emplace(u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt){const ut=24*u,ve=12*u,Ne=48*u;return this.int16[ut+0]=h,this.int16[ut+1]=y,this.uint16[ut+2]=b,this.uint16[ut+3]=B,this.uint32[ve+2]=T,this.uint32[ve+3]=F,this.uint32[ve+4]=z,this.uint16[ut+10]=Q,this.uint16[ut+11]=J,this.uint16[ut+12]=ae,this.float32[ve+7]=ge,this.float32[ve+8]=Ce,this.uint8[Ne+36]=Se,this.uint8[Ne+37]=Le,this.uint8[Ne+38]=Qe,this.uint32[ve+10]=Je,this.int16[ut+22]=Mt,u}}Ku.prototype.bytesPerElement=48,ir("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ku);class wc extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt,ut,ve,Ne,dt,Wt,bn,Ht,an,Bn,Cn){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt,ut,ve,Ne,dt,Wt,bn,Ht,an,Bn,Cn)}emplace(u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt,ut,ve,Ne,dt,Wt,bn,Ht,an,Bn,Cn,Rn){const hn=32*u,fr=16*u;return this.int16[hn+0]=h,this.int16[hn+1]=y,this.int16[hn+2]=b,this.int16[hn+3]=B,this.int16[hn+4]=T,this.int16[hn+5]=F,this.int16[hn+6]=z,this.int16[hn+7]=Q,this.uint16[hn+8]=J,this.uint16[hn+9]=ae,this.uint16[hn+10]=ge,this.uint16[hn+11]=Ce,this.uint16[hn+12]=Se,this.uint16[hn+13]=Le,this.uint16[hn+14]=Qe,this.uint16[hn+15]=Je,this.uint16[hn+16]=Mt,this.uint16[hn+17]=ut,this.uint16[hn+18]=ve,this.uint16[hn+19]=Ne,this.uint16[hn+20]=dt,this.uint16[hn+21]=Wt,this.uint16[hn+22]=bn,this.uint32[fr+12]=Ht,this.float32[fr+13]=an,this.float32[fr+14]=Bn,this.uint16[hn+30]=Cn,this.uint16[hn+31]=Rn,u}}wc.prototype.bytesPerElement=64,ir("StructArrayLayout8i15ui1ul2f2ui64",wc);class Fd extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.float32[1*u+0]=h,u}}Fd.prototype.bytesPerElement=4,ir("StructArrayLayout1f4",Fd);class YA extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y){const b=this.length;return this.resize(b+1),this.emplace(b,u,h,y)}emplace(u,h,y,b){const B=3*u;return this.uint16[6*u+0]=h,this.float32[B+1]=y,this.float32[B+2]=b,u}}YA.prototype.bytesPerElement=12,ir("StructArrayLayout1ui2f12",YA);class Rd extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y){const b=this.length;return this.resize(b+1),this.emplace(b,u,h,y)}emplace(u,h,y,b){const B=4*u;return this.uint32[2*u+0]=h,this.uint16[B+2]=y,this.uint16[B+3]=b,u}}Rd.prototype.bytesPerElement=8,ir("StructArrayLayout1ul2ui8",Rd);class S extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const b=2*u;return this.uint16[b+0]=h,this.uint16[b+1]=y,u}}S.prototype.bytesPerElement=4,ir("StructArrayLayout2ui4",S);class l extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.uint16[1*u+0]=h,u}}l.prototype.bytesPerElement=2,ir("StructArrayLayout1ui2",l);class c extends vo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,b){const B=this.length;return this.resize(B+1),this.emplace(B,u,h,y,b)}emplace(u,h,y,b,B){const T=4*u;return this.float32[T+0]=h,this.float32[T+1]=y,this.float32[T+2]=b,this.float32[T+3]=B,u}}c.prototype.bytesPerElement=16,ir("StructArrayLayout4f16",c);class v extends $A{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new L(this.anchorPointX,this.anchorPointY)}}v.prototype.size=20;class x extends Za{get(u){return new v(this,u)}}ir("CollisionBoxArray",x);class O extends $A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}O.prototype.size=48;class D extends Ku{get(u){return new O(this,u)}}ir("PlacedSymbolArray",D);class U extends $A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}U.prototype.size=64;class W extends wc{get(u){return new U(this,u)}}ir("SymbolInstanceArray",W);class $ extends Fd{getoffsetX(u){return this.float32[1*u+0]}}ir("GlyphOffsetArray",$);class ue extends Ld{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}ir("SymbolLineVertexArray",ue);class fe extends $A{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}fe.prototype.size=12;class me extends YA{get(u){return new fe(this,u)}}ir("TextAnchorOffsetArray",me);class Ie extends $A{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ie.prototype.size=8;class De extends Rd{get(u){return new Ie(this,u)}}ir("FeatureIndexArray",De);class He extends Cc{}class Ve extends Cc{}class Ze extends Cc{}class et extends za{}class ct extends bc{}class mt extends cu{}class vt extends xl{}class Et extends xc{}class xt extends uh{}class zt extends Pu{}class Ft extends Oa{}class ln extends Df{}class An extends Wh{}class on extends S{}const fn=Go([{name:"a_pos",components:2,type:"Int16"}],4),{members:Un}=fn;class cn{constructor(u=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=u}prepareSegment(u,h,y,b){const B=this.segments[this.segments.length-1];return u>cn.MAX_VERTEX_ARRAY_LENGTH&&Ge(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${cn.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!B||B.vertexLength+u>cn.MAX_VERTEX_ARRAY_LENGTH||B.sortKey!==b?this.createNewSegment(h,y,b):B}createNewSegment(u,h,y){const b={vertexOffset:u.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return y!==void 0&&(b.sortKey=y),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(b),b}getOrCreateLatestSegment(u,h,y){return this.prepareSegment(0,u,h,y)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const u of this.segments)for(const h in u.vaos)u.vaos[h].destroy()}static simpleSegment(u,h,y,b){return new cn([{vertexOffset:u,primitiveOffset:h,vertexLength:y,primitiveLength:b,vaos:{},sortKey:0}])}}function ur(d,u){return 256*(d=en(Math.floor(d),0,255))+en(Math.floor(u),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ir("SegmentVector",cn);const Ai=Go([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ho,fa,fi,Mo={exports:{}},So={exports:{}},to={exports:{}},$i=function(){if(fi)return Mo.exports;fi=1;var d=(ho||(ho=1,So.exports=function(h,y){var b,B,T,F,z,Q,J,ae;for(B=h.length-(b=3&h.length),T=y,z=3432918353,Q=461845907,ae=0;ae<B;)J=255&h.charCodeAt(ae)|(255&h.charCodeAt(++ae))<<8|(255&h.charCodeAt(++ae))<<16|(255&h.charCodeAt(++ae))<<24,++ae,T=27492+(65535&(F=5*(65535&(T=(T^=J=(65535&(J=(J=(65535&J)*z+(((J>>>16)*z&65535)<<16)&4294967295)<<15|J>>>17))*Q+(((J>>>16)*Q&65535)<<16)&4294967295)<<13|T>>>19))+((5*(T>>>16)&65535)<<16)&4294967295))+((58964+(F>>>16)&65535)<<16);switch(J=0,b){case 3:J^=(255&h.charCodeAt(ae+2))<<16;case 2:J^=(255&h.charCodeAt(ae+1))<<8;case 1:T^=J=(65535&(J=(J=(65535&(J^=255&h.charCodeAt(ae)))*z+(((J>>>16)*z&65535)<<16)&4294967295)<<15|J>>>17))*Q+(((J>>>16)*Q&65535)<<16)&4294967295}return T^=h.length,T=2246822507*(65535&(T^=T>>>16))+((2246822507*(T>>>16)&65535)<<16)&4294967295,T=3266489909*(65535&(T^=T>>>13))+((3266489909*(T>>>16)&65535)<<16)&4294967295,(T^=T>>>16)>>>0}),So.exports),u=(fa||(fa=1,to.exports=function(h,y){for(var b,B=h.length,T=y^B,F=0;B>=4;)b=1540483477*(65535&(b=255&h.charCodeAt(F)|(255&h.charCodeAt(++F))<<8|(255&h.charCodeAt(++F))<<16|(255&h.charCodeAt(++F))<<24))+((1540483477*(b>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^(b=1540483477*(65535&(b^=b>>>24))+((1540483477*(b>>>16)&65535)<<16)),B-=4,++F;switch(B){case 3:T^=(255&h.charCodeAt(F+2))<<16;case 2:T^=(255&h.charCodeAt(F+1))<<8;case 1:T=1540483477*(65535&(T^=255&h.charCodeAt(F)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0}),to.exports);return Mo.exports=d,Mo.exports.murmur3=d,Mo.exports.murmur2=u,Mo.exports}(),Xa=f($i);class _o{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,h,y,b){this.ids.push(Po(u)),this.positions.push(h,y,b)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=Po(u);let y=0,b=this.ids.length-1;for(;y<b;){const T=y+b>>1;this.ids[T]>=h?b=T:y=T+1}const B=[];for(;this.ids[y]===h;)B.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return B}static serialize(u,h){const y=new Float64Array(u.ids),b=new Uint32Array(u.positions);return gs(y,b,0,y.length-1),h&&h.push(y.buffer,b.buffer),{ids:y,positions:b}}static deserialize(u){const h=new _o;return h.ids=u.ids,h.positions=u.positions,h.indexed=!0,h}}function Po(d){const u=+d;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:Xa(String(d))}function gs(d,u,h,y){for(;h<y;){const b=d[h+y>>1];let B=h-1,T=y+1;for(;;){do B++;while(d[B]<b);do T--;while(d[T]>b);if(B>=T)break;Du(d,B,T),Du(u,3*B,3*T),Du(u,3*B+1,3*T+1),Du(u,3*B+2,3*T+2)}T-h<y-T?(gs(d,u,h,T),h=T+1):(gs(d,u,T+1,y),y=T)}}function Du(d,u,h){const y=d[u];d[u]=d[h],d[h]=y}ir("FeaturePositionMap",_o);class zs{constructor(u,h){this.gl=u.gl,this.location=h}}class Gl extends zs{constructor(u,h){super(u,h),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class Ql extends zs{constructor(u,h){super(u,h),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class Mc extends zs{constructor(u,h){super(u,h),this.current=Gr.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const Sc=new Float32Array(16);function Lu(d){return[ur(255*d.r,255*d.g),ur(255*d.b,255*d.a)]}class Ba{constructor(u,h,y){this.value=u,this.uniformNames=h.map(b=>`u_${b}`),this.type=y}setUniform(u,h,y){u.set(y.constantOr(this.value))}getBinding(u,h,y){return this.type==="color"?new Mc(u,h):new Gl(u,h)}}class Ns{constructor(u,h){this.uniformNames=h.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=u.tlbr}setUniform(u,h,y,b){const B=b==="u_pattern_to"?this.patternTo:b==="u_pattern_from"?this.patternFrom:b==="u_pixel_ratio_to"?this.pixelRatioTo:b==="u_pixel_ratio_from"?this.pixelRatioFrom:null;B&&u.set(B)}getBinding(u,h,y){return y.substr(0,9)==="u_pattern"?new Ql(u,h):new Gl(u,h)}}class Ia{constructor(u,h,y,b){this.expression=u,this.type=y,this.maxValue=0,this.paintVertexAttributes=h.map(B=>({name:`a_${B}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new b}populatePaintArray(u,h,y,b,B){const T=this.paintVertexArray.length,F=this.expression.evaluate(new Ho(0),h,{},b,[],B);this.paintVertexArray.resize(u),this._setPaintValue(T,u,F)}updatePaintArray(u,h,y,b){const B=this.expression.evaluate({zoom:0},y,b);this._setPaintValue(u,h,B)}_setPaintValue(u,h,y){if(this.type==="color"){const b=Lu(y);for(let B=u;B<h;B++)this.paintVertexArray.emplace(B,b[0],b[1])}else{for(let b=u;b<h;b++)this.paintVertexArray.emplace(b,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class sl{constructor(u,h,y,b,B,T){this.expression=u,this.uniformNames=h.map(F=>`u_${F}_t`),this.type=y,this.useIntegerZoom=b,this.zoom=B,this.maxValue=0,this.paintVertexAttributes=h.map(F=>({name:`a_${F}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(u,h,y,b,B){const T=this.expression.evaluate(new Ho(this.zoom),h,{},b,[],B),F=this.expression.evaluate(new Ho(this.zoom+1),h,{},b,[],B),z=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(z,u,T,F)}updatePaintArray(u,h,y,b){const B=this.expression.evaluate({zoom:this.zoom},y,b),T=this.expression.evaluate({zoom:this.zoom+1},y,b);this._setPaintValue(u,h,B,T)}_setPaintValue(u,h,y,b){if(this.type==="color"){const B=Lu(y),T=Lu(b);for(let F=u;F<h;F++)this.paintVertexArray.emplace(F,B[0],B[1],T[0],T[1])}else{for(let B=u;B<h;B++)this.paintVertexArray.emplace(B,y,b);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(b))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,h){const y=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,b=en(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);u.set(b)}getBinding(u,h,y){return new Gl(u,h)}}class Qo{constructor(u,h,y,b,B,T){this.expression=u,this.type=h,this.useIntegerZoom=y,this.zoom=b,this.layerId=T,this.zoomInPaintVertexArray=new B,this.zoomOutPaintVertexArray=new B}populatePaintArray(u,h,y){const b=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(b,u,h.patterns&&h.patterns[this.layerId],y)}updatePaintArray(u,h,y,b,B){this._setPaintValues(u,h,y.patterns&&y.patterns[this.layerId],B)}_setPaintValues(u,h,y,b){if(!b||!y)return;const{min:B,mid:T,max:F}=y,z=b[B],Q=b[T],J=b[F];if(z&&Q&&J)for(let ae=u;ae<h;ae++)this.zoomInPaintVertexArray.emplace(ae,Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],Q.pixelRatio,z.pixelRatio),this.zoomOutPaintVertexArray.emplace(ae,Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],J.tl[0],J.tl[1],J.br[0],J.br[1],Q.pixelRatio,J.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,Ai.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,Ai.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class va{constructor(u,h,y){this.binders={},this._buffers=[];const b=[];for(const B in u.paint._values){if(!y(B))continue;const T=u.paint.get(B);if(!(T instanceof Bs&&FA(T.property.specification)))continue;const F=ks(B,u.type),z=T.value,Q=T.property.specification.type,J=T.property.useIntegerZoom,ae=T.property.specification["property-type"],ge=ae==="cross-faded"||ae==="cross-faded-data-driven";if(z.kind==="constant")this.binders[B]=ge?new Ns(z.value,F):new Ba(z.value,F,Q),b.push(`/u_${B}`);else if(z.kind==="source"||ge){const Ce=Gh(B,Q,"source");this.binders[B]=ge?new Qo(z,Q,J,h,Ce,u.id):new Ia(z,F,Q,Ce),b.push(`/a_${B}`)}else{const Ce=Gh(B,Q,"composite");this.binders[B]=new sl(z,F,Q,J,h,Ce),b.push(`/z_${B}`)}}this.cacheKey=b.sort().join("")}getMaxValue(u){const h=this.binders[u];return h instanceof Ia||h instanceof sl?h.maxValue:0}populatePaintArrays(u,h,y,b,B){for(const T in this.binders){const F=this.binders[T];(F instanceof Ia||F instanceof sl||F instanceof Qo)&&F.populatePaintArray(u,h,y,b,B)}}setConstantPatternPositions(u,h){for(const y in this.binders){const b=this.binders[y];b instanceof Ns&&b.setConstantPatternPositions(u,h)}}updatePaintArrays(u,h,y,b,B){let T=!1;for(const F in u){const z=h.getPositions(F);for(const Q of z){const J=y.feature(Q.index);for(const ae in this.binders){const ge=this.binders[ae];if((ge instanceof Ia||ge instanceof sl||ge instanceof Qo)&&ge.expression.isStateDependent===!0){const Ce=b.paint.get(ae);ge.expression=Ce.value,ge.updatePaintArray(Q.start,Q.end,J,u[F],B),T=!0}}}}return T}defines(){const u=[];for(const h in this.binders){const y=this.binders[h];(y instanceof Ba||y instanceof Ns)&&u.push(...y.uniformNames.map(b=>`#define HAS_UNIFORM_${b}`))}return u}getBinderAttributes(){const u=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof Ia||y instanceof sl)for(let b=0;b<y.paintVertexAttributes.length;b++)u.push(y.paintVertexAttributes[b].name);else if(y instanceof Qo)for(let b=0;b<Ai.members.length;b++)u.push(Ai.members[b].name)}return u}getBinderUniforms(){const u=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof Ba||y instanceof Ns||y instanceof sl)for(const b of y.uniformNames)u.push(b)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,h){const y=[];for(const b in this.binders){const B=this.binders[b];if(B instanceof Ba||B instanceof Ns||B instanceof sl){for(const T of B.uniformNames)if(h[T]){const F=B.getBinding(u,h[T],T);y.push({name:T,property:b,binding:F})}}}return y}setUniforms(u,h,y,b){for(const{name:B,property:T,binding:F}of h)this.binders[T].setUniform(F,b,y.get(T),B)}updatePaintBuffers(u){this._buffers=[];for(const h in this.binders){const y=this.binders[h];if(u&&y instanceof Qo){const b=u.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;b&&this._buffers.push(b)}else(y instanceof Ia||y instanceof sl)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(u){for(const h in this.binders){const y=this.binders[h];(y instanceof Ia||y instanceof sl||y instanceof Qo)&&y.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const h=this.binders[u];(h instanceof Ia||h instanceof sl||h instanceof Qo)&&h.destroy()}}}class Is{constructor(u,h,y=()=>!0){this.programConfigurations={};for(const b of u)this.programConfigurations[b.id]=new va(b,h,y);this.needsUpload=!1,this._featureMap=new _o,this._bufferOffset=0}populatePaintArrays(u,h,y,b,B,T){for(const F in this.programConfigurations)this.programConfigurations[F].populatePaintArrays(u,h,b,B,T);h.id!==void 0&&this._featureMap.add(h.id,y,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,h,y,b){for(const B of y)this.needsUpload=this.programConfigurations[B.id].updatePaintArrays(u,this._featureMap,h,B,b)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function ks(d,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(`${u}-`,"").replace(/-/g,"_")]}function Gh(d,u,h){const y={color:{source:cu,composite:c},number:{source:Fd,composite:cu}},b=function(B){return{"line-pattern":{source:vt,composite:vt},"fill-pattern":{source:vt,composite:vt},"fill-extrusion-pattern":{source:vt,composite:vt}}[B]}(d);return b&&b[h]||y[u][h]}ir("ConstantBinder",Ba),ir("CrossFadedConstantBinder",Ns),ir("SourceExpressionBinder",Ia),ir("CrossFadedCompositeBinder",Qo),ir("CompositeExpressionBinder",sl),ir("ProgramConfiguration",va,{omit:["_buffers"]}),ir("ProgramConfigurationSet",Is);const Ud=Math.pow(2,14)-1,Lf=-Ud-1;function Ah(d){const u=pt/d.extent,h=d.loadGeometry();for(let y=0;y<h.length;y++){const b=h[y];for(let B=0;B<b.length;B++){const T=b[B],F=Math.round(T.x*u),z=Math.round(T.y*u);T.x=en(F,Lf,Ud),T.y=en(z,Lf,Ud),(F<T.x||F>T.x+1||z<T.y||z>T.y+1)&&Ge("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function _A(d,u){return{type:d.type,id:d.id,properties:d.properties,geometry:u?Ah(d):[]}}const Ff=-32768;function Ja(d,u,h,y,b){d.emplaceBack(Ff+8*u+y,Ff+8*h+b)}class $l{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Ve,this.indexArray=new An,this.segments=new cn,this.programConfigurations=new Is(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){const b=this.layers[0],B=[];let T=null,F=!1,z=b.type==="heatmap";if(b.type==="circle"){const J=b;T=J.layout.get("circle-sort-key"),F=!T.isConstant(),z=z||J.paint.get("circle-pitch-alignment")==="map"}const Q=z?h.subdivisionGranularity.circle:1;for(const{feature:J,id:ae,index:ge,sourceLayerIndex:Ce}of u){const Se=this.layers[0]._featureFilter.needGeometry,Le=_A(J,Se);if(!this.layers[0]._featureFilter.filter(new Ho(this.zoom),Le,y))continue;const Qe=F?T.evaluate(Le,{},y):void 0,Je={id:ae,properties:J.properties,type:J.type,sourceLayerIndex:Ce,index:ge,geometry:Se?Le.geometry:Ah(J),patterns:{},sortKey:Qe};B.push(Je)}F&&B.sort((J,ae)=>J.sortKey-ae.sortKey);for(const J of B){const{geometry:ae,index:ge,sourceLayerIndex:Ce}=J,Se=u[ge].feature;this.addFeature(J,ae,ge,y,Q),h.featureIndex.insert(Se,ae,ge,Ce,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Un),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,h,y,b,B=1){let T;switch(B){case 1:T=[0,7];break;case 3:T=[0,2,5,7];break;case 5:T=[0,1,3,4,6,7];break;case 7:T=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${B}; valid values are 1, 3, 5, 7.`)}const F=T.length;for(const z of h)for(const Q of z){const J=Q.x,ae=Q.y;if(J<0||J>=pt||ae<0||ae>=pt)continue;const ge=this.segments.prepareSegment(F*F,this.layoutVertexArray,this.indexArray,u.sortKey),Ce=ge.vertexLength;for(let Se=0;Se<F;Se++)for(let Le=0;Le<F;Le++)Ja(this.layoutVertexArray,J,ae,T[Le],T[Se]);for(let Se=0;Se<F-1;Se++)for(let Le=0;Le<F-1;Le++){const Qe=Ce+Se*F+Le,Je=Ce+(Se+1)*F+Le;this.indexArray.emplaceBack(Qe,Je+1,Qe+1),this.indexArray.emplaceBack(Qe,Je,Je+1)}ge.vertexLength+=F*F,ge.primitiveLength+=(F-1)*(F-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,{},b)}}function Rf(d,u){for(let h=0;h<d.length;h++)if(Ec(u,d[h]))return!0;for(let h=0;h<u.length;h++)if(Ec(d,u[h]))return!0;return!!CA(d,u)}function Pm(d,u,h){return!!Ec(d,u)||!!Km(u,d,h)}function qA(d,u){if(d.length===1)return jd(u,d[0]);for(let h=0;h<u.length;h++){const y=u[h];for(let b=0;b<y.length;b++)if(Ec(d,y[b]))return!0}for(let h=0;h<d.length;h++)if(jd(u,d[h]))return!0;for(let h=0;h<u.length;h++)if(CA(d,u[h]))return!0;return!1}function Ju(d,u,h){if(d.length>1){if(CA(d,u))return!0;for(let y=0;y<u.length;y++)if(Km(u[y],d,h))return!0}for(let y=0;y<d.length;y++)if(Km(d[y],u,h))return!0;return!1}function CA(d,u){if(d.length===0||u.length===0)return!1;for(let h=0;h<d.length-1;h++){const y=d[h],b=d[h+1];for(let B=0;B<u.length-1;B++)if(B1(y,b,u[B],u[B+1]))return!0}return!1}function B1(d,u,h,y){return st(d,h,y)!==st(u,h,y)&&st(d,u,h)!==st(d,u,y)}function Km(d,u,h){const y=h*h;if(u.length===1)return d.distSqr(u[0])<y;for(let b=1;b<u.length;b++)if(H0(d,u[b-1],u[b])<y)return!0;return!1}function H0(d,u,h){const y=u.distSqr(h);if(y===0)return d.distSqr(u);const b=((d.x-u.x)*(h.x-u.x)+(d.y-u.y)*(h.y-u.y))/y;return d.distSqr(b<0?u:b>1?h:h.sub(u)._mult(b)._add(u))}function jd(d,u){let h,y,b,B=!1;for(let T=0;T<d.length;T++){h=d[T];for(let F=0,z=h.length-1;F<h.length;z=F++)y=h[F],b=h[z],y.y>u.y!=b.y>u.y&&u.x<(b.x-y.x)*(u.y-y.y)/(b.y-y.y)+y.x&&(B=!B)}return B}function Ec(d,u){let h=!1;for(let y=0,b=d.length-1;y<d.length;b=y++){const B=d[y],T=d[b];B.y>u.y!=T.y>u.y&&u.x<(T.x-B.x)*(u.y-B.y)/(T.y-B.y)+B.x&&(h=!h)}return h}function c_(d,u,h){const y=h[0],b=h[2];if(d.x<y.x&&u.x<y.x||d.x>b.x&&u.x>b.x||d.y<y.y&&u.y<y.y||d.y>b.y&&u.y>b.y)return!1;const B=st(d,u,h[0]);return B!==st(d,u,h[1])||B!==st(d,u,h[2])||B!==st(d,u,h[3])}function zd(d,u,h){const y=u.paint.get(d).value;return y.kind==="constant"?y.value:h.programConfigurations.get(u.id).getMaxValue(d)}function Dp(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function Nd(d,u,h,y,b){if(!u[0]&&!u[1])return d;const B=L.convert(u)._mult(b);h==="viewport"&&B._rotate(-y);const T=[];for(let F=0;F<d.length;F++)T.push(d[F].sub(B));return T}let Dm,Wd;ir("CircleBucket",$l,{omit:["layers"]});var Lm={get paint(){return Wd=Wd||new Zo({"circle-radius":new jr(Re.paint_circle["circle-radius"]),"circle-color":new jr(Re.paint_circle["circle-color"]),"circle-blur":new jr(Re.paint_circle["circle-blur"]),"circle-opacity":new jr(Re.paint_circle["circle-opacity"]),"circle-translate":new Cr(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new Cr(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Cr(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Cr(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new jr(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new jr(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new jr(Re.paint_circle["circle-stroke-opacity"])})},get layout(){return Dm=Dm||new Zo({"circle-sort-key":new jr(Re.layout_circle["circle-sort-key"])})}};class Fm extends Tu{constructor(u){super(u,Lm)}createBucket(u){return new $l(u)}queryRadius(u){const h=u;return zd("circle-radius",this,h)+zd("circle-stroke-width",this,h)+Dp(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:u,feature:h,featureState:y,geometry:b,transform:B,pixelsToTileUnits:T,pixelPosMatrix:F}){const z=Nd(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-B.bearingInRadians,T),Q=this.paint.get("circle-radius").evaluate(h,y)+this.paint.get("circle-stroke-width").evaluate(h,y),J=this.paint.get("circle-pitch-alignment")==="map",ae=J?z:function(Ce,Se){return Ce.map(Le=>Z0(Le,Se))}(z,F),ge=J?Q*T:Q;for(const Ce of b)for(const Se of Ce){const Le=J?Se:Z0(Se,F);let Qe=ge;const Je=Ue([],[Se.x,Se.y,0,1],F);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Qe*=Je[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Qe*=B.cameraToCenterDistance/Je[3]),Pm(ae,Le,Qe))return!0}return!1}}function Z0(d,u){const h=Ue([],[d.x,d.y,0,1],u);return new L(h[0]/h[3],h[1]/h[3])}class Qh extends $l{}let Uf;ir("HeatmapBucket",Qh,{omit:["layers"]});var Lp={get paint(){return Uf=Uf||new Zo({"heatmap-radius":new jr(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new jr(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Cr(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ku(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Cr(Re.paint_heatmap["heatmap-opacity"])})}};function Fp(d,{width:u,height:h},y,b){if(b){if(b instanceof Uint8ClampedArray)b=new Uint8Array(b.buffer);else if(b.length!==u*h*y)throw new RangeError(`mismatched image size. expected: ${b.length} but got: ${u*h*y}`)}else b=new Uint8Array(u*h*y);return d.width=u,d.height=h,d.data=b,d}function I1(d,{width:u,height:h},y){if(u===d.width&&h===d.height)return;const b=Fp({},{width:u,height:h},y);Rm(d,b,{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,u),height:Math.min(d.height,h)},y),d.width=u,d.height=h,d.data=b.data}function Rm(d,u,h,y,b,B){if(b.width===0||b.height===0)return u;if(b.width>d.width||b.height>d.height||h.x>d.width-b.width||h.y>d.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>u.width||b.height>u.height||y.x>u.width-b.width||y.y>u.height-b.height)throw new RangeError("out of range destination coordinates for image copy");const T=d.data,F=u.data;if(T===F)throw new Error("srcData equals dstData, so image is already copied");for(let z=0;z<b.height;z++){const Q=((h.y+z)*d.width+h.x)*B,J=((y.y+z)*u.width+y.x)*B;for(let ae=0;ae<b.width*B;ae++)F[J+ae]=T[Q+ae]}return u}class uo{constructor(u,h){Fp(this,u,1,h)}resize(u){I1(this,u,1)}clone(){return new uo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,h,y,b,B){Rm(u,h,y,b,B,1)}}class Fu{constructor(u,h){Fp(this,u,4,h)}resize(u){I1(this,u,4)}replace(u,h){h?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new Fu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,h,y,b,B){Rm(u,h,y,b,B,4)}}function Rp(d){const u={},h=d.resolution||256,y=d.clips?d.clips.length:1,b=d.image||new Fu({width:h,height:y});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const B=(T,F,z)=>{u[d.evaluationKey]=z;const Q=d.expression.evaluate(u);b.data[T+F+0]=Math.floor(255*Q.r/Q.a),b.data[T+F+1]=Math.floor(255*Q.g/Q.a),b.data[T+F+2]=Math.floor(255*Q.b/Q.a),b.data[T+F+3]=Math.floor(255*Q.a)};if(d.clips)for(let T=0,F=0;T<y;++T,F+=4*h)for(let z=0,Q=0;z<h;z++,Q+=4){const J=z/(h-1),{start:ae,end:ge}=d.clips[T];B(F,Q,ae*(1-J)+ge*J)}else for(let T=0,F=0;T<h;T++,F+=4)B(0,F,T/(h-1));return b}ir("AlphaImage",uo),ir("RGBAImage",Fu);const Gd="big-fb";class bA extends Tu{createBucket(u){return new Qh(u)}constructor(u){super(u,Lp),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Rp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Gd)&&this.heatmapFbos.delete(Gd)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Up;var X0={get paint(){return Up=Up||new Zo({"hillshade-illumination-direction":new Cr(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Cr(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Cr(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Cr(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Cr(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Cr(Re.paint_hillshade["hillshade-accent-color"])})}};class Oc extends Tu{constructor(u){super(u,X0)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Um=Go([{name:"a_pos",components:2,type:"Int16"}],4),{members:jm}=Um;function Qd(d,u,h){const y=h.patternDependencies;let b=!1;for(const B of u){const T=B.paint.get(`${d}-pattern`);T.isConstant()||(b=!0);const F=T.constantOr(null);F&&(b=!0,y[F.to]=!0,y[F.from]=!0)}return b}function $d(d,u,h,y,b){const B=b.patternDependencies;for(const T of u){const F=T.paint.get(`${d}-pattern`).value;if(F.kind!=="constant"){let z=F.evaluate({zoom:y-1},h,{},b.availableImages),Q=F.evaluate({zoom:y},h,{},b.availableImages),J=F.evaluate({zoom:y+1},h,{},b.availableImages);z=z&&z.name?z.name:z,Q=Q&&Q.name?Q.name:Q,J=J&&J.name?J.name:J,B[z]=!0,B[Q]=!0,B[J]=!0,h.patterns[T.id]={min:z,mid:Q,max:J}}}return h}function Yd(d,u,h,y,b){let B;if(b===function(T,F,z,Q){let J=0;for(let ae=F,ge=z-Q;ae<z;ae+=Q)J+=(T[ge]-T[ae])*(T[ae+1]+T[ge+1]),ge=ae;return J}(d,u,h,y)>0)for(let T=u;T<h;T+=y)B=le(T/y|0,d[T],d[T+1],B);else for(let T=h-y;T>=u;T-=y)B=le(T/y|0,d[T],d[T+1],B);return B&&g(B,B.next)&&(de(B),B=B.next),B}function Qr(d,u){if(!d)return d;u||(u=d);let h,y=d;do if(h=!1,y.steiner||!g(y,y.next)&&A(y.prev,y,y.next)!==0)y=y.next;else{if(de(y),y=u=y.prev,y===y.next)break;h=!0}while(h||y!==u);return u}function ch(d,u,h,y,b,B,T){if(!d)return;!T&&B&&function(z,Q,J,ae){let ge=z;do ge.z===0&&(ge.z=Fa(ge.x,ge.y,Q,J,ae)),ge.prevZ=ge.prev,ge.nextZ=ge.next,ge=ge.next;while(ge!==z);ge.prevZ.nextZ=null,ge.prevZ=null,function(Ce){let Se,Le=1;do{let Qe,Je=Ce;Ce=null;let Mt=null;for(Se=0;Je;){Se++;let ut=Je,ve=0;for(let dt=0;dt<Le&&(ve++,ut=ut.nextZ,ut);dt++);let Ne=Le;for(;ve>0||Ne>0&&ut;)ve!==0&&(Ne===0||!ut||Je.z<=ut.z)?(Qe=Je,Je=Je.nextZ,ve--):(Qe=ut,ut=ut.nextZ,Ne--),Mt?Mt.nextZ=Qe:Ce=Qe,Qe.prevZ=Mt,Mt=Qe;Je=ut}Mt.nextZ=null,Le*=2}while(Se>1)}(ge)}(d,y,b,B);let F=d;for(;d.prev!==d.next;){const z=d.prev,Q=d.next;if(B?$h(d,y,b,B):Ko(d))u.push(z.i,d.i,Q.i),de(d),d=Q.next,F=Q.next;else if((d=Q)===F){T?T===1?ch(d=h_(Qr(d),u),u,h,y,b,B,2):T===2&&Yh(d,u,h,y,b,B):ch(Qr(d),u,h,y,b,B,1);break}}}function Ko(d){const u=d.prev,h=d,y=d.next;if(A(u,h,y)>=0)return!1;const b=u.x,B=h.x,T=y.x,F=u.y,z=h.y,Q=y.y,J=Math.min(b,B,T),ae=Math.min(F,z,Q),ge=Math.max(b,B,T),Ce=Math.max(F,z,Q);let Se=y.next;for(;Se!==u;){if(Se.x>=J&&Se.x<=ge&&Se.y>=ae&&Se.y<=Ce&&jf(b,F,B,z,T,Q,Se.x,Se.y)&&A(Se.prev,Se,Se.next)>=0)return!1;Se=Se.next}return!0}function $h(d,u,h,y){const b=d.prev,B=d,T=d.next;if(A(b,B,T)>=0)return!1;const F=b.x,z=B.x,Q=T.x,J=b.y,ae=B.y,ge=T.y,Ce=Math.min(F,z,Q),Se=Math.min(J,ae,ge),Le=Math.max(F,z,Q),Qe=Math.max(J,ae,ge),Je=Fa(Ce,Se,u,h,y),Mt=Fa(Le,Qe,u,h,y);let ut=d.prevZ,ve=d.nextZ;for(;ut&&ut.z>=Je&&ve&&ve.z<=Mt;){if(ut.x>=Ce&&ut.x<=Le&&ut.y>=Se&&ut.y<=Qe&&ut!==b&&ut!==T&&jf(F,J,z,ae,Q,ge,ut.x,ut.y)&&A(ut.prev,ut,ut.next)>=0||(ut=ut.prevZ,ve.x>=Ce&&ve.x<=Le&&ve.y>=Se&&ve.y<=Qe&&ve!==b&&ve!==T&&jf(F,J,z,ae,Q,ge,ve.x,ve.y)&&A(ve.prev,ve,ve.next)>=0))return!1;ve=ve.nextZ}for(;ut&&ut.z>=Je;){if(ut.x>=Ce&&ut.x<=Le&&ut.y>=Se&&ut.y<=Qe&&ut!==b&&ut!==T&&jf(F,J,z,ae,Q,ge,ut.x,ut.y)&&A(ut.prev,ut,ut.next)>=0)return!1;ut=ut.prevZ}for(;ve&&ve.z<=Mt;){if(ve.x>=Ce&&ve.x<=Le&&ve.y>=Se&&ve.y<=Qe&&ve!==b&&ve!==T&&jf(F,J,z,ae,Q,ge,ve.x,ve.y)&&A(ve.prev,ve,ve.next)>=0)return!1;ve=ve.nextZ}return!0}function h_(d,u){let h=d;do{const y=h.prev,b=h.next.next;!g(y,b)&&M(y,h,h.next,b)&&j(y,b)&&j(b,y)&&(u.push(y.i,h.i,b.i),de(h),de(h.next),h=d=b),h=h.next}while(h!==d);return Qr(h)}function Yh(d,u,h,y,b,B){let T=d;do{let F=T.next.next;for(;F!==T.prev;){if(T.i!==F.i&&zm(T,F)){let z=Z(T,F);return T=Qr(T,T.next),z=Qr(z,z.next),ch(T,u,h,y,b,B,0),void ch(z,u,h,y,b,B,0)}F=F.next}T=T.next}while(T!==d)}function k1(d,u){let h=d.x-u.x;return h===0&&(h=d.y-u.y,h===0)&&(h=(d.next.y-d.y)/(d.next.x-d.x)-(u.next.y-u.y)/(u.next.x-u.x)),h}function Ws(d,u){const h=function(b,B){let T=B;const F=b.x,z=b.y;let Q,J=-1/0;if(g(b,T))return T;do{if(g(b,T.next))return T.next;if(z<=T.y&&z>=T.next.y&&T.next.y!==T.y){const Le=T.x+(z-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Le<=F&&Le>J&&(J=Le,Q=T.x<T.next.x?T:T.next,Le===F))return Q}T=T.next}while(T!==B);if(!Q)return null;const ae=Q,ge=Q.x,Ce=Q.y;let Se=1/0;T=Q;do{if(F>=T.x&&T.x>=ge&&F!==T.x&&P1(z<Ce?F:J,z,ge,Ce,z<Ce?J:F,z,T.x,T.y)){const Le=Math.abs(z-T.y)/(F-T.x);j(T,b)&&(Le<Se||Le===Se&&(T.x>Q.x||T.x===Q.x&&d_(Q,T)))&&(Q=T,Se=Le)}T=T.next}while(T!==ae);return Q}(d,u);if(!h)return u;const y=Z(h,d);return Qr(y,y.next),Qr(h,h.next)}function d_(d,u){return A(d.prev,d,u.prev)<0&&A(u.next,d,d.next)<0}function Fa(d,u,h,y,b){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-h)*b|0)|d<<8))|d<<4))|d<<2))|d<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-y)*b|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function T1(d){let u=d,h=d;do(u.x<h.x||u.x===h.x&&u.y<h.y)&&(h=u),u=u.next;while(u!==d);return h}function P1(d,u,h,y,b,B,T,F){return(b-T)*(u-F)>=(d-T)*(B-F)&&(d-T)*(y-F)>=(h-T)*(u-F)&&(h-T)*(B-F)>=(b-T)*(y-F)}function jf(d,u,h,y,b,B,T,F){return!(d===T&&u===F)&&P1(d,u,h,y,b,B,T,F)}function zm(d,u){return d.next.i!==u.i&&d.prev.i!==u.i&&!function(h,y){let b=h;do{if(b.i!==h.i&&b.next.i!==h.i&&b.i!==y.i&&b.next.i!==y.i&&M(b,b.next,h,y))return!0;b=b.next}while(b!==h);return!1}(d,u)&&(j(d,u)&&j(u,d)&&function(h,y){let b=h,B=!1;const T=(h.x+y.x)/2,F=(h.y+y.y)/2;do b.y>F!=b.next.y>F&&b.next.y!==b.y&&T<(b.next.x-b.x)*(F-b.y)/(b.next.y-b.y)+b.x&&(B=!B),b=b.next;while(b!==h);return B}(d,u)&&(A(d.prev,d,u.prev)||A(d,u.prev,u))||g(d,u)&&A(d.prev,d,d.next)>0&&A(u.prev,u,u.next)>0)}function A(d,u,h){return(u.y-d.y)*(h.x-u.x)-(u.x-d.x)*(h.y-u.y)}function g(d,u){return d.x===u.x&&d.y===u.y}function M(d,u,h,y){const b=P(A(d,u,h)),B=P(A(d,u,y)),T=P(A(h,y,d)),F=P(A(h,y,u));return b!==B&&T!==F||!(b!==0||!w(d,h,u))||!(B!==0||!w(d,y,u))||!(T!==0||!w(h,d,y))||!(F!==0||!w(h,u,y))}function w(d,u,h){return u.x<=Math.max(d.x,h.x)&&u.x>=Math.min(d.x,h.x)&&u.y<=Math.max(d.y,h.y)&&u.y>=Math.min(d.y,h.y)}function P(d){return d>0?1:d<0?-1:0}function j(d,u){return A(d.prev,d,d.next)<0?A(d,u,d.next)>=0&&A(d,d.prev,u)>=0:A(d,u,d.prev)<0||A(d,d.next,u)<0}function Z(d,u){const h=xe(d.i,d.x,d.y),y=xe(u.i,u.x,u.y),b=d.next,B=u.prev;return d.next=u,u.prev=d,h.next=b,b.prev=h,y.next=h,h.prev=y,B.next=y,y.prev=B,y}function le(d,u,h,y){const b=xe(d,u,h);return y?(b.next=y.next,b.prev=y,y.next.prev=b,y.next=b):(b.prev=b,b.next=b),b}function de(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function xe(d,u,h){return{i:d,x:u,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Xe{constructor(u,h){if(h>u)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=u,this._minGranularity=h}getGranularityForZoomLevel(u){return Math.max(Math.floor(this._baseZoomGranularity/(1<<u)),this._minGranularity,1)}}class at{constructor(u){this.fill=u.fill,this.line=u.line,this.tile=u.tile,this.stencil=u.stencil,this.circle=u.circle}}at.noSubdivision=new at({fill:new Xe(0,0),line:new Xe(0,0),tile:new Xe(0,0),stencil:new Xe(0,0),circle:1}),ir("SubdivisionGranularityExpression",Xe),ir("SubdivisionGranularitySetting",at);const Kt=-32768,It=32767;class un{constructor(u,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=u,this._granularityCellSize=pt/u,this._canonical=h}_getKey(u,h){return(u+=32768)<<16|(h+=32768)<<0}_vertexToIndex(u,h){if(u<-32768||h<-32768||u>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const y=0|Math.round(u),b=0|Math.round(h),B=this._getKey(y,b);if(this._vertexDictionary.has(B))return this._vertexDictionary.get(B);const T=this._vertexBuffer.length/2;return this._vertexDictionary.set(B,T),this._vertexBuffer.push(y,b),T}_subdivideTrianglesScanline(u){if(this._granularity<2)return function(b,B){const T=[];for(let F=0;F<B.length;F+=3){const z=B[F],Q=B[F+1],J=B[F+2],ae=b[2*z],ge=b[2*z+1];(b[2*Q]-ae)*(b[2*J+1]-ge)-(b[2*Q+1]-ge)*(b[2*J]-ae)>0?(T.push(z),T.push(J),T.push(Q)):(T.push(z),T.push(Q),T.push(J))}return T}(this._vertexBuffer,u);const h=[],y=u.length;for(let b=0;b<y;b+=3){const B=[u[b+0],u[b+1],u[b+2]],T=[this._vertexBuffer[2*u[b+0]+0],this._vertexBuffer[2*u[b+0]+1],this._vertexBuffer[2*u[b+1]+0],this._vertexBuffer[2*u[b+1]+1],this._vertexBuffer[2*u[b+2]+0],this._vertexBuffer[2*u[b+2]+1]];let F=1/0,z=1/0,Q=-1/0,J=-1/0;for(let Le=0;Le<3;Le++){const Qe=T[2*Le],Je=T[2*Le+1];F=Math.min(F,Qe),Q=Math.max(Q,Qe),z=Math.min(z,Je),J=Math.max(J,Je)}if(F===Q||z===J)continue;const ae=Math.floor(F/this._granularityCellSize),ge=Math.ceil(Q/this._granularityCellSize),Ce=Math.floor(z/this._granularityCellSize),Se=Math.ceil(J/this._granularityCellSize);if(ae!==ge||Ce!==Se)for(let Le=Ce;Le<Se;Le++){const Qe=this._scanlineGenerateVertexRingForCellRow(Le,T,B);Hn(this._vertexBuffer,Qe,h)}else h.push(...B)}return h}_scanlineGenerateVertexRingForCellRow(u,h,y){const b=u*this._granularityCellSize,B=b+this._granularityCellSize,T=[];for(let F=0;F<3;F++){const z=h[2*F],Q=h[2*F+1],J=h[2*(F+1)%6],ae=h[(2*(F+1)+1)%6],ge=h[2*(F+2)%6],Ce=h[(2*(F+2)+1)%6],Se=J-z,Le=ae-Q,Qe=Se===0,Je=Le===0,Mt=(b-Q)/Le,ut=(B-Q)/Le,ve=Math.min(Mt,ut),Ne=Math.max(Mt,ut);if(!Je&&(ve>=1||Ne<=0)||Je&&(Q<b||Q>B)){ae>=b&&ae<=B&&T.push(y[(F+1)%3]);continue}!Je&&ve>0&&T.push(this._vertexToIndex(z+Se*ve,Q+Le*ve));const dt=z+Se*Math.max(ve,0),Wt=z+Se*Math.min(Ne,1);Qe||this._generateIntraEdgeVertices(T,z,Q,J,ae,dt,Wt),!Je&&Ne<1&&T.push(this._vertexToIndex(z+Se*Ne,Q+Le*Ne)),(Je||ae>=b&&ae<=B)&&T.push(y[(F+1)%3]),!Je&&(ae<=b||ae>=B)&&this._generateInterEdgeVertices(T,z,Q,J,ae,ge,Ce,Wt,b,B)}return T}_generateIntraEdgeVertices(u,h,y,b,B,T,F){const z=b-h,Q=B-y,J=Q===0,ae=J?Math.min(h,b):Math.min(T,F),ge=J?Math.max(h,b):Math.max(T,F),Ce=Math.floor(ae/this._granularityCellSize)+1,Se=Math.ceil(ge/this._granularityCellSize)-1;if(J?h<b:T<F)for(let Le=Ce;Le<=Se;Le++){const Qe=Le*this._granularityCellSize;u.push(this._vertexToIndex(Qe,y+Q*(Qe-h)/z))}else for(let Le=Se;Le>=Ce;Le--){const Qe=Le*this._granularityCellSize;u.push(this._vertexToIndex(Qe,y+Q*(Qe-h)/z))}}_generateInterEdgeVertices(u,h,y,b,B,T,F,z,Q,J){const ae=B-y,ge=T-b,Ce=F-B,Se=(Q-B)/Ce,Le=(J-B)/Ce,Qe=Math.min(Se,Le),Je=Math.max(Se,Le),Mt=b+ge*Qe;let ut=Math.floor(Math.min(Mt,z)/this._granularityCellSize)+1,ve=Math.ceil(Math.max(Mt,z)/this._granularityCellSize)-1,Ne=z<Mt;const dt=Ce===0;if(dt&&(F===Q||F===J))return;if(dt||Qe>=1||Je<=0){const bn=y-F,Ht=T+(h-T)*Math.min((Q-F)/bn,(J-F)/bn);ut=Math.floor(Math.min(Ht,z)/this._granularityCellSize)+1,ve=Math.ceil(Math.max(Ht,z)/this._granularityCellSize)-1,Ne=z<Ht}const Wt=ae>0?J:Q;if(Ne)for(let bn=ut;bn<=ve;bn++)u.push(this._vertexToIndex(bn*this._granularityCellSize,Wt));else for(let bn=ve;bn>=ut;bn--)u.push(this._vertexToIndex(bn*this._granularityCellSize,Wt))}_generateOutline(u){const h=[];for(const y of u){const b=Pn(y,this._granularity,!0),B=this._pointArrayToIndices(b),T=[];for(let F=1;F<B.length;F++)T.push(B[F-1]),T.push(B[F]);h.push(T)}return h}_handlePoles(u){let h=!1,y=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(y=!0)),(h||y)&&this._fillPoles(u,h,y)}_ensureNoPoleVertices(){const u=this._vertexBuffer;for(let h=0;h<u.length;h+=2){const y=u[h+1];y===Kt&&(u[h+1]=-32767),y===It&&(u[h+1]=32766)}}_generatePoleQuad(u,h,y,b,B,T){b>B!=(T===Kt)?(u.push(h),u.push(y),u.push(this._vertexToIndex(b,T)),u.push(y),u.push(this._vertexToIndex(B,T)),u.push(this._vertexToIndex(b,T))):(u.push(y),u.push(h),u.push(this._vertexToIndex(b,T)),u.push(this._vertexToIndex(B,T)),u.push(y),u.push(this._vertexToIndex(b,T)))}_fillPoles(u,h,y){const b=this._vertexBuffer,B=pt,T=u.length;for(let F=2;F<T;F+=3){const z=u[F-2],Q=u[F-1],J=u[F],ae=b[2*z],ge=b[2*z+1],Ce=b[2*Q],Se=b[2*Q+1],Le=b[2*J],Qe=b[2*J+1];h&&(ge===0&&Se===0&&this._generatePoleQuad(u,z,Q,ae,Ce,Kt),Se===0&&Qe===0&&this._generatePoleQuad(u,Q,J,Ce,Le,Kt),Qe===0&&ge===0&&this._generatePoleQuad(u,J,z,Le,ae,Kt)),y&&(ge===B&&Se===B&&this._generatePoleQuad(u,z,Q,ae,Ce,It),Se===B&&Qe===B&&this._generatePoleQuad(u,Q,J,Ce,Le,It),Qe===B&&ge===B&&this._generatePoleQuad(u,J,z,Le,ae,It))}}_initializeVertices(u){for(let h=0;h<u.length;h+=2)this._vertexToIndex(u[h],u[h+1])}subdividePolygonInternal(u,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:y,holeIndices:b}=function(F){const z=[],Q=[];for(const J of F)if(J.length!==0){J!==F[0]&&z.push(Q.length/2);for(let ae=0;ae<J.length;ae++)Q.push(J[ae].x),Q.push(J[ae].y)}return{flattened:Q,holeIndices:z}}(u);let B;this._initializeVertices(y);try{const F=function(Q,J,ae=2){const ge=J&&J.length,Ce=ge?J[0]*ae:Q.length;let Se=Yd(Q,0,Ce,ae,!0);const Le=[];if(!Se||Se.next===Se.prev)return Le;let Qe,Je,Mt;if(ge&&(Se=function(ut,ve,Ne,dt){const Wt=[];for(let bn=0,Ht=ve.length;bn<Ht;bn++){const an=Yd(ut,ve[bn]*dt,bn<Ht-1?ve[bn+1]*dt:ut.length,dt,!1);an===an.next&&(an.steiner=!0),Wt.push(T1(an))}Wt.sort(k1);for(let bn=0;bn<Wt.length;bn++)Ne=Ws(Wt[bn],Ne);return Ne}(Q,J,Se,ae)),Q.length>80*ae){Qe=1/0,Je=1/0;let ut=-1/0,ve=-1/0;for(let Ne=ae;Ne<Ce;Ne+=ae){const dt=Q[Ne],Wt=Q[Ne+1];dt<Qe&&(Qe=dt),Wt<Je&&(Je=Wt),dt>ut&&(ut=dt),Wt>ve&&(ve=Wt)}Mt=Math.max(ut-Qe,ve-Je),Mt=Mt!==0?32767/Mt:0}return ch(Se,Le,ae,Qe,Je,Mt,0),Le}(y,b),z=this._convertIndices(y,F);B=this._subdivideTrianglesScanline(z)}catch(F){console.error(F)}let T=[];return h&&(T=this._generateOutline(u)),this._ensureNoPoleVertices(),this._handlePoles(B),{verticesFlattened:this._vertexBuffer,indicesTriangles:B,indicesLineList:T}}_convertIndices(u,h){const y=[];for(let b=0;b<h.length;b++)y.push(this._vertexToIndex(u[2*h[b]],u[2*h[b]+1]));return y}_pointArrayToIndices(u){const h=[];for(let y=0;y<u.length;y++){const b=u[y];h.push(this._vertexToIndex(b.x,b.y))}return h}}function vn(d,u,h,y=!0){return new un(h,u).subdividePolygonInternal(d,y)}function Pn(d,u,h=!1){if(!d||d.length<1)return[];if(d.length<2)return[];const y=d[0],b=d[d.length-1],B=h&&(y.x!==b.x||y.y!==b.y);if(u<2)return B?[...d,d[0]]:[...d];const T=Math.floor(pt/u),F=[];F.push(new L(d[0].x,d[0].y));const z=d.length,Q=B?z:z-1;for(let J=0;J<Q;J++){const ae=d[J],ge=J<z-1?d[J+1]:d[0],Ce=ae.x,Se=ae.y,Le=ge.x,Qe=ge.y,Je=Ce!==Le,Mt=Se!==Qe;if(!Je&&!Mt)continue;const ut=Le-Ce,ve=Qe-Se,Ne=Math.abs(ut),dt=Math.abs(ve);let Wt=Ce,bn=Se;for(;;){const an=ut>0?(Math.floor(Wt/T)+1)*T:(Math.ceil(Wt/T)-1)*T,Bn=ve>0?(Math.floor(bn/T)+1)*T:(Math.ceil(bn/T)-1)*T,Cn=Math.abs(Wt-an),Rn=Math.abs(bn-Bn),hn=Math.abs(Wt-Le),fr=Math.abs(bn-Qe),dr=Je?Cn/Ne:Number.POSITIVE_INFINITY,pr=Mt?Rn/dt:Number.POSITIVE_INFINITY;if((hn<=Cn||!Je)&&(fr<=Rn||!Mt))break;if(dr<pr&&Je||!Mt){Wt=an,bn+=ve*dr;const Ir=new L(Wt,Math.round(bn));F[F.length-1].x===Ir.x&&F[F.length-1].y===Ir.y||F.push(Ir)}else{Wt+=ut*pr,bn=Bn;const Ir=new L(Math.round(Wt),bn);F[F.length-1].x===Ir.x&&F[F.length-1].y===Ir.y||F.push(Ir)}}const Ht=new L(Le,Qe);F[F.length-1].x===Ht.x&&F[F.length-1].y===Ht.y||F.push(Ht)}return F}function Hn(d,u,h){if(u.length===0)throw new Error("Subdivision vertex ring is empty.");let y=0,b=d[2*u[0]];for(let z=1;z<u.length;z++){const Q=d[2*u[z]];Q<b&&(b=Q,y=z)}const B=u.length;let T=y,F=(T+1)%B;for(;;){const z=T-1>=0?T-1:B-1,Q=(F+1)%B,J=d[2*u[z]],ae=d[2*u[Q]],ge=d[2*u[T]],Ce=d[2*u[T]+1],Se=d[2*u[F]+1];let Le=!1;if(J<ae)Le=!0;else if(J>ae)Le=!1;else{const Qe=Se-Ce,Je=-(d[2*u[F]]-ge),Mt=Ce<Se?1:-1;((J-ge)*Qe+(d[2*u[z]+1]-Ce)*Je)*Mt>((ae-ge)*Qe+(d[2*u[Q]+1]-Ce)*Je)*Mt&&(Le=!0)}if(Le){const Qe=u[z],Je=u[T],Mt=u[F];Qe!==Je&&Qe!==Mt&&Je!==Mt&&h.push(Mt,Je,Qe),T--,T<0&&(T=B-1)}else{const Qe=u[Q],Je=u[T],Mt=u[F];Qe!==Je&&Qe!==Mt&&Je!==Mt&&h.push(Mt,Je,Qe),F++,F>=B&&(F=0)}if(z===Q)break}}function or(d,u,h,y,b,B,T,F,z){const Q=b.length/2,J=T&&F&&z;if(Q<cn.MAX_VERTEX_ARRAY_LENGTH){const ae=u.prepareSegment(Q,h,y),ge=ae.vertexLength;for(let Le=0;Le<B.length;Le+=3)y.emplaceBack(ge+B[Le],ge+B[Le+1],ge+B[Le+2]);let Ce,Se;ae.vertexLength+=Q,ae.primitiveLength+=B.length/3,J&&(Se=T.prepareSegment(Q,h,F),Ce=Se.vertexLength,Se.vertexLength+=Q);for(let Le=0;Le<b.length;Le+=2)d(b[Le],b[Le+1]);if(J)for(let Le=0;Le<z.length;Le++){const Qe=z[Le];for(let Je=1;Je<Qe.length;Je+=2)F.emplaceBack(Ce+Qe[Je-1],Ce+Qe[Je]);Se.primitiveLength+=Qe.length/2}}else(function(ae,ge,Ce,Se,Le,Qe){const Je=[];for(let dt=0;dt<Se.length/2;dt++)Je.push(-1);const Mt={count:0};let ut=0,ve=ae.getOrCreateLatestSegment(ge,Ce),Ne=ve.vertexLength;for(let dt=2;dt<Le.length;dt+=3){const Wt=Le[dt-2],bn=Le[dt-1],Ht=Le[dt];let an=Je[Wt]<ut,Bn=Je[bn]<ut,Cn=Je[Ht]<ut;ve.vertexLength+((an?1:0)+(Bn?1:0)+(Cn?1:0))>cn.MAX_VERTEX_ARRAY_LENGTH&&(ve=ae.createNewSegment(ge,Ce),ut=Mt.count,an=!0,Bn=!0,Cn=!0,Ne=0);const Rn=Gn(Je,Se,Qe,Mt,Wt,an,ve),hn=Gn(Je,Se,Qe,Mt,bn,Bn,ve),fr=Gn(Je,Se,Qe,Mt,Ht,Cn,ve);Ce.emplaceBack(Ne+Rn-ut,Ne+hn-ut,Ne+fr-ut),ve.primitiveLength++}})(u,h,y,b,B,d),J&&function(ae,ge,Ce,Se,Le,Qe){const Je=[];for(let dt=0;dt<Se.length/2;dt++)Je.push(-1);const Mt={count:0};let ut=0,ve=ae.getOrCreateLatestSegment(ge,Ce),Ne=ve.vertexLength;for(let dt=0;dt<Le.length;dt++){const Wt=Le[dt];for(let bn=1;bn<Le[dt].length;bn+=2){const Ht=Wt[bn-1],an=Wt[bn];let Bn=Je[Ht]<ut,Cn=Je[an]<ut;ve.vertexLength+((Bn?1:0)+(Cn?1:0))>cn.MAX_VERTEX_ARRAY_LENGTH&&(ve=ae.createNewSegment(ge,Ce),ut=Mt.count,Bn=!0,Cn=!0,Ne=0);const Rn=Gn(Je,Se,Qe,Mt,Ht,Bn,ve),hn=Gn(Je,Se,Qe,Mt,an,Cn,ve);Ce.emplaceBack(Ne+Rn-ut,Ne+hn-ut),ve.primitiveLength++}}}(T,h,F,b,z,d),u.forceNewSegmentOnNextPrepare(),T==null||T.forceNewSegmentOnNextPrepare()}function Gn(d,u,h,y,b,B,T){if(B){const F=y.count;return h(u[2*b],u[2*b+1]),d[b]=y.count,y.count++,T.vertexLength++,F}return d[b]}class hr{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ze,this.indexArray=new An,this.indexArray2=new on,this.programConfigurations=new Is(u.layers,u.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.hasPattern=Qd("fill",this.layers,h);const b=this.layers[0].layout.get("fill-sort-key"),B=!b.isConstant(),T=[];for(const{feature:F,id:z,index:Q,sourceLayerIndex:J}of u){const ae=this.layers[0]._featureFilter.needGeometry,ge=_A(F,ae);if(!this.layers[0]._featureFilter.filter(new Ho(this.zoom),ge,y))continue;const Ce=B?b.evaluate(ge,{},y,h.availableImages):void 0,Se={id:z,properties:F.properties,type:F.type,sourceLayerIndex:J,index:Q,geometry:ae?ge.geometry:Ah(F),patterns:{},sortKey:Ce};T.push(Se)}B&&T.sort((F,z)=>F.sortKey-z.sortKey);for(const F of T){const{geometry:z,index:Q,sourceLayerIndex:J}=F;if(this.hasPattern){const ae=$d("fill",this.layers,F,this.zoom,h);this.patternFeatures.push(ae)}else this.addFeature(F,z,Q,y,{},h.subdivisionGranularity);h.featureIndex.insert(u[Q].feature,z,Q,J,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}addFeatures(u,h,y){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,h,y,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,jm),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,h,y,b,B,T){for(const F of Ac(h,500)){const z=vn(F,b,T.fill.getGranularityForZoomLevel(b.z)),Q=this.layoutVertexArray;or((J,ae)=>{Q.emplaceBack(J,ae)},this.segments,this.layoutVertexArray,this.indexArray,z.verticesFlattened,z.indicesTriangles,this.segments2,this.indexArray2,z.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,B,b)}}let Fr,Lr;ir("FillBucket",hr,{omit:["layers","patternFeatures"]});var Fi={get paint(){return Lr=Lr||new Zo({"fill-antialias":new Cr(Re.paint_fill["fill-antialias"]),"fill-opacity":new jr(Re.paint_fill["fill-opacity"]),"fill-color":new jr(Re.paint_fill["fill-color"]),"fill-outline-color":new jr(Re.paint_fill["fill-outline-color"]),"fill-translate":new Cr(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new Cr(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new Iu(Re.paint_fill["fill-pattern"])})},get layout(){return Fr=Fr||new Zo({"fill-sort-key":new jr(Re.layout_fill["fill-sort-key"])})}};class Xo extends Tu{constructor(u){super(u,Fi)}recalculate(u,h){super.recalculate(u,h);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new hr(u)}queryRadius(){return Dp(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:u,geometry:h,transform:y,pixelsToTileUnits:b}){return qA(Nd(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-y.bearingInRadians,b),h)}isTileClipped(){return!0}}const es=Go([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ka=Go([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Na}=es;var Wa,ts,ll,Gs,ns,rs,Ra,ul={};function qd(){if(ts)return Wa;ts=1;var d=k();function u(b,B,T,F,z){this.properties={},this.extent=T,this.type=0,this._pbf=b,this._geometry=-1,this._keys=F,this._values=z,b.readFields(h,this,B)}function h(b,B,T){b==1?B.id=T.readVarint():b==2?function(F,z){for(var Q=F.readVarint()+F.pos;F.pos<Q;){var J=z._keys[F.readVarint()],ae=z._values[F.readVarint()];z.properties[J]=ae}}(T,B):b==3?B.type=T.readVarint():b==4&&(B._geometry=T.pos)}function y(b){for(var B,T,F=0,z=0,Q=b.length,J=Q-1;z<Q;J=z++)F+=((T=b[J]).x-(B=b[z]).x)*(B.y+T.y);return F}return Wa=u,u.types=["Unknown","Point","LineString","Polygon"],u.prototype.loadGeometry=function(){var b=this._pbf;b.pos=this._geometry;for(var B,T=b.readVarint()+b.pos,F=1,z=0,Q=0,J=0,ae=[];b.pos<T;){if(z<=0){var ge=b.readVarint();F=7&ge,z=ge>>3}if(z--,F===1||F===2)Q+=b.readSVarint(),J+=b.readSVarint(),F===1&&(B&&ae.push(B),B=[]),B.push(new d(Q,J));else{if(F!==7)throw new Error("unknown command "+F);B&&B.push(B[0].clone())}}return B&&ae.push(B),ae},u.prototype.bbox=function(){var b=this._pbf;b.pos=this._geometry;for(var B=b.readVarint()+b.pos,T=1,F=0,z=0,Q=0,J=1/0,ae=-1/0,ge=1/0,Ce=-1/0;b.pos<B;){if(F<=0){var Se=b.readVarint();T=7&Se,F=Se>>3}if(F--,T===1||T===2)(z+=b.readSVarint())<J&&(J=z),z>ae&&(ae=z),(Q+=b.readSVarint())<ge&&(ge=Q),Q>Ce&&(Ce=Q);else if(T!==7)throw new Error("unknown command "+T)}return[J,ge,ae,Ce]},u.prototype.toGeoJSON=function(b,B,T){var F,z,Q=this.extent*Math.pow(2,T),J=this.extent*b,ae=this.extent*B,ge=this.loadGeometry(),Ce=u.types[this.type];function Se(Je){for(var Mt=0;Mt<Je.length;Mt++){var ut=Je[Mt];Je[Mt]=[360*(ut.x+J)/Q-180,360/Math.PI*Math.atan(Math.exp((180-360*(ut.y+ae)/Q)*Math.PI/180))-90]}}switch(this.type){case 1:var Le=[];for(F=0;F<ge.length;F++)Le[F]=ge[F][0];Se(ge=Le);break;case 2:for(F=0;F<ge.length;F++)Se(ge[F]);break;case 3:for(ge=function(Je){var Mt=Je.length;if(Mt<=1)return[Je];for(var ut,ve,Ne=[],dt=0;dt<Mt;dt++){var Wt=y(Je[dt]);Wt!==0&&(ve===void 0&&(ve=Wt<0),ve===Wt<0?(ut&&Ne.push(ut),ut=[Je[dt]]):ut.push(Je[dt]))}return ut&&Ne.push(ut),Ne}(ge),F=0;F<ge.length;F++)for(z=0;z<ge[F].length;z++)Se(ge[F][z])}ge.length===1?ge=ge[0]:Ce="Multi"+Ce;var Qe={type:"Feature",geometry:{type:Ce,coordinates:ge},properties:this.properties};return"id"in this&&(Qe.id=this.id),Qe},Wa}function hh(){if(Gs)return ll;Gs=1;var d=qd();function u(y,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=y,this._keys=[],this._values=[],this._features=[],y.readFields(h,this,b),this.length=this._features.length}function h(y,b,B){y===15?b.version=B.readVarint():y===1?b.name=B.readString():y===5?b.extent=B.readVarint():y===2?b._features.push(B.pos):y===3?b._keys.push(B.readString()):y===4&&b._values.push(function(T){for(var F=null,z=T.readVarint()+T.pos;T.pos<z;){var Q=T.readVarint()>>3;F=Q===1?T.readString():Q===2?T.readFloat():Q===3?T.readDouble():Q===4?T.readVarint64():Q===5?T.readVarint():Q===6?T.readSVarint():Q===7?T.readBoolean():null}return F}(B))}return ll=u,u.prototype.feature=function(y){if(y<0||y>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[y];var b=this._pbf.readVarint()+this._pbf.pos;return new d(this._pbf,b,this.extent,this._keys,this._values)},ll}function Al(){return Ra||(Ra=1,ul.VectorTile=function(){if(rs)return ns;rs=1;var d=hh();function u(h,y,b){if(h===3){var B=new d(b,b.readVarint()+b.pos);B.length&&(y[B.name]=B)}}return ns=function(h,y){this.layers=h.readFields(u,{},y)},ns}(),ul.VectorTileFeature=qd(),ul.VectorTileLayer=hh()),ul}var Ru=f(Al());const Qs=Ru.VectorTileFeature.types,jp=Math.pow(2,13);function Uu(d,u,h,y,b,B,T,F){d.emplaceBack(u,h,2*Math.floor(y*jp)+T,b*jp*2,B*jp*2,Math.round(F))}class Bc{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new et,this.centroidVertexArray=new He,this.indexArray=new An,this.programConfigurations=new Is(u.layers,u.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.features=[],this.hasPattern=Qd("fill-extrusion",this.layers,h);for(const{feature:b,id:B,index:T,sourceLayerIndex:F}of u){const z=this.layers[0]._featureFilter.needGeometry,Q=_A(b,z);if(!this.layers[0]._featureFilter.filter(new Ho(this.zoom),Q,y))continue;const J={id:B,sourceLayerIndex:F,index:T,geometry:z?Q.geometry:Ah(b),properties:b.properties,type:b.type,patterns:{}};this.hasPattern?this.features.push($d("fill-extrusion",this.layers,J,this.zoom,h)):this.addFeature(J,J.geometry,T,y,{},h.subdivisionGranularity),h.featureIndex.insert(b,J.geometry,T,F,this.index,!0)}}addFeatures(u,h,y){for(const b of this.features){const{geometry:B}=b;this.addFeature(b,B,b.index,h,y,u.subdivisionGranularity)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Na),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,ka.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,h,y,b,B,T){for(const F of Ac(h,500)){const z={x:0,y:0,sampleCount:0},Q=this.layoutVertexArray.length;this.processPolygon(z,b,u,F,T);const J=this.layoutVertexArray.length-Q,ae=Math.floor(z.x/z.sampleCount),ge=Math.floor(z.y/z.sampleCount);for(let Ce=0;Ce<J;Ce++)this.centroidVertexArray.emplaceBack(ae,ge)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,B,b)}processPolygon(u,h,y,b,B){if(b.length<1||Vd(b[0]))return;for(const ae of b)ae.length!==0&&qh(u,ae);const T={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},F=B.fill.getGranularityForZoomLevel(h.z),z=Qs[y.type]==="Polygon";for(const ae of b){if(ae.length===0||Vd(ae))continue;const ge=Pn(ae,F,z);this._generateSideFaces(ge,T)}if(!z)return;const Q=vn(b,h,F,!1),J=this.layoutVertexArray;or((ae,ge)=>{Uu(J,ae,ge,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,Q.verticesFlattened,Q.indicesTriangles)}_generateSideFaces(u,h){let y=0;for(let b=1;b<u.length;b++){const B=u[b],T=u[b-1];if(Yl(B,T))continue;h.segment.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const F=B.sub(T)._perp()._unit(),z=T.dist(B);y+z>32768&&(y=0),Uu(this.layoutVertexArray,B.x,B.y,F.x,F.y,0,0,y),Uu(this.layoutVertexArray,B.x,B.y,F.x,F.y,0,1,y),y+=z,Uu(this.layoutVertexArray,T.x,T.y,F.x,F.y,0,0,y),Uu(this.layoutVertexArray,T.x,T.y,F.x,F.y,0,1,y);const Q=h.segment.vertexLength;this.indexArray.emplaceBack(Q,Q+2,Q+1),this.indexArray.emplaceBack(Q+1,Q+2,Q+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function qh(d,u){for(let h=0;h<u.length;h++){const y=u[h];h===u.length-1&&u[0].x===y.x&&u[0].y===y.y||(d.x+=y.x,d.y+=y.y,d.sampleCount++)}}function Yl(d,u){return d.x===u.x&&(d.x<0||d.x>pt)||d.y===u.y&&(d.y<0||d.y>pt)}function Vd(d){return d.every(u=>u.x<0)||d.every(u=>u.x>pt)||d.every(u=>u.y<0)||d.every(u=>u.y>pt)}let Nm;ir("FillExtrusionBucket",Bc,{omit:["layers","features"]});var N2={get paint(){return Nm=Nm||new Zo({"fill-extrusion-opacity":new Cr(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new jr(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Cr(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Cr(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Iu(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new jr(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new jr(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Cr(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class tS extends Tu{constructor(u){super(u,N2)}createBucket(u){return new Bc(u)}queryRadius(){return Dp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:u,feature:h,featureState:y,geometry:b,transform:B,pixelsToTileUnits:T,pixelPosMatrix:F}){const z=Nd(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-B.bearingInRadians,T),Q=this.paint.get("fill-extrusion-height").evaluate(h,y),J=this.paint.get("fill-extrusion-base").evaluate(h,y),ae=function(Ce,Se,Le){const Qe=[];for(const Je of Ce){const Mt=[Je.x,Je.y,0,1];Ue(Mt,Mt,Se),Qe.push(new L(Mt[0]/Mt[3],Mt[1]/Mt[3]))}return Qe}(z,F),ge=function(Ce,Se,Le,Qe){const Je=[],Mt=[],ut=Qe[8]*Se,ve=Qe[9]*Se,Ne=Qe[10]*Se,dt=Qe[11]*Se,Wt=Qe[8]*Le,bn=Qe[9]*Le,Ht=Qe[10]*Le,an=Qe[11]*Le;for(const Bn of Ce){const Cn=[],Rn=[];for(const hn of Bn){const fr=hn.x,dr=hn.y,pr=Qe[0]*fr+Qe[4]*dr+Qe[12],Ir=Qe[1]*fr+Qe[5]*dr+Qe[13],Yi=Qe[2]*fr+Qe[6]*dr+Qe[14],Ga=Qe[3]*fr+Qe[7]*dr+Qe[15],Ts=Yi+Ne,wl=Ga+dt,Tc=pr+Wt,zu=Ir+bn,cl=Yi+Ht,Vl=Ga+an,ss=new L((pr+ut)/wl,(Ir+ve)/wl);ss.z=Ts/wl,Cn.push(ss);const Ys=new L(Tc/Vl,zu/Vl);Ys.z=cl/Vl,Rn.push(Ys)}Je.push(Cn),Mt.push(Rn)}return[Je,Mt]}(b,J,Q,F);return function(Ce,Se,Le){let Qe=1/0;qA(Le,Se)&&(Qe=W2(Le,Se[0]));for(let Je=0;Je<Se.length;Je++){const Mt=Se[Je],ut=Ce[Je];for(let ve=0;ve<Mt.length-1;ve++){const Ne=Mt[ve],dt=[Ne,Mt[ve+1],ut[ve+1],ut[ve],Ne];Rf(Le,dt)&&(Qe=Math.min(Qe,W2(Le,dt)))}}return Qe!==1/0&&Qe}(ge[0],ge[1],ae)}}function J0(d,u){return d.x*u.x+d.y*u.y}function W2(d,u){if(d.length===1){let h=0;const y=u[h++];let b;for(;!b||y.equals(b);)if(b=u[h++],!b)return 1/0;for(;h<u.length;h++){const B=u[h],T=d[0],F=b.sub(y),z=B.sub(y),Q=T.sub(y),J=J0(F,F),ae=J0(F,z),ge=J0(z,z),Ce=J0(Q,F),Se=J0(Q,z),Le=J*ge-ae*ae,Qe=(ge*Ce-ae*Se)/Le,Je=(J*Se-ae*Ce)/Le,Mt=y.z*(1-Qe-Je)+b.z*Qe+B.z*Je;if(isFinite(Mt))return Mt}return 1/0}{let h=1/0;for(const y of u)h=Math.min(h,y.z);return h}}const nS=Go([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:rS}=nS,iS=Go([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Ic}=iS,oS=Ru.VectorTileFeature.types,aS=Math.cos(Math.PI/180*37.5),G2=Math.pow(2,14)/.5;class K1{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new ct,this.layoutVertexArray2=new mt,this.indexArray=new An,this.programConfigurations=new Is(u.layers,u.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.hasPattern=Qd("line",this.layers,h);const b=this.layers[0].layout.get("line-sort-key"),B=!b.isConstant(),T=[];for(const{feature:F,id:z,index:Q,sourceLayerIndex:J}of u){const ae=this.layers[0]._featureFilter.needGeometry,ge=_A(F,ae);if(!this.layers[0]._featureFilter.filter(new Ho(this.zoom),ge,y))continue;const Ce=B?b.evaluate(ge,{},y):void 0,Se={id:z,properties:F.properties,type:F.type,sourceLayerIndex:J,index:Q,geometry:ae?ge.geometry:Ah(F),patterns:{},sortKey:Ce};T.push(Se)}B&&T.sort((F,z)=>F.sortKey-z.sortKey);for(const F of T){const{geometry:z,index:Q,sourceLayerIndex:J}=F;if(this.hasPattern){const ae=$d("line",this.layers,F,this.zoom,h);this.patternFeatures.push(ae)}else this.addFeature(F,z,Q,y,{},h.subdivisionGranularity);h.featureIndex.insert(u[Q].feature,z,Q,J,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}addFeatures(u,h,y){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,h,y,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,Ic)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,rS),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,h,y,b,B,T){const F=this.layers[0].layout,z=F.get("line-join").evaluate(u,{}),Q=F.get("line-cap"),J=F.get("line-miter-limit"),ae=F.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const ge of h)this.addLine(ge,u,z,Q,J,ae,b,T);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,B,b)}addLine(u,h,y,b,B,T,F,z){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,u=Pn(u,F?z.line.getGranularityForZoomLevel(F.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ut=0;ut<u.length-1;ut++)this.totalDistance+=u[ut].dist(u[ut+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Q=oS[h.type]==="Polygon";let J=u.length;for(;J>=2&&u[J-1].equals(u[J-2]);)J--;let ae=0;for(;ae<J-1&&u[ae].equals(u[ae+1]);)ae++;if(J<(Q?3:2))return;y==="bevel"&&(B=1.05);const ge=this.overscaling<=16?15*pt/(512*this.overscaling):0,Ce=this.segments.prepareSegment(10*J,this.layoutVertexArray,this.indexArray);let Se,Le,Qe,Je,Mt;this.e1=this.e2=-1,Q&&(Se=u[J-2],Mt=u[ae].sub(Se)._unit()._perp());for(let ut=ae;ut<J;ut++){if(Qe=ut===J-1?Q?u[ae+1]:void 0:u[ut+1],Qe&&u[ut].equals(Qe))continue;Mt&&(Je=Mt),Se&&(Le=Se),Se=u[ut],Mt=Qe?Qe.sub(Se)._unit()._perp():Je,Je=Je||Mt;let ve=Je.add(Mt);ve.x===0&&ve.y===0||ve._unit();const Ne=Je.x*Mt.x+Je.y*Mt.y,dt=ve.x*Mt.x+ve.y*Mt.y,Wt=dt!==0?1/dt:1/0,bn=2*Math.sqrt(2-2*dt),Ht=dt<aS&&Le&&Qe,an=Je.x*Mt.y-Je.y*Mt.x>0;if(Ht&&ut>ae){const Rn=Se.dist(Le);if(Rn>2*ge){const hn=Se.sub(Se.sub(Le)._mult(ge/Rn)._round());this.updateDistance(Le,hn),this.addCurrentVertex(hn,Je,0,0,Ce),Le=hn}}const Bn=Le&&Qe;let Cn=Bn?y:Q?"butt":b;if(Bn&&Cn==="round"&&(Wt<T?Cn="miter":Wt<=2&&(Cn="fakeround")),Cn==="miter"&&Wt>B&&(Cn="bevel"),Cn==="bevel"&&(Wt>2&&(Cn="flipbevel"),Wt<B&&(Cn="miter")),Le&&this.updateDistance(Le,Se),Cn==="miter")ve._mult(Wt),this.addCurrentVertex(Se,ve,0,0,Ce);else if(Cn==="flipbevel"){if(Wt>100)ve=Mt.mult(-1);else{const Rn=Wt*Je.add(Mt).mag()/Je.sub(Mt).mag();ve._perp()._mult(Rn*(an?-1:1))}this.addCurrentVertex(Se,ve,0,0,Ce),this.addCurrentVertex(Se,ve.mult(-1),0,0,Ce)}else if(Cn==="bevel"||Cn==="fakeround"){const Rn=-Math.sqrt(Wt*Wt-1),hn=an?Rn:0,fr=an?0:Rn;if(Le&&this.addCurrentVertex(Se,Je,hn,fr,Ce),Cn==="fakeround"){const dr=Math.round(180*bn/Math.PI/20);for(let pr=1;pr<dr;pr++){let Ir=pr/dr;if(Ir!==.5){const Ga=Ir-.5;Ir+=Ir*Ga*(Ir-1)*((1.0904+Ne*(Ne*(3.55645-1.43519*Ne)-3.2452))*Ga*Ga+(.848013+Ne*(.215638*Ne-1.06021)))}const Yi=Mt.sub(Je)._mult(Ir)._add(Je)._unit()._mult(an?-1:1);this.addHalfVertex(Se,Yi.x,Yi.y,!1,an,0,Ce)}}Qe&&this.addCurrentVertex(Se,Mt,-hn,-fr,Ce)}else if(Cn==="butt")this.addCurrentVertex(Se,ve,0,0,Ce);else if(Cn==="square"){const Rn=Le?1:-1;this.addCurrentVertex(Se,ve,Rn,Rn,Ce)}else Cn==="round"&&(Le&&(this.addCurrentVertex(Se,Je,0,0,Ce),this.addCurrentVertex(Se,Je,1,1,Ce,!0)),Qe&&(this.addCurrentVertex(Se,Mt,-1,-1,Ce,!0),this.addCurrentVertex(Se,Mt,0,0,Ce)));if(Ht&&ut<J-1){const Rn=Se.dist(Qe);if(Rn>2*ge){const hn=Se.add(Qe.sub(Se)._mult(ge/Rn)._round());this.updateDistance(Se,hn),this.addCurrentVertex(hn,Mt,0,0,Ce),Se=hn}}}}addCurrentVertex(u,h,y,b,B,T=!1){const F=h.y*b-h.x,z=-h.y-h.x*b;this.addHalfVertex(u,h.x+h.y*y,h.y-h.x*y,T,!1,y,B),this.addHalfVertex(u,F,z,T,!0,-b,B),this.distance>G2/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,h,y,b,B,T))}addHalfVertex({x:u,y:h},y,b,B,T,F,z){const Q=.5*(this.lineClips?this.scaledDistance*(G2-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(B?1:0),(h<<1)+(T?1:0),Math.round(63*y)+128,Math.round(63*b)+128,1+(F===0?0:F<0?-1:1)|(63&Q)<<2,Q>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const J=z.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,J,this.e2),z.primitiveLength++),T?this.e2=J:this.e1=J}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,h){this.distance+=u.dist(h),this.updateScaledDistance()}}let Q2,$2;ir("LineBucket",K1,{omit:["layers","patternFeatures"]});var Y2={get paint(){return $2=$2||new Zo({"line-opacity":new jr(Re.paint_line["line-opacity"]),"line-color":new jr(Re.paint_line["line-color"]),"line-translate":new Cr(Re.paint_line["line-translate"]),"line-translate-anchor":new Cr(Re.paint_line["line-translate-anchor"]),"line-width":new jr(Re.paint_line["line-width"]),"line-gap-width":new jr(Re.paint_line["line-gap-width"]),"line-offset":new jr(Re.paint_line["line-offset"]),"line-blur":new jr(Re.paint_line["line-blur"]),"line-dasharray":new QA(Re.paint_line["line-dasharray"]),"line-pattern":new Iu(Re.paint_line["line-pattern"]),"line-gradient":new ku(Re.paint_line["line-gradient"])})},get layout(){return Q2=Q2||new Zo({"line-cap":new Cr(Re.layout_line["line-cap"]),"line-join":new jr(Re.layout_line["line-join"]),"line-miter-limit":new Cr(Re.layout_line["line-miter-limit"]),"line-round-limit":new Cr(Re.layout_line["line-round-limit"]),"line-sort-key":new jr(Re.layout_line["line-sort-key"])})}};class sS extends jr{possiblyEvaluate(u,h){return h=new Ho(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(u,h)}evaluate(u,h,y,b){return h=St({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(u,h,y,b)}}let Wm;class lS extends Tu{constructor(u){super(u,Y2),this.gradientVersion=0,Wm||(Wm=new sS(Y2.paint.properties["line-width"].specification),Wm.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(h)&&h._styleExpression.expression instanceof We,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,h){super.recalculate(u,h),this.paint._values["line-floorwidth"]=Wm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new K1(u)}queryRadius(u){const h=u,y=q2(zd("line-width",this,h),zd("line-gap-width",this,h)),b=zd("line-offset",this,h);return y/2+Math.abs(b)+Dp(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:u,feature:h,featureState:y,geometry:b,transform:B,pixelsToTileUnits:T}){const F=Nd(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-B.bearingInRadians,T),z=T/2*q2(this.paint.get("line-width").evaluate(h,y),this.paint.get("line-gap-width").evaluate(h,y)),Q=this.paint.get("line-offset").evaluate(h,y);return Q&&(b=function(J,ae){const ge=[];for(let Ce=0;Ce<J.length;Ce++){const Se=J[Ce],Le=[];for(let Qe=0;Qe<Se.length;Qe++){const Je=Se[Qe-1],Mt=Se[Qe],ut=Se[Qe+1],ve=Qe===0?new L(0,0):Mt.sub(Je)._unit()._perp(),Ne=Qe===Se.length-1?new L(0,0):ut.sub(Mt)._unit()._perp(),dt=ve._add(Ne)._unit(),Wt=dt.x*Ne.x+dt.y*Ne.y;Wt!==0&&dt._mult(1/Wt),Le.push(dt._mult(ae)._add(Mt))}ge.push(Le)}return ge}(b,Q*T)),function(J,ae,ge){for(let Ce=0;Ce<ae.length;Ce++){const Se=ae[Ce];if(J.length>=3){for(let Le=0;Le<Se.length;Le++)if(Ec(J,Se[Le]))return!0}if(Ju(J,Se,ge))return!0}return!1}(F,b,z)}isTileClipped(){return!0}}function q2(d,u){return u>0?u+2*d:d}const uS=Go([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),AS=Go([{name:"a_projected_pos",components:3,type:"Float32"}],4);Go([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const cS=Go([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Go([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const V2=Go([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),hS=Go([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function dS(d,u,h){return d.sections.forEach(y=>{y.text=function(b,B,T){const F=B.layout.get("text-transform").evaluate(T,{});return F==="uppercase"?b=b.toLocaleUpperCase():F==="lowercase"&&(b=b.toLocaleLowerCase()),al.applyArabicShaping&&(b=al.applyArabicShaping(b)),b}(y.text,u,h)}),d}Go([{name:"triangle",components:3,type:"Uint16"}]),Go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Go([{type:"Float32",name:"offsetX"}]),Go([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Go([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const eg={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var H2,f_,Z2,$s=24,p_={};function fS(){return H2||(H2=1,p_.read=function(d,u,h,y,b){var B,T,F=8*b-y-1,z=(1<<F)-1,Q=z>>1,J=-7,ae=h?b-1:0,ge=h?-1:1,Ce=d[u+ae];for(ae+=ge,B=Ce&(1<<-J)-1,Ce>>=-J,J+=F;J>0;B=256*B+d[u+ae],ae+=ge,J-=8);for(T=B&(1<<-J)-1,B>>=-J,J+=y;J>0;T=256*T+d[u+ae],ae+=ge,J-=8);if(B===0)B=1-Q;else{if(B===z)return T?NaN:1/0*(Ce?-1:1);T+=Math.pow(2,y),B-=Q}return(Ce?-1:1)*T*Math.pow(2,B-y)},p_.write=function(d,u,h,y,b,B){var T,F,z,Q=8*B-b-1,J=(1<<Q)-1,ae=J>>1,ge=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ce=y?0:B-1,Se=y?1:-1,Le=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(F=isNaN(u)?1:0,T=J):(T=Math.floor(Math.log(u)/Math.LN2),u*(z=Math.pow(2,-T))<1&&(T--,z*=2),(u+=T+ae>=1?ge/z:ge*Math.pow(2,1-ae))*z>=2&&(T++,z/=2),T+ae>=J?(F=0,T=J):T+ae>=1?(F=(u*z-1)*Math.pow(2,b),T+=ae):(F=u*Math.pow(2,ae-1)*Math.pow(2,b),T=0));b>=8;d[h+Ce]=255&F,Ce+=Se,F/=256,b-=8);for(T=T<<b|F,Q+=b;Q>0;d[h+Ce]=255&T,Ce+=Se,T/=256,Q-=8);d[h+Ce-Se]|=128*Le}),p_}function X2(){if(Z2)return f_;Z2=1,f_=u;var d=fS();function u(ve){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(ve)?ve:new Uint8Array(ve||0),this.pos=0,this.type=0,this.length=this.buf.length}u.Varint=0,u.Fixed64=1,u.Bytes=2,u.Fixed32=5;var h=4294967296,y=1/h,b=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function B(ve){return ve.type===u.Bytes?ve.readVarint()+ve.pos:ve.pos+1}function T(ve,Ne,dt){return dt?4294967296*Ne+(ve>>>0):4294967296*(Ne>>>0)+(ve>>>0)}function F(ve,Ne,dt){var Wt=Ne<=16383?1:Ne<=2097151?2:Ne<=268435455?3:Math.floor(Math.log(Ne)/(7*Math.LN2));dt.realloc(Wt);for(var bn=dt.pos-1;bn>=ve;bn--)dt.buf[bn+Wt]=dt.buf[bn]}function z(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeVarint(ve[dt])}function Q(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeSVarint(ve[dt])}function J(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeFloat(ve[dt])}function ae(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeDouble(ve[dt])}function ge(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeBoolean(ve[dt])}function Ce(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeFixed32(ve[dt])}function Se(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeSFixed32(ve[dt])}function Le(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeFixed64(ve[dt])}function Qe(ve,Ne){for(var dt=0;dt<ve.length;dt++)Ne.writeSFixed64(ve[dt])}function Je(ve,Ne){return(ve[Ne]|ve[Ne+1]<<8|ve[Ne+2]<<16)+16777216*ve[Ne+3]}function Mt(ve,Ne,dt){ve[dt]=Ne,ve[dt+1]=Ne>>>8,ve[dt+2]=Ne>>>16,ve[dt+3]=Ne>>>24}function ut(ve,Ne){return(ve[Ne]|ve[Ne+1]<<8|ve[Ne+2]<<16)+(ve[Ne+3]<<24)}return u.prototype={destroy:function(){this.buf=null},readFields:function(ve,Ne,dt){for(dt=dt||this.length;this.pos<dt;){var Wt=this.readVarint(),bn=Wt>>3,Ht=this.pos;this.type=7&Wt,ve(bn,Ne,this),this.pos===Ht&&this.skip(Wt)}return Ne},readMessage:function(ve,Ne){return this.readFields(ve,Ne,this.readVarint()+this.pos)},readFixed32:function(){var ve=Je(this.buf,this.pos);return this.pos+=4,ve},readSFixed32:function(){var ve=ut(this.buf,this.pos);return this.pos+=4,ve},readFixed64:function(){var ve=Je(this.buf,this.pos)+Je(this.buf,this.pos+4)*h;return this.pos+=8,ve},readSFixed64:function(){var ve=Je(this.buf,this.pos)+ut(this.buf,this.pos+4)*h;return this.pos+=8,ve},readFloat:function(){var ve=d.read(this.buf,this.pos,!0,23,4);return this.pos+=4,ve},readDouble:function(){var ve=d.read(this.buf,this.pos,!0,52,8);return this.pos+=8,ve},readVarint:function(ve){var Ne,dt,Wt=this.buf;return Ne=127&(dt=Wt[this.pos++]),dt<128?Ne:(Ne|=(127&(dt=Wt[this.pos++]))<<7,dt<128?Ne:(Ne|=(127&(dt=Wt[this.pos++]))<<14,dt<128?Ne:(Ne|=(127&(dt=Wt[this.pos++]))<<21,dt<128?Ne:function(bn,Ht,an){var Bn,Cn,Rn=an.buf;if(Bn=(112&(Cn=Rn[an.pos++]))>>4,Cn<128||(Bn|=(127&(Cn=Rn[an.pos++]))<<3,Cn<128)||(Bn|=(127&(Cn=Rn[an.pos++]))<<10,Cn<128)||(Bn|=(127&(Cn=Rn[an.pos++]))<<17,Cn<128)||(Bn|=(127&(Cn=Rn[an.pos++]))<<24,Cn<128)||(Bn|=(1&(Cn=Rn[an.pos++]))<<31,Cn<128))return T(bn,Bn,Ht);throw new Error("Expected varint not more than 10 bytes")}(Ne|=(15&(dt=Wt[this.pos]))<<28,ve,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var ve=this.readVarint();return ve%2==1?(ve+1)/-2:ve/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var ve=this.readVarint()+this.pos,Ne=this.pos;return this.pos=ve,ve-Ne>=12&&b?function(dt,Wt,bn){return b.decode(dt.subarray(Wt,bn))}(this.buf,Ne,ve):function(dt,Wt,bn){for(var Ht="",an=Wt;an<bn;){var Bn,Cn,Rn,hn=dt[an],fr=null,dr=hn>239?4:hn>223?3:hn>191?2:1;if(an+dr>bn)break;dr===1?hn<128&&(fr=hn):dr===2?(192&(Bn=dt[an+1]))==128&&(fr=(31&hn)<<6|63&Bn)<=127&&(fr=null):dr===3?(Cn=dt[an+2],(192&(Bn=dt[an+1]))==128&&(192&Cn)==128&&((fr=(15&hn)<<12|(63&Bn)<<6|63&Cn)<=2047||fr>=55296&&fr<=57343)&&(fr=null)):dr===4&&(Cn=dt[an+2],Rn=dt[an+3],(192&(Bn=dt[an+1]))==128&&(192&Cn)==128&&(192&Rn)==128&&((fr=(15&hn)<<18|(63&Bn)<<12|(63&Cn)<<6|63&Rn)<=65535||fr>=1114112)&&(fr=null)),fr===null?(fr=65533,dr=1):fr>65535&&(fr-=65536,Ht+=String.fromCharCode(fr>>>10&1023|55296),fr=56320|1023&fr),Ht+=String.fromCharCode(fr),an+=dr}return Ht}(this.buf,Ne,ve)},readBytes:function(){var ve=this.readVarint()+this.pos,Ne=this.buf.subarray(this.pos,ve);return this.pos=ve,Ne},readPackedVarint:function(ve,Ne){if(this.type!==u.Bytes)return ve.push(this.readVarint(Ne));var dt=B(this);for(ve=ve||[];this.pos<dt;)ve.push(this.readVarint(Ne));return ve},readPackedSVarint:function(ve){if(this.type!==u.Bytes)return ve.push(this.readSVarint());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readSVarint());return ve},readPackedBoolean:function(ve){if(this.type!==u.Bytes)return ve.push(this.readBoolean());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readBoolean());return ve},readPackedFloat:function(ve){if(this.type!==u.Bytes)return ve.push(this.readFloat());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readFloat());return ve},readPackedDouble:function(ve){if(this.type!==u.Bytes)return ve.push(this.readDouble());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readDouble());return ve},readPackedFixed32:function(ve){if(this.type!==u.Bytes)return ve.push(this.readFixed32());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readFixed32());return ve},readPackedSFixed32:function(ve){if(this.type!==u.Bytes)return ve.push(this.readSFixed32());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readSFixed32());return ve},readPackedFixed64:function(ve){if(this.type!==u.Bytes)return ve.push(this.readFixed64());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readFixed64());return ve},readPackedSFixed64:function(ve){if(this.type!==u.Bytes)return ve.push(this.readSFixed64());var Ne=B(this);for(ve=ve||[];this.pos<Ne;)ve.push(this.readSFixed64());return ve},skip:function(ve){var Ne=7&ve;if(Ne===u.Varint)for(;this.buf[this.pos++]>127;);else if(Ne===u.Bytes)this.pos=this.readVarint()+this.pos;else if(Ne===u.Fixed32)this.pos+=4;else{if(Ne!==u.Fixed64)throw new Error("Unimplemented type: "+Ne);this.pos+=8}},writeTag:function(ve,Ne){this.writeVarint(ve<<3|Ne)},realloc:function(ve){for(var Ne=this.length||16;Ne<this.pos+ve;)Ne*=2;if(Ne!==this.length){var dt=new Uint8Array(Ne);dt.set(this.buf),this.buf=dt,this.length=Ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(ve){this.realloc(4),Mt(this.buf,ve,this.pos),this.pos+=4},writeSFixed32:function(ve){this.realloc(4),Mt(this.buf,ve,this.pos),this.pos+=4},writeFixed64:function(ve){this.realloc(8),Mt(this.buf,-1&ve,this.pos),Mt(this.buf,Math.floor(ve*y),this.pos+4),this.pos+=8},writeSFixed64:function(ve){this.realloc(8),Mt(this.buf,-1&ve,this.pos),Mt(this.buf,Math.floor(ve*y),this.pos+4),this.pos+=8},writeVarint:function(ve){(ve=+ve||0)>268435455||ve<0?function(Ne,dt){var Wt,bn;if(Ne>=0?(Wt=Ne%4294967296|0,bn=Ne/4294967296|0):(bn=~(-Ne/4294967296),4294967295^(Wt=~(-Ne%4294967296))?Wt=Wt+1|0:(Wt=0,bn=bn+1|0)),Ne>=18446744073709552e3||Ne<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");dt.realloc(10),function(Ht,an,Bn){Bn.buf[Bn.pos++]=127&Ht|128,Ht>>>=7,Bn.buf[Bn.pos++]=127&Ht|128,Ht>>>=7,Bn.buf[Bn.pos++]=127&Ht|128,Ht>>>=7,Bn.buf[Bn.pos++]=127&Ht|128,Bn.buf[Bn.pos]=127&(Ht>>>=7)}(Wt,0,dt),function(Ht,an){var Bn=(7&Ht)<<4;an.buf[an.pos++]|=Bn|((Ht>>>=3)?128:0),Ht&&(an.buf[an.pos++]=127&Ht|((Ht>>>=7)?128:0),Ht&&(an.buf[an.pos++]=127&Ht|((Ht>>>=7)?128:0),Ht&&(an.buf[an.pos++]=127&Ht|((Ht>>>=7)?128:0),Ht&&(an.buf[an.pos++]=127&Ht|((Ht>>>=7)?128:0),Ht&&(an.buf[an.pos++]=127&Ht)))))}(bn,dt)}(ve,this):(this.realloc(4),this.buf[this.pos++]=127&ve|(ve>127?128:0),ve<=127||(this.buf[this.pos++]=127&(ve>>>=7)|(ve>127?128:0),ve<=127||(this.buf[this.pos++]=127&(ve>>>=7)|(ve>127?128:0),ve<=127||(this.buf[this.pos++]=ve>>>7&127))))},writeSVarint:function(ve){this.writeVarint(ve<0?2*-ve-1:2*ve)},writeBoolean:function(ve){this.writeVarint(!!ve)},writeString:function(ve){ve=String(ve),this.realloc(4*ve.length),this.pos++;var Ne=this.pos;this.pos=function(Wt,bn,Ht){for(var an,Bn,Cn=0;Cn<bn.length;Cn++){if((an=bn.charCodeAt(Cn))>55295&&an<57344){if(!Bn){an>56319||Cn+1===bn.length?(Wt[Ht++]=239,Wt[Ht++]=191,Wt[Ht++]=189):Bn=an;continue}if(an<56320){Wt[Ht++]=239,Wt[Ht++]=191,Wt[Ht++]=189,Bn=an;continue}an=Bn-55296<<10|an-56320|65536,Bn=null}else Bn&&(Wt[Ht++]=239,Wt[Ht++]=191,Wt[Ht++]=189,Bn=null);an<128?Wt[Ht++]=an:(an<2048?Wt[Ht++]=an>>6|192:(an<65536?Wt[Ht++]=an>>12|224:(Wt[Ht++]=an>>18|240,Wt[Ht++]=an>>12&63|128),Wt[Ht++]=an>>6&63|128),Wt[Ht++]=63&an|128)}return Ht}(this.buf,ve,this.pos);var dt=this.pos-Ne;dt>=128&&F(Ne,dt,this),this.pos=Ne-1,this.writeVarint(dt),this.pos+=dt},writeFloat:function(ve){this.realloc(4),d.write(this.buf,ve,this.pos,!0,23,4),this.pos+=4},writeDouble:function(ve){this.realloc(8),d.write(this.buf,ve,this.pos,!0,52,8),this.pos+=8},writeBytes:function(ve){var Ne=ve.length;this.writeVarint(Ne),this.realloc(Ne);for(var dt=0;dt<Ne;dt++)this.buf[this.pos++]=ve[dt]},writeRawMessage:function(ve,Ne){this.pos++;var dt=this.pos;ve(Ne,this);var Wt=this.pos-dt;Wt>=128&&F(dt,Wt,this),this.pos=dt-1,this.writeVarint(Wt),this.pos+=Wt},writeMessage:function(ve,Ne,dt){this.writeTag(ve,u.Bytes),this.writeRawMessage(Ne,dt)},writePackedVarint:function(ve,Ne){Ne.length&&this.writeMessage(ve,z,Ne)},writePackedSVarint:function(ve,Ne){Ne.length&&this.writeMessage(ve,Q,Ne)},writePackedBoolean:function(ve,Ne){Ne.length&&this.writeMessage(ve,ge,Ne)},writePackedFloat:function(ve,Ne){Ne.length&&this.writeMessage(ve,J,Ne)},writePackedDouble:function(ve,Ne){Ne.length&&this.writeMessage(ve,ae,Ne)},writePackedFixed32:function(ve,Ne){Ne.length&&this.writeMessage(ve,Ce,Ne)},writePackedSFixed32:function(ve,Ne){Ne.length&&this.writeMessage(ve,Se,Ne)},writePackedFixed64:function(ve,Ne){Ne.length&&this.writeMessage(ve,Le,Ne)},writePackedSFixed64:function(ve,Ne){Ne.length&&this.writeMessage(ve,Qe,Ne)},writeBytesField:function(ve,Ne){this.writeTag(ve,u.Bytes),this.writeBytes(Ne)},writeFixed32Field:function(ve,Ne){this.writeTag(ve,u.Fixed32),this.writeFixed32(Ne)},writeSFixed32Field:function(ve,Ne){this.writeTag(ve,u.Fixed32),this.writeSFixed32(Ne)},writeFixed64Field:function(ve,Ne){this.writeTag(ve,u.Fixed64),this.writeFixed64(Ne)},writeSFixed64Field:function(ve,Ne){this.writeTag(ve,u.Fixed64),this.writeSFixed64(Ne)},writeVarintField:function(ve,Ne){this.writeTag(ve,u.Varint),this.writeVarint(Ne)},writeSVarintField:function(ve,Ne){this.writeTag(ve,u.Varint),this.writeSVarint(Ne)},writeStringField:function(ve,Ne){this.writeTag(ve,u.Bytes),this.writeString(Ne)},writeFloatField:function(ve,Ne){this.writeTag(ve,u.Fixed32),this.writeFloat(Ne)},writeDoubleField:function(ve,Ne){this.writeTag(ve,u.Fixed64),this.writeDouble(Ne)},writeBooleanField:function(ve,Ne){this.writeVarintField(ve,!!Ne)}},f_}var m_=f(X2());const g_=3;function pS(d,u,h){d===1&&h.readMessage(mS,u)}function mS(d,u,h){if(d===3){const{id:y,bitmap:b,width:B,height:T,left:F,top:z,advance:Q}=h.readMessage(y_,{});u.push({id:y,bitmap:new uo({width:B+2*g_,height:T+2*g_},b),metrics:{width:B,height:T,left:F,top:z,advance:Q}})}}function y_(d,u,h){d===1?u.id=h.readVarint():d===2?u.bitmap=h.readBytes():d===3?u.width=h.readVarint():d===4?u.height=h.readVarint():d===5?u.left=h.readSVarint():d===6?u.top=h.readSVarint():d===7&&(u.advance=h.readVarint())}const J2=g_;function ex(d){let u=0,h=0;for(const T of d)u+=T.w*T.h,h=Math.max(h,T.w);d.sort((T,F)=>F.h-T.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),h),h:1/0}];let b=0,B=0;for(const T of d)for(let F=y.length-1;F>=0;F--){const z=y[F];if(!(T.w>z.w||T.h>z.h)){if(T.x=z.x,T.y=z.y,B=Math.max(B,T.y+T.h),b=Math.max(b,T.x+T.w),T.w===z.w&&T.h===z.h){const Q=y.pop();F<y.length&&(y[F]=Q)}else T.h===z.h?(z.x+=T.w,z.w-=T.w):T.w===z.w?(z.y+=T.h,z.h-=T.h):(y.push({x:z.x+T.w,y:z.y,w:z.w-T.w,h:T.h}),z.y+=T.h,z.h-=T.h);break}}return{w:b,h:B,fill:u/(b*B)||0}}const eA=1;class v_{constructor(u,{pixelRatio:h,version:y,stretchX:b,stretchY:B,content:T,textFitWidth:F,textFitHeight:z}){this.paddedRect=u,this.pixelRatio=h,this.stretchX=b,this.stretchY=B,this.content=T,this.version=y,this.textFitWidth=F,this.textFitHeight=z}get tl(){return[this.paddedRect.x+eA,this.paddedRect.y+eA]}get br(){return[this.paddedRect.x+this.paddedRect.w-eA,this.paddedRect.y+this.paddedRect.h-eA]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*eA)/this.pixelRatio,(this.paddedRect.h-2*eA)/this.pixelRatio]}}class tx{constructor(u,h){const y={},b={};this.haveRenderCallbacks=[];const B=[];this.addImages(u,y,B),this.addImages(h,b,B);const{w:T,h:F}=ex(B),z=new Fu({width:T||1,height:F||1});for(const Q in u){const J=u[Q],ae=y[Q].paddedRect;Fu.copy(J.data,z,{x:0,y:0},{x:ae.x+eA,y:ae.y+eA},J.data)}for(const Q in h){const J=h[Q],ae=b[Q].paddedRect,ge=ae.x+eA,Ce=ae.y+eA,Se=J.data.width,Le=J.data.height;Fu.copy(J.data,z,{x:0,y:0},{x:ge,y:Ce},J.data),Fu.copy(J.data,z,{x:0,y:Le-1},{x:ge,y:Ce-1},{width:Se,height:1}),Fu.copy(J.data,z,{x:0,y:0},{x:ge,y:Ce+Le},{width:Se,height:1}),Fu.copy(J.data,z,{x:Se-1,y:0},{x:ge-1,y:Ce},{width:1,height:Le}),Fu.copy(J.data,z,{x:0,y:0},{x:ge+Se,y:Ce},{width:1,height:Le})}this.image=z,this.iconPositions=y,this.patternPositions=b}addImages(u,h,y){for(const b in u){const B=u[b],T={x:0,y:0,w:B.data.width+2*eA,h:B.data.height+2*eA};y.push(T),h[b]=new v_(T,B),B.hasRenderCallback&&this.haveRenderCallbacks.push(b)}}patchUpdatedImages(u,h){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in u.updatedImages)this.patchUpdatedImage(this.iconPositions[y],u.getImage(y),h),this.patchUpdatedImage(this.patternPositions[y],u.getImage(y),h)}patchUpdatedImage(u,h,y){if(!u||!h||u.version===h.version)return;u.version=h.version;const[b,B]=u.tl;y.update(h.data,void 0,{x:b,y:B})}}var zf;ir("ImagePosition",v_),ir("ImageAtlas",tx),s.ai=void 0,(zf=s.ai||(s.ai={}))[zf.none=0]="none",zf[zf.horizontal=1]="horizontal",zf[zf.vertical=2]="vertical",zf[zf.horizontalOnly=3]="horizontalOnly";const tg=-17;class ng{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,h){const y=new ng;return y.scale=u||1,y.fontStack=h,y}static forImage(u){const h=new ng;return h.imageName=u,h}}class Gm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,h){const y=new Gm;for(let b=0;b<u.sections.length;b++){const B=u.sections[b];B.image?y.addImageSection(B):y.addTextSection(B,h)}return y}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let h="";for(let y=0;y<u.length;y++){const b=u.charCodeAt(y+1)||null,B=u.charCodeAt(y-1)||null;h+=b&&Kf(b)&&!eg[u[y+1]]||B&&Kf(B)&&!eg[u[y-1]]||!eg[u[y]]?u[y]:eg[u[y]]}return h}(this.text)}trim(){let u=0;for(let y=0;y<this.text.length&&D1[this.text.charCodeAt(y)];y++)u++;let h=this.text.length;for(let y=this.text.length-1;y>=0&&y>=u&&D1[this.text.charCodeAt(y)];y--)h--;this.text=this.text.substring(u,h),this.sectionIndex=this.sectionIndex.slice(u,h)}substring(u,h){const y=new Gm;return y.text=this.text.substring(u,h),y.sectionIndex=this.sectionIndex.slice(u,h),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,h)=>Math.max(u,this.sections[h].scale),0)}addTextSection(u,h){this.text+=u.text,this.sections.push(ng.forText(u.scale,u.fontStack||h));const y=this.sections.length-1;for(let b=0;b<u.text.length;++b)this.sectionIndex.push(y)}addImageSection(u){const h=u.image?u.image.name:"";if(h.length===0)return void Ge("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(ng.forImage(h)),this.sectionIndex.push(this.sections.length-1)):Ge("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function rg(d,u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se){const Le=Gm.fromFeature(d,b);let Qe;ae===s.ai.vertical&&Le.verticalizePunctuation();const{processBidirectionalText:Je,processStyledBidirectionalText:Mt}=al;if(Je&&Le.sections.length===1){Qe=[];const Ne=Je(Le.toString(),__(Le,Q,B,u,y,Ce));for(const dt of Ne){const Wt=new Gm;Wt.text=dt,Wt.sections=Le.sections;for(let bn=0;bn<dt.length;bn++)Wt.sectionIndex.push(0);Qe.push(Wt)}}else if(Mt){Qe=[];const Ne=Mt(Le.text,Le.sectionIndex,__(Le,Q,B,u,y,Ce));for(const dt of Ne){const Wt=new Gm;Wt.text=dt[0],Wt.sectionIndex=dt[1],Wt.sections=Le.sections,Qe.push(Wt)}}else Qe=function(Ne,dt){const Wt=[],bn=Ne.text;let Ht=0;for(const an of dt)Wt.push(Ne.substring(Ht,an)),Ht=an;return Ht<bn.length&&Wt.push(Ne.substring(Ht,bn.length)),Wt}(Le,__(Le,Q,B,u,y,Ce));const ut=[],ve={positionedLines:ut,text:Le.toString(),top:J[1],bottom:J[1],left:J[0],right:J[0],writingMode:ae,iconsInText:!1,verticalizable:!1};return function(Ne,dt,Wt,bn,Ht,an,Bn,Cn,Rn,hn,fr,dr){let pr=0,Ir=tg,Yi=0,Ga=0;const Ts=Cn==="right"?1:Cn==="left"?0:.5;let wl=0;for(const ss of Ht){ss.trim();const Ys=ss.getMaxScale(),du=(Ys-1)*$s,fu={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[wl]=fu;const Nu=fu.positionedGlyphs;let qs=0;if(!ss.length()){Ir+=an,++wl;continue}for(let nA=0;nA<ss.length();nA++){const qi=ss.getSection(nA),Hl=ss.getSectionIndex(nA),Ua=ss.getCharCode(nA);let Qa=0,hl=null,Wp=null,wA=null,Ag=$s;const Pc=!(Rn===s.ai.horizontal||!fr&&!Pd(Ua)||fr&&(D1[Ua]||(Tc=Ua,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(Tc)))));if(qi.imageName){const MA=bn[qi.imageName];if(!MA)continue;wA=qi.imageName,Ne.iconsInText=Ne.iconsInText||!0,Wp=MA.paddedRect;const Ml=MA.displaySize;qi.scale=qi.scale*$s/dr,hl={width:Ml[0],height:Ml[1],left:eA,top:-3,advance:Pc?Ml[1]:Ml[0]},Qa=du+($s-Ml[1]*qi.scale),Ag=hl.advance;const HA=Pc?Ml[0]*qi.scale-$s*Ys:Ml[1]*qi.scale-$s*Ys;HA>0&&HA>qs&&(qs=HA)}else{const MA=Wt[qi.fontStack],Ml=MA&&MA[Ua];if(Ml&&Ml.rect)Wp=Ml.rect,hl=Ml.metrics;else{const HA=dt[qi.fontStack],Xd=HA&&HA[Ua];if(!Xd)continue;hl=Xd.metrics}Qa=(Ys-qi.scale)*$s}Pc?(Ne.verticalizable=!0,Nu.push({glyph:Ua,imageName:wA,x:pr,y:Ir+Qa,vertical:Pc,scale:qi.scale,fontStack:qi.fontStack,sectionIndex:Hl,metrics:hl,rect:Wp}),pr+=Ag*qi.scale+hn):(Nu.push({glyph:Ua,imageName:wA,x:pr,y:Ir+Qa,vertical:Pc,scale:qi.scale,fontStack:qi.fontStack,sectionIndex:Hl,metrics:hl,rect:Wp}),pr+=hl.advance*qi.scale+hn)}Nu.length!==0&&(Yi=Math.max(pr-hn,Yi),vS(Nu,0,Nu.length-1,Ts,qs)),pr=0;const VA=an*Ys+qs;fu.lineOffset=Math.max(qs,du),Ir+=VA,Ga=Math.max(VA,Ga),++wl}var Tc;const zu=Ir-tg,{horizontalAlign:cl,verticalAlign:Vl}=C_(Bn);(function(ss,Ys,du,fu,Nu,qs,VA,nA,qi){const Hl=(Ys-du)*Nu;let Ua=0;Ua=qs!==VA?-nA*fu-tg:(-fu*qi+.5)*VA;for(const Qa of ss)for(const hl of Qa.positionedGlyphs)hl.x+=Hl,hl.y+=Ua})(Ne.positionedLines,Ts,cl,Vl,Yi,Ga,an,zu,Ht.length),Ne.top+=-Vl*zu,Ne.bottom=Ne.top+zu,Ne.left+=-cl*Yi,Ne.right=Ne.left+Yi}(ve,u,h,y,Qe,T,F,z,ae,Q,ge,Se),!function(Ne){for(const dt of Ne)if(dt.positionedGlyphs.length!==0)return!1;return!0}(ut)&&ve}const D1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},L1={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},gS={40:!0};function nx(d,u,h,y,b,B){if(u.imageName){const T=y[u.imageName];return T?T.displaySize[0]*u.scale*$s/B+b:0}{const T=h[u.fontStack],F=T&&T[d];return F?F.metrics.advance*u.scale+b:0}}function rx(d,u,h,y){const b=Math.pow(d-u,2);return y?d<u?b/2:2*b:b+Math.abs(h)*h}function yS(d,u,h){let y=0;return d===10&&(y-=1e4),h&&(y+=150),d!==40&&d!==65288||(y+=50),u!==41&&u!==65289||(y+=50),y}function ix(d,u,h,y,b,B){let T=null,F=rx(u,h,b,B);for(const z of y){const Q=rx(u-z.x,h,b,B)+z.badness;Q<=F&&(T=z,F=Q)}return{index:d,x:u,priorBreak:T,badness:F}}function ox(d){return d?ox(d.priorBreak).concat(d.index):[]}function __(d,u,h,y,b,B){if(!d)return[];const T=[],F=function(ae,ge,Ce,Se,Le,Qe){let Je=0;for(let Mt=0;Mt<ae.length();Mt++){const ut=ae.getSection(Mt);Je+=nx(ae.getCharCode(Mt),ut,Se,Le,ge,Qe)}return Je/Math.max(1,Math.ceil(Je/Ce))}(d,u,h,y,b,B),z=d.text.indexOf("")>=0;let Q=0;for(let ae=0;ae<d.length();ae++){const ge=d.getSection(ae),Ce=d.getCharCode(ae);if(D1[Ce]||(Q+=nx(Ce,ge,y,b,u,B)),ae<d.length()-1){const Se=!((J=Ce)<11904)&&(!!ui["CJK Compatibility Forms"](J)||!!ui["CJK Compatibility"](J)||!!ui["CJK Strokes"](J)||!!ui["CJK Symbols and Punctuation"](J)||!!ui["Enclosed CJK Letters and Months"](J)||!!ui["Halfwidth and Fullwidth Forms"](J)||!!ui["Ideographic Description Characters"](J)||!!ui["Vertical Forms"](J)||gA.test(String.fromCodePoint(J)));(L1[Ce]||Se||ge.imageName||ae!==d.length()-2&&gS[d.getCharCode(ae+1)])&&T.push(ix(ae+1,Q,F,T,yS(Ce,d.getCharCode(ae+1),Se&&z),!1))}}var J;return ox(ix(d.length(),Q,F,T,0,!0))}function C_(d){let u=.5,h=.5;switch(d){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:u,verticalAlign:h}}function vS(d,u,h,y,b){if(!y&&!b)return;const B=d[h],T=(d[h].x+B.metrics.advance*B.scale)*y;for(let F=u;F<=h;F++)d[F].x-=T,d[F].y+=b}function _S(d,u,h){const{horizontalAlign:y,verticalAlign:b}=C_(h),B=u[0]-d.displaySize[0]*y,T=u[1]-d.displaySize[1]*b;return{image:d,top:T,bottom:T+d.displaySize[1],left:B,right:B+d.displaySize[0]}}function ax(d){var u,h;let y=d.left,b=d.top,B=d.right-y,T=d.bottom-b;const F=(u=d.image.textFitWidth)!==null&&u!==void 0?u:"stretchOrShrink",z=(h=d.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",Q=(d.image.content[2]-d.image.content[0])/(d.image.content[3]-d.image.content[1]);if(z==="proportional"){if(F==="stretchOnly"&&B/T<Q||F==="proportional"){const J=Math.ceil(T*Q);y*=J/B,B=J}}else if(F==="proportional"&&z==="stretchOnly"&&Q!==0&&B/T>Q){const J=Math.ceil(B/Q);b*=J/T,T=J}return{x1:y,y1:b,x2:y+B,y2:b+T}}function sx(d,u,h,y,b,B){const T=d.image;let F;if(T.content){const Qe=T.content,Je=T.pixelRatio||1;F=[Qe[0]/Je,Qe[1]/Je,T.displaySize[0]-Qe[2]/Je,T.displaySize[1]-Qe[3]/Je]}const z=u.left*B,Q=u.right*B;let J,ae,ge,Ce;h==="width"||h==="both"?(Ce=b[0]+z-y[3],ae=b[0]+Q+y[1]):(Ce=b[0]+(z+Q-T.displaySize[0])/2,ae=Ce+T.displaySize[0]);const Se=u.top*B,Le=u.bottom*B;return h==="height"||h==="both"?(J=b[1]+Se-y[0],ge=b[1]+Le+y[2]):(J=b[1]+(Se+Le-T.displaySize[1])/2,ge=J+T.displaySize[1]),{image:T,top:J,right:ae,bottom:ge,left:Ce,collisionPadding:F}}const ig=255,Vh=128,Nf=ig*Vh;function lx(d,u){const{expression:h}=u;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Ho(d+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:b}=h;let B=0;for(;B<y.length&&y[B]<=d;)B++;B=Math.max(0,B-1);let T=B;for(;T<y.length&&y[T]<d+1;)T++;T=Math.min(y.length-1,T);const F=y[B],z=y[T];return h.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:z,interpolationType:b}:{kind:"camera",minZoom:F,maxZoom:z,minSize:h.evaluate(new Ho(F)),maxSize:h.evaluate(new Ho(z)),interpolationType:b}}}function F1(d,u,h){let y="never";const b=d.get(u);return b?y=b:d.get(h)&&(y="always"),y}const ux=Ru.VectorTileFeature.types,CS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function R1(d,u,h,y,b,B,T,F,z,Q,J,ae,ge){const Ce=F?Math.min(Nf,Math.round(F[0])):0,Se=F?Math.min(Nf,Math.round(F[1])):0;d.emplaceBack(u,h,Math.round(32*y),Math.round(32*b),B,T,(Ce<<1)+(z?1:0),Se,16*Q,16*J,256*ae,256*ge)}function b_(d,u,h){d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h)}function bS(d){for(const u of d.sections)if(WA(u.text))return!0;return!1}class Qm{constructor(u){this.layoutVertexArray=new Et,this.indexArray=new An,this.programConfigurations=u,this.segments=new cn,this.dynamicLayoutVertexArray=new xt,this.opacityVertexArray=new zt,this.hasVisibleVertices=!1,this.placedSymbolArray=new D}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,h,y,b){this.isEmpty()||(y&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,uS.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,AS.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,CS,!0),this.opacityVertexBuffer.itemSize=1),(y||b)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ir("SymbolBuffers",Qm);class x_{constructor(u,h,y){this.layoutVertexArray=new u,this.layoutAttributes=h,this.indexArray=new y,this.segments=new cn,this.collisionVertexArray=new ln}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,cS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ir("CollisionBuffers",x_);class $m{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(T=>T.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=lx(this.zoom,h["text-size"]),this.iconSizeData=lx(this.zoom,h["icon-size"]);const y=this.layers[0].layout,b=y.get("symbol-sort-key"),B=y.get("symbol-z-order");this.canOverlap=F1(y,"text-overlap","text-allow-overlap")!=="never"||F1(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=B!=="viewport-y"&&!b.isConstant(),this.sortFeaturesByY=(B==="viewport-y"||B==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(T=>s.ai[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=u.sourceID}createArrays(){this.text=new Qm(new Is(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new Qm(new Is(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new $,this.lineVertexArray=new ue,this.symbolInstances=new W,this.textAnchorOffsets=new me}calculateGlyphDependencies(u,h,y,b,B){for(let T=0;T<u.length;T++)if(h[u.charCodeAt(T)]=!0,(y||b)&&B){const F=eg[u.charAt(T)];F&&(h[F.charCodeAt(0)]=!0)}}populate(u,h,y){const b=this.layers[0],B=b.layout,T=B.get("text-font"),F=B.get("text-field"),z=B.get("icon-image"),Q=(F.value.kind!=="constant"||F.value.value instanceof Ro&&!F.value.value.isEmpty()||F.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),J=z.value.kind!=="constant"||!!z.value.value||Object.keys(z.parameters).length>0,ae=B.get("symbol-sort-key");if(this.features=[],!Q&&!J)return;const ge=h.iconDependencies,Ce=h.glyphDependencies,Se=h.availableImages,Le=new Ho(this.zoom);for(const{feature:Qe,id:Je,index:Mt,sourceLayerIndex:ut}of u){const ve=b._featureFilter.needGeometry,Ne=_A(Qe,ve);if(!b._featureFilter.filter(Le,Ne,y))continue;let dt,Wt;if(ve||(Ne.geometry=Ah(Qe)),Q){const Ht=b.getValueAndResolveTokens("text-field",Ne,y,Se),an=Ro.factory(Ht),Bn=this.hasRTLText=this.hasRTLText||bS(an);(!Bn||al.getRTLTextPluginStatus()==="unavailable"||Bn&&al.isParsed())&&(dt=dS(an,b,Ne))}if(J){const Ht=b.getValueAndResolveTokens("icon-image",Ne,y,Se);Wt=Ht instanceof so?Ht:so.fromString(Ht)}if(!dt&&!Wt)continue;const bn=this.sortFeaturesByKey?ae.evaluate(Ne,{},y):void 0;if(this.features.push({id:Je,text:dt,icon:Wt,index:Mt,sourceLayerIndex:ut,geometry:Ne.geometry,properties:Qe.properties,type:ux[Qe.type],sortKey:bn}),Wt&&(ge[Wt.name]=!0),dt){const Ht=T.evaluate(Ne,{},y).join(","),an=B.get("text-rotation-alignment")!=="viewport"&&B.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ai.vertical)>=0;for(const Bn of dt.sections)if(Bn.image)ge[Bn.image.name]=!0;else{const Cn=Nh(dt.toString()),Rn=Bn.fontStack||Ht,hn=Ce[Rn]=Ce[Rn]||{};this.calculateGlyphDependencies(Bn.text,hn,an,this.allowVerticalPlacement,Cn)}}}B.get("symbol-placement")==="line"&&(this.features=function(Qe){const Je={},Mt={},ut=[];let ve=0;function Ne(Ht){ut.push(Qe[Ht]),ve++}function dt(Ht,an,Bn){const Cn=Mt[Ht];return delete Mt[Ht],Mt[an]=Cn,ut[Cn].geometry[0].pop(),ut[Cn].geometry[0]=ut[Cn].geometry[0].concat(Bn[0]),Cn}function Wt(Ht,an,Bn){const Cn=Je[an];return delete Je[an],Je[Ht]=Cn,ut[Cn].geometry[0].shift(),ut[Cn].geometry[0]=Bn[0].concat(ut[Cn].geometry[0]),Cn}function bn(Ht,an,Bn){const Cn=Bn?an[0][an[0].length-1]:an[0][0];return`${Ht}:${Cn.x}:${Cn.y}`}for(let Ht=0;Ht<Qe.length;Ht++){const an=Qe[Ht],Bn=an.geometry,Cn=an.text?an.text.toString():null;if(!Cn){Ne(Ht);continue}const Rn=bn(Cn,Bn),hn=bn(Cn,Bn,!0);if(Rn in Mt&&hn in Je&&Mt[Rn]!==Je[hn]){const fr=Wt(Rn,hn,Bn),dr=dt(Rn,hn,ut[fr].geometry);delete Je[Rn],delete Mt[hn],Mt[bn(Cn,ut[dr].geometry,!0)]=dr,ut[fr].geometry=null}else Rn in Mt?dt(Rn,hn,Bn):hn in Je?Wt(Rn,hn,Bn):(Ne(Ht),Je[Rn]=ve-1,Mt[hn]=ve-1)}return ut.filter(Ht=>Ht.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Qe,Je)=>Qe.sortKey-Je.sortKey)}update(u,h,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,h,this.layers,y),this.icon.programConfigurations.updatePaintArrays(u,h,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,h){const y=this.lineVertexArray.length;if(u.segment!==void 0){let b=u.dist(h[u.segment+1]),B=u.dist(h[u.segment]);const T={};for(let F=u.segment+1;F<h.length;F++)T[F]={x:h[F].x,y:h[F].y,tileUnitDistanceFromAnchor:b},F<h.length-1&&(b+=h[F+1].dist(h[F]));for(let F=u.segment||0;F>=0;F--)T[F]={x:h[F].x,y:h[F].y,tileUnitDistanceFromAnchor:B},F>0&&(B+=h[F-1].dist(h[F]));for(let F=0;F<h.length;F++){const z=T[F];this.lineVertexArray.emplaceBack(z.x,z.y,z.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(u,h,y,b,B,T,F,z,Q,J,ae,ge){const Ce=u.indexArray,Se=u.layoutVertexArray,Le=u.segments.prepareSegment(4*h.length,Se,Ce,this.canOverlap?T.sortKey:void 0),Qe=this.glyphOffsetArray.length,Je=Le.vertexLength,Mt=this.allowVerticalPlacement&&F===s.ai.vertical?Math.PI/2:0,ut=T.text&&T.text.sections;for(let ve=0;ve<h.length;ve++){const{tl:Ne,tr:dt,bl:Wt,br:bn,tex:Ht,pixelOffsetTL:an,pixelOffsetBR:Bn,minFontScaleX:Cn,minFontScaleY:Rn,glyphOffset:hn,isSDF:fr,sectionIndex:dr}=h[ve],pr=Le.vertexLength,Ir=hn[1];R1(Se,z.x,z.y,Ne.x,Ir+Ne.y,Ht.x,Ht.y,y,fr,an.x,an.y,Cn,Rn),R1(Se,z.x,z.y,dt.x,Ir+dt.y,Ht.x+Ht.w,Ht.y,y,fr,Bn.x,an.y,Cn,Rn),R1(Se,z.x,z.y,Wt.x,Ir+Wt.y,Ht.x,Ht.y+Ht.h,y,fr,an.x,Bn.y,Cn,Rn),R1(Se,z.x,z.y,bn.x,Ir+bn.y,Ht.x+Ht.w,Ht.y+Ht.h,y,fr,Bn.x,Bn.y,Cn,Rn),b_(u.dynamicLayoutVertexArray,z,Mt),Ce.emplaceBack(pr,pr+2,pr+1),Ce.emplaceBack(pr+1,pr+2,pr+3),Le.vertexLength+=4,Le.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hn[0]),ve!==h.length-1&&dr===h[ve+1].sectionIndex||u.programConfigurations.populatePaintArrays(Se.length,T,T.index,{},ge,ut&&ut[dr])}u.placedSymbolArray.emplaceBack(z.x,z.y,Qe,this.glyphOffsetArray.length-Qe,Je,Q,J,z.segment,y?y[0]:0,y?y[1]:0,b[0],b[1],F,0,!1,0,ae)}_addCollisionDebugVertex(u,h,y,b,B,T){return h.emplaceBack(0,0),u.emplaceBack(y.x,y.y,b,B,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(u,h,y,b,B,T,F){const z=B.segments.prepareSegment(4,B.layoutVertexArray,B.indexArray),Q=z.vertexLength,J=B.layoutVertexArray,ae=B.collisionVertexArray,ge=F.anchorX,Ce=F.anchorY;this._addCollisionDebugVertex(J,ae,T,ge,Ce,new L(u,h)),this._addCollisionDebugVertex(J,ae,T,ge,Ce,new L(y,h)),this._addCollisionDebugVertex(J,ae,T,ge,Ce,new L(y,b)),this._addCollisionDebugVertex(J,ae,T,ge,Ce,new L(u,b)),z.vertexLength+=4;const Se=B.indexArray;Se.emplaceBack(Q,Q+1),Se.emplaceBack(Q+1,Q+2),Se.emplaceBack(Q+2,Q+3),Se.emplaceBack(Q+3,Q),z.primitiveLength+=4}addDebugCollisionBoxes(u,h,y,b){for(let B=u;B<h;B++){const T=this.collisionBoxArray.get(B);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,b?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new x_(Ft,V2.members,on),this.iconCollisionBox=new x_(Ft,V2.members,on);for(let u=0;u<this.symbolInstances.length;u++){const h=this.symbolInstances.get(u);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(u,h,y,b,B,T,F,z,Q){const J={};for(let ae=h;ae<y;ae++){const ge=u.get(ae);J.textBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},J.textFeatureIndex=ge.featureIndex;break}for(let ae=b;ae<B;ae++){const ge=u.get(ae);J.verticalTextBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},J.verticalTextFeatureIndex=ge.featureIndex;break}for(let ae=T;ae<F;ae++){const ge=u.get(ae);J.iconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},J.iconFeatureIndex=ge.featureIndex;break}for(let ae=z;ae<Q;ae++){const ge=u.get(ae);J.verticalIconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},J.verticalIconFeatureIndex=ge.featureIndex;break}return J}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const y=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,h){const y=u.placedSymbolArray.get(h),b=y.vertexStartIndex+4*y.numGlyphs;for(let B=y.vertexStartIndex;B<b;B+=4)u.indexArray.emplaceBack(B,B+2,B+1),u.indexArray.emplaceBack(B+1,B+2,B+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(u),y=Math.cos(u),b=[],B=[],T=[];for(let F=0;F<this.symbolInstances.length;++F){T.push(F);const z=this.symbolInstances.get(F);b.push(0|Math.round(h*z.anchorX+y*z.anchorY)),B.push(z.featureIndex)}return T.sort((F,z)=>b[F]-b[z]||B[z]-B[F]),T}addToSortKeyRanges(u,h){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===h?y.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const y=this.symbolInstances.get(h);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((b,B,T)=>{b>=0&&T.indexOf(b)===B&&this.addIndicesForPlacedSymbol(this.text,b)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Ax,cx;ir("SymbolBucket",$m,{omit:["layers","collisionBoxArray","features","compareText"]}),$m.MAX_GLYPHS=65535,$m.addDynamicAttributes=b_;var w_={get paint(){return cx=cx||new Zo({"icon-opacity":new jr(Re.paint_symbol["icon-opacity"]),"icon-color":new jr(Re.paint_symbol["icon-color"]),"icon-halo-color":new jr(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new jr(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new jr(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new Cr(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new Cr(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new jr(Re.paint_symbol["text-opacity"]),"text-color":new jr(Re.paint_symbol["text-color"],{runtimeType:Tr,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new jr(Re.paint_symbol["text-halo-color"]),"text-halo-width":new jr(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new jr(Re.paint_symbol["text-halo-blur"]),"text-translate":new Cr(Re.paint_symbol["text-translate"]),"text-translate-anchor":new Cr(Re.paint_symbol["text-translate-anchor"])})},get layout(){return Ax=Ax||new Zo({"symbol-placement":new Cr(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new Cr(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Cr(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new jr(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Cr(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Cr(Re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Cr(Re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Cr(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new Cr(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Cr(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new jr(Re.layout_symbol["icon-size"]),"icon-text-fit":new Cr(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new jr(Re.layout_symbol["icon-image"]),"icon-rotate":new jr(Re.layout_symbol["icon-rotate"]),"icon-padding":new jr(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new Cr(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new jr(Re.layout_symbol["icon-offset"]),"icon-anchor":new jr(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Cr(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Cr(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Cr(Re.layout_symbol["text-rotation-alignment"]),"text-field":new jr(Re.layout_symbol["text-field"]),"text-font":new jr(Re.layout_symbol["text-font"]),"text-size":new jr(Re.layout_symbol["text-size"]),"text-max-width":new jr(Re.layout_symbol["text-max-width"]),"text-line-height":new Cr(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new jr(Re.layout_symbol["text-letter-spacing"]),"text-justify":new jr(Re.layout_symbol["text-justify"]),"text-radial-offset":new jr(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Cr(Re.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new jr(Re.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new jr(Re.layout_symbol["text-anchor"]),"text-max-angle":new Cr(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new Cr(Re.layout_symbol["text-writing-mode"]),"text-rotate":new jr(Re.layout_symbol["text-rotate"]),"text-padding":new Cr(Re.layout_symbol["text-padding"]),"text-keep-upright":new Cr(Re.layout_symbol["text-keep-upright"]),"text-transform":new jr(Re.layout_symbol["text-transform"]),"text-offset":new jr(Re.layout_symbol["text-offset"]),"text-allow-overlap":new Cr(Re.layout_symbol["text-allow-overlap"]),"text-overlap":new Cr(Re.layout_symbol["text-overlap"]),"text-ignore-placement":new Cr(Re.layout_symbol["text-ignore-placement"]),"text-optional":new Cr(Re.layout_symbol["text-optional"])})}};class hx{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:Sr,this.defaultValue=u}evaluate(u){if(u.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(u.formattedSection))return h.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ir("FormatSectionOverride",hx,{omit:["defaultValue"]});class U1 extends Tu{constructor(u){super(u,w_)}recalculate(u,h){if(super.recalculate(u,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const b=[];for(const B of y)b.indexOf(B)<0&&b.push(B);this.layout._values["text-writing-mode"]=b}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,h,y,b){const B=this.layout.get(u).evaluate(h,{},y,b),T=this._unevaluatedLayout._values[u];return T.isDataDriven()||bl(T.value)||!B?B:function(F,z){return z.replace(/{([^{}]+)}/g,(Q,J)=>F&&J in F?String(F[J]):"")}(h.properties,B)}createBucket(u){return new $m(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of w_.paint.overridableProperties){if(!U1.hasPaintOverride(this.layout,u))continue;const h=this.paint.get(u),y=new hx(h),b=new su(y,h.property.specification);let B=null;B=h.value.kind==="constant"||h.value.kind==="source"?new Sd("source",b):new lu("composite",b,h.value.zoomStops),this.paint._values[u]=new Bs(h.property,B,h.parameters)}}_handleOverridablePaintPropertyUpdate(u,h,y){return!(!this.layout||h.isDataDriven()||y.isDataDriven())&&U1.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,h){const y=u.get("text-field"),b=w_.paint.properties[h];let B=!1;const T=F=>{for(const z of F)if(b.overrides&&b.overrides.hasOverride(z))return void(B=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Ro)T(y.value.value.sections);else if(y.value.kind==="source"){const F=Q=>{B||(Q instanceof xo&&Uo(Q.value)===Zi?T(Q.value.sections):Q instanceof _l?T(Q.sections):Q.eachChild(F))},z=y.value;z._styleExpression&&F(z._styleExpression.expression)}return B}}let dx;var xS={get paint(){return dx=dx||new Zo({"background-color":new Cr(Re.paint_background["background-color"]),"background-pattern":new QA(Re.paint_background["background-pattern"]),"background-opacity":new Cr(Re.paint_background["background-opacity"])})}};class wS extends Tu{constructor(u){super(u,xS)}}let fx;var j1={get paint(){return fx=fx||new Zo({"raster-opacity":new Cr(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new Cr(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Cr(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Cr(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new Cr(Re.paint_raster["raster-saturation"]),"raster-contrast":new Cr(Re.paint_raster["raster-contrast"]),"raster-resampling":new Cr(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new Cr(Re.paint_raster["raster-fade-duration"])})}};class MS extends Tu{constructor(u){super(u,j1)}}class px extends Tu{constructor(u){super(u,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class mx{constructor(u){this._methodToThrottle=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const og=63710088e-1;class Hd{constructor(u,h){if(isNaN(u)||isNaN(h))throw new Error(`Invalid LngLat object: (${u}, ${h})`);if(this.lng=+u,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Hd(tn(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const h=Math.PI/180,y=this.lat*h,b=u.lat*h,B=Math.sin(y)*Math.sin(b)+Math.cos(y)*Math.cos(b)*Math.cos((u.lng-this.lng)*h);return og*Math.acos(Math.min(B,1))}static convert(u){if(u instanceof Hd)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new Hd(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&typeof u=="object"&&u!==null)return new Hd(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const M_=2*Math.PI*og;function S_(d){return M_*Math.cos(d*Math.PI/180)}function E_(d){return(180+d)/360}function gx(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function yx(d,u){return d/S_(u)}function O_(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}function ag(d,u){return d*S_(O_(u))}class Wf{constructor(u,h,y=0){this.x=+u,this.y=+h,this.z=+y}static fromLngLat(u,h=0){const y=Hd.convert(u);return new Wf(E_(y.lng),gx(y.lat),yx(h,y.lat))}toLngLat(){return new Hd(360*this.x-180,O_(this.y))}toAltitude(){return ag(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/M_*(u=O_(this.y),1/Math.cos(u*Math.PI/180));var u}}function vx(d,u,h){var y=2*Math.PI*6378137/256/Math.pow(2,h);return[d*y-2*Math.PI*6378137/2,u*y-2*Math.PI*6378137/2]}class B_{constructor(u,h,y){if(!function(b,B,T){return!(b<0||b>25||T<0||T>=Math.pow(2,b)||B<0||B>=Math.pow(2,b))}(u,h,y))throw new Error(`x=${h}, y=${y}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=h,this.y=y,this.key=Ym(0,u,u,h,y)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,h,y){const b=(T=this.y,F=this.z,z=vx(256*(B=this.x),256*(T=Math.pow(2,F)-T-1),F),Q=vx(256*(B+1),256*(T+1),F),z[0]+","+z[1]+","+Q[0]+","+Q[1]);var B,T,F,z,Q;const J=function(ae,ge,Ce){let Se,Le="";for(let Qe=ae;Qe>0;Qe--)Se=1<<Qe-1,Le+=(ge&Se?1:0)+(Ce&Se?2:0);return Le}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,J).replace(/{bbox-epsg-3857}/g,b)}isChildOf(u){const h=this.z-u.z;return h>0&&u.x===this.x>>h&&u.y===this.y>>h}getTilePoint(u){const h=Math.pow(2,this.z);return new L((u.x*h-this.x)*pt,(u.y*h-this.y)*pt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class z1{constructor(u,h){this.wrap=u,this.canonical=h,this.key=Ym(u,h.z,h.z,h.x,h.y)}}class xA{constructor(u,h,y,b,B){if(this.terrainRttPosMatrix32f=null,u<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${y}`);this.overscaledZ=u,this.wrap=h,this.canonical=new B_(y,+b,+B),this.key=Ym(h,u,y,b,B)}clone(){return new xA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-u;return u>this.canonical.z?new xA(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xA(u,this.wrap,u,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(u,h){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-u;return u>this.canonical.z?Ym(this.wrap*+h,u,this.canonical.z,this.canonical.x,this.canonical.y):Ym(this.wrap*+h,u,u,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const h=this.canonical.z-u.canonical.z;return u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>h&&u.canonical.y===this.canonical.y>>h}children(u){if(this.overscaledZ>=u)return[new xA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,y=2*this.canonical.x,b=2*this.canonical.y;return[new xA(h,this.wrap,h,y,b),new xA(h,this.wrap,h,y+1,b),new xA(h,this.wrap,h,y,b+1),new xA(h,this.wrap,h,y+1,b+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new xA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new xA(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new z1(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new Wf(u.x-this.wrap,u.y))}}function Ym(d,u,h,y,b){(d*=2)<0&&(d=-1*d-1);const B=1<<h;return(B*B*d+B*b+y).toString(36)+h.toString(36)+u.toString(36)}ir("CanonicalTileID",B_),ir("OverscaledTileID",xA,{omit:["terrainRttPosMatrix32f"]});class _x{constructor(u,h,y,b=1,B=1,T=1,F=0){if(this.uid=u,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void Ge(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const z=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=b,this.greenFactor=B,this.blueFactor=T,this.baseShift=F;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let Q=0;Q<z;Q++)this.data[this._idx(-1,Q)]=this.data[this._idx(0,Q)],this.data[this._idx(z,Q)]=this.data[this._idx(z-1,Q)],this.data[this._idx(Q,-1)]=this.data[this._idx(Q,0)],this.data[this._idx(Q,z)]=this.data[this._idx(Q,z-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(z,-1)]=this.data[this._idx(z-1,0)],this.data[this._idx(-1,z)]=this.data[this._idx(0,z-1)],this.data[this._idx(z,z)]=this.data[this._idx(z-1,z-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let Q=0;Q<z;Q++)for(let J=0;J<z;J++){const ae=this.get(Q,J);ae>this.max&&(this.max=ae),ae<this.min&&(this.min=ae)}}get(u,h){const y=new Uint8Array(this.data.buffer),b=4*this._idx(u,h);return this.unpack(y[b],y[b+1],y[b+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,h){if(u<-1||u>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(u+1)}unpack(u,h,y){return u*this.redFactor+h*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new Fu({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,h,y){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let b=h*this.dim,B=h*this.dim+this.dim,T=y*this.dim,F=y*this.dim+this.dim;switch(h){case-1:b=B-1;break;case 1:B=b+1}switch(y){case-1:T=F-1;break;case 1:F=T+1}const z=-h*this.dim,Q=-y*this.dim;for(let J=T;J<F;J++)for(let ae=b;ae<B;ae++)this.data[this._idx(ae,J)]=u.data[this._idx(ae+z,J+Q)]}}ir("DEMData",_x);class Cx{constructor(u){this._stringToNumber={},this._numberToString=[];for(let h=0;h<u.length;h++){const y=u[h];this._stringToNumber[y]=h,this._numberToString[h]=y}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class bx{constructor(u,h,y,b,B){this.type="Feature",this._vectorTileFeature=u,u._z=h,u._x=y,u._y=b,this.properties=u.properties,this.id=B}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(u[h]=this[h]);return u}}class xx{constructor(u,h){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new kd(pt,16,0),this.grid3D=new kd(pt,16,0),this.featureIndexArray=new De,this.promoteId=h}insert(u,h,y,b,B,T){const F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,b,B);const z=T?this.grid3D:this.grid;for(let Q=0;Q<h.length;Q++){const J=h[Q],ae=[1/0,1/0,-1/0,-1/0];for(let ge=0;ge<J.length;ge++){const Ce=J[ge];ae[0]=Math.min(ae[0],Ce.x),ae[1]=Math.min(ae[1],Ce.y),ae[2]=Math.max(ae[2],Ce.x),ae[3]=Math.max(ae[3],Ce.y)}ae[0]<pt&&ae[1]<pt&&ae[2]>=0&&ae[3]>=0&&z.insert(F,ae[0],ae[1],ae[2],ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ru.VectorTile(new m_(this.rawTileData)).layers,this.sourceLayerCoder=new Cx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,h,y,b){this.loadVTLayers();const B=u.params,T=pt/u.tileSize/u.scale,F=dA(B.filter),z=u.queryGeometry,Q=u.queryPadding*T,J=Mx(z),ae=this.grid.query(J.minX-Q,J.minY-Q,J.maxX+Q,J.maxY+Q),ge=Mx(u.cameraQueryGeometry),Ce=this.grid3D.query(ge.minX-Q,ge.minY-Q,ge.maxX+Q,ge.maxY+Q,(Qe,Je,Mt,ut)=>function(ve,Ne,dt,Wt,bn){for(const an of ve)if(Ne<=an.x&&dt<=an.y&&Wt>=an.x&&bn>=an.y)return!0;const Ht=[new L(Ne,dt),new L(Ne,bn),new L(Wt,bn),new L(Wt,dt)];if(ve.length>2){for(const an of Ht)if(Ec(ve,an))return!0}for(let an=0;an<ve.length-1;an++)if(c_(ve[an],ve[an+1],Ht))return!0;return!1}(u.cameraQueryGeometry,Qe-Q,Je-Q,Mt+Q,ut+Q));for(const Qe of Ce)ae.push(Qe);ae.sort(SS);const Se={};let Le;for(let Qe=0;Qe<ae.length;Qe++){const Je=ae[Qe];if(Je===Le)continue;Le=Je;const Mt=this.featureIndexArray.get(Je);let ut=null;this.loadMatchingFeature(Se,Mt.bucketIndex,Mt.sourceLayerIndex,Mt.featureIndex,F,B.layers,B.availableImages,h,y,b,(ve,Ne,dt)=>(ut||(ut=Ah(ve)),Ne.queryIntersectsFeature({queryGeometry:z,feature:ve,featureState:dt,geometry:ut,zoom:this.z,transform:u.transform,pixelsToTileUnits:T,pixelPosMatrix:u.pixelPosMatrix})))}return Se}loadMatchingFeature(u,h,y,b,B,T,F,z,Q,J,ae){const ge=this.bucketLayerIDs[h];if(T&&!ge.some(Qe=>T.has(Qe)))return;const Ce=this.sourceLayerCoder.decode(y),Se=this.vtLayers[Ce].feature(b);if(B.needGeometry){const Qe=_A(Se,!0);if(!B.filter(new Ho(this.tileID.overscaledZ),Qe,this.tileID.canonical))return}else if(!B.filter(new Ho(this.tileID.overscaledZ),Se))return;const Le=this.getId(Se,Ce);for(let Qe=0;Qe<ge.length;Qe++){const Je=ge[Qe];if(T&&!T.has(Je))continue;const Mt=z[Je];if(!Mt)continue;let ut={};Le&&J&&(ut=J.getState(Mt.sourceLayer||"_geojsonTileLayer",Le));const ve=St({},Q[Je]);ve.paint=wx(ve.paint,Mt.paint,Se,ut,F),ve.layout=wx(ve.layout,Mt.layout,Se,ut,F);const Ne=!ae||ae(Se,Mt,ut);if(!Ne)continue;const dt=new bx(Se,this.z,this.x,this.y,Le);dt.layer=ve;let Wt=u[Je];Wt===void 0&&(Wt=u[Je]=[]),Wt.push({featureIndex:b,feature:dt,intersectionZ:Ne})}}lookupSymbolFeatures(u,h,y,b,B,T,F,z){const Q={};this.loadVTLayers();const J=dA(B);for(const ae of u)this.loadMatchingFeature(Q,y,b,ae,J,T,F,z,h);return Q}hasLayer(u){for(const h of this.bucketLayerIDs)for(const y of h)if(u===y)return!0;return!1}getId(u,h){var y;let b=u.id;return this.promoteId&&(b=u.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof b=="boolean"&&(b=Number(b)),b===void 0&&(!((y=u.properties)===null||y===void 0)&&y.cluster)&&this.promoteId&&(b=Number(u.properties.cluster_id))),b}}function wx(d,u,h,y,b){return Nt(d,(B,T)=>{const F=u instanceof Xu?u.get(T):null;return F&&F.evaluate?F.evaluate(h,y,b):F})}function Mx(d){let u=1/0,h=1/0,y=-1/0,b=-1/0;for(const B of d)u=Math.min(u,B.x),h=Math.min(h,B.y),y=Math.max(y,B.x),b=Math.max(b,B.y);return{minX:u,minY:h,maxX:y,maxY:b}}function SS(d,u){return u-d}function Sx(d,u,h,y,b){const B=[];for(let T=0;T<d.length;T++){const F=d[T];let z;for(let Q=0;Q<F.length-1;Q++){let J=F[Q],ae=F[Q+1];J.x<u&&ae.x<u||(J.x<u?J=new L(u,J.y+(u-J.x)/(ae.x-J.x)*(ae.y-J.y))._round():ae.x<u&&(ae=new L(u,J.y+(u-J.x)/(ae.x-J.x)*(ae.y-J.y))._round()),J.y<h&&ae.y<h||(J.y<h?J=new L(J.x+(h-J.y)/(ae.y-J.y)*(ae.x-J.x),h)._round():ae.y<h&&(ae=new L(J.x+(h-J.y)/(ae.y-J.y)*(ae.x-J.x),h)._round()),J.x>=y&&ae.x>=y||(J.x>=y?J=new L(y,J.y+(y-J.x)/(ae.x-J.x)*(ae.y-J.y))._round():ae.x>=y&&(ae=new L(y,J.y+(y-J.x)/(ae.x-J.x)*(ae.y-J.y))._round()),J.y>=b&&ae.y>=b||(J.y>=b?J=new L(J.x+(b-J.y)/(ae.y-J.y)*(ae.x-J.x),b)._round():ae.y>=b&&(ae=new L(J.x+(b-J.y)/(ae.y-J.y)*(ae.x-J.x),b)._round()),z&&J.equals(z[z.length-1])||(z=[J],B.push(z)),z.push(ae)))))}}return B}ir("FeatureIndex",xx,{omit:["rawTileData","sourceLayerCoder"]});class Gf extends L{constructor(u,h,y,b){super(u,h),this.angle=y,b!==void 0&&(this.segment=b)}clone(){return new Gf(this.x,this.y,this.angle,this.segment)}}function Ex(d,u,h,y,b){if(u.segment===void 0||h===0)return!0;let B=u,T=u.segment+1,F=0;for(;F>-h/2;){if(T--,T<0)return!1;F-=d[T].dist(B),B=d[T]}F+=d[T].dist(d[T+1]),T++;const z=[];let Q=0;for(;F<h/2;){const J=d[T],ae=d[T+1];if(!ae)return!1;let ge=d[T-1].angleTo(J)-J.angleTo(ae);for(ge=Math.abs((ge+3*Math.PI)%(2*Math.PI)-Math.PI),z.push({distance:F,angleDelta:ge}),Q+=ge;F-z[0].distance>y;)Q-=z.shift().angleDelta;if(Q>b)return!1;T++,F+=J.dist(ae)}return!0}function Ox(d){let u=0;for(let h=0;h<d.length-1;h++)u+=d[h].dist(d[h+1]);return u}function kc(d,u,h){return d?.6*u*h:0}function Bx(d,u){return Math.max(d?d.right-d.left:0,u?u.right-u.left:0)}function ES(d,u,h,y,b,B){const T=kc(h,b,B),F=Bx(h,y)*B;let z=0;const Q=Ox(d)/2;for(let J=0;J<d.length-1;J++){const ae=d[J],ge=d[J+1],Ce=ae.dist(ge);if(z+Ce>Q){const Se=(Q-z)/Ce,Le=ri.number(ae.x,ge.x,Se),Qe=ri.number(ae.y,ge.y,Se),Je=new Gf(Le,Qe,ge.angleTo(ae),J);return Je._round(),!T||Ex(d,Je,F,T,u)?Je:void 0}z+=Ce}}function zp(d,u,h,y,b,B,T,F,z){const Q=kc(y,B,T),J=Bx(y,b),ae=J*T,ge=d[0].x===0||d[0].x===z||d[0].y===0||d[0].y===z;return u-ae<u/4&&(u=ae+u/4),ji(d,ge?u/2*F%u:(J/2+2*B)*T*F%u,u,Q,h,ae,ge,!1,z)}function ji(d,u,h,y,b,B,T,F,z){const Q=B/2,J=Ox(d);let ae=0,ge=u-h,Ce=[];for(let Se=0;Se<d.length-1;Se++){const Le=d[Se],Qe=d[Se+1],Je=Le.dist(Qe),Mt=Qe.angleTo(Le);for(;ge+h<ae+Je;){ge+=h;const ut=(ge-ae)/Je,ve=ri.number(Le.x,Qe.x,ut),Ne=ri.number(Le.y,Qe.y,ut);if(ve>=0&&ve<z&&Ne>=0&&Ne<z&&ge-Q>=0&&ge+Q<=J){const dt=new Gf(ve,Ne,Mt,Se);dt._round(),y&&!Ex(d,dt,B,y,b)||Ce.push(dt)}}ae+=Je}return F||Ce.length||T||(Ce=ji(d,ae/2,h,y,b,B,T,!0,z)),Ce}ir("Anchor",Gf);const sg=eA;function tA(d,u,h,y){const b=[],B=d.image,T=B.pixelRatio,F=B.paddedRect.w-2*sg,z=B.paddedRect.h-2*sg;let Q={x1:d.left,y1:d.top,x2:d.right,y2:d.bottom};const J=B.stretchX||[[0,F]],ae=B.stretchY||[[0,z]],ge=(hn,fr)=>hn+fr[1]-fr[0],Ce=J.reduce(ge,0),Se=ae.reduce(ge,0),Le=F-Ce,Qe=z-Se;let Je=0,Mt=Ce,ut=0,ve=Se,Ne=0,dt=Le,Wt=0,bn=Qe;if(B.content&&y){const hn=B.content,fr=hn[2]-hn[0],dr=hn[3]-hn[1];(B.textFitWidth||B.textFitHeight)&&(Q=ax(d)),Je=is(J,0,hn[0]),ut=is(ae,0,hn[1]),Mt=is(J,hn[0],hn[2]),ve=is(ae,hn[1],hn[3]),Ne=hn[0]-Je,Wt=hn[1]-ut,dt=fr-Mt,bn=dr-ve}const Ht=Q.x1,an=Q.y1,Bn=Q.x2-Ht,Cn=Q.y2-an,Rn=(hn,fr,dr,pr)=>{const Ir=dh(hn.stretch-Je,Mt,Bn,Ht),Yi=N1(hn.fixed-Ne,dt,hn.stretch,Ce),Ga=dh(fr.stretch-ut,ve,Cn,an),Ts=N1(fr.fixed-Wt,bn,fr.stretch,Se),wl=dh(dr.stretch-Je,Mt,Bn,Ht),Tc=N1(dr.fixed-Ne,dt,dr.stretch,Ce),zu=dh(pr.stretch-ut,ve,Cn,an),cl=N1(pr.fixed-Wt,bn,pr.stretch,Se),Vl=new L(Ir,Ga),ss=new L(wl,Ga),Ys=new L(wl,zu),du=new L(Ir,zu),fu=new L(Yi/T,Ts/T),Nu=new L(Tc/T,cl/T),qs=u*Math.PI/180;if(qs){const qi=Math.sin(qs),Hl=Math.cos(qs),Ua=[Hl,-qi,qi,Hl];Vl._matMult(Ua),ss._matMult(Ua),du._matMult(Ua),Ys._matMult(Ua)}const VA=hn.stretch+hn.fixed,nA=fr.stretch+fr.fixed;return{tl:Vl,tr:ss,bl:du,br:Ys,tex:{x:B.paddedRect.x+sg+VA,y:B.paddedRect.y+sg+nA,w:dr.stretch+dr.fixed-VA,h:pr.stretch+pr.fixed-nA},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fu,pixelOffsetBR:Nu,minFontScaleX:dt/T/Bn,minFontScaleY:bn/T/Cn,isSDF:h}};if(y&&(B.stretchX||B.stretchY)){const hn=Ix(J,Le,Ce),fr=Ix(ae,Qe,Se);for(let dr=0;dr<hn.length-1;dr++){const pr=hn[dr],Ir=hn[dr+1];for(let Yi=0;Yi<fr.length-1;Yi++)b.push(Rn(pr,fr[Yi],Ir,fr[Yi+1]))}}else b.push(Rn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:z+1}));return b}function is(d,u,h){let y=0;for(const b of d)y+=Math.max(u,Math.min(h,b[1]))-Math.max(u,Math.min(h,b[0]));return y}function Ix(d,u,h){const y=[{fixed:-1,stretch:0}];for(const[b,B]of d){const T=y[y.length-1];y.push({fixed:b-T.stretch,stretch:T.stretch}),y.push({fixed:b-T.stretch,stretch:T.stretch+(B-b)})}return y.push({fixed:u+sg,stretch:h}),y}function dh(d,u,h,y){return d/u*h+y}function N1(d,u,h,y){return d-u*h/y}class W1{constructor(u,h,y,b,B,T,F,z,Q,J){var ae;if(this.boxStartIndex=u.length,Q){let ge=T.top,Ce=T.bottom;const Se=T.collisionPadding;Se&&(ge-=Se[1],Ce+=Se[3]);let Le=Ce-ge;Le>0&&(Le=Math.max(10,Le),this.circleDiameter=Le)}else{const ge=!((ae=T.image)===null||ae===void 0)&&ae.content&&(T.image.textFitWidth||T.image.textFitHeight)?ax(T):{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom};ge.y1=ge.y1*F-z[0],ge.y2=ge.y2*F+z[2],ge.x1=ge.x1*F-z[3],ge.x2=ge.x2*F+z[1];const Ce=T.collisionPadding;if(Ce&&(ge.x1-=Ce[0]*F,ge.y1-=Ce[1]*F,ge.x2+=Ce[2]*F,ge.y2+=Ce[3]*F),J){const Se=new L(ge.x1,ge.y1),Le=new L(ge.x2,ge.y1),Qe=new L(ge.x1,ge.y2),Je=new L(ge.x2,ge.y2),Mt=J*Math.PI/180;Se._rotate(Mt),Le._rotate(Mt),Qe._rotate(Mt),Je._rotate(Mt),ge.x1=Math.min(Se.x,Le.x,Qe.x,Je.x),ge.x2=Math.max(Se.x,Le.x,Qe.x,Je.x),ge.y1=Math.min(Se.y,Le.y,Qe.y,Je.y),ge.y2=Math.max(Se.y,Le.y,Qe.y,Je.y)}u.emplaceBack(h.x,h.y,ge.x1,ge.y1,ge.x2,ge.y2,y,b,B)}this.boxEndIndex=u.length}}class OS{constructor(u=[],h=(y,b)=>y<b?-1:y>b?1:0){if(this.data=u,this.length=this.data.length,this.compare=h,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:h,compare:y}=this,b=h[u];for(;u>0;){const B=u-1>>1,T=h[B];if(y(b,T)>=0)break;h[u]=T,u=B}h[u]=b}_down(u){const{data:h,compare:y}=this,b=this.length>>1,B=h[u];for(;u<b;){let T=1+(u<<1);const F=T+1;if(F<this.length&&y(h[F],h[T])<0&&(T=F),y(h[T],B)>=0)break;h[u]=h[T],u=T}h[u]=B}}function BS(d,u=1,h=!1){let y=1/0,b=1/0,B=-1/0,T=-1/0;const F=d[0];for(let Ce=0;Ce<F.length;Ce++){const Se=F[Ce];(!Ce||Se.x<y)&&(y=Se.x),(!Ce||Se.y<b)&&(b=Se.y),(!Ce||Se.x>B)&&(B=Se.x),(!Ce||Se.y>T)&&(T=Se.y)}const z=Math.min(B-y,T-b);let Q=z/2;const J=new OS([],IS);if(z===0)return new L(y,b);for(let Ce=y;Ce<B;Ce+=z)for(let Se=b;Se<T;Se+=z)J.push(new Qf(Ce+Q,Se+Q,Q,d));let ae=function(Ce){let Se=0,Le=0,Qe=0;const Je=Ce[0];for(let Mt=0,ut=Je.length,ve=ut-1;Mt<ut;ve=Mt++){const Ne=Je[Mt],dt=Je[ve],Wt=Ne.x*dt.y-dt.x*Ne.y;Le+=(Ne.x+dt.x)*Wt,Qe+=(Ne.y+dt.y)*Wt,Se+=3*Wt}return new Qf(Le/Se,Qe/Se,0,Ce)}(d),ge=J.length;for(;J.length;){const Ce=J.pop();(Ce.d>ae.d||!ae.d)&&(ae=Ce,h&&console.log("found best %d after %d probes",Math.round(1e4*Ce.d)/1e4,ge)),Ce.max-ae.d<=u||(Q=Ce.h/2,J.push(new Qf(Ce.p.x-Q,Ce.p.y-Q,Q,d)),J.push(new Qf(Ce.p.x+Q,Ce.p.y-Q,Q,d)),J.push(new Qf(Ce.p.x-Q,Ce.p.y+Q,Q,d)),J.push(new Qf(Ce.p.x+Q,Ce.p.y+Q,Q,d)),ge+=4)}return h&&(console.log(`num probes: ${ge}`),console.log(`best distance: ${ae.d}`)),ae.p}function IS(d,u){return u.max-d.max}function Qf(d,u,h,y){this.p=new L(d,u),this.h=h,this.d=function(b,B){let T=!1,F=1/0;for(let z=0;z<B.length;z++){const Q=B[z];for(let J=0,ae=Q.length,ge=ae-1;J<ae;ge=J++){const Ce=Q[J],Se=Q[ge];Ce.y>b.y!=Se.y>b.y&&b.x<(Se.x-Ce.x)*(b.y-Ce.y)/(Se.y-Ce.y)+Ce.x&&(T=!T),F=Math.min(F,H0(b,Ce,Se))}}return(T?1:-1)*Math.sqrt(F)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var ql;s.av=void 0,(ql=s.av||(s.av={}))[ql.center=1]="center",ql[ql.left=2]="left",ql[ql.right=3]="right",ql[ql.top=4]="top",ql[ql.bottom=5]="bottom",ql[ql["top-left"]=6]="top-left",ql[ql["top-right"]=7]="top-right",ql[ql["bottom-left"]=8]="bottom-left",ql[ql["bottom-right"]=9]="bottom-right";const ju=7,G1=Number.POSITIVE_INFINITY;function lg(d,u){return u[1]!==G1?function(h,y,b){let B=0,T=0;switch(y=Math.abs(y),b=Math.abs(b),h){case"top-right":case"top-left":case"top":T=b-ju;break;case"bottom-right":case"bottom-left":case"bottom":T=-b+ju}switch(h){case"top-right":case"bottom-right":case"right":B=-y;break;case"top-left":case"bottom-left":case"left":B=y}return[B,T]}(d,u[0],u[1]):function(h,y){let b=0,B=0;y<0&&(y=0);const T=y/Math.SQRT2;switch(h){case"top-right":case"top-left":B=T-ju;break;case"bottom-right":case"bottom-left":B=-T+ju;break;case"bottom":B=-y+ju;break;case"top":B=y-ju}switch(h){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=y;break;case"right":b=-y}return[b,B]}(d,u[0])}function os(d,u,h){var y;const b=d.layout,B=(y=b.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(u,{},h);if(B){const F=B.values,z=[];for(let Q=0;Q<F.length;Q+=2){const J=z[Q]=F[Q],ae=F[Q+1].map(ge=>ge*$s);J.startsWith("top")?ae[1]-=ju:J.startsWith("bottom")&&(ae[1]+=ju),z[Q+1]=ae}return new Aa(z)}const T=b.get("text-variable-anchor");if(T){let F;F=d._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[b.get("text-radial-offset").evaluate(u,{},h)*$s,G1]:b.get("text-offset").evaluate(u,{},h).map(Q=>Q*$s);const z=[];for(const Q of T)z.push(Q,lg(Q,F));return new Aa(z)}return null}function as(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kx(d,u,h,y,b,B,T,F,z,Q,J,ae){let ge=B.textMaxSize.evaluate(u,{});ge===void 0&&(ge=T);const Ce=d.layers[0].layout,Se=Ce.get("icon-offset").evaluate(u,{},J),Le=Px(h.horizontal),Qe=T/24,Je=d.tilePixelRatio*Qe,Mt=d.tilePixelRatio*ge/24,ut=d.tilePixelRatio*F,ve=d.tilePixelRatio*Ce.get("symbol-spacing"),Ne=Ce.get("text-padding")*d.tilePixelRatio,dt=function(dr,pr,Ir,Yi=1){const Ga=dr.get("icon-padding").evaluate(pr,{},Ir),Ts=Ga&&Ga.values;return[Ts[0]*Yi,Ts[1]*Yi,Ts[2]*Yi,Ts[3]*Yi]}(Ce,u,J,d.tilePixelRatio),Wt=Ce.get("text-max-angle")/180*Math.PI,bn=Ce.get("text-rotation-alignment")!=="viewport"&&Ce.get("symbol-placement")!=="point",Ht=Ce.get("icon-rotation-alignment")==="map"&&Ce.get("symbol-placement")!=="point",an=Ce.get("symbol-placement"),Bn=ve/2,Cn=Ce.get("icon-text-fit");let Rn;y&&Cn!=="none"&&(d.allowVerticalPlacement&&h.vertical&&(Rn=sx(y,h.vertical,Cn,Ce.get("icon-text-fit-padding"),Se,Qe)),Le&&(y=sx(y,Le,Cn,Ce.get("icon-text-fit-padding"),Se,Qe)));const hn=J?ae.line.getGranularityForZoomLevel(J.z):1,fr=(dr,pr)=>{pr.x<0||pr.x>=pt||pr.y<0||pr.y>=pt||function(Ir,Yi,Ga,Ts,wl,Tc,zu,cl,Vl,ss,Ys,du,fu,Nu,qs,VA,nA,qi,Hl,Ua,Qa,hl,Wp,wA,Ag){const Pc=Ir.addToLineVertexArray(Yi,Ga);let MA,Ml,HA,Xd,Lx=0,Fx=0,Rx=0,Ux=0,D_=-1,L_=-1;const Jd={};let jx=Xa("");if(Ir.allowVerticalPlacement&&Ts.vertical){const pu=cl.layout.get("text-rotate").evaluate(Qa,{},wA)+90;HA=new W1(Vl,Yi,ss,Ys,du,Ts.vertical,fu,Nu,qs,pu),zu&&(Xd=new W1(Vl,Yi,ss,Ys,du,zu,nA,qi,qs,pu))}if(wl){const pu=cl.layout.get("icon-rotate").evaluate(Qa,{}),ZA=cl.layout.get("icon-text-fit")!=="none",Gp=tA(wl,pu,Wp,ZA),XA=zu?tA(zu,pu,Wp,ZA):void 0;Ml=new W1(Vl,Yi,ss,Ys,du,wl,nA,qi,!1,pu),Lx=4*Gp.length;const Qp=Ir.iconSizeData;let Hh=null;Qp.kind==="source"?(Hh=[Vh*cl.layout.get("icon-size").evaluate(Qa,{})],Hh[0]>Nf&&Ge(`${Ir.layerIds[0]}: Value for "icon-size" is >= ${ig}. Reduce your "icon-size".`)):Qp.kind==="composite"&&(Hh=[Vh*hl.compositeIconSizes[0].evaluate(Qa,{},wA),Vh*hl.compositeIconSizes[1].evaluate(Qa,{},wA)],(Hh[0]>Nf||Hh[1]>Nf)&&Ge(`${Ir.layerIds[0]}: Value for "icon-size" is >= ${ig}. Reduce your "icon-size".`)),Ir.addSymbols(Ir.icon,Gp,Hh,Ua,Hl,Qa,s.ai.none,Yi,Pc.lineStartIndex,Pc.lineLength,-1,wA),D_=Ir.icon.placedSymbolArray.length-1,XA&&(Fx=4*XA.length,Ir.addSymbols(Ir.icon,XA,Hh,Ua,Hl,Qa,s.ai.vertical,Yi,Pc.lineStartIndex,Pc.lineLength,-1,wA),L_=Ir.icon.placedSymbolArray.length-1)}const zx=Object.keys(Ts.horizontal);for(const pu of zx){const ZA=Ts.horizontal[pu];if(!MA){jx=Xa(ZA.text);const XA=cl.layout.get("text-rotate").evaluate(Qa,{},wA);MA=new W1(Vl,Yi,ss,Ys,du,ZA,fu,Nu,qs,XA)}const Gp=ZA.positionedLines.length===1;if(Rx+=Tx(Ir,Yi,ZA,Tc,cl,qs,Qa,VA,Pc,Ts.vertical?s.ai.horizontal:s.ai.horizontalOnly,Gp?zx:[pu],Jd,D_,hl,wA),Gp)break}Ts.vertical&&(Ux+=Tx(Ir,Yi,Ts.vertical,Tc,cl,qs,Qa,VA,Pc,s.ai.vertical,["vertical"],Jd,L_,hl,wA));const PS=MA?MA.boxStartIndex:Ir.collisionBoxArray.length,KS=MA?MA.boxEndIndex:Ir.collisionBoxArray.length,DS=HA?HA.boxStartIndex:Ir.collisionBoxArray.length,LS=HA?HA.boxEndIndex:Ir.collisionBoxArray.length,FS=Ml?Ml.boxStartIndex:Ir.collisionBoxArray.length,RS=Ml?Ml.boxEndIndex:Ir.collisionBoxArray.length,US=Xd?Xd.boxStartIndex:Ir.collisionBoxArray.length,jS=Xd?Xd.boxEndIndex:Ir.collisionBoxArray.length;let fh=-1;const $1=(pu,ZA)=>pu&&pu.circleDiameter?Math.max(pu.circleDiameter,ZA):ZA;fh=$1(MA,fh),fh=$1(HA,fh),fh=$1(Ml,fh),fh=$1(Xd,fh);const Nx=fh>-1?1:0;Nx&&(fh*=Ag/$s),Ir.glyphOffsetArray.length>=$m.MAX_GLYPHS&&Ge("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Qa.sortKey!==void 0&&Ir.addToSortKeyRanges(Ir.symbolInstances.length,Qa.sortKey);const F_=os(cl,Qa,wA),[Wx,Gx]=function(pu,ZA){const Gp=pu.length,XA=ZA==null?void 0:ZA.values;if((XA==null?void 0:XA.length)>0)for(let Qp=0;Qp<XA.length;Qp+=2){const Hh=XA[Qp+1];pu.emplaceBack(s.av[XA[Qp]],Hh[0],Hh[1])}return[Gp,pu.length]}(Ir.textAnchorOffsets,F_);Ir.symbolInstances.emplaceBack(Yi.x,Yi.y,Jd.right>=0?Jd.right:-1,Jd.center>=0?Jd.center:-1,Jd.left>=0?Jd.left:-1,Jd.vertical||-1,D_,L_,jx,PS,KS,DS,LS,FS,RS,US,jS,ss,Rx,Ux,Lx,Fx,Nx,0,fu,fh,Wx,Gx)}(d,pr,dr,h,y,b,Rn,d.layers[0],d.collisionBoxArray,u.index,u.sourceLayerIndex,d.index,Je,[Ne,Ne,Ne,Ne],bn,z,ut,dt,Ht,Se,u,B,Q,J,T)};if(an==="line")for(const dr of Sx(u.geometry,0,0,pt,pt)){const pr=Pn(dr,hn),Ir=zp(pr,ve,Wt,h.vertical||Le,y,24,Mt,d.overscaling,pt);for(const Yi of Ir)Le&&kS(d,Le.text,Bn,Yi)||fr(pr,Yi)}else if(an==="line-center"){for(const dr of u.geometry)if(dr.length>1){const pr=Pn(dr,hn),Ir=ES(pr,Wt,h.vertical||Le,y,24,Mt);Ir&&fr(pr,Ir)}}else if(u.type==="Polygon")for(const dr of Ac(u.geometry,0)){const pr=BS(dr,16);fr(Pn(dr[0],hn,!0),new Gf(pr.x,pr.y,0))}else if(u.type==="LineString")for(const dr of u.geometry){const pr=Pn(dr,hn);fr(pr,new Gf(pr[0].x,pr[0].y,0))}else if(u.type==="Point")for(const dr of u.geometry)for(const pr of dr)fr([pr],new Gf(pr.x,pr.y,0))}function Tx(d,u,h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se){const Le=function(Mt,ut,ve,Ne,dt,Wt,bn,Ht){const an=Ne.layout.get("text-rotate").evaluate(Wt,{})*Math.PI/180,Bn=[];for(const Cn of ut.positionedLines)for(const Rn of Cn.positionedGlyphs){if(!Rn.rect)continue;const hn=Rn.rect||{};let fr=J2+1,dr=!0,pr=1,Ir=0;const Yi=(dt||Ht)&&Rn.vertical,Ga=Rn.metrics.advance*Rn.scale/2;if(Ht&&ut.verticalizable&&(Ir=Cn.lineOffset/2-(Rn.imageName?-($s-Rn.metrics.width*Rn.scale)/2:(Rn.scale-1)*$s)),Rn.imageName){const qi=bn[Rn.imageName];dr=qi.sdf,pr=qi.pixelRatio,fr=eA/pr}const Ts=dt?[Rn.x+Ga,Rn.y]:[0,0];let wl=dt?[0,0]:[Rn.x+Ga+ve[0],Rn.y+ve[1]-Ir],Tc=[0,0];Yi&&(Tc=wl,wl=[0,0]);const zu=Rn.metrics.isDoubleResolution?2:1,cl=(Rn.metrics.left-fr)*Rn.scale-Ga+wl[0],Vl=(-Rn.metrics.top-fr)*Rn.scale+wl[1],ss=cl+hn.w/zu*Rn.scale/pr,Ys=Vl+hn.h/zu*Rn.scale/pr,du=new L(cl,Vl),fu=new L(ss,Vl),Nu=new L(cl,Ys),qs=new L(ss,Ys);if(Yi){const qi=new L(-Ga,Ga-tg),Hl=-Math.PI/2,Ua=$s/2-Ga,Qa=new L(5-tg-Ua,-(Rn.imageName?Ua:0)),hl=new L(...Tc);du._rotateAround(Hl,qi)._add(Qa)._add(hl),fu._rotateAround(Hl,qi)._add(Qa)._add(hl),Nu._rotateAround(Hl,qi)._add(Qa)._add(hl),qs._rotateAround(Hl,qi)._add(Qa)._add(hl)}if(an){const qi=Math.sin(an),Hl=Math.cos(an),Ua=[Hl,-qi,qi,Hl];du._matMult(Ua),fu._matMult(Ua),Nu._matMult(Ua),qs._matMult(Ua)}const VA=new L(0,0),nA=new L(0,0);Bn.push({tl:du,tr:fu,bl:Nu,br:qs,tex:hn,writingMode:ut.writingMode,glyphOffset:Ts,sectionIndex:Rn.sectionIndex,isSDF:dr,pixelOffsetTL:VA,pixelOffsetBR:nA,minFontScaleX:0,minFontScaleY:0})}return Bn}(0,h,F,b,B,T,y,d.allowVerticalPlacement),Qe=d.textSizeData;let Je=null;Qe.kind==="source"?(Je=[Vh*b.layout.get("text-size").evaluate(T,{})],Je[0]>Nf&&Ge(`${d.layerIds[0]}: Value for "text-size" is >= ${ig}. Reduce your "text-size".`)):Qe.kind==="composite"&&(Je=[Vh*Ce.compositeTextSizes[0].evaluate(T,{},Se),Vh*Ce.compositeTextSizes[1].evaluate(T,{},Se)],(Je[0]>Nf||Je[1]>Nf)&&Ge(`${d.layerIds[0]}: Value for "text-size" is >= ${ig}. Reduce your "text-size".`)),d.addSymbols(d.text,Le,Je,F,B,T,Q,u,z.lineStartIndex,z.lineLength,ge,Se);for(const Mt of J)ae[Mt]=d.text.placedSymbolArray.length-1;return 4*Le.length}function Px(d){for(const u in d)return d[u];return null}function kS(d,u,h,y){const b=d.compareText;if(u in b){const B=b[u];for(let T=B.length-1;T>=0;T--)if(y.dist(B[T])<h)return!0}else b[u]=[];return b[u].push(y),!1}const Kx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class I_{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,y]=new Uint8Array(u,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const b=y>>4;if(b!==1)throw new Error(`Got v${b} data when expected v1.`);const B=Kx[15&y];if(!B)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(u,2,1),[F]=new Uint32Array(u,4,1);return new I_(F,T,B,u)}constructor(u,h=64,y=Float64Array,b){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=y,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const B=Kx.indexOf(this.ArrayType),T=2*u*this.ArrayType.BYTES_PER_ELEMENT,F=u*this.IndexArrayType.BYTES_PER_ELEMENT,z=(8-F%8)%8;if(B<0)throw new Error(`Unexpected typed array class: ${y}.`);b&&b instanceof ArrayBuffer?(this.data=b,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+F+z,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+T+F+z),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+F+z,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+B]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=u)}add(u,h){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=u,this.coords[this._pos++]=h,y}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return k_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,h,y,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:B,coords:T,nodeSize:F}=this,z=[0,B.length-1,0],Q=[];for(;z.length;){const J=z.pop()||0,ae=z.pop()||0,ge=z.pop()||0;if(ae-ge<=F){for(let Qe=ge;Qe<=ae;Qe++){const Je=T[2*Qe],Mt=T[2*Qe+1];Je>=u&&Je<=y&&Mt>=h&&Mt<=b&&Q.push(B[Qe])}continue}const Ce=ge+ae>>1,Se=T[2*Ce],Le=T[2*Ce+1];Se>=u&&Se<=y&&Le>=h&&Le<=b&&Q.push(B[Ce]),(J===0?u<=Se:h<=Le)&&(z.push(ge),z.push(Ce-1),z.push(1-J)),(J===0?y>=Se:b>=Le)&&(z.push(Ce+1),z.push(ae),z.push(1-J))}return Q}within(u,h,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:B,nodeSize:T}=this,F=[0,b.length-1,0],z=[],Q=y*y;for(;F.length;){const J=F.pop()||0,ae=F.pop()||0,ge=F.pop()||0;if(ae-ge<=T){for(let Qe=ge;Qe<=ae;Qe++)Dx(B[2*Qe],B[2*Qe+1],u,h)<=Q&&z.push(b[Qe]);continue}const Ce=ge+ae>>1,Se=B[2*Ce],Le=B[2*Ce+1];Dx(Se,Le,u,h)<=Q&&z.push(b[Ce]),(J===0?u-y<=Se:h-y<=Le)&&(F.push(ge),F.push(Ce-1),F.push(1-J)),(J===0?u+y>=Se:h+y>=Le)&&(F.push(Ce+1),F.push(ae),F.push(1-J))}return z}}function k_(d,u,h,y,b,B){if(b-y<=h)return;const T=y+b>>1;T_(d,u,T,y,b,B),k_(d,u,h,y,T-1,1-B),k_(d,u,h,T+1,b,1-B)}function T_(d,u,h,y,b,B){for(;b>y;){if(b-y>600){const Q=b-y+1,J=h-y+1,ae=Math.log(Q),ge=.5*Math.exp(2*ae/3),Ce=.5*Math.sqrt(ae*ge*(Q-ge)/Q)*(J-Q/2<0?-1:1);T_(d,u,h,Math.max(y,Math.floor(h-J*ge/Q+Ce)),Math.min(b,Math.floor(h+(Q-J)*ge/Q+Ce)),B)}const T=u[2*h+B];let F=y,z=b;for(Zd(d,u,y,h),u[2*b+B]>T&&Zd(d,u,y,b);F<z;){for(Zd(d,u,F,z),F++,z--;u[2*F+B]<T;)F++;for(;u[2*z+B]>T;)z--}u[2*y+B]===T?Zd(d,u,y,z):(z++,Zd(d,u,z,b)),z<=h&&(y=z+1),h<=z&&(b=z-1)}}function Zd(d,u,h,y){ug(d,h,y),ug(u,2*h,2*y),ug(u,2*h+1,2*y+1)}function ug(d,u,h){const y=d[u];d[u]=d[h],d[h]=y}function Dx(d,u,h,y){const b=d-h,B=u-y;return b*b+B*B}var Q1;s.ce=void 0,(Q1=s.ce||(s.ce={})).create="create",Q1.load="load",Q1.fullLoad="fullLoad";let Np=null,hu=[];const $f=1e3/60,P_="loadTime",K_="fullLoadTime",TS={mark(d){performance.mark(d)},frame(d){const u=d;Np!=null&&hu.push(u-Np),Np=u},clearMetrics(){Np=null,hu=[],performance.clearMeasures(P_),performance.clearMeasures(K_);for(const d in s.ce)performance.clearMarks(s.ce[d])},getPerformanceMetrics(){performance.measure(P_,s.ce.create,s.ce.load),performance.measure(K_,s.ce.create,s.ce.fullLoad);const d=performance.getEntriesByName(P_)[0].duration,u=performance.getEntriesByName(K_)[0].duration,h=hu.length,y=1/(hu.reduce((B,T)=>B+T,0)/h/1e3),b=hu.filter(B=>B>$f).reduce((B,T)=>B+(T-$f)/$f,0);return{loadTime:d,fullLoadTime:u,fps:y,percentDroppedFrames:b/(h+b)*100,totalFrames:h}}};s.$=At,s.A=V,s.B=V0,s.C=function(d){if(Bt==null){const u=d.navigator?d.navigator.userAgent:null;Bt=!!d.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return Bt},s.D=Cr,s.E=cr,s.F=class{constructor(d,u){this.target=d,this.mapId=u,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new mx(()=>this.process()),this.subscription=function(h,y,b,B){return h.addEventListener(y,b,!1),{unsubscribe:()=>{h.removeEventListener(y,b,!1)}}}(this.target,"message",h=>this.receive(h)),this.globalScope=ht(self)?d:window}registerMessageHandler(d,u){this.messageHandlers[d]=u}sendAsync(d,u){return new Promise((h,y)=>{const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[b]={resolve:h,reject:y},u&&u.signal.addEventListener("abort",()=>{delete this.resolveRejects[b];const F={id:b,type:"<cancel>",origin:location.origin,targetMapId:d.targetMapId,sourceMapId:this.mapId};this.target.postMessage(F)},{once:!0});const B=[],T=Object.assign(Object.assign({},d),{id:b,sourceMapId:this.mapId,origin:location.origin,data:ah(d.data,B)});this.target.postMessage(T,{transfer:B})})}receive(d){const u=d.data,h=u.id;if(!(u.origin!=="file://"&&location.origin!=="file://"&&u.origin!=="resource://android"&&location.origin!=="resource://android"&&u.origin!==location.origin||u.targetMapId&&this.mapId!==u.targetMapId)){if(u.type==="<cancel>"){delete this.tasks[h];const y=this.abortControllers[h];return delete this.abortControllers[h],void(y&&y.abort())}if(ht(self)||u.mustQueue)return this.tasks[h]=u,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,u)}}process(){if(this.taskQueue.length===0)return;const d=this.taskQueue.shift(),u=this.tasks[d];delete this.tasks[d],this.taskQueue.length>0&&this.invoker.trigger(),u&&this.processTask(d,u)}processTask(d,u){return a(this,void 0,void 0,function*(){if(u.type==="<response>"){const b=this.resolveRejects[d];return delete this.resolveRejects[d],b?void(u.error?b.reject(jh(u.error)):b.resolve(jh(u.data))):void 0}if(!this.messageHandlers[u.type])return void this.completeTask(d,new Error(`Could not find a registered handler for ${u.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=jh(u.data),y=new AbortController;this.abortControllers[d]=y;try{const b=yield this.messageHandlers[u.type](u.sourceMapId,h,y);this.completeTask(d,null,b)}catch(b){this.completeTask(d,b)}})}completeTask(d,u,h){const y=[];delete this.abortControllers[d];const b={id:d,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:u?ah(u):null,data:ah(h,y)};this.target.postMessage(b,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.G=_r,s.H=function(){var d=new V(16);return V!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},s.I=v_,s.J=function(d,u,h){var y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le=h[0],Qe=h[1],Je=h[2];return u===d?(d[12]=u[0]*Le+u[4]*Qe+u[8]*Je+u[12],d[13]=u[1]*Le+u[5]*Qe+u[9]*Je+u[13],d[14]=u[2]*Le+u[6]*Qe+u[10]*Je+u[14],d[15]=u[3]*Le+u[7]*Qe+u[11]*Je+u[15]):(b=u[1],B=u[2],T=u[3],F=u[4],z=u[5],Q=u[6],J=u[7],ae=u[8],ge=u[9],Ce=u[10],Se=u[11],d[0]=y=u[0],d[1]=b,d[2]=B,d[3]=T,d[4]=F,d[5]=z,d[6]=Q,d[7]=J,d[8]=ae,d[9]=ge,d[10]=Ce,d[11]=Se,d[12]=y*Le+F*Qe+ae*Je+u[12],d[13]=b*Le+z*Qe+ge*Je+u[13],d[14]=B*Le+Q*Qe+Ce*Je+u[14],d[15]=T*Le+J*Qe+Se*Je+u[15]),d},s.K=function(d,u,h){var y=h[0],b=h[1],B=h[2];return d[0]=u[0]*y,d[1]=u[1]*y,d[2]=u[2]*y,d[3]=u[3]*y,d[4]=u[4]*b,d[5]=u[5]*b,d[6]=u[6]*b,d[7]=u[7]*b,d[8]=u[8]*B,d[9]=u[9]*B,d[10]=u[10]*B,d[11]=u[11]*B,d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},s.L=function(d,u,h){var y=u[0],b=u[1],B=u[2],T=u[3],F=u[4],z=u[5],Q=u[6],J=u[7],ae=u[8],ge=u[9],Ce=u[10],Se=u[11],Le=u[12],Qe=u[13],Je=u[14],Mt=u[15],ut=h[0],ve=h[1],Ne=h[2],dt=h[3];return d[0]=ut*y+ve*F+Ne*ae+dt*Le,d[1]=ut*b+ve*z+Ne*ge+dt*Qe,d[2]=ut*B+ve*Q+Ne*Ce+dt*Je,d[3]=ut*T+ve*J+Ne*Se+dt*Mt,d[4]=(ut=h[4])*y+(ve=h[5])*F+(Ne=h[6])*ae+(dt=h[7])*Le,d[5]=ut*b+ve*z+Ne*ge+dt*Qe,d[6]=ut*B+ve*Q+Ne*Ce+dt*Je,d[7]=ut*T+ve*J+Ne*Se+dt*Mt,d[8]=(ut=h[8])*y+(ve=h[9])*F+(Ne=h[10])*ae+(dt=h[11])*Le,d[9]=ut*b+ve*z+Ne*ge+dt*Qe,d[10]=ut*B+ve*Q+Ne*Ce+dt*Je,d[11]=ut*T+ve*J+Ne*Se+dt*Mt,d[12]=(ut=h[12])*y+(ve=h[13])*F+(Ne=h[14])*ae+(dt=h[15])*Le,d[13]=ut*b+ve*z+Ne*ge+dt*Qe,d[14]=ut*B+ve*Q+Ne*Ce+dt*Je,d[15]=ut*T+ve*J+Ne*Se+dt*Mt,d},s.M=function(d,u){const h={};for(let y=0;y<u.length;y++){const b=u[y];b in d&&(h[b]=d[b])}return h},s.N=Hd,s.O=E_,s.P=L,s.Q=gx,s.R=Fu,s.S=xA,s.T=Kp,s.U=ee,s.V=ne,s.W=zn,s.X=pt,s.Y=Wf,s.Z=B_,s._=a,s.a=Or,s.a$=function(){return new Float64Array(16)},s.a0=d=>{const u=window.document.createElement("video");return u.muted=!0,new Promise(h=>{u.onloadstart=()=>{h(u)};for(const y of d){const b=window.document.createElement("source");oe(y)||(u.crossOrigin="Anonymous"),b.src=y,u.appendChild(b)}})},s.a1=function(){return Xt++},s.a2=x,s.a3=$m,s.a4=dA,s.a5=_A,s.a6=bx,s.a7=function(d){const u={};if(d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,y,b,B)=>{const T=b||B;return u[y]=!T||T.toLowerCase(),""}),u["max-age"]){const h=parseInt(u["max-age"],10);isNaN(h)?delete u["max-age"]:u["max-age"]=h}return u},s.a8=function(d){return Math.log(d)/Math.LN2},s.a9=function(d){var u=d[0],h=d[1];return u*u+h*h},s.aA=Go,s.aB=at,s.aC=He,s.aD=cn,s.aE=An,s.aF=85.051129,s.aG=function(d){return Math.pow(2,d)},s.aH=yx,s.aI=tn,s.aJ=Zn,s.aK=ag,s.aL=function(d,u,h){return d[0]=u[0]*h,d[1]=u[1]*h,d[2]=u[2]*h,d},s.aM=function(d,u,h){return d[0]=u[0]+h[0],d[1]=u[1]+h[1],d[2]=u[2]+h[2],d},s.aN=function(d){var u=new V(3);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u},s.aO=function(d,u,h){return d[0]=u[0]*h[0],d[1]=u[1]*h[1],d[2]=u[2]*h[2],d[3]=u[3]*h[3],d},s.aP=function(d,u,h){return d[0]=u[0]-h[0],d[1]=u[1]-h[1],d[2]=u[2]-h[2],d},s.aQ=function(d,u){var h=u[0],y=u[1],b=u[2],B=h*h+y*y+b*b;return B>0&&(B=1/Math.sqrt(B)),d[0]=u[0]*B,d[1]=u[1]*B,d[2]=u[2]*B,d},s.aR=function(d,u,h){var y=u[0],b=u[1],B=u[2],T=h[0],F=h[1],z=h[2];return d[0]=b*z-B*F,d[1]=B*T-y*z,d[2]=y*F-b*T,d},s.aS=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]},s.aT=z1,s.aU=Ym,s.aV=function(d,u,h,y,b){var B,T=1/Math.tan(u/2);return d[0]=T/h,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=T,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,b!=null&&b!==1/0?(d[10]=(b+y)*(B=1/(y-b)),d[14]=2*b*y*B):(d[10]=-1,d[14]=-2*y),d},s.aW=function(d){var u=new V(16);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=d[6],u[7]=d[7],u[8]=d[8],u[9]=d[9],u[10]=d[10],u[11]=d[11],u[12]=d[12],u[13]=d[13],u[14]=d[14],u[15]=d[15],u},s.aX=function(d,u,h){var y=Math.sin(h),b=Math.cos(h),B=u[0],T=u[1],F=u[2],z=u[3],Q=u[4],J=u[5],ae=u[6],ge=u[7];return u!==d&&(d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=B*b+Q*y,d[1]=T*b+J*y,d[2]=F*b+ae*y,d[3]=z*b+ge*y,d[4]=Q*b-B*y,d[5]=J*b-T*y,d[6]=ae*b-F*y,d[7]=ge*b-z*y,d},s.aY=function(d,u,h){var y=Math.sin(h),b=Math.cos(h),B=u[4],T=u[5],F=u[6],z=u[7],Q=u[8],J=u[9],ae=u[10],ge=u[11];return u!==d&&(d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[4]=B*b+Q*y,d[5]=T*b+J*y,d[6]=F*b+ae*y,d[7]=z*b+ge*y,d[8]=Q*b-B*y,d[9]=J*b-T*y,d[10]=ae*b-F*y,d[11]=ge*b-z*y,d},s.aZ=function(){const d=new Float32Array(16);return be(d),d},s.a_=function(){const d=new Float64Array(16);return be(d),d},s.aa=function(d){return d*Math.PI/180},s.ab=en,s.ac=function(d,u){const h=[];for(const y in d)y in u||h.push(y);return h},s.ad=Ye,s.ae=function(d){return Math.hypot(d[0],d[1])},s.af=function(d){return d[0]=0,d[1]=0,d},s.ag=function(d,u,h){return d[0]=u[0]*h,d[1]=u[1]*h,d},s.ah=function(d,u){let h=0,y=0;if(d.kind==="constant")y=d.layoutSize;else if(d.kind!=="source"){const{interpolationType:b,minZoom:B,maxZoom:T}=d,F=b?en(er.interpolationFactor(b,u,B,T),0,1):0;d.kind==="camera"?y=ri.number(d.minSize,d.maxSize,F):h=F}return{uSizeT:h,uSize:y}},s.aj=function(d,{uSize:u,uSizeT:h},{lowerSize:y,upperSize:b}){return d.kind==="source"?y/Vh:d.kind==="composite"?ri.number(y/Vh,b/Vh,h):u},s.ak=b_,s.al=Ue,s.am=function(d,u,h,y){const b=u.y-d.y,B=u.x-d.x,T=y.y-h.y,F=y.x-h.x,z=T*B-F*b;if(z===0)return null;const Q=(F*(d.y-h.y)-T*(d.x-h.x))/z;return new L(d.x+Q*B,d.y+Q*b)},s.an=function(d,u){var h=u[0],y=u[1],b=u[2],B=u[3],T=u[4],F=u[5],z=u[6],Q=u[7],J=u[8],ae=u[9],ge=u[10],Ce=u[11],Se=u[12],Le=u[13],Qe=u[14],Je=u[15],Mt=h*F-y*T,ut=h*z-b*T,ve=h*Q-B*T,Ne=y*z-b*F,dt=y*Q-B*F,Wt=b*Q-B*z,bn=J*Le-ae*Se,Ht=J*Qe-ge*Se,an=J*Je-Ce*Se,Bn=ae*Qe-ge*Le,Cn=ae*Je-Ce*Le,Rn=ge*Je-Ce*Qe,hn=Mt*Rn-ut*Cn+ve*Bn+Ne*an-dt*Ht+Wt*bn;return hn?(d[0]=(F*Rn-z*Cn+Q*Bn)*(hn=1/hn),d[1]=(b*Cn-y*Rn-B*Bn)*hn,d[2]=(Le*Wt-Qe*dt+Je*Ne)*hn,d[3]=(ge*dt-ae*Wt-Ce*Ne)*hn,d[4]=(z*an-T*Rn-Q*Ht)*hn,d[5]=(h*Rn-b*an+B*Ht)*hn,d[6]=(Qe*ve-Se*Wt-Je*ut)*hn,d[7]=(J*Wt-ge*ve+Ce*ut)*hn,d[8]=(T*Cn-F*an+Q*bn)*hn,d[9]=(y*an-h*Cn-B*bn)*hn,d[10]=(Se*dt-Le*ve+Je*Mt)*hn,d[11]=(ae*ve-J*dt-Ce*Mt)*hn,d[12]=(F*Ht-T*Bn-z*bn)*hn,d[13]=(h*Bn-y*Ht+b*bn)*hn,d[14]=(Le*ut-Se*Ne-Qe*Mt)*hn,d[15]=(J*Ne-ae*ut+ge*Mt)*hn,d):null},s.ao=Sx,s.ap=Rf,s.aq=be,s.ar=function(d){let u=1/0,h=1/0,y=-1/0,b=-1/0;for(const B of d)u=Math.min(u,B.x),h=Math.min(h,B.y),y=Math.max(y,B.x),b=Math.max(b,B.y);return[u,h,y,b]},s.as=$s,s.at=wt,s.au=function(d,u,h,y,b=!1){if(!h[0]&&!h[1])return[0,0];const B=b?y==="map"?-d.bearingInRadians:0:y==="viewport"?d.bearingInRadians:0;if(B){const T=Math.sin(B),F=Math.cos(B);h=[h[0]*F-h[1]*T,h[0]*T+h[1]*F]}return[b?h[0]:wt(u,h[0],d.zoom),b?h[1]:wt(u,h[1],d.zoom)]},s.aw=F1,s.ax=as,s.ay=C_,s.az=I_,s.b=nn,s.b$=d=>d.type==="line",s.b0=function(d,u,h){const y=new Float64Array(4);return function(b,B,T,F){var z=.5*Math.PI/180;B*=z,T*=z,F*=z;var Q=Math.sin(B),J=Math.cos(B),ae=Math.sin(T),ge=Math.cos(T),Ce=Math.sin(F),Se=Math.cos(F);b[0]=Q*ge*Se-J*ae*Ce,b[1]=J*ae*Se+Q*ge*Ce,b[2]=J*ge*Ce-Q*ae*Se,b[3]=J*ge*Se+Q*ae*Ce}(y,d,u-90,h),y},s.b1=function(d,u,h,y){var b,B,T,F,z,Q=u[0],J=u[1],ae=u[2],ge=u[3],Ce=h[0],Se=h[1],Le=h[2],Qe=h[3];return(B=Q*Ce+J*Se+ae*Le+ge*Qe)<0&&(B=-B,Ce=-Ce,Se=-Se,Le=-Le,Qe=-Qe),1-B>Ae?(b=Math.acos(B),T=Math.sin(b),F=Math.sin((1-y)*b)/T,z=Math.sin(y*b)/T):(F=1-y,z=y),d[0]=F*Q+z*Ce,d[1]=F*J+z*Se,d[2]=F*ae+z*Le,d[3]=F*ge+z*Qe,d},s.b2=function(d){const u=new Float64Array(9);var h,y,b,B,T,F,z,Q,J,ae,ge,Ce,Se,Le,Qe,Je,Mt,ut;ae=(b=(y=d)[0])*(z=b+b),ge=(B=y[1])*z,Se=(T=y[2])*z,Le=T*(Q=B+B),Je=(F=y[3])*z,Mt=F*Q,ut=F*(J=T+T),(h=u)[0]=1-(Ce=B*Q)-(Qe=T*J),h[3]=ge-ut,h[6]=Se+Mt,h[1]=ge+ut,h[4]=1-ae-Qe,h[7]=Le-Je,h[2]=Se-Mt,h[5]=Le+Je,h[8]=1-ae-Ce;const ve=Zn(-Math.asin(en(u[2],-1,1)));let Ne,dt;return Math.hypot(u[5],u[8])<.001?(Ne=0,dt=-Zn(Math.atan2(u[3],u[4]))):(Ne=Zn(u[5]===0&&u[8]===0?0:Math.atan2(u[5],u[8])),dt=Zn(u[1]===0&&u[0]===0?0:Math.atan2(u[1],u[0]))),{roll:Ne,pitch:ve+90,bearing:dt}},s.b3=function(d,u){return d.roll==u.roll&&d.pitch==u.pitch&&d.bearing==u.bearing},s.b4=Gr,s.b5=Gl,s.b6=Kt,s.b7=It,s.b8=Xe,s.b9=bt,s.bA=Nt,s.bB=Fe,s.bC=class extends zs{constructor(d,u){super(d,u),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},s.bD=class extends zs{constructor(d,u){super(d,u),this.current=Sc}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let u=1;u<16;u++)if(d[u]!==this.current[u]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},s.bE=Ql,s.bF=Mc,s.bG=class extends zs{constructor(d,u){super(d,u),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},s.bH=class extends zs{constructor(d,u){super(d,u),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},s.bI=re,s.bJ=function(d,u){var h=Math.sin(u),y=Math.cos(u);return d[0]=y,d[1]=h,d[2]=0,d[3]=-h,d[4]=y,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},s.bK=function(d,u,h){var y=u[0],b=u[1],B=u[2];return d[0]=y*h[0]+b*h[3]+B*h[6],d[1]=y*h[1]+b*h[4]+B*h[7],d[2]=y*h[2]+b*h[5]+B*h[8],d},s.bL=function(d,u,h,y,b,B,T){var F=1/(u-h),z=1/(y-b),Q=1/(B-T);return d[0]=-2*F,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*z,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*Q,d[11]=0,d[12]=(u+h)*F,d[13]=(b+y)*z,d[14]=(T+B)*Q,d[15]=1,d},s.bM=class extends vA{},s.bN=hS,s.bO=class extends Wh{},s.bP=Gd,s.bQ=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},s.bR=Rp,s.bS=function(d,u,h){var y=u[0],b=u[1],B=u[2],T=h[3]*y+h[7]*b+h[11]*B+h[15];return d[0]=(h[0]*y+h[4]*b+h[8]*B+h[12])/(T=T||1),d[1]=(h[1]*y+h[5]*b+h[9]*B+h[13])/T,d[2]=(h[2]*y+h[6]*b+h[10]*B+h[14])/T,d},s.bT=class extends yA{},s.bU=class extends l{},s.bV=function(d,u){return d[0]===u[0]&&d[1]===u[1]&&d[2]===u[2]&&d[3]===u[3]&&d[4]===u[4]&&d[5]===u[5]&&d[6]===u[6]&&d[7]===u[7]&&d[8]===u[8]&&d[9]===u[9]&&d[10]===u[10]&&d[11]===u[11]&&d[12]===u[12]&&d[13]===u[13]&&d[14]===u[14]&&d[15]===u[15]},s.bW=function(d,u){var h=d[0],y=d[1],b=d[2],B=d[3],T=d[4],F=d[5],z=d[6],Q=d[7],J=d[8],ae=d[9],ge=d[10],Ce=d[11],Se=d[12],Le=d[13],Qe=d[14],Je=d[15],Mt=u[0],ut=u[1],ve=u[2],Ne=u[3],dt=u[4],Wt=u[5],bn=u[6],Ht=u[7],an=u[8],Bn=u[9],Cn=u[10],Rn=u[11],hn=u[12],fr=u[13],dr=u[14],pr=u[15];return Math.abs(h-Mt)<=Ae*Math.max(1,Math.abs(h),Math.abs(Mt))&&Math.abs(y-ut)<=Ae*Math.max(1,Math.abs(y),Math.abs(ut))&&Math.abs(b-ve)<=Ae*Math.max(1,Math.abs(b),Math.abs(ve))&&Math.abs(B-Ne)<=Ae*Math.max(1,Math.abs(B),Math.abs(Ne))&&Math.abs(T-dt)<=Ae*Math.max(1,Math.abs(T),Math.abs(dt))&&Math.abs(F-Wt)<=Ae*Math.max(1,Math.abs(F),Math.abs(Wt))&&Math.abs(z-bn)<=Ae*Math.max(1,Math.abs(z),Math.abs(bn))&&Math.abs(Q-Ht)<=Ae*Math.max(1,Math.abs(Q),Math.abs(Ht))&&Math.abs(J-an)<=Ae*Math.max(1,Math.abs(J),Math.abs(an))&&Math.abs(ae-Bn)<=Ae*Math.max(1,Math.abs(ae),Math.abs(Bn))&&Math.abs(ge-Cn)<=Ae*Math.max(1,Math.abs(ge),Math.abs(Cn))&&Math.abs(Ce-Rn)<=Ae*Math.max(1,Math.abs(Ce),Math.abs(Rn))&&Math.abs(Se-hn)<=Ae*Math.max(1,Math.abs(Se),Math.abs(hn))&&Math.abs(Le-fr)<=Ae*Math.max(1,Math.abs(Le),Math.abs(fr))&&Math.abs(Qe-dr)<=Ae*Math.max(1,Math.abs(Qe),Math.abs(dr))&&Math.abs(Je-pr)<=Ae*Math.max(1,Math.abs(Je),Math.abs(pr))},s.bX=function(d,u){return d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},s.bY=d=>d.type==="symbol",s.bZ=d=>d.type==="circle",s.b_=d=>d.type==="heatmap",s.ba=$e,s.bb=ca,s.bc=function(d,u,h,y,b){return bt(y,b,en((d-u)/(h-u),0,1))},s.bd=ft,s.be=function(){return new Float64Array(4)},s.bf=function(){return new Float64Array(3)},s.bg=function(d,u,h,y){var b=[],B=[];return b[0]=u[0]-h[0],b[1]=u[1]-h[1],b[2]=u[2]-h[2],B[0]=b[0]*Math.cos(y)-b[1]*Math.sin(y),B[1]=b[0]*Math.sin(y)+b[1]*Math.cos(y),B[2]=b[2],d[0]=B[0]+h[0],d[1]=B[1]+h[1],d[2]=B[2]+h[2],d},s.bh=function(d,u,h,y){var b=[],B=[];return b[0]=u[0]-h[0],b[1]=u[1]-h[1],b[2]=u[2]-h[2],B[0]=b[0],B[1]=b[1]*Math.cos(y)-b[2]*Math.sin(y),B[2]=b[1]*Math.sin(y)+b[2]*Math.cos(y),d[0]=B[0]+h[0],d[1]=B[1]+h[1],d[2]=B[2]+h[2],d},s.bi=function(d,u,h,y){var b=[],B=[];return b[0]=u[0]-h[0],b[1]=u[1]-h[1],b[2]=u[2]-h[2],B[0]=b[2]*Math.sin(y)+b[0]*Math.cos(y),B[1]=b[1],B[2]=b[2]*Math.cos(y)-b[0]*Math.sin(y),d[0]=B[0]+h[0],d[1]=B[1]+h[1],d[2]=B[2]+h[2],d},s.bj=function(d,u,h){var y=Math.sin(h),b=Math.cos(h),B=u[0],T=u[1],F=u[2],z=u[3],Q=u[8],J=u[9],ae=u[10],ge=u[11];return u!==d&&(d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=B*b-Q*y,d[1]=T*b-J*y,d[2]=F*b-ae*y,d[3]=z*b-ge*y,d[8]=B*y+Q*b,d[9]=T*y+J*b,d[10]=F*y+ae*b,d[11]=z*y+ge*b,d},s.bk=function(d,u){const h=ft(d,360),y=ft(u,360),b=y-h,B=y>h?b-360:b+360;return Math.abs(b)<Math.abs(B)?b:B},s.bl=function(d){return d[0]=0,d[1]=0,d[2]=0,d},s.bm=function(d,u,h,y){const b=Math.sqrt(d*d+u*u),B=Math.sqrt(h*h+y*y);d/=b,u/=b,h/=B,y/=B;const T=Math.acos(d*h+u*y);return-u*h+d*y>0?T:-T},s.bn=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]+d[3]},s.bo=og,s.bp=function(d,u){const h=ft(d,2*Math.PI),y=ft(u,2*Math.PI);return Math.min(Math.abs(h-y),Math.abs(h-y+2*Math.PI),Math.abs(h-y-2*Math.PI))},s.bq=function(d){return Math.hypot(d[0],d[1],d[2])},s.br=function(){const d={},u=Re.$version;for(const h in Re.$root){const y=Re.$root[h];if(y.required){let b=null;b=h==="version"?u:y.type==="array"?[]:{},b!=null&&(d[h]=b)}}return d},s.bs=zh,s.bt=Te,s.bu=function(d){d=d.slice();const u=Object.create(null);for(let h=0;h<d.length;h++)u[d[h].id]=d[h];for(let h=0;h<d.length;h++)"ref"in d[h]&&(d[h]=Me(d[h],u[d[h].ref]));return d},s.bv=function(d){if(d.type==="custom")return new px(d);switch(d.type){case"background":return new wS(d);case"circle":return new Fm(d);case"fill":return new Xo(d);case"fill-extrusion":return new tS(d);case"heatmap":return new bA(d);case"hillshade":return new Oc(d);case"line":return new lS(d);case"raster":return new MS(d);case"symbol":return new U1(d)}},s.bw=ye,s.bx=function(d,u){if(!d)return[{command:"setStyle",args:[u]}];let h=[];try{if(!p(d.version,u.version))return[{command:"setStyle",args:[u]}];p(d.center,u.center)||h.push({command:"setCenter",args:[u.center]}),p(d.centerAltitude,u.centerAltitude)||h.push({command:"setCenterAltitude",args:[u.centerAltitude]}),p(d.zoom,u.zoom)||h.push({command:"setZoom",args:[u.zoom]}),p(d.bearing,u.bearing)||h.push({command:"setBearing",args:[u.bearing]}),p(d.pitch,u.pitch)||h.push({command:"setPitch",args:[u.pitch]}),p(d.roll,u.roll)||h.push({command:"setRoll",args:[u.roll]}),p(d.sprite,u.sprite)||h.push({command:"setSprite",args:[u.sprite]}),p(d.glyphs,u.glyphs)||h.push({command:"setGlyphs",args:[u.glyphs]}),p(d.transition,u.transition)||h.push({command:"setTransition",args:[u.transition]}),p(d.light,u.light)||h.push({command:"setLight",args:[u.light]}),p(d.terrain,u.terrain)||h.push({command:"setTerrain",args:[u.terrain]}),p(d.sky,u.sky)||h.push({command:"setSky",args:[u.sky]}),p(d.projection,u.projection)||h.push({command:"setProjection",args:[u.projection]});const y={},b=[];(function(T,F,z,Q){let J;for(J in F=F||{},T=T||{})Object.prototype.hasOwnProperty.call(T,J)&&(Object.prototype.hasOwnProperty.call(F,J)||ot(J,z,Q));for(J in F)Object.prototype.hasOwnProperty.call(F,J)&&(Object.prototype.hasOwnProperty.call(T,J)?p(T[J],F[J])||(T[J].type==="geojson"&&F[J].type==="geojson"&&lt(T,F,J)?Ke(z,{command:"setGeoJSONSourceData",args:[J,F[J].data]}):yt(J,F,z,Q)):rt(J,F,z))})(d.sources,u.sources,b,y);const B=[];d.layers&&d.layers.forEach(T=>{"source"in T&&y[T.source]?h.push({command:"removeLayer",args:[T.id]}):B.push(T)}),h=h.concat(b),function(T,F,z){F=F||[];const Q=(T=T||[]).map(Dt),J=F.map(Dt),ae=T.reduce(Ot,{}),ge=F.reduce(Ot,{}),Ce=Q.slice(),Se=Object.create(null);let Le,Qe,Je,Mt,ut;for(let ve=0,Ne=0;ve<Q.length;ve++)Le=Q[ve],Object.prototype.hasOwnProperty.call(ge,Le)?Ne++:(Ke(z,{command:"removeLayer",args:[Le]}),Ce.splice(Ce.indexOf(Le,Ne),1));for(let ve=0,Ne=0;ve<J.length;ve++)Le=J[J.length-1-ve],Ce[Ce.length-1-ve]!==Le&&(Object.prototype.hasOwnProperty.call(ae,Le)?(Ke(z,{command:"removeLayer",args:[Le]}),Ce.splice(Ce.lastIndexOf(Le,Ce.length-Ne),1)):Ne++,Mt=Ce[Ce.length-ve],Ke(z,{command:"addLayer",args:[ge[Le],Mt]}),Ce.splice(Ce.length-ve,0,Le),Se[Le]=!0);for(let ve=0;ve<J.length;ve++)if(Le=J[ve],Qe=ae[Le],Je=ge[Le],!Se[Le]&&!p(Qe,Je))if(p(Qe.source,Je.source)&&p(Qe["source-layer"],Je["source-layer"])&&p(Qe.type,Je.type)){for(ut in Rt(Qe.layout,Je.layout,z,Le,null,"setLayoutProperty"),Rt(Qe.paint,Je.paint,z,Le,null,"setPaintProperty"),p(Qe.filter,Je.filter)||Ke(z,{command:"setFilter",args:[Le,Je.filter]}),p(Qe.minzoom,Je.minzoom)&&p(Qe.maxzoom,Je.maxzoom)||Ke(z,{command:"setLayerZoomRange",args:[Le,Je.minzoom,Je.maxzoom]}),Qe)Object.prototype.hasOwnProperty.call(Qe,ut)&&ut!=="layout"&&ut!=="paint"&&ut!=="filter"&&ut!=="metadata"&&ut!=="minzoom"&&ut!=="maxzoom"&&(ut.indexOf("paint.")===0?Rt(Qe[ut],Je[ut],z,Le,ut.slice(6),"setPaintProperty"):p(Qe[ut],Je[ut])||Ke(z,{command:"setLayerProperty",args:[Le,ut,Je[ut]]}));for(ut in Je)Object.prototype.hasOwnProperty.call(Je,ut)&&!Object.prototype.hasOwnProperty.call(Qe,ut)&&ut!=="layout"&&ut!=="paint"&&ut!=="filter"&&ut!=="metadata"&&ut!=="minzoom"&&ut!=="maxzoom"&&(ut.indexOf("paint.")===0?Rt(Qe[ut],Je[ut],z,Le,ut.slice(6),"setPaintProperty"):p(Qe[ut],Je[ut])||Ke(z,{command:"setLayerProperty",args:[Le,ut,Je[ut]]}))}else Ke(z,{command:"removeLayer",args:[Le]}),Mt=Ce[Ce.lastIndexOf(Le)+1],Ke(z,{command:"addLayer",args:[Je,Mt]})}(B,u.layers,h)}catch(y){console.warn("Unable to compute style diff:",y),h=[{command:"setStyle",args:[u]}]}return h},s.by=function(d){const u=[],h=d.id;return h===void 0&&u.push({message:`layers.${h}: missing required property "id"`}),d.render===void 0&&u.push({message:`layers.${h}: missing required method "render"`}),d.renderingMode&&d.renderingMode!=="2d"&&d.renderingMode!=="3d"&&u.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),u},s.bz=function d(u,h){if(Array.isArray(u)){if(!Array.isArray(h)||u.length!==h.length)return!1;for(let y=0;y<u.length;y++)if(!d(u[y],h[y]))return!1;return!0}if(typeof u=="object"&&u!==null&&h!==null){if(typeof h!="object"||Object.keys(u).length!==Object.keys(h).length)return!1;for(const y in u)if(!d(u[y],h[y]))return!1;return!0}return u===h},s.c=Mr,s.c0=d=>d.type==="fill",s.c1=d=>d.type==="fill-extrusion",s.c2=d=>d.type==="hillshade",s.c3=d=>d.type==="raster",s.c4=d=>d.type==="background",s.c5=d=>d.type==="custom",s.c6=tt,s.c7=function(d,u,h){const y=we(u.x-h.x,u.y-h.y),b=we(d.x-h.x,d.y-h.y);var B,T;return Zn(Math.atan2(y[0]*b[1]-y[1]*b[0],(B=y)[0]*(T=b)[0]+B[1]*T[1]))},s.c8=nt,s.c9=function(d,u,h){var y=u[0],b=u[1];return d[0]=h[0]*y+h[4]*b+h[12],d[1]=h[1]*y+h[5]*b+h[13],d},s.cA=X2,s.cB=Jc,s.cC=al,s.ca=function(d,u){const{x:h,y}=Wf.fromLngLat(u);return!(d<0||d>25||y<0||y>=1||h<0||h>=1)},s.cb=function(d,u){return d[0]=u[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=u[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=u[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},s.cc=class extends Ld{},s.cd=TS,s.cf=function(d){return d.message===yr},s.cg=gi,s.ch=function(d,u){Or.REGISTERED_PROTOCOLS[d]=u},s.ci=function(d){delete Or.REGISTERED_PROTOCOLS[d]},s.cj=function(d,u){const h={};for(let b=0;b<d.length;b++){const B=u&&u[d[b].id]||Bf(d[b]);u&&(u[d[b].id]=B);let T=h[B];T||(T=h[B]=[]),T.push(d[b])}const y=[];for(const b in h)y.push(h[b]);return y},s.ck=ir,s.cl=Cx,s.cm=xx,s.cn=tx,s.co=function(d){d.bucket.createArrays(),d.bucket.tilePixelRatio=pt/(512*d.bucket.overscaling),d.bucket.compareText={},d.bucket.iconsNeedLinear=!1;const u=d.bucket.layers[0],h=u.layout,y=u._unevaluatedLayout._values,b={layoutIconSize:y["icon-size"].possiblyEvaluate(new Ho(d.bucket.zoom+1),d.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new Ho(d.bucket.zoom+1),d.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new Ho(18))};if(d.bucket.textSizeData.kind==="composite"){const{minZoom:Q,maxZoom:J}=d.bucket.textSizeData;b.compositeTextSizes=[y["text-size"].possiblyEvaluate(new Ho(Q),d.canonical),y["text-size"].possiblyEvaluate(new Ho(J),d.canonical)]}if(d.bucket.iconSizeData.kind==="composite"){const{minZoom:Q,maxZoom:J}=d.bucket.iconSizeData;b.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new Ho(Q),d.canonical),y["icon-size"].possiblyEvaluate(new Ho(J),d.canonical)]}const B=h.get("text-line-height")*$s,T=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",F=h.get("text-keep-upright"),z=h.get("text-size");for(const Q of d.bucket.features){const J=h.get("text-font").evaluate(Q,{},d.canonical).join(","),ae=z.evaluate(Q,{},d.canonical),ge=b.layoutTextSize.evaluate(Q,{},d.canonical),Ce=b.layoutIconSize.evaluate(Q,{},d.canonical),Se={horizontal:{},vertical:void 0},Le=Q.text;let Qe,Je=[0,0];if(Le){const ve=Le.toString(),Ne=h.get("text-letter-spacing").evaluate(Q,{},d.canonical)*$s,dt=_c(ve)?Ne:0,Wt=h.get("text-anchor").evaluate(Q,{},d.canonical),bn=os(u,Q,d.canonical);if(!bn){const Cn=h.get("text-radial-offset").evaluate(Q,{},d.canonical);Je=Cn?lg(Wt,[Cn*$s,G1]):h.get("text-offset").evaluate(Q,{},d.canonical).map(Rn=>Rn*$s)}let Ht=T?"center":h.get("text-justify").evaluate(Q,{},d.canonical);const an=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(Q,{},d.canonical)*$s:1/0,Bn=()=>{d.bucket.allowVerticalPlacement&&Nh(ve)&&(Se.vertical=rg(Le,d.glyphMap,d.glyphPositions,d.imagePositions,J,an,B,Wt,"left",dt,Je,s.ai.vertical,!0,ge,ae))};if(!T&&bn){const Cn=new Set;if(Ht==="auto")for(let hn=0;hn<bn.values.length;hn+=2)Cn.add(as(bn.values[hn]));else Cn.add(Ht);let Rn=!1;for(const hn of Cn)if(!Se.horizontal[hn])if(Rn)Se.horizontal[hn]=Se.horizontal[0];else{const fr=rg(Le,d.glyphMap,d.glyphPositions,d.imagePositions,J,an,B,"center",hn,dt,Je,s.ai.horizontal,!1,ge,ae);fr&&(Se.horizontal[hn]=fr,Rn=fr.positionedLines.length===1)}Bn()}else{Ht==="auto"&&(Ht=as(Wt));const Cn=rg(Le,d.glyphMap,d.glyphPositions,d.imagePositions,J,an,B,Wt,Ht,dt,Je,s.ai.horizontal,!1,ge,ae);Cn&&(Se.horizontal[Ht]=Cn),Bn(),Nh(ve)&&T&&F&&(Se.vertical=rg(Le,d.glyphMap,d.glyphPositions,d.imagePositions,J,an,B,Wt,Ht,dt,Je,s.ai.vertical,!1,ge,ae))}}let Mt=!1;if(Q.icon&&Q.icon.name){const ve=d.imageMap[Q.icon.name];ve&&(Qe=_S(d.imagePositions[Q.icon.name],h.get("icon-offset").evaluate(Q,{},d.canonical),h.get("icon-anchor").evaluate(Q,{},d.canonical)),Mt=!!ve.sdf,d.bucket.sdfIcons===void 0?d.bucket.sdfIcons=Mt:d.bucket.sdfIcons!==Mt&&Ge("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ve.pixelRatio!==d.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(d.bucket.iconsNeedLinear=!0))}const ut=Px(Se.horizontal)||Se.vertical;d.bucket.iconsInText=!!ut&&ut.iconsInText,(ut||Qe)&&kx(d.bucket,Q,Se,Qe,d.imageMap,b,ge,Ce,Je,Mt,d.canonical,d.subdivisionGranularity)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},s.cp=K1,s.cq=hr,s.cr=Bc,s.cs=Ru,s.ct=m_,s.cu=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return d.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},s.cv=function(d,u,h,y,b){return a(this,void 0,void 0,function*(){if(ne())try{return yield zn(d,u,h,y,b)}catch{}return function(B,T,F,z,Q){const J=B.width,ae=B.height;rr&&xn||(rr=new OffscreenCanvas(J,ae),xn=rr.getContext("2d",{willReadFrequently:!0})),rr.width=J,rr.height=ae,xn.drawImage(B,0,0,J,ae);const ge=xn.getImageData(T,F,z,Q);return xn.clearRect(0,0,J,ae),ge.data}(d,u,h,y,b)})},s.cw=_x,s.cx=f,s.cy=k,s.cz=Al,s.d=d=>a(void 0,void 0,void 0,function*(){if(d.byteLength===0)return createImageBitmap(new ImageData(1,1));const u=new Blob([new Uint8Array(d)],{type:"image/png"});try{return createImageBitmap(u)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.e=St,s.f=d=>new Promise((u,h)=>{const y=new Image;y.onload=()=>{u(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=Gt})},y.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const b=new Blob([new Uint8Array(d)],{type:"image/png"});y.src=d.byteLength?URL.createObjectURL(b):Gt}),s.g=Jr,s.h=(d,u)=>te(St(d,{type:"json"}),u),s.i=ht,s.j=jt,s.k=Lt,s.l=(d,u)=>te(St(d,{type:"arrayBuffer"}),u),s.m=te,s.n=function(d){return new m_(d).readFields(pS,[])},s.o=uo,s.p=ex,s.q=Zo,s.r=Id,s.s=oe,s.t=Tf,s.u=da,s.v=Re,s.w=Ge,s.x=function([d,u,h]){return u+=90,u*=Math.PI/180,h*=Math.PI/180,{x:d*Math.cos(u)*Math.sin(h),y:d*Math.sin(u)*Math.sin(h),z:d*Math.cos(h)}},s.y=ri,s.z=Ho}),i("worker",["./shared"],function(s){class a{constructor(Ee){this.keyCache={},Ee&&this.replace(Ee)}replace(Ee){this._layerConfigs={},this._layers={},this.update(Ee,[])}update(Ee,Me){for(const Ke of Ee){this._layerConfigs[Ke.id]=Ke;const rt=this._layers[Ke.id]=s.bv(Ke);rt._featureFilter=s.a4(rt.filter),this.keyCache[Ke.id]&&delete this.keyCache[Ke.id]}for(const Ke of Me)delete this.keyCache[Ke],delete this._layerConfigs[Ke],delete this._layers[Ke];this.familiesBySource={};const p=s.cj(Object.values(this._layerConfigs),this.keyCache);for(const Ke of p){const rt=Ke.map(Ot=>this._layers[Ot.id]),ot=rt[0];if(ot.visibility==="none")continue;const yt=ot.source||"";let lt=this.familiesBySource[yt];lt||(lt=this.familiesBySource[yt]={});const Rt=ot.sourceLayer||"_geojsonTileLayer";let Dt=lt[Rt];Dt||(Dt=lt[Rt]=[]),Dt.push(rt)}}}class f{constructor(Ee){const Me={},p=[];for(const yt in Ee){const lt=Ee[yt],Rt=Me[yt]={};for(const Dt in lt){const Ot=lt[+Dt];if(!Ot||Ot.bitmap.width===0||Ot.bitmap.height===0)continue;const At={x:0,y:0,w:Ot.bitmap.width+2,h:Ot.bitmap.height+2};p.push(At),Rt[Dt]={rect:At,metrics:Ot.metrics}}}const{w:Ke,h:rt}=s.p(p),ot=new s.o({width:Ke||1,height:rt||1});for(const yt in Ee){const lt=Ee[yt];for(const Rt in lt){const Dt=lt[+Rt];if(!Dt||Dt.bitmap.width===0||Dt.bitmap.height===0)continue;const Ot=Me[yt][Rt].rect;s.o.copy(Dt.bitmap,ot,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},Dt.bitmap)}}this.image=ot,this.positions=Me}}s.ck("GlyphAtlas",f);class m{constructor(Ee){this.tileID=new s.S(Ee.tileID.overscaledZ,Ee.tileID.wrap,Ee.tileID.canonical.z,Ee.tileID.canonical.x,Ee.tileID.canonical.y),this.uid=Ee.uid,this.zoom=Ee.zoom,this.pixelRatio=Ee.pixelRatio,this.tileSize=Ee.tileSize,this.source=Ee.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ee.showCollisionBoxes,this.collectResourceTiming=!!Ee.collectResourceTiming,this.returnDependencies=!!Ee.returnDependencies,this.promoteId=Ee.promoteId,this.inFlightDependencies=[]}parse(Ee,Me,p,Ke,rt){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=Ee,this.collisionBoxArray=new s.a2;const ot=new s.cl(Object.keys(Ee.layers).sort()),yt=new s.cm(this.tileID,this.promoteId);yt.bucketLayerIDs=[];const lt={},Rt={featureIndex:yt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:p,subdivisionGranularity:rt},Dt=Me.familiesBySource[this.source];for(const Vn in Dt){const Tn=Ee.layers[Vn];if(!Tn)continue;Tn.version===1&&s.w(`Vector tile source "${this.source}" layer "${Vn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const _i=ot.encode(Vn),Zi=[];for(let ei=0;ei<Tn.length;ei++){const Wr=Tn.feature(ei),Yr=yt.getId(Wr,Vn);Zi.push({feature:Wr,id:Yr,index:ei,sourceLayerIndex:_i})}for(const ei of Dt[Vn]){const Wr=ei[0];Wr.source!==this.source&&s.w(`layer.source = ${Wr.source} does not equal this.source = ${this.source}`),Wr.minzoom&&this.zoom<Math.floor(Wr.minzoom)||Wr.maxzoom&&this.zoom>=Wr.maxzoom||Wr.visibility!=="none"&&(C(ei,this.zoom,p),(lt[Wr.id]=Wr.createBucket({index:yt.bucketLayerIDs.length,layers:ei,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_i,sourceID:this.source})).populate(Zi,Rt,this.tileID.canonical),yt.bucketLayerIDs.push(ei.map(Yr=>Yr.id)))}}const Ot=s.bA(Rt.glyphDependencies,Vn=>Object.keys(Vn).map(Number));this.inFlightDependencies.forEach(Vn=>Vn==null?void 0:Vn.abort()),this.inFlightDependencies=[];let At=Promise.resolve({});if(Object.keys(Ot).length){const Vn=new AbortController;this.inFlightDependencies.push(Vn),At=Ke.sendAsync({type:"GG",data:{stacks:Ot,source:this.source,tileID:this.tileID,type:"glyphs"}},Vn)}const yn=Object.keys(Rt.iconDependencies);let gn=Promise.resolve({});if(yn.length){const Vn=new AbortController;this.inFlightDependencies.push(Vn),gn=Ke.sendAsync({type:"GI",data:{icons:yn,source:this.source,tileID:this.tileID,type:"icons"}},Vn)}const Yn=Object.keys(Rt.patternDependencies);let Sr=Promise.resolve({});if(Yn.length){const Vn=new AbortController;this.inFlightDependencies.push(Vn),Sr=Ke.sendAsync({type:"GI",data:{icons:Yn,source:this.source,tileID:this.tileID,type:"patterns"}},Vn)}const[$t,Kn,Wn]=yield Promise.all([At,gn,Sr]),Tr=new f($t),Jn=new s.cn(Kn,Wn);for(const Vn in lt){const Tn=lt[Vn];Tn instanceof s.a3?(C(Tn.layers,this.zoom,p),s.co({bucket:Tn,glyphMap:$t,glyphPositions:Tr.positions,imageMap:Kn,imagePositions:Jn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Rt.subdivisionGranularity})):Tn.hasPattern&&(Tn instanceof s.cp||Tn instanceof s.cq||Tn instanceof s.cr)&&(C(Tn.layers,this.zoom,p),Tn.addFeatures(Rt,this.tileID.canonical,Jn.patternPositions))}return this.status="done",{buckets:Object.values(lt).filter(Vn=>!Vn.isEmpty()),featureIndex:yt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Jn,glyphMap:this.returnDependencies?$t:null,iconMap:this.returnDependencies?Kn:null,glyphPositions:this.returnDependencies?Tr.positions:null}})}}function C(Re,Ee,Me){const p=new s.z(Ee);for(const Ke of Re)Ke.recalculate(p,Me)}class k{constructor(Ee,Me,p){this.actor=Ee,this.layerIndex=Me,this.availableImages=p,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(Ee,Me){return s._(this,void 0,void 0,function*(){const p=yield s.l(Ee.request,Me);try{return{vectorTile:new s.cs.VectorTile(new s.ct(p.data)),rawData:p.data,cacheControl:p.cacheControl,expires:p.expires}}catch(Ke){const rt=new Uint8Array(p.data);let ot=`Unable to parse the tile at ${Ee.request.url}, `;throw ot+=rt[0]===31&&rt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ke.message}`,new Error(ot)}})}loadTile(Ee){return s._(this,void 0,void 0,function*(){const Me=Ee.uid,p=!!(Ee&&Ee.request&&Ee.request.collectResourceTiming)&&new s.cu(Ee.request),Ke=new m(Ee);this.loading[Me]=Ke;const rt=new AbortController;Ke.abort=rt;try{const ot=yield this.loadVectorTile(Ee,rt);if(delete this.loading[Me],!ot)return null;const yt=ot.rawData,lt={};ot.expires&&(lt.expires=ot.expires),ot.cacheControl&&(lt.cacheControl=ot.cacheControl);const Rt={};if(p){const Ot=p.finish();Ot&&(Rt.resourceTiming=JSON.parse(JSON.stringify(Ot)))}Ke.vectorTile=ot.vectorTile;const Dt=Ke.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity);this.loaded[Me]=Ke,this.fetching[Me]={rawTileData:yt,cacheControl:lt,resourceTiming:Rt};try{const Ot=yield Dt;return s.e({rawTileData:yt.slice(0)},Ot,lt,Rt)}finally{delete this.fetching[Me]}}catch(ot){throw delete this.loading[Me],Ke.status="done",this.loaded[Me]=Ke,ot}})}reloadTile(Ee){return s._(this,void 0,void 0,function*(){const Me=Ee.uid;if(!this.loaded||!this.loaded[Me])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const p=this.loaded[Me];if(p.showCollisionBoxes=Ee.showCollisionBoxes,p.status==="parsing"){const Ke=yield p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity);let rt;if(this.fetching[Me]){const{rawTileData:ot,cacheControl:yt,resourceTiming:lt}=this.fetching[Me];delete this.fetching[Me],rt=s.e({rawTileData:ot.slice(0)},Ke,yt,lt)}else rt=Ke;return rt}if(p.status==="done"&&p.vectorTile)return p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity)})}abortTile(Ee){return s._(this,void 0,void 0,function*(){const Me=this.loading,p=Ee.uid;Me&&Me[p]&&Me[p].abort&&(Me[p].abort.abort(),delete Me[p])})}removeTile(Ee){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[Ee.uid]&&delete this.loaded[Ee.uid]})}}class I{constructor(){this.loaded={}}loadTile(Ee){return s._(this,void 0,void 0,function*(){const{uid:Me,encoding:p,rawImageData:Ke,redFactor:rt,greenFactor:ot,blueFactor:yt,baseShift:lt}=Ee,Rt=Ke.width+2,Dt=Ke.height+2,Ot=s.b(Ke)?new s.R({width:Rt,height:Dt},yield s.cv(Ke,-1,-1,Rt,Dt)):Ke,At=new s.cw(Me,Ot,p,rt,ot,yt,lt);return this.loaded=this.loaded||{},this.loaded[Me]=At,At})}removeTile(Ee){const Me=this.loaded,p=Ee.uid;Me&&Me[p]&&delete Me[p]}}var K,L,q=function(){if(L)return K;function Re(Me,p){if(Me.length!==0){Ee(Me[0],p);for(var Ke=1;Ke<Me.length;Ke++)Ee(Me[Ke],!p)}}function Ee(Me,p){for(var Ke=0,rt=0,ot=0,yt=Me.length,lt=yt-1;ot<yt;lt=ot++){var Rt=(Me[ot][0]-Me[lt][0])*(Me[lt][1]+Me[ot][1]),Dt=Ke+Rt;rt+=Math.abs(Ke)>=Math.abs(Rt)?Ke-Dt+Rt:Rt-Dt+Ke,Ke=Dt}Ke+rt>=0!=!!p&&Me.reverse()}return L=1,K=function Me(p,Ke){var rt,ot=p&&p.type;if(ot==="FeatureCollection")for(rt=0;rt<p.features.length;rt++)Me(p.features[rt],Ke);else if(ot==="GeometryCollection")for(rt=0;rt<p.geometries.length;rt++)Me(p.geometries[rt],Ke);else if(ot==="Feature")Me(p.geometry,Ke);else if(ot==="Polygon")Re(p.coordinates,Ke);else if(ot==="MultiPolygon")for(rt=0;rt<p.coordinates.length;rt++)Re(p.coordinates[rt],Ke);return p}}(),X=s.cx(q);const H=s.cs.VectorTileFeature.prototype.toGeoJSON;class G{constructor(Ee){this._feature=Ee,this.extent=s.X,this.type=Ee.type,this.properties=Ee.tags,"id"in Ee&&!isNaN(Ee.id)&&(this.id=parseInt(Ee.id,10))}loadGeometry(){if(this._feature.type===1){const Ee=[];for(const Me of this._feature.geometry)Ee.push([new s.P(Me[0],Me[1])]);return Ee}{const Ee=[];for(const Me of this._feature.geometry){const p=[];for(const Ke of Me)p.push(new s.P(Ke[0],Ke[1]));Ee.push(p)}return Ee}}toGeoJSON(Ee,Me,p){return H.call(this,Ee,Me,p)}}class ee{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.X,this.length=Ee.length,this._features=Ee}feature(Ee){return new G(this._features[Ee])}}var ne,se,Ae,V={exports:{}},re=function(){if(Ae)return V.exports;Ae=1;var Re=s.cA(),Ee=function(){if(se)return ne;se=1;var Dt=s.cy(),Ot=s.cz().VectorTileFeature;function At(gn,Yn){this.options=Yn||{},this.features=gn,this.length=gn.length}function yn(gn,Yn){this.id=typeof gn.id=="number"?gn.id:void 0,this.type=gn.type,this.rawGeometry=gn.type===1?[gn.geometry]:gn.geometry,this.properties=gn.tags,this.extent=Yn||4096}return ne=At,At.prototype.feature=function(gn){return new yn(this.features[gn],this.options.extent)},yn.prototype.loadGeometry=function(){var gn=this.rawGeometry;this.geometry=[];for(var Yn=0;Yn<gn.length;Yn++){for(var Sr=gn[Yn],$t=[],Kn=0;Kn<Sr.length;Kn++)$t.push(new Dt(Sr[Kn][0],Sr[Kn][1]));this.geometry.push($t)}return this.geometry},yn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var gn=this.geometry,Yn=1/0,Sr=-1/0,$t=1/0,Kn=-1/0,Wn=0;Wn<gn.length;Wn++)for(var Tr=gn[Wn],Jn=0;Jn<Tr.length;Jn++){var Vn=Tr[Jn];Yn=Math.min(Yn,Vn.x),Sr=Math.max(Sr,Vn.x),$t=Math.min($t,Vn.y),Kn=Math.max(Kn,Vn.y)}return[Yn,$t,Sr,Kn]},yn.prototype.toGeoJSON=Ot.prototype.toGeoJSON,ne}();function Me(Dt){var Ot=new Re;return function(At,yn){for(var gn in At.layers)yn.writeMessage(3,p,At.layers[gn])}(Dt,Ot),Ot.finish()}function p(Dt,Ot){var At;Ot.writeVarintField(15,Dt.version||1),Ot.writeStringField(1,Dt.name||""),Ot.writeVarintField(5,Dt.extent||4096);var yn={keys:[],values:[],keycache:{},valuecache:{}};for(At=0;At<Dt.length;At++)yn.feature=Dt.feature(At),Ot.writeMessage(2,Ke,yn);var gn=yn.keys;for(At=0;At<gn.length;At++)Ot.writeStringField(3,gn[At]);var Yn=yn.values;for(At=0;At<Yn.length;At++)Ot.writeMessage(4,Rt,Yn[At])}function Ke(Dt,Ot){var At=Dt.feature;At.id!==void 0&&Ot.writeVarintField(1,At.id),Ot.writeMessage(2,rt,Dt),Ot.writeVarintField(3,At.type),Ot.writeMessage(4,lt,At)}function rt(Dt,Ot){var At=Dt.feature,yn=Dt.keys,gn=Dt.values,Yn=Dt.keycache,Sr=Dt.valuecache;for(var $t in At.properties){var Kn=At.properties[$t],Wn=Yn[$t];if(Kn!==null){Wn===void 0&&(yn.push($t),Yn[$t]=Wn=yn.length-1),Ot.writeVarint(Wn);var Tr=typeof Kn;Tr!=="string"&&Tr!=="boolean"&&Tr!=="number"&&(Kn=JSON.stringify(Kn));var Jn=Tr+":"+Kn,Vn=Sr[Jn];Vn===void 0&&(gn.push(Kn),Sr[Jn]=Vn=gn.length-1),Ot.writeVarint(Vn)}}}function ot(Dt,Ot){return(Ot<<3)+(7&Dt)}function yt(Dt){return Dt<<1^Dt>>31}function lt(Dt,Ot){for(var At=Dt.loadGeometry(),yn=Dt.type,gn=0,Yn=0,Sr=At.length,$t=0;$t<Sr;$t++){var Kn=At[$t],Wn=1;yn===1&&(Wn=Kn.length),Ot.writeVarint(ot(1,Wn));for(var Tr=yn===3?Kn.length-1:Kn.length,Jn=0;Jn<Tr;Jn++){Jn===1&&yn!==1&&Ot.writeVarint(ot(2,Tr-1));var Vn=Kn[Jn].x-gn,Tn=Kn[Jn].y-Yn;Ot.writeVarint(yt(Vn)),Ot.writeVarint(yt(Tn)),gn+=Vn,Yn+=Tn}yn===3&&Ot.writeVarint(ot(7,1))}}function Rt(Dt,Ot){var At=typeof Dt;At==="string"?Ot.writeStringField(1,Dt):At==="boolean"?Ot.writeBooleanField(7,Dt):At==="number"&&(Dt%1!=0?Ot.writeDoubleField(3,Dt):Dt<0?Ot.writeSVarintField(6,Dt):Ot.writeVarintField(5,Dt))}return V.exports=Me,V.exports.fromVectorTileJs=Me,V.exports.fromGeojsonVt=function(Dt,Ot){Ot=Ot||{};var At={};for(var yn in Dt)At[yn]=new Ee(Dt[yn].features,Ot),At[yn].name=yn,At[yn].version=Ot.version,At[yn].extent=Ot.extent;return Me({layers:At})},V.exports.GeoJSONWrapper=Ee,V.exports}(),be=s.cx(re);const _e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},Pe=Math.fround||(Ue=new Float32Array(1),Re=>(Ue[0]=+Re,Ue[0]));var Ue;const pe=3,Ye=5,we=6;class pt{constructor(Ee){this.options=Object.assign(Object.create(_e),Ee),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Ee){const{log:Me,minZoom:p,maxZoom:Ke}=this.options;Me&&console.time("total time");const rt=`prepare ${Ee.length} points`;Me&&console.time(rt),this.points=Ee;const ot=[];for(let lt=0;lt<Ee.length;lt++){const Rt=Ee[lt];if(!Rt.geometry)continue;const[Dt,Ot]=Rt.geometry.coordinates,At=Pe(bt(Dt)),yn=Pe($e(Ot));ot.push(At,yn,1/0,lt,-1,1),this.options.reduce&&ot.push(0)}let yt=this.trees[Ke+1]=this._createTree(ot);Me&&console.timeEnd(rt);for(let lt=Ke;lt>=p;lt--){const Rt=+Date.now();yt=this.trees[lt]=this._createTree(this._cluster(yt,lt)),Me&&console.log("z%d: %d clusters in %dms",lt,yt.numItems,+Date.now()-Rt)}return Me&&console.timeEnd("total time"),this}getClusters(Ee,Me){let p=((Ee[0]+180)%360+360)%360-180;const Ke=Math.max(-90,Math.min(90,Ee[1]));let rt=Ee[2]===180?180:((Ee[2]+180)%360+360)%360-180;const ot=Math.max(-90,Math.min(90,Ee[3]));if(Ee[2]-Ee[0]>=360)p=-180,rt=180;else if(p>rt){const Ot=this.getClusters([p,Ke,180,ot],Me),At=this.getClusters([-180,Ke,rt,ot],Me);return Ot.concat(At)}const yt=this.trees[this._limitZoom(Me)],lt=yt.range(bt(p),$e(ot),bt(rt),$e(Ke)),Rt=yt.data,Dt=[];for(const Ot of lt){const At=this.stride*Ot;Dt.push(Rt[At+Ye]>1?wt(Rt,At,this.clusterProps):this.points[Rt[At+pe]])}return Dt}getChildren(Ee){const Me=this._getOriginId(Ee),p=this._getOriginZoom(Ee),Ke="No cluster with the specified id.",rt=this.trees[p];if(!rt)throw new Error(Ke);const ot=rt.data;if(Me*this.stride>=ot.length)throw new Error(Ke);const yt=this.options.radius/(this.options.extent*Math.pow(2,p-1)),lt=rt.within(ot[Me*this.stride],ot[Me*this.stride+1],yt),Rt=[];for(const Dt of lt){const Ot=Dt*this.stride;ot[Ot+4]===Ee&&Rt.push(ot[Ot+Ye]>1?wt(ot,Ot,this.clusterProps):this.points[ot[Ot+pe]])}if(Rt.length===0)throw new Error(Ke);return Rt}getLeaves(Ee,Me,p){const Ke=[];return this._appendLeaves(Ke,Ee,Me=Me||10,p=p||0,0),Ke}getTile(Ee,Me,p){const Ke=this.trees[this._limitZoom(Ee)],rt=Math.pow(2,Ee),{extent:ot,radius:yt}=this.options,lt=yt/ot,Rt=(p-lt)/rt,Dt=(p+1+lt)/rt,Ot={features:[]};return this._addTileFeatures(Ke.range((Me-lt)/rt,Rt,(Me+1+lt)/rt,Dt),Ke.data,Me,p,rt,Ot),Me===0&&this._addTileFeatures(Ke.range(1-lt/rt,Rt,1,Dt),Ke.data,rt,p,rt,Ot),Me===rt-1&&this._addTileFeatures(Ke.range(0,Rt,lt/rt,Dt),Ke.data,-1,p,rt,Ot),Ot.features.length?Ot:null}getClusterExpansionZoom(Ee){let Me=this._getOriginZoom(Ee)-1;for(;Me<=this.options.maxZoom;){const p=this.getChildren(Ee);if(Me++,p.length!==1)break;Ee=p[0].properties.cluster_id}return Me}_appendLeaves(Ee,Me,p,Ke,rt){const ot=this.getChildren(Me);for(const yt of ot){const lt=yt.properties;if(lt&&lt.cluster?rt+lt.point_count<=Ke?rt+=lt.point_count:rt=this._appendLeaves(Ee,lt.cluster_id,p,Ke,rt):rt<Ke?rt++:Ee.push(yt),Ee.length===p)break}return rt}_createTree(Ee){const Me=new s.az(Ee.length/this.stride|0,this.options.nodeSize,Float32Array);for(let p=0;p<Ee.length;p+=this.stride)Me.add(Ee[p],Ee[p+1]);return Me.finish(),Me.data=Ee,Me}_addTileFeatures(Ee,Me,p,Ke,rt,ot){for(const yt of Ee){const lt=yt*this.stride,Rt=Me[lt+Ye]>1;let Dt,Ot,At;if(Rt)Dt=ft(Me,lt,this.clusterProps),Ot=Me[lt],At=Me[lt+1];else{const Yn=this.points[Me[lt+pe]];Dt=Yn.properties;const[Sr,$t]=Yn.geometry.coordinates;Ot=bt(Sr),At=$e($t)}const yn={type:1,geometry:[[Math.round(this.options.extent*(Ot*rt-p)),Math.round(this.options.extent*(At*rt-Ke))]],tags:Dt};let gn;gn=Rt||this.options.generateId?Me[lt+pe]:this.points[Me[lt+pe]].id,gn!==void 0&&(yn.id=gn),ot.features.push(yn)}}_limitZoom(Ee){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ee),this.options.maxZoom+1))}_cluster(Ee,Me){const{radius:p,extent:Ke,reduce:rt,minPoints:ot}=this.options,yt=p/(Ke*Math.pow(2,Me)),lt=Ee.data,Rt=[],Dt=this.stride;for(let Ot=0;Ot<lt.length;Ot+=Dt){if(lt[Ot+2]<=Me)continue;lt[Ot+2]=Me;const At=lt[Ot],yn=lt[Ot+1],gn=Ee.within(lt[Ot],lt[Ot+1],yt),Yn=lt[Ot+Ye];let Sr=Yn;for(const $t of gn){const Kn=$t*Dt;lt[Kn+2]>Me&&(Sr+=lt[Kn+Ye])}if(Sr>Yn&&Sr>=ot){let $t,Kn=At*Yn,Wn=yn*Yn,Tr=-1;const Jn=((Ot/Dt|0)<<5)+(Me+1)+this.points.length;for(const Vn of gn){const Tn=Vn*Dt;if(lt[Tn+2]<=Me)continue;lt[Tn+2]=Me;const _i=lt[Tn+Ye];Kn+=lt[Tn]*_i,Wn+=lt[Tn+1]*_i,lt[Tn+4]=Jn,rt&&($t||($t=this._map(lt,Ot,!0),Tr=this.clusterProps.length,this.clusterProps.push($t)),rt($t,this._map(lt,Tn)))}lt[Ot+4]=Jn,Rt.push(Kn/Sr,Wn/Sr,1/0,Jn,-1,Sr),rt&&Rt.push(Tr)}else{for(let $t=0;$t<Dt;$t++)Rt.push(lt[Ot+$t]);if(Sr>1)for(const $t of gn){const Kn=$t*Dt;if(!(lt[Kn+2]<=Me)){lt[Kn+2]=Me;for(let Wn=0;Wn<Dt;Wn++)Rt.push(lt[Kn+Wn])}}}}return Rt}_getOriginId(Ee){return Ee-this.points.length>>5}_getOriginZoom(Ee){return(Ee-this.points.length)%32}_map(Ee,Me,p){if(Ee[Me+Ye]>1){const ot=this.clusterProps[Ee[Me+we]];return p?Object.assign({},ot):ot}const Ke=this.points[Ee[Me+pe]].properties,rt=this.options.map(Ke);return p&&rt===Ke?Object.assign({},rt):rt}}function wt(Re,Ee,Me){return{type:"Feature",id:Re[Ee+pe],properties:ft(Re,Ee,Me),geometry:{type:"Point",coordinates:[(p=Re[Ee],360*(p-.5)),tt(Re[Ee+1])]}};var p}function ft(Re,Ee,Me){const p=Re[Ee+Ye],Ke=p>=1e4?`${Math.round(p/1e3)}k`:p>=1e3?Math.round(p/100)/10+"k":p,rt=Re[Ee+we],ot=rt===-1?{}:Object.assign({},Me[rt]);return Object.assign(ot,{cluster:!0,cluster_id:Re[Ee+pe],point_count:p,point_count_abbreviated:Ke})}function bt(Re){return Re/360+.5}function $e(Re){const Ee=Math.sin(Re*Math.PI/180),Me=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Me<0?0:Me>1?1:Me}function tt(Re){const Ee=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(Ee))/Math.PI-90}function nt(Re,Ee,Me,p){let Ke=p;const rt=Ee+(Me-Ee>>1);let ot,yt=Me-Ee;const lt=Re[Ee],Rt=Re[Ee+1],Dt=Re[Me],Ot=Re[Me+1];for(let At=Ee+3;At<Me;At+=3){const yn=en(Re[At],Re[At+1],lt,Rt,Dt,Ot);if(yn>Ke)ot=At,Ke=yn;else if(yn===Ke){const gn=Math.abs(At-rt);gn<yt&&(ot=At,yt=gn)}}Ke>p&&(ot-Ee>3&&nt(Re,Ee,ot,p),Re[ot+2]=Ke,Me-ot>3&&nt(Re,ot,Me,p))}function en(Re,Ee,Me,p,Ke,rt){let ot=Ke-Me,yt=rt-p;if(ot!==0||yt!==0){const lt=((Re-Me)*ot+(Ee-p)*yt)/(ot*ot+yt*yt);lt>1?(Me=Ke,p=rt):lt>0&&(Me+=ot*lt,p+=yt*lt)}return ot=Re-Me,yt=Ee-p,ot*ot+yt*yt}function tn(Re,Ee,Me,p){const Ke={id:Re??null,type:Ee,geometry:Me,tags:p,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")St(Ke,Me);else if(Ee==="Polygon")St(Ke,Me[0]);else if(Ee==="MultiLineString")for(const rt of Me)St(Ke,rt);else if(Ee==="MultiPolygon")for(const rt of Me)St(Ke,rt[0]);return Ke}function St(Re,Ee){for(let Me=0;Me<Ee.length;Me+=3)Re.minX=Math.min(Re.minX,Ee[Me]),Re.minY=Math.min(Re.minY,Ee[Me+1]),Re.maxX=Math.max(Re.maxX,Ee[Me]),Re.maxY=Math.max(Re.maxY,Ee[Me+1])}function Xt(Re,Ee,Me,p){if(!Ee.geometry)return;const Ke=Ee.geometry.coordinates;if(Ke&&Ke.length===0)return;const rt=Ee.geometry.type,ot=Math.pow(Me.tolerance/((1<<Me.maxZoom)*Me.extent),2);let yt=[],lt=Ee.id;if(Me.promoteId?lt=Ee.properties[Me.promoteId]:Me.generateId&&(lt=p||0),rt==="Point")Nt(Ke,yt);else if(rt==="MultiPoint")for(const Rt of Ke)Nt(Rt,yt);else if(rt==="LineString")Fe(Ke,yt,ot,!1);else if(rt==="MultiLineString"){if(Me.lineMetrics){for(const Rt of Ke)yt=[],Fe(Rt,yt,ot,!1),Re.push(tn(lt,"LineString",yt,Ee.properties));return}ye(Ke,yt,ot,!1)}else if(rt==="Polygon")ye(Ke,yt,ot,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(const Rt of Ee.geometry.geometries)Xt(Re,{id:lt,geometry:Rt,properties:Ee.properties},Me,p);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Rt of Ke){const Dt=[];ye(Rt,Dt,ot,!0),yt.push(Dt)}}Re.push(tn(lt,rt,yt,Ee.properties))}function Nt(Re,Ee){Ee.push(ke(Re[0]),Ge(Re[1]),0)}function Fe(Re,Ee,Me,p){let Ke,rt,ot=0;for(let lt=0;lt<Re.length;lt++){const Rt=ke(Re[lt][0]),Dt=Ge(Re[lt][1]);Ee.push(Rt,Dt,0),lt>0&&(ot+=p?(Ke*Dt-Rt*rt)/2:Math.sqrt(Math.pow(Rt-Ke,2)+Math.pow(Dt-rt,2))),Ke=Rt,rt=Dt}const yt=Ee.length-3;Ee[2]=1,nt(Ee,0,yt,Me),Ee[yt+2]=1,Ee.size=Math.abs(ot),Ee.start=0,Ee.end=Ee.size}function ye(Re,Ee,Me,p){for(let Ke=0;Ke<Re.length;Ke++){const rt=[];Fe(Re[Ke],rt,Me,p),Ee.push(rt)}}function ke(Re){return Re/360+.5}function Ge(Re){const Ee=Math.sin(Re*Math.PI/180),Me=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Me<0?0:Me>1?1:Me}function st(Re,Ee,Me,p,Ke,rt,ot,yt){if(p/=Ee,rt>=(Me/=Ee)&&ot<p)return Re;if(ot<Me||rt>=p)return null;const lt=[];for(const Rt of Re){const Dt=Rt.geometry;let Ot=Rt.type;const At=Ke===0?Rt.minX:Rt.minY,yn=Ke===0?Rt.maxX:Rt.maxY;if(At>=Me&&yn<p){lt.push(Rt);continue}if(yn<Me||At>=p)continue;let gn=[];if(Ot==="Point"||Ot==="MultiPoint")ht(Dt,gn,Me,p,Ke);else if(Ot==="LineString")Bt(Dt,gn,Me,p,Ke,!1,yt.lineMetrics);else if(Ot==="MultiLineString")Gt(Dt,gn,Me,p,Ke,!1);else if(Ot==="Polygon")Gt(Dt,gn,Me,p,Ke,!0);else if(Ot==="MultiPolygon")for(const Yn of Dt){const Sr=[];Gt(Yn,Sr,Me,p,Ke,!0),Sr.length&&gn.push(Sr)}if(gn.length){if(yt.lineMetrics&&Ot==="LineString"){for(const Yn of gn)lt.push(tn(Rt.id,Ot,Yn,Rt.tags));continue}Ot!=="LineString"&&Ot!=="MultiLineString"||(gn.length===1?(Ot="LineString",gn=gn[0]):Ot="MultiLineString"),Ot!=="Point"&&Ot!=="MultiPoint"||(Ot=gn.length===3?"Point":"MultiPoint"),lt.push(tn(Rt.id,Ot,gn,Rt.tags))}}return lt.length?lt:null}function ht(Re,Ee,Me,p,Ke){for(let rt=0;rt<Re.length;rt+=3){const ot=Re[rt+Ke];ot>=Me&&ot<=p&&zn(Ee,Re[rt],Re[rt+1],Re[rt+2])}}function Bt(Re,Ee,Me,p,Ke,rt,ot){let yt=nn(Re);const lt=Ke===0?rr:xn;let Rt,Dt,Ot=Re.start;for(let Sr=0;Sr<Re.length-3;Sr+=3){const $t=Re[Sr],Kn=Re[Sr+1],Wn=Re[Sr+2],Tr=Re[Sr+3],Jn=Re[Sr+4],Vn=Ke===0?$t:Kn,Tn=Ke===0?Tr:Jn;let _i=!1;ot&&(Rt=Math.sqrt(Math.pow($t-Tr,2)+Math.pow(Kn-Jn,2))),Vn<Me?Tn>Me&&(Dt=lt(yt,$t,Kn,Tr,Jn,Me),ot&&(yt.start=Ot+Rt*Dt)):Vn>p?Tn<p&&(Dt=lt(yt,$t,Kn,Tr,Jn,p),ot&&(yt.start=Ot+Rt*Dt)):zn(yt,$t,Kn,Wn),Tn<Me&&Vn>=Me&&(Dt=lt(yt,$t,Kn,Tr,Jn,Me),_i=!0),Tn>p&&Vn<=p&&(Dt=lt(yt,$t,Kn,Tr,Jn,p),_i=!0),!rt&&_i&&(ot&&(yt.end=Ot+Rt*Dt),Ee.push(yt),yt=nn(Re)),ot&&(Ot+=Rt)}let At=Re.length-3;const yn=Re[At],gn=Re[At+1],Yn=Ke===0?yn:gn;Yn>=Me&&Yn<=p&&zn(yt,yn,gn,Re[At+2]),At=yt.length-3,rt&&At>=3&&(yt[At]!==yt[0]||yt[At+1]!==yt[1])&&zn(yt,yt[0],yt[1],yt[2]),yt.length&&Ee.push(yt)}function nn(Re){const Ee=[];return Ee.size=Re.size,Ee.start=Re.start,Ee.end=Re.end,Ee}function Gt(Re,Ee,Me,p,Ke,rt){for(const ot of Re)Bt(ot,Ee,Me,p,Ke,rt,!1)}function zn(Re,Ee,Me,p){Re.push(Ee,Me,p)}function rr(Re,Ee,Me,p,Ke,rt){const ot=(rt-Ee)/(p-Ee);return zn(Re,rt,Me+(Ke-Me)*ot,1),ot}function xn(Re,Ee,Me,p,Ke,rt){const ot=(rt-Me)/(Ke-Me);return zn(Re,Ee+(p-Ee)*ot,rt,1),ot}function Zn(Re,Ee){const Me=[];for(let p=0;p<Re.length;p++){const Ke=Re[p],rt=Ke.type;let ot;if(rt==="Point"||rt==="MultiPoint"||rt==="LineString")ot=yr(Ke.geometry,Ee);else if(rt==="MultiLineString"||rt==="Polygon"){ot=[];for(const yt of Ke.geometry)ot.push(yr(yt,Ee))}else if(rt==="MultiPolygon"){ot=[];for(const yt of Ke.geometry){const lt=[];for(const Rt of yt)lt.push(yr(Rt,Ee));ot.push(lt)}}Me.push(tn(Ke.id,rt,ot,Ke.tags))}return Me}function yr(Re,Ee){const Me=[];Me.size=Re.size,Re.start!==void 0&&(Me.start=Re.start,Me.end=Re.end);for(let p=0;p<Re.length;p+=3)Me.push(Re[p]+Ee,Re[p+1],Re[p+2]);return Me}function Mr(Re,Ee){if(Re.transformed)return Re;const Me=1<<Re.z,p=Re.x,Ke=Re.y;for(const rt of Re.features){const ot=rt.geometry,yt=rt.type;if(rt.geometry=[],yt===1)for(let lt=0;lt<ot.length;lt+=2)rt.geometry.push(Or(ot[lt],ot[lt+1],Ee,Me,p,Ke));else for(let lt=0;lt<ot.length;lt++){const Rt=[];for(let Dt=0;Dt<ot[lt].length;Dt+=2)Rt.push(Or(ot[lt][Dt],ot[lt][Dt+1],Ee,Me,p,Ke));rt.geometry.push(Rt)}}return Re.transformed=!0,Re}function Or(Re,Ee,Me,p,Ke,rt){return[Math.round(Me*(Re*p-Ke)),Math.round(Me*(Ee*p-rt))]}function Jr(Re,Ee,Me,p,Ke){const rt=Ee===Ke.maxZoom?0:Ke.tolerance/((1<<Ee)*Ke.extent),ot={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:Me,y:p,z:Ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const yt of Re)_r(ot,yt,rt,Ke);return ot}function _r(Re,Ee,Me,p){const Ke=Ee.geometry,rt=Ee.type,ot=[];if(Re.minX=Math.min(Re.minX,Ee.minX),Re.minY=Math.min(Re.minY,Ee.minY),Re.maxX=Math.max(Re.maxX,Ee.maxX),Re.maxY=Math.max(Re.maxY,Ee.maxY),rt==="Point"||rt==="MultiPoint")for(let yt=0;yt<Ke.length;yt+=3)ot.push(Ke[yt],Ke[yt+1]),Re.numPoints++,Re.numSimplified++;else if(rt==="LineString")gi(ot,Ke,Re,Me,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(let yt=0;yt<Ke.length;yt++)gi(ot,Ke[yt],Re,Me,rt==="Polygon",yt===0);else if(rt==="MultiPolygon")for(let yt=0;yt<Ke.length;yt++){const lt=Ke[yt];for(let Rt=0;Rt<lt.length;Rt++)gi(ot,lt[Rt],Re,Me,!0,Rt===0)}if(ot.length){let yt=Ee.tags||null;if(rt==="LineString"&&p.lineMetrics){yt={};for(const Rt in Ee.tags)yt[Rt]=Ee.tags[Rt];yt.mapbox_clip_start=Ke.start/Ke.size,yt.mapbox_clip_end=Ke.end/Ke.size}const lt={geometry:ot,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:yt};Ee.id!==null&&(lt.id=Ee.id),Re.features.push(lt)}}function gi(Re,Ee,Me,p,Ke,rt){const ot=p*p;if(p>0&&Ee.size<(Ke?ot:p))return void(Me.numPoints+=Ee.length/3);const yt=[];for(let lt=0;lt<Ee.length;lt+=3)(p===0||Ee[lt+2]>ot)&&(Me.numSimplified++,yt.push(Ee[lt],Ee[lt+1])),Me.numPoints++;Ke&&function(lt,Rt){let Dt=0;for(let Ot=0,At=lt.length,yn=At-2;Ot<At;yn=Ot,Ot+=2)Dt+=(lt[Ot]-lt[yn])*(lt[Ot+1]+lt[yn+1]);if(Dt>0===Rt)for(let Ot=0,At=lt.length;Ot<At/2;Ot+=2){const yn=lt[Ot],gn=lt[Ot+1];lt[Ot]=lt[At-2-Ot],lt[Ot+1]=lt[At-1-Ot],lt[At-2-Ot]=yn,lt[At-1-Ot]=gn}}(yt,rt),Re.push(yt)}const Te={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class te{constructor(Ee,Me){const p=(Me=this.options=function(rt,ot){for(const yt in ot)rt[yt]=ot[yt];return rt}(Object.create(Te),Me)).debug;if(p&&console.time("preprocess data"),Me.maxZoom<0||Me.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Me.promoteId&&Me.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ke=function(rt,ot){const yt=[];if(rt.type==="FeatureCollection")for(let lt=0;lt<rt.features.length;lt++)Xt(yt,rt.features[lt],ot,lt);else Xt(yt,rt.type==="Feature"?rt:{geometry:rt},ot);return yt}(Ee,Me);this.tiles={},this.tileCoords=[],p&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Me.indexMaxZoom,Me.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ke=function(rt,ot){const yt=ot.buffer/ot.extent;let lt=rt;const Rt=st(rt,1,-1-yt,yt,0,-1,2,ot),Dt=st(rt,1,1-yt,2+yt,0,-1,2,ot);return(Rt||Dt)&&(lt=st(rt,1,-yt,1+yt,0,-1,2,ot)||[],Rt&&(lt=Zn(Rt,1).concat(lt)),Dt&&(lt=lt.concat(Zn(Dt,-1)))),lt}(Ke,Me),Ke.length&&this.splitTile(Ke,0,0,0),p&&(Ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Ee,Me,p,Ke,rt,ot,yt){const lt=[Ee,Me,p,Ke],Rt=this.options,Dt=Rt.debug;for(;lt.length;){Ke=lt.pop(),p=lt.pop(),Me=lt.pop(),Ee=lt.pop();const Ot=1<<Me,At=oe(Me,p,Ke);let yn=this.tiles[At];if(!yn&&(Dt>1&&console.time("creation"),yn=this.tiles[At]=Jr(Ee,Me,p,Ke,Rt),this.tileCoords.push({z:Me,x:p,y:Ke}),Dt)){Dt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Me,p,Ke,yn.numFeatures,yn.numPoints,yn.numSimplified),console.timeEnd("creation"));const _i=`z${Me}`;this.stats[_i]=(this.stats[_i]||0)+1,this.total++}if(yn.source=Ee,rt==null){if(Me===Rt.indexMaxZoom||yn.numPoints<=Rt.indexMaxPoints)continue}else{if(Me===Rt.maxZoom||Me===rt)continue;if(rt!=null){const _i=rt-Me;if(p!==ot>>_i||Ke!==yt>>_i)continue}}if(yn.source=null,Ee.length===0)continue;Dt>1&&console.time("clipping");const gn=.5*Rt.buffer/Rt.extent,Yn=.5-gn,Sr=.5+gn,$t=1+gn;let Kn=null,Wn=null,Tr=null,Jn=null,Vn=st(Ee,Ot,p-gn,p+Sr,0,yn.minX,yn.maxX,Rt),Tn=st(Ee,Ot,p+Yn,p+$t,0,yn.minX,yn.maxX,Rt);Ee=null,Vn&&(Kn=st(Vn,Ot,Ke-gn,Ke+Sr,1,yn.minY,yn.maxY,Rt),Wn=st(Vn,Ot,Ke+Yn,Ke+$t,1,yn.minY,yn.maxY,Rt),Vn=null),Tn&&(Tr=st(Tn,Ot,Ke-gn,Ke+Sr,1,yn.minY,yn.maxY,Rt),Jn=st(Tn,Ot,Ke+Yn,Ke+$t,1,yn.minY,yn.maxY,Rt),Tn=null),Dt>1&&console.timeEnd("clipping"),lt.push(Kn||[],Me+1,2*p,2*Ke),lt.push(Wn||[],Me+1,2*p,2*Ke+1),lt.push(Tr||[],Me+1,2*p+1,2*Ke),lt.push(Jn||[],Me+1,2*p+1,2*Ke+1)}}getTile(Ee,Me,p){Ee=+Ee,Me=+Me,p=+p;const Ke=this.options,{extent:rt,debug:ot}=Ke;if(Ee<0||Ee>24)return null;const yt=1<<Ee,lt=oe(Ee,Me=Me+yt&yt-1,p);if(this.tiles[lt])return Mr(this.tiles[lt],rt);ot>1&&console.log("drilling down to z%d-%d-%d",Ee,Me,p);let Rt,Dt=Ee,Ot=Me,At=p;for(;!Rt&&Dt>0;)Dt--,Ot>>=1,At>>=1,Rt=this.tiles[oe(Dt,Ot,At)];return Rt&&Rt.source?(ot>1&&(console.log("found parent tile z%d-%d-%d",Dt,Ot,At),console.time("drilling down")),this.splitTile(Rt.source,Dt,Ot,At,Ee,Me,p),ot>1&&console.timeEnd("drilling down"),this.tiles[lt]?Mr(this.tiles[lt],rt):null):null}}function oe(Re,Ee,Me){return 32*((1<<Re)*Me+Ee)+Re}function je(Re,Ee){return Ee?Re.properties[Ee]:Re.id}function Ct(Re,Ee){if(Re==null)return!0;if(Re.type==="Feature")return je(Re,Ee)!=null;if(Re.type==="FeatureCollection"){const Me=new Set;for(const p of Re.features){const Ke=je(p,Ee);if(Ke==null||Me.has(Ke))return!1;Me.add(Ke)}return!0}return!1}function Lt(Re,Ee){const Me=new Map;if(Re!=null)if(Re.type==="Feature")Me.set(je(Re,Ee),Re);else for(const p of Re.features)Me.set(je(p,Ee),p);return Me}class jt extends k{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(Ee,Me){return s._(this,void 0,void 0,function*(){const p=Ee.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ke=this._geoJSONIndex.getTile(p.z,p.x,p.y);if(!Ke)return null;const rt=new ee(Ke.features);let ot=be(rt);return ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),{vectorTile:rt,rawData:ot.buffer}})}loadData(Ee){return s._(this,void 0,void 0,function*(){var Me;(Me=this._pendingRequest)===null||Me===void 0||Me.abort();const p=!!(Ee&&Ee.request&&Ee.request.collectResourceTiming)&&new s.cu(Ee.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(Ee,this._pendingRequest),this._geoJSONIndex=Ee.cluster?new pt(function({superclusterOptions:ot,clusterProperties:yt}){if(!yt||!ot)return ot;const lt={},Rt={},Dt={accumulated:null,zoom:0},Ot={properties:null},At=Object.keys(yt);for(const yn of At){const[gn,Yn]=yt[yn],Sr=s.cB(Yn),$t=s.cB(typeof gn=="string"?[gn,["accumulated"],["get",yn]]:gn);lt[yn]=Sr.value,Rt[yn]=$t.value}return ot.map=yn=>{Ot.properties=yn;const gn={};for(const Yn of At)gn[Yn]=lt[Yn].evaluate(Dt,Ot);return gn},ot.reduce=(yn,gn)=>{Ot.properties=gn;for(const Yn of At)Dt.accumulated=yn[Yn],yn[Yn]=Rt[Yn].evaluate(Dt,Ot)},ot}(Ee)).load((yield this._pendingData).features):(Ke=yield this._pendingData,new te(Ke,Ee.geojsonVtOptions)),this.loaded={};const rt={};if(p){const ot=p.finish();ot&&(rt.resourceTiming={},rt.resourceTiming[Ee.source]=JSON.parse(JSON.stringify(ot)))}return rt}catch(rt){if(delete this._pendingRequest,s.cf(rt))return{abandoned:!0};throw rt}var Ke})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(Ee){const Me=this.loaded;return Me&&Me[Ee.uid]?super.reloadTile(Ee):this.loadTile(Ee)}loadAndProcessGeoJSON(Ee,Me){return s._(this,void 0,void 0,function*(){let p=yield this.loadGeoJSON(Ee,Me);if(delete this._pendingRequest,typeof p!="object")throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`);if(X(p,!0),Ee.filter){const Ke=s.cB(Ee.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ke.result==="error")throw new Error(Ke.value.map(ot=>`${ot.key}: ${ot.message}`).join(", "));p={type:"FeatureCollection",features:p.features.filter(ot=>Ke.value.evaluate({zoom:0},ot))}}return p})}loadGeoJSON(Ee,Me){return s._(this,void 0,void 0,function*(){const{promoteId:p}=Ee;if(Ee.request){const Ke=yield s.h(Ee.request,Me);return this._dataUpdateable=Ct(Ke.data,p)?Lt(Ke.data,p):void 0,Ke.data}if(typeof Ee.data=="string")try{const Ke=JSON.parse(Ee.data);return this._dataUpdateable=Ct(Ke,p)?Lt(Ke,p):void 0,Ke}catch{throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`)}if(!Ee.dataDiff)throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Ee.source}`);return function(Ke,rt,ot){var yt,lt,Rt,Dt;if(rt.removeAll&&Ke.clear(),rt.remove)for(const Ot of rt.remove)Ke.delete(Ot);if(rt.add)for(const Ot of rt.add){const At=je(Ot,ot);At!=null&&Ke.set(At,Ot)}if(rt.update)for(const Ot of rt.update){let At=Ke.get(Ot.id);if(At==null)continue;const yn=!Ot.removeAllProperties&&(((yt=Ot.removeProperties)===null||yt===void 0?void 0:yt.length)>0||((lt=Ot.addOrUpdateProperties)===null||lt===void 0?void 0:lt.length)>0);if((Ot.newGeometry||Ot.removeAllProperties||yn)&&(At=Object.assign({},At),Ke.set(Ot.id,At),yn&&(At.properties=Object.assign({},At.properties))),Ot.newGeometry&&(At.geometry=Ot.newGeometry),Ot.removeAllProperties)At.properties={};else if(((Rt=Ot.removeProperties)===null||Rt===void 0?void 0:Rt.length)>0)for(const gn of Ot.removeProperties)Object.prototype.hasOwnProperty.call(At.properties,gn)&&delete At.properties[gn];if(((Dt=Ot.addOrUpdateProperties)===null||Dt===void 0?void 0:Dt.length)>0)for(const{key:gn,value:Yn}of Ot.addOrUpdateProperties)At.properties[gn]=Yn}}(this._dataUpdateable,Ee.dataDiff,p),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(Ee){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(Ee){return this._geoJSONIndex.getClusterExpansionZoom(Ee.clusterId)}getClusterChildren(Ee){return this._geoJSONIndex.getChildren(Ee.clusterId)}getClusterLeaves(Ee){return this._geoJSONIndex.getLeaves(Ee.clusterId,Ee.limit,Ee.offset)}}class cr{constructor(Ee){this.self=Ee,this.actor=new s.F(Ee),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Me,p)=>{if(this.externalWorkerSourceTypes[Me])throw new Error(`Worker source with name "${Me}" already registered.`);this.externalWorkerSourceTypes[Me]=p},this.self.addProtocol=s.ch,this.self.removeProtocol=s.ci,this.self.registerRTLTextPlugin=Me=>{s.cC.setMethods(Me)},this.actor.registerMessageHandler("LDT",(Me,p)=>this._getDEMWorkerSource(Me,p.source).loadTile(p)),this.actor.registerMessageHandler("RDT",(Me,p)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(Me,p.source).removeTile(p)})),this.actor.registerMessageHandler("GCEZ",(Me,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Me,p.type,p.source).getClusterExpansionZoom(p)})),this.actor.registerMessageHandler("GCC",(Me,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Me,p.type,p.source).getClusterChildren(p)})),this.actor.registerMessageHandler("GCL",(Me,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Me,p.type,p.source).getClusterLeaves(p)})),this.actor.registerMessageHandler("LD",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).loadData(p)),this.actor.registerMessageHandler("GD",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).getData()),this.actor.registerMessageHandler("LT",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).loadTile(p)),this.actor.registerMessageHandler("RT",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).reloadTile(p)),this.actor.registerMessageHandler("AT",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).abortTile(p)),this.actor.registerMessageHandler("RMT",(Me,p)=>this._getWorkerSource(Me,p.type,p.source).removeTile(p)),this.actor.registerMessageHandler("RS",(Me,p)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[Me]||!this.workerSources[Me][p.type]||!this.workerSources[Me][p.type][p.source])return;const Ke=this.workerSources[Me][p.type][p.source];delete this.workerSources[Me][p.type][p.source],Ke.removeSource!==void 0&&Ke.removeSource(p)})),this.actor.registerMessageHandler("RM",Me=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[Me],delete this.availableImages[Me],delete this.workerSources[Me],delete this.demWorkerSources[Me]})),this.actor.registerMessageHandler("SR",(Me,p)=>s._(this,void 0,void 0,function*(){this.referrer=p})),this.actor.registerMessageHandler("SRPS",(Me,p)=>this._syncRTLPluginState(Me,p)),this.actor.registerMessageHandler("IS",(Me,p)=>s._(this,void 0,void 0,function*(){this.self.importScripts(p)})),this.actor.registerMessageHandler("SI",(Me,p)=>this._setImages(Me,p)),this.actor.registerMessageHandler("UL",(Me,p)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(Me).update(p.layers,p.removedIds)})),this.actor.registerMessageHandler("SL",(Me,p)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(Me).replace(p)}))}_setImages(Ee,Me){return s._(this,void 0,void 0,function*(){this.availableImages[Ee]=Me;for(const p in this.workerSources[Ee]){const Ke=this.workerSources[Ee][p];for(const rt in Ke)Ke[rt].availableImages=Me}})}_syncRTLPluginState(Ee,Me){return s._(this,void 0,void 0,function*(){return yield s.cC.syncState(Me,this.self.importScripts)})}_getAvailableImages(Ee){let Me=this.availableImages[Ee];return Me||(Me=[]),Me}_getLayerIndex(Ee){let Me=this.layerIndexes[Ee];return Me||(Me=this.layerIndexes[Ee]=new a),Me}_getWorkerSource(Ee,Me,p){if(this.workerSources[Ee]||(this.workerSources[Ee]={}),this.workerSources[Ee][Me]||(this.workerSources[Ee][Me]={}),!this.workerSources[Ee][Me][p]){const Ke={sendAsync:(rt,ot)=>(rt.targetMapId=Ee,this.actor.sendAsync(rt,ot))};switch(Me){case"vector":this.workerSources[Ee][Me][p]=new k(Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee));break;case"geojson":this.workerSources[Ee][Me][p]=new jt(Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee));break;default:this.workerSources[Ee][Me][p]=new this.externalWorkerSourceTypes[Me](Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee))}}return this.workerSources[Ee][Me][p]}_getDEMWorkerSource(Ee,Me){return this.demWorkerSources[Ee]||(this.demWorkerSources[Ee]={}),this.demWorkerSources[Ee][Me]||(this.demWorkerSources[Ee][Me]=new I),this.demWorkerSources[Ee][Me]}}return s.i(self)&&(self.worker=new cr(self)),cr}),i("index",["exports","./shared"],function(s,a){var f="5.0.1";function m(){var S=new a.A(4);return a.A!=Float32Array&&(S[1]=0,S[2]=0),S[0]=1,S[3]=1,S}let C,k;const I={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:S=>new Promise((l,c)=>{const v=requestAnimationFrame(l);S.signal.addEventListener("abort",()=>{cancelAnimationFrame(v),c(a.c())})}),getImageData(S,l=0){return this.getImageCanvasContext(S).getImageData(-l,-l,S.width+2*l,S.height+2*l)},getImageCanvasContext(S){const l=window.document.createElement("canvas"),c=l.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return l.width=S.width,l.height=S.height,c.drawImage(S,0,0,S.width,S.height),c},resolveURL:S=>(C||(C=document.createElement("a")),C.href=S,C.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(k==null&&(k=matchMedia("(prefers-reduced-motion: reduce)")),k.matches)}};class K{static testProp(l){if(!K.docStyle)return l[0];for(let c=0;c<l.length;c++)if(l[c]in K.docStyle)return l[c];return l[0]}static create(l,c,v){const x=window.document.createElement(l);return c!==void 0&&(x.className=c),v&&v.appendChild(x),x}static createNS(l,c){return window.document.createElementNS(l,c)}static disableDrag(){K.docStyle&&K.selectProp&&(K.userSelect=K.docStyle[K.selectProp],K.docStyle[K.selectProp]="none")}static enableDrag(){K.docStyle&&K.selectProp&&(K.docStyle[K.selectProp]=K.userSelect)}static setTransform(l,c){l.style[K.transformProp]=c}static addEventListener(l,c,v,x={}){l.addEventListener(c,v,"passive"in x?x:x.capture)}static removeEventListener(l,c,v,x={}){l.removeEventListener(c,v,"passive"in x?x:x.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",K.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",K.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",K.suppressClickInternal,!0)},0)}static getScale(l){const c=l.getBoundingClientRect();return{x:c.width/l.offsetWidth||1,y:c.height/l.offsetHeight||1,boundingClientRect:c}}static getPoint(l,c,v){const x=c.boundingClientRect;return new a.P((v.clientX-x.left)/c.x-l.clientLeft,(v.clientY-x.top)/c.y-l.clientTop)}static mousePos(l,c){const v=K.getScale(l);return K.getPoint(l,v,c)}static touchPos(l,c){const v=[],x=K.getScale(l);for(let O=0;O<c.length;O++)v.push(K.getPoint(l,x,c[O]));return v}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}static sanitize(l){const c=new DOMParser().parseFromString(l,"text/html").body||document.createElement("body"),v=c.querySelectorAll("script");for(const x of v)x.remove();return K.clean(c),c.innerHTML}static isPossiblyDangerous(l,c){const v=c.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(l)||!v.includes("javascript:")&&!v.includes("data:"))||!!l.startsWith("on")||void 0}static clean(l){const c=l.children;for(const v of c)K.removeAttributes(v),K.clean(v)}static removeAttributes(l){for(const{name:c,value:v}of l.attributes)K.isPossiblyDangerous(c,v)&&l.removeAttribute(c)}}K.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,K.selectProp=K.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),K.transformProp=K.testProp(["transform","WebkitTransform"]);const L={supported:!1,testSupport:function(S){!H&&X&&(G?ee(S):q=S)}};let q,X,H=!1,G=!1;function ee(S){const l=S.createTexture();S.bindTexture(S.TEXTURE_2D,l);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,X),S.isContextLost())return;L.supported=!0}catch{}S.deleteTexture(l),H=!0}var ne;typeof document<"u"&&(X=document.createElement("img"),X.onload=()=>{q&&ee(q),q=null,G=!0},X.onerror=()=>{H=!0,q=null},X.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(S){let l,c,v,x;S.resetRequestQueue=()=>{l=[],c=0,v=0,x={}},S.addThrottleControl=W=>{const $=v++;return x[$]=W,$},S.removeThrottleControl=W=>{delete x[W],D()},S.getImage=(W,$,ue=!0)=>new Promise((fe,me)=>{L.supported&&(W.headers||(W.headers={}),W.headers.accept="image/webp,*/*"),a.e(W,{type:"image"}),l.push({abortController:$,requestParameters:W,supportImageRefresh:ue,state:"queued",onError:Ie=>{me(Ie)},onSuccess:Ie=>{fe(Ie)}}),D()});const O=W=>a._(this,void 0,void 0,function*(){W.state="running";const{requestParameters:$,supportImageRefresh:ue,onError:fe,onSuccess:me,abortController:Ie}=W,De=ue===!1&&!a.i(self)&&!a.g($.url)&&(!$.headers||Object.keys($.headers).reduce((Ze,et)=>Ze&&et==="accept",!0));c++;const He=De?U($,Ie):a.m($,Ie);try{const Ze=yield He;delete W.abortController,W.state="completed",Ze.data instanceof HTMLImageElement||a.b(Ze.data)?me(Ze):Ze.data&&me({data:yield(Ve=Ze.data,typeof createImageBitmap=="function"?a.d(Ve):a.f(Ve)),cacheControl:Ze.cacheControl,expires:Ze.expires})}catch(Ze){delete W.abortController,fe(Ze)}finally{c--,D()}var Ve}),D=()=>{const W=(()=>{for(const $ of Object.keys(x))if(x[$]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let $=c;$<W&&l.length>0;$++){const ue=l.shift();ue.abortController.signal.aborted?$--:O(ue)}},U=(W,$)=>new Promise((ue,fe)=>{const me=new Image,Ie=W.url,De=W.credentials;De&&De==="include"?me.crossOrigin="use-credentials":(De&&De==="same-origin"||!a.s(Ie))&&(me.crossOrigin="anonymous"),$.signal.addEventListener("abort",()=>{me.src="",fe(a.c())}),me.fetchPriority="high",me.onload=()=>{me.onerror=me.onload=null,ue({data:me})},me.onerror=()=>{me.onerror=me.onload=null,$.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},me.src=Ie})}(ne||(ne={})),ne.resetRequestQueue();class se{constructor(l){this._transformRequestFn=l}transformRequest(l,c){return this._transformRequestFn&&this._transformRequestFn(l,c)||{url:l}}setTransformRequest(l){this._transformRequestFn=l}}function Ae(S){const l=[];if(typeof S=="string")l.push({id:"default",url:S});else if(S&&S.length>0){const c=[];for(const{id:v,url:x}of S){const O=`${v}${x}`;c.indexOf(O)===-1&&(c.push(O),l.push({id:v,url:x}))}}return l}function V(S,l,c){try{const v=new URL(S);return v.pathname+=`${l}${c}`,v.toString()}catch{throw new Error(`Invalid sprite URL "${S}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class re{constructor(l,c,v,x){this.context=l,this.format=v,this.texture=l.gl.createTexture(),this.update(c,x)}update(l,c,v){const{width:x,height:O}=l,D=!(this.size&&this.size[0]===x&&this.size[1]===O||v),{context:U}=this,{gl:W}=U;if(this.useMipmap=!!(c&&c.useMipmap),W.bindTexture(W.TEXTURE_2D,this.texture),U.pixelStoreUnpackFlipY.set(!1),U.pixelStoreUnpack.set(1),U.pixelStoreUnpackPremultiplyAlpha.set(this.format===W.RGBA&&(!c||c.premultiply!==!1)),D)this.size=[x,O],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?W.texImage2D(W.TEXTURE_2D,0,this.format,this.format,W.UNSIGNED_BYTE,l):W.texImage2D(W.TEXTURE_2D,0,this.format,x,O,0,this.format,W.UNSIGNED_BYTE,l.data);else{const{x:$,y:ue}=v||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?W.texSubImage2D(W.TEXTURE_2D,0,$,ue,W.RGBA,W.UNSIGNED_BYTE,l):W.texSubImage2D(W.TEXTURE_2D,0,$,ue,x,O,W.RGBA,W.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&W.generateMipmap(W.TEXTURE_2D)}bind(l,c,v){const{context:x}=this,{gl:O}=x;O.bindTexture(O.TEXTURE_2D,this.texture),v!==O.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=O.LINEAR),l!==this.filter&&(O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,l),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,v||l),this.filter=l),c!==this.wrap&&(O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,c),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}function be(S){const{userImage:l}=S;return!!(l&&l.render&&l.render())&&(S.data.replace(new Uint8Array(l.data.buffer)),!0)}class _e extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:c,promiseResolve:v}of this.requestors)v(this._getImagesForIds(c));this.requestors=[]}}getImage(l){const c=this.images[l];if(c&&!c.data&&c.spriteData){const v=c.spriteData;c.data=new a.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),c.spriteData=null}return c}addImage(l,c){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,c)&&(this.images[l]=c)}_validate(l,c){let v=!0;const x=c.data||c.spriteData;return this._validateStretch(c.stretchX,x&&x.width)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchX" value`))),v=!1),this._validateStretch(c.stretchY,x&&x.height)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchY" value`))),v=!1),this._validateContent(c.content,c)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "content" value`))),v=!1),v}_validateStretch(l,c){if(!l)return!0;let v=0;for(const x of l){if(x[0]<v||x[1]<x[0]||c<x[1])return!1;v=x[1]}return!0}_validateContent(l,c){if(!l)return!0;if(l.length!==4)return!1;const v=c.spriteData,x=v&&v.width||c.data.width,O=v&&v.height||c.data.height;return!(l[0]<0||x<l[0]||l[1]<0||O<l[1]||l[2]<0||x<l[2]||l[3]<0||O<l[3]||l[2]<l[0]||l[3]<l[1])}updateImage(l,c,v=!0){const x=this.getImage(l);if(v&&(x.data.width!==c.data.width||x.data.height!==c.data.height))throw new Error(`size mismatch between old image (${x.data.width}x${x.data.height}) and new image (${c.data.width}x${c.data.height}).`);c.version=x.version+1,this.images[l]=c,this.updatedImages[l]=!0}removeImage(l){const c=this.images[l];delete this.images[l],delete this.patterns[l],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l){return new Promise((c,v)=>{let x=!0;if(!this.isLoaded())for(const O of l)this.images[O]||(x=!1);this.isLoaded()||x?c(this._getImagesForIds(l)):this.requestors.push({ids:l,promiseResolve:c})})}_getImagesForIds(l){const c={};for(const v of l){let x=this.getImage(v);x||(this.fire(new a.k("styleimagemissing",{id:v})),x=this.getImage(v)),x?c[v]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,textFitWidth:x.textFitWidth,textFitHeight:x.textFitHeight,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:a.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return c}getPixelSize(){const{width:l,height:c}=this.atlasImage;return{width:l,height:c}}getPattern(l){const c=this.patterns[l],v=this.getImage(l);if(!v)return null;if(c&&c.position.version===v.version)return c.position;if(c)c.position.version=v.version;else{const x={w:v.data.width+2,h:v.data.height+2,x:0,y:0},O=new a.I(x,v);this.patterns[l]={bin:x,position:O}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const c=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new re(l,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const O in this.patterns)l.push(this.patterns[O].bin);const{w:c,h:v}=a.p(l),x=this.atlasImage;x.resize({width:c||1,height:v||1});for(const O in this.patterns){const{bin:D}=this.patterns[O],U=D.x+1,W=D.y+1,$=this.getImage(O).data,ue=$.width,fe=$.height;a.R.copy($,x,{x:0,y:0},{x:U,y:W},{width:ue,height:fe}),a.R.copy($,x,{x:0,y:fe-1},{x:U,y:W-1},{width:ue,height:1}),a.R.copy($,x,{x:0,y:0},{x:U,y:W+fe},{width:ue,height:1}),a.R.copy($,x,{x:ue-1,y:0},{x:U-1,y:W},{width:1,height:fe}),a.R.copy($,x,{x:0,y:0},{x:U+ue,y:W},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const c of l){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const v=this.getImage(c);v||a.w(`Image with ID: "${c}" was not found`),be(v)&&this.updateImage(c,v)}}}const Pe=1e20;function Ue(S,l,c,v,x,O,D,U,W){for(let $=l;$<l+v;$++)pe(S,c*O+$,O,x,D,U,W);for(let $=c;$<c+x;$++)pe(S,$*O+l,1,v,D,U,W)}function pe(S,l,c,v,x,O,D){O[0]=0,D[0]=-1e20,D[1]=Pe,x[0]=S[l];for(let U=1,W=0,$=0;U<v;U++){x[U]=S[l+U*c];const ue=U*U;do{const fe=O[W];$=(x[U]-x[fe]+ue-fe*fe)/(U-fe)/2}while($<=D[W]&&--W>-1);W++,O[W]=U,D[W]=$,D[W+1]=Pe}for(let U=0,W=0;U<v;U++){for(;D[W+1]<U;)W++;const $=O[W],ue=U-$;S[l+U*c]=x[$]+ue*ue}}class Ye{constructor(l,c){this.requestManager=l,this.localIdeographFontFamily=c,this.entries={}}setURL(l){this.url=l}getGlyphs(l){return a._(this,void 0,void 0,function*(){const c=[];for(const O in l)for(const D of l[O])c.push(this._getAndCacheGlyphsPromise(O,D));const v=yield Promise.all(c),x={};for(const{stack:O,id:D,glyph:U}of v)x[O]||(x[O]={}),x[O][D]=U&&{id:U.id,bitmap:U.bitmap.clone(),metrics:U.metrics};return x})}_getAndCacheGlyphsPromise(l,c){return a._(this,void 0,void 0,function*(){let v=this.entries[l];v||(v=this.entries[l]={glyphs:{},requests:{},ranges:{}});let x=v.glyphs[c];if(x!==void 0)return{stack:l,id:c,glyph:x};if(x=this._tinySDF(v,l,c),x)return v.glyphs[c]=x,{stack:l,id:c,glyph:x};const O=Math.floor(c/256);if(256*O>65535)throw new Error("glyphs > 65535 not supported");if(v.ranges[O])return{stack:l,id:c,glyph:x};if(!this.url)throw new Error("glyphsUrl is not set");if(!v.requests[O]){const U=Ye.loadGlyphRange(l,O,this.url,this.requestManager);v.requests[O]=U}const D=yield v.requests[O];for(const U in D)this._doesCharSupportLocalGlyph(+U)||(v.glyphs[+U]=D[+U]);return v.ranges[O]=!0,{stack:l,id:c,glyph:D[c]||null}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(l))}_tinySDF(l,c,v){const x=this.localIdeographFontFamily;if(!x||!this._doesCharSupportLocalGlyph(v))return;let O=l.tinySDF;if(!O){let U="400";/bold/i.test(c)?U="900":/medium/i.test(c)?U="500":/light/i.test(c)&&(U="200"),O=l.tinySDF=new Ye.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:x,fontWeight:U})}const D=O.draw(String.fromCharCode(v));return{id:v,bitmap:new a.o({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ye.loadGlyphRange=function(S,l,c,v){return a._(this,void 0,void 0,function*(){const x=256*l,O=x+255,D=v.transformRequest(c.replace("{fontstack}",S).replace("{range}",`${x}-${O}`),"Glyphs"),U=yield a.l(D,new AbortController);if(!U||!U.data)throw new Error(`Could not load glyph range. range: ${l}, ${x}-${O}`);const W={};for(const $ of a.n(U.data))W[$.id]=$;return W})},Ye.TinySDF=class{constructor({fontSize:S=24,buffer:l=3,radius:c=8,cutoff:v=.25,fontFamily:x="sans-serif",fontWeight:O="normal",fontStyle:D="normal"}={}){this.buffer=l,this.cutoff=v,this.radius=c;const U=this.size=S+4*l,W=this._createCanvas(U),$=this.ctx=W.getContext("2d",{willReadFrequently:!0});$.font=`${D} ${O} ${S}px ${x}`,$.textBaseline="alphabetic",$.textAlign="left",$.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Uint16Array(U)}_createCanvas(S){const l=document.createElement("canvas");return l.width=l.height=S,l}draw(S){const{width:l,actualBoundingBoxAscent:c,actualBoundingBoxDescent:v,actualBoundingBoxLeft:x,actualBoundingBoxRight:O}=this.ctx.measureText(S),D=Math.ceil(c),U=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(O-x))),W=Math.min(this.size-this.buffer,D+Math.ceil(v)),$=U+2*this.buffer,ue=W+2*this.buffer,fe=Math.max($*ue,0),me=new Uint8ClampedArray(fe),Ie={data:me,width:$,height:ue,glyphWidth:U,glyphHeight:W,glyphTop:D,glyphLeft:0,glyphAdvance:l};if(U===0||W===0)return Ie;const{ctx:De,buffer:He,gridInner:Ve,gridOuter:Ze}=this;De.clearRect(He,He,U,W),De.fillText(S,He,He+D);const et=De.getImageData(He,He,U,W);Ze.fill(Pe,0,fe),Ve.fill(0,0,fe);for(let ct=0;ct<W;ct++)for(let mt=0;mt<U;mt++){const vt=et.data[4*(ct*U+mt)+3]/255;if(vt===0)continue;const Et=(ct+He)*$+mt+He;if(vt===1)Ze[Et]=0,Ve[Et]=Pe;else{const xt=.5-vt;Ze[Et]=xt>0?xt*xt:0,Ve[Et]=xt<0?xt*xt:0}}Ue(Ze,0,0,$,ue,$,this.f,this.v,this.z),Ue(Ve,He,He,U,W,$,this.f,this.v,this.z);for(let ct=0;ct<fe;ct++){const mt=Math.sqrt(Ze[ct])-Math.sqrt(Ve[ct]);me[ct]=Math.round(255-255*(mt/this.radius+this.cutoff))}return Ie}};class we{constructor(){this.specification=a.v.light.position}possiblyEvaluate(l,c){return a.x(l.expression.evaluate(c))}interpolate(l,c,v){return{x:a.y.number(l.x,c.x,v),y:a.y.number(l.y,c.y,v),z:a.y.number(l.z,c.z,v)}}}let pt;class wt extends a.E{constructor(l){super(),pt=pt||new a.q({anchor:new a.D(a.v.light.anchor),position:new we,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(pt),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,c={}){if(!this._validate(a.r,l,c))for(const v in l){const x=l[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),x):this._transitionable.setValue(v,x)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,c,v){return(!v||v.validate!==!1)&&a.t(this,l.call(a.u,{value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const ft=new a.q({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class bt extends a.E{constructor(l){super(),this._transitionable=new a.T(ft),this.setSky(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.z(0))}setSky(l,c={}){if(!this._validate(a.B,l,c)){l||(l={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const v in l){const x=l[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),x):this._transitionable.setValue(v,x)}}}getSky(){return this._transitionable.serialize()}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,c,v={}){return(v==null?void 0:v.validate)!==!1&&a.t(this,l.call(a.u,a.e({value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(l){return l<60?0:l<70?(l-60)/10:1}}class $e{constructor(l,c){this.width=l,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,c){const v=l.join(",")+String(c);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(l,c)),this.dashEntry[v]}getDashRanges(l,c,v){const x=[];let O=l.length%2==1?-l[l.length-1]*v:0,D=l[0]*v,U=!0;x.push({left:O,right:D,isDash:U,zeroLength:l[0]===0});let W=l[0];for(let $=1;$<l.length;$++){U=!U;const ue=l[$];O=W*v,W+=ue,D=W*v,x.push({left:O,right:D,isDash:U,zeroLength:ue===0})}return x}addRoundDash(l,c,v){const x=c/2;for(let O=-v;O<=v;O++){const D=this.width*(this.nextRow+v+O);let U=0,W=l[U];for(let $=0;$<this.width;$++){$/W.right>1&&(W=l[++U]);const ue=Math.abs($-W.left),fe=Math.abs($-W.right),me=Math.min(ue,fe);let Ie;const De=O/v*(x+1);if(W.isDash){const He=x-Math.abs(De);Ie=Math.sqrt(me*me+He*He)}else Ie=x-Math.sqrt(me*me+De*De);this.data[D+$]=Math.max(0,Math.min(255,Ie+128))}}}addRegularDash(l){for(let U=l.length-1;U>=0;--U){const W=l[U],$=l[U+1];W.zeroLength?l.splice(U,1):$&&$.isDash===W.isDash&&($.left=W.left,l.splice(U,1))}const c=l[0],v=l[l.length-1];c.isDash===v.isDash&&(c.left=v.left-this.width,v.right=c.right+this.width);const x=this.width*this.nextRow;let O=0,D=l[O];for(let U=0;U<this.width;U++){U/D.right>1&&(D=l[++O]);const W=Math.abs(U-D.left),$=Math.abs(U-D.right),ue=Math.min(W,$);this.data[x+U]=Math.max(0,Math.min(255,(D.isDash?ue:-ue)+128))}}addDash(l,c){const v=c?7:0,x=2*v+1;if(this.nextRow+x>this.height)return a.w("LineAtlas out of space"),null;let O=0;for(let U=0;U<l.length;U++)O+=l[U];if(O!==0){const U=this.width/O,W=this.getDashRanges(l,this.width,U);c?this.addRoundDash(W,U,v):this.addRegularDash(W)}const D={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:O};return this.nextRow+=x,this.dirty=!0,D}bind(l){const c=l.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}const tt="maplibre_preloaded_worker_pool";class nt{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<nt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[tt]}numActive(){return Object.keys(this.active).length}}const en=Math.floor(I.hardwareConcurrency/2);let tn,St;function Xt(){return tn||(tn=new nt),tn}nt.workerCount=a.C(globalThis)?Math.max(Math.min(en,3),1):1;class Nt{constructor(l,c){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=c;const v=this.workerPool.acquire(c);for(let x=0;x<v.length;x++){const O=new a.F(v[x],c);O.name=`Worker ${x}`,this.actors.push(O)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,c){const v=[];for(const x of this.actors)v.push(x.sendAsync({type:l,data:c}));return Promise.all(v)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(l=!0){this.actors.forEach(c=>{c.remove()}),this.actors=[],l&&this.workerPool.release(this.id)}registerMessageHandler(l,c){for(const v of this.actors)v.registerMessageHandler(l,c)}}function Fe(){return St||(St=new Nt(Xt(),a.G),St.registerMessageHandler("GR",(S,l,c)=>a.m(l,c))),St}function ye(S,l){const c=a.H();return a.J(c,c,[1,1,0]),a.K(c,c,[.5*S.width,.5*S.height,1]),S.calculatePosMatrix?a.L(c,c,S.calculatePosMatrix(l.toUnwrapped())):c}function ke(S,l,c,v,x,O){var D;const U=function(fe,me,Ie){if(fe)for(const De of fe){const He=me[De];if(He&&He.source===Ie&&He.type==="fill-extrusion")return!0}else for(const De in me){const He=me[De];if(He.source===Ie&&He.type==="fill-extrusion")return!0}return!1}((D=x==null?void 0:x.layers)!==null&&D!==void 0?D:null,l,S.id),W=O.maxPitchScaleFactor(),$=S.tilesIn(v,W,U);$.sort(Ge);const ue=[];for(const fe of $)ue.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(l,c,S._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,x,O,W,ye(S.transform,fe.tileID))});return function(fe,me){for(const Ie in fe)for(const De of fe[Ie])st(De,me);return fe}(function(fe){const me={},Ie={};for(const De of fe){const He=De.queryResults,Ve=De.wrappedTileID,Ze=Ie[Ve]=Ie[Ve]||{};for(const et in He){const ct=He[et],mt=Ze[et]=Ze[et]||{},vt=me[et]=me[et]||[];for(const Et of ct)mt[Et.featureIndex]||(mt[Et.featureIndex]=!0,vt.push(Et))}}return me}(ue),S)}function Ge(S,l){const c=S.tileID,v=l.tileID;return c.overscaledZ-v.overscaledZ||c.canonical.y-v.canonical.y||c.wrap-v.wrap||c.canonical.x-v.canonical.x}function st(S,l){const c=S.feature,v=l.getFeatureState(c.layer["source-layer"],c.id);c.source=c.layer.source,c.layer["source-layer"]&&(c.sourceLayer=c.layer["source-layer"]),c.state=v}function ht(S,l,c){return a._(this,void 0,void 0,function*(){let v=S;if(S.url?v=(yield a.h(l.transformRequest(S.url,"Source"),c)).data:yield I.frameAsync(c),!v)return null;const x=a.M(a.e(v,S),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in v&&v.vector_layers&&(x.vectorLayerIds=v.vector_layers.map(O=>O.id)),x})}class Bt{constructor(l,c){l&&(c?this.setSouthWest(l).setNorthEast(c):Array.isArray(l)&&(l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1])))}setNorthEast(l){return this._ne=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}setSouthWest(l){return this._sw=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}extend(l){const c=this._sw,v=this._ne;let x,O;if(l instanceof a.N)x=l,O=l;else{if(!(l instanceof Bt))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(Bt.convert(l)):this.extend(a.N.convert(l)):l&&("lng"in l||"lon"in l)&&"lat"in l?this.extend(a.N.convert(l)):this;if(x=l._sw,O=l._ne,!x||!O)return this}return c||v?(c.lng=Math.min(x.lng,c.lng),c.lat=Math.min(x.lat,c.lat),v.lng=Math.max(O.lng,v.lng),v.lat=Math.max(O.lat,v.lat)):(this._sw=new a.N(x.lng,x.lat),this._ne=new a.N(O.lng,O.lat)),this}getCenter(){return new a.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.N(this.getWest(),this.getNorth())}getSouthEast(){return new a.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:c,lat:v}=a.N.convert(l);let x=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&x}static convert(l){return l instanceof Bt?l:l&&new Bt(l)}static fromLngLat(l,c=0){const v=360*c/40075017,x=v/Math.cos(Math.PI/180*l.lat);return new Bt(new a.N(l.lng-x,l.lat-v),new a.N(l.lng+x,l.lat+v))}adjustAntiMeridian(){const l=new a.N(this._sw.lng,this._sw.lat),c=new a.N(this._ne.lng,this._ne.lat);return new Bt(l,l.lng>c.lng?new a.N(c.lng+360,c.lat):c)}}class nn{constructor(l,c,v){this.bounds=Bt.convert(this.validateBounds(l)),this.minzoom=c||0,this.maxzoom=v||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const c=Math.pow(2,l.z),v=Math.floor(a.O(this.bounds.getWest())*c),x=Math.floor(a.Q(this.bounds.getNorth())*c),O=Math.ceil(a.O(this.bounds.getEast())*c),D=Math.ceil(a.Q(this.bounds.getSouth())*c);return l.x>=v&&l.x<O&&l.y>=x&&l.y<D}}class Gt extends a.E{constructor(l,c,v,x){if(super(),this.id=l,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.M(c,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const l=yield ht(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l&&(a.e(this,l),l.bounds&&(this.tileBounds=new nn(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(l){this._tileJSONRequest=null,this.fire(new a.j(l))}})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.abort(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(c,"Tile"),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};v.request.collectResourceTiming=this._collectResourceTiming;let x="RT";if(l.actor&&l.state!=="expired"){if(l.state==="loading")return new Promise((O,D)=>{l.reloadPromise={resolve:O,reject:D}})}else l.actor=this.dispatcher.getActor(),x="LT";l.abortController=new AbortController;try{const O=yield l.actor.sendAsync({type:x,data:v},l.abortController);if(delete l.abortController,l.aborted)return;this._afterTileLoadWorkerResponse(l,O)}catch(O){if(delete l.abortController,l.aborted)return;if(O&&O.status!==404)throw O;this._afterTileLoadWorkerResponse(l,null)}})}_afterTileLoadWorkerResponse(l,c){if(c&&c.resourceTiming&&(l.resourceTiming=c.resourceTiming),c&&this.map._refreshExpiredTiles&&l.setExpiryData(c),l.loadVectorData(c,this.map.painter),l.reloadPromise){const v=l.reloadPromise;l.reloadPromise=null,this.loadTile(l).then(v.resolve).catch(v.reject)}}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.actor&&(yield l.actor.sendAsync({type:"AT",data:{uid:l.uid,type:this.type,source:this.id}}))})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),l.actor&&(yield l.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class zn extends a.E{constructor(l,c,v,x){super(),this.id=l,this.dispatcher=v,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},c),a.e(this,a.M(c,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,function*(l=!1){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const c=yield ht(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,c&&(a.e(this,c),c.bounds&&(this.tileBounds=new nn(c.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:l})))}catch(c){this._tileJSONRequest=null,this.fire(new a.j(c))}})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(l){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),l(),this.load(!0)}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}serialize(){return a.e({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.abortController=new AbortController;try{const v=yield ne.getImage(this.map._requestManager.transformRequest(c,"Tile"),l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(v&&v.data){this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&l.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const x=this.map.painter.context,O=x.gl,D=v.data;l.texture=this.map.painter.getTileTexture(D.width),l.texture?l.texture.update(D,{useMipmap:!0}):(l.texture=new re(x,D,O.RGBA,{useMipmap:!0}),l.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE,O.LINEAR_MIPMAP_NEAREST)),l.state="loaded"}}catch(v){if(delete l.abortController,l.aborted)l.state="unloaded";else if(v)throw l.state="errored",v}})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController)})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.texture&&this.map.painter.saveTileTexture(l.texture)})}hasTransition(){return!1}}class rr extends zn{constructor(l,c,v,x){super(l,c,v,x),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox",this.redFactor=c.redFactor,this.greenFactor=c.greenFactor,this.blueFactor=c.blueFactor,this.baseShift=c.baseShift}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(c,"Tile");l.neighboringTiles=this._getNeighboringTiles(l.tileID),l.abortController=new AbortController;try{const x=yield ne.getImage(v,l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(x&&x.data){const O=x.data;this.map._refreshExpiredTiles&&x.cacheControl&&x.expires&&l.setExpiryData({cacheControl:x.cacheControl,expires:x.expires});const D=a.b(O)&&a.U()?O:yield this.readImageNow(O),U={type:this.type,uid:l.uid,source:this.id,rawImageData:D,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!l.actor||l.state==="expired"){l.actor=this.dispatcher.getActor();const W=yield l.actor.sendAsync({type:"LDT",data:U});l.dem=W,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded"}}}catch(x){if(delete l.abortController,l.aborted)l.state="unloaded";else if(x)throw l.state="errored",x}})}readImageNow(l){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.V()){const c=l.width+2,v=l.height+2;try{return new a.R({width:c,height:v},yield a.W(l,-1,-1,c,v))}catch{}}return I.getImageData(l,1)})}_getNeighboringTiles(l){const c=l.canonical,v=Math.pow(2,c.z),x=(c.x-1+v)%v,O=c.x===0?l.wrap-1:l.wrap,D=(c.x+1+v)%v,U=c.x+1===v?l.wrap+1:l.wrap,W={};return W[new a.S(l.overscaledZ,O,c.z,x,c.y).key]={backfilled:!1},W[new a.S(l.overscaledZ,U,c.z,D,c.y).key]={backfilled:!1},c.y>0&&(W[new a.S(l.overscaledZ,O,c.z,x,c.y-1).key]={backfilled:!1},W[new a.S(l.overscaledZ,l.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},W[new a.S(l.overscaledZ,U,c.z,D,c.y-1).key]={backfilled:!1}),c.y+1<v&&(W[new a.S(l.overscaledZ,O,c.z,x,c.y+1).key]={backfilled:!1},W[new a.S(l.overscaledZ,l.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},W[new a.S(l.overscaledZ,U,c.z,D,c.y+1).key]={backfilled:!1}),W}unloadTile(l){return a._(this,void 0,void 0,function*(){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&(yield l.actor.sendAsync({type:"RDT",data:{type:this.type,uid:l.uid,source:this.id}}))})}}class xn extends a.E{constructor(l,c,v,x){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(x),this._data=c.data,this._options=a.e({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId,c.clusterMaxZoom!==void 0&&this.maxzoom<=c.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${c.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(c.buffer!==void 0?c.buffer:128),tolerance:this._pixelsToTileUnits(c.tolerance!==void 0?c.tolerance:.375),extent:a.X,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:a.X,radius:this._pixelsToTileUnits(c.clusterRadius||50),log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(l){return l*(a.X/this.tileSize)}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData(),this}updateData(l){return this._updateWorkerData(l),this}getData(){return a._(this,void 0,void 0,function*(){const l=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:l})})}setClusterOptions(l){return this.workerOptions.cluster=l.cluster,l&&(l.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(l.clusterRadius)),l.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=l.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(l){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:l,source:this.id}})}getClusterChildren(l){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:l,source:this.id}})}getClusterLeaves(l,c,v){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:l,limit:c,offset:v}})}_updateWorkerData(l){return a._(this,void 0,void 0,function*(){const c=a.e({type:this.type},this.workerOptions);l?c.dataDiff=l:typeof this._data=="string"?(c.request=this.map._requestManager.transformRequest(I.resolveURL(this._data),"Source"),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"}));try{const v=yield this.actor.sendAsync({type:"LD",data:c});if(this._pendingLoads--,this._removed||v.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let x=null;v.resourceTiming&&v.resourceTiming[this.id]&&(x=v.resourceTiming[this.id].slice(0));const O={dataType:"source"};this._collectResourceTiming&&x&&x.length>0&&a.e(O,{resourceTiming:x}),this.fire(new a.k("data",Object.assign(Object.assign({},O),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},O),{sourceDataType:"content"})))}catch(v){if(this._pendingLoads--,this._removed)return void this.fire(new a.k("dataabort",{dataType:"source"}));this.fire(new a.j(v))}})}loaded(){return this._pendingLoads===0}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.actor?"RT":"LT";l.actor=this.actor;const v={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};l.abortController=new AbortController;const x=yield this.actor.sendAsync({type:c,data:v},l.abortController);delete l.abortController,l.unloadVectorData(),l.aborted||l.loadVectorData(x,this.map.painter,c==="RT")})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.aborted=!0})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Zn extends a.E{constructor(l,c,v,x){super(),this.flippedWindingOrder=!1,this.id=l,this.dispatcher=v,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=c}load(l){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const c=yield ne.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,c&&c.data&&(this.image=c.data,l&&(this.coordinates=l),this._finishLoading())}catch(c){this._request=null,this._loaded=!0,this.fire(new a.j(c))}})}loaded(){return this._loaded}updateImage(l){return l.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=l.url,this.load(l.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(l){this.coordinates=l;const c=l.map(a.Y.fromLngLat);var v;return this.tileID=function(x){let O=1/0,D=1/0,U=-1/0,W=-1/0;for(const me of x)O=Math.min(O,me.x),D=Math.min(D,me.y),U=Math.max(U,me.x),W=Math.max(W,me.y);const $=Math.max(U-O,W-D),ue=Math.max(0,Math.floor(-Math.log($)/Math.LN2)),fe=Math.pow(2,ue);return new a.Z(ue,Math.floor((O+U)/2*fe),Math.floor((D+W)/2*fe))}(c),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=c.map(x=>this.tileID.getTilePoint(x)._round()),this.flippedWindingOrder=((v=this.tileCoords)[1].x-v[0].x)*(v[2].y-v[0].y)-(v[1].y-v[0].y)*(v[2].x-v[0].x)<0,this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,c=l.gl;this.texture||(this.texture=new re(l,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let v=!1;for(const x in this.tiles){const O=this.tiles[x];O.state!=="loaded"&&(O.state="loaded",O.texture=this.texture,v=!0)}v&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(l){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={}):l.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class yr extends Zn{constructor(l,c,v,x){super(l,c,v,x),this.roundZoom=!0,this.type="video",this.options=c}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const l=this.options;this.urls=[];for(const c of l.urls)this.urls.push(this.map._requestManager.transformRequest(c,"Source").url);try{const c=yield a.a0(this.urls);if(this._loaded=!0,!c)return;this.video=c,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(c){this.fire(new a.j(c))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const c=this.video.seekable;l<c.start(0)||l>c.end(0)?this.fire(new a.j(new a.$(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,c=l.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new re(l,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let v=!1;for(const x in this.tiles){const O=this.tiles[x];O.state!=="loaded"&&(O.state="loaded",O.texture=this.texture,v=!0)}v&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Mr extends Zn{constructor(l,c,v,x){super(l,c,v,x),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(O=>!Array.isArray(O)||O.length!==2||O.some(D=>typeof D!="number"))||this.fire(new a.j(new a.$(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new a.j(new a.$(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.$(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context,v=c.gl;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new re(c,this.canvas,v.RGBA,{premultiply:!0});let x=!1;for(const O in this.tiles){const D=this.tiles[O];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture,x=!0)}x&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const Or={},Jr=S=>{switch(S){case"geojson":return xn;case"image":return Zn;case"raster":return zn;case"raster-dem":return rr;case"vector":return Gt;case"video":return yr;case"canvas":return Mr}return Or[S]},_r="RTLPluginLoaded";class gi extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Fe()}_syncState(l){return this.status=l,this.dispatcher.broadcast("SRPS",{pluginStatus:l,pluginURL:this.url}).catch(c=>{throw this.status="error",c})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(l){return a._(this,arguments,void 0,function*(c,v=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=I.resolveURL(c),!this.url)throw new Error(`requested url ${c} is invalid`);if(this.status==="unavailable"){if(!v)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.k(_r))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Te=null;function te(){return Te||(Te=new gi),Te}class oe{constructor(l,c){this.timeAdded=0,this.fadeEndTime=0,this.tileID=l,this.uid=a.a1(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const c=l+this.timeAdded;c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(l,c,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function(x,O){const D={};if(!O)return D;for(const U of x){const W=U.layerIds.map($=>O.getLayer($)).filter(Boolean);if(W.length!==0){U.layers=W,U.stateDependentLayerIds&&(U.stateDependentLayers=U.stateDependentLayerIds.map($=>W.filter(ue=>ue.id===$)[0]));for(const $ of W)D[$.id]=U}}return D}(l.buckets,c==null?void 0:c.style),this.hasSymbolBuckets=!1;for(const x in this.buckets){const O=this.buckets[x];if(O instanceof a.a3){if(this.hasSymbolBuckets=!0,!v)break;O.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const x in this.buckets){const O=this.buckets[x];if(O instanceof a.a3&&O.hasRTLText){this.hasRTLText=!0,te().lazyLoad();break}}this.queryPadding=0;for(const x in this.buckets){const O=this.buckets[x];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(x).queryRadius(O))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new a.a2}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const v in this.buckets){const x=this.buckets[v];x.uploadPending()&&x.upload(l)}const c=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new re(l,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new re(l,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,c,v,x,O,D,U,W,$,ue){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:x,cameraQueryGeometry:O,scale:D,tileSize:this.tileSize,pixelPosMatrix:ue,transform:W,params:U,queryPadding:this.queryPadding*$},l,c,v):{}}querySourceFeatures(l,c){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const x=v.loadVTLayers(),O=c&&c.sourceLayer?c.sourceLayer:"",D=x._geojsonTileLayer||x[O];if(!D)return;const U=a.a4(c&&c.filter),{z:W,x:$,y:ue}=this.tileID.canonical,fe={z:W,x:$,y:ue};for(let me=0;me<D.length;me++){const Ie=D.feature(me);if(U.needGeometry){const Ve=a.a5(Ie,!0);if(!U.filter(new a.z(this.tileID.overscaledZ),Ve,this.tileID.canonical))continue}else if(!U.filter(new a.z(this.tileID.overscaledZ),Ie))continue;const De=v.getId(Ie,O),He=new a.a6(Ie,W,$,ue,De);He.tile=fe,l.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const c=this.expirationTime;if(l.cacheControl){const v=a.a7(l.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const v=Date.now();let x=!1;if(this.expirationTime>v)x=!1;else if(c)if(this.expirationTime<c)x=!0;else{const O=this.expirationTime-c;O?this.expirationTime=v+Math.max(O,3e4):x=!0}else x=!0;x?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const x in this.buckets){if(!c.style.hasLayer(x))continue;const O=this.buckets[x],D=O.layers[0].sourceLayer||"_geojsonTileLayer",U=v[D],W=l[D];if(!U||!W||Object.keys(W).length===0)continue;O.update(W,U,this.imageAtlas&&this.imageAtlas.patternPositions||{});const $=c&&c.style&&c.style.getLayer(x);$&&(this.queryPadding=Math.max(this.queryPadding,$.queryRadius(O)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=I.now()+l}setDependencies(l,c){const v={};for(const x of c)v[x]=!0;this.dependencies[l]=v}hasDependency(l,c){for(const v of l){const x=this.dependencies[v];if(x){for(const O of c)if(x[O])return!0}}return!1}}class je{constructor(l,c){this.max=l,this.onRemove=c,this.reset()}reset(){for(const l in this.data)for(const c of this.data[l])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(l,c,v){const x=l.wrapped().key;this.data[x]===void 0&&(this.data[x]=[]);const O={value:c,timeout:void 0};if(v!==void 0&&(O.timeout=setTimeout(()=>{this.remove(l,O)},v)),this.data[x].push(O),this.order.push(x),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const c=this.data[l].shift();return c.timeout&&clearTimeout(c.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),c.value}getByKey(l){const c=this.data[l];return c?c[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,c){if(!this.has(l))return this;const v=l.wrapped().key,x=c===void 0?0:this.data[v].indexOf(c),O=this.data[v][x];return this.data[v].splice(x,1),O.timeout&&clearTimeout(O.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(O.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(l){const c=[];for(const v in this.data)for(const x of this.data[v])l(x.value)||c.push(x);for(const v of c)this.remove(v.value.tileID,v)}}class Ct{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,c,v){const x=String(c);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][x]=this.stateChanges[l][x]||{},a.e(this.stateChanges[l][x],v),this.deletedStates[l]===null){this.deletedStates[l]={};for(const O in this.state[l])O!==x&&(this.deletedStates[l][O]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][x]===null){this.deletedStates[l][x]={};for(const O in this.state[l][x])v[O]||(this.deletedStates[l][x][O]=null)}else for(const O in v)this.deletedStates[l]&&this.deletedStates[l][x]&&this.deletedStates[l][x][O]===null&&delete this.deletedStates[l][x][O]}removeFeatureState(l,c,v){if(this.deletedStates[l]===null)return;const x=String(c);if(this.deletedStates[l]=this.deletedStates[l]||{},v&&c!==void 0)this.deletedStates[l][x]!==null&&(this.deletedStates[l][x]=this.deletedStates[l][x]||{},this.deletedStates[l][x][v]=null);else if(c!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][x])for(v in this.deletedStates[l][x]={},this.stateChanges[l][x])this.deletedStates[l][x][v]=null;else this.deletedStates[l][x]=null;else this.deletedStates[l]=null}getState(l,c){const v=String(c),x=a.e({},(this.state[l]||{})[v],(this.stateChanges[l]||{})[v]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const O=this.deletedStates[l][c];if(O===null)return{};for(const D in O)delete x[D]}return x}initializeTileState(l,c){l.setFeatureState(this.state,c)}coalesceChanges(l,c){const v={};for(const x in this.stateChanges){this.state[x]=this.state[x]||{};const O={};for(const D in this.stateChanges[x])this.state[x][D]||(this.state[x][D]={}),a.e(this.state[x][D],this.stateChanges[x][D]),O[D]=this.state[x][D];v[x]=O}for(const x in this.deletedStates){this.state[x]=this.state[x]||{};const O={};if(this.deletedStates[x]===null)for(const D in this.state[x])O[D]={},this.state[x][D]={};else for(const D in this.deletedStates[x]){if(this.deletedStates[x][D]===null)this.state[x][D]={};else for(const U of Object.keys(this.deletedStates[x][D]))delete this.state[x][D][U];O[D]=this.state[x][D]}v[x]=v[x]||{},a.e(v[x],O)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const x in l)l[x].setFeatureState(v,c)}}function Lt(S,l,c){const v=l.intersectsFrustum(S);if(!c)return v;const x=l.intersectsPlane(c);return v===0||x===0?0:v===2&&x===2?2:1}function jt(S,l,c,v,x){let O=S;const D=Math.atan(l/c),U=Math.hypot(l,c);return O=S+a.a8(v/U/Math.max(.5,Math.cos(a.aa(x/2)))),O+=1*a.a8(Math.cos(D))/2,O+=a.ab(S-O,-0,0),O}function cr(S,l){const c=(l.roundZoom?Math.round:Math.floor)(S.zoom+a.a8(S.tileSize/l.tileSize));return Math.max(0,c)}function Re(S,l){const c=S.getCameraFrustum(),v=S.getClippingPlane(),x=S.screenPointToMercatorCoordinate(S.getCameraPoint()),O=a.Y.fromLngLat(S.center,S.elevation);x.z=O.z+Math.cos(S.pitchInRadians)*S.cameraToCenterDistance/S.worldSize;const D=S.getCoveringTilesDetailsProvider(),U=D.allowVariableZoom(S,l),W=cr(S,l),$=l.minzoom||0,ue=l.maxzoom!==void 0?l.maxzoom:S.maxZoom,fe=Math.min(Math.max(0,W),ue),me=Math.pow(2,fe),Ie=[me*x.x,me*x.y,0],De=[me*O.x,me*O.y,0],He=Math.hypot(O.x-x.x,O.y-x.y),Ve=Math.abs(O.z-x.z),Ze=Math.hypot(He,Ve),et=vt=>({zoom:0,x:0,y:0,wrap:vt,fullyVisible:!1}),ct=[],mt=[];if(S.renderWorldCopies&&D.allowWorldCopies())for(let vt=1;vt<=3;vt++)ct.push(et(-vt)),ct.push(et(vt));for(ct.push(et(0));ct.length>0;){const vt=ct.pop(),Et=vt.x,xt=vt.y;let zt=vt.fullyVisible;const Ft={x:Et,y:xt,z:vt.zoom},ln=D.getTileAABB(Ft,vt.wrap,S.elevation,l);if(!zt){const Un=Lt(c,ln,v);if(Un===0)continue;zt=Un===2}const An=D.distanceToTile2d(x.x,x.y,Ft,ln);let on=W;U&&(on=(l.calculateTileZoom||jt)(S.zoom+a.a8(S.tileSize/l.tileSize),An,Ve,Ze,S.fov)),on=(l.roundZoom?Math.round:Math.floor)(on),on=Math.max(0,on);const fn=Math.min(on,ue);if(vt.wrap=D.getWrap(O,Ft,vt.wrap),vt.zoom>=fn){if(vt.zoom<$)continue;const Un=fe-vt.zoom,cn=Ie[0]-.5-(Et<<Un),ur=Ie[1]-.5-(xt<<Un),Ai=l.reparseOverscaled?Math.max(vt.zoom,on):vt.zoom;mt.push({tileID:new a.S(vt.zoom===ue?Ai:vt.zoom,vt.wrap,vt.zoom,Et,xt),distanceSq:a.a9([De[0]-.5-Et,De[1]-.5-xt]),tileDistanceToCamera:Math.sqrt(cn*cn+ur*ur)})}else for(let Un=0;Un<4;Un++)ct.push({zoom:vt.zoom+1,x:(Et<<1)+Un%2,y:(xt<<1)+(Un>>1),wrap:vt.wrap,fullyVisible:zt})}return mt.sort((vt,Et)=>vt.distanceSq-Et.distanceSq).map(vt=>vt.tileID)}class Ee extends a.E{constructor(l,c,v){super(),this.id=l,this.dispatcher=v,this.on("data",x=>this._dataHandler(x)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((x,O,D,U)=>{const W=new(Jr(O.type))(x,O,D,U);if(W.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${W.id}`);return W})(l,c,v,this),this._tiles={},this._cache=new je(0,x=>this._unloadTile(x)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ct,this._didEmitContent=!1,this._updated=!1}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._maxTileCacheZoomLevels=l?l._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const l in this._tiles){const c=this._tiles[l];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,c,v){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(l),this._tileLoaded(l,c,v)}catch(x){l.state="errored",x.status!==404?this._source.fire(new a.j(x,{tile:l})):this.update(this.transform,this.terrain)}})}_unloadTile(l){this._source.unloadTile&&this._source.unloadTile(l)}_abortTile(l){this._source.abortTile&&this._source.abortTile(l),this._source.fire(new a.k("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const v=this._tiles[c];v.upload(l),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(Me).map(l=>l.key)}getRenderableIds(l){const c=[];for(const v in this._tiles)this._isIdRenderable(v,l)&&c.push(this._tiles[v]);return l?c.sort((v,x)=>{const O=v.tileID,D=x.tileID,U=new a.P(O.canonical.x,O.canonical.y)._rotate(-this.transform.bearingInRadians),W=new a.P(D.canonical.x,D.canonical.y)._rotate(-this.transform.bearingInRadians);return O.overscaledZ-D.overscaledZ||W.y-U.y||W.x-U.x}).map(v=>v.tileID.key):c.map(v=>v.tileID).sort(Me).map(v=>v.key)}hasRenderableParent(l){const c=this.findLoadedParent(l,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(l,c){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(c||!this._tiles[l].holdingForFade())}reload(l){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)(l||this._tiles[c].state!=="errored")&&this._reloadTile(c,"reloading")}}_reloadTile(l,c){return a._(this,void 0,void 0,function*(){const v=this._tiles[l];v&&(v.state!=="loading"&&(v.state=c),yield this._loadTile(v,l,c))})}_tileLoaded(l,c,v){l.timeAdded=I.now(),v==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(c,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const c=this.getRenderableIds();for(let x=0;x<c.length;x++){const O=c[x];if(l.neighboringTiles&&l.neighboringTiles[O]){const D=this.getTileByID(O);v(l,D),v(D,l)}}function v(x,O){x.needsHillshadePrepare=!0,x.needsTerrainPrepare=!0;let D=O.tileID.canonical.x-x.tileID.canonical.x;const U=O.tileID.canonical.y-x.tileID.canonical.y,W=Math.pow(2,x.tileID.canonical.z),$=O.tileID.key;D===0&&U===0||Math.abs(U)>1||(Math.abs(D)>1&&(Math.abs(D+W)===1?D+=W:Math.abs(D-W)===1&&(D-=W)),O.dem&&x.dem&&(x.dem.backfillBorder(O.dem,D,U),x.neighboringTiles&&x.neighboringTiles[$]&&(x.neighboringTiles[$].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,c,v,x){for(const O in this._tiles){let D=this._tiles[O];if(x[O]||!D.hasData()||D.tileID.overscaledZ<=c||D.tileID.overscaledZ>v)continue;let U=D.tileID;for(;D&&D.tileID.overscaledZ>c+1;){const $=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[$.key],D&&D.hasData()&&(U=$)}let W=U;for(;W.overscaledZ>c;)if(W=W.scaledTo(W.overscaledZ-1),l[W.key]||l[W.canonical.key]){x[U.key]=U;break}}}findLoadedParent(l,c){if(l.key in this._loadedParentTiles){const v=this._loadedParentTiles[l.key];return v&&v.tileID.overscaledZ>=c?v:null}for(let v=l.overscaledZ-1;v>=c;v--){const x=l.scaledTo(v),O=this._getLoadedTile(x);if(O)return O}}findLoadedSibling(l){return this._getLoadedTile(l)}_getLoadedTile(l){const c=this._tiles[l.key];return c&&c.hasData()?c:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const c=Math.ceil(l.width/this._source.tileSize)+1,v=Math.ceil(l.height/this._source.tileSize)+1,x=Math.floor(c*v*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),O=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(O)}handleWrapJump(l){const c=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,c){const v={};for(const x in this._tiles){const O=this._tiles[x];O.tileID=O.tileID.unwrapTo(O.tileID.wrap+c),v[O.tileID.key]=O}this._tiles=v;for(const x in this._timers)clearTimeout(this._timers[x]),delete this._timers[x];for(const x in this._tiles)this._setTileReloadTimer(x,this._tiles[x])}}_updateCoveredAndRetainedTiles(l,c,v,x,O,D){const U={},W={},$=Object.keys(l),ue=I.now();for(const fe of $){const me=l[fe],Ie=this._tiles[fe];if(!Ie||Ie.fadeEndTime!==0&&Ie.fadeEndTime<=ue)continue;const De=this.findLoadedParent(me,c),He=this.findLoadedSibling(me),Ve=De||He||null;Ve&&(this._addTile(Ve.tileID),U[Ve.tileID.key]=Ve.tileID),W[fe]=me}this._retainLoadedChildren(W,x,v,l);for(const fe in U)l[fe]||(this._coveredTiles[fe]=!0,l[fe]=U[fe]);if(D){const fe={},me={};for(const Ie of O)this._tiles[Ie.key].hasData()?fe[Ie.key]=Ie:me[Ie.key]=Ie;for(const Ie in me){const De=me[Ie].children(this._source.maxzoom);this._tiles[De[0].key]&&this._tiles[De[1].key]&&this._tiles[De[2].key]&&this._tiles[De[3].key]&&(fe[De[0].key]=l[De[0].key]=De[0],fe[De[1].key]=l[De[1].key]=De[1],fe[De[2].key]=l[De[2].key]=De[2],fe[De[3].key]=l[De[3].key]=De[3],delete me[Ie])}for(const Ie in me){const De=me[Ie],He=this.findLoadedParent(De,this._source.minzoom),Ve=this.findLoadedSibling(De),Ze=He||Ve||null;if(Ze){fe[Ze.tileID.key]=l[Ze.tileID.key]=Ze.tileID;for(const et in fe)fe[et].isChildOf(Ze.tileID)&&delete fe[et]}}for(const Ie in this._tiles)fe[Ie]||(this._coveredTiles[Ie]=!0)}}update(l,c){if(!this._sourceLoaded||this._paused)return;let v;this.transform=l,this.terrain=c,this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(ue=>new a.S(ue.canonical.z,ue.wrap,ue.canonical.z,ue.canonical.x,ue.canonical.y)):(v=Re(l,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:c,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(v=v.filter(ue=>this._source.hasTile(ue)))):v=[];const x=cr(l,this._source),O=Math.max(x-Ee.maxOverzooming,this._source.minzoom),D=Math.max(x+Ee.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ue={};for(const fe of v)if(fe.canonical.z>this._source.minzoom){const me=fe.scaledTo(fe.canonical.z-1);ue[me.key]=me;const Ie=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));ue[Ie.key]=Ie}v=v.concat(Object.values(ue))}const U=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,U&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const W=this._updateRetainedTiles(v,x);p(this._source.type)&&this._updateCoveredAndRetainedTiles(W,O,D,x,v,c);for(const ue in W)this._tiles[ue].clearFadeHold();const $=a.ac(this._tiles,W);for(const ue of $){const fe=this._tiles[ue];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(ue)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,c){var v;const x={},O={},D=Math.max(c-Ee.maxOverzooming,this._source.minzoom),U=Math.max(c+Ee.maxUnderzooming,this._source.minzoom),W={};for(const $ of l){const ue=this._addTile($);x[$.key]=$,ue.hasData()||c<this._source.maxzoom&&(W[$.key]=$)}this._retainLoadedChildren(W,c,U,x);for(const $ of l){let ue=this._tiles[$.key];if(ue.hasData())continue;if(c+1>this._source.maxzoom){const me=$.children(this._source.maxzoom)[0],Ie=this.getTile(me);if(Ie&&Ie.hasData()){x[me.key]=me;continue}}else{const me=$.children(this._source.maxzoom);if(x[me[0].key]&&x[me[1].key]&&x[me[2].key]&&x[me[3].key])continue}let fe=ue.wasRequested();for(let me=$.overscaledZ-1;me>=D;--me){const Ie=$.scaledTo(me);if(O[Ie.key])break;if(O[Ie.key]=!0,ue=this.getTile(Ie),!ue&&fe&&(ue=this._addTile(Ie)),ue){const De=ue.hasData();if((De||!(!((v=this.map)===null||v===void 0)&&v.cancelPendingTileRequestsWhileZooming)||fe)&&(x[Ie.key]=Ie),fe=ue.wasRequested(),De)break}}}return x}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const c=[];let v,x=this._tiles[l].tileID;for(;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){v=this._loadedParentTiles[x.key];break}c.push(x.key);const O=x.scaledTo(x.overscaledZ-1);if(v=this._getLoadedTile(O),v)break;x=O}for(const O of c)this._loadedParentTiles[O]=v}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const l in this._tiles){const c=this._tiles[l].tileID,v=this._getLoadedTile(c);this._loadedSiblingTiles[c.key]=v}}_addTile(l){let c=this._tiles[l.key];if(c)return c;c=this._cache.getAndRemove(l),c&&(this._setTileReloadTimer(l.key,c),c.tileID=l,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,c)));const v=c;return c||(c=new oe(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(c,l.key,c.state)),c.uses++,this._tiles[l.key]=c,v||this._source.fire(new a.k("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(l,c){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const v=c.getExpiryTimeout();v&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},v))}_removeTile(l){const c=this._tiles[l];c&&(c.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}_dataHandler(l){const c=l.sourceDataType;l.dataType==="source"&&c==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&l.dataType==="source"&&c==="content"&&(this.reload(l.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,c,v){const x=[],O=this.transform;if(!O)return x;const D=v?O.getCameraQueryGeometry(l):l,U=l.map(De=>O.screenPointToMercatorCoordinate(De,this.terrain)),W=D.map(De=>O.screenPointToMercatorCoordinate(De,this.terrain)),$=this.getIds();let ue=1/0,fe=1/0,me=-1/0,Ie=-1/0;for(const De of W)ue=Math.min(ue,De.x),fe=Math.min(fe,De.y),me=Math.max(me,De.x),Ie=Math.max(Ie,De.y);for(let De=0;De<$.length;De++){const He=this._tiles[$[De]];if(He.holdingForFade())continue;const Ve=He.tileID,Ze=Math.pow(2,O.zoom-He.tileID.overscaledZ),et=c*He.queryPadding*a.X/He.tileSize/Ze,ct=[Ve.getTilePoint(new a.Y(ue,fe)),Ve.getTilePoint(new a.Y(me,Ie))];if(ct[0].x-et<a.X&&ct[0].y-et<a.X&&ct[1].x+et>=0&&ct[1].y+et>=0){const mt=U.map(Et=>Ve.getTilePoint(Et)),vt=W.map(Et=>Ve.getTilePoint(Et));x.push({tile:He,tileID:Ve,queryGeometry:mt,cameraQueryGeometry:vt,scale:Ze})}}return x}getVisibleCoordinates(l){const c=this.getRenderableIds(l).map(v=>this._tiles[v].tileID);return this.transform&&this.transform.populateCache(c),c}hasTransition(){if(this._source.hasTransition())return!0;if(p(this._source.type)){const l=I.now();for(const c in this._tiles)if(this._tiles[c].fadeEndTime>=l)return!0}return!1}setFeatureState(l,c,v){this._state.updateState(l=l||"_geojsonTileLayer",c,v)}removeFeatureState(l,c,v){this._state.removeFeatureState(l=l||"_geojsonTileLayer",c,v)}getFeatureState(l,c){return this._state.getState(l=l||"_geojsonTileLayer",c)}setDependencies(l,c,v){const x=this._tiles[l];x&&x.setDependencies(c,v)}reloadTilesForDependencies(l,c){for(const v in this._tiles)this._tiles[v].hasDependency(l,c)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(l,c))}}function Me(S,l){const c=Math.abs(2*S.wrap)-+(S.wrap<0),v=Math.abs(2*l.wrap)-+(l.wrap<0);return S.overscaledZ-l.overscaledZ||v-c||l.canonical.y-S.canonical.y||l.canonical.x-S.canonical.x}function p(S){return S==="raster"||S==="image"||S==="video"}Ee.maxOverzooming=10,Ee.maxUnderzooming=3;class Ke{constructor(l,c){this.reset(l,c)}reset(l,c){this.points=l||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=a.ab(l,0,1);let c=1,v=this._distances[c];const x=l*this.paddedLength+this.padding;for(;v<x&&c<this._distances.length;)v=this._distances[++c];const O=c-1,D=this._distances[O],U=v-D,W=U>0?(x-D)/U:0;return this.points[O].mult(1-W).add(this.points[c].mult(W))}}function rt(S,l){let c=!0;return S==="always"||S!=="never"&&l!=="never"||(c=!1),c}class ot{constructor(l,c,v){const x=this.boxCells=[],O=this.circleCells=[];this.xCellCount=Math.ceil(l/v),this.yCellCount=Math.ceil(c/v);for(let D=0;D<this.xCellCount*this.yCellCount;D++)x.push([]),O.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=c,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,c,v,x,O){this._forEachCell(c,v,x,O,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(c),this.bboxes.push(v),this.bboxes.push(x),this.bboxes.push(O)}insertCircle(l,c,v,x){this._forEachCell(c-x,v-x,c+x,v+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(c),this.circles.push(v),this.circles.push(x)}_insertBoxCell(l,c,v,x,O,D){this.boxCells[O].push(D)}_insertCircleCell(l,c,v,x,O,D){this.circleCells[O].push(D)}_query(l,c,v,x,O,D,U){if(v<0||l>this.width||x<0||c>this.height)return[];const W=[];if(l<=0&&c<=0&&this.width<=v&&this.height<=x){if(O)return[{key:null,x1:l,y1:c,x2:v,y2:x}];for(let $=0;$<this.boxKeys.length;$++)W.push({key:this.boxKeys[$],x1:this.bboxes[4*$],y1:this.bboxes[4*$+1],x2:this.bboxes[4*$+2],y2:this.bboxes[4*$+3]});for(let $=0;$<this.circleKeys.length;$++){const ue=this.circles[3*$],fe=this.circles[3*$+1],me=this.circles[3*$+2];W.push({key:this.circleKeys[$],x1:ue-me,y1:fe-me,x2:ue+me,y2:fe+me})}}else this._forEachCell(l,c,v,x,this._queryCell,W,{hitTest:O,overlapMode:D,seenUids:{box:{},circle:{}}},U);return W}query(l,c,v,x){return this._query(l,c,v,x,!1,null)}hitTest(l,c,v,x,O,D){return this._query(l,c,v,x,!0,O,D).length>0}hitTestCircle(l,c,v,x,O){const D=l-v,U=l+v,W=c-v,$=c+v;if(U<0||D>this.width||$<0||W>this.height)return!1;const ue=[];return this._forEachCell(D,W,U,$,this._queryCellCircle,ue,{hitTest:!0,overlapMode:x,circle:{x:l,y:c,radius:v},seenUids:{box:{},circle:{}}},O),ue.length>0}_queryCell(l,c,v,x,O,D,U,W){const{seenUids:$,hitTest:ue,overlapMode:fe}=U,me=this.boxCells[O];if(me!==null){const De=this.bboxes;for(const He of me)if(!$.box[He]){$.box[He]=!0;const Ve=4*He,Ze=this.boxKeys[He];if(l<=De[Ve+2]&&c<=De[Ve+3]&&v>=De[Ve+0]&&x>=De[Ve+1]&&(!W||W(Ze))&&(!ue||!rt(fe,Ze.overlapMode))&&(D.push({key:Ze,x1:De[Ve],y1:De[Ve+1],x2:De[Ve+2],y2:De[Ve+3]}),ue))return!0}}const Ie=this.circleCells[O];if(Ie!==null){const De=this.circles;for(const He of Ie)if(!$.circle[He]){$.circle[He]=!0;const Ve=3*He,Ze=this.circleKeys[He];if(this._circleAndRectCollide(De[Ve],De[Ve+1],De[Ve+2],l,c,v,x)&&(!W||W(Ze))&&(!ue||!rt(fe,Ze.overlapMode))){const et=De[Ve],ct=De[Ve+1],mt=De[Ve+2];if(D.push({key:Ze,x1:et-mt,y1:ct-mt,x2:et+mt,y2:ct+mt}),ue)return!0}}}return!1}_queryCellCircle(l,c,v,x,O,D,U,W){const{circle:$,seenUids:ue,overlapMode:fe}=U,me=this.boxCells[O];if(me!==null){const De=this.bboxes;for(const He of me)if(!ue.box[He]){ue.box[He]=!0;const Ve=4*He,Ze=this.boxKeys[He];if(this._circleAndRectCollide($.x,$.y,$.radius,De[Ve+0],De[Ve+1],De[Ve+2],De[Ve+3])&&(!W||W(Ze))&&!rt(fe,Ze.overlapMode))return D.push(!0),!0}}const Ie=this.circleCells[O];if(Ie!==null){const De=this.circles;for(const He of Ie)if(!ue.circle[He]){ue.circle[He]=!0;const Ve=3*He,Ze=this.circleKeys[He];if(this._circlesCollide(De[Ve],De[Ve+1],De[Ve+2],$.x,$.y,$.radius)&&(!W||W(Ze))&&!rt(fe,Ze.overlapMode))return D.push(!0),!0}}}_forEachCell(l,c,v,x,O,D,U,W){const $=this._convertToXCellCoord(l),ue=this._convertToYCellCoord(c),fe=this._convertToXCellCoord(v),me=this._convertToYCellCoord(x);for(let Ie=$;Ie<=fe;Ie++)for(let De=ue;De<=me;De++)if(O.call(this,l,c,v,x,this.xCellCount*De+Ie,D,U,W))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,c,v,x,O,D){const U=x-l,W=O-c,$=v+D;return $*$>U*U+W*W}_circleAndRectCollide(l,c,v,x,O,D,U){const W=(D-x)/2,$=Math.abs(l-(x+W));if($>W+v)return!1;const ue=(U-O)/2,fe=Math.abs(c-(O+ue));if(fe>ue+v)return!1;if($<=W||fe<=ue)return!0;const me=$-W,Ie=fe-ue;return me*me+Ie*Ie<=v*v}}function yt(S,l,c){const v=a.H();if(!S){const{vecSouth:fe,vecEast:me}=Rt(l),Ie=m();Ie[0]=me[0],Ie[1]=me[1],Ie[2]=fe[0],Ie[3]=fe[1],x=Ie,(ue=(D=(O=Ie)[0])*($=O[3])-(W=O[2])*(U=O[1]))&&(x[0]=$*(ue=1/ue),x[1]=-U*ue,x[2]=-W*ue,x[3]=D*ue),v[0]=Ie[0],v[1]=Ie[1],v[4]=Ie[2],v[5]=Ie[3]}var x,O,D,U,W,$,ue;return a.K(v,v,[1/c,1/c,1]),v}function lt(S,l,c,v){if(S){const x=a.H();if(!l){const{vecSouth:O,vecEast:D}=Rt(c);x[0]=D[0],x[1]=D[1],x[4]=O[0],x[5]=O[1]}return a.K(x,x,[v,v,1]),x}return c.pixelsToClipSpaceMatrix}function Rt(S){const l=Math.cos(S.rollInRadians),c=Math.sin(S.rollInRadians),v=Math.cos(S.pitchInRadians),x=Math.cos(S.bearingInRadians),O=Math.sin(S.bearingInRadians),D=a.ad();D[0]=-x*v*c-O*l,D[1]=-O*v*c+x*l;const U=a.ae(D);U<1e-9?a.af(D):a.ag(D,D,1/U);const W=a.ad();W[0]=x*v*l-O*c,W[1]=O*v*l+x*c;const $=a.ae(W);return $<1e-9?a.af(W):a.ag(W,W,1/$),{vecEast:W,vecSouth:D}}function Dt(S,l,c,v){let x;v?(x=[S,l,v(S,l),1],a.al(x,x,c)):(x=[S,l,0,1],Wr(x,x,c));const O=x[3];return{point:new a.P(x[0]/O,x[1]/O),signedDistanceFromCamera:O,isOccluded:!1}}function Ot(S,l){return .5+S/l*.5}function At(S,l){return S.x>=-l[0]&&S.x<=l[0]&&S.y>=-l[1]&&S.y<=l[1]}function yn(S,l,c,v,x,O,D,U,W,$,ue,fe,me){const Ie=c?S.textSizeData:S.iconSizeData,De=a.ah(Ie,l.transform.zoom),He=[256/l.width*2+1,256/l.height*2+1],Ve=c?S.text.dynamicLayoutVertexArray:S.icon.dynamicLayoutVertexArray;Ve.clear();const Ze=S.lineVertexArray,et=c?S.text.placedSymbolArray:S.icon.placedSymbolArray,ct=l.transform.width/l.transform.height;let mt=!1;for(let vt=0;vt<et.length;vt++){const Et=et.get(vt);if(Et.hidden||Et.writingMode===a.ai.vertical&&!mt){ei(Et.numGlyphs,Ve);continue}mt=!1;const xt=new a.P(Et.anchorX,Et.anchorY),zt={getElevation:me,pitchedLabelPlaneMatrix:v,lineVertexArray:Ze,pitchWithMap:O,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:l.transform,tileAnchorPoint:xt,unwrappedTileID:W,width:$,height:ue,translation:fe},Ft=Jn(Et.anchorX,Et.anchorY,zt);if(!At(Ft.point,He)){ei(Et.numGlyphs,Ve);continue}const ln=Ot(l.transform.cameraToCenterDistance,Ft.signedDistanceFromCamera),An=a.aj(Ie,De,Et),on=O?An*l.transform.getPitchedTextCorrection(Et.anchorX,Et.anchorY,W)/ln:An*ln,fn=Sr({projectionContext:zt,pitchedLabelPlaneMatrixInverse:x,symbol:Et,fontSize:on,flip:!1,keepUpright:D,glyphOffsetArray:S.glyphOffsetArray,dynamicLayoutVertexArray:Ve,aspectRatio:ct,rotateToLine:U});mt=fn.useVertical,(fn.notEnoughRoom||mt||fn.needsFlipping&&Sr({projectionContext:zt,pitchedLabelPlaneMatrixInverse:x,symbol:Et,fontSize:on,flip:!0,keepUpright:D,glyphOffsetArray:S.glyphOffsetArray,dynamicLayoutVertexArray:Ve,aspectRatio:ct,rotateToLine:U}).notEnoughRoom)&&ei(Et.numGlyphs,Ve)}c?S.text.dynamicLayoutVertexBuffer.updateData(Ve):S.icon.dynamicLayoutVertexBuffer.updateData(Ve)}function gn(S,l,c,v,x,O,D,U){const W=O.glyphStartIndex+O.numGlyphs,$=O.lineStartIndex,ue=O.lineStartIndex+O.lineLength,fe=l.getoffsetX(O.glyphStartIndex),me=l.getoffsetX(W-1),Ie=_i(S*fe,c,v,x,O.segment,$,ue,U,D);if(!Ie)return null;const De=_i(S*me,c,v,x,O.segment,$,ue,U,D);return De?U.projectionCache.anyProjectionOccluded?null:{first:Ie,last:De}:null}function Yn(S,l,c,v){return S===a.ai.horizontal&&Math.abs(c.y-l.y)>Math.abs(c.x-l.x)*v?{useVertical:!0}:(S===a.ai.vertical?l.y<c.y:l.x>c.x)?{needsFlipping:!0}:null}function Sr(S){const{projectionContext:l,pitchedLabelPlaneMatrixInverse:c,symbol:v,fontSize:x,flip:O,keepUpright:D,glyphOffsetArray:U,dynamicLayoutVertexArray:W,aspectRatio:$,rotateToLine:ue}=S,fe=x/24,me=v.lineOffsetX*fe,Ie=v.lineOffsetY*fe;let De;if(v.numGlyphs>1){const He=v.glyphStartIndex+v.numGlyphs,Ve=v.lineStartIndex,Ze=v.lineStartIndex+v.lineLength,et=gn(fe,U,me,Ie,O,v,ue,l);if(!et)return{notEnoughRoom:!0};const ct=Tr(et.first.point.x,et.first.point.y,l,c),mt=Tr(et.last.point.x,et.last.point.y,l,c);if(D&&!O){const vt=Yn(v.writingMode,ct,mt,$);if(vt)return vt}De=[et.first];for(let vt=v.glyphStartIndex+1;vt<He-1;vt++)De.push(_i(fe*U.getoffsetX(vt),me,Ie,O,v.segment,Ve,Ze,l,ue));De.push(et.last)}else{if(D&&!O){const Ve=Wn(l.tileAnchorPoint.x,l.tileAnchorPoint.y,l).point,Ze=v.lineStartIndex+v.segment+1,et=new a.P(l.lineVertexArray.getx(Ze),l.lineVertexArray.gety(Ze)),ct=Wn(et.x,et.y,l),mt=ct.signedDistanceFromCamera>0?ct.point:$t(l.tileAnchorPoint,et,Ve,1,l),vt=Tr(Ve.x,Ve.y,l,c),Et=Tr(mt.x,mt.y,l,c),xt=Yn(v.writingMode,vt,Et,$);if(xt)return xt}const He=_i(fe*U.getoffsetX(v.glyphStartIndex),me,Ie,O,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,l,ue);if(!He||l.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};De=[He]}for(const He of De)a.ak(W,He.point,He.angle);return{}}function $t(S,l,c,v,x){const O=S.add(S.sub(l)._unit()),D=Wn(O.x,O.y,x).point,U=c.sub(D);return c.add(U._mult(v/U.mag()))}function Kn(S,l,c){const v=l.projectionCache;if(v.projections[S])return v.projections[S];const x=new a.P(l.lineVertexArray.getx(S),l.lineVertexArray.gety(S)),O=Wn(x.x,x.y,l);if(O.signedDistanceFromCamera>0)return v.projections[S]=O.point,v.anyProjectionOccluded=v.anyProjectionOccluded||O.isOccluded,O.point;const D=S-c.direction;return $t(c.distanceFromAnchor===0?l.tileAnchorPoint:new a.P(l.lineVertexArray.getx(D),l.lineVertexArray.gety(D)),x,c.previousVertex,c.absOffsetX-c.distanceFromAnchor+1,l)}function Wn(S,l,c){const v=S+c.translation[0],x=l+c.translation[1];let O;return c.pitchWithMap?(O=Dt(v,x,c.pitchedLabelPlaneMatrix,c.getElevation),O.isOccluded=!1):(O=c.transform.projectTileCoordinates(v,x,c.unwrappedTileID,c.getElevation),O.point.x=(.5*O.point.x+.5)*c.width,O.point.y=(.5*-O.point.y+.5)*c.height),O}function Tr(S,l,c,v){if(c.pitchWithMap){const x=[S,l,0,1];return a.al(x,x,v),c.transform.projectTileCoordinates(x[0]/x[3],x[1]/x[3],c.unwrappedTileID,c.getElevation).point}return{x:S/c.width*2-1,y:l/c.height*2-1}}function Jn(S,l,c){return c.transform.projectTileCoordinates(S,l,c.unwrappedTileID,c.getElevation)}function Vn(S,l,c){return S._unit()._perp()._mult(l*c)}function Tn(S,l,c,v,x,O,D,U,W){if(U.projectionCache.offsets[S])return U.projectionCache.offsets[S];const $=c.add(l);if(S+W.direction<v||S+W.direction>=x)return U.projectionCache.offsets[S]=$,$;const ue=Kn(S+W.direction,U,W),fe=Vn(ue.sub(c),D,W.direction),me=c.add(fe),Ie=ue.add(fe);return U.projectionCache.offsets[S]=a.am(O,$,me,Ie)||$,U.projectionCache.offsets[S]}function _i(S,l,c,v,x,O,D,U,W){const $=v?S-l:S+l;let ue=$>0?1:-1,fe=0;v&&(ue*=-1,fe=Math.PI),ue<0&&(fe+=Math.PI);let me,Ie=ue>0?O+x:O+x+1;U.projectionCache.cachedAnchorPoint?me=U.projectionCache.cachedAnchorPoint:(me=Wn(U.tileAnchorPoint.x,U.tileAnchorPoint.y,U).point,U.projectionCache.cachedAnchorPoint=me);let De,He,Ve=me,Ze=me,et=0,ct=0;const mt=Math.abs($),vt=[];let Et;for(;et+ct<=mt;){if(Ie+=ue,Ie<O||Ie>=D)return null;et+=ct,Ze=Ve,He=De;const Ft={absOffsetX:mt,direction:ue,distanceFromAnchor:et,previousVertex:Ze};if(Ve=Kn(Ie,U,Ft),c===0)vt.push(Ze),Et=Ve.sub(Ze);else{let ln;const An=Ve.sub(Ze);ln=An.mag()===0?Vn(Kn(Ie+ue,U,Ft).sub(Ve),c,ue):Vn(An,c,ue),He||(He=Ze.add(ln)),De=Tn(Ie,ln,Ve,O,D,He,c,U,Ft),vt.push(He),Et=De.sub(He)}ct=Et.mag()}const xt=Et._mult((mt-et)/ct)._add(He||Ze),zt=fe+Math.atan2(Ve.y-Ze.y,Ve.x-Ze.x);return vt.push(xt),{point:xt,angle:W?zt:0,path:vt}}const Zi=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ei(S,l){for(let c=0;c<S;c++){const v=l.length;l.resize(v+4),l.float32.set(Zi,3*v)}}function Wr(S,l,c){const v=l[0],x=l[1];return S[0]=c[0]*v+c[4]*x+c[12],S[1]=c[1]*v+c[5]*x+c[13],S[3]=c[3]*v+c[7]*x+c[15],S}const Yr=100;class Xi{constructor(l,c=new ot(l.width+200,l.height+200,25),v=new ot(l.width+200,l.height+200,25)){this.transform=l,this.grid=c,this.ignoredGrid=v,this.pitchFactor=Math.cos(l.pitch*Math.PI/180)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+Yr,this.screenBottomBoundary=l.height+Yr,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,c,v,x,O,D,U,W,$,ue,fe,me){const Ie=this.projectAndGetPerspectiveRatio(l.anchorPointX+W[0],l.anchorPointY+W[1],O,ue,me),De=v*Ie.perspectiveRatio;let He;if(D||U)He=this._projectCollisionBox(l,De,x,O,D,U,W,Ie,ue,fe,me);else{const Et=Ie.x+(fe?fe.x*De:0),xt=Ie.y+(fe?fe.y*De:0);He={allPointsOccluded:!1,box:[Et+l.x1*De,xt+l.y1*De,Et+l.x2*De,xt+l.y2*De]}}const[Ve,Ze,et,ct]=He.box,mt=D?He.allPointsOccluded:Ie.isOccluded;let vt=mt;return vt||(vt=Ie.perspectiveRatio<this.perspectiveRatioCutoff),vt||(vt=!this.isInsideGrid(Ve,Ze,et,ct)),vt||c!=="always"&&this.grid.hitTest(Ve,Ze,et,ct,c,$)?{box:[Ve,Ze,et,ct],placeable:!1,offscreen:!1,occluded:mt}:{box:[Ve,Ze,et,ct],placeable:!0,offscreen:this.isOffscreen(Ve,Ze,et,ct),occluded:mt}}placeCollisionCircles(l,c,v,x,O,D,U,W,$,ue,fe,me,Ie,De){const He=[],Ve=new a.P(c.anchorX,c.anchorY),Ze=this.getPerspectiveRatio(Ve.x,Ve.y,D,De),et=($?O*this.transform.getPitchedTextCorrection(c.anchorX,c.anchorY,D)/Ze:O*Ze)/a.as,ct={getElevation:De,pitchedLabelPlaneMatrix:U,lineVertexArray:v,pitchWithMap:$,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Ve,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:Ie},mt=gn(et,x,c.lineOffsetX*et,c.lineOffsetY*et,!1,c,!1,ct);let vt=!1,Et=!1,xt=!0;if(mt){const zt=.5*fe*Ze+me,Ft=new a.P(-100,-100),ln=new a.P(this.screenRightBoundary,this.screenBottomBoundary),An=new Ke,on=mt.first,fn=mt.last;let Un=[];for(let Ai=on.path.length-1;Ai>=1;Ai--)Un.push(on.path[Ai]);for(let Ai=1;Ai<fn.path.length;Ai++)Un.push(fn.path[Ai]);const cn=2.5*zt;if($){const Ai=this.projectPathToScreenSpace(Un,ct);Un=Ai.some(ho=>ho.signedDistanceFromCamera<=0)?[]:Ai.map(ho=>ho.point)}let ur=[];if(Un.length>0){const Ai=Un[0].clone(),ho=Un[0].clone();for(let fa=1;fa<Un.length;fa++)Ai.x=Math.min(Ai.x,Un[fa].x),Ai.y=Math.min(Ai.y,Un[fa].y),ho.x=Math.max(ho.x,Un[fa].x),ho.y=Math.max(ho.y,Un[fa].y);ur=Ai.x>=Ft.x&&ho.x<=ln.x&&Ai.y>=Ft.y&&ho.y<=ln.y?[Un]:ho.x<Ft.x||Ai.x>ln.x||ho.y<Ft.y||Ai.y>ln.y?[]:a.ao([Un],Ft.x,Ft.y,ln.x,ln.y)}for(const Ai of ur){An.reset(Ai,.25*zt);let ho=0;ho=An.length<=.5*zt?1:Math.ceil(An.paddedLength/cn)+1;for(let fa=0;fa<ho;fa++){const fi=fa/Math.max(ho-1,1),Mo=An.lerp(fi),So=Mo.x+Yr,to=Mo.y+Yr;He.push(So,to,zt,0);const $i=So-zt,Xa=to-zt,_o=So+zt,Po=to+zt;if(xt=xt&&this.isOffscreen($i,Xa,_o,Po),Et=Et||this.isInsideGrid($i,Xa,_o,Po),l!=="always"&&this.grid.hitTestCircle(So,to,zt,l,ue)&&(vt=!0,!W))return{circles:[],offscreen:!1,collisionDetected:vt}}}}return{circles:!W&&vt||!Et||Ze<this.perspectiveRatioCutoff?[]:He,offscreen:xt,collisionDetected:vt}}projectPathToScreenSpace(l,c){const v=function(x,O){const D=a.H();return a.an(D,O.pitchedLabelPlaneMatrix),x.map(U=>{const W=Dt(U.x,U.y,D,O.getElevation),$=O.transform.projectTileCoordinates(W.point.x,W.point.y,O.unwrappedTileID,O.getElevation);return $.point.x=(.5*$.point.x+.5)*O.width,$.point.y=(.5*-$.point.y+.5)*O.height,$})}(l,c);return function(x){let O=0,D=0,U=0,W=0;for(let $=0;$<x.length;$++)x[$].isOccluded?(U=$+1,W=0):(W++,W>D&&(D=W,O=U));return x.slice(O,O+D)}(v)}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let v=1/0,x=1/0,O=-1/0,D=-1/0;for(const ue of l){const fe=new a.P(ue.x+Yr,ue.y+Yr);v=Math.min(v,fe.x),x=Math.min(x,fe.y),O=Math.max(O,fe.x),D=Math.max(D,fe.y),c.push(fe)}const U=this.grid.query(v,x,O,D).concat(this.ignoredGrid.query(v,x,O,D)),W={},$={};for(const ue of U){const fe=ue.key;if(W[fe.bucketInstanceId]===void 0&&(W[fe.bucketInstanceId]={}),W[fe.bucketInstanceId][fe.featureIndex])continue;const me=[new a.P(ue.x1,ue.y1),new a.P(ue.x2,ue.y1),new a.P(ue.x2,ue.y2),new a.P(ue.x1,ue.y2)];a.ap(c,me)&&(W[fe.bucketInstanceId][fe.featureIndex]=!0,$[fe.bucketInstanceId]===void 0&&($[fe.bucketInstanceId]=[]),$[fe.bucketInstanceId].push(fe.featureIndex))}return $}insertCollisionBox(l,c,v,x,O,D){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:O,collisionGroupID:D,overlapMode:c},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,c,v,x,O,D){const U=v?this.ignoredGrid:this.grid,W={bucketInstanceId:x,featureIndex:O,collisionGroupID:D,overlapMode:c};for(let $=0;$<l.length;$+=4)U.insertCircle(W,l[$],l[$+1],l[$+2])}projectAndGetPerspectiveRatio(l,c,v,x,O){if(O){let D;x?(D=[l,c,x(l,c),1],a.al(D,D,O)):(D=[l,c,0,1],Wr(D,D,O));const U=D[3];return{x:(D[0]/U+1)/2*this.transform.width+Yr,y:(-D[1]/U+1)/2*this.transform.height+Yr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/U*.5,isOccluded:!1,signedDistanceFromCamera:U}}{const D=this.transform.projectTileCoordinates(l,c,v,x);return{x:(D.point.x+1)/2*this.transform.width+Yr,y:(1-D.point.y)/2*this.transform.height+Yr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D.signedDistanceFromCamera*.5,isOccluded:D.isOccluded,signedDistanceFromCamera:D.signedDistanceFromCamera}}}getPerspectiveRatio(l,c,v,x){const O=this.transform.projectTileCoordinates(l,c,v,x);return .5+this.transform.cameraToCenterDistance/O.signedDistanceFromCamera*.5}isOffscreen(l,c,v,x){return v<Yr||l>=this.screenRightBoundary||x<Yr||c>this.screenBottomBoundary}isInsideGrid(l,c,v,x){return v>=0&&l<this.gridRightBoundary&&x>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const l=a.aq([]);return a.J(l,l,[-100,-100,0]),l}_projectCollisionBox(l,c,v,x,O,D,U,W,$,ue,fe){let me=1,Ie=0,De=0,He=1;const Ve=l.anchorPointX+U[0],Ze=l.anchorPointY+U[1];if(D&&!O){const Un=this.projectAndGetPerspectiveRatio(Ve+1,Ze,x,$,fe),cn=Un.x-W.x,ur=Math.atan((Un.y-W.y)/cn)+(cn<0?Math.PI:0),Ai=Math.sin(ur),ho=Math.cos(ur);me=ho,Ie=Ai,De=-Ai,He=ho}else if(!D&&O){const Un=Rt(this.transform);me=Un.vecEast[0],Ie=Un.vecEast[1],De=Un.vecSouth[0],He=Un.vecSouth[1]}let et=W.x,ct=W.y,mt=c;O&&(et=Ve,ct=Ze,mt=Math.pow(2,-(this.transform.zoom-v.overscaledZ)),mt*=this.transform.getPitchedTextCorrection(Ve,Ze,x),ue||(mt*=a.ab(.5+W.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),ue&&(et+=me*ue.x*mt+De*ue.y*mt,ct+=Ie*ue.x*mt+He*ue.y*mt);const vt=l.x1*mt,Et=l.x2*mt,xt=(vt+Et)/2,zt=l.y1*mt,Ft=l.y2*mt,ln=(zt+Ft)/2,An=[{offsetX:vt,offsetY:zt},{offsetX:xt,offsetY:zt},{offsetX:Et,offsetY:zt},{offsetX:Et,offsetY:ln},{offsetX:Et,offsetY:Ft},{offsetX:xt,offsetY:Ft},{offsetX:vt,offsetY:Ft},{offsetX:vt,offsetY:ln}];let on=[];for(const{offsetX:Un,offsetY:cn}of An)on.push(new a.P(et+me*Un+De*cn,ct+Ie*Un+He*cn));let fn=!1;if(O){const Un=on.map(cn=>this.projectAndGetPerspectiveRatio(cn.x,cn.y,x,$,fe));fn=Un.some(cn=>!cn.isOccluded),on=Un.map(cn=>new a.P(cn.x,cn.y))}else fn=!0;return{box:a.ar(on),allPointsOccluded:!fn}}}class hi{constructor(l,c,v,x){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?c:-c))):x&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class ra{constructor(l,c,v,x,O){this.text=new hi(l?l.text:null,c,v,O),this.icon=new hi(l?l.icon:null,c,x,O)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ca{constructor(l,c,v){this.text=l,this.icon=c,this.skipFade=v}}class ao{constructor(l,c,v,x,O){this.bucketInstanceId=l,this.featureIndex=c,this.sourceLayerIndex=v,this.bucketIndex=x,this.tileID=O}}class Vo{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const c=++this.maxGroupID;this.collisionGroups[l]={ID:c,predicate:v=>v.collisionGroupID===c}}return this.collisionGroups[l]}}function la(S,l,c,v,x){const{horizontalAlign:O,verticalAlign:D}=a.ay(S);return new a.P(-(O-.5)*l+v[0]*x,-(D-.5)*c+v[1]*x)}class ba{constructor(l,c,v,x,O){this.transform=l.clone(),this.terrain=c,this.collisionIndex=new Xi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Vo(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=O,O&&(O.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(l){const c=this.terrain;return c?(v,x)=>c.getElevation(l,v,x):null}getBucketParts(l,c,v,x){const O=v.getBucket(c),D=v.latestFeatureIndex;if(!O||!D||c.id!==O.layerIds[0])return;const U=v.collisionBoxArray,W=O.layers[0].layout,$=O.layers[0].paint,ue=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),fe=v.tileSize/a.X,me=v.tileID.toUnwrapped(),Ie=W.get("text-rotation-alignment")==="map",De=a.at(v,1,this.transform.zoom),He=a.au(this.collisionIndex.transform,v,$.get("text-translate"),$.get("text-translate-anchor")),Ve=a.au(this.collisionIndex.transform,v,$.get("icon-translate"),$.get("icon-translate-anchor")),Ze=yt(Ie,this.transform,De);this.retainedQueryData[O.bucketInstanceId]=new ao(O.bucketInstanceId,D,O.sourceLayerIndex,O.index,v.tileID);const et={bucket:O,layout:W,translationText:He,translationIcon:Ve,unwrappedTileID:me,pitchedLabelPlaneMatrix:Ze,scale:ue,textPixelRatio:fe,holdingForFade:v.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:a.ah(O.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(O.sourceID)};if(x)for(const ct of O.sortKeyRanges){const{sortKey:mt,symbolInstanceStart:vt,symbolInstanceEnd:Et}=ct;l.push({sortKey:mt,symbolInstanceStart:vt,symbolInstanceEnd:Et,parameters:et})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:O.symbolInstances.length,parameters:et})}attemptAnchorPlacement(l,c,v,x,O,D,U,W,$,ue,fe,me,Ie,De,He,Ve,Ze,et,ct,mt){const vt=a.av[l.textAnchor],Et=[l.textOffset0,l.textOffset1],xt=la(vt,v,x,Et,O),zt=this.collisionIndex.placeCollisionBox(c,me,W,$,ue,U,D,Ve,fe.predicate,ct,xt,mt);if((!et||this.collisionIndex.placeCollisionBox(et,me,W,$,ue,U,D,Ze,fe.predicate,ct,xt,mt).placeable)&&zt.placeable){let Ft;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ie.crossTileID]&&this.prevPlacement.placements[Ie.crossTileID]&&this.prevPlacement.placements[Ie.crossTileID].text&&(Ft=this.prevPlacement.variableOffsets[Ie.crossTileID].anchor),Ie.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ie.crossTileID]={textOffset:Et,width:v,height:x,anchor:vt,textBoxScale:O,prevAnchor:Ft},this.markUsedJustification(De,vt,Ie,He),De.allowVerticalPlacement&&(this.markUsedOrientation(De,He,Ie),this.placedOrientations[Ie.crossTileID]=He),{shift:xt,placedGlyphBoxes:zt}}}placeLayerBucketPart(l,c,v){const{bucket:x,layout:O,translationText:D,translationIcon:U,unwrappedTileID:W,pitchedLabelPlaneMatrix:$,textPixelRatio:ue,holdingForFade:fe,collisionBoxArray:me,partiallyEvaluatedTextSize:Ie,collisionGroup:De}=l.parameters,He=O.get("text-optional"),Ve=O.get("icon-optional"),Ze=a.aw(O,"text-overlap","text-allow-overlap"),et=Ze==="always",ct=a.aw(O,"icon-overlap","icon-allow-overlap"),mt=ct==="always",vt=O.get("text-rotation-alignment")==="map",Et=O.get("text-pitch-alignment")==="map",xt=O.get("icon-text-fit")!=="none",zt=O.get("symbol-z-order")==="viewport-y",Ft=et&&(mt||!x.hasIconData()||Ve),ln=mt&&(et||!x.hasTextData()||He);!x.collisionArrays&&me&&x.deserializeCollisionBoxes(me);const An=this.retainedQueryData[x.bucketInstanceId].tileID,on=this._getTerrainElevationFunc(An),fn=this.transform.getFastPathSimpleProjectionMatrix(An),Un=(cn,ur,Ai)=>{var ho,fa;if(c[cn.crossTileID])return;if(fe)return void(this.placements[cn.crossTileID]=new Ca(!1,!1,!1));let fi=!1,Mo=!1,So=!0,to=null,$i={box:null,placeable:!1,offscreen:null,occluded:!1},Xa={box:null,placeable:!1,offscreen:null},_o=null,Po=null,gs=null,Du=0,zs=0,Gl=0;ur.textFeatureIndex?Du=ur.textFeatureIndex:cn.useRuntimeCollisionCircles&&(Du=cn.featureIndex),ur.verticalTextFeatureIndex&&(zs=ur.verticalTextFeatureIndex);const Ql=ur.textBox;if(Ql){const Ba=Qo=>{let va=a.ai.horizontal;if(x.allowVerticalPlacement&&!Qo&&this.prevPlacement){const Is=this.prevPlacement.placedOrientations[cn.crossTileID];Is&&(this.placedOrientations[cn.crossTileID]=Is,va=Is,this.markUsedOrientation(x,va,cn))}return va},Ns=(Qo,va)=>{if(x.allowVerticalPlacement&&cn.numVerticalGlyphVertices>0&&ur.verticalTextBox){for(const Is of x.writingModes)if(Is===a.ai.vertical?($i=va(),Xa=$i):$i=Qo(),$i&&$i.placeable)break}else $i=Qo()},Ia=cn.textAnchorOffsetStartIndex,sl=cn.textAnchorOffsetEndIndex;if(sl===Ia){const Qo=(va,Is)=>{const ks=this.collisionIndex.placeCollisionBox(va,Ze,ue,An,W,Et,vt,D,De.predicate,on,void 0,fn);return ks&&ks.placeable&&(this.markUsedOrientation(x,Is,cn),this.placedOrientations[cn.crossTileID]=Is),ks};Ns(()=>Qo(Ql,a.ai.horizontal),()=>{const va=ur.verticalTextBox;return x.allowVerticalPlacement&&cn.numVerticalGlyphVertices>0&&va?Qo(va,a.ai.vertical):{box:null,offscreen:null}}),Ba($i&&$i.placeable)}else{let Qo=a.av[(fa=(ho=this.prevPlacement)===null||ho===void 0?void 0:ho.variableOffsets[cn.crossTileID])===null||fa===void 0?void 0:fa.anchor];const va=(ks,Gh,Ud)=>{const Lf=ks.x2-ks.x1,Ah=ks.y2-ks.y1,_A=cn.textBoxScale,Ff=xt&&ct==="never"?Gh:null;let Ja=null,$l=Ze==="never"?1:2,Rf="never";Qo&&$l++;for(let Pm=0;Pm<$l;Pm++){for(let qA=Ia;qA<sl;qA++){const Ju=x.textAnchorOffsets.get(qA);if(Qo&&Ju.textAnchor!==Qo)continue;const CA=this.attemptAnchorPlacement(Ju,ks,Lf,Ah,_A,vt,Et,ue,An,W,De,Rf,cn,x,Ud,D,U,Ff,on);if(CA&&(Ja=CA.placedGlyphBoxes,Ja&&Ja.placeable))return fi=!0,to=CA.shift,Ja}Qo?Qo=null:Rf=Ze}return v&&!Ja&&(Ja={box:this.collisionIndex.placeCollisionBox(Ql,"always",ue,An,W,Et,vt,D,De.predicate,on,void 0,fn).box,offscreen:!1,placeable:!1,occluded:!1}),Ja};Ns(()=>va(Ql,ur.iconBox,a.ai.horizontal),()=>{const ks=ur.verticalTextBox;return x.allowVerticalPlacement&&(!$i||!$i.placeable)&&cn.numVerticalGlyphVertices>0&&ks?va(ks,ur.verticalIconBox,a.ai.vertical):{box:null,occluded:!0,offscreen:null}}),$i&&(fi=$i.placeable,So=$i.offscreen);const Is=Ba($i&&$i.placeable);if(!fi&&this.prevPlacement){const ks=this.prevPlacement.variableOffsets[cn.crossTileID];ks&&(this.variableOffsets[cn.crossTileID]=ks,this.markUsedJustification(x,ks.anchor,cn,Is))}}}if(_o=$i,fi=_o&&_o.placeable,So=_o&&_o.offscreen,cn.useRuntimeCollisionCircles){const Ba=x.text.placedSymbolArray.get(cn.centerJustifiedTextSymbolIndex),Ns=a.aj(x.textSizeData,Ie,Ba),Ia=O.get("text-padding");Po=this.collisionIndex.placeCollisionCircles(Ze,Ba,x.lineVertexArray,x.glyphOffsetArray,Ns,W,$,v,Et,De.predicate,cn.collisionCircleDiameter,Ia,D,on),Po.circles.length&&Po.collisionDetected&&!v&&a.w("Collisions detected, but collision boxes are not shown"),fi=et||Po.circles.length>0&&!Po.collisionDetected,So=So&&Po.offscreen}if(ur.iconFeatureIndex&&(Gl=ur.iconFeatureIndex),ur.iconBox){const Ba=Ns=>this.collisionIndex.placeCollisionBox(Ns,ct,ue,An,W,Et,vt,U,De.predicate,on,xt&&to?to:void 0,fn);Xa&&Xa.placeable&&ur.verticalIconBox?(gs=Ba(ur.verticalIconBox),Mo=gs.placeable):(gs=Ba(ur.iconBox),Mo=gs.placeable),So=So&&gs.offscreen}const Mc=He||cn.numHorizontalGlyphVertices===0&&cn.numVerticalGlyphVertices===0,Sc=Ve||cn.numIconVertices===0;Mc||Sc?Sc?Mc||(Mo=Mo&&fi):fi=Mo&&fi:Mo=fi=Mo&&fi;const Lu=Mo&&gs.placeable;if(fi&&_o.placeable&&this.collisionIndex.insertCollisionBox(_o.box,Ze,O.get("text-ignore-placement"),x.bucketInstanceId,Xa&&Xa.placeable&&zs?zs:Du,De.ID),Lu&&this.collisionIndex.insertCollisionBox(gs.box,ct,O.get("icon-ignore-placement"),x.bucketInstanceId,Gl,De.ID),Po&&fi&&this.collisionIndex.insertCollisionCircles(Po.circles,Ze,O.get("text-ignore-placement"),x.bucketInstanceId,Du,De.ID),v&&this.storeCollisionData(x.bucketInstanceId,Ai,ur,_o,gs,Po),cn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(x.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[cn.crossTileID]=new Ca((fi||Ft)&&!(_o!=null&&_o.occluded),(Mo||ln)&&!(gs!=null&&gs.occluded),So||x.justReloaded),c[cn.crossTileID]=!0};if(zt){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const cn=x.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let ur=cn.length-1;ur>=0;--ur){const Ai=cn[ur];Un(x.symbolInstances.get(Ai),x.collisionArrays[Ai],Ai)}}else for(let cn=l.symbolInstanceStart;cn<l.symbolInstanceEnd;cn++)Un(x.symbolInstances.get(cn),x.collisionArrays[cn],cn);x.justReloaded=!1}storeCollisionData(l,c,v,x,O,D){if(v.textBox||v.iconBox){let U,W;this.collisionBoxArrays.has(l)?U=this.collisionBoxArrays.get(l):(U=new Map,this.collisionBoxArrays.set(l,U)),U.has(c)?W=U.get(c):(W={text:null,icon:null},U.set(c,W)),v.textBox&&(W.text=x.box),v.iconBox&&(W.icon=O.box)}if(D){let U=this.collisionCircleArrays[l];U===void 0&&(U=this.collisionCircleArrays[l]=[]);for(let W=0;W<D.circles.length;W+=4)U.push(D.circles[W+0]-Yr),U.push(D.circles[W+1]-Yr),U.push(D.circles[W+2]),U.push(D.collisionDetected?1:0)}}markUsedJustification(l,c,v,x){let O;O=x===a.ai.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.ax(c)];const D=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const U of D)U>=0&&(l.text.placedSymbolArray.get(U).crossTileID=O>=0&&U!==O?0:v.crossTileID)}markUsedOrientation(l,c,v){const x=c===a.ai.horizontal||c===a.ai.horizontalOnly?c:0,O=c===a.ai.vertical?c:0,D=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const U of D)l.text.placedSymbolArray.get(U).placedOrientation=x;v.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=O)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let v=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const x=c?c.symbolFadeChange(l):1,O=c?c.opacities:{},D=c?c.variableOffsets:{},U=c?c.placedOrientations:{};for(const W in this.placements){const $=this.placements[W],ue=O[W];ue?(this.opacities[W]=new ra(ue,x,$.text,$.icon),v=v||$.text!==ue.text.placed||$.icon!==ue.icon.placed):(this.opacities[W]=new ra(null,x,$.text,$.icon,$.skipFade),v=v||$.text||$.icon)}for(const W in O){const $=O[W];if(!this.opacities[W]){const ue=new ra($,x,!1,!1);ue.isHidden()||(this.opacities[W]=ue,v=v||$.text.placed||$.icon.placed)}}for(const W in D)this.variableOffsets[W]||!this.opacities[W]||this.opacities[W].isHidden()||(this.variableOffsets[W]=D[W]);for(const W in U)this.placedOrientations[W]||!this.opacities[W]||this.opacities[W].isHidden()||(this.placedOrientations[W]=U[W]);if(c&&c.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:l)}updateLayerOpacities(l,c){const v={};for(const x of c){const O=x.getBucket(l);O&&x.latestFeatureIndex&&l.id===O.layerIds[0]&&this.updateBucketOpacities(O,x.tileID,v,x.collisionBoxArray)}}updateBucketOpacities(l,c,v,x){l.hasTextData()&&(l.text.opacityVertexArray.clear(),l.text.hasVisibleVertices=!1),l.hasIconData()&&(l.icon.opacityVertexArray.clear(),l.icon.hasVisibleVertices=!1),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const O=l.layers[0],D=O.layout,U=new ra(null,0,!1,!1,!0),W=D.get("text-allow-overlap"),$=D.get("icon-allow-overlap"),ue=O._unevaluatedLayout.hasValue("text-variable-anchor")||O._unevaluatedLayout.hasValue("text-variable-anchor-offset"),fe=D.get("text-rotation-alignment")==="map",me=D.get("text-pitch-alignment")==="map",Ie=D.get("icon-text-fit")!=="none",De=new ra(null,0,W&&($||!l.hasIconData()||D.get("icon-optional")),$&&(W||!l.hasTextData()||D.get("text-optional")),!0);!l.collisionArrays&&x&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(x);const He=(Ze,et,ct)=>{for(let mt=0;mt<et/4;mt++)Ze.opacityVertexArray.emplaceBack(ct);Ze.hasVisibleVertices=Ze.hasVisibleVertices||ct!==rn},Ve=this.collisionBoxArrays.get(l.bucketInstanceId);for(let Ze=0;Ze<l.symbolInstances.length;Ze++){const et=l.symbolInstances.get(Ze),{numHorizontalGlyphVertices:ct,numVerticalGlyphVertices:mt,crossTileID:vt}=et;let Et=this.opacities[vt];v[vt]?Et=U:Et||(Et=De,this.opacities[vt]=Et),v[vt]=!0;const xt=et.numIconVertices>0,zt=this.placedOrientations[et.crossTileID],Ft=zt===a.ai.vertical,ln=zt===a.ai.horizontal||zt===a.ai.horizontalOnly;if(ct>0||mt>0){const on=it(Et.text);He(l.text,ct,Ft?rn:on),He(l.text,mt,ln?rn:on);const fn=Et.text.isHidden();[et.rightJustifiedTextSymbolIndex,et.centerJustifiedTextSymbolIndex,et.leftJustifiedTextSymbolIndex].forEach(ur=>{ur>=0&&(l.text.placedSymbolArray.get(ur).hidden=fn||Ft?1:0)}),et.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(et.verticalPlacedTextSymbolIndex).hidden=fn||ln?1:0);const Un=this.variableOffsets[et.crossTileID];Un&&this.markUsedJustification(l,Un.anchor,et,zt);const cn=this.placedOrientations[et.crossTileID];cn&&(this.markUsedJustification(l,"left",et,cn),this.markUsedOrientation(l,cn,et))}if(xt){const on=it(Et.icon),fn=!(Ie&&et.verticalPlacedIconSymbolIndex&&Ft);et.placedIconSymbolIndex>=0&&(He(l.icon,et.numIconVertices,fn?on:rn),l.icon.placedSymbolArray.get(et.placedIconSymbolIndex).hidden=Et.icon.isHidden()),et.verticalPlacedIconSymbolIndex>=0&&(He(l.icon,et.numVerticalIconVertices,fn?rn:on),l.icon.placedSymbolArray.get(et.verticalPlacedIconSymbolIndex).hidden=Et.icon.isHidden())}const An=Ve&&Ve.has(Ze)?Ve.get(Ze):{text:null,icon:null};if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const on=l.collisionArrays[Ze];if(on){let fn=new a.P(0,0);if(on.textBox||on.verticalTextBox){let Un=!0;if(ue){const cn=this.variableOffsets[vt];cn?(fn=la(cn.anchor,cn.width,cn.height,cn.textOffset,cn.textBoxScale),fe&&fn._rotate(me?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Un=!1}if(on.textBox||on.verticalTextBox){let cn;on.textBox&&(cn=Ft),on.verticalTextBox&&(cn=ln),el(l.textCollisionBox.collisionVertexArray,Et.text.placed,!Un||cn,An.text,fn.x,fn.y)}}if(on.iconBox||on.verticalIconBox){const Un=!!(!ln&&on.verticalIconBox);let cn;on.iconBox&&(cn=Un),on.verticalIconBox&&(cn=!Un),el(l.iconCollisionBox.collisionVertexArray,Et.icon.placed,cn,An.icon,Ie?fn.x:0,Ie?fn.y:0)}}}}if(l.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);l.bucketInstanceId in this.collisionCircleArrays&&(l.collisionCircleArray=this.collisionCircleArrays[l.bucketInstanceId],delete this.collisionCircleArrays[l.bucketInstanceId])}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,c){const v=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*v>l}setStale(){this.stale=!0}}function el(S,l,c,v,x,O){v&&v.length!==0||(v=[0,0,0,0]);const D=v[0]-Yr,U=v[1]-Yr,W=v[2]-Yr,$=v[3]-Yr;S.emplaceBack(l?1:0,c?1:0,x||0,O||0,D,U),S.emplaceBack(l?1:0,c?1:0,x||0,O||0,W,U),S.emplaceBack(l?1:0,c?1:0,x||0,O||0,W,$),S.emplaceBack(l?1:0,c?1:0,x||0,O||0,D,$)}const Ss=Math.pow(2,25),li=Math.pow(2,24),ar=Math.pow(2,17),La=Math.pow(2,16),Io=Math.pow(2,9),ua=Math.pow(2,8),Oe=Math.pow(2,1);function it(S){if(S.opacity===0&&!S.placed)return 0;if(S.opacity===1&&S.placed)return 4294967295;const l=S.placed?1:0,c=Math.floor(127*S.opacity);return c*Ss+l*li+c*ar+l*La+c*Io+l*ua+c*Oe+l}const rn=0;class wn{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,c,v,x,O){const D=this._bucketParts;for(;this._currentTileIndex<l.length;)if(c.getBucketParts(D,x,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,O())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((U,W)=>U.sortKey-W.sortKey));this._currentPartIndex<D.length;)if(c.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,O())return!0;return!1}}class Qt{constructor(l,c,v,x,O,D,U,W){this.placement=new ba(l,c,D,U,W),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=O,this._done=!1}isDone(){return this._done}continuePlacement(l,c,v){const x=I.now(),O=()=>!this._forceFullPlacement&&I.now()-x>2;for(;this._currentPlacementIndex>=0;){const D=c[l[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=U)&&(!D.maxzoom||D.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new wn(D)),this._inProgressLayer.continuePlacement(v[D.source],this.placement,this._showCollisionBoxes,D,O))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const En=512/a.X/2;class ni{constructor(l,c,v){this.tileID=l,this.bucketInstanceId=v,this._symbolsByKey={};const x=new Map;for(let O=0;O<c.length;O++){const D=c.get(O),U=D.key,W=x.get(U);W?W.push(D):x.set(U,[D])}for(const[O,D]of x){const U={positions:D.map(W=>({x:Math.floor(W.anchorX*En),y:Math.floor(W.anchorY*En)})),crossTileIDs:D.map(W=>W.crossTileID)};if(U.positions.length>128){const W=new a.az(U.positions.length,16,Uint16Array);for(const{x:$,y:ue}of U.positions)W.add($,ue);W.finish(),delete U.positions,U.index=W}this._symbolsByKey[O]=U}}getScaledCoordinates(l,c){const{x:v,y:x,z:O}=this.tileID.canonical,{x:D,y:U,z:W}=c.canonical,$=En/Math.pow(2,W-O),ue=(U*a.X+l.anchorY)*$,fe=x*a.X*En;return{x:Math.floor((D*a.X+l.anchorX)*$-v*a.X*En),y:Math.floor(ue-fe)}}findMatches(l,c,v){const x=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let O=0;O<l.length;O++){const D=l.get(O);if(D.crossTileID)continue;const U=this._symbolsByKey[D.key];if(!U)continue;const W=this.getScaledCoordinates(D,c);if(U.index){const $=U.index.range(W.x-x,W.y-x,W.x+x,W.y+x).sort();for(const ue of $){const fe=U.crossTileIDs[ue];if(!v[fe]){v[fe]=!0,D.crossTileID=fe;break}}}else if(U.positions)for(let $=0;$<U.positions.length;$++){const ue=U.positions[$],fe=U.crossTileIDs[$];if(Math.abs(ue.x-W.x)<=x&&Math.abs(ue.y-W.y)<=x&&!v[fe]){v[fe]=!0,D.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:l})=>l)}}class Ci{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wi{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const c=Math.round((l-this.lng)/360);if(c!==0)for(const v in this.indexes){const x=this.indexes[v],O={};for(const D in x){const U=x[D];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+c),O[U.tileID.key]=U}this.indexes[v]=O}this.lng=l}addBucket(l,c,v){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let O=0;O<c.symbolInstances.length;O++)c.symbolInstances.get(O).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const x=this.usedCrossTileIDs[l.overscaledZ];for(const O in this.indexes){const D=this.indexes[O];if(Number(O)>l.overscaledZ)for(const U in D){const W=D[U];W.tileID.isChildOf(l)&&W.findMatches(c.symbolInstances,l,x)}else{const U=D[l.scaledTo(Number(O)).key];U&&U.findMatches(c.symbolInstances,l,x)}}for(let O=0;O<c.symbolInstances.length;O++){const D=c.symbolInstances.get(O);D.crossTileID||(D.crossTileID=v.generate(),x[D.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new ni(l,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(l,c){for(const v of c.getCrossTileIDsLists())for(const x of v)delete this.usedCrossTileIDs[l][x]}removeStaleBuckets(l){let c=!1;for(const v in this.indexes){const x=this.indexes[v];for(const O in x)l[x[O].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,x[O]),delete x[O],c=!0)}return c}}class Wo{constructor(){this.layerIndexes={},this.crossTileIDs=new Ci,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,c,v){let x=this.layerIndexes[l.id];x===void 0&&(x=this.layerIndexes[l.id]=new Wi);let O=!1;const D={};x.handleWrapJump(v);for(const U of c){const W=U.getBucket(l);W&&l.id===W.layerIds[0]&&(W.bucketInstanceId||(W.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(U.tileID,W,this.crossTileIDs)&&(O=!0),D[W.bucketInstanceId]=!0)}return x.removeStaleBuckets(D)&&(O=!0),O}pruneUnusedLayers(l){const c={};l.forEach(v=>{c[v]=!0});for(const v in this.layerIndexes)c[v]||delete this.layerIndexes[v]}}var Dl="void main() {fragColor=vec4(1.0);}";const Br={prelude:qr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:qr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:qr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:qr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:qr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qr(Dl,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:qr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:qr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:qr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:qr(Dl,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:qr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:qr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:qr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:qr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:qr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:qr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:qr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:qr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:qr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:qr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:qr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function qr(S,l){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=l.match(/in ([\w]+) ([\w]+)/g),x=S.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),O=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=O?O.concat(x):x,U={};return{fragmentSource:S=S.replace(c,(W,$,ue,fe,me)=>(U[me]=!0,$==="define"?`
#ifndef HAS_UNIFORM_u_${me}
in ${ue} ${fe} ${me};
#else
uniform ${ue} ${fe} u_${me};
#endif
`:`
#ifdef HAS_UNIFORM_u_${me}
    ${ue} ${fe} ${me} = u_${me};
#endif
`)),vertexSource:l=l.replace(c,(W,$,ue,fe,me)=>{const Ie=fe==="float"?"vec2":"vec4",De=me.match(/color/)?"color":Ie;return U[me]?$==="define"?`
#ifndef HAS_UNIFORM_u_${me}
uniform lowp float u_${me}_t;
in ${ue} ${Ie} a_${me};
out ${ue} ${fe} ${me};
#else
uniform ${ue} ${fe} u_${me};
#endif
`:De==="vec4"?`
#ifndef HAS_UNIFORM_u_${me}
    ${me} = a_${me};
#else
    ${ue} ${fe} ${me} = u_${me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${me}
    ${me} = unpack_mix_${De}(a_${me}, u_${me}_t);
#else
    ${ue} ${fe} ${me} = u_${me};
#endif
`:$==="define"?`
#ifndef HAS_UNIFORM_u_${me}
uniform lowp float u_${me}_t;
in ${ue} ${Ie} a_${me};
#else
uniform ${ue} ${fe} u_${me};
#endif
`:De==="vec4"?`
#ifndef HAS_UNIFORM_u_${me}
    ${ue} ${fe} ${me} = a_${me};
#else
    ${ue} ${fe} ${me} = u_${me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${me}
    ${ue} ${fe} ${me} = unpack_mix_${De}(a_${me}, u_${me}_t);
#else
    ${ue} ${fe} ${me} = u_${me};
#endif
`}),staticAttributes:v,staticUniforms:D}}class xa{constructor(l,c,v){this.vertexBuffer=l,this.indexBuffer=c,this.segments=v}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Gr=a.aA([{name:"a_pos",type:"Int16",components:2}]);const ms="#define PROJECTION_MERCATOR",Mu="mercator";class Ro{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Mu}get shaderDefine(){return ms}get shaderPreludeCode(){return Br.projectionMercator}get vertexShaderPreludeCode(){return Br.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aB.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(l){}getMeshFromTileID(l,c,v,x,O){if(this._cachedMesh)return this._cachedMesh;const D=new a.aC;D.emplaceBack(0,0),D.emplaceBack(a.X,0),D.emplaceBack(0,a.X),D.emplaceBack(a.X,a.X);const U=l.createVertexBuffer(D,Gr.members),W=a.aD.simpleSegment(0,0,4,2),$=new a.aE;$.emplaceBack(1,0,2),$.emplaceBack(1,2,3);const ue=l.createIndexBuffer($);return this._cachedMesh=new xa(U,ue,W),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(l){}}function di(S,l){const c=a.ab(l.lat,-85.051129,a.aF);return new a.P(a.O(l.lng)*S,a.Q(c)*S)}function ii(S,l){return new a.Y(l.x/S,l.y/S).toLngLat()}function Es(S){return S.cameraToCenterDistance*Math.min(.85*Math.tan(a.aa(90-S.pitch)),Math.tan(a.aa(89.25-S.pitch)))}function Aa(S,l){const c=S.canonical,v=l/a.aG(c.z),x=c.x+Math.pow(2,c.z)*S.wrap,O=a.aq(new Float64Array(16));return a.J(O,O,[x*v,c.y*v,0]),a.K(O,O,[v/a.X,v/a.X,1]),O}function so(S,l,c,v,x){const O=a.Y.fromLngLat(S,l),D=x*a.aH(1,S.lat),U=D*Math.cos(a.aa(c)),W=Math.sqrt(D*D-U*U),$=W*Math.sin(a.aa(-v)),ue=W*Math.cos(a.aa(-v));return new a.Y(O.x+$,O.y+ue,O.z+U)}class ca{constructor(l=0,c=0,v=0,x=0){if(isNaN(l)||l<0||isNaN(c)||c<0||isNaN(v)||v<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=c,this.left=v,this.right=x}interpolate(l,c,v){return c.top!=null&&l.top!=null&&(this.top=a.y.number(l.top,c.top,v)),c.bottom!=null&&l.bottom!=null&&(this.bottom=a.y.number(l.bottom,c.bottom,v)),c.left!=null&&l.left!=null&&(this.left=a.y.number(l.left,c.left,v)),c.right!=null&&l.right!=null&&(this.right=a.y.number(l.right,c.right,v)),this}getCenter(l,c){const v=a.ab((this.left+l-this.right)/2,0,l),x=a.ab((this.top+c-this.bottom)/2,0,c);return new a.P(v,x)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new ca(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function tu(S,l){if(!S.renderWorldCopies||S.lngRange)return;const c=l.lng-S.center.lng;l.lng+=c>180?-360:c<-180?360:0}function Ll(S){return Math.max(0,Math.floor(S))}class Uo{constructor(l,c,v,x,O,D){this._callbacks=l,this._tileSize=512,this._renderWorldCopies=D===void 0||!!D,this._minZoom=c||0,this._maxZoom=v||22,this._minPitch=x??0,this._maxPitch=O??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.N(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Ll(this._zoom),this._scale=a.aG(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new ca,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(l,c,v){this._latRange=l.latRange,this._lngRange=l.lngRange,this._width=l.width,this._height=l.height,this._center=l.center,this._elevation=l.elevation,this._minElevationForCurrentTile=l.minElevationForCurrentTile,this._zoom=l.zoom,this._tileZoom=Ll(this._zoom),this._scale=a.aG(this._zoom),this._bearingInRadians=l.bearingInRadians,this._fovInRadians=l.fovInRadians,this._pitchInRadians=l.pitchInRadians,this._rollInRadians=l.rollInRadians,this._unmodified=l.unmodified,this._edgeInsets=new ca(l.padding.top,l.padding.bottom,l.padding.left,l.padding.right),this._minZoom=l.minZoom,this._maxZoom=l.maxZoom,this._minPitch=l.minPitch,this._maxPitch=l.maxPitch,this._renderWorldCopies=l.renderWorldCopies,this._cameraToCenterDistance=l.cameraToCenterDistance,this._nearZ=l.nearZ,this._farZ=l.farZ,this._autoCalculateNearFarZ=!v&&l.autoCalculateNearFarZ,c&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(l){this._minElevationForCurrentTile=l}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(l){this._minZoom!==l&&(this._minZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(l){this._minPitch!==l&&(this._minPitch=l,this.setPitch(Math.max(this.pitch,l)))}get maxPitch(){return this._maxPitch}setMaxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.setPitch(Math.min(this.pitch,l)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(l){const c=a.aI(l,-180,180)*Math.PI/180;var v,x,O,D,U,W,$,ue,fe;this._bearingInRadians!==c&&(this._unmodified=!1,this._bearingInRadians=c,this._calcMatrices(),this._rotationMatrix=m(),v=this._rotationMatrix,O=-this._bearingInRadians,D=(x=this._rotationMatrix)[0],U=x[1],W=x[2],$=x[3],ue=Math.sin(O),fe=Math.cos(O),v[0]=D*fe+W*ue,v[1]=U*fe+$*ue,v[2]=D*-ue+W*fe,v[3]=U*-ue+$*fe)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(l){const c=a.ab(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==c&&(this._unmodified=!1,this._pitchInRadians=c,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(l){const c=l/180*Math.PI;this._rollInRadians!==c&&(this._unmodified=!1,this._rollInRadians=c,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aJ(this._fovInRadians)}setFov(l){l=a.ab(l,.1,150),this.fov!==l&&(this._unmodified=!1,this._fovInRadians=a.aa(l),this._calcMatrices())}get zoom(){return this._zoom}setZoom(l){const c=this.getConstrained(this._center,l).zoom;this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this._tileZoom=Math.max(0,Math.floor(c)),this._scale=a.aG(c),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(l,c){this._autoCalculateNearFarZ=!1,this._nearZ=l,this._farZ=c,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,c,v){this._unmodified=!1,this._edgeInsets.interpolate(l,c,v),this._constrain(),this._calcMatrices()}resize(l,c,v=!0){this._width=l,this._height=c,v&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Bt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(l){l?(this._lngRange=[l.getWest(),l.getEast()],this._latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,a.aF])}getConstrained(l,c){return this._callbacks.getConstrained(l,c)}getCameraQueryGeometry(l,c){if(c.length===1)return[c[0],l];{let v=l.x,x=l.y,O=l.x,D=l.y;for(const U of c)v=Math.min(v,U.x),x=Math.min(x,U.y),O=Math.max(O,U.x),D=Math.max(D,U.y);return[new a.P(v,x),new a.P(O,x),new a.P(O,D),new a.P(v,D),new a.P(v,x)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const l=this._unmodified,{center:c,zoom:v}=this.getConstrained(this.center,this.zoom);this.setCenter(c),this.setZoom(v),this._unmodified=l,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let l=a.aq(new Float64Array(16));a.K(l,l,[this._width/2,-this._height/2,1]),a.J(l,l,[1,-1,0]),this._clipSpaceToPixelsMatrix=l,l=a.aq(new Float64Array(16)),a.K(l,l,[1,-1,1]),a.J(l,l,[-1,-1,0]),a.K(l,l,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=l,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(l,c,v,x){const O=v!==void 0?v:this.bearing,D=x=x!==void 0?x:this.pitch,U=a.Y.fromLngLat(l,c),W=-Math.cos(a.aa(D)),$=Math.sin(a.aa(D)),ue=$*Math.sin(a.aa(O)),fe=-$*Math.cos(a.aa(O));let me=this.elevation;const Ie=c-me;let De;W*Ie>=0||Math.abs(W)<.1?(De=1e4,me=c+De*W):De=-Ie/W;let He,Ve,Ze=a.aK(1,U.y),et=0;do{if(et+=1,et>10)break;Ve=De/Ze,He=new a.Y(U.x+ue*Ve,U.y+fe*Ve),Ze=1/He.meterInMercatorCoordinateUnits()}while(Math.abs(De-Ve*Ze)>1e-12);return{center:He.toLngLat(),elevation:me,zoom:a.a8(this.height/2/Math.tan(this.fovInRadians/2)/Ve/this.tileSize)}}recalculateZoomAndCenter(l){if(this.elevation-l==0)return;const c=a.aH(1,this.center.lat)*this.worldSize,v=this.cameraToCenterDistance/c,x=a.Y.fromLngLat(this.center,this.elevation),O=so(this.center,this.elevation,this.pitch,this.bearing,v);this._elevation=l;const D=this.calculateCenterFromCameraLngLatAlt(O.toLngLat(),a.aK(O.z,x.y),this.bearing,this.pitch);this._elevation=D.elevation,this._center=D.center,this.setZoom(D.zoom)}getCameraPoint(){const l=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(l*Math.sin(this.rollInRadians),l*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const l=a.aH(1,this.center.lat)*this.worldSize;return so(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/l).toLngLat()}getMercatorTileCoordinates(l){if(!l)return[0,0,1,1];const c=l.canonical.z>=0?1<<l.canonical.z:Math.pow(2,l.canonical.z);return[l.canonical.x/c,l.canonical.y/c,1/c/a.X,1/c/a.X]}}class Os{constructor(l,c){this.min=l,this.max=c,this.center=a.aL([],a.aM([],this.min,this.max),.5)}quadrant(l){const c=[l%2==0,l<2],v=a.aN(this.min),x=a.aN(this.max);for(let O=0;O<c.length;O++)v[O]=c[O]?this.min[O]:this.center[O],x[O]=c[O]?this.center[O]:this.max[O];return x[2]=this.max[2],new Os(v,x)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersectsFrustum(l){let c=!0;for(let v=0;v<l.planes.length;v++){const x=this.intersectsPlane(l.planes[v]);if(x===0)return 0;x===1&&(c=!1)}return c?2:l.aabb.min[0]>this.max[0]||l.aabb.min[1]>this.max[1]||l.aabb.min[2]>this.max[2]||l.aabb.max[0]<this.min[0]||l.aabb.max[1]<this.min[1]||l.aabb.max[2]<this.min[2]?0:1}intersectsPlane(l){let c=l[3],v=l[3];for(let x=0;x<3;x++)l[x]>0?(c+=l[x]*this.min[x],v+=l[x]*this.max[x]):(v+=l[x]*this.min[x],c+=l[x]*this.max[x]);return c>=0?2:v<0?0:1}}class xo{distanceToTile2d(l,c,v,x){const O=x.distanceX([l,c]),D=x.distanceY([l,c]);return Math.hypot(O,D)}getWrap(l,c,v){return v}getTileAABB(l,c,v,x){var O,D;let U=v,W=v;if(x.terrain){const ue=new a.S(l.z,c,l.z,l.x,l.y),fe=x.terrain.getMinMaxElevation(ue);U=(O=fe.minElevation)!==null&&O!==void 0?O:v,W=(D=fe.maxElevation)!==null&&D!==void 0?D:v}const $=1<<l.z;return new Os([c+l.x/$,l.y/$,U],[c+(l.x+1)/$,(l.y+1)/$,W])}allowVariableZoom(l,c){const v=l.fov*(Math.abs(Math.cos(l.rollInRadians))*l.height+Math.abs(Math.sin(l.rollInRadians))*l.width)/l.height,x=a.ab(78.5-v/2,0,60);return!!c.terrain||l.pitch>x||l.padding.top>=.1}allowWorldCopies(){return!0}recalculateCache(){}}class wa{constructor(l,c,v){this.points=l,this.planes=c,this.aabb=v}static fromInvProjectionMatrix(l,c=1,v=0){const x=Math.pow(2,v),O=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map($=>{const ue=1/($=a.al([],$,l))[3]/c*x;return a.aO($,$,[ue,ue,1/$[3],ue])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map($=>{const ue=a.aP([],O[$[0]],O[$[1]]),fe=a.aP([],O[$[2]],O[$[1]]),me=a.aQ([],a.aR([],ue,fe)),Ie=-a.aS(me,O[$[1]]);return me.concat(Ie)}),U=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],W=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const $ of O)for(let ue=0;ue<3;ue++)U[ue]=Math.min(U[ue],$[ue]),W[ue]=Math.max(W[ue],$[ue]);return new wa(O,D,new Os(U,W))}}class ya{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,c,v){return this._helper.interpolatePadding(l,c,v)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,c,v=!0){this._helper.resize(l,c,v)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,c){this._helper.overrideNearFarZ(l,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l,c){}constructor(l,c,v,x,O){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Uo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(D,U)=>this.getConstrained(D,U)},l,c,v,x,O),this._coveringTilesDetailsProvider=new xo}clone(){const l=new ya;return l.apply(this),l}apply(l,c,v){this._helper.apply(l,c,v)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(l){const c=[new a.aT(0,l)];if(this._helper._renderWorldCopies){const v=this.screenPointToMercatorCoordinate(new a.P(0,0)),x=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),O=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),D=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),U=Math.floor(Math.min(v.x,x.x,O.x,D.x)),W=Math.floor(Math.max(v.x,x.x,O.x,D.x)),$=1;for(let ue=U-$;ue<=W+$;ue++)ue!==0&&c.push(new a.aT(ue,l))}return c}getCameraFrustum(){return wa.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){const c=this.screenPointToLocation(this.centerPoint,l),v=l?l.getElevationForLngLatZoom(c,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(v)}setLocationAtPoint(l,c){const v=a.aH(this.elevation,this.center.lat),x=this.screenPointToMercatorCoordinateAtZ(c,v),O=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,v),D=a.Y.fromLngLat(l),U=new a.Y(D.x-(x.x-O.x),D.y-(x.y-O.y));this.setCenter(U==null?void 0:U.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(l,c){return c?this.coordinatePoint(a.Y.fromLngLat(l),c.getElevationForLngLatZoom(l,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.Y.fromLngLat(l))}screenPointToLocation(l,c){var v;return(v=this.screenPointToMercatorCoordinate(l,c))===null||v===void 0?void 0:v.toLngLat()}screenPointToMercatorCoordinate(l,c){if(c){const v=c.pointCoordinate(l);if(v!=null)return v}return this.screenPointToMercatorCoordinateAtZ(l)}screenPointToMercatorCoordinateAtZ(l,c){const v=c||0,x=[l.x,l.y,0,1],O=[l.x,l.y,1,1];a.al(x,x,this._pixelMatrixInverse),a.al(O,O,this._pixelMatrixInverse);const D=x[3],U=O[3],W=x[1]/D,$=O[1]/U,ue=x[2]/D,fe=O[2]/U,me=ue===fe?0:(v-ue)/(fe-ue);return new a.Y(a.y.number(x[0]/D,O[0]/U,me)/this.worldSize,a.y.number(W,$,me)/this.worldSize,v)}coordinatePoint(l,c=0,v=this._pixelMatrix){const x=[l.x*this.worldSize,l.y*this.worldSize,c,1];return a.al(x,x,v),new a.P(x[0]/x[3],x[1]/x[3])}getBounds(){const l=Math.max(0,this._helper._height/2-Es(this));return new Bt().extend(this.screenPointToLocation(new a.P(0,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(l,c){return c?c.pointCoordinate(l)!=null:l.y>this.height/2-Es(this)}calculatePosMatrix(l,c=!1,v){var x;const O=(x=l.key)!==null&&x!==void 0?x:a.aU(l.wrap,l.canonical.z,l.canonical.z,l.canonical.x,l.canonical.y),D=c?this._alignedPosMatrixCache:this._posMatrixCache;if(D.has(O)){const $=D.get(O);return v?$.f32:$.f64}const U=Aa(l,this.worldSize);a.L(U,c?this._alignedProjMatrix:this._viewProjMatrix,U);const W={f64:U,f32:new Float32Array(U)};return D.set(O,W),v?W.f32:W.f64}calculateFogMatrix(l){const c=l.key,v=this._fogMatrixCacheF32;if(v.has(c))return v.get(c);const x=Aa(l,this.worldSize);return a.L(x,this._fogMatrix,x),v.set(c,new Float32Array(x)),v.get(c)}getConstrained(l,c){c=a.ab(+c,this.minZoom,this.maxZoom);const v={center:new a.N(l.lng,l.lat),zoom:c};let x=this._helper._lngRange;this._helper._renderWorldCopies||x!==null||(x=[-179.9999999999,180-1e-10]);const O=this.tileSize*a.aG(v.zoom);let D=0,U=O,W=0,$=O,ue=0,fe=0;const{x:me,y:Ie}=this.size;if(this._helper._latRange){const ct=this._helper._latRange;D=a.Q(ct[1])*O,U=a.Q(ct[0])*O,U-D<Ie&&(ue=Ie/(U-D))}x&&(W=a.aI(a.O(x[0])*O,0,O),$=a.aI(a.O(x[1])*O,0,O),$<W&&($+=O),$-W<me&&(fe=me/($-W)));const{x:De,y:He}=di(O,l);let Ve,Ze;const et=Math.max(fe||0,ue||0);if(et){const ct=new a.P(fe?($+W)/2:De,ue?(U+D)/2:He);return v.center=ii(O,ct).wrap(),v.zoom+=a.a8(et),v}if(this._helper._latRange){const ct=Ie/2;He-ct<D&&(Ze=D+ct),He+ct>U&&(Ze=U-ct)}if(x){const ct=(W+$)/2;let mt=De;this._helper._renderWorldCopies&&(mt=a.aI(De,ct-O/2,ct+O/2));const vt=me/2;mt-vt<W&&(Ve=W+vt),mt+vt>$&&(Ve=$-vt)}if(Ve!==void 0||Ze!==void 0){const ct=new a.P(Ve??De,Ze??He);v.center=ii(O,ct).wrap()}return v}calculateCenterFromCameraLngLatAlt(l,c,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(l,c,v,x)}_calculateNearFarZIfNeeded(l,c,v){if(!this._helper.autoCalculateNearFarZ)return;const x=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),O=l-x*this._helper._pixelPerMeter/Math.cos(c),D=x<0?O:l,U=Math.PI/2+this.pitchInRadians,W=a.aa(this.fov)*(Math.abs(Math.cos(a.aa(this.roll)))*this.height+Math.abs(Math.sin(a.aa(this.roll)))*this.width)/this.height*(.5+v.y/this.height),$=Math.sin(W)*D/Math.sin(a.ab(Math.PI-U-W,.01,Math.PI-.01)),ue=Es(this),fe=Math.atan(ue/this._helper.cameraToCenterDistance),me=a.aa(.75),Ie=fe>me?2*fe*(.5+v.y/(2*ue)):me,De=Math.sin(Ie)*D/Math.sin(a.ab(Math.PI-U-Ie,.01,Math.PI-.01)),He=Math.min($,De);this._helper._farZ=1.01*(Math.cos(Math.PI/2-c)*He+D),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const l=this.centerOffset,c=di(this.worldSize,this.center),v=c.x,x=c.y;this._helper._pixelPerMeter=a.aH(1,this.center.lat)*this.worldSize;const O=a.aa(Math.min(this.pitch,89.25)),D=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(O));let U;this._calculateNearFarZIfNeeded(D,O,l),U=new Float64Array(16),a.aV(U,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.an(this._invProjMatrix,U),U[8]=2*-l.x/this._helper._width,U[9]=2*l.y/this._helper._height,this._projectionMatrix=a.aW(U),a.K(U,U,[1,-1,1]),a.J(U,U,[0,0,-this._helper.cameraToCenterDistance]),a.aX(U,U,-this.rollInRadians),a.aY(U,U,this.pitchInRadians),a.aX(U,U,-this.bearingInRadians),a.J(U,U,[-v,-x,0]),this._mercatorMatrix=a.K([],U,[this.worldSize,this.worldSize,this.worldSize]),a.K(U,U,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,U),a.J(U,U,[0,0,-this.elevation]),this._viewProjMatrix=U,this._invViewProjMatrix=a.an([],U);const W=[0,0,-1,1];a.al(W,W,this._invViewProjMatrix),this._cameraPosition=[W[0]/W[3],W[1]/W[3],W[2]/W[3]],this._fogMatrix=new Float64Array(16),a.aV(this._fogMatrix,this.fovInRadians,this.width/this.height,D,this._helper._farZ),this._fogMatrix[8]=2*-l.x/this.width,this._fogMatrix[9]=2*l.y/this.height,a.K(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.aX(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.aY(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.aX(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.J(this._fogMatrix,this._fogMatrix,[-v,-x,0]),a.K(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,U);const $=this._helper._width%2/2,ue=this._helper._height%2/2,fe=Math.cos(this.bearingInRadians),me=Math.sin(-this.bearingInRadians),Ie=v-Math.round(v)+fe*$+me*ue,De=x-Math.round(x)+fe*ue+me*$,He=new Float64Array(U);if(a.J(He,He,[Ie>.5?Ie-1:Ie,De>.5?De-1:De,0]),this._alignedProjMatrix=He,U=a.an(new Float64Array(16),this._pixelMatrix),!U)throw new Error("failed to invert matrix");this._pixelMatrixInverse=U,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const l=this.screenPointToMercatorCoordinate(new a.P(0,0)),c=[l.x*this.worldSize,l.y*this.worldSize,0,1];return a.al(c,c,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const l=a.aH(1,this.center.lat)*this.worldSize;return so(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/l).toLngLat()}lngLatToCameraDepth(l,c){const v=a.Y.fromLngLat(l),x=[v.x*this.worldSize,v.y*this.worldSize,c,1];return a.al(x,x,this._viewProjMatrix),x[2]/x[3]}getProjectionData(l){const{overscaledTileID:c,aligned:v,applyTerrainMatrix:x}=l,O=this._helper.getMercatorTileCoordinates(c),D=c?this.calculatePosMatrix(c,v,!0):null;let U;return U=c&&c.terrainRttPosMatrix32f&&x?c.terrainRttPosMatrix32f:D||a.aZ(),{mainMatrix:U,tileMercatorCoords:O,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:U}}isLocationOccluded(l){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(l,c,v){return 1}transformLightDirection(l){return a.aN(l)}getRayDirectionFromPixel(l){throw new Error("Not implemented.")}projectTileCoordinates(l,c,v,x){const O=this.calculatePosMatrix(v);let D;x?(D=[l,c,x(l,c),1],a.al(D,D,O)):(D=[l,c,0,1],Wr(D,D,O));const U=D[3];return{point:new a.P(D[0]/U,D[1]/U),signedDistanceFromCamera:U,isOccluded:!1}}populateCache(l){for(const c of l)this.calculatePosMatrix(c)}getMatrixForModel(l,c){const v=a.Y.fromLngLat(l,c),x=v.meterInMercatorCoordinateUnits(),O=a.a_();return a.J(O,O,[v.x,v.y,v.z]),a.aX(O,O,Math.PI),a.aY(O,O,Math.PI/2),a.K(O,O,[-x,x,x]),O}getProjectionDataForCustomLayer(l=!0){const c=new a.S(0,0,0,0,0),v=this.getProjectionData({overscaledTileID:c,applyGlobeMatrix:l}),x=Aa(c,this.worldSize);a.L(x,this._viewProjMatrix,x),v.tileMercatorCoords=[0,0,1,1];const O=[a.X,a.X,this.worldSize/this._helper.pixelsPerMeter],D=a.a$();return a.K(D,x,O),v.fallbackMatrix=D,v.mainMatrix=D,v}getFastPathSimpleProjectionMatrix(l){return this.calculatePosMatrix(l)}}function yl(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function qa(S){if(S.useSlerp)if(S.k<1){const l=a.b0(S.startEulerAngles.roll,S.startEulerAngles.pitch,S.startEulerAngles.bearing),c=a.b0(S.endEulerAngles.roll,S.endEulerAngles.pitch,S.endEulerAngles.bearing),v=new Float64Array(4);a.b1(v,l,c,S.k);const x=a.b2(v);S.tr.setRoll(x.roll),S.tr.setPitch(x.pitch),S.tr.setBearing(x.bearing)}else S.tr.setRoll(S.endEulerAngles.roll),S.tr.setPitch(S.endEulerAngles.pitch),S.tr.setBearing(S.endEulerAngles.bearing);else S.tr.setRoll(a.y.number(S.startEulerAngles.roll,S.endEulerAngles.roll,S.k)),S.tr.setPitch(a.y.number(S.startEulerAngles.pitch,S.endEulerAngles.pitch,S.k)),S.tr.setBearing(a.y.number(S.startEulerAngles.bearing,S.endEulerAngles.bearing,S.k))}function Rs(S,l,c,v,x){const O=x.padding,D=di(x.worldSize,c.getNorthWest()),U=di(x.worldSize,c.getNorthEast()),W=di(x.worldSize,c.getSouthEast()),$=di(x.worldSize,c.getSouthWest()),ue=a.aa(-v),fe=D.rotate(ue),me=U.rotate(ue),Ie=W.rotate(ue),De=$.rotate(ue),He=new a.P(Math.max(fe.x,me.x,De.x,Ie.x),Math.max(fe.y,me.y,De.y,Ie.y)),Ve=new a.P(Math.min(fe.x,me.x,De.x,Ie.x),Math.min(fe.y,me.y,De.y,Ie.y)),Ze=He.sub(Ve),et=(x.width-(O.left+O.right+l.left+l.right))/Ze.x,ct=(x.height-(O.top+O.bottom+l.top+l.bottom))/Ze.y;if(ct<0||et<0)return void yl();const mt=Math.min(a.a8(x.scale*Math.min(et,ct)),S.maxZoom),vt=a.P.convert(S.offset),Et=new a.P((l.left-l.right)/2,(l.top-l.bottom)/2).rotate(a.aa(v)),xt=vt.add(Et).mult(x.scale/a.aG(mt));return{center:ii(x.worldSize,D.add(W).div(2).sub(xt)),zoom:mt,bearing:v}}class Vu{get useGlobeControls(){return!1}handlePanInertia(l,c){return{easingOffset:l,easingCenter:c.center}}handleMapControlsRollPitchBearingZoom(l,c){l.bearingDelta&&c.setBearing(c.bearing+l.bearingDelta),l.pitchDelta&&c.setPitch(c.pitch+l.pitchDelta),l.rollDelta&&c.setRoll(c.roll+l.rollDelta),l.zoomDelta&&c.setZoom(c.zoom+l.zoomDelta)}handleMapControlsPan(l,c,v){l.around.distSqr(c.centerPoint)<.01||c.setLocationAtPoint(v,l.around)}cameraForBoxAndBearing(l,c,v,x,O){return Rs(l,c,v,x,O)}handleJumpToCenterZoom(l,c){l.zoom!==(c.zoom!==void 0?+c.zoom:l.zoom)&&l.setZoom(+c.zoom),c.center!==void 0&&l.setCenter(a.N.convert(c.center))}handleEaseTo(l,c){const v=l.zoom,x=l.padding,O={roll:l.roll,pitch:l.pitch,bearing:l.bearing},D={roll:c.roll===void 0?l.roll:c.roll,pitch:c.pitch===void 0?l.pitch:c.pitch,bearing:c.bearing===void 0?l.bearing:c.bearing},U=c.zoom!==void 0,W=!l.isPaddingEqual(c.padding);let $=!1;const ue=U?+c.zoom:l.zoom;let fe=l.centerPoint.add(c.offsetAsPoint);const me=l.screenPointToLocation(fe),{center:Ie,zoom:De}=l.getConstrained(a.N.convert(c.center||me),ue??v);tu(l,Ie);const He=di(l.worldSize,me),Ve=di(l.worldSize,Ie).sub(He),Ze=a.aG(De-v);return $=De!==v,{easeFunc:et=>{if($&&l.setZoom(a.y.number(v,De,et)),a.b3(O,D)||qa({startEulerAngles:O,endEulerAngles:D,tr:l,k:et,useSlerp:O.roll!=D.roll}),W&&(l.interpolatePadding(x,c.padding,et),fe=l.centerPoint.add(c.offsetAsPoint)),c.around)l.setLocationAtPoint(c.around,c.aroundPoint);else{const ct=a.aG(l.zoom-v),mt=De>v?Math.min(2,Ze):Math.max(.5,Ze),vt=Math.pow(mt,1-et),Et=ii(l.worldSize,He.add(Ve.mult(et*vt)).mult(ct));l.setLocationAtPoint(l.renderWorldCopies?Et.wrap():Et,fe)}},isZooming:$,elevationCenter:Ie}}handleFlyTo(l,c){const v=c.zoom!==void 0,x=l.zoom,O=l.getConstrained(a.N.convert(c.center||c.locationAtOffset),v?+c.zoom:x),D=O.center,U=O.zoom;tu(l,D);const W=di(l.worldSize,c.locationAtOffset),$=di(l.worldSize,D).sub(W),ue=$.mag(),fe=a.aG(U-x);let me;if(c.minZoom!==void 0){const Ie=Math.min(+c.minZoom,x,U),De=l.getConstrained(D,Ie).zoom;me=a.aG(De-x)}return{easeFunc:(Ie,De,He,Ve)=>{l.setZoom(Ie===1?U:x+a.a8(De));const Ze=Ie===1?D:ii(l.worldSize,W.add($.mult(He)).mult(De));l.setLocationAtPoint(l.renderWorldCopies?Ze.wrap():Ze,Ve)},scaleOfZoom:fe,targetCenter:D,scaleOfMinZoom:me,pixelPathLength:ue}}}class Gi{constructor(l,c,v){this.blendFunction=l,this.blendColor=c,this.mask=v}}Gi.Replace=[1,0],Gi.disabled=new Gi(Gi.Replace,a.b4.transparent,[!1,!1,!1,!1]),Gi.unblended=new Gi(Gi.Replace,a.b4.transparent,[!0,!0,!0,!0]),Gi.alphaBlended=new Gi([1,771],a.b4.transparent,[!0,!0,!0,!0]);const vl=2305;class bi{constructor(l,c,v){this.enable=l,this.mode=c,this.frontFace=v}}bi.disabled=new bi(!1,1029,vl),bi.backCCW=new bi(!0,1029,vl),bi.frontCCW=new bi(!0,1028,vl);class Dr{constructor(l,c,v){this.func=l,this.mask=c,this.range=v}}Dr.ReadOnly=!1,Dr.ReadWrite=!0,Dr.disabled=new Dr(519,Dr.ReadOnly,[0,1]);const Fl=7680;class xi{constructor(l,c,v,x,O,D){this.test=l,this.ref=c,this.mask=v,this.fail=x,this.depthFail=O,this.pass=D}}xi.disabled=new xi({func:519,mask:0},0,0,Fl,Fl,Fl);const Ji=new WeakMap;function ki(S){var l;if(Ji.has(S))return Ji.get(S);{const c=(l=S.getParameter(S.VERSION))===null||l===void 0?void 0:l.startsWith("WebGL 2.0");return Ji.set(S,c),c}}class N{get awaitingQuery(){return!!this._readbackQueue}constructor(l){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=l;const c=l.context,v=c.gl;this._texFormat=v.RGBA,this._texType=v.UNSIGNED_BYTE;const x=new a.aC;x.emplaceBack(-1,-1),x.emplaceBack(2,-1),x.emplaceBack(-1,2);const O=new a.aE;O.emplaceBack(0,1,2),this._fullscreenTriangle=new xa(c.createVertexBuffer(x,Gr.members),c.createIndexBuffer(O),a.aD.simpleSegment(0,0,x.length,O.length)),this._resultBuffer=new Uint8Array(4),c.activeTexture.set(v.TEXTURE1);const D=v.createTexture();v.bindTexture(v.TEXTURE_2D,D),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.texImage2D(v.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=c.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(D),ki(v)&&(this._pbo=v.createBuffer(),v.bindBuffer(v.PIXEL_PACK_BUFFER,this._pbo),v.bufferData(v.PIXEL_PACK_BUFFER,4,v.STREAM_READ),v.bindBuffer(v.PIXEL_PACK_BUFFER,null))}destroy(){const l=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),l.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(l,c){const v=this._updateCount;return this._readbackQueue?v>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():v>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(l,c),this._updateCount++,this._measuredError}_bindFramebuffer(){const l=this._cachedRenderContext.context,c=l.gl;l.activeTexture.set(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this._fbo.colorAttachment.get()),l.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(l,c){const v=this._cachedRenderContext.context,x=v.gl;if(this._bindFramebuffer(),v.viewport.set([0,0,this._texWidth,this._texHeight]),v.clear({color:a.b4.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(v,x.TRIANGLES,Dr.disabled,xi.disabled,Gi.unblended,bi.disabled,((O,D)=>({u_input:O,u_output_expected:D}))(l,c),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&ki(x)){x.bindBuffer(x.PIXEL_PACK_BUFFER,this._pbo),x.readBuffer(x.COLOR_ATTACHMENT0),x.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),x.bindBuffer(x.PIXEL_PACK_BUFFER,null);const O=x.fenceSync(x.SYNC_GPU_COMMANDS_COMPLETE,0);x.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:O}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const l=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&ki(l)){const c=l.clientWaitSync(this._readbackQueue.sync,0,0);if(c===l.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(c===l.TIMEOUT_EXPIRED)return;l.bindBuffer(l.PIXEL_PACK_BUFFER,this._pbo),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),l.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=N._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(l){let c=0;return c+=l[0]/256,c+=l[1]/65536,c+=l[2]/16777216,l[3]<127&&(c=-c),c/128}}const he=a.X/128;function We(S,l){const c=S.granularity!==void 0?Math.max(S.granularity,1):1,v=c+(S.generateBorders?2:0),x=c+(S.extendToNorthPole||S.generateBorders?1:0)+(S.extendToSouthPole||S.generateBorders?1:0),O=v+1,D=x+1,U=S.generateBorders?-1:0,W=S.generateBorders||S.extendToNorthPole?-1:0,$=c+(S.generateBorders?1:0),ue=c+(S.generateBorders||S.extendToSouthPole?1:0),fe=O*D,me=v*x*6,Ie=O*D>65536;if(Ie&&l==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const De=Ie||l==="32bit",He=new Int16Array(2*fe);let Ve=0;for(let ct=W;ct<=ue;ct++)for(let mt=U;mt<=$;mt++){let vt=mt/c*a.X;mt===-1&&(vt=-64),mt===c+1&&(vt=a.X+he);let Et=ct/c*a.X;ct===-1&&(Et=S.extendToNorthPole?a.b6:-64),ct===c+1&&(Et=S.extendToSouthPole?a.b7:a.X+he),He[Ve++]=vt,He[Ve++]=Et}const Ze=De?new Uint32Array(me):new Uint16Array(me);let et=0;for(let ct=0;ct<x;ct++)for(let mt=0;mt<v;mt++){const vt=mt+1+ct*O,Et=mt+(ct+1)*O,xt=mt+1+(ct+1)*O;Ze[et++]=mt+ct*O,Ze[et++]=Et,Ze[et++]=vt,Ze[et++]=vt,Ze[et++]=Et,Ze[et++]=xt}return{vertices:He.buffer.slice(0),indices:Ze.buffer.slice(0),uses32bitIndices:De}}const Tt=new a.aB({fill:new a.b8(128,2),line:new a.b8(512,0),tile:new a.b8(128,32),stencil:new a.b8(128,1),circle:3});class sr{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Br.projectionGlobe}get vertexShaderPreludeCode(){return Br.projectionMercator.vertexSource}get subdivisionGranularity(){return Tt}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(l){this._errorMeasurement||(this._errorMeasurement=new N(l));const c=a.Q(this._errorQueryLatitudeDegrees),v=2*Math.atan(Math.exp(Math.PI-c*Math.PI*2))-.5*Math.PI,x=this._errorMeasurement.updateErrorLoop(c,v),O=I.now();x!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=x,this._errorMeasurementLastChangeTime=O);const D=Math.min(Math.max((O-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.b9(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.ba(D))}_getMeshKey(l){return`${l.granularity.toString(36)}_${l.generateBorders?"b":""}${l.extendToNorthPole?"n":""}${l.extendToSouthPole?"s":""}`}getMeshFromTileID(l,c,v,x,O){const D=(O==="stencil"?Tt.stencil:Tt.tile).getGranularityForZoomLevel(c.z);return this._getMesh(l,{granularity:D,generateBorders:v,extendToNorthPole:c.y===0&&x,extendToSouthPole:c.y===(1<<c.z)-1&&x})}_getMesh(l,c){const v=this._getMeshKey(c);if(v in this._tileMeshCache)return this._tileMeshCache[v];const x=function(O,D){const U=We(D,"16bit"),W=a.aC.deserialize({arrayBuffer:U.vertices,length:U.vertices.byteLength/2/2}),$=a.aE.deserialize({arrayBuffer:U.indices,length:U.indices.byteLength/2/3});return new xa(O.createVertexBuffer(W,Gr.members),O.createIndexBuffer($),a.aD.simpleSegment(0,0,W.length,$.length))}(l,c);return this._tileMeshCache[v]=x,x}recalculate(l){}hasTransition(){const l=I.now();let c=!1;return c=c||(l-this._errorMeasurementLastChangeTime)/1e3<.7,c=c||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,c}setErrorQueryLatitudeDegrees(l){this._errorQueryLatitudeDegrees=l}}const On=new a.q({type:new a.D(a.v.projection.type)});class Ur extends a.E{constructor(l){super(),this._transitionable=new a.T(On),this.setProjection(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.z(0)),this._mercatorProjection=new Ro,this._verticalPerspectiveProjection=new sr}get transitionState(){const l=this.properties.get("type");if(typeof l=="string"&&l==="mercator")return 0;if(typeof l=="string"&&l==="vertical-perspective")return 1;if(l instanceof a.bb){if(l.from==="vertical-perspective"&&l.to==="mercator")return 1-l.transition;if(l.from==="mercator"&&l.to==="vertical-perspective")return l.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(l){this._mercatorProjection.updateGPUdependent(l),this._verticalPerspectiveProjection.updateGPUdependent(l)}getMeshFromTileID(l,c,v,x,O){return this.currentProjection.getMeshFromTileID(l,c,v,x,O)}setProjection(l){this._transitionable.setValue("type",(l==null?void 0:l.type)||"mercator")}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}setErrorQueryLatitudeDegrees(l){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(l),this._mercatorProjection.setErrorQueryLatitudeDegrees(l)}}function Vr(S){const l=ri(S.worldSize,S.center.lat);return 2*Math.PI*l}function er(S,l,c,v,x){const O=1/(1<<x),D=l/a.X*O+v*O,U=a.bd((S/a.X*O+c*O)*Math.PI*2+Math.PI,2*Math.PI),W=2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI,$=Math.cos(W),ue=new Float64Array(3);return ue[0]=Math.sin(U)*$,ue[1]=Math.sin(W),ue[2]=Math.cos(U)*$,ue}function lr(S){return function(l,c){const v=Math.cos(c),x=new Float64Array(3);return x[0]=Math.sin(l)*v,x[1]=Math.sin(c),x[2]=Math.cos(l)*v,x}(S.lng*Math.PI/180,S.lat*Math.PI/180)}function ri(S,l){return S/(2*Math.PI)/Math.cos(l*Math.PI/180)}function lo(S){const l=Math.asin(S[1])/Math.PI*180,c=Math.sqrt(S[0]*S[0]+S[2]*S[2]);if(c>1e-6){const v=S[0]/c,x=Math.acos(S[2]/c),O=(v>0?x:-x)/Math.PI*180;return new a.N(a.aI(O,-180,180),l)}return new a.N(0,l)}function wi(S){return Math.cos(S*Math.PI/180)}function Er(S,l){const c=wi(S),v=wi(l);return a.a8(v/c)}function Li(S,l){const c=S.rotate(l.bearingInRadians),v=l.zoom+Er(l.center.lat,0),x=a.b9(1/wi(l.center.lat),1/wi(Math.min(Math.abs(l.center.lat),60)),a.bc(v,7,3,0,1)),O=360/Vr({worldSize:l.worldSize,center:{lat:l.center.lat}});return new a.N(l.center.lng-c.x*O*x,a.ab(l.center.lat+c.y*O,-85.051129,a.aF))}function ko(S){const l=.5*S,c=Math.sin(l),v=Math.cos(l);return Math.log(c+v)-Math.log(v-c)}function ia(S,l,c,v){const x=S.lat+c*v;if(Math.abs(c)>1){const O=(Math.sign(S.lat+c)!==Math.sign(S.lat)?-Math.abs(S.lat):Math.abs(S.lat))*Math.PI/180,D=Math.abs(S.lat+c)*Math.PI/180,U=ko(O+v*(D-O)),W=ko(O),$=ko(D);return new a.N(S.lng+l*((U-W)/($-W)),x)}return new a.N(S.lng+l*v,x)}class Va{constructor(l){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=l}recalculateCache(){if(!this._hadAnyChanges)return;const l=this._cachePrevious;this._cachePrevious=this._cache,this._cache=l,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(l,c,v,x){const O=`${l.z}_${l.x}_${l.y}`,D=this._cache.get(O);if(D)return D;const U=this._cachePrevious.get(O);if(U)return this._cache.set(O,U),U;const W=this._aabbFactory(l,c,v,x);return this._cache.set(O,W),this._hadAnyChanges=!0,W}}function tl(S,l,c){const v=S-l;return v<0?-v:Math.max(0,v-c)}function Rl(S,l,c,v,x){const O=S-c;let D;return D=O<0?Math.min(-O,1+O-x):O>1?Math.min(Math.max(O-x,0),1-O):0,Math.max(D,tl(l,v,x))}class Ma{constructor(){this._aabbCache=new Va(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(l,c,v,x){const O=1<<v.z,D=1/O,U=v.x/O,W=v.y/O;let $=2;return $=Math.min($,Rl(l,c,U,W,D)),$=Math.min($,Rl(l,c,U+.5,-W-D,D)),$=Math.min($,Rl(l,c,U+.5,2-W-D,D)),$}getWrap(l,c,v){const x=1<<c.z,O=1/x,D=c.x/x,U=tl(l.x,D,O),W=tl(l.x,D-1,O),$=tl(l.x,D+1,O),ue=Math.min(U,W,$);return ue===$?1:ue===W?-1:0}allowVariableZoom(l,c){return cr(l,c)>4}allowWorldCopies(){return!1}getTileAABB(l,c,v,x){return this._aabbCache.getTileAABB(l,c,v,x)}_computeTileAABB(l,c,v,x){if(l.z<=0)return new Os([-1,-1,-1],[1,1,1]);if(l.z===1)return new Os([l.x===0?-1:0,l.y===0?0:-1,-1],[l.x===0?0:1,l.y===0?1:0,1]);{const O=[er(0,0,l.x,l.y,l.z),er(a.X,0,l.x,l.y,l.z),er(a.X,a.X,l.x,l.y,l.z),er(0,a.X,l.x,l.y,l.z)],D=[1,1,1],U=[-1,-1,-1];for(const W of O)for(let $=0;$<3;$++)D[$]=Math.min(D[$],W[$]),U[$]=Math.max(U[$],W[$]);if(l.y===0||l.y===(1<<l.z)-1){const W=[0,l.y===0?1:-1,0];for(let $=0;$<3;$++)D[$]=Math.min(D[$],W[$]),U[$]=Math.max(U[$],W[$])}return new Os(D,U)}}}class $c{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,c,v){return this._helper.interpolatePadding(l,c,v)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,c){this._helper.resize(l,c)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,c){this._helper.overrideNearFarZ(l,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l){}constructor(){this._cachedClippingPlane=a.be(),this._projectionMatrix=a.a_(),this._globeViewProjMatrix32f=a.aZ(),this._globeViewProjMatrixNoCorrection=a.a_(),this._globeViewProjMatrixNoCorrectionInverted=a.a_(),this._globeProjMatrixInverted=a.a_(),this._cameraPosition=a.bf(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Uo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,c)=>this.getConstrained(l,c)}),this._coveringTilesDetailsProvider=new Ma}clone(){const l=new $c;return l.apply(this),l}apply(l,c){this._globeLatitudeErrorCorrectionRadians=c||0,this._helper.apply(l)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const l=a.bf();return l[0]=this._cameraPosition[0],l[1]=this._cameraPosition[1],l[2]=this._cameraPosition[2],l}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(l){const{overscaledTileID:c,applyGlobeMatrix:v}=l,x=this._helper.getMercatorTileCoordinates(c);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:x,clippingPlane:this._cachedClippingPlane,projectionTransition:v?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(l){const c=this.pitchInRadians,v=this.cameraToCenterDistance/l,x=Math.sin(c)*v,O=Math.cos(c)*v+1,D=1/Math.sqrt(x*x+O*O)*1;let U=-x,W=O;const $=Math.sqrt(U*U+W*W);U/=$,W/=$;const ue=[0,U,W];return a.bg(ue,ue,[0,0,0],-this.bearingInRadians),a.bh(ue,ue,[0,0,0],-1*this.center.lat*Math.PI/180),a.bi(ue,ue,[0,0,0],this.center.lng*Math.PI/180),a.aL(ue,ue,.25),[...ue,.25*-D]}isLocationOccluded(l){return!this.isSurfacePointVisible(lr(l))}transformLightDirection(l){const c=this._helper._center.lng*Math.PI/180,v=this._helper._center.lat*Math.PI/180,x=Math.cos(v),O=[Math.sin(c)*x,Math.sin(v),Math.cos(c)*x],D=[O[2],0,-O[0]],U=[0,0,0];a.aR(U,D,O),a.aQ(D,D),a.aQ(U,U);const W=[0,0,0];return a.aQ(W,[D[0]*l[0]+U[0]*l[1]+O[0]*l[2],D[1]*l[0]+U[1]*l[1]+O[1]*l[2],D[2]*l[0]+U[2]*l[1]+O[2]*l[2]]),W}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(l,c,v){const x=function(U,W,$){const ue=1/(1<<$.z);return new a.Y(U/a.X*ue+$.x*ue,W/a.X*ue+$.y*ue)}(l,c,v.canonical),O=(D=x.y,[a.bd(x.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI]);var D;return this.getCircleRadiusCorrection()/Math.cos(O[1])}projectTileCoordinates(l,c,v,x){const O=v.canonical,D=er(l,c,O.x,O.y,O.z),U=1+(x?x(l,c):0)/a.bo,W=[D[0]*U,D[1]*U,D[2]*U,1];a.al(W,W,this._globeViewProjMatrixNoCorrection);const $=this._cachedClippingPlane,ue=$[0]*D[0]+$[1]*D[1]+$[2]*D[2]+$[3]<0;return{point:new a.P(W[0]/W[3],W[1]/W[3]),signedDistanceFromCamera:W[3],isOccluded:ue}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const l=ri(this.worldSize,this.center.lat),c=a.a$(),v=a.a$();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*l),a.aV(c,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const x=this.centerOffset;c[8]=2*-x.x/this._helper._width,c[9]=2*x.y/this._helper._height,this._projectionMatrix=a.aW(c),this._globeProjMatrixInverted=a.a$(),a.an(this._globeProjMatrixInverted,c),a.J(c,c,[0,0,-this.cameraToCenterDistance]),a.aX(c,c,this.rollInRadians),a.aY(c,c,-this.pitchInRadians),a.aX(c,c,this.bearingInRadians),a.J(c,c,[0,0,-l]);const O=a.bf();O[0]=l,O[1]=l,O[2]=l,a.aY(v,c,this.center.lat*Math.PI/180),a.bj(v,v,-this.center.lng*Math.PI/180),a.K(v,v,O),this._globeViewProjMatrixNoCorrection=v,a.aY(c,c,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bj(c,c,-this.center.lng*Math.PI/180),a.K(c,c,O),this._globeViewProjMatrix32f=new Float32Array(c),this._globeViewProjMatrixNoCorrectionInverted=a.a$(),a.an(this._globeViewProjMatrixNoCorrectionInverted,v);const D=a.bf();this._cameraPosition=a.bf(),this._cameraPosition[2]=this.cameraToCenterDistance/l,a.bg(this._cameraPosition,this._cameraPosition,D,-this.rollInRadians),a.bh(this._cameraPosition,this._cameraPosition,D,this.pitchInRadians),a.bg(this._cameraPosition,this._cameraPosition,D,-this.bearingInRadians),a.aM(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bh(this._cameraPosition,this._cameraPosition,D,-this.center.lat*Math.PI/180),a.bi(this._cameraPosition,this._cameraPosition,D,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(l);const U=a.aW(this._globeViewProjMatrixNoCorrectionInverted);a.K(U,U,[1,1,-1]),this._cachedFrustum=wa.fromInvProjectionMatrix(U)}calculateFogMatrix(l){a.w("calculateFogMatrix is not supported on globe projection.");const c=a.a$();return a.aq(c),c}getVisibleUnwrappedCoordinates(l){return[new a.aT(0,l)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){l&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,c){if(!this._globeViewProjMatrixNoCorrection)return 1;const v=lr(l);a.aL(v,v,1+c/a.bo);const x=a.be();return a.al(x,[v[0],v[1],v[2],1],this._globeViewProjMatrixNoCorrection),x[2]/x[3]}populateCache(l){}getBounds(){const l=.5*this.width,c=.5*this.height,v=[new a.P(0,0),new a.P(l,0),new a.P(this.width,0),new a.P(this.width,c),new a.P(this.width,this.height),new a.P(l,this.height),new a.P(0,this.height),new a.P(0,c)],x=[];for(const fe of v)x.push(this.unprojectScreenPoint(fe));let O=0,D=0,U=0,W=0;const $=this.center;for(const fe of x){const me=a.bk($.lng,fe.lng),Ie=a.bk($.lat,fe.lat);me<D&&(D=me),me>O&&(O=me),Ie<W&&(W=Ie),Ie>U&&(U=Ie)}const ue=[$.lng+D,$.lat+W,$.lng+O,$.lat+U];return this.isSurfacePointOnScreen([0,1,0])&&(ue[3]=90,ue[0]=-180,ue[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(ue[1]=-90,ue[0]=-180,ue[2]=180),new Bt(ue)}getConstrained(l,c){const v=a.ab(l.lat,-85.051129,a.aF),x=a.ab(+c,this.minZoom+Er(0,v),this.maxZoom);return{center:new a.N(l.lng,v),zoom:x}}calculateCenterFromCameraLngLatAlt(l,c,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(l,c,v,x)}setLocationAtPoint(l,c){const v=lr(this.unprojectScreenPoint(c)),x=lr(l),O=a.bf();a.bl(O);const D=a.bf();a.bi(D,v,O,-this.center.lng*Math.PI/180),a.bh(D,D,O,this.center.lat*Math.PI/180);const U=x[0]*x[0]+x[2]*x[2],W=D[0]*D[0];if(U<W)return;const $=Math.sqrt(U-W),ue=-$,fe=a.bm(x[0],x[2],D[0],$),me=a.bm(x[0],x[2],D[0],ue),Ie=a.bf();a.bi(Ie,x,O,-fe);const De=a.bm(Ie[1],Ie[2],D[1],D[2]),He=a.bf();a.bi(He,x,O,-me);const Ve=a.bm(He[1],He[2],D[1],D[2]),Ze=.5*Math.PI,et=De>=-Ze&&De<=Ze,ct=Ve>=-Ze&&Ve<=Ze;let mt,vt;if(et&&ct){const Ft=this.center.lng*Math.PI/180,ln=this.center.lat*Math.PI/180;a.bp(fe,Ft)+a.bp(De,ln)<a.bp(me,Ft)+a.bp(Ve,ln)?(mt=fe,vt=De):(mt=me,vt=Ve)}else if(et)mt=fe,vt=De;else{if(!ct)return;mt=me,vt=Ve}const Et=mt/Math.PI*180,xt=vt/Math.PI*180,zt=this.center.lat;this.setCenter(new a.N(Et,a.ab(xt,-90,90))),this.setZoom(this.zoom+Er(zt,this.center.lat))}locationToScreenPoint(l,c){const v=lr(l);if(c){const x=c.getElevationForLngLatZoom(l,this._helper._tileZoom);a.aL(v,v,1+x/a.bo)}return this._projectSurfacePointToScreen(v)}_projectSurfacePointToScreen(l){const c=a.be();return a.al(c,[...l,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],new a.P((.5*c[0]+.5)*this.width,(.5*-c[1]+.5)*this.height)}screenPointToMercatorCoordinate(l,c){if(c){const v=c.pointCoordinate(l);if(v)return v}return a.Y.fromLngLat(this.unprojectScreenPoint(l))}screenPointToLocation(l,c){var v;return(v=this.screenPointToMercatorCoordinate(l,c))===null||v===void 0?void 0:v.toLngLat()}isPointOnMapSurface(l,c){const v=this._cameraPosition,x=this.getRayDirectionFromPixel(l);return!!this.rayPlanetIntersection(v,x)}getRayDirectionFromPixel(l){const c=a.be();c[0]=l.x/this.width*2-1,c[1]=-1*(l.y/this.height*2-1),c[2]=1,c[3]=1,a.al(c,c,this._globeViewProjMatrixNoCorrectionInverted),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3];const v=a.bf();v[0]=c[0]-this._cameraPosition[0],v[1]=c[1]-this._cameraPosition[1],v[2]=c[2]-this._cameraPosition[2];const x=a.bf();return a.aQ(x,v),x}isSurfacePointVisible(l){const c=this._cachedClippingPlane;return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]>=0}isSurfacePointOnScreen(l){if(!this.isSurfacePointVisible(l))return!1;const c=a.be();return a.al(c,[...l,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],c[0]>-1&&c[0]<1&&c[1]>-1&&c[1]<1&&c[2]>-1&&c[2]<1}rayPlanetIntersection(l,c){const v=a.aS(l,c),x=a.bf(),O=a.bf();a.aL(O,c,v),a.aP(x,l,O);const D=1-a.aS(x,x);if(D<0)return null;const U=a.aS(l,l)-1,W=-v+(v<0?1:-1)*Math.sqrt(D),$=U/W,ue=W;return{tMin:Math.min($,ue),tMax:Math.max($,ue)}}unprojectScreenPoint(l){const c=this._cameraPosition,v=this.getRayDirectionFromPixel(l),x=this.rayPlanetIntersection(c,v);if(x){const $=a.bf();a.aM($,c,[v[0]*x.tMin,v[1]*x.tMin,v[2]*x.tMin]);const ue=a.bf();return a.aQ(ue,$),lo(ue)}const O=this._cachedClippingPlane[0]*v[0]+this._cachedClippingPlane[1]*v[1]+this._cachedClippingPlane[2]*v[2],D=-a.bn(this._cachedClippingPlane,c)/O,U=a.bf();if(D>0)a.aM(U,c,[v[0]*D,v[1]*D,v[2]*D]);else{const $=a.bf();a.aM($,c,[2*v[0],2*v[1],2*v[2]]);const ue=a.bn(this._cachedClippingPlane,$);a.aP(U,$,[this._cachedClippingPlane[0]*ue,this._cachedClippingPlane[1]*ue,this._cachedClippingPlane[2]*ue])}const W=a.bf();return a.aQ(W,U),lo(W)}getMatrixForModel(l,c){const v=a.N.convert(l),x=1/a.bo,O=a.a_();return a.bj(O,O,v.lng/180*Math.PI),a.aY(O,O,-v.lat/180*Math.PI),a.J(O,O,[0,0,1+c/a.bo]),a.aY(O,O,.5*Math.PI),a.K(O,O,[x,x,x]),O}getProjectionDataForCustomLayer(l=!0){const c=this.getProjectionData({overscaledTileID:new a.S(0,0,0,0,0),applyGlobeMatrix:l});return c.tileMercatorCoords=[0,0,1,1],c}getFastPathSimpleProjectionMatrix(l){}}class Us{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,c,v){return this._helper.interpolatePadding(l,c,v)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,c,v=!0){this._helper.resize(l,c,v)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,c){this._helper.overrideNearFarZ(l,c)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(l,c){this._globeness=l,this._globeLatitudeErrorCorrectionRadians=c,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Uo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,c)=>this.getConstrained(l,c)}),this._globeness=1,this._mercatorTransform=new ya,this._verticalPerspectiveTransform=new $c}clone(){const l=new Us;return l._globeness=this._globeness,l._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,l.apply(this),l}apply(l){this._helper.apply(l),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(l){const c=this._mercatorTransform.getProjectionData(l),v=this._verticalPerspectiveTransform.getProjectionData(l);return{mainMatrix:this.isGlobeRendering?v.mainMatrix:c.mainMatrix,clippingPlane:v.clippingPlane,tileMercatorCoords:v.tileMercatorCoords,projectionTransition:l.applyGlobeMatrix?this._globeness:0,fallbackMatrix:c.fallbackMatrix}}isLocationOccluded(l){return this.currentTransform.isLocationOccluded(l)}transformLightDirection(l){return this.currentTransform.transformLightDirection(l)}getPixelScale(){return a.b9(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.b9(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(l,c,v){const x=this._mercatorTransform.getPitchedTextCorrection(l,c,v),O=this._verticalPerspectiveTransform.getPitchedTextCorrection(l,c,v);return a.b9(x,O,this._globeness)}projectTileCoordinates(l,c,v,x){return this.currentTransform.projectTileCoordinates(l,c,v,x)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(l){return this.currentTransform.calculateFogMatrix(l)}getVisibleUnwrappedCoordinates(l){return this.currentTransform.getVisibleUnwrappedCoordinates(l)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(l){this._mercatorTransform.recalculateZoomAndCenter(l),this._verticalPerspectiveTransform.recalculateZoomAndCenter(l)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,c){return this.currentTransform.lngLatToCameraDepth(l,c)}populateCache(l){this._mercatorTransform.populateCache(l),this._verticalPerspectiveTransform.populateCache(l)}getBounds(){return this.currentTransform.getBounds()}getConstrained(l,c){return this.currentTransform.getConstrained(l,c)}calculateCenterFromCameraLngLatAlt(l,c,v,x){return this._helper.calculateCenterFromCameraLngLatAlt(l,c,v,x)}setLocationAtPoint(l,c){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(l,c),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(l,c),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(l,c){return this.currentTransform.locationToScreenPoint(l,c)}screenPointToMercatorCoordinate(l,c){return this.currentTransform.screenPointToMercatorCoordinate(l,c)}screenPointToLocation(l,c){return this.currentTransform.screenPointToLocation(l,c)}isPointOnMapSurface(l,c){return this.currentTransform.isPointOnMapSurface(l,c)}getRayDirectionFromPixel(l){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(l)}getMatrixForModel(l,c){return this.currentTransform.getMatrixForModel(l,c)}getProjectionDataForCustomLayer(l=!0){const c=this._mercatorTransform.getProjectionDataForCustomLayer(l);if(!this.isGlobeRendering)return c;const v=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(l);return v.fallbackMatrix=c.mainMatrix,v}getFastPathSimpleProjectionMatrix(l){return this.currentTransform.getFastPathSimpleProjectionMatrix(l)}}class _l{get useGlobeControls(){return!0}handlePanInertia(l,c){const v=Li(l,c);return Math.abs(v.lng-c.center.lng)>180&&(v.lng=c.center.lng+179.5*Math.sign(v.lng-c.center.lng)),{easingCenter:v,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(l,c){const v=l.around,x=c.screenPointToLocation(v);l.bearingDelta&&c.setBearing(c.bearing+l.bearingDelta),l.pitchDelta&&c.setPitch(c.pitch+l.pitchDelta),l.rollDelta&&c.setRoll(c.roll+l.rollDelta);const O=c.zoom;l.zoomDelta&&c.setZoom(c.zoom+l.zoomDelta);const D=c.zoom-O;if(D===0)return;const U=a.bk(c.center.lng,x.lng),W=U/(Math.abs(U/180)+1),$=a.bk(c.center.lat,x.lat),ue=c.getRayDirectionFromPixel(v),fe=c.cameraPosition,me=-1*a.aS(fe,ue),Ie=a.bf();a.aM(Ie,fe,[ue[0]*me,ue[1]*me,ue[2]*me]);const De=a.bq(Ie)-1,He=Math.exp(.5*-Math.max(De-.3,0)),Ve=ri(c.worldSize,c.center.lat)/Math.min(c.width,c.height),Ze=a.bc(Ve,.9,.5,1,.25),et=(1-a.aG(-D))*Math.min(He,Ze),ct=c.center.lat,mt=c.zoom,vt=new a.N(c.center.lng+W*et,a.ab(c.center.lat+$*et,-85.051129,a.aF));c.setLocationAtPoint(x,v);const Et=c.center,xt=a.bc(Math.abs(U),45,85,0,1),zt=a.bc(Ve,.75,.35,0,1),Ft=Math.pow(Math.max(xt,zt),.25),ln=a.bk(Et.lng,vt.lng),An=a.bk(Et.lat,vt.lat);c.setCenter(new a.N(Et.lng+ln*Ft,Et.lat+An*Ft).wrap()),c.setZoom(mt+Er(ct,c.center.lat))}handleMapControlsPan(l,c,v){if(!l.panDelta)return;const x=c.center.lat,O=c.zoom;c.setCenter(Li(l.panDelta,c).wrap()),c.setZoom(O+Er(x,c.center.lat))}cameraForBoxAndBearing(l,c,v,x,O){const D=Rs(l,c,v,x,O),U=c.left/O.width*2-1,W=(O.width-c.right)/O.width*2-1,$=c.top/O.height*-2+1,ue=(O.height-c.bottom)/O.height*-2+1,fe=a.bk(v.getWest(),v.getEast())<0,me=fe?v.getEast():v.getWest(),Ie=fe?v.getWest():v.getEast(),De=Math.max(v.getNorth(),v.getSouth()),He=Math.min(v.getNorth(),v.getSouth()),Ve=me+.5*a.bk(me,Ie),Ze=De+.5*a.bk(De,He),et=O.clone();et.setCenter(D.center),et.setBearing(D.bearing),et.setPitch(0),et.setRoll(0),et.setZoom(D.zoom);const ct=et.modelViewProjectionMatrix,mt=[lr(v.getNorthWest()),lr(v.getNorthEast()),lr(v.getSouthWest()),lr(v.getSouthEast()),lr(new a.N(Ie,Ze)),lr(new a.N(me,Ze)),lr(new a.N(Ve,De)),lr(new a.N(Ve,He))],vt=lr(D.center);let Et=Number.POSITIVE_INFINITY;for(const xt of mt)U<0&&(Et=_l.getLesserNonNegativeNonNull(Et,_l.solveVectorScale(xt,vt,ct,"x",U))),W>0&&(Et=_l.getLesserNonNegativeNonNull(Et,_l.solveVectorScale(xt,vt,ct,"x",W))),$>0&&(Et=_l.getLesserNonNegativeNonNull(Et,_l.solveVectorScale(xt,vt,ct,"y",$))),ue<0&&(Et=_l.getLesserNonNegativeNonNull(Et,_l.solveVectorScale(xt,vt,ct,"y",ue)));if(Number.isFinite(Et)&&Et!==0)return D.zoom=et.zoom+a.a8(Et),D;yl()}handleJumpToCenterZoom(l,c){const v=l.center.lat,x=l.getConstrained(c.center?a.N.convert(c.center):l.center,l.zoom).center;l.setCenter(x.wrap());const O=c.zoom!==void 0?+c.zoom:l.zoom+Er(v,x.lat);l.zoom!==O&&l.setZoom(O)}handleEaseTo(l,c){const v=l.zoom,x=l.center,O=l.padding,D={roll:l.roll,pitch:l.pitch,bearing:l.bearing},U={roll:c.roll===void 0?l.roll:c.roll,pitch:c.pitch===void 0?l.pitch:c.pitch,bearing:c.bearing===void 0?l.bearing:c.bearing},W=c.zoom!==void 0,$=!l.isPaddingEqual(c.padding);let ue=!1;const fe=c.center?a.N.convert(c.center):x,me=l.getConstrained(fe,v).center;tu(l,me);const Ie=l.clone();Ie.setCenter(me),Ie.setZoom(W?+c.zoom:v+Er(x.lat,fe.lat)),Ie.setBearing(c.bearing);const De=new a.P(a.ab(l.centerPoint.x+c.offsetAsPoint.x,0,l.width),a.ab(l.centerPoint.y+c.offsetAsPoint.y,0,l.height));Ie.setLocationAtPoint(me,De);const He=(c.offset&&c.offsetAsPoint.mag())>0?Ie.center:me,Ve=W?+c.zoom:v+Er(x.lat,He.lat),Ze=v+Er(x.lat,0),et=Ve+Er(He.lat,0),ct=a.bk(x.lng,He.lng),mt=a.bk(x.lat,He.lat),vt=a.aG(et-Ze);return ue=Ve!==v,{easeFunc:Et=>{if(a.b3(D,U)||qa({startEulerAngles:D,endEulerAngles:U,tr:l,k:Et,useSlerp:D.roll!=U.roll}),$&&l.interpolatePadding(O,c.padding,Et),c.around)a.w("Easing around a point is not supported under globe projection."),l.setLocationAtPoint(c.around,c.aroundPoint);else{const xt=et>Ze?Math.min(2,vt):Math.max(.5,vt),zt=Math.pow(xt,1-Et),Ft=ia(x,ct,mt,Et*zt);l.setCenter(Ft.wrap())}if(ue){const xt=a.y.number(Ze,et,Et)+Er(0,l.center.lat);l.setZoom(xt)}},isZooming:ue,elevationCenter:He}}handleFlyTo(l,c){const v=c.zoom!==void 0,x=l.center,O=l.zoom,D=!l.isPaddingEqual(c.padding),U=l.getConstrained(a.N.convert(c.center||c.locationAtOffset),O).center,W=v?+c.zoom:l.zoom+Er(l.center.lat,U.lat),$=l.clone();$.setCenter(U),D&&$.setPadding(c.padding),$.setZoom(W),$.setBearing(c.bearing);const ue=new a.P(a.ab(l.centerPoint.x+c.offsetAsPoint.x,0,l.width),a.ab(l.centerPoint.y+c.offsetAsPoint.y,0,l.height));$.setLocationAtPoint(U,ue);const fe=$.center;tu(l,fe);const me=function(ct,mt,vt){const Et=lr(mt),xt=lr(vt),zt=a.aS(Et,xt),Ft=Math.acos(zt),ln=Vr(ct);return Ft/(2*Math.PI)*ln}(l,x,fe),Ie=O+Er(x.lat,0),De=W+Er(fe.lat,0),He=a.aG(De-Ie);let Ve;if(typeof c.minZoom=="number"){const ct=+c.minZoom+Er(fe.lat,0),mt=Math.min(ct,Ie,De)+Er(0,fe.lat),vt=l.getConstrained(fe,mt).zoom+Er(fe.lat,0);Ve=a.aG(vt-Ie)}const Ze=a.bk(x.lng,fe.lng),et=a.bk(x.lat,fe.lat);return{easeFunc:(ct,mt,vt,Et)=>{const xt=ia(x,Ze,et,vt),zt=ct===1?fe:xt;l.setCenter(zt.wrap());const Ft=Ie+a.a8(mt);l.setZoom(ct===1?W:Ft+Er(0,zt.lat))},scaleOfZoom:He,targetCenter:fe,scaleOfMinZoom:Ve,pixelPathLength:me}}static solveVectorScale(l,c,v,x,O){const D=x==="x"?[v[0],v[4],v[8],v[12]]:[v[1],v[5],v[9],v[13]],U=[v[3],v[7],v[11],v[15]],W=l[0]*D[0]+l[1]*D[1]+l[2]*D[2],$=l[0]*U[0]+l[1]*U[1]+l[2]*U[2],ue=c[0]*D[0]+c[1]*D[1]+c[2]*D[2],fe=c[0]*U[0]+c[1]*U[1]+c[2]*U[2];return ue+O*$===W+O*fe||U[3]*(W-ue)+D[3]*(fe-$)+W*fe==ue*$?null:(ue+D[3]-O*fe-O*U[3])/(ue-W-O*fe+O*$)}static getLesserNonNegativeNonNull(l,c){return c!==null&&c>=0&&c<l?c:l}}class kh{constructor(l){this._globe=l,this._mercatorCameraHelper=new Vu,this._verticalPerspectiveCameraHelper=new _l}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(l,c){return this.currentHelper.handlePanInertia(l,c)}handleMapControlsRollPitchBearingZoom(l,c){return this.currentHelper.handleMapControlsRollPitchBearingZoom(l,c)}handleMapControlsPan(l,c,v){this.currentHelper.handleMapControlsPan(l,c,v)}cameraForBoxAndBearing(l,c,v,x,O){return this.currentHelper.cameraForBoxAndBearing(l,c,v,x,O)}handleJumpToCenterZoom(l,c){this.currentHelper.handleJumpToCenterZoom(l,c)}handleEaseTo(l,c){return this.currentHelper.handleEaseTo(l,c)}handleFlyTo(l,c){return this.currentHelper.handleFlyTo(l,c)}}const nu=(S,l)=>a.t(S,l&&l.filter(c=>c.identifier!=="source.canvas")),ru=a.br();class vd extends a.E{constructor(l,c={}){super(),this._rtlPluginLoaded=()=>{for(const v in this.sourceCaches){const x=this.sourceCaches[v].getSource().type;x!=="vector"&&x!=="geojson"||this.sourceCaches[v].reload()}},this.map=l,this.dispatcher=new Nt(Xt(),l._getMapId()),this.dispatcher.registerMessageHandler("GG",(v,x)=>this.getGlyphs(v,x)),this.dispatcher.registerMessageHandler("GI",(v,x)=>this.getImages(v,x)),this.imageManager=new _e,this.imageManager.setEventedParent(this),this.glyphManager=new Ye(l._requestManager,c.localIdeographFontFamily),this.lineAtlas=new $e(256,512),this.crossTileSymbolIndex=new Wo,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.bs,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",a.bt()),te().on(_r,this._rtlPluginLoaded),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const x=this.sourceCaches[v.sourceId];if(!x)return;const O=x.getSource();if(O&&O.vectorLayerIds)for(const D in this._layers){const U=this._layers[D];U.source===O.id&&this._validateLayer(U)}})}loadURL(l,c={},v){this.fire(new a.k("dataloading",{dataType:"style"})),c.validate=typeof c.validate!="boolean"||c.validate;const x=this.map._requestManager.transformRequest(l,"Style");this._loadStyleRequest=new AbortController;const O=this._loadStyleRequest;a.h(x,this._loadStyleRequest).then(D=>{this._loadStyleRequest=null,this._load(D.data,c,v)}).catch(D=>{this._loadStyleRequest=null,D&&!O.signal.aborted&&this.fire(new a.j(D))})}loadJSON(l,c={},v){this.fire(new a.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,I.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,c.validate=c.validate!==!1,this._load(l,c,v)}).catch(()=>{})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(ru,{validate:!1})}_load(l,c,v){var x,O;const D=c.transformStyle?c.transformStyle(v,l):l;if(!c.validate||!nu(this,a.u(D))){this._loaded=!0,this.stylesheet=D;for(const U in D.sources)this.addSource(U,D.sources[U],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new wt(this.stylesheet.light),this._setProjectionInternal(((x=this.stylesheet.projection)===null||x===void 0?void 0:x.type)||"mercator"),this.sky=new bt(this.stylesheet.sky),this.map.setTerrain((O=this.stylesheet.terrain)!==null&&O!==void 0?O:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const l=a.bu(this.stylesheet.layers);this.dispatcher.broadcast("SL",l),this._order=l.map(c=>c.id),this._layers={},this._serializedLayers=null;for(const c of l){const v=a.bv(c);v.setEventedParent(this,{layer:{id:c.id}}),this._layers[c.id]=v}}_loadSprite(l,c=!1,v=void 0){let x;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(O,D,U,W){return a._(this,void 0,void 0,function*(){const $=Ae(O),ue=U>1?"@2x":"",fe={},me={};for(const{id:Ie,url:De}of $){const He=D.transformRequest(V(De,ue,".json"),"SpriteJSON");fe[Ie]=a.h(He,W);const Ve=D.transformRequest(V(De,ue,".png"),"SpriteImage");me[Ie]=ne.getImage(Ve,W)}return yield Promise.all([...Object.values(fe),...Object.values(me)]),function(Ie,De){return a._(this,void 0,void 0,function*(){const He={};for(const Ve in Ie){He[Ve]={};const Ze=I.getImageCanvasContext((yield De[Ve]).data),et=(yield Ie[Ve]).data;for(const ct in et){const{width:mt,height:vt,x:Et,y:xt,sdf:zt,pixelRatio:Ft,stretchX:ln,stretchY:An,content:on,textFitWidth:fn,textFitHeight:Un}=et[ct];He[Ve][ct]={data:null,pixelRatio:Ft,sdf:zt,stretchX:ln,stretchY:An,content:on,textFitWidth:fn,textFitHeight:Un,spriteData:{width:mt,height:vt,x:Et,y:xt,context:Ze}}}}return He})}(fe,me)})}(l,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(O=>{if(this._spriteRequest=null,O)for(const D in O){this._spritesImagesIds[D]=[];const U=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(W=>!(W in O)):[];for(const W of U)this.imageManager.removeImage(W),this._changedImages[W]=!0;for(const W in O[D]){const $=D==="default"?W:`${D}:${W}`;this._spritesImagesIds[D].push($),$ in this.imageManager.images?this.imageManager.updateImage($,O[D][W],!1):this.imageManager.addImage($,O[D][W]),c&&(this._changedImages[$]=!0)}}}).catch(O=>{this._spriteRequest=null,x=O,this.fire(new a.j(x))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),c&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),v&&v(x)})}_unloadSprite(){for(const l of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(l),this._changedImages[l]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(l){const c=this.sourceCaches[l.source];if(!c)return;const v=l.sourceLayer;if(!v)return;const x=c.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.j(new Error(`Source layer "${v}" does not exist on source "${x.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(l,c=!1){const v=this._serializedAllLayers();if(!l||l.length===0)return Object.values(c?a.bw(v):v);const x=[];for(const O of l)if(v[O]){const D=c?a.bw(v[O]):v[O];x.push(D)}return x}_serializedAllLayers(){let l=this._serializedLayers;if(l)return l;l=this._serializedLayers={};const c=Object.keys(this._layers);for(const v of c){const x=this._layers[v];x.type!=="custom"&&(l[v]=x.serialize())}return l}hasTransitions(){var l,c,v;if(!((l=this.light)===null||l===void 0)&&l.hasTransition()||!((c=this.sky)===null||c===void 0)&&c.hasTransition()||!((v=this.projection)===null||v===void 0)&&v.hasTransition())return!0;for(const x in this.sourceCaches)if(this.sourceCaches[x].hasTransition())return!0;for(const x in this._layers)if(this._layers[x].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const c=this._changed;if(c){const x=Object.keys(this._updatedLayers),O=Object.keys(this._removedLayers);(x.length||O.length)&&this._updateWorkerLayers(x,O);for(const D in this._updatedSources){const U=this._updatedSources[D];if(U==="reload")this._reloadSource(D);else{if(U!=="clear")throw new Error(`Invalid action ${U}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this.sky.updateTransitions(l),this._resetUpdates()}const v={};for(const x in this.sourceCaches){const O=this.sourceCaches[x];v[x]=O.used,O.used=!1}for(const x of this._order){const O=this._layers[x];O.recalculate(l,this._availableImages),!O.isHidden(l.zoom)&&O.source&&(this.sourceCaches[O.source].used=!0)}for(const x in v){const O=this.sourceCaches[x];!!v[x]!=!!O.used&&O.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:x}))}this.light.recalculate(l),this.sky.recalculate(l),this.projection.recalculate(l),this.z=l.zoom,c&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(l,c){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(l,!1),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(l,c={}){var v;this._checkLoaded();const x=this.serialize();if(l=c.transformStyle?c.transformStyle(x,l):l,((v=c.validate)===null||v===void 0||v)&&nu(this,a.u(l)))return!1;(l=a.bw(l)).layers=a.bu(l.layers);const O=a.bx(x,l),D=this._getOperationsToPerform(O);if(D.unimplemented.length>0)throw new Error(`Unimplemented: ${D.unimplemented.join(", ")}.`);if(D.operations.length===0)return!1;for(const U of D.operations)U();return this.stylesheet=l,this._serializedLayers=null,!0}_getOperationsToPerform(l){const c=[],v=[];for(const x of l)switch(x.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":c.push(()=>this.addLayer.apply(this,x.args));break;case"removeLayer":c.push(()=>this.removeLayer.apply(this,x.args));break;case"setPaintProperty":c.push(()=>this.setPaintProperty.apply(this,x.args));break;case"setLayoutProperty":c.push(()=>this.setLayoutProperty.apply(this,x.args));break;case"setFilter":c.push(()=>this.setFilter.apply(this,x.args));break;case"addSource":c.push(()=>this.addSource.apply(this,x.args));break;case"removeSource":c.push(()=>this.removeSource.apply(this,x.args));break;case"setLayerZoomRange":c.push(()=>this.setLayerZoomRange.apply(this,x.args));break;case"setLight":c.push(()=>this.setLight.apply(this,x.args));break;case"setGeoJSONSourceData":c.push(()=>this.setGeoJSONSourceData.apply(this,x.args));break;case"setGlyphs":c.push(()=>this.setGlyphs.apply(this,x.args));break;case"setSprite":c.push(()=>this.setSprite.apply(this,x.args));break;case"setTerrain":c.push(()=>this.map.setTerrain.apply(this,x.args));break;case"setSky":c.push(()=>this.setSky.apply(this,x.args));break;case"setProjection":this.setProjection.apply(this,x.args);break;case"setTransition":c.push(()=>{});break;default:v.push(x.command)}return{operations:c,unimplemented:v}}addImage(l,c){if(this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,c),this._afterImageUpdated(l)}updateImage(l,c){this.imageManager.updateImage(l,c)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,c,v={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(a.u.source,`sources.${l}`,c,null,v))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const x=this.sourceCaches[l]=new Ee(l,c,this.dispatcher);x.style=this,x.setEventedParent(this,()=>({isSourceLoaded:x.loaded(),source:x.serialize(),sourceId:l})),x.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===l)return this.fire(new a.j(new Error(`Source "${l}" cannot be removed while layer "${v}" is using it.`)));const c=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],c.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,c){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const v=this.sourceCaches[l].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(c),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,c,v={}){this._checkLoaded();const x=l.id;if(this.getLayer(x))return void this.fire(new a.j(new Error(`Layer "${x}" already exists on this map.`)));let O;if(l.type==="custom"){if(nu(this,a.by(l)))return;O=a.bv(l)}else{if("source"in l&&typeof l.source=="object"&&(this.addSource(x,l.source),l=a.bw(l),l=a.e(l,{source:x})),this._validate(a.u.layer,`layers.${x}`,l,{arrayIndex:-1},v))return;O=a.bv(l),this._validateLayer(O),O.setEventedParent(this,{layer:{id:x}})}const D=c?this._order.indexOf(c):this._order.length;if(c&&D===-1)this.fire(new a.j(new Error(`Cannot add layer "${x}" before non-existing layer "${c}".`)));else{if(this._order.splice(D,0,x),this._layerOrderChanged=!0,this._layers[x]=O,this._removedLayers[x]&&O.source&&O.type!=="custom"){const U=this._removedLayers[x];delete this._removedLayers[x],U.type!==O.type?this._updatedSources[O.source]="clear":(this._updatedSources[O.source]="reload",this.sourceCaches[O.source].pause())}this._updateLayer(O),O.onAdd&&O.onAdd(this.map)}}moveLayer(l,c){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new a.j(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===c)return;const v=this._order.indexOf(l);this._order.splice(v,1);const x=c?this._order.indexOf(c):this._order.length;c&&x===-1?this.fire(new a.j(new Error(`Cannot move layer "${l}" before non-existing layer "${c}".`))):(this._order.splice(x,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const c=this._layers[l];if(!c)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${l}".`)));c.setEventedParent(null);const v=this._order.indexOf(l);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=c,delete this._layers[l],this._serializedLayers&&delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],c.onRemove&&c.onRemove(this.map)}getLayer(l){return this._layers[l]}getLayersOrder(){return[...this._order]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,c,v){this._checkLoaded();const x=this.getLayer(l);x?x.minzoom===c&&x.maxzoom===v||(c!=null&&(x.minzoom=c),v!=null&&(x.maxzoom=v),this._updateLayer(x)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,c,v={}){this._checkLoaded();const x=this.getLayer(l);if(x){if(!a.bz(x.filter,c))return c==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(a.u.filter,`layers.${x.id}.filter`,c,null,v)||(x.filter=a.bw(c),this._updateLayer(x)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return a.bw(this.getLayer(l).filter)}setLayoutProperty(l,c,v,x={}){this._checkLoaded();const O=this.getLayer(l);O?a.bz(O.getLayoutProperty(c),v)||(O.setLayoutProperty(c,v,x),this._updateLayer(O)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,c){const v=this.getLayer(l);if(v)return v.getLayoutProperty(c);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,c,v,x={}){this._checkLoaded();const O=this.getLayer(l);O?a.bz(O.getPaintProperty(c),v)||(O.setPaintProperty(c,v,x)&&this._updateLayer(O),this._changed=!0,this._updatedPaintProps[l]=!0,this._serializedLayers=null):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,c){return this.getLayer(l).getPaintProperty(c)}setFeatureState(l,c){this._checkLoaded();const v=l.source,x=l.sourceLayer,O=this.sourceCaches[v];if(O===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const D=O.getSource().type;D==="geojson"&&x?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||x?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),O.setFeatureState(x,l.id,c)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,c){this._checkLoaded();const v=l.source,x=this.sourceCaches[v];if(x===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const O=x.getSource().type,D=O==="vector"?l.sourceLayer:void 0;O!=="vector"||D?c&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(D,l.id,c):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const c=l.source,v=l.sourceLayer,x=this.sourceCaches[c];if(x!==void 0)return x.getSource().type!=="vector"||v?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),x.getFeatureState(v,l.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const l=a.bA(this.sourceCaches,O=>O.serialize()),c=this._serializeByIds(this._order,!0),v=this.map.getTerrain()||void 0,x=this.stylesheet;return a.bB({version:x.version,name:x.name,metadata:x.metadata,light:x.light,sky:x.sky,center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch,sprite:x.sprite,glyphs:x.glyphs,transition:x.transition,projection:x.projection,sources:l,layers:c,terrain:v},O=>O!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(l){const c=D=>this._layers[D].type==="fill-extrusion",v={},x=[];for(let D=this._order.length-1;D>=0;D--){const U=this._order[D];if(c(U)){v[U]=D;for(const W of l){const $=W[U];if($)for(const ue of $)x.push(ue)}}}x.sort((D,U)=>U.intersectionZ-D.intersectionZ);const O=[];for(let D=this._order.length-1;D>=0;D--){const U=this._order[D];if(c(U))for(let W=x.length-1;W>=0;W--){const $=x[W].feature;if(v[$.layer.id]<D)break;O.push($),x.pop()}else for(const W of l){const $=W[U];if($)for(const ue of $)O.push(ue.feature)}}return O}queryRenderedFeatures(l,c,v){c&&c.filter&&this._validate(a.u.filter,"queryRenderedFeatures.filter",c.filter,null,c);const x={};if(c&&c.layers){if(!(Array.isArray(c.layers)||c.layers instanceof Set))return this.fire(new a.j(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const $ of c.layers){const ue=this._layers[$];if(!ue)return this.fire(new a.j(new Error(`The layer '${$}' does not exist in the map's style and cannot be queried for features.`))),[];x[ue.source]=!0}}const O=[];c.availableImages=this._availableImages;const D=this._serializedAllLayers(),U=c.layers instanceof Set?c.layers:Array.isArray(c.layers)?new Set(c.layers):null,W=Object.assign(Object.assign({},c),{layers:U});for(const $ in this.sourceCaches)c.layers&&!x[$]||O.push(ke(this.sourceCaches[$],this._layers,D,l,W,v));return this.placement&&O.push(function($,ue,fe,me,Ie,De,He){const Ve={},Ze=De.queryRenderedSymbols(me),et=[];for(const ct of Object.keys(Ze).map(Number))et.push(He[ct]);et.sort(Ge);for(const ct of et){const mt=ct.featureIndex.lookupSymbolFeatures(Ze[ct.bucketInstanceId],ue,ct.bucketIndex,ct.sourceLayerIndex,Ie.filter,Ie.layers,Ie.availableImages,$);for(const vt in mt){const Et=Ve[vt]=Ve[vt]||[],xt=mt[vt];xt.sort((zt,Ft)=>{const ln=ct.featureSortOrder;if(ln){const An=ln.indexOf(zt.featureIndex);return ln.indexOf(Ft.featureIndex)-An}return Ft.featureIndex-zt.featureIndex});for(const zt of xt)Et.push(zt)}}return function(ct,mt,vt){for(const Et in ct)for(const xt of ct[Et])st(xt,vt[mt[Et].source]);return ct}(Ve,$,fe)}(this._layers,D,this.sourceCaches,l,W,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(O)}querySourceFeatures(l,c){c&&c.filter&&this._validate(a.u.filter,"querySourceFeatures.filter",c.filter,null,c);const v=this.sourceCaches[l];return v?function(x,O){const D=x.getRenderableIds().map($=>x.getTileByID($)),U=[],W={};for(let $=0;$<D.length;$++){const ue=D[$],fe=ue.tileID.canonical.key;W[fe]||(W[fe]=!0,ue.querySourceFeatures(U,O))}return U}(v,c):[]}getLight(){return this.light.getLight()}setLight(l,c={}){this._checkLoaded();const v=this.light.getLight();let x=!1;for(const D in l)if(!a.bz(l[D],v[D])){x=!0;break}if(!x)return;const O={now:I.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,c),this.light.updateTransitions(O)}getProjection(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.projection}setProjection(l){if(this._checkLoaded(),this.projection){if(this.projection.name===l.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=l,this._setProjectionInternal(l.type)}getSky(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.sky}setSky(l,c={}){this._checkLoaded();const v=this.getSky();let x=!1;if(!l&&!v)return;if(l&&!v)x=!0;else if(!l&&v)x=!0;else for(const D in l)if(!a.bz(l[D],v[D])){x=!0;break}if(!x)return;const O={now:I.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=l,this.sky.setSky(l,c),this.sky.updateTransitions(O)}_setProjectionInternal(l){const c=function(v){if(Array.isArray(v)){const x=new Ur({type:v});return{projection:x,transform:new Us,cameraHelper:new kh(x)}}switch(v){case"mercator":return{projection:new Ro,transform:new ya,cameraHelper:new Vu};case"globe":{const x=new Ur({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:x,transform:new Us,cameraHelper:new kh(x)}}case"vertical-perspective":return{projection:new sr,transform:new $c,cameraHelper:new _l};default:return a.w(`Unknown projection name: ${v}. Falling back to mercator projection.`),{projection:new Ro,transform:new ya,cameraHelper:new Vu}}}(l);this.projection=c.projection,this.map.migrateProjection(c.transform,c.cameraHelper);for(const v in this.sourceCaches)this.sourceCaches[v].reload()}_validate(l,c,v,x,O={}){return(!O||O.validate!==!1)&&nu(this,l.call(a.u,a.e({key:c,style:this.serialize(),value:v,styleSpec:a.v},x)))}_remove(l=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),te().off(_r,this._rtlPluginLoaded);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const v=this.sourceCaches[c];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),l&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(l)}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const c in this.sourceCaches)this.sourceCaches[c].update(l,this.map.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,c,v,x,O=!1){let D=!1,U=!1;const W={};for(const $ of this._order){const ue=this._layers[$];if(ue.type!=="symbol")continue;if(!W[ue.source]){const me=this.sourceCaches[ue.source];W[ue.source]=me.getRenderableIds(!0).map(Ie=>me.getTileByID(Ie)).sort((Ie,De)=>De.tileID.overscaledZ-Ie.tileID.overscaledZ||(Ie.tileID.isLessThan(De.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(ue,W[ue.source],l.center.lng);D=D||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((O=O||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(I.now(),l.zoom))&&(this.pauseablePlacement=new Qt(l,this.map.terrain,this._order,O,c,v,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,W),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(I.now()),U=!0),D&&this.pauseablePlacement.placement.setStale()),U||D)for(const $ of this._order){const ue=this._layers[$];ue.type==="symbol"&&this.placement.updateLayerOpacities(ue,W[ue.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(I.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,c){return a._(this,void 0,void 0,function*(){const v=yield this.imageManager.getImages(c.icons);this._updateTilesForChangedImages();const x=this.sourceCaches[c.source];return x&&x.setDependencies(c.tileID.key,c.type,c.icons),v})}getGlyphs(l,c){return a._(this,void 0,void 0,function*(){const v=yield this.glyphManager.getGlyphs(c.stacks),x=this.sourceCaches[c.source];return x&&x.setDependencies(c.tileID.key,c.type,[""]),v})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(l,c={}){this._checkLoaded(),l&&this._validate(a.u.glyphs,"glyphs",l,null,c)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=l,this.glyphManager.entries={},this.glyphManager.setURL(l))}addSprite(l,c,v={},x){this._checkLoaded();const O=[{id:l,url:c}],D=[...Ae(this.stylesheet.sprite),...O];this._validate(a.u.sprite,"sprite",D,null,v)||(this.stylesheet.sprite=D,this._loadSprite(O,!0,x))}removeSprite(l){this._checkLoaded();const c=Ae(this.stylesheet.sprite);if(c.find(v=>v.id===l)){if(this._spritesImagesIds[l])for(const v of this._spritesImagesIds[l])this.imageManager.removeImage(v),this._changedImages[v]=!0;c.splice(c.findIndex(v=>v.id===l),1),this.stylesheet.sprite=c.length>0?c:void 0,delete this._spritesImagesIds[l],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${l}" doesn't exists on this map.`)))}getSprite(){return Ae(this.stylesheet.sprite)}setSprite(l,c={},v){this._checkLoaded(),l&&this._validate(a.u.sprite,"sprite",l,null,c)||(this.stylesheet.sprite=l,l?this._loadSprite(l,!0,v):(this._unloadSprite(),v&&v(null)))}}var oa=a.aA([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class iu{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,c,v,x,O,D,U,W,$){this.context=l;let ue=this.boundPaintVertexBuffers.length!==x.length;for(let fe=0;!ue&&fe<x.length;fe++)this.boundPaintVertexBuffers[fe]!==x[fe]&&(ue=!0);!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==v||ue||this.boundIndexBuffer!==O||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==U||this.boundDynamicVertexBuffer2!==W||this.boundDynamicVertexBuffer3!==$?this.freshBind(c,v,x,O,D,U,W,$):(l.bindVertexArray.set(this.vao),U&&U.bind(),O&&O.dynamicDraw&&O.bind(),W&&W.bind(),$&&$.bind())}freshBind(l,c,v,x,O,D,U,W){const $=l.numAttributes,ue=this.context,fe=ue.gl;this.vao&&this.destroy(),this.vao=ue.createVertexArray(),ue.bindVertexArray.set(this.vao),this.boundProgram=l,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=x,this.boundVertexOffset=O,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=U,this.boundDynamicVertexBuffer3=W,c.enableAttributes(fe,l);for(const me of v)me.enableAttributes(fe,l);D&&D.enableAttributes(fe,l),U&&U.enableAttributes(fe,l),W&&W.enableAttributes(fe,l),c.bind(),c.setVertexAttribPointers(fe,l,O);for(const me of v)me.bind(),me.setVertexAttribPointers(fe,l,O);D&&(D.bind(),D.setVertexAttribPointers(fe,l,O)),x&&x.bind(),U&&(U.bind(),U.setVertexAttribPointers(fe,l,O)),W&&(W.bind(),W.setVertexAttribPointers(fe,l,O)),ue.currentNumAttributes=$}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Yc=(S,l,c,v,x)=>({u_texture:0,u_ele_delta:S,u_fog_matrix:l,u_fog_color:c?c.properties.get("fog-color"):a.b4.white,u_fog_ground_blend:c?c.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:x?0:c?c.calculateFogBlendOpacity(v):0,u_horizon_color:c?c.properties.get("horizon-color"):a.b4.white,u_horizon_fog_blend:c?c.properties.get("horizon-fog-blend"):1,u_is_globe_mode:x?1:0}),wm={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Su(S){const l=[];for(let c=0;c<S.length;c++){if(S[c]===null)continue;const v=S[c].split(" ");l.push(v.pop())}return l}class Th{constructor(l,c,v,x,O,D,U,W){const $=l.gl;this.program=$.createProgram();const ue=Su(c.staticAttributes),fe=v?v.getBinderAttributes():[],me=ue.concat(fe),Ie=Br.prelude.staticUniforms?Su(Br.prelude.staticUniforms):[],De=U.staticUniforms?Su(U.staticUniforms):[],He=c.staticUniforms?Su(c.staticUniforms):[],Ve=v?v.getBinderUniforms():[],Ze=Ie.concat(De).concat(He).concat(Ve),et=[];for(const Ft of Ze)et.indexOf(Ft)<0&&et.push(Ft);const ct=v?v.defines():[];ki($)&&ct.unshift("#version 300 es"),O&&ct.push("#define OVERDRAW_INSPECTOR;"),D&&ct.push("#define TERRAIN3D;"),W&&ct.push(W);let mt=ct.concat(Br.prelude.fragmentSource,U.fragmentSource,c.fragmentSource).join(`
`),vt=ct.concat(Br.prelude.vertexSource,U.vertexSource,c.vertexSource).join(`
`);ki($)||(mt=function(Ft){return Ft.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(mt),vt=function(Ft){return Ft.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(vt));const Et=$.createShader($.FRAGMENT_SHADER);if($.isContextLost())return void(this.failedToCreate=!0);if($.shaderSource(Et,mt),$.compileShader(Et),!$.getShaderParameter(Et,$.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${$.getShaderInfoLog(Et)}`);$.attachShader(this.program,Et);const xt=$.createShader($.VERTEX_SHADER);if($.isContextLost())return void(this.failedToCreate=!0);if($.shaderSource(xt,vt),$.compileShader(xt),!$.getShaderParameter(xt,$.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${$.getShaderInfoLog(xt)}`);$.attachShader(this.program,xt),this.attributes={};const zt={};this.numAttributes=me.length;for(let Ft=0;Ft<this.numAttributes;Ft++)me[Ft]&&($.bindAttribLocation(this.program,Ft,me[Ft]),this.attributes[me[Ft]]=Ft);if($.linkProgram(this.program),!$.getProgramParameter(this.program,$.LINK_STATUS))throw new Error(`Program failed to link: ${$.getProgramInfoLog(this.program)}`);$.deleteShader(xt),$.deleteShader(Et);for(let Ft=0;Ft<et.length;Ft++){const ln=et[Ft];if(ln&&!zt[ln]){const An=$.getUniformLocation(this.program,ln);An&&(zt[ln]=An)}}this.fixedUniforms=x(l,zt),this.terrainUniforms=((Ft,ln)=>({u_depth:new a.bC(Ft,ln.u_depth),u_terrain:new a.bC(Ft,ln.u_terrain),u_terrain_dim:new a.b5(Ft,ln.u_terrain_dim),u_terrain_matrix:new a.bD(Ft,ln.u_terrain_matrix),u_terrain_unpack:new a.bE(Ft,ln.u_terrain_unpack),u_terrain_exaggeration:new a.b5(Ft,ln.u_terrain_exaggeration)}))(l,zt),this.projectionUniforms=((Ft,ln)=>({u_projection_matrix:new a.bD(Ft,ln.u_projection_matrix),u_projection_tile_mercator_coords:new a.bE(Ft,ln.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bE(Ft,ln.u_projection_clipping_plane),u_projection_transition:new a.b5(Ft,ln.u_projection_transition),u_projection_fallback_matrix:new a.bD(Ft,ln.u_projection_fallback_matrix)}))(l,zt),this.binderUniforms=v?v.getUniforms(l,zt):[]}draw(l,c,v,x,O,D,U,W,$,ue,fe,me,Ie,De,He,Ve,Ze,et,ct){const mt=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(v),l.setStencilMode(x),l.setColorMode(O),l.setCullFace(D),W){l.activeTexture.set(mt.TEXTURE2),mt.bindTexture(mt.TEXTURE_2D,W.depthTexture),l.activeTexture.set(mt.TEXTURE3),mt.bindTexture(mt.TEXTURE_2D,W.texture);for(const Et in this.terrainUniforms)this.terrainUniforms[Et].set(W[Et])}if($)for(const Et in $)this.projectionUniforms[wm[Et]].set($[Et]);if(U)for(const Et in this.fixedUniforms)this.fixedUniforms[Et].set(U[Et]);Ve&&Ve.setUniforms(l,this.binderUniforms,De,{zoom:He});let vt=0;switch(c){case mt.LINES:vt=2;break;case mt.TRIANGLES:vt=3;break;case mt.LINE_STRIP:vt=1}for(const Et of Ie.get()){const xt=Et.vaos||(Et.vaos={});(xt[ue]||(xt[ue]=new iu)).bind(l,this,fe,Ve?Ve.getPaintVertexBuffers():[],me,Et.vertexOffset,Ze,et,ct),mt.drawElements(c,Et.primitiveLength*vt,mt.UNSIGNED_SHORT,Et.primitiveOffset*vt*2)}}}function qc(S,l,c){const v=1/a.at(c,1,l.transform.tileZoom),x=Math.pow(2,c.tileID.overscaledZ),O=c.tileSize*Math.pow(2,l.transform.tileZoom)/x,D=O*(c.tileID.canonical.x+c.tileID.wrap*x),U=O*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[v,S.fromScale,S.toScale],u_fade:S.t,u_pixel_coord_upper:[D>>16,U>>16],u_pixel_coord_lower:[65535&D,65535&U]}}const Mm=(S,l,c,v)=>{const x=S.style.light,O=x.properties.get("position"),D=[O.x,O.y,O.z],U=a.bI();x.properties.get("anchor")==="viewport"&&a.bJ(U,S.transform.bearingInRadians),a.bK(D,D,U);const W=S.transform.transformLightDirection(D),$=x.properties.get("color");return{u_lightpos:D,u_lightpos_globe:W,u_lightintensity:x.properties.get("intensity"),u_lightcolor:[$.r,$.g,$.b],u_vertical_gradient:+l,u_opacity:c,u_fill_translate:v}},Mp=(S,l,c,v,x,O,D)=>a.e(Mm(S,l,c,v),qc(O,S,D),{u_height_factor:-Math.pow(2,x.overscaledZ)/D.tileSize/8}),KA=(S,l,c,v)=>a.e(qc(l,S,c),{u_fill_translate:v}),ha=(S,l)=>({u_world:S,u_fill_translate:l}),Sp=(S,l,c,v,x)=>a.e(KA(S,l,c,x),{u_world:v}),bf=(S,l,c,v,x)=>{const O=S.transform;let D,U,W=0;if(c.paint.get("circle-pitch-alignment")==="map"){const $=a.at(l,1,O.zoom);D=!0,U=[$,$],W=$/(a.X*Math.pow(2,l.tileID.overscaledZ))*2*Math.PI*x}else D=!1,U=O.pixelsToGLUnits;return{u_camera_to_center_distance:O.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+D,u_device_pixel_ratio:S.pixelRatio,u_extrude_scale:U,u_globe_extrude_scale:W,u_translate:v}},Vc=S=>({u_pixel_extrude_scale:[1/S.width,1/S.height]}),xf=S=>({u_viewport_size:[S.width,S.height]}),Ph=(S,l=1)=>({u_color:S,u_overlay:0,u_overlay_scale:l}),DA=(S,l,c,v)=>{const x=a.at(S,1,l)/(a.X*Math.pow(2,S.tileID.overscaledZ))*2*Math.PI*v;return{u_extrude_scale:a.at(S,1,l),u_intensity:c,u_globe_extrude_scale:x}},_d=(S,l,c,v)=>{const x=a.H();a.bL(x,0,S.width,S.height,0,0,1);const O=S.context.gl;return{u_matrix:x,u_world:[O.drawingBufferWidth,O.drawingBufferHeight],u_image:c,u_color_ramp:v,u_opacity:l.paint.get("heatmap-opacity")}},Cd=(S,l,c)=>{const v=c.paint.get("hillshade-shadow-color"),x=c.paint.get("hillshade-highlight-color"),O=c.paint.get("hillshade-accent-color");let D=c.paint.get("hillshade-illumination-direction")*(Math.PI/180);return c.paint.get("hillshade-illumination-anchor")==="viewport"&&(D+=S.transform.bearingInRadians),{u_image:0,u_latrange:Y0(0,l.tileID),u_light:[c.paint.get("hillshade-exaggeration"),D],u_shadow:v,u_highlight:x,u_accent:O}},Hc=(S,l)=>{const c=l.stride,v=a.H();return a.bL(v,0,a.X,-8192,0,0,1),a.J(v,v,[0,-8192,0]),{u_matrix:v,u_image:1,u_dimension:[c,c],u_zoom:S.overscaledZ,u_unpack:l.getUnpackVector()}};function Y0(S,l){const c=Math.pow(2,l.canonical.z),v=l.canonical.y;return[new a.Y(0,v/c).toLngLat().lat,new a.Y(0,(v+1)/c).toLngLat().lat]}const Ac=(S,l,c,v)=>{const x=S.transform;return{u_translation:Zc(S,l,c),u_ratio:v/a.at(l,1,x.zoom),u_device_pixel_ratio:S.pixelRatio,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Ul=(S,l,c,v,x)=>a.e(Ac(S,l,c,v),{u_image:0,u_image_height:x}),Ep=(S,l,c,v,x)=>{const O=S.transform,D=Eu(l,O);return{u_translation:Zc(S,l,c),u_texsize:l.imageAtlasTexture.size,u_ratio:v/a.at(l,1,O.zoom),u_device_pixel_ratio:S.pixelRatio,u_image:0,u_scale:[D,x.fromScale,x.toScale],u_fade:x.t,u_units_to_pixels:[1/O.pixelsToGLUnits[0],1/O.pixelsToGLUnits[1]]}},uA=(S,l,c,v,x,O)=>{const D=S.lineAtlas,U=Eu(l,S.transform),W=c.layout.get("line-cap")==="round",$=D.getDash(x.from,W),ue=D.getDash(x.to,W),fe=$.width*O.fromScale,me=ue.width*O.toScale;return a.e(Ac(S,l,c,v),{u_patternscale_a:[U/fe,-$.height/2],u_patternscale_b:[U/me,-ue.height/2],u_sdfgamma:D.width/(256*Math.min(fe,me)*S.pixelRatio)/2,u_image:0,u_tex_y_a:$.y,u_tex_y_b:ue.y,u_mix:O.t})};function Eu(S,l){return 1/a.at(S,1,l.tileZoom)}function Zc(S,l,c){return a.au(S.transform,l,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}const bd=(S,l,c,v,x)=>{return{u_tl_parent:S,u_scale_parent:l,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(D=v.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(O=v.paint.get("raster-contrast"),O>0?1/(1-O):1+O),u_spin_weights:Op(v.paint.get("raster-hue-rotate")),u_coords_top:[x[0].x,x[0].y,x[1].x,x[1].y],u_coords_bottom:[x[3].x,x[3].y,x[2].x,x[2].y]};var O,D};function Op(S){S*=Math.PI/180;const l=Math.sin(S),c=Math.cos(S);return[(2*c+1)/3,(-Math.sqrt(3)*l-c+1)/3,(Math.sqrt(3)*l-c+1)/3]}const jl=(S,l,c,v,x,O,D,U,W,$,ue,fe,me)=>{const Ie=D.transform;return{u_is_size_zoom_constant:+(S==="constant"||S==="source"),u_is_size_feature_constant:+(S==="constant"||S==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:Ie.cameraToCenterDistance,u_pitch:Ie.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:Ie.width/Ie.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_label_plane_matrix:U,u_coord_matrix:W,u_is_text:+ue,u_pitch_with_map:+v,u_is_along_line:x,u_is_variable_anchor:O,u_texsize:fe,u_texture:0,u_translation:$,u_pitched_scale:me}},nl=(S,l,c,v,x,O,D,U,W,$,ue,fe,me,Ie)=>{const De=D.transform;return a.e(jl(S,l,c,v,x,O,D,U,W,$,ue,fe,Ie),{u_gamma_scale:v?Math.cos(De.pitch*Math.PI/180)*De.cameraToCenterDistance:1,u_device_pixel_ratio:D.pixelRatio,u_is_halo:1})},xd=(S,l,c,v,x,O,D,U,W,$,ue,fe,me)=>a.e(nl(S,l,c,v,x,O,D,U,W,$,!0,ue,0,me),{u_texsize_icon:fe,u_texture_icon:1}),cc=(S,l)=>({u_opacity:S,u_color:l}),wf=(S,l,c,v,x)=>a.e(function(O,D,U,W){const $=U.imageManager.getPattern(O.from.toString()),ue=U.imageManager.getPattern(O.to.toString()),{width:fe,height:me}=U.imageManager.getPixelSize(),Ie=Math.pow(2,W.tileID.overscaledZ),De=W.tileSize*Math.pow(2,U.transform.tileZoom)/Ie,He=De*(W.tileID.canonical.x+W.tileID.wrap*Ie),Ve=De*W.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:$.tl,u_pattern_br_a:$.br,u_pattern_tl_b:ue.tl,u_pattern_br_b:ue.br,u_texsize:[fe,me],u_mix:D.t,u_pattern_size_a:$.displaySize,u_pattern_size_b:ue.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/a.at(W,1,U.transform.tileZoom),u_pixel_coord_upper:[He>>16,Ve>>16],u_pixel_coord_lower:[65535&He,65535&Ve]}}(c,x,l,v),{u_opacity:S}),Bp=(S,l)=>{},Kh={fillExtrusion:(S,l)=>({u_lightpos:new a.bG(S,l.u_lightpos),u_lightpos_globe:new a.bG(S,l.u_lightpos_globe),u_lightintensity:new a.b5(S,l.u_lightintensity),u_lightcolor:new a.bG(S,l.u_lightcolor),u_vertical_gradient:new a.b5(S,l.u_vertical_gradient),u_opacity:new a.b5(S,l.u_opacity),u_fill_translate:new a.bH(S,l.u_fill_translate)}),fillExtrusionPattern:(S,l)=>({u_lightpos:new a.bG(S,l.u_lightpos),u_lightpos_globe:new a.bG(S,l.u_lightpos_globe),u_lightintensity:new a.b5(S,l.u_lightintensity),u_lightcolor:new a.bG(S,l.u_lightcolor),u_vertical_gradient:new a.b5(S,l.u_vertical_gradient),u_height_factor:new a.b5(S,l.u_height_factor),u_opacity:new a.b5(S,l.u_opacity),u_fill_translate:new a.bH(S,l.u_fill_translate),u_image:new a.bC(S,l.u_image),u_texsize:new a.bH(S,l.u_texsize),u_pixel_coord_upper:new a.bH(S,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(S,l.u_pixel_coord_lower),u_scale:new a.bG(S,l.u_scale),u_fade:new a.b5(S,l.u_fade)}),fill:(S,l)=>({u_fill_translate:new a.bH(S,l.u_fill_translate)}),fillPattern:(S,l)=>({u_image:new a.bC(S,l.u_image),u_texsize:new a.bH(S,l.u_texsize),u_pixel_coord_upper:new a.bH(S,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(S,l.u_pixel_coord_lower),u_scale:new a.bG(S,l.u_scale),u_fade:new a.b5(S,l.u_fade),u_fill_translate:new a.bH(S,l.u_fill_translate)}),fillOutline:(S,l)=>({u_world:new a.bH(S,l.u_world),u_fill_translate:new a.bH(S,l.u_fill_translate)}),fillOutlinePattern:(S,l)=>({u_world:new a.bH(S,l.u_world),u_image:new a.bC(S,l.u_image),u_texsize:new a.bH(S,l.u_texsize),u_pixel_coord_upper:new a.bH(S,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(S,l.u_pixel_coord_lower),u_scale:new a.bG(S,l.u_scale),u_fade:new a.b5(S,l.u_fade),u_fill_translate:new a.bH(S,l.u_fill_translate)}),circle:(S,l)=>({u_camera_to_center_distance:new a.b5(S,l.u_camera_to_center_distance),u_scale_with_map:new a.bC(S,l.u_scale_with_map),u_pitch_with_map:new a.bC(S,l.u_pitch_with_map),u_extrude_scale:new a.bH(S,l.u_extrude_scale),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_globe_extrude_scale:new a.b5(S,l.u_globe_extrude_scale),u_translate:new a.bH(S,l.u_translate)}),collisionBox:(S,l)=>({u_pixel_extrude_scale:new a.bH(S,l.u_pixel_extrude_scale)}),collisionCircle:(S,l)=>({u_viewport_size:new a.bH(S,l.u_viewport_size)}),debug:(S,l)=>({u_color:new a.bF(S,l.u_color),u_overlay:new a.bC(S,l.u_overlay),u_overlay_scale:new a.b5(S,l.u_overlay_scale)}),depth:Bp,clippingMask:Bp,heatmap:(S,l)=>({u_extrude_scale:new a.b5(S,l.u_extrude_scale),u_intensity:new a.b5(S,l.u_intensity),u_globe_extrude_scale:new a.b5(S,l.u_globe_extrude_scale)}),heatmapTexture:(S,l)=>({u_matrix:new a.bD(S,l.u_matrix),u_world:new a.bH(S,l.u_world),u_image:new a.bC(S,l.u_image),u_color_ramp:new a.bC(S,l.u_color_ramp),u_opacity:new a.b5(S,l.u_opacity)}),hillshade:(S,l)=>({u_image:new a.bC(S,l.u_image),u_latrange:new a.bH(S,l.u_latrange),u_light:new a.bH(S,l.u_light),u_shadow:new a.bF(S,l.u_shadow),u_highlight:new a.bF(S,l.u_highlight),u_accent:new a.bF(S,l.u_accent)}),hillshadePrepare:(S,l)=>({u_matrix:new a.bD(S,l.u_matrix),u_image:new a.bC(S,l.u_image),u_dimension:new a.bH(S,l.u_dimension),u_zoom:new a.b5(S,l.u_zoom),u_unpack:new a.bE(S,l.u_unpack)}),line:(S,l)=>({u_translation:new a.bH(S,l.u_translation),u_ratio:new a.b5(S,l.u_ratio),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(S,l.u_units_to_pixels)}),lineGradient:(S,l)=>({u_translation:new a.bH(S,l.u_translation),u_ratio:new a.b5(S,l.u_ratio),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(S,l.u_units_to_pixels),u_image:new a.bC(S,l.u_image),u_image_height:new a.b5(S,l.u_image_height)}),linePattern:(S,l)=>({u_translation:new a.bH(S,l.u_translation),u_texsize:new a.bH(S,l.u_texsize),u_ratio:new a.b5(S,l.u_ratio),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_image:new a.bC(S,l.u_image),u_units_to_pixels:new a.bH(S,l.u_units_to_pixels),u_scale:new a.bG(S,l.u_scale),u_fade:new a.b5(S,l.u_fade)}),lineSDF:(S,l)=>({u_translation:new a.bH(S,l.u_translation),u_ratio:new a.b5(S,l.u_ratio),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(S,l.u_units_to_pixels),u_patternscale_a:new a.bH(S,l.u_patternscale_a),u_patternscale_b:new a.bH(S,l.u_patternscale_b),u_sdfgamma:new a.b5(S,l.u_sdfgamma),u_image:new a.bC(S,l.u_image),u_tex_y_a:new a.b5(S,l.u_tex_y_a),u_tex_y_b:new a.b5(S,l.u_tex_y_b),u_mix:new a.b5(S,l.u_mix)}),raster:(S,l)=>({u_tl_parent:new a.bH(S,l.u_tl_parent),u_scale_parent:new a.b5(S,l.u_scale_parent),u_buffer_scale:new a.b5(S,l.u_buffer_scale),u_fade_t:new a.b5(S,l.u_fade_t),u_opacity:new a.b5(S,l.u_opacity),u_image0:new a.bC(S,l.u_image0),u_image1:new a.bC(S,l.u_image1),u_brightness_low:new a.b5(S,l.u_brightness_low),u_brightness_high:new a.b5(S,l.u_brightness_high),u_saturation_factor:new a.b5(S,l.u_saturation_factor),u_contrast_factor:new a.b5(S,l.u_contrast_factor),u_spin_weights:new a.bG(S,l.u_spin_weights),u_coords_top:new a.bE(S,l.u_coords_top),u_coords_bottom:new a.bE(S,l.u_coords_bottom)}),symbolIcon:(S,l)=>({u_is_size_zoom_constant:new a.bC(S,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(S,l.u_is_size_feature_constant),u_size_t:new a.b5(S,l.u_size_t),u_size:new a.b5(S,l.u_size),u_camera_to_center_distance:new a.b5(S,l.u_camera_to_center_distance),u_pitch:new a.b5(S,l.u_pitch),u_rotate_symbol:new a.bC(S,l.u_rotate_symbol),u_aspect_ratio:new a.b5(S,l.u_aspect_ratio),u_fade_change:new a.b5(S,l.u_fade_change),u_label_plane_matrix:new a.bD(S,l.u_label_plane_matrix),u_coord_matrix:new a.bD(S,l.u_coord_matrix),u_is_text:new a.bC(S,l.u_is_text),u_pitch_with_map:new a.bC(S,l.u_pitch_with_map),u_is_along_line:new a.bC(S,l.u_is_along_line),u_is_variable_anchor:new a.bC(S,l.u_is_variable_anchor),u_texsize:new a.bH(S,l.u_texsize),u_texture:new a.bC(S,l.u_texture),u_translation:new a.bH(S,l.u_translation),u_pitched_scale:new a.b5(S,l.u_pitched_scale)}),symbolSDF:(S,l)=>({u_is_size_zoom_constant:new a.bC(S,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(S,l.u_is_size_feature_constant),u_size_t:new a.b5(S,l.u_size_t),u_size:new a.b5(S,l.u_size),u_camera_to_center_distance:new a.b5(S,l.u_camera_to_center_distance),u_pitch:new a.b5(S,l.u_pitch),u_rotate_symbol:new a.bC(S,l.u_rotate_symbol),u_aspect_ratio:new a.b5(S,l.u_aspect_ratio),u_fade_change:new a.b5(S,l.u_fade_change),u_label_plane_matrix:new a.bD(S,l.u_label_plane_matrix),u_coord_matrix:new a.bD(S,l.u_coord_matrix),u_is_text:new a.bC(S,l.u_is_text),u_pitch_with_map:new a.bC(S,l.u_pitch_with_map),u_is_along_line:new a.bC(S,l.u_is_along_line),u_is_variable_anchor:new a.bC(S,l.u_is_variable_anchor),u_texsize:new a.bH(S,l.u_texsize),u_texture:new a.bC(S,l.u_texture),u_gamma_scale:new a.b5(S,l.u_gamma_scale),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_is_halo:new a.bC(S,l.u_is_halo),u_translation:new a.bH(S,l.u_translation),u_pitched_scale:new a.b5(S,l.u_pitched_scale)}),symbolTextAndIcon:(S,l)=>({u_is_size_zoom_constant:new a.bC(S,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(S,l.u_is_size_feature_constant),u_size_t:new a.b5(S,l.u_size_t),u_size:new a.b5(S,l.u_size),u_camera_to_center_distance:new a.b5(S,l.u_camera_to_center_distance),u_pitch:new a.b5(S,l.u_pitch),u_rotate_symbol:new a.bC(S,l.u_rotate_symbol),u_aspect_ratio:new a.b5(S,l.u_aspect_ratio),u_fade_change:new a.b5(S,l.u_fade_change),u_label_plane_matrix:new a.bD(S,l.u_label_plane_matrix),u_coord_matrix:new a.bD(S,l.u_coord_matrix),u_is_text:new a.bC(S,l.u_is_text),u_pitch_with_map:new a.bC(S,l.u_pitch_with_map),u_is_along_line:new a.bC(S,l.u_is_along_line),u_is_variable_anchor:new a.bC(S,l.u_is_variable_anchor),u_texsize:new a.bH(S,l.u_texsize),u_texsize_icon:new a.bH(S,l.u_texsize_icon),u_texture:new a.bC(S,l.u_texture),u_texture_icon:new a.bC(S,l.u_texture_icon),u_gamma_scale:new a.b5(S,l.u_gamma_scale),u_device_pixel_ratio:new a.b5(S,l.u_device_pixel_ratio),u_is_halo:new a.bC(S,l.u_is_halo),u_translation:new a.bH(S,l.u_translation),u_pitched_scale:new a.b5(S,l.u_pitched_scale)}),background:(S,l)=>({u_opacity:new a.b5(S,l.u_opacity),u_color:new a.bF(S,l.u_color)}),backgroundPattern:(S,l)=>({u_opacity:new a.b5(S,l.u_opacity),u_image:new a.bC(S,l.u_image),u_pattern_tl_a:new a.bH(S,l.u_pattern_tl_a),u_pattern_br_a:new a.bH(S,l.u_pattern_br_a),u_pattern_tl_b:new a.bH(S,l.u_pattern_tl_b),u_pattern_br_b:new a.bH(S,l.u_pattern_br_b),u_texsize:new a.bH(S,l.u_texsize),u_mix:new a.b5(S,l.u_mix),u_pattern_size_a:new a.bH(S,l.u_pattern_size_a),u_pattern_size_b:new a.bH(S,l.u_pattern_size_b),u_scale_a:new a.b5(S,l.u_scale_a),u_scale_b:new a.b5(S,l.u_scale_b),u_pixel_coord_upper:new a.bH(S,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(S,l.u_pixel_coord_lower),u_tile_units_to_pixels:new a.b5(S,l.u_tile_units_to_pixels)}),terrain:(S,l)=>({u_texture:new a.bC(S,l.u_texture),u_ele_delta:new a.b5(S,l.u_ele_delta),u_fog_matrix:new a.bD(S,l.u_fog_matrix),u_fog_color:new a.bF(S,l.u_fog_color),u_fog_ground_blend:new a.b5(S,l.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.b5(S,l.u_fog_ground_blend_opacity),u_horizon_color:new a.bF(S,l.u_horizon_color),u_horizon_fog_blend:new a.b5(S,l.u_horizon_fog_blend),u_is_globe_mode:new a.b5(S,l.u_is_globe_mode)}),terrainDepth:(S,l)=>({u_ele_delta:new a.b5(S,l.u_ele_delta)}),terrainCoords:(S,l)=>({u_texture:new a.bC(S,l.u_texture),u_terrain_coords_id:new a.b5(S,l.u_terrain_coords_id),u_ele_delta:new a.b5(S,l.u_ele_delta)}),projectionErrorMeasurement:(S,l)=>({u_input:new a.b5(S,l.u_input),u_output_expected:new a.b5(S,l.u_output_expected)}),atmosphere:(S,l)=>({u_sun_pos:new a.bG(S,l.u_sun_pos),u_atmosphere_blend:new a.b5(S,l.u_atmosphere_blend),u_globe_position:new a.bG(S,l.u_globe_position),u_globe_radius:new a.b5(S,l.u_globe_radius),u_inv_proj_matrix:new a.bD(S,l.u_inv_proj_matrix)}),sky:(S,l)=>({u_sky_color:new a.bF(S,l.u_sky_color),u_horizon_color:new a.bF(S,l.u_horizon_color),u_horizon:new a.bH(S,l.u_horizon),u_horizon_normal:new a.bH(S,l.u_horizon_normal),u_sky_horizon_blend:new a.b5(S,l.u_sky_horizon_blend),u_sky_blend:new a.b5(S,l.u_sky_blend)})};class AA{constructor(l,c,v){this.context=l;const x=l.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const c=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Cl={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ou{constructor(l,c,v,x){this.length=c.length,this.attributes=v,this.itemSize=c.bytesPerElement,this.dynamicDraw=x,this.context=l;const O=l.gl;this.buffer=O.createBuffer(),l.bindVertexBuffer.set(this.buffer),O.bufferData(O.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?O.DYNAMIC_DRAW:O.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,c){for(let v=0;v<this.attributes.length;v++){const x=c.attributes[this.attributes[v].name];x!==void 0&&l.enableVertexAttribArray(x)}}setVertexAttribPointers(l,c,v){for(let x=0;x<this.attributes.length;x++){const O=this.attributes[x],D=c.attributes[O.name];D!==void 0&&l.vertexAttribPointer(D,O.components,l[Cl[O.type]],!1,this.itemSize,O.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class go{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Sm extends go{getDefault(){return a.b4.transparent}set(l){const c=this.current;(l.r!==c.r||l.g!==c.g||l.b!==c.b||l.a!==c.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class q0 extends go{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Xc extends go{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class Hu extends go{getDefault(){return[!0,!0,!0,!0]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||l[3]!==c[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Mf extends go{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class wd extends go{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class hc extends go{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const c=this.current;(l.func!==c.func||l.ref!==c.ref||l.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Md extends go{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class Sf extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=l,this.dirty=!1}}class LA extends go{getDefault(){return[0,1]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class zl extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=l,this.dirty=!1}}class Pt extends go{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class mn extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.BLEND):c.disable(c.BLEND),this.current=l,this.dirty=!1}}class Zt extends go{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class vr extends go{getDefault(){return a.b4.transparent}set(l){const c=this.current;(l.r!==c.r||l.g!==c.g||l.b!==c.b||l.a!==c.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class ti extends go{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class eo extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=l,this.dirty=!1}}class Sa extends go{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class wo extends go{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class dc extends go{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class Em extends go{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class js extends go{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||l[3]!==c[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class FA extends go{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class fc extends go{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class au extends go{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class Ti extends go{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class RA extends go{getDefault(){return null}set(l){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Eo extends go{getDefault(){return null}set(l){var c;if(l===this.current&&!this.dirty)return;const v=this.gl;ki(v)?v.bindVertexArray(l):(c=v.getExtension("OES_vertex_array_object"))===null||c===void 0||c.bindVertexArrayOES(l),this.current=l,this.dirty=!1}}class Ip extends go{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class pc extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class cA extends go{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class UA extends go{constructor(l,c){super(l),this.context=l,this.parent=c}getDefault(){return null}}class rl extends UA{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class mc extends UA{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class su extends UA{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}const bl="Framebuffer is not complete";class Jc{constructor(l,c,v,x,O){this.context=l,this.width=c,this.height=v;const D=l.gl,U=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new rl(l,U),x)this.depthAttachment=O?new su(l,U):new mc(l,U);else if(O)throw new Error("Stencil cannot be set without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error(bl)}destroy(){const l=this.context.gl,c=this.colorAttachment.get();if(c&&l.deleteTexture(c),this.depthAttachment){const v=this.depthAttachment.get();v&&l.deleteRenderbuffer(v)}l.deleteFramebuffer(this.framebuffer)}}class Sd{constructor(l){var c,v;if(this.gl=l,this.clearColor=new Sm(this),this.clearDepth=new q0(this),this.clearStencil=new Xc(this),this.colorMask=new Hu(this),this.depthMask=new Mf(this),this.stencilMask=new wd(this),this.stencilFunc=new hc(this),this.stencilOp=new Md(this),this.stencilTest=new Sf(this),this.depthRange=new LA(this),this.depthTest=new zl(this),this.depthFunc=new Pt(this),this.blend=new mn(this),this.blendFunc=new Zt(this),this.blendColor=new vr(this),this.blendEquation=new ti(this),this.cullFace=new eo(this),this.cullFaceSide=new Sa(this),this.frontFace=new wo(this),this.program=new dc(this),this.activeTexture=new Em(this),this.viewport=new js(this),this.bindFramebuffer=new FA(this),this.bindRenderbuffer=new fc(this),this.bindTexture=new au(this),this.bindVertexBuffer=new Ti(this),this.bindElementBuffer=new RA(this),this.bindVertexArray=new Eo(this),this.pixelStoreUnpack=new Ip(this),this.pixelStoreUnpackPremultiplyAlpha=new pc(this),this.pixelStoreUnpackFlipY=new cA(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),ki(l)){this.HALF_FLOAT=l.HALF_FLOAT;const x=l.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(c=l.RGBA16F)!==null&&c!==void 0?c:x==null?void 0:x.RGBA16F_EXT,this.RGB16F=(v=l.RGB16F)!==null&&v!==void 0?v:x==null?void 0:x.RGB16F_EXT,l.getExtension("EXT_color_buffer_float")}else{l.getExtension("EXT_color_buffer_half_float"),l.getExtension("OES_texture_half_float_linear");const x=l.getExtension("OES_texture_half_float");this.HALF_FLOAT=x==null?void 0:x.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,c){return new AA(this,l,c)}createVertexBuffer(l,c,v){return new ou(this,l,c,v)}createRenderbuffer(l,c,v){const x=this.gl,O=x.createRenderbuffer();return this.bindRenderbuffer.set(O),x.renderbufferStorage(x.RENDERBUFFER,l,c,v),this.bindRenderbuffer.set(null),O}createFramebuffer(l,c,v,x){return new Jc(this,l,c,v,x)}clear({color:l,depth:c,stencil:v}){const x=this.gl;let O=0;l&&(O|=x.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(O|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),v!==void 0&&(O|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),x.clear(O)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){a.bz(l.blendFunction,Gi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}createVertexArray(){var l;return ki(this.gl)?this.gl.createVertexArray():(l=this.gl.getExtension("OES_vertex_array_object"))===null||l===void 0?void 0:l.createVertexArrayOES()}deleteVertexArray(l){var c;return ki(this.gl)?this.gl.deleteVertexArray(l):(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.deleteVertexArrayOES(l)}unbindVAO(){this.bindVertexArray.set(null)}}let lu;function Ed(S,l,c,v,x){const O=S.context,D=S.transform,U=O.gl,W=S.useProgram("collisionBox"),$=[];let ue=0,fe=0;for(let Ze=0;Ze<v.length;Ze++){const et=v[Ze],ct=l.getTile(et).getBucket(c);if(!ct)continue;const mt=x?ct.textCollisionBox:ct.iconCollisionBox,vt=ct.collisionCircleArray;vt.length>0&&($.push({circleArray:vt,circleOffset:fe,coord:et}),ue+=vt.length/4,fe=ue),mt&&W.draw(O,U.LINES,Dr.disabled,xi.disabled,S.colorModeForRenderPass(),bi.disabled,Vc(S.transform),S.style.map.terrain&&S.style.map.terrain.getTerrainData(et),D.getProjectionData({overscaledTileID:et,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),c.id,mt.layoutVertexBuffer,mt.indexBuffer,mt.segments,null,S.transform.zoom,null,null,mt.collisionVertexBuffer)}if(!x||!$.length)return;const me=S.useProgram("collisionCircle"),Ie=new a.bM;Ie.resize(4*ue),Ie._trim();let De=0;for(const Ze of $)for(let et=0;et<Ze.circleArray.length/4;et++){const ct=4*et,mt=Ze.circleArray[ct+0],vt=Ze.circleArray[ct+1],Et=Ze.circleArray[ct+2],xt=Ze.circleArray[ct+3];Ie.emplace(De++,mt,vt,Et,xt,0),Ie.emplace(De++,mt,vt,Et,xt,1),Ie.emplace(De++,mt,vt,Et,xt,2),Ie.emplace(De++,mt,vt,Et,xt,3)}(!lu||lu.length<2*ue)&&(lu=function(Ze){const et=2*Ze,ct=new a.bO;ct.resize(et),ct._trim();for(let mt=0;mt<et;mt++){const vt=6*mt;ct.uint16[vt+0]=4*mt+0,ct.uint16[vt+1]=4*mt+1,ct.uint16[vt+2]=4*mt+2,ct.uint16[vt+3]=4*mt+2,ct.uint16[vt+4]=4*mt+3,ct.uint16[vt+5]=4*mt+0}return ct}(ue));const He=O.createIndexBuffer(lu,!0),Ve=O.createVertexBuffer(Ie,a.bN.members,!0);for(const Ze of $){const et=xf(S.transform);me.draw(O,U.TRIANGLES,Dr.disabled,xi.disabled,S.colorModeForRenderPass(),bi.disabled,et,S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ze.coord),null,c.id,Ve,He,a.aD.simpleSegment(0,2*Ze.circleOffset,Ze.circleArray.length,Ze.circleArray.length/2),null,S.transform.zoom,null,null,null)}Ve.destroy(),He.destroy()}const eh=a.aq(new Float32Array(16));function hA(S,l,c,v,x,O){const{horizontalAlign:D,verticalAlign:U}=a.ay(S);return new a.P((-(D-.5)*l/x+v[0])*O,(-(U-.5)*c/x+v[1])*O)}function Ef(S,l,c,v,x,O){const D=l.tileAnchorPoint.add(new a.P(l.translation[0],l.translation[1]));if(l.pitchWithMap){let U=v.mult(O);c||(U=U.rotate(-x));const W=D.add(U);return Dt(W.x,W.y,l.pitchedLabelPlaneMatrix,l.getElevation).point}if(c){const U=Wn(l.tileAnchorPoint.x+1,l.tileAnchorPoint.y,l).point.sub(S),W=Math.atan(U.y/U.x)+(U.x<0?Math.PI:0);return S.add(v.rotate(W))}return S.add(v)}function th(S,l,c,v,x,O,D,U,W,$,ue,fe){const me=S.text.placedSymbolArray,Ie=S.text.dynamicLayoutVertexArray,De=S.icon.dynamicLayoutVertexArray,He={};Ie.clear();for(let Ve=0;Ve<me.length;Ve++){const Ze=me.get(Ve),et=Ze.hidden||!Ze.crossTileID||S.allowVerticalPlacement&&!Ze.placedOrientation?null:v[Ze.crossTileID];if(et){const ct=new a.P(Ze.anchorX,Ze.anchorY),mt={getElevation:fe,width:x.width,height:x.height,pitchedLabelPlaneMatrix:O,lineVertexArray:null,pitchWithMap:c,transform:x,projectionCache:null,tileAnchorPoint:ct,translation:$,unwrappedTileID:ue},vt=c?Jn(ct.x,ct.y,mt):Wn(ct.x,ct.y,mt),Et=Ot(x.cameraToCenterDistance,vt.signedDistanceFromCamera);let xt=a.aj(S.textSizeData,U,Ze)*Et/a.as;c&&(xt*=S.tilePixelRatio/D);const{width:zt,height:Ft,anchor:ln,textOffset:An,textBoxScale:on}=et,fn=hA(ln,zt,Ft,An,on,xt),Un=x.getPitchedTextCorrection(ct.x+$[0],ct.y+$[1],ue),cn=Ef(vt.point,mt,l,fn,-x.bearingInRadians,Un),ur=S.allowVerticalPlacement&&Ze.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let Ai=0;Ai<Ze.numGlyphs;Ai++)a.ak(Ie,cn,ur);W&&Ze.associatedIconIndex>=0&&(He[Ze.associatedIconIndex]={shiftedAnchor:cn,angle:ur})}else ei(Ze.numGlyphs,Ie)}if(W){De.clear();const Ve=S.icon.placedSymbolArray;for(let Ze=0;Ze<Ve.length;Ze++){const et=Ve.get(Ze);if(et.hidden)ei(et.numGlyphs,De);else{const ct=He[Ze];if(ct)for(let mt=0;mt<et.numGlyphs;mt++)a.ak(De,ct.shiftedAnchor,ct.angle);else ei(et.numGlyphs,De)}}S.icon.dynamicLayoutVertexBuffer.updateData(De)}S.text.dynamicLayoutVertexBuffer.updateData(Ie)}function dA(S,l,c){return c.iconsInText&&l?"symbolTextAndIcon":S?"symbolSDF":"symbolIcon"}function nh(S,l,c,v,x,O,D,U,W,$,ue,fe,me){const Ie=S.context,De=Ie.gl,He=S.transform,Ve=U==="map",Ze=W==="map",et=U!=="viewport"&&c.layout.get("symbol-placement")!=="point",ct=Ve&&!Ze&&!et,mt=!c.layout.get("symbol-sort-key").isConstant();let vt=!1;const Et=S.getDepthModeForSublayer(0,Dr.ReadOnly),xt=c._unevaluatedLayout.hasValue("text-variable-anchor")||c._unevaluatedLayout.hasValue("text-variable-anchor-offset"),zt=[],Ft=He.getCircleRadiusCorrection();for(const ln of v){const An=l.getTile(ln),on=An.getBucket(c);if(!on)continue;const fn=x?on.text:on.icon;if(!fn||!fn.segments.get().length||!fn.hasVisibleVertices)continue;const Un=fn.programConfigurations.get(c.id),cn=x||on.sdfIcons,ur=x?on.textSizeData:on.iconSizeData,Ai=Ze||He.pitch!==0,ho=S.useProgram(dA(cn,x,on),Un),fa=a.ah(ur,He.zoom),fi=S.style.map.terrain&&S.style.map.terrain.getTerrainData(ln);let Mo,So,to,$i,Xa=[0,0],_o=null;if(x)So=An.glyphAtlasTexture,to=De.LINEAR,Mo=An.glyphAtlasTexture.size,on.iconsInText&&(Xa=An.imageAtlasTexture.size,_o=An.imageAtlasTexture,$i=Ai||S.options.rotating||S.options.zooming||ur.kind==="composite"||ur.kind==="camera"?De.LINEAR:De.NEAREST);else{const Qo=c.layout.get("icon-size").constantOr(0)!==1||on.iconsNeedLinear;So=An.imageAtlasTexture,to=cn||S.options.rotating||S.options.zooming||Qo||Ai?De.LINEAR:De.NEAREST,Mo=An.imageAtlasTexture.size}const Po=a.at(An,1,S.transform.zoom),gs=yt(Ve,S.transform,Po),Du=a.H();a.an(Du,gs);const zs=lt(Ze,Ve,S.transform,Po),Gl=a.au(He,An,O,D),Ql=He.getProjectionData({overscaledTileID:ln,applyGlobeMatrix:!me,applyTerrainMatrix:!0}),Mc=xt&&on.hasTextData(),Sc=c.layout.get("icon-text-fit")!=="none"&&Mc&&on.hasIconData();if(et){const Qo=S.style.map.terrain?(Is,ks)=>S.style.map.terrain.getElevation(ln,Is,ks):null,va=c.layout.get("text-rotation-alignment")==="map";yn(on,S,x,gs,Du,Ze,$,va,ln.toUnwrapped(),He.width,He.height,Gl,Qo)}const Lu=x&&xt||Sc,Ba=et||Lu?eh:Ze?gs:S.transform.clipSpaceToPixelsMatrix,Ns=cn&&c.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ia;Ia=cn?on.iconsInText?xd(ur.kind,fa,ct,Ze,et,Lu,S,Ba,zs,Gl,Mo,Xa,Ft):nl(ur.kind,fa,ct,Ze,et,Lu,S,Ba,zs,Gl,x,Mo,0,Ft):jl(ur.kind,fa,ct,Ze,et,Lu,S,Ba,zs,Gl,x,Mo,Ft);const sl={program:ho,buffers:fn,uniformValues:Ia,projectionData:Ql,atlasTexture:So,atlasTextureIcon:_o,atlasInterpolation:to,atlasInterpolationIcon:$i,isSDF:cn,hasHalo:Ns};if(mt&&on.canOverlap){vt=!0;const Qo=fn.segments.get();for(const va of Qo)zt.push({segments:new a.aD([va]),sortKey:va.sortKey,state:sl,terrainData:fi})}else zt.push({segments:fn.segments,sortKey:0,state:sl,terrainData:fi})}vt&&zt.sort((ln,An)=>ln.sortKey-An.sortKey);for(const ln of zt){const An=ln.state;if(Ie.activeTexture.set(De.TEXTURE0),An.atlasTexture.bind(An.atlasInterpolation,De.CLAMP_TO_EDGE),An.atlasTextureIcon&&(Ie.activeTexture.set(De.TEXTURE1),An.atlasTextureIcon&&An.atlasTextureIcon.bind(An.atlasInterpolationIcon,De.CLAMP_TO_EDGE)),An.isSDF){const on=An.uniformValues;An.hasHalo&&(on.u_is_halo=1,Od(An.buffers,ln.segments,c,S,An.program,Et,ue,fe,on,An.projectionData,ln.terrainData)),on.u_is_halo=0}Od(An.buffers,ln.segments,c,S,An.program,Et,ue,fe,An.uniformValues,An.projectionData,ln.terrainData)}}function Od(S,l,c,v,x,O,D,U,W,$,ue){const fe=v.context;x.draw(fe,fe.gl.TRIANGLES,O,D,U,bi.backCCW,W,ue,$,c.id,S.layoutVertexBuffer,S.indexBuffer,l,c.paint,v.transform.zoom,S.programConfigurations.get(c.id),S.dynamicLayoutVertexBuffer,S.opacityVertexBuffer)}function jA(S,l,c,v,x){const O=S.context,D=O.gl,U=xi.disabled,W=new Gi([D.ONE,D.ONE],a.b4.transparent,[!0,!0,!0,!0]),$=l.getBucket(c);if(!$)return;const ue=v.key;let fe=c.heatmapFbos.get(ue);fe||(fe=rh(O,l.tileSize,l.tileSize),c.heatmapFbos.set(ue,fe)),O.bindFramebuffer.set(fe.framebuffer),O.viewport.set([0,0,l.tileSize,l.tileSize]),O.clear({color:a.b4.transparent});const me=$.programConfigurations.get(c.id),Ie=S.useProgram("heatmap",me,!x),De=S.transform.getProjectionData({overscaledTileID:l.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),He=S.style.map.terrain.getTerrainData(v);Ie.draw(O,D.TRIANGLES,Dr.disabled,U,W,bi.disabled,DA(l,S.transform.zoom,c.paint.get("heatmap-intensity"),1),He,De,c.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,c.paint,S.transform.zoom,me)}function Dh(S,l,c,v,x){const O=S.context,D=O.gl,U=S.transform;O.setColorMode(S.colorModeForRenderPass());const W=zA(O,l),$=c.key,ue=l.heatmapFbos.get($);if(!ue)return;O.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,ue.colorAttachment.get()),O.activeTexture.set(D.TEXTURE1),W.bind(D.LINEAR,D.CLAMP_TO_EDGE);const fe=U.getProjectionData({overscaledTileID:c,applyTerrainMatrix:x,applyGlobeMatrix:!v});S.useProgram("heatmapTexture").draw(O,D.TRIANGLES,Dr.disabled,xi.disabled,S.colorModeForRenderPass(),bi.disabled,_d(S,l,0,1),null,fe,l.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments,l.paint,U.zoom),ue.destroy(),l.heatmapFbos.delete($)}function rh(S,l,c){var v,x;const O=S.gl,D=O.createTexture();O.bindTexture(O.TEXTURE_2D,D),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.LINEAR),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.LINEAR);const U=(v=S.HALF_FLOAT)!==null&&v!==void 0?v:O.UNSIGNED_BYTE,W=(x=S.RGBA16F)!==null&&x!==void 0?x:O.RGBA;O.texImage2D(O.TEXTURE_2D,0,W,l,c,0,O.RGBA,U,null);const $=S.createFramebuffer(l,c,!1,!1);return $.colorAttachment.set(D),$}function zA(S,l){return l.colorRampTexture||(l.colorRampTexture=new re(S,l.colorRamp,S.gl.RGBA)),l.colorRampTexture}function ih(S,l,c,v,x){if(!c||!v||!v.imageAtlas)return;const O=v.imageAtlas.patternPositions;let D=O[c.to.toString()],U=O[c.from.toString()];if(!D&&U&&(D=U),!U&&D&&(U=D),!D||!U){const W=x.getPaintProperty(l);D=O[W],U=O[W]}D&&U&&S.setConstantPatternPositions(D,U)}function Of(S,l,c,v,x,O,D,U){const W=S.context.gl,$="fill-pattern",ue=c.paint.get($),fe=ue&&ue.constantOr(1),me=c.getCrossfadeParameters();let Ie,De,He,Ve,Ze;const et=S.transform,ct=c.paint.get("fill-translate"),mt=c.paint.get("fill-translate-anchor");D?(De=fe&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ie=W.LINES):(De=fe?"fillPattern":"fill",Ie=W.TRIANGLES);const vt=ue.constantOr(null);for(const Et of v){const xt=l.getTile(Et);if(fe&&!xt.patternsLoaded())continue;const zt=xt.getBucket(c);if(!zt)continue;const Ft=zt.programConfigurations.get(c.id),ln=S.useProgram(De,Ft),An=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Et);fe&&(S.context.activeTexture.set(W.TEXTURE0),xt.imageAtlasTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),Ft.updatePaintBuffers(me)),ih(Ft,$,vt,xt,c);const on=et.getProjectionData({overscaledTileID:Et,applyGlobeMatrix:!U,applyTerrainMatrix:!0}),fn=a.au(et,xt,ct,mt);if(D){Ve=zt.indexBuffer2,Ze=zt.segments2;const cn=[W.drawingBufferWidth,W.drawingBufferHeight];He=De==="fillOutlinePattern"&&fe?Sp(S,me,xt,cn,fn):ha(cn,fn)}else Ve=zt.indexBuffer,Ze=zt.segments,He=fe?KA(S,me,xt,fn):{u_fill_translate:fn};let Un;if(S.renderPass==="translucent"&&U){const[cn]=S.getStencilConfigForOverlapAndUpdateStencilID(v);Un=cn[Et.overscaledZ]}else Un=S.stencilModeForClipping(Et);ln.draw(S.context,Ie,x,Un,O,bi.backCCW,He,An,on,c.id,zt.layoutVertexBuffer,Ve,Ze,c.paint,S.transform.zoom,Ft)}}function Bf(S,l,c,v,x,O,D,U){const W=S.context,$=W.gl,ue="fill-extrusion-pattern",fe=c.paint.get(ue),me=fe.constantOr(1),Ie=c.getCrossfadeParameters(),De=c.paint.get("fill-extrusion-opacity"),He=fe.constantOr(null),Ve=S.transform;for(const Ze of v){const et=l.getTile(Ze),ct=et.getBucket(c);if(!ct)continue;const mt=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ze),vt=ct.programConfigurations.get(c.id),Et=S.useProgram(me?"fillExtrusionPattern":"fillExtrusion",vt);me&&(S.context.activeTexture.set($.TEXTURE0),et.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),vt.updatePaintBuffers(Ie));const xt=Ve.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!U,applyTerrainMatrix:!0});ih(vt,ue,He,et,c);const zt=a.au(Ve,et,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Ft=c.paint.get("fill-extrusion-vertical-gradient"),ln=me?Mp(S,Ft,De,zt,Ze,Ie,et):Mm(S,Ft,De,zt);Et.draw(W,W.gl.TRIANGLES,x,O,D,bi.backCCW,ln,mt,xt,c.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,c.paint,S.transform.zoom,vt,S.style.map.terrain&&ct.centroidVertexBuffer)}}function Lh(S,l,c,v,x,O,D,U,W){var $;const ue=S.style.projection,fe=S.context,me=S.transform,Ie=fe.gl,De=S.useProgram("hillshade"),He=!S.options.moving;for(const Ve of v){const Ze=l.getTile(Ve),et=Ze.fbo;if(!et)continue;const ct=ue.getMeshFromTileID(fe,Ve.canonical,U,!0,"raster"),mt=($=S.style.map.terrain)===null||$===void 0?void 0:$.getTerrainData(Ve);fe.activeTexture.set(Ie.TEXTURE0),Ie.bindTexture(Ie.TEXTURE_2D,et.colorAttachment.get());const vt=me.getProjectionData({overscaledTileID:Ve,aligned:He,applyGlobeMatrix:!W,applyTerrainMatrix:!0});De.draw(fe,Ie.TRIANGLES,O,x[Ve.overscaledZ],D,bi.backCCW,Cd(S,Ze,c),mt,vt,c.id,ct.vertexBuffer,ct.indexBuffer,ct.segments)}}const aa=[new a.P(0,0),new a.P(a.X,0),new a.P(a.X,a.X),new a.P(0,a.X)];function yo(S,l,c,v,x,O,D,U,W=!1,$=!1){const ue=v[v.length-1].overscaledZ,fe=S.context,me=fe.gl,Ie=S.useProgram("raster"),De=S.transform,He=S.style.projection,Ve=S.colorModeForRenderPass(),Ze=!S.options.moving;for(const et of v){const ct=S.getDepthModeForSublayer(et.overscaledZ-ue,c.paint.get("raster-opacity")===1?Dr.ReadWrite:Dr.ReadOnly,me.LESS),mt=l.getTile(et);mt.registerFadeDuration(c.paint.get("raster-fade-duration"));const vt=l.findLoadedParent(et,0),Et=l.findLoadedSibling(et),xt=Oo(mt,vt||Et||null,l,c,S.transform,S.style.map.terrain);let zt,Ft;const ln=c.paint.get("raster-resampling")==="nearest"?me.NEAREST:me.LINEAR;fe.activeTexture.set(me.TEXTURE0),mt.texture.bind(ln,me.CLAMP_TO_EDGE,me.LINEAR_MIPMAP_NEAREST),fe.activeTexture.set(me.TEXTURE1),vt?(vt.texture.bind(ln,me.CLAMP_TO_EDGE,me.LINEAR_MIPMAP_NEAREST),zt=Math.pow(2,vt.tileID.overscaledZ-mt.tileID.overscaledZ),Ft=[mt.tileID.canonical.x*zt%1,mt.tileID.canonical.y*zt%1]):mt.texture.bind(ln,me.CLAMP_TO_EDGE,me.LINEAR_MIPMAP_NEAREST),mt.texture.useMipmap&&fe.extTextureFilterAnisotropic&&S.transform.pitch>20&&me.texParameterf(me.TEXTURE_2D,fe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,fe.extTextureFilterAnisotropicMax);const An=S.style.map.terrain&&S.style.map.terrain.getTerrainData(et),on=De.getProjectionData({overscaledTileID:et,aligned:Ze,applyGlobeMatrix:!$,applyTerrainMatrix:!0}),fn=bd(Ft||[0,0],zt||1,xt,c,U),Un=He.getMeshFromTileID(fe,et.canonical,O,D,"raster");Ie.draw(fe,me.TRIANGLES,ct,x?x[et.overscaledZ]:xi.disabled,Ve,W?bi.frontCCW:bi.backCCW,fn,An,on,c.id,Un.vertexBuffer,Un.indexBuffer,Un.segments)}}function Oo(S,l,c,v,x,O){const D=v.paint.get("raster-fade-duration");if(!O&&D>0){const U=I.now(),W=(U-S.timeAdded)/D,$=l?(U-l.timeAdded)/D:-1,ue=c.getSource(),fe=cr(x,{tileSize:ue.tileSize,roundZoom:ue.roundZoom}),me=!l||Math.abs(l.tileID.overscaledZ-fe)>Math.abs(S.tileID.overscaledZ-fe),Ie=me&&S.refreshedUponExpiration?1:a.ab(me?W:1-$,0,1);return S.refreshedUponExpiration&&W>=1&&(S.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Ie}:{opacity:Ie,mix:0}}return{opacity:1,mix:0}}const kp=new a.b4(1,0,0,1),Fh=new a.b4(0,1,0,1),If=new a.b4(0,0,1,1),fA=new a.b4(1,0,1,1),gc=new a.b4(0,1,1,1);function Nl(S,l,c,v){il(S,0,l+c/2,S.transform.width,c,v)}function NA(S,l,c,v){il(S,l-c/2,0,c,S.transform.height,v)}function il(S,l,c,v,x,O){const D=S.context,U=D.gl;U.enable(U.SCISSOR_TEST),U.scissor(l*S.pixelRatio,c*S.pixelRatio,v*S.pixelRatio,x*S.pixelRatio),D.clear({color:O}),U.disable(U.SCISSOR_TEST)}function pA(S,l,c){const v=S.context,x=v.gl,O=S.useProgram("debug"),D=Dr.disabled,U=xi.disabled,W=S.colorModeForRenderPass(),$="$debug",ue=S.style.map.terrain&&S.style.map.terrain.getTerrainData(c);v.activeTexture.set(x.TEXTURE0);const fe=l.getTileByID(c.key).latestRawTileData,me=Math.floor((fe&&fe.byteLength||0)/1024),Ie=l.getTile(c).tileSize,De=512/Math.min(Ie,512)*(c.overscaledZ/S.transform.zoom)*.5;let He=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(He+=` => ${c.overscaledZ}`),function(Ze,et){Ze.initDebugOverlayCanvas();const ct=Ze.debugOverlayCanvas,mt=Ze.context.gl,vt=Ze.debugOverlayCanvas.getContext("2d");vt.clearRect(0,0,ct.width,ct.height),vt.shadowColor="white",vt.shadowBlur=2,vt.lineWidth=1.5,vt.strokeStyle="white",vt.textBaseline="top",vt.font="bold 36px Open Sans, sans-serif",vt.fillText(et,5,5),vt.strokeText(et,5,5),Ze.debugOverlayTexture.update(ct),Ze.debugOverlayTexture.bind(mt.LINEAR,mt.CLAMP_TO_EDGE)}(S,`${He} ${me}kB`);const Ve=S.transform.getProjectionData({overscaledTileID:c,applyGlobeMatrix:!0,applyTerrainMatrix:!0});O.draw(v,x.TRIANGLES,D,U,Gi.alphaBlended,bi.disabled,Ph(a.b4.transparent,De),null,Ve,$,S.debugBuffer,S.quadTriangleIndexBuffer,S.debugSegments),O.draw(v,x.LINE_STRIP,D,U,W,bi.disabled,Ph(a.b4.red),ue,Ve,$,S.debugBuffer,S.tileBorderIndexBuffer,S.debugSegments)}function Ou(S,l,c,v){const{isRenderingGlobe:x}=v,O=S.context,D=O.gl,U=S.transform,W=S.colorModeForRenderPass(),$=S.getDepthModeFor3D(),ue=S.useProgram("terrain");O.bindFramebuffer.set(null),O.viewport.set([0,0,S.width,S.height]);for(const fe of c){const me=l.getTerrainMesh(fe.tileID),Ie=S.renderToTexture.getTexture(fe),De=l.getTerrainData(fe.tileID);O.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,Ie.texture);const He=l.getMeshFrameDelta(U.zoom),Ve=U.calculateFogMatrix(fe.tileID.toUnwrapped()),Ze=Yc(He,Ve,S.style.sky,U.pitch,x),et=U.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ue.draw(O,D.TRIANGLES,$,xi.disabled,W,bi.backCCW,Ze,De,et,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}}function oh(S,l){if(!l.mesh){const c=new a.aC;c.emplaceBack(-1,-1),c.emplaceBack(1,-1),c.emplaceBack(1,1),c.emplaceBack(-1,1);const v=new a.aE;v.emplaceBack(0,1,2),v.emplaceBack(0,2,3),l.mesh=new xa(S.createVertexBuffer(c,Gr.members),S.createIndexBuffer(v),a.aD.simpleSegment(0,0,c.length,v.length))}return l.mesh}class uu{constructor(l,c){this.context=new Sd(l),this.transform=c,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.aq(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Ee.maxUnderzooming+Ee.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Wo}resize(l,c,v){if(this.width=Math.floor(l*v),this.height=Math.floor(c*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style._order)this.style._layers[x].resize()}setup(){const l=this.context,c=new a.aC;c.emplaceBack(0,0),c.emplaceBack(a.X,0),c.emplaceBack(0,a.X),c.emplaceBack(a.X,a.X),this.tileExtentBuffer=l.createVertexBuffer(c,Gr.members),this.tileExtentSegments=a.aD.simpleSegment(0,0,4,2);const v=new a.aC;v.emplaceBack(0,0),v.emplaceBack(a.X,0),v.emplaceBack(0,a.X),v.emplaceBack(a.X,a.X),this.debugBuffer=l.createVertexBuffer(v,Gr.members),this.debugSegments=a.aD.simpleSegment(0,0,4,5);const x=new a.bT;x.emplaceBack(0,0,0,0),x.emplaceBack(a.X,0,a.X,0),x.emplaceBack(0,a.X,0,a.X),x.emplaceBack(a.X,a.X,a.X,a.X),this.rasterBoundsBuffer=l.createVertexBuffer(x,oa.members),this.rasterBoundsSegments=a.aD.simpleSegment(0,0,4,2);const O=new a.aC;O.emplaceBack(0,0),O.emplaceBack(a.X,0),O.emplaceBack(0,a.X),O.emplaceBack(a.X,a.X),this.rasterBoundsBufferPosOnly=l.createVertexBuffer(O,Gr.members),this.rasterBoundsSegmentsPosOnly=a.aD.simpleSegment(0,0,4,5);const D=new a.aC;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(D,Gr.members),this.viewportSegments=a.aD.simpleSegment(0,0,4,2);const U=new a.bU;U.emplaceBack(0),U.emplaceBack(1),U.emplaceBack(3),U.emplaceBack(2),U.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(U);const W=new a.aE;W.emplaceBack(1,0,2),W.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(W);const $=this.context.gl;this.stencilClearMode=new xi({func:$.ALWAYS,mask:0},0,255,$.ZERO,$.ZERO,$.ZERO),this.tileExtentMesh=new xa(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const l=this.context,c=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.H();a.bL(v,0,this.width,this.height,0,0,1),a.K(v,v,[c.drawingBufferWidth,c.drawingBufferHeight,0]);const x={mainMatrix:v,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:v};this.useProgram("clippingMask",null,!0).draw(l,c.TRIANGLES,Dr.disabled,this.stencilClearMode,Gi.disabled,bi.disabled,null,null,x,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,c,v){if(this.currentStencilSource===l.source||!l.isTileClipped()||!c||!c.length)return;this.currentStencilSource=l.source,this.nextStencilID+c.length>256&&this.clearStencil();const x=this.context;x.setColorMode(Gi.disabled),x.setDepthMode(Dr.disabled);const O={};for(const D of c)O[D.key]=this.nextStencilID++;this._renderTileMasks(O,c,v,!0),this._renderTileMasks(O,c,v,!1),this._tileClippingMaskIDs=O}_renderTileMasks(l,c,v,x){const O=this.context,D=O.gl,U=this.style.projection,W=this.transform,$=this.useProgram("clippingMask");for(const ue of c){const fe=l[ue.key],me=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ue),Ie=U.getMeshFromTileID(this.context,ue.canonical,x,!0,"stencil"),De=W.getProjectionData({overscaledTileID:ue,applyGlobeMatrix:!0,applyTerrainMatrix:!0});$.draw(O,D.TRIANGLES,Dr.disabled,new xi({func:D.ALWAYS,mask:0},fe,255,D.KEEP,D.KEEP,D.REPLACE),Gi.disabled,v?bi.disabled:bi.backCCW,null,me,De,"$clipping",Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}}_renderTilesDepthBuffer(){const l=this.context,c=l.gl,v=this.style.projection,x=this.transform,O=this.useProgram("depth"),D=this.getDepthModeFor3D(),U=Re(x,{tileSize:x.tileSize});for(const W of U){const $=this.style.map.terrain&&this.style.map.terrain.getTerrainData(W),ue=v.getMeshFromTileID(this.context,W.canonical,!0,!0,"raster"),fe=x.getProjectionData({overscaledTileID:W,applyGlobeMatrix:!0,applyTerrainMatrix:!0});O.draw(l,c.TRIANGLES,D,xi.disabled,Gi.disabled,bi.backCCW,null,$,fe,"$clipping",ue.vertexBuffer,ue.indexBuffer,ue.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,c=this.context.gl;return new xi({func:c.NOTEQUAL,mask:255},l,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(l){const c=this.context.gl;return new xi({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,c.KEEP,c.KEEP,c.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(l){const c=this.context.gl,v=l.sort((D,U)=>U.overscaledZ-D.overscaledZ),x=v[v.length-1].overscaledZ,O=v[0].overscaledZ-x+1;if(O>1){this.currentStencilSource=void 0,this.nextStencilID+O>256&&this.clearStencil();const D={};for(let U=0;U<O;U++)D[U+x]=new xi({func:c.GEQUAL,mask:255},U+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=O,[D,v]}return[{[x]:xi.disabled},v]}stencilConfigForOverlapTwoPass(l){const c=this.context.gl,v=l.sort((D,U)=>U.overscaledZ-D.overscaledZ),x=v[v.length-1].overscaledZ,O=v[0].overscaledZ-x+1;if(this.clearStencil(),O>1){const D={},U={};for(let W=0;W<O;W++)D[W+x]=new xi({func:c.GREATER,mask:255},O+1+W,255,c.KEEP,c.KEEP,c.REPLACE),U[W+x]=new xi({func:c.GREATER,mask:255},1+W,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID=2*O+1,[D,U,v]}return this.nextStencilID=3,[{[x]:new xi({func:c.GREATER,mask:255},2,255,c.KEEP,c.KEEP,c.REPLACE)},{[x]:new xi({func:c.GREATER,mask:255},1,255,c.KEEP,c.KEEP,c.REPLACE)},v]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new Gi([l.CONSTANT_COLOR,l.ONE],new a.b4(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Gi.unblended:Gi.alphaBlended}getDepthModeForSublayer(l,c,v){if(!this.opaquePassEnabledForLayer())return Dr.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new Dr(v||this.context.gl.LEQUAL,c,[x,x])}getDepthModeFor3D(){return new Dr(this.context.gl.LEQUAL,Dr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,c){var v,x;this.style=l,this.options=c,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(I.now()),this.imageManager.beginFrame();const O=this.style._order,D=this.style.sourceCaches,U={},W={},$={},ue={isRenderingToTexture:!1,isRenderingGlobe:((v=l.projection)===null||v===void 0?void 0:v.transitionState)>0};for(const me in D){const Ie=D[me];Ie.used&&Ie.prepare(this.context),U[me]=Ie.getVisibleCoordinates(!1),W[me]=U[me].slice().reverse(),$[me]=Ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let me=0;me<O.length;me++)if(this.style._layers[O[me]].is3D()){this.opaquePassCutoff=me;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const me of O){const Ie=this.style._layers[me];if(!Ie.hasOffscreenPass()||Ie.isHidden(this.transform.zoom))continue;const De=W[Ie.source];(Ie.type==="custom"||De.length)&&this.renderLayer(this,D[Ie.source],Ie,De,ue)}if((x=this.style.projection)===null||x===void 0||x.updateGPUdependent({context:this.context,useProgram:me=>this.useProgram(me)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?a.b4.black:a.b4.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(me,Ie){const De=me.context,He=De.gl,Ve=((Et,xt,zt)=>{const Ft=Math.cos(xt.rollInRadians),ln=Math.sin(xt.rollInRadians),An=Es(xt),on=xt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Et.properties.get("sky-color"),u_horizon_color:Et.properties.get("horizon-color"),u_horizon:[(xt.width/2-An*ln)*zt,(xt.height/2+An*Ft)*zt],u_horizon_normal:[-ln,Ft],u_sky_horizon_blend:Et.properties.get("sky-horizon-blend")*xt.height/2*zt,u_sky_blend:on}})(Ie,me.style.map.transform,me.pixelRatio),Ze=new Dr(He.LEQUAL,Dr.ReadWrite,[0,1]),et=xi.disabled,ct=me.colorModeForRenderPass(),mt=me.useProgram("sky"),vt=oh(De,Ie);mt.draw(De,He.TRIANGLES,Ze,et,ct,bi.disabled,Ve,null,void 0,"sky",vt.vertexBuffer,vt.indexBuffer,vt.segments)}(this,this.style.sky),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=O.length-1;this.currentLayer>=0;this.currentLayer--){const me=this.style._layers[O[this.currentLayer]],Ie=D[me.source],De=U[me.source];this._renderTileClippingMasks(me,De,!1),this.renderLayer(this,Ie,me,De,ue)}this.renderPass="translucent";let fe=!1;for(this.currentLayer=0;this.currentLayer<O.length;this.currentLayer++){const me=this.style._layers[O[this.currentLayer]],Ie=D[me.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(me,ue))continue;this.opaquePassEnabledForLayer()||fe||(fe=!0,ue.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const De=(me.type==="symbol"?$:W)[me.source];this._renderTileClippingMasks(me,U[me.source],!1),this.renderLayer(this,Ie,me,De,ue)}if(ue.isRenderingGlobe&&function(me,Ie,De){const He=me.context,Ve=He.gl,Ze=me.useProgram("atmosphere"),et=new Dr(Ve.LEQUAL,Dr.ReadOnly,[0,1]),ct=me.transform,mt=function(on,fn){const Un=on.properties.get("position"),cn=[-Un.x,-Un.y,-Un.z],ur=a.aq(new Float64Array(16));return on.properties.get("anchor")==="map"&&(a.aX(ur,ur,fn.rollInRadians),a.aY(ur,ur,-fn.pitchInRadians),a.aX(ur,ur,fn.bearingInRadians),a.aY(ur,ur,fn.center.lat*Math.PI/180),a.bj(ur,ur,-fn.center.lng*Math.PI/180)),a.bS(cn,cn,ur),cn}(De,me.transform),vt=ct.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Et=Ie.properties.get("atmosphere-blend")*vt.projectionTransition;if(Et===0)return;const xt=ri(ct.worldSize,ct.center.lat),zt=ct.inverseProjectionMatrix,Ft=new Float64Array(4);Ft[3]=1,a.al(Ft,Ft,ct.modelViewProjectionMatrix),Ft[0]/=Ft[3],Ft[1]/=Ft[3],Ft[2]/=Ft[3],Ft[3]=1,a.al(Ft,Ft,zt),Ft[0]/=Ft[3],Ft[1]/=Ft[3],Ft[2]/=Ft[3],Ft[3]=1;const ln=((on,fn,Un,cn,ur)=>({u_sun_pos:on,u_atmosphere_blend:fn,u_globe_position:Un,u_globe_radius:cn,u_inv_proj_matrix:ur}))(mt,Et,[Ft[0],Ft[1],Ft[2]],xt,zt),An=oh(He,Ie);Ze.draw(He,Ve.TRIANGLES,et,xi.disabled,Gi.alphaBlended,bi.disabled,ln,null,null,"atmosphere",An.vertexBuffer,An.indexBuffer,An.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const me=function(Ie,De){let He=null;const Ve=Object.values(Ie._layers).flatMap(mt=>mt.source&&!mt.isHidden(De)?[Ie.sourceCaches[mt.source]]:[]),Ze=Ve.filter(mt=>mt.getSource().type==="vector"),et=Ve.filter(mt=>mt.getSource().type!=="vector"),ct=mt=>{(!He||He.getSource().maxzoom<mt.getSource().maxzoom)&&(He=mt)};return Ze.forEach(mt=>ct(mt)),He||et.forEach(mt=>ct(mt)),He}(this.style,this.transform.zoom);me&&function(Ie,De,He){for(let Ve=0;Ve<He.length;Ve++)pA(Ie,De,He[Ve])}(this,me,me.getVisibleCoordinates())}this.options.showPadding&&function(me){const Ie=me.transform.padding;Nl(me,me.transform.height-(Ie.top||0),3,kp),Nl(me,Ie.bottom||0,3,Fh),NA(me,Ie.left||0,3,If),NA(me,me.transform.width-(Ie.right||0),3,fA);const De=me.transform.centerPoint;(function(He,Ve,Ze,et){il(He,Ve-1,Ze-10,2,20,et),il(He,Ve-10,Ze-1,20,2,et)})(me,De.x,me.transform.height-De.y,gc)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(l){if(!this.style||!this.style.map||!this.style.map.terrain)return;const c=this.terrainFacilitator.matrix,v=this.transform.modelViewProjectionMatrix;let x=this.terrainFacilitator.dirty;x||(x=l?!a.bV(c,v):!a.bW(c,v)),x||(x=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),x&&(a.bX(c,v),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(O,D){const U=O.context,W=U.gl,$=O.transform,ue=Gi.unblended,fe=new Dr(W.LEQUAL,Dr.ReadWrite,[0,1]),me=D.sourceCache.getRenderableTiles(),Ie=O.useProgram("terrainDepth");U.bindFramebuffer.set(D.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,O.width/devicePixelRatio,O.height/devicePixelRatio]),U.clear({color:a.b4.transparent,depth:1});for(const De of me){const He=D.getTerrainMesh(De.tileID),Ve=D.getTerrainData(De.tileID),Ze=$.getProjectionData({overscaledTileID:De.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),et={u_ele_delta:D.getMeshFrameDelta($.zoom)};Ie.draw(U,W.TRIANGLES,fe,xi.disabled,ue,bi.backCCW,et,Ve,Ze,"terrain",He.vertexBuffer,He.indexBuffer,He.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,O.width,O.height])}(this,this.style.map.terrain),function(O,D){const U=O.context,W=U.gl,$=O.transform,ue=Gi.unblended,fe=new Dr(W.LEQUAL,Dr.ReadWrite,[0,1]),me=D.getCoordsTexture(),Ie=D.sourceCache.getRenderableTiles(),De=O.useProgram("terrainCoords");U.bindFramebuffer.set(D.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,O.width/devicePixelRatio,O.height/devicePixelRatio]),U.clear({color:a.b4.transparent,depth:1}),D.coordsIndex=[];for(const He of Ie){const Ve=D.getTerrainMesh(He.tileID),Ze=D.getTerrainData(He.tileID);U.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,me.texture);const et={u_terrain_coords_id:(255-D.coordsIndex.length)/255,u_texture:0,u_ele_delta:D.getMeshFrameDelta($.zoom)},ct=$.getProjectionData({overscaledTileID:He.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});De.draw(U,W.TRIANGLES,fe,xi.disabled,ue,bi.backCCW,et,Ze,ct,"terrain",Ve.vertexBuffer,Ve.indexBuffer,Ve.segments),D.coordsIndex.push(He.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,O.width,O.height])}(this,this.style.map.terrain))}renderLayer(l,c,v,x,O){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="custom"||(x||[]).length)&&(this.id=v.id,a.bY(v)?function(D,U,W,$,ue,fe){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:me}=fe,Ie=xi.disabled,De=D.colorModeForRenderPass();(W._unevaluatedLayout.hasValue("text-variable-anchor")||W._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(He,Ve,Ze,et,ct,mt,vt,Et,xt){const zt=Ve.transform,Ft=Ve.style.map.terrain,ln=ct==="map",An=mt==="map";for(const on of He){const fn=et.getTile(on),Un=fn.getBucket(Ze);if(!Un||!Un.text||!Un.text.segments.get().length)continue;const cn=a.ah(Un.textSizeData,zt.zoom),ur=a.at(fn,1,Ve.transform.zoom),Ai=yt(ln,Ve.transform,ur),ho=Ze.layout.get("icon-text-fit")!=="none"&&Un.hasIconData();{const fa=Math.pow(2,zt.zoom-fn.tileID.overscaledZ),fi=Ft?(Mo,So)=>Ft.getElevation(on,Mo,So):null;th(Un,ln,An,xt,zt,Ai,fa,cn,ho,a.au(zt,fn,vt,Et),on.toUnwrapped(),fi)}}}($,D,W,U,W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),ue),W.paint.get("icon-opacity").constantOr(1)!==0&&nh(D,U,W,$,!1,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),W.layout.get("icon-rotation-alignment"),W.layout.get("icon-pitch-alignment"),W.layout.get("icon-keep-upright"),Ie,De,me),W.paint.get("text-opacity").constantOr(1)!==0&&nh(D,U,W,$,!0,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),W.layout.get("text-keep-upright"),Ie,De,me),U.map.showCollisionBoxes&&(Ed(D,U,W,$,!0),Ed(D,U,W,$,!1))}(l,c,v,x,this.style.placement.variableOffsets,O):a.bZ(v)?function(D,U,W,$,ue){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=ue,me=W.paint.get("circle-opacity"),Ie=W.paint.get("circle-stroke-width"),De=W.paint.get("circle-stroke-opacity"),He=!W.layout.get("circle-sort-key").isConstant();if(me.constantOr(1)===0&&(Ie.constantOr(1)===0||De.constantOr(1)===0))return;const Ve=D.context,Ze=Ve.gl,et=D.transform,ct=D.getDepthModeForSublayer(0,Dr.ReadOnly),mt=xi.disabled,vt=D.colorModeForRenderPass(),Et=[],xt=et.getCircleRadiusCorrection();for(let zt=0;zt<$.length;zt++){const Ft=$[zt],ln=U.getTile(Ft),An=ln.getBucket(W);if(!An)continue;const on=W.paint.get("circle-translate"),fn=W.paint.get("circle-translate-anchor"),Un=a.au(et,ln,on,fn),cn=An.programConfigurations.get(W.id),ur=D.useProgram("circle",cn),Ai=An.layoutVertexBuffer,ho=An.indexBuffer,fa=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Ft),fi={programConfiguration:cn,program:ur,layoutVertexBuffer:Ai,indexBuffer:ho,uniformValues:bf(D,ln,W,Un,xt),terrainData:fa,projectionData:et.getProjectionData({overscaledTileID:Ft,applyGlobeMatrix:!fe,applyTerrainMatrix:!0})};if(He){const Mo=An.segments.get();for(const So of Mo)Et.push({segments:new a.aD([So]),sortKey:So.sortKey,state:fi})}else Et.push({segments:An.segments,sortKey:0,state:fi})}He&&Et.sort((zt,Ft)=>zt.sortKey-Ft.sortKey);for(const zt of Et){const{programConfiguration:Ft,program:ln,layoutVertexBuffer:An,indexBuffer:on,uniformValues:fn,terrainData:Un,projectionData:cn}=zt.state;ln.draw(Ve,Ze.TRIANGLES,ct,mt,vt,bi.backCCW,fn,Un,cn,W.id,An,on,zt.segments,W.paint,D.transform.zoom,Ft)}}(l,c,v,x,O):a.b_(v)?function(D,U,W,$,ue){if(W.paint.get("heatmap-opacity")===0)return;const fe=D.context,{isRenderingToTexture:me,isRenderingGlobe:Ie}=ue;if(D.style.map.terrain){for(const De of $){const He=U.getTile(De);U.hasRenderableParent(De)||(D.renderPass==="offscreen"?jA(D,He,W,De,Ie):D.renderPass==="translucent"&&Dh(D,W,De,me,Ie))}fe.viewport.set([0,0,D.width,D.height])}else D.renderPass==="offscreen"?function(De,He,Ve,Ze){const et=De.context,ct=et.gl,mt=De.transform,vt=xi.disabled,Et=new Gi([ct.ONE,ct.ONE],a.b4.transparent,[!0,!0,!0,!0]);(function(xt,zt,Ft){const ln=xt.gl;xt.activeTexture.set(ln.TEXTURE1),xt.viewport.set([0,0,zt.width/4,zt.height/4]);let An=Ft.heatmapFbos.get(a.bP);An?(ln.bindTexture(ln.TEXTURE_2D,An.colorAttachment.get()),xt.bindFramebuffer.set(An.framebuffer)):(An=rh(xt,zt.width/4,zt.height/4),Ft.heatmapFbos.set(a.bP,An))})(et,De,Ve),et.clear({color:a.b4.transparent});for(let xt=0;xt<Ze.length;xt++){const zt=Ze[xt];if(He.hasRenderableParent(zt))continue;const Ft=He.getTile(zt),ln=Ft.getBucket(Ve);if(!ln)continue;const An=ln.programConfigurations.get(Ve.id),on=De.useProgram("heatmap",An),fn=mt.getProjectionData({overscaledTileID:zt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Un=mt.getCircleRadiusCorrection();on.draw(et,ct.TRIANGLES,Dr.disabled,vt,Et,bi.backCCW,DA(Ft,mt.zoom,Ve.paint.get("heatmap-intensity"),Un),null,fn,Ve.id,ln.layoutVertexBuffer,ln.indexBuffer,ln.segments,Ve.paint,mt.zoom,An)}et.viewport.set([0,0,De.width,De.height])}(D,U,W,$):D.renderPass==="translucent"&&function(De,He){const Ve=De.context,Ze=Ve.gl;Ve.setColorMode(De.colorModeForRenderPass());const et=He.heatmapFbos.get(a.bP);et&&(Ve.activeTexture.set(Ze.TEXTURE0),Ze.bindTexture(Ze.TEXTURE_2D,et.colorAttachment.get()),Ve.activeTexture.set(Ze.TEXTURE1),zA(Ve,He).bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),De.useProgram("heatmapTexture").draw(Ve,Ze.TRIANGLES,Dr.disabled,xi.disabled,De.colorModeForRenderPass(),bi.disabled,_d(De,He,0,1),null,null,He.id,De.viewportBuffer,De.quadTriangleIndexBuffer,De.viewportSegments,He.paint,De.transform.zoom))}(D,W)}(l,c,v,x,O):a.b$(v)?function(D,U,W,$,ue){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=ue,me=W.paint.get("line-opacity"),Ie=W.paint.get("line-width");if(me.constantOr(1)===0||Ie.constantOr(1)===0)return;const De=D.getDepthModeForSublayer(0,Dr.ReadOnly),He=D.colorModeForRenderPass(),Ve=W.paint.get("line-dasharray"),Ze=W.paint.get("line-pattern"),et=Ze.constantOr(1),ct=W.paint.get("line-gradient"),mt=W.getCrossfadeParameters(),vt=et?"linePattern":Ve?"lineSDF":ct?"lineGradient":"line",Et=D.context,xt=Et.gl,zt=D.transform;let Ft=!0;for(const ln of $){const An=U.getTile(ln);if(et&&!An.patternsLoaded())continue;const on=An.getBucket(W);if(!on)continue;const fn=on.programConfigurations.get(W.id),Un=D.context.program.get(),cn=D.useProgram(vt,fn),ur=Ft||cn.program!==Un,Ai=D.style.map.terrain&&D.style.map.terrain.getTerrainData(ln),ho=Ze.constantOr(null);if(ho&&An.imageAtlas){const to=An.imageAtlas,$i=to.patternPositions[ho.to.toString()],Xa=to.patternPositions[ho.from.toString()];$i&&Xa&&fn.setConstantPatternPositions($i,Xa)}const fa=zt.getProjectionData({overscaledTileID:ln,applyGlobeMatrix:!fe,applyTerrainMatrix:!0}),fi=zt.getPixelScale(),Mo=et?Ep(D,An,W,fi,mt):Ve?uA(D,An,W,fi,Ve,mt):ct?Ul(D,An,W,fi,on.lineClipsArray.length):Ac(D,An,W,fi);if(et)Et.activeTexture.set(xt.TEXTURE0),An.imageAtlasTexture.bind(xt.LINEAR,xt.CLAMP_TO_EDGE),fn.updatePaintBuffers(mt);else if(Ve&&(ur||D.lineAtlas.dirty))Et.activeTexture.set(xt.TEXTURE0),D.lineAtlas.bind(Et);else if(ct){const to=on.gradients[W.id];let $i=to.texture;if(W.gradientVersion!==to.version){let Xa=256;if(W.stepInterpolant){const _o=U.getSource().maxzoom,Po=ln.canonical.z===_o?Math.ceil(1<<D.transform.maxZoom-ln.canonical.z):1;Xa=a.ab(a.bQ(on.maxLineLength/a.X*1024*Po),256,Et.maxTextureSize)}to.gradient=a.bR({expression:W.gradientExpression(),evaluationKey:"lineProgress",resolution:Xa,image:to.gradient||void 0,clips:on.lineClipsArray}),to.texture?to.texture.update(to.gradient):to.texture=new re(Et,to.gradient,xt.RGBA),to.version=W.gradientVersion,$i=to.texture}Et.activeTexture.set(xt.TEXTURE0),$i.bind(W.stepInterpolant?xt.NEAREST:xt.LINEAR,xt.CLAMP_TO_EDGE)}let So;if(fe){const[to]=D.getStencilConfigForOverlapAndUpdateStencilID($);So=to[ln.overscaledZ]}else So=D.stencilModeForClipping(ln);cn.draw(Et,xt.TRIANGLES,De,So,He,bi.disabled,Mo,Ai,fa,W.id,on.layoutVertexBuffer,on.indexBuffer,on.segments,W.paint,D.transform.zoom,fn,on.layoutVertexBuffer2),Ft=!1}}(l,c,v,x,O):a.c0(v)?function(D,U,W,$,ue){const fe=W.paint.get("fill-color"),me=W.paint.get("fill-opacity");if(me.constantOr(1)===0)return;const{isRenderingToTexture:Ie}=ue,De=D.colorModeForRenderPass(),He=W.paint.get("fill-pattern"),Ve=D.opaquePassEnabledForLayer()&&!He.constantOr(1)&&fe.constantOr(a.b4.transparent).a===1&&me.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===Ve){const Ze=D.getDepthModeForSublayer(1,D.renderPass==="opaque"?Dr.ReadWrite:Dr.ReadOnly);Of(D,U,W,$,Ze,De,!1,Ie)}if(D.renderPass==="translucent"&&W.paint.get("fill-antialias")){const Ze=D.getDepthModeForSublayer(W.getPaintProperty("fill-outline-color")?2:0,Dr.ReadOnly);Of(D,U,W,$,Ze,De,!0,Ie)}}(l,c,v,x,O):a.c1(v)?function(D,U,W,$,ue){const fe=W.paint.get("fill-extrusion-opacity");if(fe===0)return;const{isRenderingToTexture:me}=ue;if(D.renderPass==="translucent"){const Ie=new Dr(D.context.gl.LEQUAL,Dr.ReadWrite,D.depthRangeFor3D);if(fe!==1||W.paint.get("fill-extrusion-pattern").constantOr(1))Bf(D,U,W,$,Ie,xi.disabled,Gi.disabled,me),Bf(D,U,W,$,Ie,D.stencilModeFor3D(),D.colorModeForRenderPass(),me);else{const De=D.colorModeForRenderPass();Bf(D,U,W,$,Ie,xi.disabled,De,me)}}}(l,c,v,x,O):a.c2(v)?function(D,U,W,$,ue){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=ue,me=D.context,Ie=D.style.projection.useSubdivision,De=D.getDepthModeForSublayer(0,Dr.ReadOnly),He=D.colorModeForRenderPass();if(D.renderPass==="offscreen")(function(Ve,Ze,et,ct,mt,vt,Et){const xt=Ve.context,zt=xt.gl;for(const Ft of et){const ln=Ze.getTile(Ft),An=ln.dem;if(!An||!An.data||!ln.needsHillshadePrepare)continue;const on=An.dim,fn=An.stride,Un=An.getPixels();if(xt.activeTexture.set(zt.TEXTURE1),xt.pixelStoreUnpackPremultiplyAlpha.set(!1),ln.demTexture=ln.demTexture||Ve.getTileTexture(fn),ln.demTexture){const ur=ln.demTexture;ur.update(Un,{premultiply:!1}),ur.bind(zt.NEAREST,zt.CLAMP_TO_EDGE)}else ln.demTexture=new re(xt,Un,zt.RGBA,{premultiply:!1}),ln.demTexture.bind(zt.NEAREST,zt.CLAMP_TO_EDGE);xt.activeTexture.set(zt.TEXTURE0);let cn=ln.fbo;if(!cn){const ur=new re(xt,{width:on,height:on,data:null},zt.RGBA);ur.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),cn=ln.fbo=xt.createFramebuffer(on,on,!0,!1),cn.colorAttachment.set(ur.texture)}xt.bindFramebuffer.set(cn.framebuffer),xt.viewport.set([0,0,on,on]),Ve.useProgram("hillshadePrepare").draw(xt,zt.TRIANGLES,mt,vt,Et,bi.disabled,Hc(ln.tileID,An),null,null,ct.id,Ve.rasterBoundsBuffer,Ve.quadTriangleIndexBuffer,Ve.rasterBoundsSegments),ln.needsHillshadePrepare=!1}})(D,U,$,W,De,xi.disabled,He),me.viewport.set([0,0,D.width,D.height]);else if(D.renderPass==="translucent")if(Ie){const[Ve,Ze,et]=D.stencilConfigForOverlapTwoPass($);Lh(D,U,W,et,Ve,De,He,!1,fe),Lh(D,U,W,et,Ze,De,He,!0,fe)}else{const[Ve,Ze]=D.getStencilConfigForOverlapAndUpdateStencilID($);Lh(D,U,W,Ze,Ve,De,He,!1,fe)}}(l,c,v,x,O):a.c3(v)?function(D,U,W,$,ue){if(D.renderPass!=="translucent"||W.paint.get("raster-opacity")===0||!$.length)return;const{isRenderingToTexture:fe}=ue,me=U.getSource(),Ie=D.style.projection.useSubdivision;if(me instanceof Zn)yo(D,U,W,$,null,!1,!1,me.tileCoords,me.flippedWindingOrder,fe);else if(Ie){const[De,He,Ve]=D.stencilConfigForOverlapTwoPass($);yo(D,U,W,Ve,De,!1,!0,aa,!1,fe),yo(D,U,W,Ve,He,!0,!0,aa,!1,fe)}else{const[De,He]=D.getStencilConfigForOverlapAndUpdateStencilID($);yo(D,U,W,He,De,!1,!0,aa,!1,fe)}}(l,c,v,x,O):a.c4(v)?function(D,U,W,$,ue){const fe=W.paint.get("background-color"),me=W.paint.get("background-opacity");if(me===0)return;const{isRenderingToTexture:Ie}=ue,De=D.context,He=De.gl,Ve=D.style.projection,Ze=D.transform,et=Ze.tileSize,ct=W.paint.get("background-pattern");if(D.isPatternMissing(ct))return;const mt=!ct&&fe.a===1&&me===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==mt)return;const vt=xi.disabled,Et=D.getDepthModeForSublayer(0,mt==="opaque"?Dr.ReadWrite:Dr.ReadOnly),xt=D.colorModeForRenderPass(),zt=D.useProgram(ct?"backgroundPattern":"background"),Ft=$||Re(Ze,{tileSize:et,terrain:D.style.map.terrain});ct&&(De.activeTexture.set(He.TEXTURE0),D.imageManager.bind(D.context));const ln=W.getCrossfadeParameters();for(const An of Ft){const on=Ze.getProjectionData({overscaledTileID:An,applyGlobeMatrix:!Ie,applyTerrainMatrix:!0}),fn=ct?wf(me,D,ct,{tileID:An,tileSize:et},ln):cc(me,fe),Un=D.style.map.terrain&&D.style.map.terrain.getTerrainData(An),cn=Ve.getMeshFromTileID(De,An.canonical,!1,!0,"raster");zt.draw(De,He.TRIANGLES,Et,vt,xt,bi.backCCW,fn,Un,on,W.id,cn.vertexBuffer,cn.indexBuffer,cn.segments)}}(l,0,v,x,O):a.c5(v)&&function(D,U,W,$){const{isRenderingGlobe:ue}=$,fe=D.context,me=W.implementation,Ie=D.style.projection,De=D.transform,He=De.getProjectionDataForCustomLayer(ue),Ve={farZ:De.farZ,nearZ:De.nearZ,fov:De.fov*Math.PI/180,modelViewProjectionMatrix:De.modelViewProjectionMatrix,projectionMatrix:De.projectionMatrix,shaderData:{variantName:Ie.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Ie.shaderPreludeCode.vertexSource}`,define:Ie.shaderDefine},defaultProjectionData:He},Ze=me.renderingMode?me.renderingMode:"2d";if(D.renderPass==="offscreen"){const et=me.prerender;et&&(D.setCustomLayerDefaults(),fe.setColorMode(D.colorModeForRenderPass()),et.call(me,fe.gl,Ve),fe.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),fe.setColorMode(D.colorModeForRenderPass()),fe.setStencilMode(xi.disabled);const et=Ze==="3d"?D.getDepthModeFor3D():D.getDepthModeForSublayer(0,Dr.ReadOnly);fe.setDepthMode(et),me.render(fe.gl,Ve),fe.setDirty(),D.setBaseState(),fe.bindFramebuffer.set(null)}}(l,0,v,O))}saveTileTexture(l){const c=this._tileTextures[l.size[0]];c?c.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const c=this._tileTextures[l];return c&&c.length>0?c.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const c=this.imageManager.getPattern(l.from.toString()),v=this.imageManager.getPattern(l.to.toString());return!c||!v}useProgram(l,c,v=!1){this.cache=this.cache||{};const x=!!this.style.map.terrain,O=this.style.projection,D=l+(c?c.cacheKey:"")+`/${v?Mu:O.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(x?"/terrain":"");return this.cache[D]||(this.cache[D]=new Th(this.context,Br[l],c,Kh[l],this._showOverdrawInspector,x,v?Br.projectionMercator:O.shaderPreludeCode,v?ms:O.shaderDefine)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new re(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:l,drawingBufferHeight:c}=this.context.gl;return this.width!==l||this.height!==c}}function kf(S,l){let c,v=!1,x=null,O=null;const D=()=>{x=null,v&&(S.apply(O,c),x=setTimeout(D,l),v=!1)};return(...U)=>(v=!0,O=this,c=U,x||D(),x)}class Tp{constructor(l){this._getCurrentHash=()=>{const c=window.location.hash.replace("#","");if(this._hashName){let v;return c.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(v=x)}),(v&&v[1]||"").split("/")}return c.split("/")},this._onHashChange=()=>{const c=this._getCurrentHash();if(!this._isValidHash(c))return!1;const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:v,pitch:+(c[4]||0)}),!0},this._updateHashUnthrottled=()=>{const c=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,c)},this._removeHash=()=>{const c=this._getCurrentHash();if(c.length===0)return;const v=c.join("/");let x=v;x.split("&").length>0&&(x=x.split("&")[0]),this._hashName&&(x=`${this._hashName}=${v}`);let O=window.location.hash.replace(x,"");O.startsWith("#&")?O=O.slice(0,1)+O.slice(2):O==="#"&&(O="");let D=window.location.href.replace(/(#.+)?$/,O);D=D.replace("&&","&"),window.history.replaceState(window.history.state,null,D)},this._updateHash=kf(this._updateHashUnthrottled,300),this._hashName=l&&encodeURIComponent(l)}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(l){const c=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,x=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),O=Math.pow(10,x),D=Math.round(c.lng*O)/O,U=Math.round(c.lat*O)/O,W=this._map.getBearing(),$=this._map.getPitch();let ue="";if(ue+=l?`/${D}/${U}/${v}`:`${v}/${U}/${D}`,(W||$)&&(ue+="/"+Math.round(10*W)/10),$&&(ue+=`/${Math.round($)}`),this._hashName){const fe=this._hashName;let me=!1;const Ie=window.location.hash.slice(1).split("&").map(De=>{const He=De.split("=")[0];return He===fe?(me=!0,`${He}=${ue}`):De}).filter(De=>De);return me||Ie.push(`${fe}=${ue}`),`#${Ie.join("&")}`}return`#${ue}`}_isValidHash(l){if(l.length<3||l.some(isNaN))return!1;try{new a.N(+l[2],+l[1])}catch{return!1}const c=+l[0],v=+(l[3]||0),x=+(l[4]||0);return c>=this._map.getMinZoom()&&c<=this._map.getMaxZoom()&&v>=0&&v<=180&&x>=this._map.getMinPitch()&&x<=this._map.getMaxPitch()}}const Bu={linearity:.3,easing:a.c6(0,0,.3,1)},yc=a.e({deceleration:2500,maxSpeed:1400},Bu),Om=a.e({deceleration:20,maxSpeed:1400},Bu),Bd=a.e({deceleration:1e3,maxSpeed:360},Bu),Rh=a.e({deceleration:1e3,maxSpeed:90},Bu),Uh=a.e({deceleration:1e3,maxSpeed:360},Bu);class ze{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:I.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,c=I.now();for(;l.length>0&&c-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:O}of this._inertiaBuffer)c.zoom+=O.zoomDelta||0,c.bearing+=O.bearingDelta||0,c.pitch+=O.pitchDelta||0,c.roll+=O.rollDelta||0,O.panDelta&&c.pan._add(O.panDelta),O.around&&(c.around=O.around),O.pinchAround&&(c.pinchAround=O.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(c.pan.mag()){const O=To(c.pan.mag(),v,a.e({},yc,l||{})),D=c.pan.mult(O.amount/c.pan.mag()),U=this._map.cameraHelper.handlePanInertia(D,this._map.transform);x.center=U.easingCenter,x.offset=U.easingOffset,Ha(x,O)}if(c.zoom){const O=To(c.zoom,v,Om);x.zoom=this._map.transform.zoom+O.amount,Ha(x,O)}if(c.bearing){const O=To(c.bearing,v,Bd);x.bearing=this._map.transform.bearing+a.ab(O.amount,-179,179),Ha(x,O)}if(c.pitch){const O=To(c.pitch,v,Rh);x.pitch=this._map.transform.pitch+O.amount,Ha(x,O)}if(c.roll){const O=To(c.roll,v,Uh);x.roll=this._map.transform.roll+a.ab(O.amount,-179,179),Ha(x,O)}if(x.zoom||x.bearing){const O=c.pinchAround===void 0?c.around:c.pinchAround;x.around=O?this._map.unproject(O):this._map.getCenter()}return this.clear(),a.e(x,{noMoveStart:!0})}}function Ha(S,l){(!S.duration||S.duration<l.duration)&&(S.duration=l.duration,S.easing=l.easing)}function To(S,l,c){const{maxSpeed:v,linearity:x,deceleration:O}=c,D=a.ab(S*x/(l/1e3),-v,v),U=Math.abs(D)/(O*x);return{easing:c.easing,duration:1e3*U,amount:D*(U/2)}}class Pi extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v,x={}){const O=K.mousePos(c.getCanvas(),v),D=c.unproject(O);super(l,a.e({point:O,lngLat:D,originalEvent:v},x)),this._defaultPrevented=!1,this.target=c}}class Pr extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v){const x=l==="touchend"?v.changedTouches:v.touches,O=K.touchPos(c.getCanvasContainer(),x),D=O.map(W=>c.unproject(W)),U=O.reduce((W,$,ue,fe)=>W.add($.div(fe.length)),new a.P(0,0));super(l,{points:O,point:U,lngLats:D,lngLat:c.unproject(U),originalEvent:v}),this._defaultPrevented=!1}}class da extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v){super(l,{originalEvent:v}),this._defaultPrevented=!1}}class Id{constructor(l,c){this._map=l,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new da(l.type,this._map,l))}mousedown(l,c){return this._mousedownPos=c,this._firePreventable(new Pi(l.type,this._map,l))}mouseup(l){this._map.fire(new Pi(l.type,this._map,l))}click(l,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new Pi(l.type,this._map,l))}dblclick(l){return this._firePreventable(new Pi(l.type,this._map,l))}mouseover(l){this._map.fire(new Pi(l.type,this._map,l))}mouseout(l){this._map.fire(new Pi(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Pr(l.type,this._map,l))}touchmove(l){this._map.fire(new Pr(l.type,this._map,l))}touchend(l){this._map.fire(new Pr(l.type,this._map,l))}touchcancel(l){this._map.fire(new Pr(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class V0{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new Pi(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Pi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new Pi(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wl{constructor(l){this._map=l}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(l){return this.transform.screenPointToLocation(a.P.convert(l),this._map.terrain)}}class Bm{constructor(l,c){this._map=l,this._tr=new Wl(l),this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,c){this.isEnabled()&&l.shiftKey&&l.button===0&&(K.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(l,c){if(!this._active)return;const v=c;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const x=this._startPos;this._lastPos=v,this._box||(this._box=K.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",l));const O=Math.min(x.x,v.x),D=Math.max(x.x,v.x),U=Math.min(x.y,v.y),W=Math.max(x.y,v.y);K.setTransform(this._box,`translate(${O}px,${U}px)`),this._box.style.width=D-O+"px",this._box.style.height=W-U+"px"}mouseupWindow(l,c){if(!this._active||l.button!==0)return;const v=this._startPos,x=c;if(this.reset(),K.suppressClick(),v.x!==x.x||v.y!==x.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:l})),{cameraAnimation:O=>O.fitScreenCoordinates(v,x,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(K.remove(this._box),this._box=null),K.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,c){return this._map.fire(new a.k(l,{originalEvent:c}))}}function Tf(S,l){if(S.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${S.length}, points ${l.length}`);const c={};for(let v=0;v<S.length;v++)c[S[v].identifier]=l[v];return c}class kd{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,c,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),v.length===this.numTouches&&(this.centroid=function(x){const O=new a.P(0,0);for(const D of x)O._add(D);return O.div(x.length)}(c),this.touches=Tf(v,c)))}touchmove(l,c,v){if(this.aborted||!this.centroid)return;const x=Tf(v,c);for(const O in this.touches){const D=x[O];(!D||D.dist(this.touches[O])>30)&&(this.aborted=!0)}}touchend(l,c,v){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class Au{constructor(l){this.singleTap=new kd(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,c,v){this.singleTap.touchstart(l,c,v)}touchmove(l,c,v){this.singleTap.touchmove(l,c,v)}touchend(l,c,v){const x=this.singleTap.touchend(l,c,v);if(x){const O=l.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(x)<30;if(O&&D||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class ir{constructor(l){this._tr=new Wl(l),this._zoomIn=new Au({numTouches:1,numTaps:2}),this._zoomOut=new Au({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,c,v){this._zoomIn.touchstart(l,c,v),this._zoomOut.touchstart(l,c,v)}touchmove(l,c,v){this._zoomIn.touchmove(l,c,v),this._zoomOut.touchmove(l,c,v)}touchend(l,c,v){const x=this._zoomIn.touchend(l,c,v),O=this._zoomOut.touchend(l,c,v),D=this._tr;return x?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(x)},{originalEvent:l})}):O?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(O)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ol{constructor(l){this._enabled=!!l.enable,this._moveStateManager=l.moveStateManager,this._clickTolerance=l.clickTolerance||1,this._moveFunction=l.move,this._activateOnStart=!!l.activateOnStart,l.assignEvents(this),this.reset()}reset(l){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(l)}_move(...l){const c=this._moveFunction(...l);if(c.bearingDelta||c.pitchDelta||c.rollDelta||c.around||c.panDelta)return this._active=!0,c}dragStart(l,c){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(l)&&(this._moveStateManager.startMove(l),this._lastPoint=Array.isArray(c)?c[0]:c,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(l,c){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(l.preventDefault(),!this._moveStateManager.isValidMoveEvent(l))return void this.reset(l);const x=Array.isArray(c)?c[0]:c;return!this._moved&&x.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=x,this._move(v,x))}dragEnd(l){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(l)&&(this._moved&&K.suppressClick(),this.reset(l))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Pp={0:1,2:2};class vc{constructor(l){this._correctEvent=l.checkCorrectEvent}startMove(l){const c=K.mouseButton(l);this._eventButton=c}endMove(l){delete this._eventButton}isValidStartEvent(l){return this._correctEvent(l)}isValidMoveEvent(l){return!function(c,v){const x=Pp[v];return c.buttons===void 0||(c.buttons&x)!==x}(l,this._eventButton)}isValidEndEvent(l){return K.mouseButton(l)===this._eventButton}}class ah{constructor(){this._firstTouch=void 0}_isOneFingerTouch(l){return l.targetTouches.length===1}_isSameTouchEvent(l){return l.targetTouches[0].identifier===this._firstTouch}startMove(l){this._firstTouch=l.targetTouches[0].identifier}endMove(l){delete this._firstTouch}isValidStartEvent(l){return this._isOneFingerTouch(l)}isValidMoveEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}isValidEndEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}}class jh{constructor(l=new vc({checkCorrectEvent:()=>!0}),c=new ah){this.mouseMoveStateManager=l,this.oneFingerTouchMoveStateManager=c}_executeRelevantHandler(l,c,v){return l instanceof MouseEvent?c(l):typeof TouchEvent<"u"&&l instanceof TouchEvent?v(l):void 0}startMove(l){this._executeRelevantHandler(l,c=>this.mouseMoveStateManager.startMove(c),c=>this.oneFingerTouchMoveStateManager.startMove(c))}endMove(l){this._executeRelevantHandler(l,c=>this.mouseMoveStateManager.endMove(c),c=>this.oneFingerTouchMoveStateManager.endMove(c))}isValidStartEvent(l){return this._executeRelevantHandler(l,c=>this.mouseMoveStateManager.isValidStartEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidStartEvent(c))}isValidMoveEvent(l){return this._executeRelevantHandler(l,c=>this.mouseMoveStateManager.isValidMoveEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(c))}isValidEndEvent(l){return this._executeRelevantHandler(l,c=>this.mouseMoveStateManager.isValidEndEvent(c),c=>this.oneFingerTouchMoveStateManager.isValidEndEvent(c))}}const zh=S=>{S.mousedown=S.dragStart,S.mousemoveWindow=S.dragMove,S.mouseup=S.dragEnd,S.contextmenu=l=>{l.preventDefault()}};class ui{constructor(l,c){this._clickTolerance=l.clickTolerance||1,this._map=c,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(l){return l<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(l,c,v){return this._calculateTransform(l,c,v)}touchmove(l,c,v){if(this._active){if(!this._shouldBePrevented(v.length))return l.preventDefault(),this._calculateTransform(l,c,v);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",l)}}touchend(l,c,v){this._calculateTransform(l,c,v),this._active&&this._shouldBePrevented(v.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,c,v){v.length>0&&(this._active=!0);const x=Tf(v,c),O=new a.P(0,0),D=new a.P(0,0);let U=0;for(const $ in x){const ue=x[$],fe=this._touches[$];fe&&(O._add(ue),D._add(ue.sub(fe)),U++,x[$]=ue)}if(this._touches=x,this._shouldBePrevented(U)||!D.mag())return;const W=D.div(U);return this._sum._add(W),this._sum.mag()<this._clickTolerance?void 0:{around:O.div(U),panDelta:W}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nh{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(l,c,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([c[0],c[1]]))}touchmove(l,c,v){if(!this._firstTwoTouches)return;l.preventDefault();const[x,O]=this._firstTwoTouches,D=_c(v,c,x),U=_c(v,c,O);if(!D||!U)return;const W=this._aroundCenter?null:D.add(U).div(2);return this._move([D,U],W,l)}touchend(l,c,v){if(!this._firstTwoTouches)return;const[x,O]=this._firstTwoTouches,D=_c(v,c,x),U=_c(v,c,O);D&&U||(this._active&&K.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function _c(S,l,c){for(let v=0;v<S.length;v++)if(S[v].identifier===c)return l[v]}function Pf(S,l){return Math.log(S/l)/Math.LN2}class Td extends Nh{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,c){const v=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Pf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Pf(this._distance,v),pinchAround:c}}}function mA(S,l){return 180*S.angleWith(l)/Math.PI}class gA extends Nh{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,c,v){const x=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:mA(this._vector,x),pinchAround:c}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const c=25/(Math.PI*this._minDiameter)*360,v=mA(l,this._startVector);return Math.abs(v)<c}}function Pd(S){return Math.abs(S.y)>Math.abs(S.x)}class Kf extends Nh{constructor(l){super(),this._currentTouchCount=0,this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,c,v){super.touchstart(l,c,v),this._currentTouchCount=v.length}_start(l){this._lastPoints=l,Pd(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,c,v){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const x=l[0].sub(this._lastPoints[0]),O=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(x,O,v.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:(x.y+O.y)/2*-.5}):void 0}gestureBeginsVertically(l,c,v){if(this._valid!==void 0)return this._valid;const x=l.mag()>=2,O=c.mag()>=2;if(!x&&!O)return;if(!x||!O)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const D=l.y>0==c.y>0;return Pd(l)&&Pd(c)&&D}}const Ea={panStep:100,bearingStep:15,pitchStep:10};class co{constructor(l){this._tr=new Wl(l);const c=Ea;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let c=0,v=0,x=0,O=0,D=0;switch(l.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:l.shiftKey?v=-1:(l.preventDefault(),O=-1);break;case 39:l.shiftKey?v=1:(l.preventDefault(),O=1);break;case 38:l.shiftKey?x=1:(l.preventDefault(),D=-1);break;case 40:l.shiftKey?x=-1:(l.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(v=0,x=0),{cameraAnimation:U=>{const W=this._tr;U.easeTo({duration:300,easeId:"keyboardHandler",easing:Zu,zoom:c?Math.round(W.zoom)+c*(l.shiftKey?2:1):W.zoom,bearing:W.bearing+v*this._bearingStep,pitch:W.pitch+x*this._pitchStep,offset:[-O*this._panStep,-D*this._panStep],center:W.center},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Zu(S){return S*(2-S)}const WA=4.000244140625;class al{constructor(l,c){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=l,this._tr=new Wl(l),this._triggerRenderFrame=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(l){return!!this._map.cooperativeGestures.isEnabled()&&!(l.ctrlKey||this._map.cooperativeGestures.isBypassed(l))}wheel(l){if(!this.isEnabled())return;if(this._shouldBePrevented(l))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",l);let c=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const v=I.now(),x=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,c!==0&&c%WA==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(x*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),l.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=l,this._delta-=c,this._active||this._start(l)),l.preventDefault()}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=K.mousePos(this._map.getCanvas(),l),v=this._tr;this._aroundPoint=this._aroundCenter?v.transform.locationToScreenPoint(a.N.convert(v.center)):c,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const U=l.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=U),typeof this._targetZoom=="number"&&(this._targetZoom+=U)}if(this._delta!==0){const U=this._type==="wheel"&&Math.abs(this._delta)>WA?this._wheelZoomRate:this._defaultZoomRate;let W=2/(1+Math.exp(-Math.abs(this._delta*U)));this._delta<0&&W!==0&&(W=1/W);const $=typeof this._targetZoom!="number"?l.scale:a.aG(this._targetZoom);this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,a.a8($*W))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const c=typeof this._targetZoom!="number"?l.zoom:this._targetZoom,v=this._startZoom,x=this._easing;let O,D=!1;if(this._type==="wheel"&&v&&x){const U=I.now()-this._lastWheelEventTime,W=Math.min((U+5)/200,1),$=x(W);O=a.y.number(v,c,$),W<1?this._frameId||(this._frameId=!0):D=!0}else O=c,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=O,{noInertia:!0,needsRenderFrame:!D,zoomDelta:O-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let c=a.c8;if(this._prevEase){const v=this._prevEase,x=(I.now()-v.start)/v.duration,O=v.easing(x+.01)-v.easing(x),D=.27/Math.sqrt(O*O+1e-4)*.01,U=Math.sqrt(.0729-D*D);c=a.c6(D,U,.25,1)}return this._prevEase={start:I.now(),duration:l,easing:c},c}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ho{constructor(l,c){this._clickZoom=l,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class sh{constructor(l){this._tr=new Wl(l),this.reset()}reset(){this._active=!1}dblclick(l,c){return l.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(l.shiftKey?-1:1),around:this._tr.unproject(c)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kd{constructor(){this._tap=new Au({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(l,c,v){if(!this._swipePoint)if(this._tapTime){const x=c[0],O=l.timeStamp-this._tapTime<500,D=this._tapPoint.dist(x)<30;O&&D?v.length>0&&(this._swipePoint=x,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(l,c,v)}touchmove(l,c,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const x=c[0],O=x.y-this._swipePoint.y;return this._swipePoint=x,l.preventDefault(),this._active=!0,{zoomDelta:O/128}}}else this._tap.touchmove(l,c,v)}touchend(l,c,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const x=this._tap.touchend(l,c,v);x&&(this._tapTime=l.timeStamp,this._tapPoint=x)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kp{constructor(l,c,v){this._el=l,this._mousePan=c,this._touchPan=v}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Dd{constructor(l,c,v,x){this._pitchWithRotate=l.pitchWithRotate,this._rollEnabled=l.rollEnabled,this._mouseRotate=c,this._mousePitch=v,this._mouseRoll=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class GA{constructor(l,c,v,x){this._el=l,this._touchZoom=c,this._touchRotate=v,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class lh{constructor(l,c){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=l,this._options=c,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const l=this._map.getCanvasContainer();l.classList.add("maplibregl-cooperative-gestures"),this._container=K.create("div","maplibregl-cooperative-gesture-screen",l);let c=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(c=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const v=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),x=document.createElement("div");x.className="maplibregl-desktop-message",x.textContent=c,this._container.appendChild(x);const O=document.createElement("div");O.className="maplibregl-mobile-message",O.textContent=v,this._container.appendChild(O),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(K.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(l){return l[this._bypassKey]}notifyGestureBlocked(l,c){this._enabled&&(this._map.fire(new a.k("cooperativegestureprevented",{gestureType:l,originalEvent:c})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Bs=S=>S.zoom||S.drag||S.roll||S.pitch||S.rotate;class Xu extends a.k{}function Cr(S){return S.panDelta&&S.panDelta.mag()||S.zoomDelta||S.bearingDelta||S.pitchDelta||S.rollDelta}class jr{constructor(l,c){this.handleWindowEvent=x=>{this.handleEvent(x,`${x.type}Window`)},this.handleEvent=(x,O)=>{if(x.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=x.type==="renderFrame"?void 0:x,U={needsRenderFrame:!1},W={},$={},ue=x.touches,fe=ue?this._getMapTouches(ue):void 0,me=fe?K.touchPos(this._map.getCanvas(),fe):K.mousePos(this._map.getCanvas(),x);for(const{handlerName:He,handler:Ve,allowed:Ze}of this._handlers){if(!Ve.isEnabled())continue;let et;this._blockedByActive($,Ze,He)?Ve.reset():Ve[O||x.type]&&(et=Ve[O||x.type](x,me,fe),this.mergeHandlerResult(U,W,et,He,D),et&&et.needsRenderFrame&&this._triggerRenderFrame()),(et||Ve.isActive())&&($[He]=Ve)}const Ie={};for(const He in this._previousActiveHandlers)$[He]||(Ie[He]=D);this._previousActiveHandlers=$,(Object.keys(Ie).length||Cr(U))&&(this._changes.push([U,W,Ie]),this._triggerRenderFrame()),(Object.keys($).length||Cr(U))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:De}=U;De&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],De(this._map))},this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ze(l),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[x,O,D]of this._listeners)K.addEventListener(x,O,x===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[l,c,v]of this._listeners)K.removeEventListener(l,c,l===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(l){const c=this._map,v=c.getCanvasContainer();this._add("mapEvent",new Id(c,l));const x=c.boxZoom=new Bm(c,l);this._add("boxZoom",x),l.interactive&&l.boxZoom&&x.enable();const O=c.cooperativeGestures=new lh(c,l.cooperativeGestures);this._add("cooperativeGestures",O),l.cooperativeGestures&&O.enable();const D=new ir(c),U=new sh(c);c.doubleClickZoom=new Ho(U,D),this._add("tapZoom",D),this._add("clickZoom",U),l.interactive&&l.doubleClickZoom&&c.doubleClickZoom.enable();const W=new Kd;this._add("tapDragZoom",W);const $=c.touchPitch=new Kf(c);this._add("touchPitch",$),l.interactive&&l.touchPitch&&c.touchPitch.enable(l.touchPitch);const ue=()=>c.project(c.getCenter()),fe=function({enable:mt,clickTolerance:vt,aroundCenter:Et=!0,minPixelCenterThreshold:xt=100,rotateDegreesPerPixelMoved:zt=.8},Ft){const ln=new vc({checkCorrectEvent:An=>K.mouseButton(An)===0&&An.ctrlKey||K.mouseButton(An)===2&&!An.ctrlKey});return new ol({clickTolerance:vt,move:(An,on)=>{const fn=Ft();if(Et&&Math.abs(fn.y-An.y)>xt)return{bearingDelta:a.c7(new a.P(An.x,on.y),on,fn)};let Un=(on.x-An.x)*zt;return Et&&on.y<fn.y&&(Un=-Un),{bearingDelta:Un}},moveStateManager:ln,enable:mt,assignEvents:zh})}(l,ue),me=function({enable:mt,clickTolerance:vt,pitchDegreesPerPixelMoved:Et=-.5}){const xt=new vc({checkCorrectEvent:zt=>K.mouseButton(zt)===0&&zt.ctrlKey||K.mouseButton(zt)===2});return new ol({clickTolerance:vt,move:(zt,Ft)=>({pitchDelta:(Ft.y-zt.y)*Et}),moveStateManager:xt,enable:mt,assignEvents:zh})}(l),Ie=function({enable:mt,clickTolerance:vt,rollDegreesPerPixelMoved:Et=.3},xt){const zt=new vc({checkCorrectEvent:Ft=>K.mouseButton(Ft)===2&&Ft.ctrlKey});return new ol({clickTolerance:vt,move:(Ft,ln)=>{const An=xt();let on=(ln.x-Ft.x)*Et;return ln.y<An.y&&(on=-on),{rollDelta:on}},moveStateManager:zt,enable:mt,assignEvents:zh})}(l,ue);c.dragRotate=new Dd(l,fe,me,Ie),this._add("mouseRotate",fe,["mousePitch"]),this._add("mousePitch",me,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Ie,["mousePitch"]),l.interactive&&l.dragRotate&&c.dragRotate.enable();const De=function({enable:mt,clickTolerance:vt}){const Et=new vc({checkCorrectEvent:xt=>K.mouseButton(xt)===0&&!xt.ctrlKey});return new ol({clickTolerance:vt,move:(xt,zt)=>({around:zt,panDelta:zt.sub(xt)}),activateOnStart:!0,moveStateManager:Et,enable:mt,assignEvents:zh})}(l),He=new ui(l,c);c.dragPan=new Kp(v,De,He),this._add("mousePan",De),this._add("touchPan",He,["touchZoom","touchRotate"]),l.interactive&&l.dragPan&&c.dragPan.enable(l.dragPan);const Ve=new gA,Ze=new Td;c.touchZoomRotate=new GA(v,Ze,Ve,W),this._add("touchRotate",Ve,["touchPan","touchZoom"]),this._add("touchZoom",Ze,["touchPan","touchRotate"]),l.interactive&&l.touchZoomRotate&&c.touchZoomRotate.enable(l.touchZoomRotate);const et=c.scrollZoom=new al(c,()=>this._triggerRenderFrame());this._add("scrollZoom",et,["mousePan"]),l.interactive&&l.scrollZoom&&c.scrollZoom.enable(l.scrollZoom);const ct=c.keyboard=new co(c);this._add("keyboard",ct),l.interactive&&l.keyboard&&c.keyboard.enable(),this._add("blockableMapEvent",new V0(c))}_add(l,c,v){this._handlers.push({handlerName:l,handler:c,allowed:v}),this._handlersById[l]=c}stop(l){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Bs(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,c,v){for(const x in l)if(x!==v&&(!c||c.indexOf(x)<0))return!0;return!1}_getMapTouches(l){const c=[];for(const v of l)this._el.contains(v.target)&&c.push(v);return c}mergeHandlerResult(l,c,v,x,O){if(!v)return;a.e(l,v);const D={handlerName:x,originalEvent:v.originalEvent||O};v.zoomDelta!==void 0&&(c.zoom=D),v.panDelta!==void 0&&(c.drag=D),v.rollDelta!==void 0&&(c.roll=D),v.pitchDelta!==void 0&&(c.pitch=D),v.bearingDelta!==void 0&&(c.rotate=D)}_applyChanges(){const l={},c={},v={};for(const[x,O,D]of this._changes)x.panDelta&&(l.panDelta=(l.panDelta||new a.P(0,0))._add(x.panDelta)),x.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+x.pitchDelta),x.rollDelta&&(l.rollDelta=(l.rollDelta||0)+x.rollDelta),x.around!==void 0&&(l.around=x.around),x.pinchAround!==void 0&&(l.pinchAround=x.pinchAround),x.noInertia&&(l.noInertia=x.noInertia),a.e(c,O),a.e(v,D);this._updateMapTransform(l,c,v),this._changes=[]}_updateMapTransform(l,c,v){const x=this._map,O=x._getTransformForUpdate(),D=x.terrain;if(!(Cr(l)||D&&this._terrainMovement))return this._fireEvents(c,v,!0);x._stop(!0);let{panDelta:U,zoomDelta:W,bearingDelta:$,pitchDelta:ue,rollDelta:fe,around:me,pinchAround:Ie}=l;Ie!==void 0&&(me=Ie),me=me||x.transform.centerPoint,D&&!O.isPointOnMapSurface(me)&&(me=O.centerPoint);const De={panDelta:U,zoomDelta:W,rollDelta:fe,pitchDelta:ue,bearingDelta:$,around:me};this._map.cameraHelper.useGlobeControls&&!O.isPointOnMapSurface(me)&&(me=O.centerPoint);const He=me.distSqr(O.centerPoint)<.01?O.center:O.screenPointToLocation(U?me.sub(U):me);D?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(De,O),this._terrainMovement||!c.drag&&!c.zoom?c.drag&&this._terrainMovement?O.setCenter(O.screenPointToLocation(O.centerPoint.sub(U))):this._map.cameraHelper.handleMapControlsPan(De,O,He):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(De,O,He))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(De,O),this._map.cameraHelper.handleMapControlsPan(De,O,He)),x._applyUpdatedTransform(O),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(c,v,!0)}_fireEvents(l,c,v){const x=Bs(this._eventsInProgress),O=Bs(l),D={};for(const fe in l){const{originalEvent:me}=l[fe];this._eventsInProgress[fe]||(D[`${fe}start`]=me),this._eventsInProgress[fe]=l[fe]}!x&&O&&this._fireEvent("movestart",O.originalEvent);for(const fe in D)this._fireEvent(fe,D[fe]);O&&this._fireEvent("move",O.originalEvent);for(const fe in l){const{originalEvent:me}=l[fe];this._fireEvent(fe,me)}const U={};let W;for(const fe in this._eventsInProgress){const{handlerName:me,originalEvent:Ie}=this._eventsInProgress[fe];this._handlersById[me].isActive()||(delete this._eventsInProgress[fe],W=c[me]||Ie,U[`${fe}end`]=W)}for(const fe in U)this._fireEvent(fe,U[fe]);const $=Bs(this._eventsInProgress),ue=(x||O)&&!$;if(ue&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const fe=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&fe.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(fe)}if(v&&ue){this._updatingCamera=!0;const fe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),me=Ie=>Ie!==0&&-this._bearingSnap<Ie&&Ie<this._bearingSnap;!fe||!fe.essential&&I.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:W})),me(this._map.getBearing())&&this._map.resetNorth()):(me(fe.bearing||this._map.getBearing())&&(fe.bearing=0),fe.freezeElevation=!0,this._map.easeTo(fe,{originalEvent:W})),this._updatingCamera=!1}}_fireEvent(l,c){this._map.fire(new a.k(l,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Xu("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Iu extends a.E{constructor(l,c,v){super(),this._renderFrameCallback=()=>{const x=Math.min((I.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(x)),x<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=v.bearingSnap,this.cameraHelper=c,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(l,c){l.apply(this.transform),this.transform=l,this.cameraHelper=c}getCenter(){return new a.N(this.transform.center.lng,this.transform.center.lat)}setCenter(l,c){return this.jumpTo({center:l},c)}getCenterElevation(){return this.transform.elevation}setCenterElevation(l,c){return this.jumpTo({elevation:l},c),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(l){this._centerClampedToGround=l}panBy(l,c,v){return l=a.P.convert(l).mult(-1),this.panTo(this.transform.center,a.e({offset:l},c),v)}panTo(l,c,v){return this.easeTo(a.e({center:l},c),v)}getZoom(){return this.transform.zoom}setZoom(l,c){return this.jumpTo({zoom:l},c),this}zoomTo(l,c,v){return this.easeTo(a.e({zoom:l},c),v)}zoomIn(l,c){return this.zoomTo(this.getZoom()+1,l,c),this}zoomOut(l,c){return this.zoomTo(this.getZoom()-1,l,c),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(l,c){return l!=this.transform.fov&&(this.transform.setFov(l),this.fire(new a.k("movestart",c)).fire(new a.k("move",c)).fire(new a.k("moveend",c))),this}getBearing(){return this.transform.bearing}setBearing(l,c){return this.jumpTo({bearing:l},c),this}getPadding(){return this.transform.padding}setPadding(l,c){return this.jumpTo({padding:l},c),this}rotateTo(l,c,v){return this.easeTo(a.e({bearing:l},c),v)}resetNorth(l,c){return this.rotateTo(0,a.e({duration:1e3},l),c),this}resetNorthPitch(l,c){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},l),c),this}snapToNorth(l,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,c):this}getPitch(){return this.transform.pitch}setPitch(l,c){return this.jumpTo({pitch:l},c),this}getRoll(){return this.transform.roll}setRoll(l,c){return this.jumpTo({roll:l},c),this}cameraForBounds(l,c){l=Bt.convert(l).adjustAntiMeridian();const v=c&&c.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),v,c)}_cameraForBoxAndBearing(l,c,v,x){const O={top:0,bottom:0,right:0,left:0};if(typeof(x=a.e({padding:O,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){const $=x.padding;x.padding={top:$,bottom:$,right:$,left:$}}const D=a.e(O,x.padding);x.padding=D;const U=this.transform,W=new Bt(l,c);return this.cameraHelper.cameraForBoxAndBearing(x,D,W,v,U)}fitBounds(l,c,v){return this._fitInternal(this.cameraForBounds(l,c),c,v)}fitScreenCoordinates(l,c,v,x,O){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(l)),this.transform.screenPointToLocation(a.P.convert(c)),v,x),x,O)}_fitInternal(l,c,v){return l?(delete(c=a.e(l,c)).padding,c.linear?this.easeTo(c,v):this.flyTo(c,v)):this}jumpTo(l,c){this.stop();const v=this._getTransformForUpdate();let x=!1,O=!1,D=!1;const U=v.zoom;this.cameraHelper.handleJumpToCenterZoom(v,l);const W=v.zoom!==U;return"elevation"in l&&v.elevation!==+l.elevation&&v.setElevation(+l.elevation),"bearing"in l&&v.bearing!==+l.bearing&&(x=!0,v.setBearing(+l.bearing)),"pitch"in l&&v.pitch!==+l.pitch&&(O=!0,v.setPitch(+l.pitch)),"roll"in l&&v.roll!==+l.roll&&(D=!0,v.setRoll(+l.roll)),l.padding==null||v.isPaddingEqual(l.padding)||v.setPadding(l.padding),this._applyUpdatedTransform(v),this.fire(new a.k("movestart",c)).fire(new a.k("move",c)),W&&this.fire(new a.k("zoomstart",c)).fire(new a.k("zoom",c)).fire(new a.k("zoomend",c)),x&&this.fire(new a.k("rotatestart",c)).fire(new a.k("rotate",c)).fire(new a.k("rotateend",c)),O&&this.fire(new a.k("pitchstart",c)).fire(new a.k("pitch",c)).fire(new a.k("pitchend",c)),D&&this.fire(new a.k("rollstart",c)).fire(new a.k("roll",c)).fire(new a.k("rollend",c)),this.fire(new a.k("moveend",c))}calculateCameraOptionsFromTo(l,c,v,x=0){const O=a.Y.fromLngLat(l,c),D=a.Y.fromLngLat(v,x),U=D.x-O.x,W=D.y-O.y,$=D.z-O.z,ue=Math.hypot(U,W,$);if(ue===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(U,W),me=a.a8(this.transform.cameraToCenterDistance/ue/this.transform.tileSize),Ie=180*Math.atan2(U,-W)/Math.PI;let De=180*Math.acos(fe/ue)/Math.PI;return De=$<0?90-De:90+De,{center:D.toLngLat(),elevation:x,zoom:me,pitch:De,bearing:Ie}}calculateCameraOptionsFromCameraLngLatAltRotation(l,c,v,x,O){const D=this.transform.calculateCenterFromCameraLngLatAlt(l,c,v,x);return{center:D.center,elevation:D.elevation,zoom:D.zoom,bearing:v,pitch:x,roll:O}}easeTo(l,c){this._stop(!1,l.easeId),((l=a.e({offset:[0,0],duration:500,easing:a.c8},l)).animate===!1||!l.essential&&I.prefersReducedMotion)&&(l.duration=0);const v=this._getTransformForUpdate(),x=this.getBearing(),O=v.pitch,D=v.roll,U="bearing"in l?this._normalizeBearing(l.bearing,x):x,W="pitch"in l?+l.pitch:O,$="roll"in l?this._normalizeBearing(l.roll,D):D,ue="padding"in l?l.padding:v.padding,fe=a.P.convert(l.offset);let me,Ie;l.around&&(me=a.N.convert(l.around),Ie=v.locationToScreenPoint(me));const De={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},He=this.cameraHelper.handleEaseTo(v,{bearing:U,pitch:W,roll:$,padding:ue,around:me,aroundPoint:Ie,offsetAsPoint:fe,offset:l.offset,zoom:l.zoom,center:l.center});return this._rotating=this._rotating||x!==U,this._pitching=this._pitching||W!==O,this._rolling=this._rolling||$!==D,this._padding=!v.isPaddingEqual(ue),this._zooming=this._zooming||He.isZooming,this._easeId=l.easeId,this._prepareEase(c,l.noMoveStart,De),this.terrain&&this._prepareElevation(He.elevationCenter),this._ease(Ve=>{He.easeFunc(Ve),this.terrain&&!l.freezeElevation&&this._updateElevation(Ve),this._applyUpdatedTransform(v),this._fireMoveEvents(c)},Ve=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(c,Ve)},l),this}_prepareEase(l,c,v={}){this._moving=!0,c||v.moving||this.fire(new a.k("movestart",l)),this._zooming&&!v.zooming&&this.fire(new a.k("zoomstart",l)),this._rotating&&!v.rotating&&this.fire(new a.k("rotatestart",l)),this._pitching&&!v.pitching&&this.fire(new a.k("pitchstart",l)),this._rolling&&!v.rolling&&this.fire(new a.k("rollstart",l))}_prepareElevation(l){this._elevationCenter=l,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(l){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const c=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(l<1&&c!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=l*(v-(c-(v*l+this._elevationStart))/(1-l)),this._elevationTarget=c}this.transform.setElevation(a.y.number(this._elevationStart,this._elevationTarget,l))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(l){if(!this.terrain&&l.elevation>=0&&l.pitch<=90)return{};const c=l.getCameraLngLat(),v=l.getCameraAltitude(),x=this.terrain?this.terrain.getElevationForLngLatZoom(c,l.zoom):0;if(v<x){const O=this.calculateCameraOptionsFromTo(c,x,l.center,l.elevation);return{pitch:O.pitch,zoom:O.zoom}}return{}}_applyUpdatedTransform(l){const c=[];if(c.push(x=>this._elevateCameraIfInsideTerrain(x)),this.transformCameraUpdate&&c.push(x=>this.transformCameraUpdate(x)),!c.length)return;const v=l.clone();for(const x of c){const O=v.clone(),{center:D,zoom:U,roll:W,pitch:$,bearing:ue,elevation:fe}=x(O);D&&O.setCenter(D),fe!==void 0&&O.setElevation(fe),U!==void 0&&O.setZoom(U),W!==void 0&&O.setRoll(W),$!==void 0&&O.setPitch($),ue!==void 0&&O.setBearing(ue),v.apply(O)}this.transform.apply(v)}_fireMoveEvents(l){this.fire(new a.k("move",l)),this._zooming&&this.fire(new a.k("zoom",l)),this._rotating&&this.fire(new a.k("rotate",l)),this._pitching&&this.fire(new a.k("pitch",l)),this._rolling&&this.fire(new a.k("roll",l))}_afterEase(l,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;const v=this._zooming,x=this._rotating,O=this._pitching,D=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,v&&this.fire(new a.k("zoomend",l)),x&&this.fire(new a.k("rotateend",l)),O&&this.fire(new a.k("pitchend",l)),D&&this.fire(new a.k("rollend",l)),this.fire(new a.k("moveend",l))}flyTo(l,c){if(!l.essential&&I.prefersReducedMotion){const on=a.M(l,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(on,c)}this.stop(),l=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.c8},l);const v=this._getTransformForUpdate(),x=v.bearing,O=v.pitch,D=v.roll,U=v.padding,W="bearing"in l?this._normalizeBearing(l.bearing,x):x,$="pitch"in l?+l.pitch:O,ue="roll"in l?this._normalizeBearing(l.roll,D):D,fe="padding"in l?l.padding:v.padding,me=a.P.convert(l.offset);let Ie=v.centerPoint.add(me);const De=v.screenPointToLocation(Ie),He=this.cameraHelper.handleFlyTo(v,{bearing:W,pitch:$,roll:ue,padding:fe,locationAtOffset:De,offsetAsPoint:me,center:l.center,minZoom:l.minZoom,zoom:l.zoom});let Ve=l.curve;const Ze=Math.max(v.width,v.height),et=Ze/He.scaleOfZoom,ct=He.pixelPathLength;typeof He.scaleOfMinZoom=="number"&&(Ve=Math.sqrt(Ze/He.scaleOfMinZoom/ct*2));const mt=Ve*Ve;function vt(on){const fn=(et*et-Ze*Ze+(on?-1:1)*mt*mt*ct*ct)/(2*(on?et:Ze)*mt*ct);return Math.log(Math.sqrt(fn*fn+1)-fn)}function Et(on){return(Math.exp(on)-Math.exp(-on))/2}function xt(on){return(Math.exp(on)+Math.exp(-on))/2}const zt=vt(!1);let Ft=function(on){return xt(zt)/xt(zt+Ve*on)},ln=function(on){return Ze*((xt(zt)*(Et(fn=zt+Ve*on)/xt(fn))-Et(zt))/mt)/ct;var fn},An=(vt(!0)-zt)/Ve;if(Math.abs(ct)<2e-6||!isFinite(An)){if(Math.abs(Ze-et)<1e-6)return this.easeTo(l,c);const on=et<Ze?-1:1;An=Math.abs(Math.log(et/Ze))/Ve,ln=()=>0,Ft=fn=>Math.exp(on*Ve*fn)}return l.duration="duration"in l?+l.duration:1e3*An/("screenSpeed"in l?+l.screenSpeed/Ve:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=x!==W,this._pitching=$!==O,this._rolling=ue!==D,this._padding=!v.isPaddingEqual(fe),this._prepareEase(c,!1),this.terrain&&this._prepareElevation(He.targetCenter),this._ease(on=>{const fn=on*An,Un=1/Ft(fn),cn=ln(fn);this._rotating&&v.setBearing(a.y.number(x,W,on)),this._pitching&&v.setPitch(a.y.number(O,$,on)),this._rolling&&v.setRoll(a.y.number(D,ue,on)),this._padding&&(v.interpolatePadding(U,fe,on),Ie=v.centerPoint.add(me)),He.easeFunc(on,Un,cn,Ie),this.terrain&&!l.freezeElevation&&this._updateElevation(on),this._applyUpdatedTransform(v),this._fireMoveEvents(c)},()=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(c)},l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,c){var v;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const x=this._onEaseEnd;delete this._onEaseEnd,x.call(this,c)}return l||(v=this.handlers)===null||v===void 0||v.stop(!1),this}_ease(l,c,v){v.animate===!1||v.duration===0?(l(1),c()):(this._easeStart=I.now(),this._easeOptions=v,this._onEaseFrame=l,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(l,c){l=a.aI(l,-180,180);const v=Math.abs(l-c);return Math.abs(l-360-c)<v&&(l-=360),Math.abs(l+360-c)<v&&(l+=360),l}queryTerrainElevation(l){return this.terrain?this.terrain.getElevationForLngLatZoom(a.N.convert(l),this.transform.tileZoom):null}}const QA={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ku{constructor(l=QA){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=c=>{!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=l}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options.compact,this._container=K.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=K.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=K.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){K.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._sanitizedAttributionHTML=void 0}_setElementTitle(l,c){const v=this._map._getUIString(`AttributionControl.${c}`);l.title=v,l.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(x=>typeof x!="string"?"":x)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const c=this._map.style.sourceCaches;for(const x in c){const O=c[x];if(O.used||O.usedForTerrain){const D=O.getSource();D.attribution&&l.indexOf(D.attribution)<0&&l.push(D.attribution)}}l=l.filter(x=>String(x).trim()),l.sort((x,O)=>x.length-O.length),l=l.filter((x,O)=>{for(let D=O+1;D<l.length;D++)if(l[D].indexOf(x)>=0)return!1;return!0});const v=l.join(" | ");v!==this._sanitizedAttributionHTML&&(this._sanitizedAttributionHTML=K.sanitize(v),l.length?(this._innerContainer.innerHTML=this._sanitizedAttributionHTML,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Zo{constructor(l={}){this._updateCompact=()=>{const c=this._container.children;if(c.length){const v=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=l}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=K.create("div","maplibregl-ctrl");const c=K.create("a","maplibregl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){K.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Im{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const c=++this._id;return this._queue.push({callback:l,id:c,cancelled:!1}),c}remove(l){const c=this._currentlyRunning,v=c?this._queue.concat(c):this._queue;for(const x of v)if(x.id===l)return void(x.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const c=this._currentlyRunning=this._queue;this._queue=[];for(const v of c)if(!v.cancelled&&(v.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Tu=a.aA([{name:"a_pos3d",type:"Int16",components:3}]);class km extends a.E{constructor(l){super(),this._lastTilesetChange=I.now(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=l._source.tileSize*2**this.deltaZoom,l.usedForTerrain=!0,l.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(l,c){this.sourceCache.update(l,c),this._renderableTilesKeys=[];const v={};for(const x of Re(l,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:c,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))v[x.key]=!0,this._renderableTilesKeys.push(x.key),this._tiles[x.key]||(x.terrainRttPosMatrix32f=new Float64Array(16),a.bL(x.terrainRttPosMatrix32f,0,a.X,a.X,0,0,1),this._tiles[x.key]=new oe(x,this.tileSize),this._lastTilesetChange=I.now());for(const x in this._tiles)v[x]||delete this._tiles[x]}freeRtt(l){for(const c in this._tiles){const v=this._tiles[c];(!l||v.tileID.equals(l)||v.tileID.isChildOf(l)||l.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){const c={};for(const v of this._renderableTilesKeys){const x=this._tiles[v].tileID,O=l.clone(),D=a.a$();if(x.canonical.equals(l.canonical))a.bL(D,0,a.X,a.X,0,0,1);else if(x.canonical.isChildOf(l.canonical)){const U=x.canonical.z-l.canonical.z,W=x.canonical.x-(x.canonical.x>>U<<U),$=x.canonical.y-(x.canonical.y>>U<<U),ue=a.X>>U;a.bL(D,0,ue,ue,0,0,1),a.J(D,D,[-W*ue,-$*ue,0])}else{if(!l.canonical.isChildOf(x.canonical))continue;{const U=l.canonical.z-x.canonical.z,W=l.canonical.x-(l.canonical.x>>U<<U),$=l.canonical.y-(l.canonical.y>>U<<U),ue=a.X>>U;a.bL(D,0,a.X,a.X,0,0,1),a.J(D,D,[W*ue,$*ue,0]),a.K(D,D,[1/2**U,1/2**U,0])}}O.terrainRttPosMatrix32f=new Float32Array(D),c[v]=O}return c}getSourceTile(l,c){const v=this.sourceCache._source;let x=l.overscaledZ-this.deltaZoom;if(x>v.maxzoom&&(x=v.maxzoom),x<v.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo(x).key);let O=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!O||!O.dem)&&c)for(;x>=v.minzoom&&(!O||!O.dem);)O=this.sourceCache.getTileByID(l.scaledTo(x--).key);return O}anyTilesAfterTime(l=Date.now()){return this._lastTilesetChange>=l}}class $A{constructor(l,c,v){this._meshCache={},this.painter=l,this.sourceCache=new km(c),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(l,c,v,x=a.X){var O;if(!(c>=0&&c<x&&v>=0&&v<x))return 0;const D=this.getTerrainData(l),U=(O=D.tile)===null||O===void 0?void 0:O.dem;if(!U)return 0;const W=a.c9([],[c/x*a.X,v/x*a.X],D.u_terrain_matrix),$=[W[0]*U.dim,W[1]*U.dim],ue=Math.floor($[0]),fe=Math.floor($[1]),me=$[0]-ue,Ie=$[1]-fe;return U.get(ue,fe)*(1-me)*(1-Ie)+U.get(ue+1,fe)*me*(1-Ie)+U.get(ue,fe+1)*(1-me)*Ie+U.get(ue+1,fe+1)*me*Ie}getElevationForLngLatZoom(l,c){if(!a.ca(c,l.wrap()))return 0;const{tileID:v,mercatorX:x,mercatorY:O}=this._getOverscaledTileIDFromLngLatZoom(l,c);return this.getElevation(v,x%a.X,O%a.X,a.X)}getElevation(l,c,v,x=a.X){return this.getDEMElevation(l,c,v,x)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const x=this.painter.context,O=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new re(x,O,x.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new re(x,new a.R({width:1,height:1}),x.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.aq([])}const c=this.sourceCache.getSourceTile(l,!0);if(c&&c.dem&&(!c.demTexture||c.needsTerrainPrepare)){const x=this.painter.context;c.demTexture=this.painter.getTileTexture(c.dem.stride),c.demTexture?c.demTexture.update(c.dem.getPixels(),{premultiply:!1}):c.demTexture=new re(x,c.dem.getPixels(),x.gl.RGBA,{premultiply:!1}),c.demTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),c.needsTerrainPrepare=!1}const v=c&&c+c.tileID.key+l.key;if(v&&!this._demMatrixCache[v]){const x=this.sourceCache.sourceCache._source.maxzoom;let O=l.canonical.z-c.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=x?O=l.canonical.z-x:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=l.canonical.x-(l.canonical.x>>O<<O),U=l.canonical.y-(l.canonical.y>>O<<O),W=a.cb(new Float64Array(16),[1/(a.X<<O),1/(a.X<<O),0]);a.J(W,W,[D*a.X,U*a.X,0]),this._demMatrixCache[l.key]={matrix:W,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:c&&c.dem&&c.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:c&&c.dem&&c.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(c&&c.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:c}}getFramebuffer(l){const c=this.painter,v=c.width/devicePixelRatio,x=c.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===x||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new re(c.context,{width:v,height:x,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new re(c.context,{width:v,height:x,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=c.context.createFramebuffer(v,x,!0,!1),this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,v,x))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const c=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let O=0,D=0;O<this._coordsTextureSize;O++)for(let U=0;U<this._coordsTextureSize;U++,D+=4)c[D+0]=255&U,c[D+1]=255&O,c[D+2]=U>>8<<4|O>>8,c[D+3]=0;const v=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(c.buffer)),x=new re(l,v,l.gl.RGBA,{premultiply:!1});return x.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=x,x}pointCoordinate(l){this.painter.maybeDrawDepthAndCoords(!0);const c=new Uint8Array(4),v=this.painter.context,x=v.gl,O=Math.round(l.x*this.painter.pixelRatio/devicePixelRatio),D=Math.round(l.y*this.painter.pixelRatio/devicePixelRatio),U=Math.round(this.painter.height/devicePixelRatio);v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(O,U-D-1,1,1,x.RGBA,x.UNSIGNED_BYTE,c),v.bindFramebuffer.set(null);const W=c[0]+(c[2]>>4<<8),$=c[1]+((15&c[2])<<8),ue=this.coordsIndex[255-c[3]],fe=ue&&this.sourceCache.getTileByID(ue);if(!fe)return null;const me=this._coordsTextureSize,Ie=(1<<fe.tileID.canonical.z)*me;return new a.Y((fe.tileID.canonical.x*me+W)/Ie+fe.tileID.wrap,(fe.tileID.canonical.y*me+$)/Ie,this.getElevation(fe.tileID,W,$,me))}depthAtPoint(l){const c=new Uint8Array(4),v=this.painter.context,x=v.gl;return v.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),x.readPixels(l.x,this.painter.height/devicePixelRatio-l.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,c),v.bindFramebuffer.set(null),(c[0]/16777216+c[1]/65536+c[2]/256+c[3])/256}getTerrainMesh(l){var c;const v=((c=this.painter.style.projection)===null||c===void 0?void 0:c.transitionState)>0,x=v&&l.canonical.y===0,O=v&&l.canonical.y===(1<<l.canonical.z)-1,D=`m_${x?"n":""}_${O?"s":""}`;if(this._meshCache[D])return this._meshCache[D];const U=this.painter.context,W=new a.cc,$=new a.aE,ue=this.meshSize,fe=a.X/ue,me=ue*ue;for(let xt=0;xt<=ue;xt++)for(let zt=0;zt<=ue;zt++)W.emplaceBack(zt*fe,xt*fe,0);for(let xt=0;xt<me;xt+=ue+1)for(let zt=0;zt<ue;zt++)$.emplaceBack(zt+xt,ue+zt+xt+1,ue+zt+xt+2),$.emplaceBack(zt+xt,ue+zt+xt+2,zt+xt+1);const Ie=W.length,De=Ie+(ue+1),He=(ue+1)*ue,Ve=x?a.b6:0,Ze=x?0:1,et=O?a.b7:a.X,ct=O?0:1;for(let xt=0;xt<=ue;xt++)W.emplaceBack(xt*fe,Ve,Ze);for(let xt=0;xt<=ue;xt++)W.emplaceBack(xt*fe,et,ct);for(let xt=0;xt<ue;xt++)$.emplaceBack(He+xt,De+xt,De+xt+1),$.emplaceBack(He+xt,De+xt+1,He+xt+1),$.emplaceBack(0+xt,Ie+xt+1,Ie+xt),$.emplaceBack(0+xt,0+xt+1,Ie+xt+1);const mt=W.length,vt=mt+2*(ue+1);for(const xt of[0,1])for(let zt=0;zt<=ue;zt++)for(const Ft of[0,1])W.emplaceBack(xt*a.X,zt*fe,Ft);for(let xt=0;xt<2*ue;xt+=2)$.emplaceBack(mt+xt,mt+xt+1,mt+xt+3),$.emplaceBack(mt+xt,mt+xt+3,mt+xt+2),$.emplaceBack(vt+xt,vt+xt+3,vt+xt+1),$.emplaceBack(vt+xt,vt+xt+2,vt+xt+3);const Et=new xa(U.createVertexBuffer(W,Tu.members),U.createIndexBuffer($),a.aD.simpleSegment(0,0,W.length,$.length));return this._meshCache[D]=Et,Et}getMeshFrameDelta(l){return 2*Math.PI*a.bo/Math.pow(2,Math.max(l,0))/5}getMinTileElevationForLngLatZoom(l,c){var v;const{tileID:x}=this._getOverscaledTileIDFromLngLatZoom(l,c);return(v=this.getMinMaxElevation(x).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(l){const c=this.getTerrainData(l).tile,v={minElevation:null,maxElevation:null};return c&&c.dem&&(v.minElevation=c.dem.min*this.exaggeration,v.maxElevation=c.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(l,c){const v=a.Y.fromLngLat(l.wrap()),x=(1<<c)*a.X,O=v.x*x,D=v.y*x,U=Math.floor(O/a.X),W=Math.floor(D/a.X);return{tileID:new a.S(c,0,c,U,W),mercatorX:O,mercatorY:D}}}class vo{constructor(l,c,v){this._context=l,this._size=c,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const l of this._objects)l.texture.destroy(),l.fbo.destroy()}_createObject(l){const c=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new re(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),c.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),c.colorAttachment.set(v.texture),{id:l,fbo:c,texture:v,stamp:-1,inUse:!1}}getObjectForId(l){return this._objects[l]}useObject(l){l.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(c=>l.id!==c),this._recentlyUsed.push(l.id)}stampObject(l){l.stamp=++this._stamp}getOrCreateFreeObject(){for(const c of this._recentlyUsed)if(!this._objects[c].inUse)return this._objects[c];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const l=this._createObject(this._objects.length);return this._objects.push(l),l}freeObject(l){l.inUse=!1}freeAllObjects(){for(const l of this._objects)this.freeObject(l)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(l=>!l.inUse)===!1}}const Go={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Tm{constructor(l,c){this.painter=l,this.terrain=c,this.pool=new vo(l.context,30,c.sourceCache.tileSize*c.qualityFactor)}destruct(){this.pool.destruct()}getTexture(l){return this.pool.getObjectForId(l.rtt[this._stacks.length-1].id).texture}prepareForRender(l,c){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=l._order.filter(v=>!l._layers[v].isHidden(c)),this._coordsAscending={};for(const v in l.sourceCaches){this._coordsAscending[v]={};const x=l.sourceCaches[v].getVisibleCoordinates();for(const O of x){const D=this.terrain.sourceCache.getTerrainCoords(O);for(const U in D)this._coordsAscending[v][U]||(this._coordsAscending[v][U]=[]),this._coordsAscending[v][U].push(D[U])}}this._coordsAscendingStr={};for(const v of l._order){const x=l._layers[v],O=x.source;if(Go[x.type]&&!this._coordsAscendingStr[O]){this._coordsAscendingStr[O]={};for(const D in this._coordsAscending[O])this._coordsAscendingStr[O][D]=this._coordsAscending[O][D].map(U=>U.key).sort().join()}}for(const v of this._renderableTiles)for(const x in this._coordsAscendingStr){const O=this._coordsAscendingStr[x][v.tileID.key];O&&O!==v.rttCoords[x]&&(v.rtt=[])}}renderLayer(l,c){if(l.isHidden(this.painter.transform.zoom))return!1;const v=Object.assign(Object.assign({},c),{isRenderingToTexture:!0}),x=l.type,O=this.painter,D=this._renderableLayerIds[this._renderableLayerIds.length-1]===l.id;if(Go[x]&&(this._prevType&&Go[this._prevType]||this._stacks.push([]),this._prevType=x,this._stacks[this._stacks.length-1].push(l.id),!D))return!0;if(Go[this._prevType]||Go[x]&&D){this._prevType=x;const U=this._stacks.length-1,W=this._stacks[U]||[];for(const $ of this._renderableTiles){if(this.pool.isFull()&&(Ou(this.painter,this.terrain,this._rttTiles,v),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push($),$.rtt[U]){const fe=this.pool.getObjectForId($.rtt[U].id);if(fe.stamp===$.rtt[U].stamp){this.pool.useObject(fe);continue}}const ue=this.pool.getOrCreateFreeObject();this.pool.useObject(ue),this.pool.stampObject(ue),$.rtt[U]={id:ue.id,stamp:ue.stamp},O.context.bindFramebuffer.set(ue.fbo.framebuffer),O.context.clear({color:a.b4.transparent,stencil:0}),O.currentStencilSource=void 0;for(let fe=0;fe<W.length;fe++){const me=O.style._layers[W[fe]],Ie=me.source?this._coordsAscending[me.source][$.tileID.key]:[$.tileID];O.context.viewport.set([0,0,ue.fbo.width,ue.fbo.height]),O._renderTileClippingMasks(me,Ie,!0),O.renderLayer(O,O.style.sourceCaches[me.source],me,Ie,v),me.source&&($.rttCoords[me.source]=this._coordsAscendingStr[me.source][$.tileID.key])}}return Ou(this.painter,this.terrain,this._rttTiles,v),this._rttTiles=[],this.pool.freeAllObjects(),Go[x]}return!1}}const Cc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ld=f,yA={hash:!1,interactive:!0,bearingSnap:7,attributionControl:QA,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},za={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class bc{constructor(l,c,v=!1){this.mousedown=O=>{this.startMove(O,K.mousePos(this.element,O)),K.addEventListener(window,"mousemove",this.mousemove),K.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=O=>{this.move(O,K.mousePos(this.element,O))},this.mouseup=O=>{this._rotatePitchHanlder.dragEnd(O),this.offTemp()},this.touchstart=O=>{O.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=K.touchPos(this.element,O.targetTouches)[0],this.startMove(O,this._startPos),K.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.addEventListener(window,"touchend",this.touchend))},this.touchmove=O=>{O.targetTouches.length!==1?this.reset():(this._lastPos=K.touchPos(this.element,O.targetTouches)[0],this.move(O,this._lastPos))},this.touchend=O=>{O.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=c;const x=new jh;this._rotatePitchHanlder=new ol({clickTolerance:3,move:(O,D)=>{const U=c.getBoundingClientRect(),W=new a.P((U.bottom-U.top)/2,(U.right-U.left)/2);return{bearingDelta:a.c7(new a.P(O.x,D.y),D,W),pitchDelta:v?-.5*(D.y-O.y):void 0}},moveStateManager:x,enable:!0,assignEvents:()=>{}}),this.map=l,K.addEventListener(c,"mousedown",this.mousedown),K.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),K.addEventListener(c,"touchcancel",this.reset)}startMove(l,c){this._rotatePitchHanlder.dragStart(l,c),K.disableDrag()}move(l,c){const v=this.map,{bearingDelta:x,pitchDelta:O}=this._rotatePitchHanlder.dragMove(l,c)||{};x&&v.setBearing(v.getBearing()+x),O&&v.setPitch(v.getPitch()+O)}off(){const l=this.element;K.removeEventListener(l,"mousedown",this.mousedown),K.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),K.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.removeEventListener(window,"touchend",this.touchend),K.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){K.enableDrag(),K.removeEventListener(window,"mousemove",this.mousemove),K.removeEventListener(window,"mouseup",this.mouseup),K.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),K.removeEventListener(window,"touchend",this.touchend)}}let cu;function xl(S,l,c){const v=new a.N(S.lng,S.lat);if(S=new a.N(S.lng,S.lat),l){const x=new a.N(S.lng-360,S.lat),O=new a.N(S.lng+360,S.lat),D=c.locationToScreenPoint(S).distSqr(l);c.locationToScreenPoint(x).distSqr(l)<D?S=x:c.locationToScreenPoint(O).distSqr(l)<D&&(S=O)}for(;Math.abs(S.lng-c.center.lng)>180;){const x=c.locationToScreenPoint(S);if(x.x>=0&&x.y>=0&&x.x<=c.width&&x.y<=c.height)break;S.lng>c.center.lng?S.lng-=360:S.lng+=360}return S.lng!==v.lng&&c.isPointOnMapSurface(c.locationToScreenPoint(S))?S:v}const xc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function uh(S,l,c){const v=S.classList;for(const x in xc)v.remove(`maplibregl-${c}-anchor-${x}`);v.add(`maplibregl-${c}-anchor-${l}`)}class Pu extends a.E{constructor(l){if(super(),this._onKeyPress=c=>{const v=c.code,x=c.charCode||c.keyCode;v!=="Space"&&v!=="Enter"&&x!==32&&x!==13||this.togglePopup()},this._onMapClick=c=>{const v=c.originalEvent.target,x=this._element;this._popup&&(v===x||x.contains(v))&&this.togglePopup()},this._update=c=>{var v;if(!this._map)return;const x=this._map.loaded()&&!this._map.isMoving();((c==null?void 0:c.type)==="terrain"||(c==null?void 0:c.type)==="render"&&!x)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?xl(this._lngLat,this._flatPos,this._map.transform):(v=this._lngLat)===null||v===void 0?void 0:v.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let O="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?O=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(O=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let D="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?D="rotateX(0deg)":this._pitchAlignment==="map"&&(D=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||c&&c.type!=="moveend"||(this._pos=this._pos.round()),K.setTransform(this._element,`${xc[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${D} ${O}`),I.frameAsync(new AbortController).then(()=>{this._updateOpacity(c&&c.type==="moveend")}).catch(()=>{})},this._onMove=c=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=c=>{this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._subpixelPositioning=l&&l.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(l==null?void 0:l.opacity,l==null?void 0:l.opacityWhenCovered),l&&l.element)this._element=l.element,this._offset=a.P.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=K.create("div");const c=K.createNS("http://www.w3.org/2000/svg","svg"),v=41,x=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${v}px`),c.setAttributeNS(null,"width",`${x}px`),c.setAttributeNS(null,"viewBox",`0 0 ${x} ${v}`);const O=K.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"stroke","none"),O.setAttributeNS(null,"stroke-width","1"),O.setAttributeNS(null,"fill","none"),O.setAttributeNS(null,"fill-rule","evenodd");const D=K.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const U=K.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");const W=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ze of W){const et=K.createNS("http://www.w3.org/2000/svg","ellipse");et.setAttributeNS(null,"opacity","0.04"),et.setAttributeNS(null,"cx","10.5"),et.setAttributeNS(null,"cy","5.80029008"),et.setAttributeNS(null,"rx",Ze.rx),et.setAttributeNS(null,"ry",Ze.ry),U.appendChild(et)}const $=K.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill",this._color);const ue=K.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$.appendChild(ue);const fe=K.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const me=K.createNS("http://www.w3.org/2000/svg","path");me.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(me);const Ie=K.createNS("http://www.w3.org/2000/svg","g");Ie.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ie.setAttributeNS(null,"fill","#FFFFFF");const De=K.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"transform","translate(8.0, 8.0)");const He=K.createNS("http://www.w3.org/2000/svg","circle");He.setAttributeNS(null,"fill","#000000"),He.setAttributeNS(null,"opacity","0.25"),He.setAttributeNS(null,"cx","5.5"),He.setAttributeNS(null,"cy","5.5"),He.setAttributeNS(null,"r","5.4999962");const Ve=K.createNS("http://www.w3.org/2000/svg","circle");Ve.setAttributeNS(null,"fill","#FFFFFF"),Ve.setAttributeNS(null,"cx","5.5"),Ve.setAttributeNS(null,"cy","5.5"),Ve.setAttributeNS(null,"r","5.4999962"),De.appendChild(He),De.appendChild(Ve),D.appendChild(U),D.appendChild($),D.appendChild(fe),D.appendChild(Ie),D.appendChild(De),c.appendChild(D),c.setAttributeNS(null,"height",v*this._scale+"px"),c.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(c),this._offset=a.P.convert(l&&l.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),uh(this._element,this._anchor,"marker"),l&&l.className)for(const c of l.className.split(" "))this._element.classList.add(c);this._popup=null}addTo(l){return this.remove(),this._map=l,this._element.setAttribute("aria-label",l._getUIString("Marker.Title")),l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("terrain",this._update),l.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),K.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.N.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const x=Math.abs(13.5)/Math.SQRT2;l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(l){return this._subpixelPositioning=l,this}getPopup(){return this._popup}togglePopup(){const l=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:l?(l.isOpen()?l.remove():(l.setLngLat(this._lngLat),l.addTo(this._map)),this):this}_updateOpacity(l=!1){var c,v;if(!(!((c=this._map)===null||c===void 0)&&c.terrain)){const fe=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==fe&&(this._element.style.opacity=fe))}if(l)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const x=this._map,O=x.terrain.depthAtPoint(this._pos),D=x.terrain.getElevationForLngLatZoom(this._lngLat,x.transform.tileZoom);if(x.transform.lngLatToCameraDepth(this._lngLat,D)-O<.006)return void(this._element.style.opacity=this._opacity);const U=-this._offset.y/x.transform.pixelsPerMeter,W=Math.sin(x.getPitch()*Math.PI/180)*U,$=x.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),ue=x.transform.lngLatToCameraDepth(this._lngLat,D+W)-$>.006;!((v=this._popup)===null||v===void 0)&&v.isOpen()&&ue&&this._popup.remove(),this._element.style.opacity=ue?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(l){return this._offset=a.P.convert(l),this._update(),this}addClassName(l){this._element.classList.add(l)}removeClassName(l){this._element.classList.remove(l)}toggleClassName(l){return this._element.classList.toggle(l)}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(l,c){return l===void 0&&c===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),l!==void 0&&(this._opacity=l),c!==void 0&&(this._opacityWhenCovered=c),this._map&&this._updateOpacity(!0),this}}const Za={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Oa=0,vA=!1;const Df={maxWidth:100,unit:"metric"};function Wh(S,l,c){const v=c&&c.maxWidth||100,x=S._container.clientHeight/2,O=S._container.clientWidth/2,D=S.unproject([O-v/2,x]),U=S.unproject([O+v/2,x]),W=Math.round(S.project(U).x-S.project(D).x),$=Math.min(v,W,S._container.clientWidth),ue=D.distanceTo(U);if(c&&c.unit==="imperial"){const fe=3.2808*ue;fe>5280?Ku(l,$,fe/5280,S._getUIString("ScaleControl.Miles")):Ku(l,$,fe,S._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Ku(l,$,ue/1852,S._getUIString("ScaleControl.NauticalMiles")):ue>=1e3?Ku(l,$,ue/1e3,S._getUIString("ScaleControl.Kilometers")):Ku(l,$,ue,S._getUIString("ScaleControl.Meters"))}function Ku(S,l,c,v){const x=function(O){const D=Math.pow(10,`${Math.floor(O)}`.length-1);let U=O/D;return U=U>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:function(W){const $=Math.pow(10,Math.ceil(-Math.log(W)/Math.LN10));return Math.round(W*$)/$}(U),D*U}(c);S.style.width=l*(x/c)+"px",S.innerHTML=`${x}&nbsp;${v}`}const wc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Fd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function YA(S){if(S){if(typeof S=="number"){const l=Math.round(Math.abs(S)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,S),"top-left":new a.P(l,l),"top-right":new a.P(-l,l),bottom:new a.P(0,-S),"bottom-left":new a.P(l,-l),"bottom-right":new a.P(-l,-l),left:new a.P(S,0),right:new a.P(-S,0)}}if(S instanceof a.P||Array.isArray(S)){const l=a.P.convert(S);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:a.P.convert(S.center||[0,0]),top:a.P.convert(S.top||[0,0]),"top-left":a.P.convert(S["top-left"]||[0,0]),"top-right":a.P.convert(S["top-right"]||[0,0]),bottom:a.P.convert(S.bottom||[0,0]),"bottom-left":a.P.convert(S["bottom-left"]||[0,0]),"bottom-right":a.P.convert(S["bottom-right"]||[0,0]),left:a.P.convert(S.left||[0,0]),right:a.P.convert(S.right||[0,0])}}return YA(new a.P(0,0))}const Rd=f;s.AJAXError=a.cg,s.Event=a.k,s.Evented=a.E,s.LngLat=a.N,s.MercatorCoordinate=a.Y,s.Point=a.P,s.addProtocol=a.ch,s.config=a.a,s.removeProtocol=a.ci,s.AttributionControl=ku,s.BoxZoomHandler=Bm,s.CanvasSource=Mr,s.CooperativeGesturesHandler=lh,s.DoubleClickZoomHandler=Ho,s.DragPanHandler=Kp,s.DragRotateHandler=Dd,s.EdgeInsets=ca,s.FullscreenControl=class extends a.E{constructor(S={}){super(),this._onFullscreenChange=()=>{var l;let c=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((l=c==null?void 0:c.shadowRoot)===null||l===void 0)&&l.fullscreenElement;)c=c.shadowRoot.fullscreenElement;c===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,S&&S.container&&(S.container instanceof HTMLElement?this._container=S.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(S){return this._map=S,this._container||(this._container=this._map.getContainer()),this._controlContainer=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){K.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const S=this._fullscreenButton=K.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);K.create("span","maplibregl-ctrl-icon",S).setAttribute("aria-hidden","true"),S.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const S=this._getTitle();this._fullscreenButton.setAttribute("aria-label",S),this._fullscreenButton.title=S}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=xn,s.GeolocateControl=class extends a.E{constructor(S){super(),this._onSuccess=l=>{if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",l)),this._finish()}},this._updateCamera=l=>{const c=new a.N(l.coords.longitude,l.coords.latitude),v=l.coords.accuracy,x=this._map.getBearing(),O=a.e({bearing:x},this.options.fitBoundsOptions),D=Bt.fromLngLat(c,v);this._map.fitBounds(D,O,{geolocateSource:!0})},this._updateMarker=l=>{if(l){const c=new a.N(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=l=>{if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&vA)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",l)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=K.create("button","maplibregl-ctrl-geolocate",this._container),K.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=l=>{if(this._map){if(l===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=K.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Pu({element:this._dotElement}),this._circleElement=K.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Pu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")),this.fire(new a.k("userlocationlostfocus")))})}},this.options=a.e({},Za,S)}onAdd(S){return this._map=S,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(l=!1){if(cu!==void 0&&!l)return cu;if(window.navigator.permissions===void 0)return cu=!!window.navigator.geolocation,cu;try{cu=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{cu=!!window.navigator.geolocation}return cu})}().then(l=>this._finishSetupUI(l)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),K.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Oa=0,vA=!1}_isOutOfMapMaxBounds(S){const l=this._map.getMaxBounds(),c=S.coords;return l&&(c.longitude<l.getWest()||c.longitude>l.getEast()||c.latitude<l.getSouth()||c.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const S=this._map.getBounds(),l=S.getSouthEast(),c=S.getNorthEast(),v=l.distanceTo(c),x=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${x}px`,this._circleElement.style.height=`${x}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Oa--,vA=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart")),this.fire(new a.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let S;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Oa++,Oa>1?(S={maximumAge:6e5,timeout:0},vA=!0):(S=this.options.positionOptions,vA=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,S)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var S;const l=(S=this._map.getProjection())===null||S===void 0?void 0:S.type;this._map.setProjection(l!=="mercator"&&l?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var S;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((S=this._map.getProjection())===null||S===void 0?void 0:S.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(S){return this._map=S,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=K.create("button","maplibregl-ctrl-globe",this._container),K.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){K.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=Tp,s.ImageSource=Zn,s.KeyboardHandler=co,s.LngLatBounds=Bt,s.LogoControl=Zo,s.Map=class extends Iu{constructor(S){var l,c;a.cd.mark(a.ce.create);const v=Object.assign(Object.assign(Object.assign({},yA),S),{canvasContextAttributes:Object.assign(Object.assign({},yA.canvasContextAttributes),S.canvasContextAttributes)});if(v.minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const x=new ya,O=new Vu;if(v.minZoom!==void 0&&x.setMinZoom(v.minZoom),v.maxZoom!==void 0&&x.setMaxZoom(v.maxZoom),v.minPitch!==void 0&&x.setMinPitch(v.minPitch),v.maxPitch!==void 0&&x.setMaxPitch(v.maxPitch),v.renderWorldCopies!==void 0&&x.setRenderWorldCopies(v.renderWorldCopies),super(x,O,{bearingSnap:v.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Im,this._controls=[],this._mapId=a.a1(),this._contextLost=U=>{U.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.k("webglcontextlost",{originalEvent:U}))},this._contextRestored=U=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:U}))},this._onMapScroll=U=>{if(U.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=v.interactive,this._maxTileCacheSize=v.maxTileCacheSize,this._maxTileCacheZoomLevels=v.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},v.canvasContextAttributes),this._trackResize=v.trackResize===!0,this._bearingSnap=v.bearingSnap,this._centerClampedToGround=v.centerClampedToGround,this._refreshExpiredTiles=v.refreshExpiredTiles===!0,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions===!0,this._collectResourceTiming=v.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Cc),v.locale),this._clickTolerance=v.clickTolerance,this._overridePixelRatio=v.pixelRatio,this._maxCanvasSize=v.maxCanvasSize,this.transformCameraUpdate=v.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=v.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=ne.addThrottleControl(()=>this.isMoving()),this._requestManager=new se(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error(`Container '${v.container}' not found.`)}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}if(v.maxBounds&&this.setMaxBounds(v.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let U=!1;const W=kf($=>{this._trackResize&&!this._removed&&(this.resize($),this.redraw())},50);this._resizeObserver=new ResizeObserver($=>{U?W($):U=!0}),this._resizeObserver.observe(this._container)}this.handlers=new jr(this,v),this._hash=v.hash&&new Tp(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,elevation:v.elevation,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,roll:v.roll}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,a.e({},v.fitBoundsOptions,{duration:0}))));const D=typeof v.style=="string"||((c=(l=v.style)===null||l===void 0?void 0:l.projection)===null||c===void 0?void 0:c.type)!=="globe";this.resize(null,D),this._localIdeographFontFamily=v.localIdeographFontFamily,this._validateStyle=v.validateStyle,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new ku(typeof v.attributionControl=="boolean"?void 0:v.attributionControl)),v.maplibreLogo&&this.addControl(new Zo,v.logoPosition),this.on("style.load",()=>{if(D||this._resizeTransform(),this.transform.unmodified){const U=a.M(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(U)}}),this.on("data",U=>{this._update(U.dataType==="style"),this.fire(new a.k(`${U.dataType}data`,U))}),this.on("dataloading",U=>{this.fire(new a.k(`${U.dataType}dataloading`,U))}),this.on("dataabort",U=>{this.fire(new a.k("sourcedataabort",U))})}_getMapId(){return this._mapId}addControl(S,l){if(l===void 0&&(l=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=S.onAdd(this);this._controls.push(S);const v=this._controlPositions[l];return l.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this}removeControl(S){if(!S||!S.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(S);return l>-1&&this._controls.splice(l,1),S.onRemove(this),this}hasControl(S){return this._controls.indexOf(S)>-1}calculateCameraOptionsFromTo(S,l,c,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(S,l,c,v)}resize(S,l=!0){const[c,v]=this._containerDimensions(),x=this._getClampedPixelRatio(c,v);if(this._resizeCanvas(c,v,x),this.painter.resize(c,v,x),this.painter.overLimit()){const D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];const U=this._getClampedPixelRatio(c,v);this._resizeCanvas(c,v,U),this.painter.resize(c,v,U)}this._resizeTransform(l);const O=!this._moving;return O&&(this.stop(),this.fire(new a.k("movestart",S)).fire(new a.k("move",S))),this.fire(new a.k("resize",S)),O&&this.fire(new a.k("moveend",S)),this}_resizeTransform(S=!0){var l;const[c,v]=this._containerDimensions();this.transform.resize(c,v,S),(l=this._requestedCameraState)===null||l===void 0||l.resize(c,v,S)}_getClampedPixelRatio(S,l){const{0:c,1:v}=this._maxCanvasSize,x=this.getPixelRatio(),O=S*x,D=l*x;return Math.min(O>c?c/O:1,D>v?v/D:1)*x}getPixelRatio(){var S;return(S=this._overridePixelRatio)!==null&&S!==void 0?S:devicePixelRatio}setPixelRatio(S){this._overridePixelRatio=S,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(S){return this.transform.setMaxBounds(Bt.convert(S)),this._update()}setMinZoom(S){if((S=S??-2)>=-2&&S<=this.transform.maxZoom)return this.transform.setMinZoom(S),this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(S){if((S=S??22)>=this.transform.minZoom)return this.transform.setMaxZoom(S),this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(S){if((S=S??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.setMinPitch(S),this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(S){if((S=S??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(S>=this.transform.minPitch)return this.transform.setMaxPitch(S),this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(S){return this.transform.setRenderWorldCopies(S),this._update()}project(S){return this.transform.locationToScreenPoint(a.N.convert(S),this.style&&this.terrain)}unproject(S){return this.transform.screenPointToLocation(a.P.convert(S),this.terrain)}isMoving(){var S;return this._moving||((S=this.handlers)===null||S===void 0?void 0:S.isMoving())}isZooming(){var S;return this._zooming||((S=this.handlers)===null||S===void 0?void 0:S.isZooming())}isRotating(){var S;return this._rotating||((S=this.handlers)===null||S===void 0?void 0:S.isRotating())}_createDelegatedListener(S,l,c){if(S==="mouseenter"||S==="mouseover"){let v=!1;return{layers:l,listener:c,delegates:{mousemove:O=>{const D=l.filter(W=>this.getLayer(W)),U=D.length!==0?this.queryRenderedFeatures(O.point,{layers:D}):[];U.length?v||(v=!0,c.call(this,new Pi(S,this,O.originalEvent,{features:U}))):v=!1},mouseout:()=>{v=!1}}}}if(S==="mouseleave"||S==="mouseout"){let v=!1;return{layers:l,listener:c,delegates:{mousemove:D=>{const U=l.filter(W=>this.getLayer(W));(U.length!==0?this.queryRenderedFeatures(D.point,{layers:U}):[]).length?v=!0:v&&(v=!1,c.call(this,new Pi(S,this,D.originalEvent)))},mouseout:D=>{v&&(v=!1,c.call(this,new Pi(S,this,D.originalEvent)))}}}}{const v=x=>{const O=l.filter(U=>this.getLayer(U)),D=O.length!==0?this.queryRenderedFeatures(x.point,{layers:O}):[];D.length&&(x.features=D,c.call(this,x),delete x.features)};return{layers:l,listener:c,delegates:{[S]:v}}}}_saveDelegatedListener(S,l){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push(l)}_removeDelegatedListener(S,l,c){if(!this._delegatedListeners||!this._delegatedListeners[S])return;const v=this._delegatedListeners[S];for(let x=0;x<v.length;x++){const O=v[x];if(O.listener===c&&O.layers.length===l.length&&O.layers.every(D=>l.includes(D))){for(const D in O.delegates)this.off(D,O.delegates[D]);return void v.splice(x,1)}}}on(S,l,c){if(c===void 0)return super.on(S,l);const v=typeof l=="string"?[l]:l,x=this._createDelegatedListener(S,v,c);this._saveDelegatedListener(S,x);for(const O in x.delegates)this.on(O,x.delegates[O]);return{unsubscribe:()=>{this._removeDelegatedListener(S,v,c)}}}once(S,l,c){if(c===void 0)return super.once(S,l);const v=typeof l=="string"?[l]:l,x=this._createDelegatedListener(S,v,c);for(const O in x.delegates){const D=x.delegates[O];x.delegates[O]=(...U)=>{this._removeDelegatedListener(S,v,c),D(...U)}}this._saveDelegatedListener(S,x);for(const O in x.delegates)this.once(O,x.delegates[O]);return this}off(S,l,c){return c===void 0?super.off(S,l):(this._removeDelegatedListener(S,typeof l=="string"?[l]:l,c),this)}queryRenderedFeatures(S,l){if(!this.style)return[];let c;const v=S instanceof a.P||Array.isArray(S),x=v?S:[[0,0],[this.transform.width,this.transform.height]];if(l=l||(v?{}:S)||{},x instanceof a.P||typeof x[0]=="number")c=[a.P.convert(x)];else{const O=a.P.convert(x[0]),D=a.P.convert(x[1]);c=[O,new a.P(D.x,O.y),D,new a.P(O.x,D.y),O]}return this.style.queryRenderedFeatures(c,l,this.transform)}querySourceFeatures(S,l){return this.style.querySourceFeatures(S,l)}setStyle(S,l){return(l=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(S,l))}setTransformRequest(S){return this._requestManager.setTransformRequest(S),this}_getUIString(S){const l=this._locale[S];if(l==null)throw new Error(`Missing UI string '${S}'`);return l}_updateStyle(S,l){var c,v;if(l.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(S,l));const x=this.style&&l.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!S)),S?(this.style=new vd(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S,l,x):this.style.loadJSON(S,l,x),this):((v=(c=this.style)===null||c===void 0?void 0:c.projection)===null||v===void 0||v.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new vd(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(S,l){if(typeof S=="string"){const c=this._requestManager.transformRequest(S,"Style");a.h(c,new AbortController).then(v=>{this._updateDiff(v.data,l)}).catch(v=>{v&&this.fire(new a.j(v))})}else typeof S=="object"&&this._updateDiff(S,l)}_updateDiff(S,l){try{this.style.setState(S,l)&&this._update(!0)}catch(c){a.w(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(S,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(S,l){return this._lazyInitEmptyStyle(),this.style.addSource(S,l),this._update(!0)}isSourceLoaded(S){const l=this.style&&this.style.sourceCaches[S];if(l!==void 0)return l.loaded();this.fire(new a.j(new Error(`There is no source with ID '${S}'`)))}setTerrain(S){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),S){const l=this.style.sourceCaches[S.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${S.source}`);this.terrain===null&&l.reload();for(const c in this.style._layers){const v=this.style._layers[c];v.type==="hillshade"&&v.source===S.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new $A(this.painter,l,S),this.painter.renderToTexture=new Tm(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=c=>{c.dataType==="style"?this.terrain.sourceCache.freeRtt():c.dataType==="source"&&c.tile&&(c.sourceId!==S.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),this.terrain.sourceCache.freeRtt(c.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.k("terrain",{terrain:S})),this}getTerrain(){var S,l;return(l=(S=this.terrain)===null||S===void 0?void 0:S.options)!==null&&l!==void 0?l:null}areTilesLoaded(){const S=this.style&&this.style.sourceCaches;for(const l in S){const c=S[l]._tiles;for(const v in c){const x=c[v];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}removeSource(S){return this.style.removeSource(S),this._update(!0)}getSource(S){return this.style.getSource(S)}addImage(S,l,c={}){const{pixelRatio:v=1,sdf:x=!1,stretchX:O,stretchY:D,content:U,textFitWidth:W,textFitHeight:$}=c;if(this._lazyInitEmptyStyle(),!(l instanceof HTMLImageElement||a.b(l))){if(l.width===void 0||l.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ue,height:fe,data:me}=l,Ie=l;return this.style.addImage(S,{data:new a.R({width:ue,height:fe},new Uint8Array(me)),pixelRatio:v,stretchX:O,stretchY:D,content:U,textFitWidth:W,textFitHeight:$,sdf:x,version:0,userImage:Ie}),Ie.onAdd&&Ie.onAdd(this,S),this}}{const{width:ue,height:fe,data:me}=I.getImageData(l);this.style.addImage(S,{data:new a.R({width:ue,height:fe},me),pixelRatio:v,stretchX:O,stretchY:D,content:U,textFitWidth:W,textFitHeight:$,sdf:x,version:0})}}updateImage(S,l){const c=this.style.getImage(S);if(!c)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=l instanceof HTMLImageElement||a.b(l)?I.getImageData(l):l,{width:x,height:O,data:D}=v;if(x===void 0||O===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(x!==c.data.width||O!==c.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const U=!(l instanceof HTMLImageElement||a.b(l));return c.data.replace(D,U),this.style.updateImage(S,c),this}getImage(S){return this.style.getImage(S)}hasImage(S){return S?!!this.style.getImage(S):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(S){this.style.removeImage(S)}loadImage(S){return ne.getImage(this._requestManager.transformRequest(S,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(S,l){return this._lazyInitEmptyStyle(),this.style.addLayer(S,l),this._update(!0)}moveLayer(S,l){return this.style.moveLayer(S,l),this._update(!0)}removeLayer(S){return this.style.removeLayer(S),this._update(!0)}getLayer(S){return this.style.getLayer(S)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(S,l,c){return this.style.setLayerZoomRange(S,l,c),this._update(!0)}setFilter(S,l,c={}){return this.style.setFilter(S,l,c),this._update(!0)}getFilter(S){return this.style.getFilter(S)}setPaintProperty(S,l,c,v={}){return this.style.setPaintProperty(S,l,c,v),this._update(!0)}getPaintProperty(S,l){return this.style.getPaintProperty(S,l)}setLayoutProperty(S,l,c,v={}){return this.style.setLayoutProperty(S,l,c,v),this._update(!0)}getLayoutProperty(S,l){return this.style.getLayoutProperty(S,l)}setGlyphs(S,l={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(S,l),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(S,l,c={}){return this._lazyInitEmptyStyle(),this.style.addSprite(S,l,c,v=>{v||this._update(!0)}),this}removeSprite(S){return this._lazyInitEmptyStyle(),this.style.removeSprite(S),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(S,l={}){return this._lazyInitEmptyStyle(),this.style.setSprite(S,l,c=>{c||this._update(!0)}),this}setLight(S,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(S,l),this._update(!0)}getLight(){return this.style.getLight()}setSky(S,l={}){return this._lazyInitEmptyStyle(),this.style.setSky(S,l),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(S,l){return this.style.setFeatureState(S,l),this._update()}removeFeatureState(S,l){return this.style.removeFeatureState(S,l),this._update()}getFeatureState(S){return this.style.getFeatureState(S)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let S=0,l=0;return this._container&&(S=this._container.clientWidth||400,l=this._container.clientHeight||300),[S,l]}_setupContainer(){const S=this._container;S.classList.add("maplibregl-map");const l=this._canvasContainer=K.create("div","maplibregl-canvas-container",S);this._interactive&&l.classList.add("maplibregl-interactive"),this._canvas=K.create("canvas","maplibregl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const c=this._containerDimensions(),v=this._getClampedPixelRatio(c[0],c[1]);this._resizeCanvas(c[0],c[1],v);const x=this._controlContainer=K.create("div","maplibregl-control-container",S),O=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{O[D]=K.create("div",`maplibregl-ctrl-${D} `,x)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(S,l,c){this._canvas.width=Math.floor(c*S),this._canvas.height=Math.floor(c*l),this._canvas.style.width=`${S}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const S=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let l=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{l={requestedAttributes:S},v&&(l.statusMessage=v.statusMessage,l.type=v.type)},{once:!0});let c=null;if(c=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,S):this._canvas.getContext("webgl2",S)||this._canvas.getContext("webgl",S),!c){const v="Failed to initialize WebGL";throw l?(l.message=v,new Error(JSON.stringify(l))):new Error(v)}this.painter=new uu(c,this.transform),L.testSupport(c)}migrateProjection(S,l){super.migrateProjection(S,l),this.painter.transform=S,this.fire(new a.k("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(S){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(S){return this._update(),this._renderTaskQueue.add(S)}_cancelRenderFrame(S){this._renderTaskQueue.remove(S)}_render(S){var l,c,v,x,O;const D=this._idleTriggered?this._fadeDuration:0,U=((l=this.style.projection)===null||l===void 0?void 0:l.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),this._removed)return;let W=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const fe=this.transform.zoom,me=I.now();this.style.zoomHistory.update(fe,me);const Ie=new a.z(fe,{now:me,fadeDuration:D,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),De=Ie.crossFadingFactor();De===1&&De===this._crossFadingFactor||(W=!0,this._crossFadingFactor=De),this.style.update(Ie)}const $=((c=this.style.projection)===null||c===void 0?void 0:c.transitionState)>0!==U;(v=this.style.projection)===null||v===void 0||v.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((x=this.style.projection)===null||x===void 0?void 0:x.transitionState,(O=this.style.projection)===null||O===void 0?void 0:O.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||$)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,D,this._crossSourceCollisions,$),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cd.mark(a.ce.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||W)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const ue=this._sourcesDirty||this._styleDirty||this._placementDirty;return ue||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||ue||(this._fullyLoaded=!0,a.cd.mark(a.ce.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var S;this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ne.removeThrottleControl(this._imageQueueHandle),(S=this._resizeObserver)===null||S===void 0||S.disconnect();const l=this.painter.context.gl.getExtension("WEBGL_lose_context");l!=null&&l.loseContext&&l.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),K.remove(this._canvasContainer),K.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cd.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,I.frameAsync(this._frameRequest).then(S=>{a.cd.frame(S),this._frameRequest=null,this._render(S)}).catch(S=>{if(!a.cf(S)&&!function(l){return l.message===bl}(S))throw S}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())}get showPadding(){return!!this._showPadding}set showPadding(S){this._showPadding!==S&&(this._showPadding=S,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())}get repaint(){return!!this._repaint}set repaint(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(S){this._vertices=S,this._update()}get version(){return Ld}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(S){return this._lazyInitEmptyStyle(),this.style.setProjection(S),this._update(!0)}},s.MapMouseEvent=Pi,s.MapTouchEvent=Pr,s.MapWheelEvent=da,s.Marker=Pu,s.NavigationControl=class{constructor(S){this._updateZoomButtons=()=>{const l=this._map.getZoom(),c=l===this._map.getMaxZoom(),v=l===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(l,c)=>{const v=this._map._getUIString(`NavigationControl.${c}`);l.title=v,l.setAttribute("aria-label",v)},this.options=a.e({},za,S),this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),K.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),K.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=K.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(S){return this._map=S,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){K.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(S,l){const c=K.create("button",S,this._container);return c.type="button",c.addEventListener("click",l),c}},s.Popup=class extends a.E{constructor(S){super(),this.remove=()=>(this._content&&K.remove(this._content),this._container&&(K.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.k("close"))),this),this._onMouseUp=l=>{this._update(l.point)},this._onMouseMove=l=>{this._update(l.point)},this._onDrag=l=>{this._update(l.point)},this._update=l=>{var c;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=K.create("div","maplibregl-popup",this._map.getContainer()),this._tip=K.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const U of this.options.className.split(" "))this._container.classList.add(U);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?xl(this._lngLat,this._flatPos,this._map.transform):(c=this._lngLat)===null||c===void 0?void 0:c.wrap(),this._trackPointer&&!l)return;const v=this._flatPos=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&l?l:this._map.transform.locationToScreenPoint(this._lngLat));let x=this.options.anchor;const O=YA(this.options.offset);if(!x){const U=this._container.offsetWidth,W=this._container.offsetHeight;let $;$=v.y+O.bottom.y<W?["top"]:v.y>this._map.transform.height-W?["bottom"]:[],v.x<U/2?$.push("left"):v.x>this._map.transform.width-U/2&&$.push("right"),x=$.length===0?"bottom":$.join("-")}let D=v.add(O[x]);this.options.subpixelPositioning||(D=D.round()),K.setTransform(this._container,`${xc[x]} translate(${D.x}px,${D.y}px)`),uh(this._container,x,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(wc),S)}addTo(S){return this._map&&this.remove(),this._map=S,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(S){return this._lngLat=a.N.convert(S),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(S){return this.setDOMContent(document.createTextNode(S))}setHTML(S){const l=document.createDocumentFragment(),c=document.createElement("body");let v;for(c.innerHTML=S;v=c.firstChild,v;)l.appendChild(v);return this.setDOMContent(l)}getMaxWidth(){var S;return(S=this._container)===null||S===void 0?void 0:S.style.maxWidth}setMaxWidth(S){return this.options.maxWidth=S,this._update(),this}setDOMContent(S){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=K.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(S),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(S){return this._container&&this._container.classList.add(S),this}removeClassName(S){return this._container&&this._container.classList.remove(S),this}setOffset(S){return this.options.offset=S,this._update(),this}toggleClassName(S){if(this._container)return this._container.classList.toggle(S)}setSubpixelPositioning(S){this.options.subpixelPositioning=S}_createCloseButton(){this.options.closeButton&&(this._closeButton=K.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const S=this._container.querySelector(Fd);S&&S.focus()}},s.RasterDEMTileSource=rr,s.RasterTileSource=zn,s.ScaleControl=class{constructor(S){this._onMove=()=>{Wh(this._map,this._container,this.options)},this.setUnit=l=>{this.options.unit=l,Wh(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Df),S)}getDefaultPosition(){return"bottom-left"}onAdd(S){return this._map=S,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-scale",S.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){K.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=al,s.Style=vd,s.TerrainControl=class{constructor(S){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=S}onAdd(S){return this._map=S,this._container=K.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=K.create("button","maplibregl-ctrl-terrain",this._container),K.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){K.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=Kf,s.TwoFingersTouchRotateHandler=gA,s.TwoFingersTouchZoomHandler=Td,s.TwoFingersTouchZoomRotateHandler=GA,s.VectorTileSource=Gt,s.VideoSource=yr,s.addSourceType=(S,l)=>a._(void 0,void 0,void 0,function*(){if(Jr(S))throw new Error(`A source type called "${S}" already exists.`);((c,v)=>{Or[c]=v})(S,l)}),s.clearPrewarmedResources=function(){const S=tn;S&&(S.isPreloaded()&&S.numActive()===1?(S.release(tt),tn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=We,s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return te().getRTLTextPluginStatus()},s.getVersion=function(){return Rd},s.getWorkerCount=function(){return nt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(S){return Fe().broadcast("IS",S)},s.prewarm=function(){Xt().acquire(tt)},s.setMaxParallelImageRequests=function(S){a.a.MAX_PARALLEL_IMAGE_REQUESTS=S},s.setRTLTextPlugin=function(S,l){return te().setRTLTextPlugin(S,l)},s.setWorkerCount=function(S){nt.workerCount=S},s.setWorkerUrl=function(S){a.a.WORKER_URL=S}});var o=t;return o})})(fN);var wre=fN.exports;const fC=Da(wre);var d3=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function mN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pC={exports:{}};pC.exports;var iK;function Mre(){return iK||(iK=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",k="[object Date]",I="[object Error]",K="[object Function]",L="[object GeneratorFunction]",q="[object Map]",X="[object Number]",H="[object Null]",G="[object Object]",ee="[object Promise]",ne="[object Proxy]",se="[object RegExp]",Ae="[object Set]",V="[object String]",re="[object Symbol]",be="[object Undefined]",_e="[object WeakMap]",Pe="[object ArrayBuffer]",Ue="[object DataView]",pe="[object Float32Array]",Ye="[object Float64Array]",we="[object Int8Array]",pt="[object Int16Array]",wt="[object Int32Array]",ft="[object Uint8Array]",bt="[object Uint8ClampedArray]",$e="[object Uint16Array]",tt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,en=/^\[object .+?Constructor\]$/,tn=/^(?:0|[1-9]\d*)$/,St={};St[pe]=St[Ye]=St[we]=St[pt]=St[wt]=St[ft]=St[bt]=St[$e]=St[tt]=!0,St[a]=St[f]=St[Pe]=St[C]=St[Ue]=St[k]=St[I]=St[K]=St[q]=St[X]=St[G]=St[se]=St[Ae]=St[V]=St[_e]=!1;var Xt=typeof d3=="object"&&d3&&d3.Object===Object&&d3,Nt=typeof self=="object"&&self&&self.Object===Object&&self,Fe=Xt||Nt||Function("return this")(),ye=e&&!e.nodeType&&e,ke=ye&&!0&&n&&!n.nodeType&&n,Ge=ke&&ke.exports===ye,st=Ge&&Xt.process,ht=function(){try{return st&&st.binding&&st.binding("util")}catch{}}(),Bt=ht&&ht.isTypedArray;function nn(N,he){for(var We=-1,Tt=N==null?0:N.length,sr=0,On=[];++We<Tt;){var Ur=N[We];he(Ur,We,N)&&(On[sr++]=Ur)}return On}function Gt(N,he){for(var We=-1,Tt=he.length,sr=N.length;++We<Tt;)N[sr+We]=he[We];return N}function zn(N,he){for(var We=-1,Tt=N==null?0:N.length;++We<Tt;)if(he(N[We],We,N))return!0;return!1}function rr(N,he){for(var We=-1,Tt=Array(N);++We<N;)Tt[We]=he(We);return Tt}function xn(N){return function(he){return N(he)}}function Zn(N,he){return N.has(he)}function yr(N,he){return N==null?void 0:N[he]}function Mr(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt,sr){We[++he]=[sr,Tt]}),We}function Or(N,he){return function(We){return N(he(We))}}function Jr(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt){We[++he]=Tt}),We}var _r=Array.prototype,gi=Function.prototype,Te=Object.prototype,te=Fe["__core-js_shared__"],oe=gi.toString,je=Te.hasOwnProperty,Ct=function(){var N=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),Lt=Te.toString,jt=RegExp("^"+oe.call(je).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=Ge?Fe.Buffer:void 0,Re=Fe.Symbol,Ee=Fe.Uint8Array,Me=Te.propertyIsEnumerable,p=_r.splice,Ke=Re?Re.toStringTag:void 0,rt=Object.getOwnPropertySymbols,ot=cr?cr.isBuffer:void 0,yt=Or(Object.keys,Object),lt=ii(Fe,"DataView"),Rt=ii(Fe,"Map"),Dt=ii(Fe,"Promise"),Ot=ii(Fe,"Set"),At=ii(Fe,"WeakMap"),yn=ii(Object,"create"),gn=xo(lt),Yn=xo(Rt),Sr=xo(Dt),$t=xo(Ot),Kn=xo(At),Wn=Re?Re.prototype:void 0,Tr=Wn?Wn.valueOf:void 0;function Jn(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Vn(){this.__data__=yn?yn(null):{},this.size=0}function Tn(N){var he=this.has(N)&&delete this.__data__[N];return this.size-=he?1:0,he}function _i(N){var he=this.__data__;if(yn){var We=he[N];return We===r?void 0:We}return je.call(he,N)?he[N]:void 0}function Zi(N){var he=this.__data__;return yn?he[N]!==void 0:je.call(he,N)}function ei(N,he){var We=this.__data__;return this.size+=this.has(N)?0:1,We[N]=yn&&he===void 0?r:he,this}Jn.prototype.clear=Vn,Jn.prototype.delete=Tn,Jn.prototype.get=_i,Jn.prototype.has=Zi,Jn.prototype.set=ei;function Wr(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Yr(){this.__data__=[],this.size=0}function Xi(N){var he=this.__data__,We=En(he,N);if(We<0)return!1;var Tt=he.length-1;return We==Tt?he.pop():p.call(he,We,1),--this.size,!0}function hi(N){var he=this.__data__,We=En(he,N);return We<0?void 0:he[We][1]}function ra(N){return En(this.__data__,N)>-1}function Ca(N,he){var We=this.__data__,Tt=En(We,N);return Tt<0?(++this.size,We.push([N,he])):We[Tt][1]=he,this}Wr.prototype.clear=Yr,Wr.prototype.delete=Xi,Wr.prototype.get=hi,Wr.prototype.has=ra,Wr.prototype.set=Ca;function ao(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Vo(){this.size=0,this.__data__={hash:new Jn,map:new(Rt||Wr),string:new Jn}}function la(N){var he=di(this,N).delete(N);return this.size-=he?1:0,he}function ba(N){return di(this,N).get(N)}function el(N){return di(this,N).has(N)}function Ss(N,he){var We=di(this,N),Tt=We.size;return We.set(N,he),this.size+=We.size==Tt?0:1,this}ao.prototype.clear=Vo,ao.prototype.delete=la,ao.prototype.get=ba,ao.prototype.has=el,ao.prototype.set=Ss;function li(N){var he=-1,We=N==null?0:N.length;for(this.__data__=new ao;++he<We;)this.add(N[he])}function ar(N){return this.__data__.set(N,r),this}function La(N){return this.__data__.has(N)}li.prototype.add=li.prototype.push=ar,li.prototype.has=La;function Io(N){var he=this.__data__=new Wr(N);this.size=he.size}function ua(){this.__data__=new Wr,this.size=0}function Oe(N){var he=this.__data__,We=he.delete(N);return this.size=he.size,We}function it(N){return this.__data__.get(N)}function rn(N){return this.__data__.has(N)}function wn(N,he){var We=this.__data__;if(We instanceof Wr){var Tt=We.__data__;if(!Rt||Tt.length<t-1)return Tt.push([N,he]),this.size=++We.size,this;We=this.__data__=new ao(Tt)}return We.set(N,he),this.size=We.size,this}Io.prototype.clear=ua,Io.prototype.delete=Oe,Io.prototype.get=it,Io.prototype.has=rn,Io.prototype.set=wn;function Qt(N,he){var We=yl(N),Tt=!We&&ya(N),sr=!We&&!Tt&&Rs(N),On=!We&&!Tt&&!sr&&Fl(N),Ur=We||Tt||sr||On,Vr=Ur?rr(N.length,String):[],er=Vr.length;for(var lr in N)je.call(N,lr)&&!(Ur&&(lr=="length"||sr&&(lr=="offset"||lr=="parent")||On&&(lr=="buffer"||lr=="byteLength"||lr=="byteOffset")||ca(lr,er)))&&Vr.push(lr);return Vr}function En(N,he){for(var We=N.length;We--;)if(wa(N[We][0],he))return We;return-1}function ni(N,he,We){var Tt=he(N);return yl(N)?Tt:Gt(Tt,We(N))}function Ci(N){return N==null?N===void 0?be:H:Ke&&Ke in Object(N)?Es(N):Os(N)}function Wi(N){return Dr(N)&&Ci(N)==a}function Wo(N,he,We,Tt,sr){return N===he?!0:N==null||he==null||!Dr(N)&&!Dr(he)?N!==N&&he!==he:Dl(N,he,We,Tt,Wo,sr)}function Dl(N,he,We,Tt,sr,On){var Ur=yl(N),Vr=yl(he),er=Ur?f:so(N),lr=Vr?f:so(he);er=er==a?G:er,lr=lr==a?G:lr;var ri=er==G,lo=lr==G,wi=er==lr;if(wi&&Rs(N)){if(!Rs(he))return!1;Ur=!0,ri=!1}if(wi&&!ri)return On||(On=new Io),Ur||Fl(N)?Gr(N,he,We,Tt,sr,On):ms(N,he,er,We,Tt,sr,On);if(!(We&i)){var Er=ri&&je.call(N,"__wrapped__"),Li=lo&&je.call(he,"__wrapped__");if(Er||Li){var ko=Er?N.value():N,ia=Li?he.value():he;return On||(On=new Io),sr(ko,ia,We,Tt,On)}}return wi?(On||(On=new Io),Mu(N,he,We,Tt,sr,On)):!1}function Br(N){if(!bi(N)||Ll(N))return!1;var he=Gi(N)?jt:en;return he.test(xo(N))}function qr(N){return Dr(N)&&vl(N.length)&&!!St[Ci(N)]}function xa(N){if(!Uo(N))return yt(N);var he=[];for(var We in Object(N))je.call(N,We)&&We!="constructor"&&he.push(We);return he}function Gr(N,he,We,Tt,sr,On){var Ur=We&i,Vr=N.length,er=he.length;if(Vr!=er&&!(Ur&&er>Vr))return!1;var lr=On.get(N);if(lr&&On.get(he))return lr==he;var ri=-1,lo=!0,wi=We&o?new li:void 0;for(On.set(N,he),On.set(he,N);++ri<Vr;){var Er=N[ri],Li=he[ri];if(Tt)var ko=Ur?Tt(Li,Er,ri,he,N,On):Tt(Er,Li,ri,N,he,On);if(ko!==void 0){if(ko)continue;lo=!1;break}if(wi){if(!zn(he,function(ia,Va){if(!Zn(wi,Va)&&(Er===ia||sr(Er,ia,We,Tt,On)))return wi.push(Va)})){lo=!1;break}}else if(!(Er===Li||sr(Er,Li,We,Tt,On))){lo=!1;break}}return On.delete(N),On.delete(he),lo}function ms(N,he,We,Tt,sr,On,Ur){switch(We){case Ue:if(N.byteLength!=he.byteLength||N.byteOffset!=he.byteOffset)return!1;N=N.buffer,he=he.buffer;case Pe:return!(N.byteLength!=he.byteLength||!On(new Ee(N),new Ee(he)));case C:case k:case X:return wa(+N,+he);case I:return N.name==he.name&&N.message==he.message;case se:case V:return N==he+"";case q:var Vr=Mr;case Ae:var er=Tt&i;if(Vr||(Vr=Jr),N.size!=he.size&&!er)return!1;var lr=Ur.get(N);if(lr)return lr==he;Tt|=o,Ur.set(N,he);var ri=Gr(Vr(N),Vr(he),Tt,sr,On,Ur);return Ur.delete(N),ri;case re:if(Tr)return Tr.call(N)==Tr.call(he)}return!1}function Mu(N,he,We,Tt,sr,On){var Ur=We&i,Vr=Ro(N),er=Vr.length,lr=Ro(he),ri=lr.length;if(er!=ri&&!Ur)return!1;for(var lo=er;lo--;){var wi=Vr[lo];if(!(Ur?wi in he:je.call(he,wi)))return!1}var Er=On.get(N);if(Er&&On.get(he))return Er==he;var Li=!0;On.set(N,he),On.set(he,N);for(var ko=Ur;++lo<er;){wi=Vr[lo];var ia=N[wi],Va=he[wi];if(Tt)var tl=Ur?Tt(Va,ia,wi,he,N,On):Tt(ia,Va,wi,N,he,On);if(!(tl===void 0?ia===Va||sr(ia,Va,We,Tt,On):tl)){Li=!1;break}ko||(ko=wi=="constructor")}if(Li&&!ko){var Rl=N.constructor,Ma=he.constructor;Rl!=Ma&&"constructor"in N&&"constructor"in he&&!(typeof Rl=="function"&&Rl instanceof Rl&&typeof Ma=="function"&&Ma instanceof Ma)&&(Li=!1)}return On.delete(N),On.delete(he),Li}function Ro(N){return ni(N,xi,Aa)}function di(N,he){var We=N.__data__;return tu(he)?We[typeof he=="string"?"string":"hash"]:We.map}function ii(N,he){var We=yr(N,he);return Br(We)?We:void 0}function Es(N){var he=je.call(N,Ke),We=N[Ke];try{N[Ke]=void 0;var Tt=!0}catch{}var sr=Lt.call(N);return Tt&&(he?N[Ke]=We:delete N[Ke]),sr}var Aa=rt?function(N){return N==null?[]:(N=Object(N),nn(rt(N),function(he){return Me.call(N,he)}))}:Ji,so=Ci;(lt&&so(new lt(new ArrayBuffer(1)))!=Ue||Rt&&so(new Rt)!=q||Dt&&so(Dt.resolve())!=ee||Ot&&so(new Ot)!=Ae||At&&so(new At)!=_e)&&(so=function(N){var he=Ci(N),We=he==G?N.constructor:void 0,Tt=We?xo(We):"";if(Tt)switch(Tt){case gn:return Ue;case Yn:return q;case Sr:return ee;case $t:return Ae;case Kn:return _e}return he});function ca(N,he){return he=he??s,!!he&&(typeof N=="number"||tn.test(N))&&N>-1&&N%1==0&&N<he}function tu(N){var he=typeof N;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?N!=="__proto__":N===null}function Ll(N){return!!Ct&&Ct in N}function Uo(N){var he=N&&N.constructor,We=typeof he=="function"&&he.prototype||Te;return N===We}function Os(N){return Lt.call(N)}function xo(N){if(N!=null){try{return oe.call(N)}catch{}try{return N+""}catch{}}return""}function wa(N,he){return N===he||N!==N&&he!==he}var ya=Wi(function(){return arguments}())?Wi:function(N){return Dr(N)&&je.call(N,"callee")&&!Me.call(N,"callee")},yl=Array.isArray;function qa(N){return N!=null&&vl(N.length)&&!Gi(N)}var Rs=ot||ki;function Vu(N,he){return Wo(N,he)}function Gi(N){if(!bi(N))return!1;var he=Ci(N);return he==K||he==L||he==m||he==ne}function vl(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=s}function bi(N){var he=typeof N;return N!=null&&(he=="object"||he=="function")}function Dr(N){return N!=null&&typeof N=="object"}var Fl=Bt?xn(Bt):qr;function xi(N){return qa(N)?Qt(N):xa(N)}function Ji(){return[]}function ki(){return!1}n.exports=Vu}(pC,pC.exports)),pC.exports}var Sre=Mre(),Ere=mN(Sre);function gB(n,e,t){const r={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function yB(n,e,t,r){const i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function vB(n,e,t){const r={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function Ore(n,e){const t=[],r=[],i=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const f=o(s);r.push(gB(f.circle,s)),i.push(vB(f.line,s)),t.push(yB(f.polygon,f.polygonOutline,s))}else a.forEach(f=>{const m=o(f);r.push(gB(m.circle,s,f)),i.push(vB(m.line,s,f)),t.push(yB(m.polygon,m.polygonOutline,s,f))})}),t.concat(i).concat(r)}function Bre(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(n,{layers:[r].concat(e),sources:i})}var oK={polygonLayer:yB,lineLayer:vB,circleLayer:gB,generateInspectStyle:Bre,generateColoredLayers:Ore};class Ire{constructor(e){e=Object.assign({show:!0,onToggle(){}},e),this._btn=this.createButton(),this._btn.onclick=e.onToggle,this.elem=this.createContainer(this._btn,e.show)}createButton(){const e=document.createElement("button");return e.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",e.type="button",e.title="Toggle Inspect",e.setAttribute("aria-label","Toggle Inspect"),e}createContainer(e,t){const r=document.createElement("div");return r.className="maplibregl-ctrl maplibregl-ctrl-group",r.appendChild(e),t||(r.style.display="none"),r}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function kre(n){return typeof n>"u"||n===null?n:n instanceof Date?n.toLocaleString():typeof n=="object"||typeof n=="number"||typeof n=="string"?n.toString():n}function PE(n,e){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${n}</div><div class="maplibregl-inspect_property-value">${kre(e)}</div></div>`}function Tre(n){return`<div class="maplibregl-inspect_layer">${n}</div>`}function Pre(n){const e=Tre(n.layer["source-layer"]||n.layer.source),t=PE("$id",n.id),r=PE("$type",n.geometry.type),i=Object.keys(n.properties).map(o=>PE(o,n.properties[o]));return[e,t,r].concat(i).join("")}function Kre(n){return n.map(e=>`<div class="maplibregl-inspect_feature">${Pre(e)}</div>`).join("")}function Dre(n){return`<div class="maplibregl-inspect_popup">${Kre(n)}</div>`}var mC={exports:{}},Lre=mC.exports,aK;function Fre(){return aK||(aK=1,function(n,e){(function(t,r){{var i=r();n.exports&&(e=n.exports=i),e.randomColor=i}})(Lre,function(){var t=null,r={};H();var i=[],o=function(V){if(V=V||{},V.seed!==void 0&&V.seed!==null&&V.seed===parseInt(V.seed,10))t=V.seed;else if(typeof V.seed=="string")t=se(V.seed);else{if(V.seed!==void 0&&V.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var re,be,_e;if(V.count!==null&&V.count!==void 0){for(var Pe=V.count,Ue=[],pe=0;pe<V.count;pe++)i.push(!1);for(V.count=null;Pe>Ue.length;){var Ye=o(V);t!==null&&(V.seed=t),Ue.push(Ye)}return V.count=Pe,Ue}return re=s(V),be=a(re,V),_e=f(re,be,V),m([re,be,_e],V)};function s(V){if(i.length>0){var re=Ae(V.hue),be=L(re),_e=(re[1]-re[0])/i.length,Pe=parseInt((be-re[0])/_e);i[Pe]===!0?Pe=(Pe+2)%i.length:i[Pe]=!0;var Ue=(re[0]+Pe*_e)%359,pe=(re[0]+(Pe+1)*_e)%359;return re=[Ue,pe],be=L(re),be<0&&(be=360+be),be}else{var re=k(V.hue);return be=L(re),be<0&&(be=360+be),be}}function a(V,re){if(re.hue==="monochrome")return 0;if(re.luminosity==="random")return L([0,100]);var be=I(V),_e=be[0],Pe=be[1];switch(re.luminosity){case"bright":_e=55;break;case"dark":_e=Pe-10;break;case"light":Pe=55;break}return L([_e,Pe])}function f(V,re,be){var _e=C(V,re),Pe=100;switch(be.luminosity){case"dark":Pe=_e+20;break;case"light":_e=(Pe+_e)/2;break;case"random":_e=0,Pe=100;break}return L([_e,Pe])}function m(V,re){switch(re.format){case"hsvArray":return V;case"hslArray":return ne(V);case"hsl":var be=ne(V);return"hsl("+be[0]+", "+be[1]+"%, "+be[2]+"%)";case"hsla":var _e=ne(V),pe=re.alpha||Math.random();return"hsla("+_e[0]+", "+_e[1]+"%, "+_e[2]+"%, "+pe+")";case"rgbArray":return G(V);case"rgb":var Pe=G(V);return"rgb("+Pe.join(", ")+")";case"rgba":var Ue=G(V),pe=re.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+pe+")";default:return q(V)}}function C(V,re){for(var be=K(V).lowerBounds,_e=0;_e<be.length-1;_e++){var Pe=be[_e][0],Ue=be[_e][1],pe=be[_e+1][0],Ye=be[_e+1][1];if(re>=Pe&&re<=pe){var we=(Ye-Ue)/(pe-Pe),pt=Ue-we*Pe;return we*re+pt}}return 0}function k(V){if(typeof parseInt(V)=="number"){var re=parseInt(V);if(re<360&&re>0)return[re,re]}if(typeof V=="string"){if(r[V]){var be=r[V];if(be.hueRange)return be.hueRange}else if(V.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var _e=ee(V)[0];return[_e,_e]}}return[0,360]}function I(V){return K(V).saturationRange}function K(V){V>=334&&V<=360&&(V-=360);for(var re in r){var be=r[re];if(be.hueRange&&V>=be.hueRange[0]&&V<=be.hueRange[1])return r[re]}return"Color not found"}function L(V){if(t===null){var re=.618033988749895,be=Math.random();return be+=re,be%=1,Math.floor(V[0]+be*(V[1]+1-V[0]))}else{var _e=V[1]||1,Pe=V[0]||0;t=(t*9301+49297)%233280;var Ue=t/233280;return Math.floor(Pe+Ue*(_e-Pe))}}function q(V){var re=G(V);function be(Pe){var Ue=Pe.toString(16);return Ue.length==1?"0"+Ue:Ue}var _e="#"+be(re[0])+be(re[1])+be(re[2]);return _e}function X(V,re,be){var _e=be[0][0],Pe=be[be.length-1][0],Ue=be[be.length-1][1],pe=be[0][1];r[V]={hueRange:re,lowerBounds:be,saturationRange:[_e,Pe],brightnessRange:[Ue,pe]}}function H(){X("monochrome",null,[[0,0],[100,0]]),X("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),X("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),X("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),X("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),X("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),X("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),X("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function G(V){var re=V[0];re===0&&(re=1),re===360&&(re=359),re=re/360;var be=V[1]/100,_e=V[2]/100,Pe=Math.floor(re*6),Ue=re*6-Pe,pe=_e*(1-be),Ye=_e*(1-Ue*be),we=_e*(1-(1-Ue)*be),pt=256,wt=256,ft=256;switch(Pe){case 0:pt=_e,wt=we,ft=pe;break;case 1:pt=Ye,wt=_e,ft=pe;break;case 2:pt=pe,wt=_e,ft=we;break;case 3:pt=pe,wt=Ye,ft=_e;break;case 4:pt=we,wt=pe,ft=_e;break;case 5:pt=_e,wt=pe,ft=Ye;break}var bt=[Math.floor(pt*255),Math.floor(wt*255),Math.floor(ft*255)];return bt}function ee(V){V=V.replace(/^#/,""),V=V.length===3?V.replace(/(.)/g,"$1$1"):V;var re=parseInt(V.substr(0,2),16)/255,be=parseInt(V.substr(2,2),16)/255,_e=parseInt(V.substr(4,2),16)/255,Pe=Math.max(re,be,_e),Ue=Pe-Math.min(re,be,_e),pe=Pe?Ue/Pe:0;switch(Pe){case re:return[60*((be-_e)/Ue%6)||0,pe,Pe];case be:return[60*((_e-re)/Ue+2)||0,pe,Pe];case _e:return[60*((re-be)/Ue+4)||0,pe,Pe]}}function ne(V){var re=V[0],be=V[1]/100,_e=V[2]/100,Pe=(2-be)*_e;return[re,Math.round(be*_e/(Pe<1?Pe:2-Pe)*1e4)/100,Pe/2*100]}function se(V){for(var re=0,be=0;be!==V.length&&!(re>=Number.MAX_SAFE_INTEGER);be++)re+=V.charCodeAt(be);return re}function Ae(V){if(isNaN(V)){if(typeof V=="string"){if(r[V]){var be=r[V];if(be.hueRange)return be.hueRange}else if(V.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var _e=ee(V)[0];return K(_e).hueRange}}}else{var re=parseInt(V);if(re<360&&re>0)return K(V).hueRange}return[0,360]}return o})}(mC,mC.exports)),mC.exports}var Rre=Fre(),Ure=mN(Rre);function jre(n,e){let t="bright",r;return/water|ocean|lake|sea|river/.test(n)&&(r="blue"),/state|country|place/.test(n)&&(r="pink"),/road|highway|transport|streets/.test(n)&&(r="orange"),/contour|building|earth/.test(n)&&(r="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(r="green"),`rgba(${Ure({luminosity:t,hue:r,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}var zre={brightColor:jre};function Nre(n){return n.metadata&&n.metadata["maplibregl-inspect:inspect"]}function Wre(n){return Object.assign(n,{metadata:Object.assign({},n.metadata,{"maplibregl-inspect:inspect":!0})})}class x7{constructor(e){if(this._onSourceChange=r=>{if(r.sourceDataType==="visibility"||!r.isSourceLoaded)return;const i=Object.assign({},this.sources);this._setSourcesFromMap(),!Ere(i,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const r=this._map.getStyle();Nre(r)||(this._originalStyle=r)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=r=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||r.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;r.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||r.type==="mousemove"&&!this.options.showMapPopupOnHover)return;r.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let i;this.options.selectThreshold===0?i=r.point:i=[[r.point.x-this.options.selectThreshold,r.point.y+this.options.selectThreshold],[r.point.x+this.options.selectThreshold,r.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(i,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(r.lngLat);const s=this.options.renderPopup(o);typeof s=="string"?this._popup.setHTML(s):this._popup.setDOMContent(s),this._popup.addTo(this._map)}}},!(this instanceof x7))throw new Error("MaplibreInspect needs to be called with the new keyword");let t=null;window.maplibregl?t=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):e.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:zre.brightColor,buildInspectStyle:oK.generateInspectStyle,renderPopup:Dre,popup:t,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new Ire({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const e=oK.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(Wre(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const e=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(t=>{const r=this._map.style.sourceCaches[t]||{_source:{}},i=r._source.vectorLayerIds;i?this.sources[t]=i:r._source.type==="geojson"&&(this.sources[t]=[])}),Object.keys(this.sources).forEach(t=>{e.indexOf(t)===-1&&delete this.sources[t]})}setOriginalStyle(e){this._originalStyle=e,this._setSourcesFromMap()}onAdd(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),e.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0}}var _B={exports:{}};(function(n,e){(function(t,r){{var i=r();n&&n.exports&&(e=n.exports=i),e.randomColor=i}})(Cp,function(){var t=null,r={};H();var i=[],o=function(V){if(V=V||{},V.seed!==void 0&&V.seed!==null&&V.seed===parseInt(V.seed,10))t=V.seed;else if(typeof V.seed=="string")t=se(V.seed);else{if(V.seed!==void 0&&V.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var re,be,_e;if(V.count!==null&&V.count!==void 0){for(var Pe=V.count,Ue=[],pe=0;pe<V.count;pe++)i.push(!1);for(V.count=null;Pe>Ue.length;){var Ye=o(V);t!==null&&(V.seed=t),Ue.push(Ye)}return V.count=Pe,Ue}return re=s(V),be=a(re,V),_e=f(re,be,V),m([re,be,_e],V)};function s(V){if(i.length>0){var re=Ae(V.hue),be=L(re),_e=(re[1]-re[0])/i.length,Pe=parseInt((be-re[0])/_e);i[Pe]===!0?Pe=(Pe+2)%i.length:i[Pe]=!0;var Ue=(re[0]+Pe*_e)%359,pe=(re[0]+(Pe+1)*_e)%359;return re=[Ue,pe],be=L(re),be<0&&(be=360+be),be}else{var re=k(V.hue);return be=L(re),be<0&&(be=360+be),be}}function a(V,re){if(re.hue==="monochrome")return 0;if(re.luminosity==="random")return L([0,100]);var be=I(V),_e=be[0],Pe=be[1];switch(re.luminosity){case"bright":_e=55;break;case"dark":_e=Pe-10;break;case"light":Pe=55;break}return L([_e,Pe])}function f(V,re,be){var _e=C(V,re),Pe=100;switch(be.luminosity){case"dark":Pe=_e+20;break;case"light":_e=(Pe+_e)/2;break;case"random":_e=0,Pe=100;break}return L([_e,Pe])}function m(V,re){switch(re.format){case"hsvArray":return V;case"hslArray":return ne(V);case"hsl":var be=ne(V);return"hsl("+be[0]+", "+be[1]+"%, "+be[2]+"%)";case"hsla":var _e=ne(V),pe=re.alpha||Math.random();return"hsla("+_e[0]+", "+_e[1]+"%, "+_e[2]+"%, "+pe+")";case"rgbArray":return G(V);case"rgb":var Pe=G(V);return"rgb("+Pe.join(", ")+")";case"rgba":var Ue=G(V),pe=re.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+pe+")";default:return q(V)}}function C(V,re){for(var be=K(V).lowerBounds,_e=0;_e<be.length-1;_e++){var Pe=be[_e][0],Ue=be[_e][1],pe=be[_e+1][0],Ye=be[_e+1][1];if(re>=Pe&&re<=pe){var we=(Ye-Ue)/(pe-Pe),pt=Ue-we*Pe;return we*re+pt}}return 0}function k(V){if(typeof parseInt(V)=="number"){var re=parseInt(V);if(re<360&&re>0)return[re,re]}if(typeof V=="string"){if(r[V]){var be=r[V];if(be.hueRange)return be.hueRange}else if(V.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var _e=ee(V)[0];return[_e,_e]}}return[0,360]}function I(V){return K(V).saturationRange}function K(V){V>=334&&V<=360&&(V-=360);for(var re in r){var be=r[re];if(be.hueRange&&V>=be.hueRange[0]&&V<=be.hueRange[1])return r[re]}return"Color not found"}function L(V){if(t===null){var re=.618033988749895,be=Math.random();return be+=re,be%=1,Math.floor(V[0]+be*(V[1]+1-V[0]))}else{var _e=V[1]||1,Pe=V[0]||0;t=(t*9301+49297)%233280;var Ue=t/233280;return Math.floor(Pe+Ue*(_e-Pe))}}function q(V){var re=G(V);function be(Pe){var Ue=Pe.toString(16);return Ue.length==1?"0"+Ue:Ue}var _e="#"+be(re[0])+be(re[1])+be(re[2]);return _e}function X(V,re,be){var _e=be[0][0],Pe=be[be.length-1][0],Ue=be[be.length-1][1],pe=be[0][1];r[V]={hueRange:re,lowerBounds:be,saturationRange:[_e,Pe],brightnessRange:[Ue,pe]}}function H(){X("monochrome",null,[[0,0],[100,0]]),X("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),X("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),X("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),X("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),X("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),X("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),X("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function G(V){var re=V[0];re===0&&(re=1),re===360&&(re=359),re=re/360;var be=V[1]/100,_e=V[2]/100,Pe=Math.floor(re*6),Ue=re*6-Pe,pe=_e*(1-be),Ye=_e*(1-Ue*be),we=_e*(1-(1-Ue)*be),pt=256,wt=256,ft=256;switch(Pe){case 0:pt=_e,wt=we,ft=pe;break;case 1:pt=Ye,wt=_e,ft=pe;break;case 2:pt=pe,wt=_e,ft=we;break;case 3:pt=pe,wt=Ye,ft=_e;break;case 4:pt=we,wt=pe,ft=_e;break;case 5:pt=_e,wt=pe,ft=Ye;break}var bt=[Math.floor(pt*255),Math.floor(wt*255),Math.floor(ft*255)];return bt}function ee(V){V=V.replace(/^#/,""),V=V.length===3?V.replace(/(.)/g,"$1$1"):V;var re=parseInt(V.substr(0,2),16)/255,be=parseInt(V.substr(2,2),16)/255,_e=parseInt(V.substr(4,2),16)/255,Pe=Math.max(re,be,_e),Ue=Pe-Math.min(re,be,_e),pe=Pe?Ue/Pe:0;switch(Pe){case re:return[60*((be-_e)/Ue%6)||0,pe,Pe];case be:return[60*((_e-re)/Ue+2)||0,pe,Pe];case _e:return[60*((re-be)/Ue+4)||0,pe,Pe]}}function ne(V){var re=V[0],be=V[1]/100,_e=V[2]/100,Pe=(2-be)*_e;return[re,Math.round(be*_e/(Pe<1?Pe:2-Pe)*1e4)/100,Pe/2*100]}function se(V){for(var re=0,be=0;be!==V.length&&!(re>=Number.MAX_SAFE_INTEGER);be++)re+=V.charCodeAt(be);return re}function Ae(V){if(isNaN(V)){if(typeof V=="string"){if(r[V]){var be=r[V];if(be.hueRange)return be.hueRange}else if(V.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var _e=ee(V)[0];return K(_e).hueRange}}}else{var re=parseInt(V);if(re<360&&re>0)return K(V).hueRange}return[0,360]}return o})})(_B,_B.exports);var Gre=_B.exports;const Qre=Da(Gre);function $re(n,e){let t="bright",r;return/water|ocean|lake|sea|river/.test(n)&&(r="blue"),/state|country|place/.test(n)&&(r="pink"),/road|highway|transport|streets/.test(n)&&(r="orange"),/contour|building|earth/.test(n)&&(r="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(r="green"),`rgba(${Qre({luminosity:t,hue:r,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}const gN={brightColor:$re};var yN={exports:{}},Yre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qre=Yre,Vre=qre;function vN(){}function _N(){}_N.resetWarningCache=vN;var Hre=function(){function n(r,i,o,s,a,f){if(f!==Vre){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_N,resetWarningCache:vN};return t.PropTypes=t,t};yN.exports=Hre();var vf=yN.exports;const zr=Da(vf);var sK=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function Zre(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var L0=function(e,t){var r=e.children,i=e.color,o=e.size,s=e.style,a=e.width,f=e.height,m=Zre(e,["children","color","size","style","width","height"]),C=t.reactIconBase,k=C===void 0?{}:C,I=o||k.size||"1em";return kn.createElement("svg",sK({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:f||I,width:a||I},k,m,{style:sK({verticalAlign:"middle",color:i||k.color},k.style||{},s)}))};L0.propTypes={color:zr.string,size:zr.oneOfType([zr.string,zr.number]),width:zr.oneOfType([zr.string,zr.number]),height:zr.oneOfType([zr.string,zr.number]),style:zr.object};L0.contextTypes={reactIconBase:zr.shape(L0.propTypes)};function Aw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",e="ace6118dd0ae83e2ceb20b70664ae2267741d924",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Aw=function(){return s},s}Aw();class Xre extends kn.Component{render(){return Aw().f[0]++,Aw().s[0]++,Y.jsx(L0,{viewBox:"0 0 20 20",...this.props,children:Y.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function cw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",e="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return cw=function(){return s},s}cw();class f3 extends kn.Component{render(){return cw().f[0]++,cw().s[0]++,Y.jsx(L0,{viewBox:"0 0 20 20",...this.props,children:Y.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function hw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",e="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return hw=function(){return s},s}hw();class Jre extends kn.Component{render(){return hw().f[0]++,hw().s[0]++,Y.jsx(L0,{viewBox:"0 0 20 20",...this.props,children:Y.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:Y.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function dw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",e="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return dw=function(){return s},s}dw();class lK extends kn.Component{render(){return dw().f[0]++,dw().s[0]++,Y.jsx(L0,{viewBox:"0 0 20 20",...this.props,children:Y.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function fw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",e="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return fw=function(){return s},s}fw();class eie extends kn.Component{render(){return fw().f[0]++,fw().s[0]++,Y.jsx(L0,{viewBox:"0 0 20 20",...this.props,children:Y.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Vv(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function tie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(n)}function nie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(n)}function rie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function iie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function oie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}function aie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(n)}function sie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(n)}function lie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(n)}function uie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(n)}function CN(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function Aie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}function CB(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(n)}function cie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(n)}function hie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(n)}function die(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(n)}function uK(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(n)}function fie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(n)}function pie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"},child:[]}]})(n)}function mie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(n)}function gie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(n)}function yie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function vie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function _ie(n){return Ls({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(n)}function pw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",e="90c8ed80956547e1dbbdff164a42850c33eed62e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return pw=function(){return s},s}pw();class Cie extends kn.Component{render(){return pw().f[0]++,pw().s[0]++,Y.jsx(_ie,{...this.props})}}function vs(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",e="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return vs=function(){return s},s}vs();class bN extends kn.Component{render(){vs().f[0]++;const e=(vs().s[0]++,{style:this.props.style});switch(vs().s[1]++,this.props.type){case"fill-extrusion":return vs().b[0][0]++,vs().s[2]++,Y.jsx(lK,{...e});case"raster":return vs().b[0][1]++,vs().s[3]++,Y.jsx(f3,{...e});case"hillshade":return vs().b[0][2]++,vs().s[4]++,Y.jsx(f3,{...e});case"heatmap":return vs().b[0][3]++,vs().s[5]++,Y.jsx(f3,{...e});case"fill":return vs().b[0][4]++,vs().s[6]++,Y.jsx(f3,{...e});case"background":return vs().b[0][5]++,vs().s[7]++,Y.jsx(lK,{...e});case"line":return vs().b[0][6]++,vs().s[8]++,Y.jsx(Xre,{...e});case"symbol":return vs().b[0][7]++,vs().s[9]++,Y.jsx(Jre,{...e});case"circle":return vs().b[0][8]++,vs().s[10]++,Y.jsx(eie,{...e});default:return vs().b[0][9]++,vs().s[11]++,Y.jsx(Cie,{...e})}}}function kr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",e="ea1e9940e142b9a2a1c672f6983f6f5748c841e6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea1e9940e142b9a2a1c672f6983f6f5748c841e6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return kr=function(){return s},s}kr();function bie(n){kr().f[0]++;const e=(kr().s[0]++,{}),t=(kr().s[1]++,{});return kr().s[2]++,n.forEach(r=>{kr().f[1]++;const i=(kr().s[3]++,r.layer["source-layer"]);if(kr().s[4]++,Object.prototype.hasOwnProperty.call(t,r.layer.id)){kr().b[0][0]++,kr().s[5]++,t[r.layer.id]++;const o=(kr().s[6]++,e[i].find(s=>(kr().f[2]++,kr().s[7]++,s.layer.id===r.layer.id)));kr().s[8]++,o.counter=t[r.layer.id]}else kr().b[0][1]++,kr().s[9]++,e[i]=(kr().b[1][0]++,e[i]||(kr().b[1][1]++,[])),kr().s[10]++,e[i].push(r),kr().s[11]++,t[r.layer.id]=1}),kr().s[12]++,e}class xN extends kn.Component{_getFeatureColor(e,t){if(kr().f[3]++,kr().s[13]++,e.layer.paint)kr().b[2][1]++;else{kr().b[2][0]++,kr().s[14]++;return}kr().s[15]++;try{const r=(kr().s[16]++,e.layer.paint);return kr().s[17]++,kr().b[4][0]++,"text-color"in r&&(kr().b[4][1]++,r["text-color"])?(kr().b[3][0]++,kr().s[18]++,String(r["text-color"])):(kr().b[3][1]++,kr().s[19]++,kr().b[6][0]++,"fill-color"in r&&(kr().b[6][1]++,r["fill-color"])?(kr().b[5][0]++,kr().s[20]++,String(r["fill-color"])):(kr().b[5][1]++,kr().s[21]++,kr().b[8][0]++,"line-color"in r&&(kr().b[8][1]++,r["line-color"])?(kr().b[7][0]++,kr().s[22]++,String(r["line-color"])):(kr().b[7][1]++,kr().s[23]++,kr().b[10][0]++,"fill-extrusion-color"in r&&(kr().b[10][1]++,r["fill-extrusion-color"])?(kr().b[9][0]++,kr().s[24]++,String(r["fill-extrusion-color"])):(kr().b[9][1]++,kr().s[25]++,"black"))))}catch(r){return kr().s[26]++,console.warn("Unable to get feature color, error:",r),kr().s[27]++,"black"}}render(){kr().f[4]++;const e=(kr().s[28]++,bie(this.props.features)),t=(kr().s[29]++,Object.keys(e).map(r=>{kr().f[5]++;const i=(kr().s[30]++,e[r].map((o,s)=>{kr().f[6]++;const a=(kr().s[31]++,this._getFeatureColor(o,this.props.zoom));return kr().s[32]++,Y.jsxs("div",{className:"maputnik-popup-layer",children:[Y.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),Y.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{kr().f[7]++,kr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(kr().b[11][0]++,o.layer.type&&(kr().b[11][1]++,Y.jsx(bN,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(kr().b[12][0]++,o.counter&&(kr().b[12][1]++,Y.jsxs("span",{children:["  ",o.counter]})))]})]},s)}));return kr().s[34]++,Y.jsxs("div",{children:[Y.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return kr().s[35]++,Y.jsx("div",{className:"maputnik-feature-layer-popup",children:t})}}function vi(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",e="72aafaa905031d9408c36c83b71947160ac6dbad",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:4,column:67}},1:{start:{line:4,column:54},end:{line:4,column:67}},2:{start:{line:5,column:2},end:{line:5,column:59}},3:{start:{line:5,column:29},end:{line:5,column:59}},4:{start:{line:6,column:2},end:{line:6,column:115}},5:{start:{line:6,column:91},end:{line:6,column:115}},6:{start:{line:7,column:2},end:{line:7,column:15}},7:{start:{line:10,column:2},end:{line:13,column:12}},8:{start:{line:16,column:2},end:{line:32,column:12}},9:{start:{line:29,column:23},end:{line:29,column:55}},10:{start:{line:30,column:6},end:{line:30,column:74}},11:{start:{line:35,column:25},end:{line:35,column:27}},12:{start:{line:36,column:2},end:{line:49,column:5}},13:{start:{line:37,column:25},end:{line:39,column:6}},14:{start:{line:38,column:6},end:{line:38,column:156}},15:{start:{line:40,column:4},end:{line:48,column:5}},16:{start:{line:41,column:6},end:{line:41,column:35}},17:{start:{line:43,column:6},end:{line:47,column:7}},18:{start:{line:44,column:8},end:{line:44,column:58}},19:{start:{line:46,column:8},end:{line:46,column:60}},20:{start:{line:50,column:2},end:{line:50,column:24}},21:{start:{line:54,column:21},end:{line:54,column:66}},22:{start:{line:55,column:4},end:{line:55,column:250}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:8,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:9,column:9},end:{line:9,column:31}},loc:{start:{line:9,column:44},end:{line:14,column:1}},line:9},2:{name:"renderFeature",decl:{start:{line:15,column:9},end:{line:15,column:22}},loc:{start:{line:15,column:37},end:{line:33,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:28,column:40},end:{line:28,column:41}},loc:{start:{line:28,column:58},end:{line:31,column:5}},line:28},4:{name:"removeDuplicatedFeatures",decl:{start:{line:34,column:9},end:{line:34,column:33}},loc:{start:{line:34,column:44},end:{line:51,column:1}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:32},end:{line:49,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:50},end:{line:37,column:51}},loc:{start:{line:37,column:64},end:{line:39,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:56,column:3}},line:53}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:4,column:67}},type:"if",locations:[{start:{line:4,column:2},end:{line:4,column:67}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:5,column:2},end:{line:5,column:59}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:59}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},3:{loc:{start:{line:6,column:2},end:{line:6,column:115}},type:"if",locations:[{start:{line:6,column:2},end:{line:6,column:115}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},4:{loc:{start:{line:6,column:6},end:{line:6,column:89}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:31}},{start:{line:6,column:35},end:{line:6,column:60}},{start:{line:6,column:64},end:{line:6,column:89}}],line:6},5:{loc:{start:{line:21,column:6},end:{line:24,column:10}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:32}},{start:{line:21,column:52},end:{line:24,column:10}}],line:21},6:{loc:{start:{line:38,column:13},end:{line:38,column:155}},type:"binary-expr",locations:[{start:{line:38,column:13},end:{line:38,column:77}},{start:{line:38,column:81},end:{line:38,column:155}}],line:38},7:{loc:{start:{line:40,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:48,column:5}},{start:{line:42,column:11},end:{line:48,column:5}}],line:40},8:{loc:{start:{line:43,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:43,column:6},end:{line:47,column:7}},{start:{line:45,column:13},end:{line:47,column:7}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU,KAAM,QAAO;AAC3D,MAAI,iBAAiB,KAAM,QAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU,SAAU,QAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"72aafaa905031d9408c36c83b71947160ac6dbad"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return vi=function(){return s},s}vi();function AK(n){return vi().f[0]++,vi().s[0]++,vi().b[1][0]++,typeof n>"u"||(vi().b[1][1]++,n===null)?(vi().b[0][0]++,vi().s[1]++,n):(vi().b[0][1]++,vi().s[2]++,n instanceof Date?(vi().b[2][0]++,vi().s[3]++,n.toLocaleString()):(vi().b[2][1]++,vi().s[4]++,vi().b[4][0]++,typeof n=="object"||(vi().b[4][1]++,typeof n=="number")||(vi().b[4][2]++,typeof n=="string")?(vi().b[3][0]++,vi().s[5]++,n.toString()):(vi().b[3][1]++,vi().s[6]++,n)))}function KE(n,e){return vi().f[1]++,vi().s[7]++,Y.jsxs("tr",{children:[Y.jsx("td",{className:"maputnik-popup-table-cell",children:n}),Y.jsx("td",{className:"maputnik-popup-table-cell",children:e})]},n)}function xie(n,e){return vi().f[2]++,vi().s[8]++,Y.jsxs(kn.Fragment,{children:[Y.jsx("tr",{children:Y.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[n.layer.source,": ",n.layer["source-layer"],(vi().b[5][0]++,n.inspectModeCounter&&(vi().b[5][1]++,Y.jsxs("span",{children:["  ",n.inspectModeCounter]})))]})}),KE("$type",n.geometry.type),KE("$id",AK(n.id)),Object.keys(n.properties).map(t=>{vi().f[3]++;const r=(vi().s[9]++,n.properties[t]);return vi().s[10]++,KE(t,AK(r))})]},e)}function wie(n){vi().f[4]++;const e=(vi().s[11]++,[]);return vi().s[12]++,n.forEach(t=>{vi().f[5]++;const r=(vi().s[13]++,e.findIndex(i=>(vi().f[6]++,vi().s[14]++,vi().b[6][0]++,t.layer["source-layer"]===i.layer["source-layer"]&&(vi().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(i.properties)))));vi().s[15]++,r===-1?(vi().b[7][0]++,vi().s[16]++,e.push(t)):(vi().b[7][1]++,vi().s[17]++,"inspectModeCounter"in e[r]?(vi().b[8][0]++,vi().s[18]++,e[r].inspectModeCounter++):(vi().b[8][1]++,vi().s[19]++,e[r].inspectModeCounter=2))}),vi().s[20]++,e}class Mie extends kn.Component{render(){vi().f[7]++;const e=(vi().s[21]++,wie(this.props.features));return vi().s[22]++,Y.jsx("div",{className:"maputnik-feature-property-popup",children:Y.jsx("table",{className:"maputnik-popup-table",children:Y.jsx("tbody",{children:e.map(xie)})})})}}var wN={exports:{}},MN={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},SN={exports:{}},Sie=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},Eie=Sie,Oie=Array.prototype.concat,Bie=Array.prototype.slice,cK=SN.exports=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];Eie(o)?t=Oie.call(t,Bie.call(o)):t.push(o)}return t};cK.wrap=function(n){return function(){return n(cK(arguments))}};var Iie=SN.exports,jC=MN,o2=Iie,EN=Object.hasOwnProperty,ON=Object.create(null);for(var DE in jC)EN.call(jC,DE)&&(ON[jC[DE]]=DE);var xh=wN.exports={to:{},get:{}};xh.get=function(n){var e=n.substring(0,3).toLowerCase(),t,r;switch(e){case"hsl":t=xh.get.hsl(n),r="hsl";break;case"hwb":t=xh.get.hwb(n),r="hwb";break;default:t=xh.get.rgb(n),r="rgb";break}return t?{model:r,value:t}:null};xh.get.rgb=function(n){if(!n)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,f,m;if(a=n.match(t)){for(m=a[2],a=a[1],f=0;f<3;f++){var C=f*2;s[f]=parseInt(a.slice(C,C+2),16)}m&&(s[3]=parseInt(m,16)/255)}else if(a=n.match(e)){for(a=a[1],m=a[3],f=0;f<3;f++)s[f]=parseInt(a[f]+a[f],16);m&&(s[3]=parseInt(m+m,16)/255)}else if(a=n.match(r)){for(f=0;f<3;f++)s[f]=parseInt(a[f+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=n.match(i)){for(f=0;f<3;f++)s[f]=Math.round(parseFloat(a[f+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=n.match(o))?a[1]==="transparent"?[0,0,0,0]:EN.call(jC,a[1])?(s=jC[a[1]],s[3]=1,s):null:null;for(f=0;f<3;f++)s[f]=B0(s[f],0,255);return s[3]=B0(s[3],0,1),s};xh.get.hsl=function(n){if(!n)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=B0(parseFloat(t[2]),0,100),s=B0(parseFloat(t[3]),0,100),a=B0(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};xh.get.hwb=function(n){if(!n)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=B0(parseFloat(t[2]),0,100),s=B0(parseFloat(t[3]),0,100),a=B0(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};xh.to.hex=function(){var n=o2(arguments);return"#"+p3(n[0])+p3(n[1])+p3(n[2])+(n[3]<1?p3(Math.round(n[3]*255)):"")};xh.to.rgb=function(){var n=o2(arguments);return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};xh.to.rgb.percent=function(){var n=o2(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),r=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+r+"%)":"rgba("+e+"%, "+t+"%, "+r+"%, "+n[3]+")"};xh.to.hsl=function(){var n=o2(arguments);return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};xh.to.hwb=function(){var n=o2(arguments),e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};xh.to.keyword=function(n){return ON[n.slice(0,3)]};function B0(n,e,t){return Math.min(Math.max(e,n),t)}function p3(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}var kie=wN.exports;const Eb=MN,BN={};for(const n of Object.keys(Eb))BN[Eb[n]]=n;const Zr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var IN=Zr;for(const n of Object.keys(Zr)){if(!("channels"in Zr[n]))throw new Error("missing channels property: "+n);if(!("labels"in Zr[n]))throw new Error("missing channel labels property: "+n);if(Zr[n].labels.length!==Zr[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=Zr[n];delete Zr[n].channels,delete Zr[n].labels,Object.defineProperty(Zr[n],"channels",{value:e}),Object.defineProperty(Zr[n],"labels",{value:t})}Zr.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),o=Math.max(e,t,r),s=o-i;let a,f;o===i?a=0:e===o?a=(t-r)/s:t===o?a=2+(r-e)/s:r===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);const m=(i+o)/2;return o===i?f=0:m<=.5?f=s/(o+i):f=s/(2-o-i),[a,f*100,m*100]};Zr.rgb.hsv=function(n){let e,t,r,i,o;const s=n[0]/255,a=n[1]/255,f=n[2]/255,m=Math.max(s,a,f),C=m-Math.min(s,a,f),k=function(I){return(m-I)/6/C+1/2};return C===0?(i=0,o=0):(o=C/m,e=k(s),t=k(a),r=k(f),s===m?i=r-t:a===m?i=1/3+e-r:f===m&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,m*100]};Zr.rgb.hwb=function(n){const e=n[0],t=n[1];let r=n[2];const i=Zr.rgb.hsl(n)[0],o=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,o*100,r*100]};Zr.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(1-e,1-t,1-r),o=(1-e-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Tie(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}Zr.rgb.keyword=function(n){const e=BN[n];if(e)return e;let t=1/0,r;for(const i of Object.keys(Eb)){const o=Eb[i],s=Tie(n,o);s<t&&(t=s,r=i)}return r};Zr.keyword.rgb=function(n){return Eb[n]};Zr.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=e*.4124+t*.3576+r*.1805,o=e*.2126+t*.7152+r*.0722,s=e*.0193+t*.1192+r*.9505;return[i*100,o*100,s*100]};Zr.rgb.lab=function(n){const e=Zr.rgb.xyz(n);let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(t-r),a=200*(r-i);return[o,s,a]};Zr.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;let i,o,s;if(t===0)return s=r*255,[s,s,s];r<.5?i=r*(1+t):i=r+t-r*t;const a=2*r-i,f=[0,0,0];for(let m=0;m<3;m++)o=e+1/3*-(m-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,f[m]=s*255;return f};Zr.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,r=n[2]/100,i=t;const o=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+t)/2,a=r===0?2*i/(o+i):2*t/(r+t);return[e,a*100,s*100]};Zr.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let r=n[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-t),a=255*r*(1-t*o),f=255*r*(1-t*(1-o));switch(r*=255,i){case 0:return[r,f,s];case 1:return[a,r,s];case 2:return[s,r,f];case 3:return[s,a,r];case 4:return[f,s,r];case 5:return[r,s,a]}};Zr.hsv.hsl=function(n){const e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01);let o,s;s=(2-t)*r;const a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};Zr.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,r=n[2]/100;const i=t+r;let o;i>1&&(t/=i,r/=i);const s=Math.floor(6*e),a=1-r;o=6*e-s,s&1&&(o=1-o);const f=t+o*(a-t);let m,C,k;switch(s){default:case 6:case 0:m=a,C=f,k=t;break;case 1:m=f,C=a,k=t;break;case 2:m=t,C=a,k=f;break;case 3:m=t,C=f,k=a;break;case 4:m=f,C=t,k=a;break;case 5:m=a,C=t,k=f;break}return[m*255,C*255,k*255]};Zr.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};Zr.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100;let i,o,s;return i=e*3.2406+t*-1.5372+r*-.4986,o=e*-.9689+t*1.8758+r*.0415,s=e*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};Zr.xyz.lab=function(n){let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*t-16,o=500*(e-t),s=200*(t-r);return[i,o,s]};Zr.lab.xyz=function(n){const e=n[0],t=n[1],r=n[2];let i,o,s;o=(e+16)/116,i=t/500+o,s=o-r/200;const a=o**3,f=i**3,m=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,s=m>.008856?m:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};Zr.lab.lch=function(n){const e=n[0],t=n[1],r=n[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(t*t+r*r);return[e,s,i]};Zr.lch.lab=function(n){const e=n[0],t=n[1],i=n[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[e,o,s]};Zr.rgb.ansi16=function(n,e=null){const[t,r,i]=n;let o=e===null?Zr.rgb.hsv(n)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};Zr.hsv.ansi16=function(n){return Zr.rgb.ansi16(Zr.hsv.rgb(n),n[2])};Zr.rgb.ansi256=function(n){const e=n[0],t=n[1],r=n[2];return e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};Zr.ansi16.rgb=function(n){let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(~~(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[r,i,o]};Zr.ansi256.rgb=function(n){if(n>=232){const o=(n-232)*10+8;return[o,o,o]}n-=16;let e;const t=Math.floor(n/36)/5*255,r=Math.floor((e=n%36)/6)/5*255,i=e%6/5*255;return[t,r,i]};Zr.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};Zr.hex.rgb=function(n){const e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const r=parseInt(t,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};Zr.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),o=Math.min(Math.min(e,t),r),s=i-o;let a,f;return s<1?a=o/(1-s):a=0,s<=0?f=0:i===e?f=(t-r)/s%6:i===t?f=2+(r-e)/s:f=4+(e-t)/s,f/=6,f%=1,[f*360,s*100,a*100]};Zr.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=t<.5?2*e*t:2*e*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};Zr.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=e*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};Zr.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],o=e%1*6,s=o%1,a=1-s;let f=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return f=(1-t)*r,[(t*i[0]+f)*255,(t*i[1]+f)*255,(t*i[2]+f)*255]};Zr.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);let i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};Zr.hcg.hsl=function(n){const e=n[1]/100,r=n[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};Zr.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};Zr.hwb.hcg=function(n){const e=n[1]/100,r=1-n[2]/100,i=r-e;let o=0;return i<1&&(o=(r-i)/(1-i)),[n[0],i*100,o*100]};Zr.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Zr.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Zr.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Zr.gray.hsl=function(n){return[0,0,n[0]]};Zr.gray.hsv=Zr.gray.hsl;Zr.gray.hwb=function(n){return[0,100,n[0]]};Zr.gray.cmyk=function(n){return[0,0,0,n[0]]};Zr.gray.lab=function(n){return[n[0],0,0]};Zr.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};Zr.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const mw=IN;function Pie(){const n={},e=Object.keys(mw);for(let t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function Kie(n){const e=Pie(),t=[n];for(e[n].distance=0;t.length;){const r=t.pop(),i=Object.keys(mw[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],f=e[a];f.distance===-1&&(f.distance=e[r].distance+1,f.parent=r,t.unshift(a))}}return e}function Die(n,e){return function(t){return e(n(t))}}function Lie(n,e){const t=[e[n].parent,n];let r=mw[e[n].parent][n],i=e[n].parent;for(;e[i].parent;)t.unshift(e[i].parent),r=Die(mw[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}var Fie=function(n){const e=Kie(n),t={},r=Object.keys(e);for(let i=r.length,o=0;o<i;o++){const s=r[o];e[s].parent!==null&&(t[s]=Lie(s,e))}return t};const bB=IN,Rie=Fie,fy={},Uie=Object.keys(bB);function jie(n){const e=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function zie(n){const e=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=n(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in n&&(e.conversion=n.conversion),e}Uie.forEach(n=>{fy[n]={},Object.defineProperty(fy[n],"channels",{value:bB[n].channels}),Object.defineProperty(fy[n],"labels",{value:bB[n].labels});const e=Rie(n);Object.keys(e).forEach(r=>{const i=e[r];fy[n][r]=zie(i),fy[n][r].raw=jie(i)})});var Nie=fy;const py=kie,_h=Nie,kN=["keyword","gray","hex"],xB={};for(const n of Object.keys(_h))xB[[..._h[n].labels].sort().join("")]=n;const gw={};function $u(n,e){if(!(this instanceof $u))return new $u(n,e);if(e&&e in kN&&(e=null),e&&!(e in _h))throw new Error("Unknown model: "+e);let t,r;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof $u)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){const i=py.get(n);if(i===null)throw new Error("Unable to parse color from string: "+n);this.model=i.model,r=_h[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(n.length>0){this.model=e||"rgb",r=_h[this.model].channels;const i=Array.prototype.slice.call(n,0,r);this.color=wB(i,r),this.valpha=typeof n[r]=="number"?n[r]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(n);"alpha"in n&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);const o=i.sort().join("");if(!(o in xB))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=xB[o];const{labels:s}=_h[this.model],a=[];for(t=0;t<s.length;t++)a.push(n[s[t]]);this.color=wB(a)}if(gw[this.model])for(r=_h[this.model].channels,t=0;t<r;t++){const i=gw[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}$u.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let e=this.model in py.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);const t=e.valpha===1?e.color:[...e.color,this.valpha];return py.to[e.model](t)},percentString(n){const e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return py.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const n={},{channels:e}=_h[this.model],{labels:t}=_h[this.model];for(let r=0;r<e;r++)n[t[r]]=this.color[r];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){const n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){const n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new $u([...this.color.map(Gie(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new $u([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:dl("rgb",0,mu(255)),green:dl("rgb",1,mu(255)),blue:dl("rgb",2,mu(255)),hue:dl(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:dl("hsl",1,mu(100)),lightness:dl("hsl",2,mu(100)),saturationv:dl("hsv",1,mu(100)),value:dl("hsv",2,mu(100)),chroma:dl("hcg",1,mu(100)),gray:dl("hcg",2,mu(100)),white:dl("hwb",1,mu(100)),wblack:dl("hwb",2,mu(100)),cyan:dl("cmyk",0,mu(100)),magenta:dl("cmyk",1,mu(100)),yellow:dl("cmyk",2,mu(100)),black:dl("cmyk",3,mu(100)),x:dl("xyz",0,mu(95.047)),y:dl("xyz",1,mu(100)),z:dl("xyz",2,mu(108.833)),l:dl("lab",0,mu(100)),a:dl("lab",1),b:dl("lab",2),keyword(n){return n!==void 0?new $u(n):_h[this.model].keyword(this.color)},hex(n){return n!==void 0?new $u(n):py.to.hex(this.rgb().round().color)},hexa(n){if(n!==void 0)return new $u(n);const e=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),py.to.hex(e)+t},rgbNumber(){const n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){const n=this.rgb().color,e=[];for(const[t,r]of n.entries()){const i=r/255;e[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(n){const e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(n){const e=this.contrast(n);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const n=this.rgb();for(let e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten(n){const e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken(n){const e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate(n){const e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate(n){const e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten(n){const e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken(n){const e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale(){const n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return $u.rgb(e,e,e)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){const e=this.hsl();let t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);const t=n.rgb(),r=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=t.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,f=1-a;return $u.rgb(a*t.red()+f*r.red(),a*t.green()+f*r.green(),a*t.blue()+f*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};for(const n of Object.keys(_h)){if(kN.includes(n))continue;const{channels:e}=_h[n];$u.prototype[n]=function(...t){return this.model===n?new $u(this):t.length>0?new $u(t,n):new $u([...Qie(_h[this.model][n].raw(this.color)),this.valpha],n)},$u[n]=function(...t){let r=t[0];return typeof r=="number"&&(r=wB(t,e)),new $u(r,n)}}function Wie(n,e){return Number(n.toFixed(e))}function Gie(n){return function(e){return Wie(e,n)}}function dl(n,e,t){n=Array.isArray(n)?n:[n];for(const r of n)(gw[r]||(gw[r]=[]))[e]=t;return n=n[0],function(r){let i;return r!==void 0?(t&&(r=t(r)),i=this[n](),i.color[e]=r,i):(i=this[n]().color[e],t&&(i=t(i)),i)}}function mu(n){return function(e){return Math.max(0,Math.min(n,e))}}function Qie(n){return Array.isArray(n)?n:[n]}function wB(n,e){for(let t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}var $ie=$u;const MB=Da($ie);function Jo(){var n="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",e="9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:8,column:4},end:{line:8,column:20}},4:{start:{line:9,column:4},end:{line:9,column:52}},5:{start:{line:10,column:4},end:{line:10,column:93}},6:{start:{line:11,column:4},end:{line:11,column:70}},7:{start:{line:12,column:4},end:{line:12,column:27}},8:{start:{line:13,column:4},end:{line:13,column:29}},9:{start:{line:14,column:4},end:{line:14,column:27}},10:{start:{line:17,column:4},end:{line:17,column:60}},11:{start:{line:20,column:4},end:{line:22,column:6}},12:{start:{line:23,column:4},end:{line:23,column:57}},13:{start:{line:24,column:4},end:{line:24,column:27}},14:{start:{line:27,column:4},end:{line:27,column:57}},15:{start:{line:27,column:33},end:{line:27,column:55}},16:{start:{line:28,column:4},end:{line:28,column:57}},17:{start:{line:28,column:33},end:{line:28,column:55}},18:{start:{line:29,column:4},end:{line:29,column:58}},19:{start:{line:29,column:34},end:{line:29,column:56}},20:{start:{line:32,column:4},end:{line:32,column:60}},21:{start:{line:33,column:4},end:{line:33,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:16},end:{line:6,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:13},end:{line:15,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:20},end:{line:18,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:18},end:{line:25,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:22},end:{line:30,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:27,column:55}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:28,column:27},end:{line:28,column:28}},loc:{start:{line:28,column:33},end:{line:28,column:55}},line:28},7:{name:"(anonymous_7)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:34},end:{line:29,column:56}},line:29},8:{name:"(anonymous_8)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:13},end:{line:34,column:3}},line:31}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,cAAc;AAAA,EAAC;AAAA,EAEf,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,SAAS,OAAO;AACrB,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,SAAS,OAAe;AACtB,SAAK,WAAY,YAAY;AAAA,QACzB,KAAK;AAAA;AAET,SAAK,UAAU,KAAK,WAAY,cAAc,MAAM;AACpD,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Jo=function(){return s},s}Jo();class Yie{constructor(){pn(this,"_map",(Jo().s[0]++,void 0));pn(this,"_container",(Jo().s[1]++,void 0));pn(this,"_textEl",(Jo().s[2]++,null));Jo().f[0]++}onAdd(e){return Jo().f[1]++,Jo().s[3]++,this._map=e,Jo().s[4]++,this._container=document.createElement("div"),Jo().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",Jo().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),Jo().s[7]++,this.setLabel("Zoom:"),Jo().s[8]++,this.addEventListeners(),Jo().s[9]++,this._container}updateZoomLevel(){Jo().f[2]++,Jo().s[10]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}setLabel(e){Jo().f[3]++,Jo().s[11]++,this._container.innerHTML=`
      ${e} <span></span>
    `,Jo().s[12]++,this._textEl=this._container.querySelector("span"),Jo().s[13]++,this.updateZoomLevel()}addEventListeners(){Jo().f[4]++,Jo().s[14]++,this._map.on("render",()=>(Jo().f[5]++,Jo().s[15]++,this.updateZoomLevel())),Jo().s[16]++,this._map.on("zoomIn",()=>(Jo().f[6]++,Jo().s[17]++,this.updateZoomLevel())),Jo().s[18]++,this._map.on("zoomOut",()=>(Jo().f[7]++,Jo().s[19]++,this.updateZoomLevel()))}onRemove(){Jo().f[8]++,Jo().s[20]++,this._container.parentNode.removeChild(this._container),Jo().s[21]++,this._map=void 0}}function SB(n,e,t){const r={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function EB(n,e,t,r){const i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function OB(n,e,t){const r={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function qie(n,e){const t=[],r=[],i=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const f=o(s);r.push(SB(f.circle,s)),i.push(OB(f.line,s)),t.push(EB(f.polygon,f.polygonOutline,s))}else a.forEach(f=>{const m=o(f);r.push(SB(m.circle,s,f)),i.push(OB(m.line,s,f)),t.push(EB(m.polygon,m.polygonOutline,s,f))})}),t.concat(i).concat(r)}function Vie(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(n,{layers:[r].concat(e),sources:i})}const LE={polygonLayer:EB,lineLayer:OB,circleLayer:SB,generateInspectStyle:Vie,generateColoredLayers:qie};function Ui(){var n="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",e="aec0f701e803624fae461cc89b5fc887ff556587",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:18,column:84}},10:{start:{line:18,column:72},end:{line:18,column:84}},11:{start:{line:19,column:24},end:{line:19,column:51}},12:{start:{line:20,column:16},end:{line:20,column:52}},13:{start:{line:21,column:2},end:{line:23,column:3}},14:{start:{line:22,column:4},end:{line:22,column:104}},15:{start:{line:24,column:2},end:{line:26,column:3}},16:{start:{line:25,column:4},end:{line:25,column:96}},17:{start:{line:27,column:2},end:{line:29,column:3}},18:{start:{line:28,column:4},end:{line:28,column:94}},19:{start:{line:30,column:2},end:{line:30,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:31,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:18,column:84}},type:"if",locations:[{start:{line:18,column:2},end:{line:18,column:84}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:19,column:24},end:{line:19,column:51}},type:"binary-expr",locations:[{start:{line:19,column:24},end:{line:19,column:45}},{start:{line:19,column:49},end:{line:19,column:51}}],line:19},6:{loc:{start:{line:21,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:23,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},7:{loc:{start:{line:21,column:6},end:{line:21,column:62}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:27}},{start:{line:21,column:31},end:{line:21,column:62}}],line:21},8:{loc:{start:{line:24,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},9:{loc:{start:{line:24,column:6},end:{line:24,column:56}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:29}},{start:{line:24,column:33},end:{line:24,column:56}}],line:24},10:{loc:{start:{line:27,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS,SAAU,QAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aec0f701e803624fae461cc89b5fc887ff556587"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ui=function(){return s},s}Ui();function FE(n,e){return Ui().f[0]++,Ui().s[0]++,n.type==="circle"?(Ui().b[0][0]++,Ui().s[1]++,n.paint["circle-radius"]=3):(Ui().b[0][1]++,Ui().s[2]++,n.type==="line"?(Ui().b[1][0]++,Ui().s[3]++,n.paint["line-width"]=2):Ui().b[1][1]++),Ui().s[4]++,"filter"in e?(Ui().b[2][0]++,Ui().s[5]++,n.filter=e.filter):(Ui().b[2][1]++,Ui().s[6]++,delete n.filter),Ui().s[7]++,n.id=n.id+"_highlight",Ui().s[8]++,n}function Hie(n){if(Ui().f[1]++,Ui().s[9]++,Ui().b[4][0]++,!n||(Ui().b[4][1]++,n.type==="background")||(Ui().b[4][2]++,n.type==="raster"))return Ui().b[3][0]++,Ui().s[10]++,null;Ui().b[3][1]++;const e=(Ui().s[11]++,Ui().b[5][0]++,n["source-layer"]||(Ui().b[5][1]++,"")),t=(Ui().s[12]++,gN.brightColor(e,1));return Ui().s[13]++,Ui().b[7][0]++,n.type==="fill"||(Ui().b[7][1]++,n.type==="fill-extrusion")?(Ui().b[6][0]++,Ui().s[14]++,FE(LE.polygonLayer(t,t,n.source,n["source-layer"]),n)):(Ui().b[6][1]++,Ui().s[15]++,Ui().b[9][0]++,n.type==="symbol"||(Ui().b[9][1]++,n.type==="circle")?(Ui().b[8][0]++,Ui().s[16]++,FE(LE.circleLayer(t,n.source,n["source-layer"]),n)):(Ui().b[8][1]++,Ui().s[17]++,n.type==="line"?(Ui().b[10][0]++,Ui().s[18]++,FE(LE.lineLayer(t,n.source,n["source-layer"]),n)):(Ui().b[10][1]++,Ui().s[19]++,null)))}function w7(){var n="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",e="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return w7=function(){return s},s}w7();w7().s[0]++;fC.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function RE(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(m){try{f(r.next(m))}catch(C){o(C)}}function a(m){try{f(r.throw(m))}catch(C){o(C)}}function f(m){m.done?i(m.value):new t(function(C){C(m.value)}).then(s,a)}f((r=r.apply(n,e||[])).next())})}var m3=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function oM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var UE,hK;function TN(){if(hK)return UE;hK=1,UE=e;var n=Object.prototype.hasOwnProperty;function e(){for(var t={},r=0;r<arguments.length;r++){var i=arguments[r];for(var o in i)n.call(i,o)&&(t[o]=i[o])}return t}return UE}var jE={exports:{}},dK;function Zie(){return dK||(dK=1,function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(r,i){return i.filter(function(o){return t.test(r,o)})},t.test=function(r,i){return t.match(r,i)!==null},t.match=function(r,i,o){o=o||{};var s=0,a=[],f=i.length,m=0,C=0,k=o.pre||"",I=o.post||"",K=o.caseSensitive&&i||i.toLowerCase(),L;r=o.caseSensitive&&r||r.toLowerCase();for(var q=0;q<f;q++)L=i[q],K[q]===r[s]?(L=k+L+I,s+=1,C+=1+C):C=0,m+=C,a[a.length]=L;return s===r.length?(m=K===r?1/0:m,{rendered:a.join(""),score:m}):null},t.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(s,a,f,m){var C=a;o.extract&&(C=o.extract(a));var k=t.match(r,C,o);return k!=null&&(s[s.length]={string:k.rendered,score:k.score,index:f,original:a}),s},[]).sort(function(s,a){var f=a.score-s.score;return f||s.index-a.index}))}})()}(jE)),jE.exports}var zE,fK;function Xie(){if(fK)return zE;fK=1;var n=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};return n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(e){this.items.push(e)},n.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return this.element.style.display==="block"},n.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()},n.prototype.drawItem=function(e,t){var r=document.createElement("li"),i=document.createElement("a");t&&(r.className+=" active"),i.innerHTML=e.string,r.appendChild(i),this.element.appendChild(r),r.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),r.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))},n.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},n.prototype.move=function(e){this.active=e,this.draw()},n.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)},n.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},zE=n,zE}var NE,pK;function Jie(){if(pK)return NE;pK=1;var n=TN(),e=Zie(),t=Xie(),r=function(i,o,s){return s=s||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},s),this.el=i,this.data=o||[],this.list=new t(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode,a)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};return r.prototype.handleKeyUp=function(i,o){if(!(i===40||i===38||i===27||i===9)){if(i===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),o.stopPropagation());return}this.handleInputChange(this.el.value)}},r.prototype.handleKeyDown=function(i){switch(i.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&i.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}},r.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},r.prototype.handlePaste=function(i){if(i.clipboardData)this.handleInputChange(i.clipboardData.getData("Text"));else{var o=this;setTimeout(function(){o.handleInputChange(i.target.value)},100)}},r.prototype.handleInputChange=function(i){if(this.query=this.normalize(i),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(o){for(var s=0;s<o.length&&(this.list.add(o[s]),s!==this.options.limit-1);s++);this.list.draw()}).bind(this))},r.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},r.prototype.update=function(i){this.data=i,this.handleKeyUp()},r.prototype.clear=function(){this.data=[],this.list.clear()},r.prototype.normalize=function(i){return i=i.toLowerCase(),i},r.prototype.match=function(i,o){return i.indexOf(o)>-1},r.prototype.value=function(i){if(this.selected=i,this.el.value=this.getItemValue(i||{place_name:this.query}),document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!1),this.el.dispatchEvent(o)}else this.el.fireEvent("onchange")},r.prototype.getCandidates=function(i){var o={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},s;this.options.filter?(s=e.filter(this.query,this.data,o),s=s.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):s=this.data.map((function(a){var f=this.render(a);return{original:a,string:f}}).bind(this)),i(s)},r.prototype.getItemValue=function(i){return i},r.prototype.render=function(i,o){if(o)return o;for(var s=i.original?this.getItemValue(i.original):this.getItemValue(i),a=this.normalize(s),f=a.lastIndexOf(this.query);f>-1;){var m=f+this.query.length;s=s.slice(0,f)+"<strong>"+s.slice(f,m)+"</strong>"+s.slice(m),f=a.slice(0,f).lastIndexOf(this.query)}return s},r.prototype.renderError=function(i){this.list.drawError(i)},NE=r,NE}var WE,mK;function eoe(){if(mK)return WE;mK=1;var n=Jie();return WE=n,typeof window<"u"&&(window.Suggestions=n),WE}var toe=eoe(),noe=oM(toe),f4={exports:{}},roe=f4.exports,gK;function ioe(){return gK||(gK=1,function(n){(function(e,t,r){n.exports?n.exports=r():e[t]=r()})(roe,"subtag",function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(f){return f.match(t)||[]}function i(f){return r(f).filter(function(m,C){return m&&C})}function o(f){return f=r(f),{language:f[1]||e,extlang:f[2]||e,script:f[3]||e,region:f[4]||e}}function s(f,m,C){Object.defineProperty(f,m,{value:C,enumerable:!0})}function a(f,m,C){function k(I){return r(I)[f]||e}s(k,"pattern",m),s(o,C,k)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(o,"split",i),o})}(f4)),f4.exports}var ooe=ioe(),aoe=oM(ooe),GE,yK;function soe(){if(yK)return GE;yK=1;var n="Expected a function",e=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,f=typeof m3=="object"&&m3&&m3.Object===Object&&m3,m=typeof self=="object"&&self&&self.Object===Object&&self,C=f||m||Function("return this")(),k=Object.prototype,I=k.toString,K=Math.max,L=Math.min,q=function(){return C.Date.now()};function X(se,Ae,V){var re,be,_e,Pe,Ue,pe,Ye=0,we=!1,pt=!1,wt=!0;if(typeof se!="function")throw new TypeError(n);Ae=ne(Ae)||0,H(V)&&(we=!!V.leading,pt="maxWait"in V,_e=pt?K(ne(V.maxWait)||0,Ae):_e,wt="trailing"in V?!!V.trailing:wt);function ft(Nt){var Fe=re,ye=be;return re=be=void 0,Ye=Nt,Pe=se.apply(ye,Fe),Pe}function bt(Nt){return Ye=Nt,Ue=setTimeout(nt,Ae),we?ft(Nt):Pe}function $e(Nt){var Fe=Nt-pe,ye=Nt-Ye,ke=Ae-Fe;return pt?L(ke,_e-ye):ke}function tt(Nt){var Fe=Nt-pe,ye=Nt-Ye;return pe===void 0||Fe>=Ae||Fe<0||pt&&ye>=_e}function nt(){var Nt=q();if(tt(Nt))return en(Nt);Ue=setTimeout(nt,$e(Nt))}function en(Nt){return Ue=void 0,wt&&re?ft(Nt):(re=be=void 0,Pe)}function tn(){Ue!==void 0&&clearTimeout(Ue),Ye=0,re=pe=be=Ue=void 0}function St(){return Ue===void 0?Pe:en(q())}function Xt(){var Nt=q(),Fe=tt(Nt);if(re=arguments,be=this,pe=Nt,Fe){if(Ue===void 0)return bt(pe);if(pt)return Ue=setTimeout(nt,Ae),ft(pe)}return Ue===void 0&&(Ue=setTimeout(nt,Ae)),Pe}return Xt.cancel=tn,Xt.flush=St,Xt}function H(se){var Ae=typeof se;return!!se&&(Ae=="object"||Ae=="function")}function G(se){return!!se&&typeof se=="object"}function ee(se){return typeof se=="symbol"||G(se)&&I.call(se)==t}function ne(se){if(typeof se=="number")return se;if(ee(se))return e;if(H(se)){var Ae=typeof se.valueOf=="function"?se.valueOf():se;se=H(Ae)?Ae+"":Ae}if(typeof se!="string")return se===0?se:+se;se=se.replace(r,"");var V=o.test(se);return V||s.test(se)?a(se.slice(2),V?2:8):i.test(se)?e:+se}return GE=X,GE}var loe=soe(),uoe=oM(loe),Aoe=TN(),nf=oM(Aoe),g3={exports:{}},vK;function coe(){if(vK)return g3.exports;vK=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(se,Ae,V){return Function.prototype.apply.call(se,Ae,V)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:t=function(se){return Object.getOwnPropertyNames(se)};function r(ne){console&&console.warn&&console.warn(ne)}var i=Number.isNaN||function(se){return se!==se};function o(){o.init.call(this)}g3.exports=o,g3.exports.once=H,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(ne){if(typeof ne!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ne)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(ne){if(typeof ne!="number"||ne<0||i(ne))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ne+".");s=ne}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(se){if(typeof se!="number"||se<0||i(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this};function f(ne){return ne._maxListeners===void 0?o.defaultMaxListeners:ne._maxListeners}o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(se){for(var Ae=[],V=1;V<arguments.length;V++)Ae.push(arguments[V]);var re=se==="error",be=this._events;if(be!==void 0)re=re&&be.error===void 0;else if(!re)return!1;if(re){var _e;if(Ae.length>0&&(_e=Ae[0]),_e instanceof Error)throw _e;var Pe=new Error("Unhandled error."+(_e?" ("+_e.message+")":""));throw Pe.context=_e,Pe}var Ue=be[se];if(Ue===void 0)return!1;if(typeof Ue=="function")e(Ue,this,Ae);else for(var pe=Ue.length,Ye=L(Ue,pe),V=0;V<pe;++V)e(Ye[V],this,Ae);return!0};function m(ne,se,Ae,V){var re,be,_e;if(a(Ae),be=ne._events,be===void 0?(be=ne._events=Object.create(null),ne._eventsCount=0):(be.newListener!==void 0&&(ne.emit("newListener",se,Ae.listener?Ae.listener:Ae),be=ne._events),_e=be[se]),_e===void 0)_e=be[se]=Ae,++ne._eventsCount;else if(typeof _e=="function"?_e=be[se]=V?[Ae,_e]:[_e,Ae]:V?_e.unshift(Ae):_e.push(Ae),re=f(ne),re>0&&_e.length>re&&!_e.warned){_e.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+_e.length+" "+String(se)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pe.name="MaxListenersExceededWarning",Pe.emitter=ne,Pe.type=se,Pe.count=_e.length,r(Pe)}return ne}o.prototype.addListener=function(se,Ae){return m(this,se,Ae,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(se,Ae){return m(this,se,Ae,!0)};function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(ne,se,Ae){var V={fired:!1,wrapFn:void 0,target:ne,type:se,listener:Ae},re=C.bind(V);return re.listener=Ae,V.wrapFn=re,re}o.prototype.once=function(se,Ae){return a(Ae),this.on(se,k(this,se,Ae)),this},o.prototype.prependOnceListener=function(se,Ae){return a(Ae),this.prependListener(se,k(this,se,Ae)),this},o.prototype.removeListener=function(se,Ae){var V,re,be,_e,Pe;if(a(Ae),re=this._events,re===void 0)return this;if(V=re[se],V===void 0)return this;if(V===Ae||V.listener===Ae)--this._eventsCount===0?this._events=Object.create(null):(delete re[se],re.removeListener&&this.emit("removeListener",se,V.listener||Ae));else if(typeof V!="function"){for(be=-1,_e=V.length-1;_e>=0;_e--)if(V[_e]===Ae||V[_e].listener===Ae){Pe=V[_e].listener,be=_e;break}if(be<0)return this;be===0?V.shift():q(V,be),V.length===1&&(re[se]=V[0]),re.removeListener!==void 0&&this.emit("removeListener",se,Pe||Ae)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(se){var Ae,V,re;if(V=this._events,V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[se]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete V[se]),this;if(arguments.length===0){var be=Object.keys(V),_e;for(re=0;re<be.length;++re)_e=be[re],_e!=="removeListener"&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Ae=V[se],typeof Ae=="function")this.removeListener(se,Ae);else if(Ae!==void 0)for(re=Ae.length-1;re>=0;re--)this.removeListener(se,Ae[re]);return this};function I(ne,se,Ae){var V=ne._events;if(V===void 0)return[];var re=V[se];return re===void 0?[]:typeof re=="function"?Ae?[re.listener||re]:[re]:Ae?X(re):L(re,re.length)}o.prototype.listeners=function(se){return I(this,se,!0)},o.prototype.rawListeners=function(se){return I(this,se,!1)},o.listenerCount=function(ne,se){return typeof ne.listenerCount=="function"?ne.listenerCount(se):K.call(ne,se)},o.prototype.listenerCount=K;function K(ne){var se=this._events;if(se!==void 0){var Ae=se[ne];if(typeof Ae=="function")return 1;if(Ae!==void 0)return Ae.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function L(ne,se){for(var Ae=new Array(se),V=0;V<se;++V)Ae[V]=ne[V];return Ae}function q(ne,se){for(;se+1<ne.length;se++)ne[se]=ne[se+1];ne.pop()}function X(ne){for(var se=new Array(ne.length),Ae=0;Ae<se.length;++Ae)se[Ae]=ne[Ae].listener||ne[Ae];return se}function H(ne,se){return new Promise(function(Ae,V){function re(_e){ne.removeListener(se,be),V(_e)}function be(){typeof ne.removeListener=="function"&&ne.removeListener("error",re),Ae([].slice.call(arguments))}ee(ne,se,be,{once:!0}),se!=="error"&&G(ne,re,{once:!0})})}function G(ne,se,Ae){typeof ne.on=="function"&&ee(ne,"error",se,Ae)}function ee(ne,se,Ae,V){if(typeof ne.on=="function")V.once?ne.once(se,Ae):ne.on(se,Ae);else if(typeof ne.addEventListener=="function")ne.addEventListener(se,function re(be){V.once&&ne.removeEventListener(se,re),Ae(be)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ne)}return g3.exports}var hoe=coe();const _K={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},doe={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""},foe=/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/;class poe{constructor(e,t){this.options={zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:void 0,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,proximityMinZoom:9,getItemValue:r=>r.text!==void 0?r.text:r.place_name,render:function(r){if(!r.geometry){const o=r.text,s=o.toLowerCase().indexOf(this.query.toLowerCase()),a=this.query.length,f=o.substring(0,s),m=o.substring(s,s+a),C=o.substring(s+a);return'<div class="maplibregl-ctrl-geocoder--suggestion"><svg class="maplibregl-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="maplibregl-ctrl-geocoder--suggestion-info"><div class="maplibregl-ctrl-geocoder--suggestion-title">'+f+'<span class="maplibregl-ctrl-geocoder--suggestion-match">'+m+"</span>"+C+"</div></div></div>"}const i=r.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--result"><svg class="maplibregl-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="maplibregl-ctrl-geocoder--result-title">'+i[0]+'</div><div class="maplibregl-ctrl-geocoder--result-address">'+i.splice(1,i.length).join(",")+"</div></div></div>"},popupRender:r=>{const i=r.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--suggestion popup-suggestion"><div class="maplibregl-ctrl-geocoder--suggestion-title popup-suggestion-title">'+i[0]+'</div><div class="maplibregl-ctrl-geocoder--suggestion-address popup-suggestion-address">'+i.splice(1,i.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},this._eventEmitter=new hoe.EventEmitter,this.options=nf({},this.options,t),this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}addTo(e){function t(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=r.onAdd();i.appendChild(o)}if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const r=document.querySelectorAll(e);if(r.length===0)throw new Error("Element "+e+"not found.");if(r.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,r[0])}else if("addControl"in e)e.addControl(this);else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")}onAdd(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);const t=this.container=document.createElement("div");t.className="maplibregl-ctrl-geocoder maplibregl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";const r=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",uoe(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);const i=document.createElement("div");i.classList.add("maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("type","button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="maplibregl-ctrl-geocoder--button";const o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),i.appendChild(this._clearEl),i.appendChild(this._loadingEl),t.appendChild(r),t.appendChild(this._inputEl),t.appendChild(i),this._typeahead=new noe(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t}createIcon(e,t){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r.setAttribute("class","maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),r.setAttribute("viewBox","0 0 18 18"),r.setAttribute("xml:space","preserve"),r.setAttribute("width","18"),r.setAttribute("height","18"),"innerHTML"in r)r.innerHTML=t;else{const i=document.createElement("div");i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";const o=i.firstChild,s=o.firstChild;r.appendChild(s)}return r}onRemove(){return this.container.remove(),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this}_onPaste(e){const t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)}_onKeyDown(e){if(e.keyCode===27&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();const o=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!(o?o.value:""))return this.fresh=!0,e.keyCode!==9&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[9,27,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(o.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(o.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}o.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(o.value)}}_showButton(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")}_hideButton(){this._typeahead.selected&&(this._clearEl.style.display="none")}_onBlur(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()}_onChange(){const e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){let t;if(this._removeResultMarkers(),e.properties&&_K[e.properties.short_code])t=nf({},this.options.flyTo),this._map&&this._map.fitBounds(_K[e.properties.short_code].bbox,t);else if(e.bbox){const r=e.bbox;t=nf({},this.options.flyTo),this._map&&this._map.fitBounds([[r[0],r[1]],[r[2],r[3]]],t)}else{const r={zoom:this.options.zoom};t=nf({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}}_getConfigForRequest(){return["bbox","limit","proximity","countries","types","language","reverseMode"].reduce((r,i)=>(this.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=this.options[i].split(/[\s,]+/):r[i]=this.options[i],i==="proximity"&&this.options[i]&&typeof this.options[i].longitude=="number"&&typeof this.options[i].latitude=="number"&&(r[i]=[this.options[i].longitude,this.options[i].latitude])),r),{})}_geocode(e){return RE(this,arguments,void 0,function*(t,r=!1,i=!1){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});const o=this._getConfigForRequest(),s=this._createGeocodeRequest(o,t,r,i),a=this.options.localGeocoder?this.options.localGeocoder(t)||[]:[];try{const f=yield s;yield this._handleGeocodeResponse(f,o,t,r,a)}catch(f){this._handleGeocodeErrorResponse(f,a)}return s})}_createGeocodeRequest(e,t,r,i){return this.options.localGeocoderOnly?Promise.resolve({}):this.options.reverseGeocode&&foe.test(t)?this._createReverseGeocodeRequest(t,e):(e.query=t,this.geocoderApi.getSuggestions?r?this.geocoderApi.searchByPlaceId&&i?this.geocoderApi.searchByPlaceId(e):this.geocoderApi.forwardGeocode(e):this.geocoderApi.getSuggestions(e):this.geocoderApi.forwardGeocode(e))}_createReverseGeocodeRequest(e,t){const r=e.split(/[\s(,)?]+/).map(i=>parseFloat(i)).reverse();return t.query=r,t.limit=1,"proximity"in t&&delete t.proximity,this.geocoderApi.reverseGeocode(t)}_handleGeocodeResponse(e,t,r,i,o){return RE(this,void 0,void 0,function*(){this._loadingEl.style.display="none";let s={};e?s=e:s={type:"FeatureCollection",features:[]},s.config=t,this.fresh&&(this.fresh=!1),s.features=s.features?o.concat(s.features):o;const a=this.options.externalGeocoder?this.options.externalGeocoder(r,s.features,t)||Promise.resolve([]):Promise.resolve([]);try{const m=yield a;s.features=s.features?m.concat(s.features):m}catch{}this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter));let f=[];"suggestions"in s?f=s.suggestions:"place"in s?f=[s.place]:f=s.features,f.length?(this._clearEl.style.display="block",this._typeahead.update(f),(!this.options.showResultsWhileTyping||i)&&this.options.showResultMarkers&&(s.features.length>0||"place"in s)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))})}_handleGeocodeErrorResponse(e,t){this._loadingEl.style.display="none",t.length&&this.options.localGeocoder?(this._clearEl.style.display="block",this._typeahead.update(t)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:t}),this._eventEmitter.emit("error",{error:e})}_clear(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0}clear(e){this._clear(e),this._inputEl.focus()}_clearOnBlur(e){e.relatedTarget&&this._clear(e)}_onQueryResult(e){if(!("features"in e)||!e.features.length)return;const t=e.features[0];this._typeahead.selected=t,this._inputEl.value=t.place_name,this._onChange()}_updateProximity(){if(this._map)if(this._map.getZoom()>this.options.proximityMinZoom){const e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)}_collapse(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("maplibregl-ctrl-geocoder--collapsed")}_unCollapse(){this.container.classList.remove("maplibregl-ctrl-geocoder--collapsed")}query(e){return RE(this,void 0,void 0,function*(){const t=yield this._geocode(e);this._onQueryResult(t)})}_renderError(){this._renderMessage("<div class='maplibre-gl-geocoder--error'>There was an error reaching the server</div>")}_renderNoResults(){this._renderMessage("<div class='maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>")}_renderMessage(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)}_getPlaceholderText(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){const e=this.options.language.split(",")[0],t=aoe.language(e),r=doe[t];if(r)return r}return"Search"}_fitBoundsForMarkers(){if(this._typeahead.data.length<1)return;const e=this._typeahead.data.filter(t=>typeof t!="string").slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){const r=nf({},{padding:100},this.options.flyTo),i=new this._maplibregl.LngLatBounds;for(const o of e)i.extend(o.geometry.coordinates);this._map.fitBounds(i,r)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}setInput(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this}setProximity(e){return this.options.proximity=e,this}getProximity(){return this.options.proximity}setRenderFunction(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this}getRenderFunction(){return this._typeahead.render}setLanguage(e){return this.options.language=e||this.options.language||navigator.language,this}getLanguage(){return this.options.language}getZoom(){return this.options.zoom}setZoom(e){return this.options.zoom=e,this}getFlyTo(){return this.options.flyTo}setFlyTo(e){return this.options.flyTo=e,this}getPlaceholder(){return this.options.placeholder}setPlaceholder(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this}getBbox(){return this.options.bbox}setBbox(e){return this.options.bbox=e,this}getCountries(){return this.options.countries}setCountries(e){return this.options.countries=e,this}getTypes(){return this.options.types}setTypes(e){return this.options.types=e,this}getMinLength(){return this.options.minLength}setMinLength(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this}getLimit(){return this.options.limit}setLimit(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this}getFilter(){return this.options.filter}setFilter(e){return this.options.filter=e,this}setGeocoderApi(e){return this.geocoderApi=e,this}getGeocoderApi(){return this.geocoderApi}_handleMarker(e){if(!this._map)return;this._removeMarker();const r=nf({},{color:"#4668F2"},this.options.marker);this.mapMarker=new this._maplibregl.Marker(r);let i;if(this.options.popup){const s=nf({},{},this.options.popup);i=new this._maplibregl.Popup(s).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(i)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(i)),this}_removeMarker(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)}_handleResultMarkers(e){if(!this._map)return;this._removeResultMarkers();let r=nf({},{color:"#4668F2"},this.options.showResultMarkers);for(const i of e){let o;if(this.options.showResultMarkers){this.options.showResultMarkers&&this.options.showResultMarkers.element&&(o=this.options.showResultMarkers.element.cloneNode(!0),r=nf(r,{element:o}));const s=new this._maplibregl.Marker(nf({},r,{element:o}));let a;if(this.options.popup){const m=nf({},{},this.options.popup);a=new this._maplibregl.Popup(m).setHTML(this.options.popupRender(i))}i.center?(s.setLngLat(i.center).addTo(this._map),this.options.popup&&s.setPopup(a)):i.geometry&&i.geometry.type&&i.geometry.type==="Point"&&i.geometry.coordinates&&(s.setLngLat(i.geometry.coordinates).addTo(this._map),this.options.popup&&s.setPopup(a)),this.resultMarkers.push(s)}}return this}_removeResultMarkers(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])}on(e,t){return this._eventEmitter.on(e,t),this}once(e){return new Promise(t=>{this._eventEmitter.once(e,t)})}off(e,t){return this._eventEmitter.removeListener(e,t),this}}function sn(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",e="3c5cfb4afb5483770f6919f2f66d47734075cb05",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:20,column:2},end:{line:20,column:36}},1:{start:{line:21,column:2},end:{line:21,column:19}},2:{start:{line:24,column:26},end:{line:30,column:3}},3:{start:{line:31,column:16},end:{line:31,column:55}},4:{start:{line:32,column:2},end:{line:34,column:3}},5:{start:{line:33,column:4},end:{line:33,column:30}},6:{start:{line:35,column:18},end:{line:35,column:20}},7:{start:{line:36,column:2},end:{line:41,column:5}},8:{start:{line:37,column:19},end:{line:37,column:53}},9:{start:{line:38,column:4},end:{line:40,column:5}},10:{start:{line:39,column:6},end:{line:39,column:33}},11:{start:{line:42,column:23},end:{line:46,column:3}},12:{start:{line:47,column:2},end:{line:47,column:22}},13:{start:{line:50,column:24},end:{line:60,column:3}},14:{start:{line:61,column:14},end:{line:61,column:18}},15:{start:{line:63,column:4},end:{line:63,column:17}},16:{start:{line:64,column:4},end:{line:69,column:6}},17:{start:{line:70,column:4},end:{line:72,column:7}},18:{start:{line:71,column:6},end:{line:71,column:25}},19:{start:{line:75,column:17},end:{line:75,column:22}},20:{start:{line:76,column:4},end:{line:79,column:5}},21:{start:{line:77,column:6},end:{line:77,column:132}},22:{start:{line:80,column:4},end:{line:80,column:18}},23:{start:{line:83,column:16},end:{line:83,column:30}},24:{start:{line:84,column:28},end:{line:84,column:79}},25:{start:{line:85,column:4},end:{line:90,column:5}},26:{start:{line:86,column:6},end:{line:86,column:52}},27:{start:{line:87,column:6},end:{line:87,column:70}},28:{start:{line:88,column:6},end:{line:88,column:70}},29:{start:{line:89,column:6},end:{line:89,column:76}},30:{start:{line:91,column:4},end:{line:93,column:5}},31:{start:{line:92,column:6},end:{line:92,column:43}},32:{start:{line:94,column:4},end:{line:99,column:5}},33:{start:{line:95,column:6},end:{line:95,column:59}},34:{start:{line:96,column:6},end:{line:98,column:14}},35:{start:{line:97,column:8},end:{line:97,column:36}},36:{start:{line:102,column:20},end:{line:111,column:5}},37:{start:{line:112,column:16},end:{line:112,column:43}},38:{start:{line:113,column:26},end:{line:117,column:5}},39:{start:{line:114,column:21},end:{line:114,column:36}},40:{start:{line:115,column:19},end:{line:115,column:32}},41:{start:{line:116,column:6},end:{line:116,column:44}},42:{start:{line:118,column:4},end:{line:118,column:20}},43:{start:{line:119,column:4},end:{line:119,column:56}},44:{start:{line:120,column:4},end:{line:120,column:56}},45:{start:{line:121,column:4},end:{line:121,column:62}},46:{start:{line:122,column:19},end:{line:122,column:41}},47:{start:{line:123,column:24},end:{line:123,column:41}},48:{start:{line:124,column:4},end:{line:124,column:45}},49:{start:{line:125,column:16},end:{line:125,column:74}},50:{start:{line:126,column:4},end:{line:126,column:37}},51:{start:{line:127,column:20},end:{line:127,column:49}},52:{start:{line:128,column:20},end:{line:148,column:6}},53:{start:{line:138,column:8},end:{line:138,column:82}},54:{start:{line:140,column:62},end:{line:140,column:141}},55:{start:{line:142,column:8},end:{line:146,column:9}},56:{start:{line:143,column:10},end:{line:143,column:108}},57:{start:{line:145,column:10},end:{line:145,column:160}},58:{start:{line:149,column:4},end:{line:149,column:28}},59:{start:{line:150,column:4},end:{line:158,column:7}},60:{start:{line:151,column:6},end:{line:157,column:9}},61:{start:{line:159,column:4},end:{line:164,column:7}},62:{start:{line:160,column:6},end:{line:160,column:40}},63:{start:{line:160,column:33},end:{line:160,column:40}},64:{start:{line:161,column:6},end:{line:163,column:9}},65:{start:{line:165,column:4},end:{line:167,column:7}},66:{start:{line:166,column:6},end:{line:166,column:30}},67:{start:{line:168,column:4},end:{line:172,column:7}},68:{start:{line:169,column:6},end:{line:171,column:9}},69:{start:{line:173,column:4},end:{line:173,column:37}},70:{start:{line:174,column:4},end:{line:174,column:37}},71:{start:{line:176,column:22},end:{line:179,column:3}},72:{start:{line:177,column:18},end:{line:177,column:82}},73:{start:{line:177,column:66},end:{line:177,column:81}},74:{start:{line:178,column:4},end:{line:178,column:36}},75:{start:{line:181,column:27},end:{line:214,column:5}},76:{start:{line:183,column:25},end:{line:183,column:27}},77:{start:{line:184,column:8},end:{line:209,column:9}},78:{start:{line:185,column:26},end:{line:185,column:138}},79:{start:{line:186,column:27},end:{line:186,column:47}},80:{start:{line:187,column:26},end:{line:187,column:47}},81:{start:{line:188,column:10},end:{line:206,column:11}},82:{start:{line:189,column:27},end:{line:192,column:13}},83:{start:{line:193,column:26},end:{line:204,column:13}},84:{start:{line:205,column:12},end:{line:205,column:33}},85:{start:{line:208,column:10},end:{line:208,column:69}},86:{start:{line:210,column:8},end:{line:212,column:10}},87:{start:{line:215,column:21},end:{line:218,column:6}},88:{start:{line:219,column:4},end:{line:219,column:41}},89:{start:{line:220,column:4},end:{line:220,column:20}},90:{start:{line:223,column:14},end:{line:223,column:26}},91:{start:{line:224,column:4},end:{line:224,column:53}},92:{start:{line:225,column:4},end:{line:225,column:49}},93:{start:{line:226,column:4},end:{line:235,column:6}},94:{start:{line:232,column:20},end:{line:232,column:38}},95:{start:{line:238,column:22},end:{line:238,column:62}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:19,column:9},end:{line:19,column:20}},loc:{start:{line:19,column:39},end:{line:22,column:1}},line:19},1:{name:"buildInspectStyle",decl:{start:{line:23,column:9},end:{line:23,column:26}},loc:{start:{line:23,column:78},end:{line:48,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:36,column:48},end:{line:36,column:49}},loc:{start:{line:36,column:62},end:{line:41,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:51,column:17},end:{line:51,column:18}},loc:{start:{line:51,column:23},end:{line:52,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:53,column:18},end:{line:53,column:19}},loc:{start:{line:53,column:24},end:{line:54,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:55,column:19},end:{line:55,column:20}},loc:{start:{line:55,column:25},end:{line:56,column:5}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:57,column:14},end:{line:57,column:15}},loc:{start:{line:57,column:20},end:{line:58,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:21},end:{line:73,column:3}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:70,column:34},end:{line:70,column:35}},loc:{start:{line:70,column:40},end:{line:72,column:5}},line:70},9:{name:"(anonymous_9)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:46},end:{line:81,column:3}},line:74},10:{name:"(anonymous_10)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:23},end:{line:100,column:3}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:7}},line:96},12:{name:"(anonymous_12)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:22},end:{line:175,column:3}},line:101},13:{name:"(anonymous_13)",decl:{start:{line:113,column:26},end:{line:113,column:27}},loc:{start:{line:113,column:32},end:{line:117,column:5}},line:113},14:{name:"(anonymous_14)",decl:{start:{line:137,column:24},end:{line:137,column:25}},loc:{start:{line:137,column:44},end:{line:139,column:7}},line:137},15:{name:"(anonymous_15)",decl:{start:{line:140,column:25},end:{line:140,column:26}},loc:{start:{line:140,column:62},end:{line:140,column:141}},line:140},16:{name:"(anonymous_16)",decl:{start:{line:141,column:19},end:{line:141,column:20}},loc:{start:{line:141,column:33},end:{line:147,column:7}},line:141},17:{name:"(anonymous_17)",decl:{start:{line:150,column:25},end:{line:150,column:26}},loc:{start:{line:150,column:31},end:{line:158,column:5}},line:150},18:{name:"(anonymous_18)",decl:{start:{line:159,column:19},end:{line:159,column:20}},loc:{start:{line:159,column:26},end:{line:164,column:5}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:27},end:{line:167,column:5}},line:165},20:{name:"(anonymous_20)",decl:{start:{line:168,column:19},end:{line:168,column:20}},loc:{start:{line:168,column:27},end:{line:172,column:5}},line:168},21:{name:"(anonymous_21)",decl:{start:{line:176,column:22},end:{line:176,column:23}},loc:{start:{line:176,column:30},end:{line:179,column:3}},line:176},22:{name:"(anonymous_22)",decl:{start:{line:177,column:55},end:{line:177,column:56}},loc:{start:{line:177,column:66},end:{line:177,column:81}},line:177},23:{name:"(anonymous_23)",decl:{start:{line:180,column:2},end:{line:180,column:3}},loc:{start:{line:180,column:20},end:{line:221,column:3}},line:180},24:{name:"(anonymous_24)",decl:{start:{line:182,column:22},end:{line:182,column:23}},loc:{start:{line:182,column:40},end:{line:213,column:7}},line:182},25:{name:"(anonymous_25)",decl:{start:{line:222,column:2},end:{line:222,column:3}},loc:{start:{line:222,column:11},end:{line:236,column:3}},line:222},26:{name:"(anonymous_26)",decl:{start:{line:232,column:13},end:{line:232,column:14}},loc:{start:{line:232,column:20},end:{line:232,column:38}},line:232}},branchMap:{0:{loc:{start:{line:32,column:2},end:{line:34,column:3}},type:"if",locations:[{start:{line:32,column:2},end:{line:34,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},1:{loc:{start:{line:38,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:38,column:8},end:{line:38,column:64}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:32}},{start:{line:38,column:36},end:{line:38,column:64}}],line:38},3:{loc:{start:{line:77,column:15},end:{line:77,column:131}},type:"binary-expr",locations:[{start:{line:77,column:15},end:{line:77,column:71}},{start:{line:77,column:75},end:{line:77,column:131}}],line:77},4:{loc:{start:{line:85,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},5:{loc:{start:{line:91,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:93,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:91},6:{loc:{start:{line:91,column:8},end:{line:91,column:98}},type:"binary-expr",locations:[{start:{line:91,column:8},end:{line:91,column:26}},{start:{line:91,column:30},end:{line:91,column:98}}],line:91},7:{loc:{start:{line:94,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},8:{loc:{start:{line:94,column:8},end:{line:94,column:59}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:26}},{start:{line:94,column:30},end:{line:94,column:59}}],line:94},9:{loc:{start:{line:142,column:8},end:{line:146,column:9}},type:"if",locations:[{start:{line:142,column:8},end:{line:146,column:9}},{start:{line:144,column:15},end:{line:146,column:9}}],line:142},10:{loc:{start:{line:160,column:6},end:{line:160,column:40}},type:"if",locations:[{start:{line:160,column:6},end:{line:160,column:40}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AA4L6B;AA5L7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAC/G,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,sBAA0E;AACjF,OAAO;AACP,SAAS,uBAAwC;AACjD,OAAO,aAAa;AAEpB,SAAS,YAAY,OAAoB,WAA4C;AACnF,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAyBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,MACV,aAAa;AAAA,IACf;AACA,YAAQ,GAAG,mBAAmB,MAAM;AAClC,WAAK,YAAY;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAGA,sBAAsB,WAAuC,WAA+B;AAC1F,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EAEF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,QAAI,WAAW,KAAK,aAAa,GAAG;AAEpC,UAAM,cAAc,IAAI,YAAY;AACpC,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa,OAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAAsC;AAC3D,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB;AAAA,MACpD,aAAa,KAAK,MAAM,EAAE,QAAQ;AAAA,MAClC,YAAY;AAAA,IACd,CAAC;AACD,QAAI,WAAW,UAAU,UAAU;AACnC,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,SAAK,MAAM,UAAU,eAAe,EAAE,QAAQ,CAAC;AAC/C,SAAK,MAAM,aAAa,SAAS,EAAE,OAAO,CAAC;AAC3C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,UAAU;AAAA,QACxB,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3c5cfb4afb5483770f6919f2f66d47734075cb05"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return sn=function(){return s},s}sn();function CK(n,e){return sn().f[0]++,sn().s[0]++,zZ.render(n,e),sn().s[1]++,e}function moe(n,e,t){sn().f[1]++;const r=(sn().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(sn().s[3]++,Hie(t));sn().s[4]++,i?(sn().b[0][0]++,sn().s[5]++,e.push(i)):sn().b[0][1]++;const o=(sn().s[6]++,{});sn().s[7]++,Object.keys(n.sources).forEach(a=>{sn().f[2]++;const f=(sn().s[8]++,n.sources[a]);sn().s[9]++,sn().b[2][0]++,f.type!=="raster"&&(sn().b[2][1]++,f.type!=="raster-dem")?(sn().b[1][0]++,sn().s[10]++,o[a]=f):sn().b[1][1]++});const s=(sn().s[11]++,{...n,sources:o,layers:[r].concat(e)});return sn().s[12]++,s}class PN extends kn.Component{constructor(t){sn().f[7]++,sn().s[15]++;super(t);pn(this,"container",(sn().s[14]++,null));pn(this,"onLayerSelectById",(sn().s[71]++,t=>{sn().f[21]++;const r=(sn().s[72]++,this.props.mapStyle.layers.findIndex(i=>(sn().f[22]++,sn().s[73]++,i.id===t)));sn().s[74]++,this.props.onLayerSelect(r)}));sn().s[16]++,this.state={map:null,inspect:null,geocoder:null,zoomControl:null},sn().s[17]++,lA.on("languageChanged",()=>{sn().f[8]++,sn().s[18]++,this.forceUpdate()})}shouldComponentUpdate(t,r){sn().f[9]++;let i=(sn().s[19]++,!1);sn().s[20]++;try{sn().s[21]++,i=(sn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(t)||(sn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return sn().s[22]++,i}componentDidUpdate(){var i,o,s;sn().f[10]++;const t=(sn().s[23]++,this.state.map),r=(sn().s[24]++,this.props.replaceAccessTokens(this.props.mapStyle));sn().s[25]++,t?(sn().b[4][0]++,sn().s[26]++,t.setStyle(r,{diff:!0}),sn().s[27]++,t.showTileBoundaries=(i=this.props.options)==null?void 0:i.showTileBoundaries,sn().s[28]++,t.showCollisionBoxes=(o=this.props.options)==null?void 0:o.showCollisionBoxes,sn().s[29]++,t.showOverdrawInspector=(s=this.props.options)==null?void 0:s.showOverdrawInspector):sn().b[4][1]++,sn().s[30]++,sn().b[6][0]++,this.state.inspect&&(sn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(sn().b[5][0]++,sn().s[31]++,this.state.inspect.toggleInspector()):sn().b[5][1]++,sn().s[32]++,sn().b[8][0]++,this.state.inspect&&(sn().b[8][1]++,this.props.inspectModeEnabled)?(sn().b[7][0]++,sn().s[33]++,this.state.inspect.setOriginalStyle(r),sn().s[34]++,setTimeout(()=>{sn().f[11]++,sn().s[35]++,this.state.inspect.render()},500)):sn().b[7][1]++}componentDidMount(){sn().f[12]++;const t=(sn().s[36]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),r=(sn().s[37]++,new fC.Map(t));sn().s[38]++;const i=()=>{sn().f[13]++;const C=(sn().s[39]++,r.getCenter()),k=(sn().s[40]++,r.getZoom());sn().s[41]++,this.props.onChange({center:C,zoom:k})};sn().s[42]++,i(),sn().s[43]++,r.showTileBoundaries=t.showTileBoundaries,sn().s[44]++,r.showCollisionBoxes=t.showCollisionBoxes,sn().s[45]++,r.showOverdrawInspector=t.showOverdrawInspector;let o=(sn().s[46]++,this.initGeocoder(r));const s=(sn().s[47]++,new Yie);sn().s[48]++,r.addControl(s,"top-right");const a=(sn().s[49]++,new fC.NavigationControl({visualizePitch:!0}));sn().s[50]++,r.addControl(a,"top-right");const f=(sn().s[51]++,document.createElement("div")),m=(sn().s[52]++,new x7({popup:new fC.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(C,k)=>(sn().f[14]++,sn().s[53]++,MB(gN.brightColor(C,k)).desaturate(.5).string()),buildInspectStyle:(C,k)=>(sn().f[15]++,sn().s[54]++,moe(C,k,this.props.highlightedLayer)),renderPopup:C=>(sn().f[16]++,sn().s[55]++,this.props.inspectModeEnabled?(sn().b[9][0]++,sn().s[56]++,CK(Y.jsx(Mie,{features:C}),f)):(sn().b[9][1]++,sn().s[57]++,CK(Y.jsx(xN,{features:C,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),f)))}));sn().s[58]++,r.addControl(m),sn().s[59]++,r.on("style.load",()=>{sn().f[17]++,sn().s[60]++,this.setState({map:r,inspect:m,geocoder:o,zoomControl:s,zoom:r.getZoom()})}),sn().s[61]++,r.on("data",C=>{if(sn().f[18]++,sn().s[62]++,C.dataType!=="tile"){sn().b[10][0]++,sn().s[63]++;return}else sn().b[10][1]++;sn().s[64]++,this.props.onDataChange({map:this.state.map})}),sn().s[65]++,r.on("error",C=>{sn().f[19]++,sn().s[66]++,console.log("ERROR",C)}),sn().s[67]++,r.on("zoom",C=>{sn().f[20]++,sn().s[68]++,this.setState({zoom:r.getZoom()})}),sn().s[69]++,r.on("dragend",i),sn().s[70]++,r.on("zoomend",i)}initGeocoder(t){sn().f[23]++;const r=(sn().s[75]++,{forwardGeocode:async o=>{sn().f[24]++;const s=(sn().s[76]++,[]);sn().s[77]++;try{const a=(sn().s[78]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),f=(sn().s[79]++,await fetch(a)),m=(sn().s[80]++,await f.json());sn().s[81]++;for(const C of m.features){const k=(sn().s[82]++,[C.bbox[0]+(C.bbox[2]-C.bbox[0])/2,C.bbox[1]+(C.bbox[3]-C.bbox[1])/2]),I=(sn().s[83]++,{type:"Feature",geometry:{type:"Point",coordinates:k},place_name:C.properties.display_name,properties:C.properties,text:C.properties.display_name,place_type:["place"],center:k});sn().s[84]++,s.push(I)}}catch(a){sn().s[85]++,console.error(`Failed to forwardGeocode with error: ${a}`)}return sn().s[86]++,{features:s}}}),i=(sn().s[87]++,new poe(r,{placeholder:this.props.t("Search"),maplibregl:fC}));return sn().s[88]++,t.addControl(i,"top-left"),sn().s[89]++,i}render(){var r,i;sn().f[25]++;const t=(sn().s[90]++,this.props.t);return sn().s[91]++,(r=this.state.geocoder)==null||r.setPlaceholder(t("Search")),sn().s[92]++,(i=this.state.zoomControl)==null||i.setLabel(t("Zoom:")),sn().s[93]++,Y.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":t("Map view"),ref:o=>(sn().f[26]++,sn().s[94]++,this.container=o),"data-wd-key":"maplibre:map"})}}pn(PN,"defaultProps",(sn().s[13]++,{onMapLoaded:()=>{sn().f[3]++},onDataChange:()=>{sn().f[4]++},onLayerSelect:()=>{sn().f[5]++},onChange:()=>{sn().f[6]++},options:{}}));const goe=(sn().s[95]++,qo()(PN));var bm=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}();const Iv={PROPERTYCHANGE:"propertychange"};var M7=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}();function yoe(n,e,t){for(var r,i,o=u1,s=0,a=n.length,f=!1;s<a;)r=s+(a-s>>1),i=+o(n[r],e),i<0?s=r+1:(a=r,f=!i);return f?s:~s}function u1(n,e){return n>e?1:n<e?-1:0}function S7(n,e,t){var r=n.length;if(n[0]<=e)return 0;if(e<=n[r-1])return r-1;var i=void 0;if(t>0){for(i=1;i<r;++i)if(n[i]<e)return i-1}else if(t<0){for(i=1;i<r;++i)if(n[i]<=e)return i}else for(i=1;i<r;++i){if(n[i]==e)return i;if(n[i]<e)return typeof t=="function"?t(e,n[i-1],n[i])>0?i-1:i:n[i-1]-e<e-n[i]?i-1:i}return r-1}function voe(n,e,t){for(;e<t;){var r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function pp(n,e){for(var t=Array.isArray(e)?e:[e],r=t.length,i=0;i<r;i++)n[n.length]=t[i]}function C1(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function _oe(n,e,t){var r=e||u1;return n.every(function(i,o){if(o===0)return!0;var s=r(n[o-1],i);return!(s>0||s===0)})}function nv(){return!0}function aM(){return!1}function A1(){}function Coe(n){var e=!1,t,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!e||this!==i||!C1(o,r))&&(e=!0,i=this,r=o,t=n.apply(this,arguments)),t}}var Pl=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function a2(n){for(var e in n)delete n[e]}var KN=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function c1(n){var e;for(e in n)return!1;return!e}var boe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hv=function(n){boe(e,n);function e(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(t,r){if(!(!t||!r)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(r)===-1&&o.push(r)}},e.prototype.dispatchEvent=function(t){var r=typeof t=="string",i=r?t:t.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new bm(t):t;s.target||(s.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,f[i]=0),++a[i];for(var m,C=0,k=o.length;C<k;++C)if("handleEvent"in o[C]?m=o[C].handleEvent(s):m=o[C].call(this,s),m===!1||s.propagationStopped){m=!1;break}if(--a[i]===0){var I=f[i];for(delete f[i];I--;)this.removeEventListener(i,A1);delete a[i]}return m}},e.prototype.disposeInternal=function(){this.listeners_&&a2(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,r){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=A1,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},e}(M7);const Ni={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Lo(n,e,t,r,i){if(r&&r!==n&&(t=t.bind(r)),i){var o=t;t=function(){n.removeEventListener(e,t),o.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function yw(n,e,t,r){return Lo(n,e,t,r,!0)}function ps(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),a2(n))}var xoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),s2=function(n){xoe(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Ni.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=Lo(this,t[s],r);return o}else return Lo(this,t,r)},e.prototype.onceInternal=function(t,r){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=yw(this,t[s],r)}else i=yw(this,t,r);return r.ol_key=i,i},e.prototype.unInternal=function(t,r){var i=r.ol_key;if(i)Ob(i);else if(Array.isArray(t))for(var o=0,s=t.length;o<s;++o)this.removeEventListener(t[o],r);else this.removeEventListener(t,r)},e}(Hv);s2.prototype.on;s2.prototype.once;s2.prototype.un;function Ob(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)ps(n[e]);else ps(n)}function Mi(){return function(){throw new Error("Unimplemented abstract method.")}()}var woe=0;function Hi(n){return n.ol_uid||(n.ol_uid=String(++woe))}var Moe="6.15.1",DN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bK=function(n){DN(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.key=r,o.oldValue=i,o}return e}(bm),_f=function(n){DN(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,Hi(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return e.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Pl({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,r){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new bK(i,t,r)),i=Iv.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new bK(i,t,r))},e.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},e.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},e.prototype.set=function(t,r,i){var o=this.values_||(this.values_={});if(i)o[t]=r;else{var s=o[t];o[t]=r,s!==r&&this.notify(t,s)}},e.prototype.setProperties=function(t,r){for(var i in t)this.set(i,t[i],r)},e.prototype.applyProperties=function(t){t.values_&&Pl(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],c1(this.values_)&&(this.values_=null),r||this.notify(t,i)}},e}(s2),Soe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LN=function(n){Soe(e,n);function e(t){var r=this,i="v"+Moe.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return r=n.call(this,o)||this,r.code=t,r.name="AssertionError",r.message=o,r}return e}(Error);function bo(n,e){if(!n)throw new LN(e)}var Eoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ooe=function(n){Eoe(e,n);function e(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;r.setGeometry(i)}else{var o=t;r.setProperties(o)}return r}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ps(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Lo(t,Ni.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Boe(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(_f);function Boe(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{bo(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var sc={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},W0={};W0[sc.RADIANS]=6370997/(2*Math.PI);W0[sc.DEGREES]=2*Math.PI*6370997/360;W0[sc.FEET]=.3048;W0[sc.METERS]=1;W0[sc.USFEET]=1200/3937;var F0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Ioe=F0.indexOf("firefox")!==-1,koe=F0.indexOf("safari")!==-1&&F0.indexOf("chrom")==-1;koe&&(F0.indexOf("version/15.4")>=0||F0.match(/cpu (os|iphone os) 15_4 like mac os x/));var Toe=F0.indexOf("webkit")!==-1&&F0.indexOf("edge")==-1,Poe=F0.indexOf("macintosh")!==-1,FN=typeof devicePixelRatio<"u"?devicePixelRatio:1,sM=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Koe=typeof Image<"u"&&Image.prototype.decode,RN=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),UN=new Array(6);function cd(){return[1,0,0,1,0,0]}function xK(n){return lM(n,1,0,0,1,0,0)}function E7(n,e){var t=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],f=e[0],m=e[1],C=e[2],k=e[3],I=e[4],K=e[5];return n[0]=t*f+i*m,n[1]=r*f+o*m,n[2]=t*C+i*k,n[3]=r*C+o*k,n[4]=t*I+i*K+s,n[5]=r*I+o*K+a,n}function lM(n,e,t,r,i,o,s){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=o,n[5]=s,n}function Doe(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Il(n,e){var t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function QE(n,e,t){return E7(n,lM(UN,e,0,0,t,0,0))}function Loe(n,e,t){return lM(n,e,0,0,t,0,0)}function Foe(n,e,t){return E7(n,lM(UN,1,0,0,1,e,t))}function mp(n,e,t,r,i,o,s,a){var f=Math.sin(o),m=Math.cos(o);return n[0]=r*m,n[1]=i*f,n[2]=-r*f,n[3]=i*m,n[4]=s*r*m-a*r*f+e,n[5]=s*i*f+a*i*m+t,n}function O7(n,e){var t=Roe(e);bo(t!==0,32);var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],f=e[5];return n[0]=s/t,n[1]=-i/t,n[2]=-o/t,n[3]=r/t,n[4]=(o*f-s*a)/t,n[5]=-(r*f-i*a)/t,n}function Roe(n){return n[0]*n[3]-n[1]*n[2]}var wK;function jN(n){var e="matrix("+n.join(", ")+")";if(sM)return e;var t=wK||(wK=document.createElement("div"));return t.style.transform=e,t.style.transform}const Gu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function BB(n){for(var e=pd(),t=0,r=n.length;t<r;++t)zC(e,n[t]);return e}function Uoe(n,e,t){var r=Math.min.apply(null,n),i=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return gp(r,i,o,s,t)}function I0(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function zN(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function b1(n,e,t){var r,i;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,r*r+i*i}function l2(n,e){return B7(n,e[0],e[1])}function d0(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function B7(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function IB(n,e){var t=n[0],r=n[1],i=n[2],o=n[3],s=e[0],a=e[1],f=Gu.UNKNOWN;return s<t?f=f|Gu.LEFT:s>i&&(f=f|Gu.RIGHT),a<r?f=f|Gu.BELOW:a>o&&(f=f|Gu.ABOVE),f===Gu.UNKNOWN&&(f=Gu.INTERSECTING),f}function pd(){return[1/0,1/0,-1/0,-1/0]}function gp(n,e,t,r,i){return i?(i[0]=n,i[1]=e,i[2]=t,i[3]=r,i):[n,e,t,r]}function u2(n){return gp(1/0,1/0,-1/0,-1/0,n)}function NN(n,e){var t=n[0],r=n[1];return gp(t,r,t,r,e)}function I7(n,e,t,r,i){var o=u2(i);return GN(o,n,e,t,r)}function kv(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function WN(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function zC(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function GN(n,e,t,r,i){for(;t<r;t+=i)joe(n,e[t],e[t+1]);return n}function joe(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function QN(n,e){var t;return t=e(k7(n)),t||(t=e(T7(n)),t)||(t=e(P7(n)),t)||(t=e(G0(n)),t)?t:!1}function kB(n){var e=0;return K7(n)||(e=xs(n)*Wc(n)),e}function k7(n){return[n[0],n[1]]}function T7(n){return[n[2],n[1]]}function R0(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function zoe(n,e){var t;return t=G0(n),t}function TB(n,e,t,r,i){var o=PB(n,e,t,r),s=o[0],a=o[1],f=o[2],m=o[3],C=o[4],k=o[5],I=o[6],K=o[7];return gp(Math.min(s,f,C,I),Math.min(a,m,k,K),Math.max(s,f,C,I),Math.max(a,m,k,K),i)}function PB(n,e,t,r){var i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(t),a=Math.sin(t),f=i*s,m=i*a,C=o*s,k=o*a,I=n[0],K=n[1];return[I-f+k,K-m-C,I-f-k,K-m+C,I+f-k,K+m+C,I+f+k,K+m-C,I-f+k,K-m-C]}function Wc(n){return n[3]-n[1]}function Vg(n,e,t){var r=t||pd();return Tl(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):u2(r),r}function G0(n){return[n[0],n[3]]}function P7(n){return[n[2],n[3]]}function xs(n){return n[2]-n[0]}function Tl(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function K7(n){return n[2]<n[0]||n[3]<n[1]}function Noe(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function Woe(n,e,t){var r=!1,i=IB(n,e),o=IB(n,t);if(i===Gu.INTERSECTING||o===Gu.INTERSECTING)r=!0;else{var s=n[0],a=n[1],f=n[2],m=n[3],C=e[0],k=e[1],I=t[0],K=t[1],L=(K-k)/(I-C),q=void 0,X=void 0;o&Gu.ABOVE&&!(i&Gu.ABOVE)&&(q=I-(K-m)/L,r=q>=s&&q<=f),!r&&o&Gu.RIGHT&&!(i&Gu.RIGHT)&&(X=K-(I-f)*L,r=X>=a&&X<=m),!r&&o&Gu.BELOW&&!(i&Gu.BELOW)&&(q=I-(K-a)/L,r=q>=s&&q<=f),!r&&o&Gu.LEFT&&!(i&Gu.LEFT)&&(X=K-(I-s)*L,r=X>=a&&X<=m)}return r}function Goe(n,e,t,r){var i=[],o;i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],e(i,i,2);for(var s=[],a=[],o=0,f=i.length;o<f;o+=2)s.push(i[o]),a.push(i[o+1]);return Uoe(s,a,t)}function $N(n,e){var t=e.getExtent(),r=R0(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var i=xs(t),o=Math.floor((r[0]-t[0])/i),s=o*i;n[0]-=s,n[2]-=s}return n}function Qoe(n,e){if(e.canWrapX()){var t=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[t[0],n[1],t[2],n[3]]];$N(n,e);var r=xs(t);if(xs(n)>r)return[[t[0],n[1],t[2],n[3]]];if(n[0]<t[0])return[[n[0]+r,n[1],t[2],n[3]],[t[0],n[1],n[2],n[3]]];if(n[2]>t[2])return[[n[0],n[1],t[2],n[3]],[t[0],n[1],n[2]-r,n[3]]]}return[n]}var D7=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||W0[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}();function eu(n,e,t){return Math.min(Math.max(n,e),t)}var $oe=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),Yoe=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function qoe(n,e,t,r,i,o){var s=i-t,a=o-r;if(s!==0||a!==0){var f=((n-t)*s+(e-r)*a)/(s*s+a*a);f>1?(t=i,r=o):f>0&&(t+=s*f,r+=a*f)}return Hg(n,e,t,r)}function Hg(n,e,t,r){var i=t-n,o=r-e;return i*i+o*o}function Voe(n){for(var e=n.length,t=0;t<e;t++){for(var r=t,i=Math.abs(n[t][t]),o=t+1;o<e;o++){var s=Math.abs(n[o][t]);s>i&&(i=s,r=o)}if(i===0)return null;var a=n[r];n[r]=n[t],n[t]=a;for(var f=t+1;f<e;f++)for(var m=-n[f][t]/n[t][t],C=t;C<e+1;C++)t==C?n[f][C]=0:n[f][C]+=m*n[t][C]}for(var k=new Array(e),I=e-1;I>=0;I--){k[I]=n[I][e]/n[I][I];for(var K=I-1;K>=0;K--)n[K][e]-=n[K][I]*k[I]}return k}function p4(n){return n*Math.PI/180}function Zg(n,e){var t=n%e;return t*e<0?t+e:t}function rm(n,e,t){return n+t*(e-n)}function YN(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function y3(n,e){return Math.floor(YN(n,e))}function v3(n,e){return Math.ceil(YN(n,e))}var Hoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A2=6378137,Fy=Math.PI*A2,Zoe=[-Fy,-Fy,Fy,Fy],Xoe=[-180,-85,180,85],_3=A2*Math.log(Math.tan(Math.PI/2)),X1=function(n){Hoe(e,n);function e(t){return n.call(this,{code:t,units:sc.METERS,extent:Zoe,global:!0,worldExtent:Xoe,getPointResolution:function(r,i){return r/$oe(i[1]/A2)}})||this}return e}(D7),MK=[new X1("EPSG:3857"),new X1("EPSG:102100"),new X1("EPSG:102113"),new X1("EPSG:900913"),new X1("http://www.opengis.net/def/crs/EPSG/0/3857"),new X1("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Joe(n,e,t){var r=n.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var s=0;s<r;s+=i){o[s]=Fy*n[s]/180;var a=A2*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));a>_3?a=_3:a<-_3&&(a=-_3),o[s+1]=a}return o}function eae(n,e,t){var r=n.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var s=0;s<r;s+=i)o[s]=180*n[s]/Fy,o[s+1]=360*Math.atan(Math.exp(n[s+1]/A2))/Math.PI-90;return o}var tae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nae=6378137,SK=[-180,-90,180,90],rae=Math.PI*nae/180,hg=function(n){tae(e,n);function e(t,r){return n.call(this,{code:t,units:sc.DEGREES,extent:SK,axisOrientation:r,global:!0,metersPerUnit:rae,worldExtent:SK})||this}return e}(D7),EK=[new hg("CRS:84"),new hg("EPSG:4326","neu"),new hg("urn:ogc:def:crs:OGC:1.3:CRS84"),new hg("urn:ogc:def:crs:OGC:2:84"),new hg("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new hg("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new hg("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],KB={};function iae(n){return KB[n]||KB[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function oae(n,e){KB[n]=e}var rv={};function vw(n,e,t){var r=n.getCode(),i=e.getCode();r in rv||(rv[r]={}),rv[r][i]=t}function aae(n,e){var t;return n in rv&&e in rv[n]&&(t=rv[n][e]),t}function sae(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function _w(n,e){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function L7(n,e){var t=Math.cos(e),r=Math.sin(e),i=n[0]*t-n[1]*r,o=n[1]*t+n[0]*r;return n[0]=i,n[1]=o,n}function lae(n,e){return n[0]*=e,n[1]*=e,n}function F7(n,e){if(e.canWrapX()){var t=xs(e.getExtent()),r=uae(n,e,t);r&&(n[0]-=r*t)}return n}function uae(n,e,t){var r=e.getExtent(),i=0;if(e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var o=t||xs(r);i=Math.floor((n[0]-r[0])/o)}return i}var Aae=63710088e-1;function OK(n,e,t){var r=Aae,i=p4(n[1]),o=p4(e[1]),s=(o-i)/2,a=p4(e[0]-n[0])/2,f=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}var DB=!0;function qN(n){var e=!0;DB=!e}function R7(n,e,t){var r;if(e!==void 0){for(var i=0,o=n.length;i<o;++i)e[i]=n[i];r=e}else r=n.slice();return r}function VN(n,e,t){if(e!==void 0&&n!==e){for(var r=0,i=n.length;r<i;++r)e[r]=n[r];n=e}return n}function cae(n){oae(n.getCode(),n),vw(n,n,R7)}function hae(n){n.forEach(cae)}function Zs(n){return typeof n=="string"?iae(n):n||null}function BK(n,e,t,r){n=Zs(n);var i,o=n.getPointResolutionFunc();if(o){i=o(e,t);var s}else{var a=n.getUnits();if(a==sc.DEGREES&&!r||r==sc.DEGREES)i=e;else{var f=uM(n,Zs("EPSG:4326"));if(f===VN&&a!==sc.DEGREES)i=e*n.getMetersPerUnit();else{var m=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];m=f(m,m,2);var C=OK(m.slice(0,2),m.slice(2,4)),k=OK(m.slice(4,6),m.slice(6,8));i=(C+k)/2}var s=n.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function IK(n){hae(n),n.forEach(function(e){n.forEach(function(t){e!==t&&vw(e,t,R7)})})}function dae(n,e,t,r){n.forEach(function(i){e.forEach(function(o){vw(i,o,t),vw(o,i,r)})})}function U7(n,e){return n?typeof n=="string"?Zs(n):n:Zs(e)}function LB(n,e){return qN(),j7(n,"EPSG:4326","EPSG:3857")}function $E(n,e){var t=j7(n,"EPSG:3857","EPSG:4326"),r=t[0];return(r<-180||r>180)&&(t[0]=Zg(r+180,360)-180),t}function Og(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var r=uM(n,e);return r===R7&&t}function uM(n,e){var t=n.getCode(),r=e.getCode(),i=aae(t,r);return i||(i=VN),i}function Cw(n,e){var t=Zs(n),r=Zs(e);return uM(t,r)}function j7(n,e,t){var r=Cw(e,t);return r(n,void 0,n.length)}var fae=null;function pae(){return fae}function FB(n,e){return n}function Xp(n,e){return DB&&!_w(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(DB=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function HN(n,e){return n}function Rg(n,e){return n}function mae(){IK(MK),IK(EK),dae(EK,MK,Joe,eae)}mae();function k0(n,e,t,r,i,o){for(var s=o||[],a=0,f=e;f<t;f+=r){var m=n[f],C=n[f+1];s[a++]=i[0]*m+i[2]*C+i[4],s[a++]=i[1]*m+i[3]*C+i[5]}return o&&s.length!=a&&(s.length=a),s}function ZN(n,e,t,r,i,o,s){for(var a=s||[],f=Math.cos(i),m=Math.sin(i),C=o[0],k=o[1],I=0,K=e;K<t;K+=r){var L=n[K]-C,q=n[K+1]-k;a[I++]=C+L*f-q*m,a[I++]=k+L*m+q*f;for(var X=K+2;X<K+r;++X)a[I++]=n[X]}return s&&a.length!=I&&(a.length=I),a}function gae(n,e,t,r,i,o,s,a){for(var f=a||[],m=s[0],C=s[1],k=0,I=e;I<t;I+=r){var K=n[I]-m,L=n[I+1]-C;f[k++]=m+i*K,f[k++]=C+o*L;for(var q=I+2;q<I+r;++q)f[k++]=n[q]}return a&&f.length!=k&&(f.length=k),f}function yae(n,e,t,r,i,o,s){for(var a=s||[],f=0,m=e;m<t;m+=r){a[f++]=n[m]+i,a[f++]=n[m+1]+o;for(var C=m+2;C<m+r;++C)a[f++]=n[C]}return s&&a.length!=f&&(a.length=f),a}var vae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kK=cd(),XN=function(n){vae(e,n);function e(){var t=n.call(this)||this;return t.extent_=pd(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Coe(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),t}return e.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},e.prototype.clone=function(){return Mi()},e.prototype.closestPointXY=function(t,r,i,o){return Mi()},e.prototype.containsXY=function(t,r){var i=this.getClosestPoint([t,r]);return i[0]===t&&i[1]===r},e.prototype.getClosestPoint=function(t,r){var i=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Mi()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&u2(r),this.extentRevision_=this.getRevision()}return Noe(this.extent_,t)},e.prototype.rotate=function(t,r){Mi()},e.prototype.scale=function(t,r,i){Mi()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Mi()},e.prototype.getType=function(){return Mi()},e.prototype.applyTransform=function(t){Mi()},e.prototype.intersectsExtent=function(t){return Mi()},e.prototype.translate=function(t,r){Mi()},e.prototype.transform=function(t,r){var i=Zs(t),o=i.getUnits()==sc.TILE_PIXELS?function(s,a,f){var m=i.getExtent(),C=i.getWorldExtent(),k=Wc(C)/Wc(m);return mp(kK,C[0],C[3],k,-k,0,0,0),k0(s,0,s.length,f,kK,a),Cw(i,r)(s,a,f)}:Cw(i,r);return this.applyTransform(o),this},e}(_f),_ae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cae=function(n){_ae(e,n);function e(t){var r=n.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(ps),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,r=this.geometries_.length;t<r;++t)this.changeEventsKeys_.push(Lo(this.geometries_[t],Ni.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){if(o<b1(this.getExtent(),t,r))return o;for(var s=this.geometries_,a=0,f=s.length;a<f;++a)o=s[a].closestPointXY(t,r,i,o);return o},e.prototype.containsXY=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(t,r))return!0;return!1},e.prototype.computeExtent=function(t){u2(t);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)WN(t,r[i].getExtent());return t},e.prototype.getGeometries=function(){return TK(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?t=t.concat(r[i].getGeometriesArrayRecursive()):t.push(r[i]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var f=i[s],m=f.getSimplifiedGeometry(t);r.push(m),m!==f&&(o=!0)}if(o){var C=new e(null);return C.setGeometriesArray(r),C}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return this.geometries_.length===0},e.prototype.rotate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(t,r);this.changed()},e.prototype.scale=function(t,r,i){var o=i;o||(o=R0(this.getExtent()));for(var s=this.geometries_,a=0,f=s.length;a<f;++a)s[a].scale(t,r,o);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(TK(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(t,r);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},e}(XN);function TK(n){for(var e=[],t=0,r=n.length;t<r;++t)e.push(n[t].clone());return e}var JN=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(e,t){var r;if(t){var i=t.dataProjection?Zs(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()===sc.TILE_PIXELS&&(i=Zs(i),i.setWorldExtent(t.extent)),r={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(r)},n.prototype.adaptOptions=function(e){return Pl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},n.prototype.getType=function(){return Mi()},n.prototype.readFeature=function(e,t){return Mi()},n.prototype.readFeatures=function(e,t){return Mi()},n.prototype.readGeometry=function(e,t){return Mi()},n.prototype.readProjection=function(e){return Mi()},n.prototype.writeFeature=function(e,t){return Mi()},n.prototype.writeFeatures=function(e,t){return Mi()},n.prototype.writeGeometry=function(e,t){return Mi()},n}();function z7(n,e,t){var r=t?Zs(t.featureProjection):null,i=t?Zs(t.dataProjection):null,o;if(r&&i&&!Og(r,i)?o=(e?n.clone():n).transform(e?r:i,e?i:r):o=n,e&&t&&t.decimals!==void 0){var s=Math.pow(10,t.decimals),a=function(f){for(var m=0,C=f.length;m<C;++m)f[m]=Math.round(f[m]*s)/s;return f};o===n&&(o=n.clone()),o.applyTransform(a)}return o}var bae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xae=function(n){bae(e,n);function e(){return n.call(this)||this}return e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,r){return this.readFeatureFromObject(C3(t),this.getReadOptions(t,r))},e.prototype.readFeatures=function(t,r){return this.readFeaturesFromObject(C3(t),this.getReadOptions(t,r))},e.prototype.readFeatureFromObject=function(t,r){return Mi()},e.prototype.readFeaturesFromObject=function(t,r){return Mi()},e.prototype.readGeometry=function(t,r){return this.readGeometryFromObject(C3(t),this.getReadOptions(t,r))},e.prototype.readGeometryFromObject=function(t,r){return Mi()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(C3(t))},e.prototype.readProjectionFromObject=function(t){return Mi()},e.prototype.writeFeature=function(t,r){return JSON.stringify(this.writeFeatureObject(t,r))},e.prototype.writeFeatureObject=function(t,r){return Mi()},e.prototype.writeFeatures=function(t,r){return JSON.stringify(this.writeFeaturesObject(t,r))},e.prototype.writeFeaturesObject=function(t,r){return Mi()},e.prototype.writeGeometry=function(t,r){return JSON.stringify(this.writeGeometryObject(t,r))},e.prototype.writeGeometryObject=function(t,r){return Mi()},e}(JN);function C3(n){if(typeof n=="string"){var e=JSON.parse(n);return e||null}else return n!==null?n:null}const Ya={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var wae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),x1=function(n){wae(e,n);function e(){var t=n.call(this)||this;return t.layout=Ya.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return I7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Mi()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,r){this.stride=PK(t),this.layout=t,this.flatCoordinates=r},e.prototype.setCoordinates=function(t,r){Mi()},e.prototype.setLayout=function(t,r,i){var o;if(t)o=PK(t);else{for(var s=0;s<i;++s)if(r.length===0){this.layout=Ya.XY,this.stride=2;return}else r=r[0];o=r.length,t=Mae(o)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();ZN(i,0,i.length,o,t,r,i),this.changed()}},e.prototype.scale=function(t,r,i){var o=r;o===void 0&&(o=t);var s=i;s||(s=R0(this.getExtent()));var a=this.getFlatCoordinates();if(a){var f=this.getStride();gae(a,0,a.length,f,t,o,s,a),this.changed()}},e.prototype.translate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();yae(i,0,i.length,o,t,r,i),this.changed()}},e}(XN);function Mae(n){var e;return n==2?e=Ya.XY:n==3?e=Ya.XYZ:n==4&&(e=Ya.XYZM),e}function PK(n){var e;return n==Ya.XY?e=2:n==Ya.XYZ||n==Ya.XYM?e=3:n==Ya.XYZM&&(e=4),e}function Sae(n,e,t){var r=n.getFlatCoordinates();if(r){var i=n.getStride();return k0(r,0,r.length,i,e,t)}else return null}function KK(n,e,t,r,i,o,s){var a=n[e],f=n[e+1],m=n[t]-a,C=n[t+1]-f,k;if(m===0&&C===0)k=e;else{var I=((i-a)*m+(o-f)*C)/(m*m+C*C);if(I>1)k=t;else if(I>0){for(var K=0;K<r;++K)s[K]=rm(n[e+K],n[t+K],I);s.length=r;return}else k=e}for(var K=0;K<r;++K)s[K]=n[k+K];s.length=r}function N7(n,e,t,r,i){var o=n[e],s=n[e+1];for(e+=r;e<t;e+=r){var a=n[e],f=n[e+1],m=Hg(o,s,a,f);m>i&&(i=m),o=a,s=f}return i}function W7(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=N7(n,e,a,r,i),e=a}return i}function Eae(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=W7(n,e,a,r,i),e=a[a.length-1]}return i}function G7(n,e,t,r,i,o,s,a,f,m,C){if(e==t)return m;var k,I;if(i===0)if(I=Hg(s,a,n[e],n[e+1]),I<m){for(k=0;k<r;++k)f[k]=n[e+k];return f.length=r,I}else return m;for(var K=C||[NaN,NaN],L=e+r;L<t;)if(KK(n,L-r,L,r,s,a,K),I=Hg(s,a,K[0],K[1]),I<m){for(m=I,k=0;k<r;++k)f[k]=K[k];f.length=r,L+=r}else L+=r*Math.max((Math.sqrt(I)-Math.sqrt(m))/i|0,1);if(o&&(KK(n,t-r,e,r,s,a,K),I=Hg(s,a,K[0],K[1]),I<m)){for(m=I,k=0;k<r;++k)f[k]=K[k];f.length=r}return m}function Q7(n,e,t,r,i,o,s,a,f,m,C){for(var k=C||[NaN,NaN],I=0,K=t.length;I<K;++I){var L=t[I];m=G7(n,e,L,r,i,o,s,a,f,m,k),e=L}return m}function Oae(n,e,t,r,i,o,s,a,f,m,C){for(var k=[NaN,NaN],I=0,K=t.length;I<K;++I){var L=t[I];m=Q7(n,e,L,r,i,o,s,a,f,m,k),e=L[L.length-1]}return m}function Bae(n,e,t,r){for(var i=0,o=t.length;i<o;++i)n[e++]=t[i];return e}function AM(n,e,t,r){for(var i=0,o=t.length;i<o;++i)for(var s=t[i],a=0;a<r;++a)n[e++]=s[a];return e}function $7(n,e,t,r,i){for(var o=i||[],s=0,a=0,f=t.length;a<f;++a){var m=AM(n,e,t[a],r);o[s++]=m,e=m}return o.length=s,o}function Iae(n,e,t,r,i){for(var o=i||[],s=0,a=0,f=t.length;a<f;++a){var m=$7(n,e,t[a],r,o[s]);o[s++]=m,e=m[m.length-1]}return o.length=s,o}function Y7(n,e,t,r,i,o,s){var a=(t-e)/r;if(a<3){for(;e<t;e+=r)o[s++]=n[e],o[s++]=n[e+1];return s}var f=new Array(a);f[0]=1,f[a-1]=1;for(var m=[e,t-r],C=0;m.length>0;){for(var k=m.pop(),I=m.pop(),K=0,L=n[I],q=n[I+1],X=n[k],H=n[k+1],G=I+r;G<k;G+=r){var ee=n[G],ne=n[G+1],se=qoe(ee,ne,L,q,X,H);se>K&&(C=G,K=se)}K>i&&(f[(C-e)/r]=1,I+r<C&&m.push(I,C),C+r<k&&m.push(C,k))}for(var G=0;G<a;++G)f[G]&&(o[s++]=n[e+G*r],o[s++]=n[e+G*r+1]);return s}function kae(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f];s=Y7(n,e,C,r,i,o,s),a.push(s),e=C}return s}function xg(n,e){return e*Math.round(n/e)}function Tae(n,e,t,r,i,o,s){if(e==t)return s;var a=xg(n[e],i),f=xg(n[e+1],i);e+=r,o[s++]=a,o[s++]=f;var m,C;do if(m=xg(n[e],i),C=xg(n[e+1],i),e+=r,e==t)return o[s++]=m,o[s++]=C,s;while(m==a&&C==f);for(;e<t;){var k=xg(n[e],i),I=xg(n[e+1],i);if(e+=r,!(k==m&&I==C)){var K=m-a,L=C-f,q=k-a,X=I-f;if(K*X==L*q&&(K<0&&q<K||K==q||K>0&&q>K)&&(L<0&&X<L||L==X||L>0&&X>L)){m=k,C=I;continue}o[s++]=m,o[s++]=C,a=m,f=C,m=k,C=I}}return o[s++]=m,o[s++]=C,s}function eW(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f];s=Tae(n,e,C,r,i,o,s),a.push(s),e=C}return s}function Pae(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f],k=[];s=eW(n,e,C,r,i,o,s,k),a.push(k),e=C[C.length-1]}return s}function tW(n,e,t,r,i){var o;for(e+=r;e<t;e+=r)if(o=i(n.slice(e-r,e),n.slice(e,e+r)),o)return o;return!1}function f0(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=e;a<t;a+=r)o[s++]=n.slice(a,a+r);return o.length=s,o}function Bb(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=t.length;a<f;++a){var m=t[a];o[s++]=f0(n,e,m,r,o[s]),e=m}return o.length=s,o}function RB(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=t.length;a<f;++a){var m=t[a];o[s++]=Bb(n,e,m,r,o[s]),e=m[m.length-1]}return o.length=s,o}function bw(n,e,t,r,i,o,s){var a,f,m=(t-e)/r;if(m===1)a=e;else if(m===2)a=e,f=i;else if(m!==0){for(var C=n[e],k=n[e+1],I=0,K=[0],L=e+r;L<t;L+=r){var q=n[L],X=n[L+1];I+=Math.sqrt((q-C)*(q-C)+(X-k)*(X-k)),K.push(I),C=q,k=X}var H=i*I,G=yoe(K,H);G<0?(f=(H-K[-G-2])/(K[-G-1]-K[-G-2]),a=e+(-G-2)*r):a=e+G*r}for(var ee=s>1?s:2,ne=o||new Array(ee),L=0;L<ee;++L)ne[L]=a===void 0?NaN:f===void 0?n[a+L]:rm(n[a+L],n[a+r+L],f);return ne}function UB(n,e,t,r,i,o){if(t==e)return null;var s;if(i<n[e+r-1])return o?(s=n.slice(e,e+r),s[r-1]=i,s):null;if(n[t-1]<i)return o?(s=n.slice(t-r,t),s[r-1]=i,s):null;if(i==n[e+r-1])return n.slice(e,e+r);for(var a=e/r,f=t/r;a<f;){var m=a+f>>1;i<n[(m+1)*r-1]?f=m:a=m+1}var C=n[a*r-1];if(i==C)return n.slice((a-1)*r,(a-1)*r+r);var k=n[(a+1)*r-1],I=(i-C)/(k-C);s=[];for(var K=0;K<r-1;++K)s.push(rm(n[(a-1)*r+K],n[a*r+K],I));return s.push(i),s}function Kae(n,e,t,r,i,o,s){if(s)return UB(n,e,t[t.length-1],r,i,o);var a;if(i<n[r-1])return o?(a=n.slice(0,r),a[r-1]=i,a):null;if(n[n.length-1]<i)return o?(a=n.slice(n.length-r),a[r-1]=i,a):null;for(var f=0,m=t.length;f<m;++f){var C=t[f];if(e!=C){if(i<n[e+r-1])return null;if(i<=n[C-1])return UB(n,e,C,r,i,!1);e=C}}return null}function Dae(n,e,t,r,i){var o=QN(i,function(s){return!Ug(n,e,t,r,s[0],s[1])});return!o}function Ug(n,e,t,r,i,o){for(var s=0,a=n[t-r],f=n[t-r+1];e<t;e+=r){var m=n[e],C=n[e+1];f<=o?C>o&&(m-a)*(o-f)-(i-a)*(C-f)>0&&s++:C<=o&&(m-a)*(o-f)-(i-a)*(C-f)<0&&s--,a=m,f=C}return s!==0}function q7(n,e,t,r,i,o){if(t.length===0||!Ug(n,e,t[0],r,i,o))return!1;for(var s=1,a=t.length;s<a;++s)if(Ug(n,t[s-1],t[s],r,i,o))return!1;return!0}function Lae(n,e,t,r,i,o){if(t.length===0)return!1;for(var s=0,a=t.length;s<a;++s){var f=t[s];if(q7(n,e,f,r,i,o))return!0;e=f[f.length-1]}return!1}function cM(n,e,t,r,i){var o=GN(pd(),n,e,t,r);return Tl(i,o)?d0(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:tW(n,e,t,r,function(s,a){return Woe(i,s,a)}):!1}function Fae(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){if(cM(n,e,t[o],r,i))return!0;e=t[o]}return!1}function nW(n,e,t,r,i){return!!(cM(n,e,t,r,i)||Ug(n,e,t,r,i[0],i[1])||Ug(n,e,t,r,i[0],i[3])||Ug(n,e,t,r,i[2],i[1])||Ug(n,e,t,r,i[2],i[3]))}function rW(n,e,t,r,i){if(!nW(n,e,t[0],r,i))return!1;if(t.length===1)return!0;for(var o=1,s=t.length;o<s;++o)if(Dae(n,t[o-1],t[o],r,i)&&!cM(n,t[o-1],t[o],r,i))return!1;return!0}function Rae(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(rW(n,e,a,r,i))return!0;e=a[a.length-1]}return!1}function iW(n,e,t,r){for(var i=n[e],o=n[e+1],s=0,a=e+r;a<t;a+=r){var f=n[a],m=n[a+1];s+=Math.sqrt((f-i)*(f-i)+(m-o)*(m-o)),i=f,o=m}return s}var Uae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xw=function(n){Uae(e,n);function e(t,r){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?pp(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<b1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),G7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,i,o))},e.prototype.forEachSegment=function(t){return tW(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Ya.XYM&&this.layout!=Ya.XYZM)return null;var i=r!==void 0?r:!1;return UB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,r){return bw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},e.prototype.getLength=function(){return iW(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Y7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Ya.XY)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return cM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(x1),jae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oW=function(n){jae(e,n);function e(t,r,i){var o=n.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,t),o.ends_=i;else{for(var s=o.getLayout(),a=t,f=[],m=[],C=0,k=a.length;C<k;++C){var I=a[C];C===0&&(s=I.getLayout()),pp(f,I.getFlatCoordinates()),m.push(f.length)}o.setFlatCoordinates(s,f),o.ends_=m}return o}return e.prototype.appendLineString=function(t){this.flatCoordinates?pp(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<b1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(W7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Q7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,i,o))},e.prototype.getCoordinateAtM=function(t,r,i){if(this.layout!=Ya.XYM&&this.layout!=Ya.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,s=i!==void 0?i:!1;return Kae(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},e.prototype.getCoordinates=function(){return Bb(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new xw(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],s=0,a=0,f=r.length;a<f;++a){var m=r[a],C=new xw(t.slice(s,m),i);o.push(C),s=m}return o},e.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,a=0,f=o.length;a<f;++a){var m=o[a],C=bw(r,i,m,s,.5);pp(t,C),i=m}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=kae(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new e(r,Ya.XY,i)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return Fae(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=$7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(x1),zae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ib=function(n){zae(e,n);function e(t,r){var i=n.call(this)||this;return i.setCoordinates(t,r),i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){var s=this.flatCoordinates,a=Hg(t,r,s[0],s[1]);if(a<o){for(var f=this.stride,m=0;m<f;++m)i[m]=s[m];return i.length=f,a}else return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return NN(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return B7(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bae(this.flatCoordinates,0,t,this.stride),this.changed()},e}(x1),Nae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V7=function(n){Nae(e,n);function e(t,r){var i=n.call(this)||this;return r&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.appendPoint=function(t){this.flatCoordinates?pp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){if(o<b1(this.getExtent(),t,r))return o;for(var s=this.flatCoordinates,a=this.stride,f=0,m=s.length;f<m;f+=a){var C=Hg(t,r,s[f],s[f+1]);if(C<o){o=C;for(var k=0;k<a;++k)i[k]=s[f+k];i.length=a}}return o},e.prototype.getCoordinates=function(){return f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new Ib(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,i=this.stride,o=[],s=0,a=t.length;s<a;s+=i){var f=new Ib(t.slice(s,s+i),r);o.push(f)}return o},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,i=this.stride,o=0,s=r.length;o<s;o+=i){var a=r[o],f=r[o+1];if(B7(t,a,f))return!0}return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(x1);function aW(n,e,t,r){for(var i=0,o=n[t-r],s=n[t-r+1];e<t;e+=r){var a=n[e],f=n[e+1];i+=s*a-o*f,o=a,s=f}return i/2}function sW(n,e,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=aW(n,e,a,r),e=a}return i}function Wae(n,e,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=sW(n,e,a,r),e=a[a.length-1]}return i}var Gae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DK=function(n){Gae(e,n);function e(t,r){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,r,i,o){return o<b1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),G7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.getArea=function(){return aW(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return f0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Y7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Ya.XY)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(x1);function H7(n,e,t,r,i,o,s){for(var a,f,m,C,k,I,K,L=i[o+1],q=[],X=0,H=t.length;X<H;++X){var G=t[X];for(C=n[G-r],I=n[G-r+1],a=e;a<G;a+=r)k=n[a],K=n[a+1],(L<=I&&K<=L||I<=L&&L<=K)&&(m=(L-I)/(K-I)*(k-C)+C,q.push(m)),C=k,I=K}var ee=NaN,ne=-1/0;for(q.sort(u1),C=q[0],a=1,f=q.length;a<f;++a){k=q[a];var se=Math.abs(k-C);se>ne&&(m=(C+k)/2,q7(n,e,t,r,m,L)&&(ee=m,ne=se)),C=k}return isNaN(ee)&&(ee=i[o]),s?(s.push(ee,L,ne),s):[ee,L,ne]}function lW(n,e,t,r,i){for(var o=[],s=0,a=t.length;s<a;++s){var f=t[s];o=H7(n,e,f,r,i,2*s,o),e=f[f.length-1]}return o}function Qae(n,e,t,r){for(;e<t-r;){for(var i=0;i<r;++i){var o=n[e+i];n[e+i]=n[t-r+i],n[t-r+i]=o}e+=r,t-=r}}function Z7(n,e,t,r){for(var i=0,o=n[t-r],s=n[t-r+1];e<t;e+=r){var a=n[e],f=n[e+1];i+=(a-o)*(f+s),o=a,s=f}return i===0?void 0:i>0}function uW(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o],f=Z7(n,e,a,r);if(o===0){if(!f)return!1}else if(f)return!1;e=a}return!0}function $ae(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(!uW(n,e,a,r))return!1;a.length&&(e=a[a.length-1])}return!0}function jB(n,e,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var f=t[s],m=Z7(n,e,f,r),C=s===0?o&&m||!o&&!m:o&&!m||!o&&m;C&&Qae(n,e,f,r),e=f}return e}function LK(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o)e=jB(n,e,t[o],r,i);return e}function Yae(n,e){for(var t=[],r=0,i=0,o=0,s=e.length;o<s;++o){var a=e[o];if(!Z7(n,r,a,2))t.push(e.slice(i,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[i])}i=o+1,r=a}return t}var qae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tv=function(n){qae(e,n);function e(t,r,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,t),o.ends_=i):o.setCoordinates(t,r),o}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?pp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<b1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(W7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Q7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.containsXY=function(t,r){return q7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},e.prototype.getArea=function(){return sW(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),jB(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,Bb(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=R0(this.getExtent());this.flatInteriorPoint_=H7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ib(this.getFlatInteriorPoint(),Ya.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new DK(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,f=i.length;a<f;++a){var m=i[a],C=new DK(r.slice(s,m),t);o.push(C),s=m}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;uW(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=jB(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=eW(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new e(r,Ya.XY,i)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return rW(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=$7(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(x1);function FK(n){var e=n[0],t=n[1],r=n[2],i=n[3],o=[e,t,e,i,r,i,r,t,e,t];return new Tv(o,Ya.XY,[o.length])}function AW(n,e,t,r){for(var i=[],o=pd(),s=0,a=t.length;s<a;++s){var f=t[s];o=I7(n,e,f[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=f[f.length-1]}return i}var Vae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cW=function(n){Vae(e,n);function e(t,r,i){var o=n.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var s=o.getLayout(),a=t,f=[],m=[],C=0,k=a.length;C<k;++C){var I=a[C];C===0&&(s=I.getLayout());for(var K=f.length,L=I.getEnds(),q=0,X=L.length;q<X;++q)L[q]+=K;pp(f,I.getFlatCoordinates()),m.push(L)}r=s,t=f,i=m}return r!==void 0&&i?(o.setFlatCoordinates(r,t),o.endss_=i):o.setCoordinates(t,r),o}return e.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;pp(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var o=0,s=r.length;o<s;++o)r[o]+=i}this.endss_.push(r),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();var o=new e(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,r,i,o){return o<b1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Eae(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Oae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.containsXY=function(t,r){return Lae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},e.prototype.getArea=function(){return Wae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),LK(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,RB(r,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=AW(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=lW(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new V7(this.getFlatInteriorPoints().slice(),Ya.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;$ae(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=LK(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Pae(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new e(r,Ya.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var i=this.endss_[t-1];r=i[i.length-1]}var o=this.endss_[t].slice(),s=o[o.length-1];if(r!==0)for(var a=0,f=o.length;a<f;++a)o[a]-=r;return new Tv(this.flatCoordinates.slice(r,s),this.layout,o)},e.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],s=0,a=0,f=i.length;a<f;++a){var m=i[a].slice(),C=m[m.length-1];if(s!==0)for(var k=0,I=m.length;k<I;++k)m[k]-=s;var K=new Tv(r.slice(s,C),t,m);o.push(K),s=C}return o},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return Rae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Iae(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},e}(x1),Hae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zae=function(n){Hae(e,n);function e(t){var r=this,i=t||{};return r=n.call(this)||this,r.dataProjection=Zs(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Zs(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return e.prototype.readFeatureFromObject=function(t,r){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=zB(i.geometry,r),s=new Ooe;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},e.prototype.readFeaturesFromObject=function(t,r){var i=t,o=null;if(i.type==="FeatureCollection"){var s=t;o=[];for(var a=s.features,f=0,m=a.length;f<m;++f)o.push(this.readFeatureFromObject(a[f],r))}else o=[this.readFeatureFromObject(t,r)];return o},e.prototype.readGeometryFromObject=function(t,r){return zB(t,r)},e.prototype.readProjectionFromObject=function(t){var r=t.crs,i;return r?r.type=="name"?i=Zs(r.properties.name):r.type==="EPSG"?i=Zs("EPSG:"+r.properties.code):bo(!1,36):i=this.dataProjection,i},e.prototype.writeFeatureObject=function(t,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var s=t.getProperties(),a=t.getGeometry();return a&&(i.geometry=NB(a,r),delete s[t.getGeometryName()]),c1(s)||(i.properties=s),i},e.prototype.writeFeaturesObject=function(t,r){r=this.adaptOptions(r);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],r));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,r){return NB(t,this.adaptOptions(r))},e}(xae);function zB(n,e){if(!n)return null;var t;switch(n.type){case"Point":{t=Jae(n);break}case"LineString":{t=ese(n);break}case"Polygon":{t=ise(n);break}case"MultiPoint":{t=nse(n);break}case"MultiLineString":{t=tse(n);break}case"MultiPolygon":{t=rse(n);break}case"GeometryCollection":{t=Xae(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return z7(t,!1,e)}function Xae(n,e){var t=n.geometries.map(function(r){return zB(r,e)});return new Cae(t)}function Jae(n){return new Ib(n.coordinates)}function ese(n){return new xw(n.coordinates)}function tse(n){return new oW(n.coordinates)}function nse(n){return new V7(n.coordinates)}function rse(n){return new cW(n.coordinates)}function ise(n){return new Tv(n.coordinates)}function NB(n,e){n=z7(n,!0,e);var t=n.getType(),r;switch(t){case"Point":{r=Ase(n);break}case"LineString":{r=ase(n);break}case"Polygon":{r=cse(n,e);break}case"MultiPoint":{r=lse(n);break}case"MultiLineString":{r=sse(n);break}case"MultiPolygon":{r=use(n,e);break}case"GeometryCollection":{r=ose(n,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return r}function ose(n,e){var t=n.getGeometriesArray().map(function(r){var i=Pl({},e);return delete i.featureProjection,NB(r,i)});return{type:"GeometryCollection",geometries:t}}function ase(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function sse(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function lse(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function use(n,e){var t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Ase(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function cse(n,e){var t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var hse=ma,b3=G5;function ma(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}ma.Varint=0;ma.Fixed64=1;ma.Bytes=2;ma.Fixed32=5;var WB=65536*65536,RK=1/WB,dse=12,hW=typeof TextDecoder>"u"?null:new TextDecoder("utf8");ma.prototype={destroy:function(){this.buf=null},readFields:function(n,e,t){for(t=t||this.length;this.pos<t;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,n(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(n,e){return this.readFields(n,e,this.readVarint()+this.pos)},readFixed32:function(){var n=x3(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=jK(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=x3(this.buf,this.pos)+x3(this.buf,this.pos+4)*WB;return this.pos+=8,n},readSFixed64:function(){var n=x3(this.buf,this.pos)+jK(this.buf,this.pos+4)*WB;return this.pos+=8,n},readFloat:function(){var n=b3.read(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=b3.read(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var e=this.buf,t,r;return r=e[this.pos++],t=r&127,r<128||(r=e[this.pos++],t|=(r&127)<<7,r<128)||(r=e[this.pos++],t|=(r&127)<<14,r<128)||(r=e[this.pos++],t|=(r&127)<<21,r<128)?t:(r=e[this.pos],t|=(r&15)<<28,fse(t,n,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2===1?(n+1)/-2:n/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var n=this.readVarint()+this.pos,e=this.pos;return this.pos=n,n-e>=dse&&hW?Ose(this.buf,e,n):Ese(this.buf,e,n)},readBytes:function(){var n=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,n);return this.pos=n,e},readPackedVarint:function(n,e){if(this.type!==ma.Bytes)return n.push(this.readVarint(e));var t=Yp(this);for(n=n||[];this.pos<t;)n.push(this.readVarint(e));return n},readPackedSVarint:function(n){if(this.type!==ma.Bytes)return n.push(this.readSVarint());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==ma.Bytes)return n.push(this.readBoolean());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==ma.Bytes)return n.push(this.readFloat());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==ma.Bytes)return n.push(this.readDouble());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==ma.Bytes)return n.push(this.readFixed32());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==ma.Bytes)return n.push(this.readSFixed32());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==ma.Bytes)return n.push(this.readFixed64());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==ma.Bytes)return n.push(this.readSFixed64());var e=Yp(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed64());return n},skip:function(n){var e=n&7;if(e===ma.Varint)for(;this.buf[this.pos++]>127;);else if(e===ma.Bytes)this.pos=this.readVarint()+this.pos;else if(e===ma.Fixed32)this.pos+=4;else if(e===ma.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(n,e){this.writeVarint(n<<3|e)},realloc:function(n){for(var e=this.length||16;e<this.pos+n;)e*=2;if(e!==this.length){var t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),ey(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),ey(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),ey(this.buf,n&-1,this.pos),ey(this.buf,Math.floor(n*RK),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),ey(this.buf,n&-1,this.pos),ey(this.buf,Math.floor(n*RK),this.pos+4),this.pos+=8},writeVarint:function(n){if(n=+n||0,n>268435455||n<0){pse(n,this);return}this.realloc(4),this.buf[this.pos++]=n&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=(n>>>=7)&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=(n>>>=7)&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=n>>>7&127)))},writeSVarint:function(n){this.writeVarint(n<0?-n*2-1:n*2)},writeBoolean:function(n){this.writeVarint(!!n)},writeString:function(n){n=String(n),this.realloc(n.length*4),this.pos++;var e=this.pos;this.pos=Bse(this.buf,n,this.pos);var t=this.pos-e;t>=128&&UK(e,t,this),this.pos=e-1,this.writeVarint(t),this.pos+=t},writeFloat:function(n){this.realloc(4),b3.write(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),b3.write(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var e=n.length;this.writeVarint(e),this.realloc(e);for(var t=0;t<e;t++)this.buf[this.pos++]=n[t]},writeRawMessage:function(n,e){this.pos++;var t=this.pos;n(e,this);var r=this.pos-t;r>=128&&UK(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeMessage:function(n,e,t){this.writeTag(n,ma.Bytes),this.writeRawMessage(e,t)},writePackedVarint:function(n,e){e.length&&this.writeMessage(n,yse,e)},writePackedSVarint:function(n,e){e.length&&this.writeMessage(n,vse,e)},writePackedBoolean:function(n,e){e.length&&this.writeMessage(n,bse,e)},writePackedFloat:function(n,e){e.length&&this.writeMessage(n,_se,e)},writePackedDouble:function(n,e){e.length&&this.writeMessage(n,Cse,e)},writePackedFixed32:function(n,e){e.length&&this.writeMessage(n,xse,e)},writePackedSFixed32:function(n,e){e.length&&this.writeMessage(n,wse,e)},writePackedFixed64:function(n,e){e.length&&this.writeMessage(n,Mse,e)},writePackedSFixed64:function(n,e){e.length&&this.writeMessage(n,Sse,e)},writeBytesField:function(n,e){this.writeTag(n,ma.Bytes),this.writeBytes(e)},writeFixed32Field:function(n,e){this.writeTag(n,ma.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(n,e){this.writeTag(n,ma.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(n,e){this.writeTag(n,ma.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(n,e){this.writeTag(n,ma.Fixed64),this.writeSFixed64(e)},writeVarintField:function(n,e){this.writeTag(n,ma.Varint),this.writeVarint(e)},writeSVarintField:function(n,e){this.writeTag(n,ma.Varint),this.writeSVarint(e)},writeStringField:function(n,e){this.writeTag(n,ma.Bytes),this.writeString(e)},writeFloatField:function(n,e){this.writeTag(n,ma.Fixed32),this.writeFloat(e)},writeDoubleField:function(n,e){this.writeTag(n,ma.Fixed64),this.writeDouble(e)},writeBooleanField:function(n,e){this.writeVarintField(n,!!e)}};function fse(n,e,t){var r=t.buf,i,o;if(o=r[t.pos++],i=(o&112)>>4,o<128||(o=r[t.pos++],i|=(o&127)<<3,o<128)||(o=r[t.pos++],i|=(o&127)<<10,o<128)||(o=r[t.pos++],i|=(o&127)<<17,o<128)||(o=r[t.pos++],i|=(o&127)<<24,o<128)||(o=r[t.pos++],i|=(o&1)<<31,o<128))return J1(n,i,e);throw new Error("Expected varint not more than 10 bytes")}function Yp(n){return n.type===ma.Bytes?n.readVarint()+n.pos:n.pos+1}function J1(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function pse(n,e){var t,r;if(n>=0?(t=n%4294967296|0,r=n/4294967296|0):(t=~(-n%4294967296),r=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,r=r+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),mse(t,r,e),gse(r,e)}function mse(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function gse(n,e){var t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function UK(n,e,t){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(r);for(var i=t.pos-1;i>=n;i--)t.buf[i+r]=t.buf[i]}function yse(n,e){for(var t=0;t<n.length;t++)e.writeVarint(n[t])}function vse(n,e){for(var t=0;t<n.length;t++)e.writeSVarint(n[t])}function _se(n,e){for(var t=0;t<n.length;t++)e.writeFloat(n[t])}function Cse(n,e){for(var t=0;t<n.length;t++)e.writeDouble(n[t])}function bse(n,e){for(var t=0;t<n.length;t++)e.writeBoolean(n[t])}function xse(n,e){for(var t=0;t<n.length;t++)e.writeFixed32(n[t])}function wse(n,e){for(var t=0;t<n.length;t++)e.writeSFixed32(n[t])}function Mse(n,e){for(var t=0;t<n.length;t++)e.writeFixed64(n[t])}function Sse(n,e){for(var t=0;t<n.length;t++)e.writeSFixed64(n[t])}function x3(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+n[e+3]*16777216}function ey(n,e,t){n[t]=e,n[t+1]=e>>>8,n[t+2]=e>>>16,n[t+3]=e>>>24}function jK(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+(n[e+3]<<24)}function Ese(n,e,t){for(var r="",i=e;i<t;){var o=n[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>t)break;var f,m,C;a===1?o<128&&(s=o):a===2?(f=n[i+1],(f&192)===128&&(s=(o&31)<<6|f&63,s<=127&&(s=null))):a===3?(f=n[i+1],m=n[i+2],(f&192)===128&&(m&192)===128&&(s=(o&15)<<12|(f&63)<<6|m&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(f=n[i+1],m=n[i+2],C=n[i+3],(f&192)===128&&(m&192)===128&&(C&192)===128&&(s=(o&15)<<18|(f&63)<<12|(m&63)<<6|C&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function Ose(n,e,t){return hW.decode(n.subarray(e,t))}function Bse(n,e,t){for(var r=0,i,o;r<e.length;r++){if(i=e.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){n[t++]=239,n[t++]=191,n[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):o=i;continue}else o&&(n[t++]=239,n[t++]=191,n[t++]=189,o=null);i<128?n[t++]=i:(i<2048?n[t++]=i>>6|192:(i<65536?n[t++]=i>>12|224:(n[t++]=i>>18|240,n[t++]=i>>12&63|128),n[t++]=i>>6&63|128),n[t++]=i&63|128)}return t}const Ise=Da(hse);var zK=cd(),h1=function(){function n(e,t,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return n.prototype.get=function(e){return this.properties_[e]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?NN(this.flatCoordinates_):I7(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=R0(this.getExtent());this.flatInteriorPoints_=H7(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=AW(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=lW(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=bw(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,r=this.ends_,i=0,o=r.length;i<o;++i){var s=r[i],a=bw(e,t,s,2,.5);pp(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(e){return this},n.prototype.simplifyTransformed=function(e,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(e){e=Zs(e);var t=e.getExtent(),r=e.getWorldExtent();if(t&&r){var i=Wc(r)/Wc(t);mp(zK,r[0],r[3],i,-i,0,0,0),k0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,zK,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();h1.prototype.getEndss=h1.prototype.getEnds;h1.prototype.getFlatCoordinates=h1.prototype.getOrientedFlatCoordinates;var kse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tse=function(n){kse(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.dataProjection=new D7({code:"",units:sc.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:h1,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return e.prototype.readRawGeometry_=function(t,r,i,o){t.pos=r.geometry;for(var s=t.readVarint()+t.pos,a=1,f=0,m=0,C=0,k=0,I=0;t.pos<s;){if(!f){var K=t.readVarint();a=K&7,f=K>>3}f--,a===1||a===2?(m+=t.readSVarint(),C+=t.readSVarint(),a===1&&k>I&&(o.push(k),I=k),i.push(m,C),k+=2):a===7?k>I&&(i.push(i[I],i[I+1]),k+=2):bo(!1,59)}k>I&&(o.push(k),I=k)},e.prototype.createFeature_=function(t,r,i){var o=r.type;if(o===0)return null;var s,a=r.properties,f;this.idProperty_?(f=a[this.idProperty_],delete a[this.idProperty_]):f=r.id,a[this.layerName_]=r.layer.name;var m=[],C=[];this.readRawGeometry_(t,r,m,C);var k=Fse(o,C.length);if(this.featureClass_===h1)s=new this.featureClass_(k,m,C,a,f),s.transform(i.dataProjection);else{var I=void 0;if(k=="Polygon"){var K=Yae(m,C);I=K.length>1?new cW(m,Ya.XY,K):new Tv(m,Ya.XY,C)}else I=k==="Point"?new Ib(m,Ya.XY):k==="LineString"?new xw(m,Ya.XY):k==="MultiPoint"?new V7(m,Ya.XY):k==="MultiLineString"?new oW(m,Ya.XY,C):null;var L=this.featureClass_;s=new L,this.geometryName_&&s.setGeometryName(this.geometryName_);var q=z7(I,!1,i);s.setGeometry(q),f!==void 0&&s.setId(f),s.setProperties(a,!0)}return s},e.prototype.getType=function(){return"arraybuffer"},e.prototype.readFeatures=function(t,r){var i=this.layers_,o=this.adaptOptions(r),s=Zs(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var a=new Ise(t),f=a.readFields(Pse,{}),m=[];for(var C in f)if(!(i&&i.indexOf(C)==-1)){var k=f[C],I=k?[0,0,k.extent,k.extent]:null;s.setExtent(I);for(var K=0,L=k.length;K<L;++K){var q=Lse(a,k,K),X=this.createFeature_(a,q,o);X!==null&&m.push(X)}}return m},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(JN);function Pse(n,e,t){if(n===3){var r={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(Kse,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function Kse(n,e,t){if(n===15)e.version=t.readVarint();else if(n===1)e.name=t.readString();else if(n===5)e.extent=t.readVarint();else if(n===2)e.features.push(t.pos);else if(n===3)e.keys.push(t.readString());else if(n===4){for(var r=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,r=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;e.values.push(r)}}function Dse(n,e,t){if(n==1)e.id=t.readVarint();else if(n==2)for(var r=t.readVarint()+t.pos;t.pos<r;){var i=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[i]=o}else n==3?e.type=t.readVarint():n==4&&(e.geometry=t.pos)}function Lse(n,e,t){n.pos=e.features[t];var r=n.readVarint()+n.pos,i={layer:e,type:0,properties:{}};return n.readFields(Dse,i,r),i}function Fse(n,e){var t;return n===1?t=e===1?"Point":"MultiPoint":n===2?t=e===1?"LineString":"MultiLineString":n===3&&(t="Polygon"),t}var Rse=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Use=/^([a-z]*)$|^hsla?\(.*\)$/i;function dW(n){return typeof n=="string"?n:fW(n)}function jse(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var zse=function(){var n=1024,e={},t=0;return function(r){var i;if(e.hasOwnProperty(r))i=e[r];else{if(t>=n){var o=0;for(var s in e)o++&3||(delete e[s],--t)}i=Nse(r),e[r]=i,++t}return i}}();function ww(n){return Array.isArray(n)?n:zse(n)}function Nse(n){var e,t,r,i,o;if(Use.exec(n)&&(n=jse(n)),Rse.exec(n)){var s=n.length-1,a=void 0;s<=4?a=1:a=2;var f=s===4||s===8;e=parseInt(n.substr(1+0*a,a),16),t=parseInt(n.substr(1+1*a,a),16),r=parseInt(n.substr(1+2*a,a),16),f?i=parseInt(n.substr(1+3*a,a),16):i=255,a==1&&(e=(e<<4)+e,t=(t<<4)+t,r=(r<<4)+r,f&&(i=(i<<4)+i)),o=[e,t,r,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),NK(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),NK(o)):bo(!1,14);return o}function NK(n){return n[0]=eu(n[0]+.5|0,0,255),n[1]=eu(n[1]+.5|0,0,255),n[2]=eu(n[2]+.5|0,0,255),n[3]=eu(n[3],0,1),n}function fW(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+r+","+i+")"}var Wse=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];!(e++&3)&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,r){var i=WK(e,t,r);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(e,t,r,i){var o=WK(e,t,r);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function WK(n,e,t){var r=t?dW(t):"null";return e+":"+n+":"+r}var Mw=new Wse;const Ta={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var Gse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pW=function(n){Gse(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var i=Pl({},t);return typeof t.properties=="object"&&(delete i.properties,Pl(i,t.properties)),i[Ta.OPACITY]=t.opacity!==void 0?t.opacity:1,bo(typeof i[Ta.OPACITY]=="number",64),i[Ta.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Ta.Z_INDEX]=t.zIndex,i[Ta.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Ta.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Ta.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Ta.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return r.opacity=eu(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(t){return Mi()},e.prototype.getLayerStatesArray=function(t){return Mi()},e.prototype.getExtent=function(){return this.get(Ta.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Ta.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Ta.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(Ta.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(Ta.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(Ta.OPACITY)},e.prototype.getSourceState=function(){return Mi()},e.prototype.getVisible=function(){return this.get(Ta.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Ta.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(Ta.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Ta.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Ta.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(Ta.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(Ta.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){bo(typeof t=="number",64),this.set(Ta.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Ta.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Ta.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(_f);const T0={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Qse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hM=function(n){Qse(e,n);function e(t){var r=this,i=Pl({},t);delete i.source,r=n.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(Ta.SOURCE,r.handleSourcePropertyChange_);var o=t.source?t.source:null;return r.setSource(o),r}return e.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get(Ta.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ps(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Lo(t,Ni.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,r){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,r)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(Ta.MAP,t)},e.prototype.getMapInternal=function(){return this.get(Ta.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(ps(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(ps(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Lo(t,T0.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);bo(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=Lo(this,Ni.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ta.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(pW);function Sw(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var $se=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yse=function(n){$se(e,n);function e(t){var r=n.call(this)||this;return r.map_=t,r}return e.prototype.dispatchRenderEvent=function(t,r){Mi()},e.prototype.calculateMatrices2D=function(t){var r=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;mp(i,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),O7(o,i)},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s,a,f,m){var C,k=r.viewState;function I(we,pt,wt,ft){return s.call(a,pt,we?wt:null,ft)}var K=k.projection,L=F7(t.slice(),K),q=[[0,0]];if(K.canWrapX()&&o){var X=K.getExtent(),H=xs(X);q.push([-H,0],[H,0])}for(var G=r.layerStatesArray,ee=G.length,ne=[],se=[],Ae=0;Ae<q.length;Ae++)for(var V=ee-1;V>=0;--V){var re=G[V],be=re.layer;if(be.hasRenderer()&&Sw(re,k)&&f.call(m,be)){var _e=be.getRenderer(),Pe=be.getSource();if(_e&&Pe){var Ue=Pe.getWrapX()?L:t,pe=I.bind(null,re.managed);se[0]=Ue[0]+q[Ae][0],se[1]=Ue[1]+q[Ae][1],C=_e.forEachFeatureAtCoordinate(se,r,i,pe,ne)}if(C)return C}}if(ne.length!==0){var Ye=1/ne.length;return ne.forEach(function(we,pt){return we.distanceSq+=pt*Ye}),ne.sort(function(we,pt){return we.distanceSq-pt.distanceSq}),ne.some(function(we){return C=we.callback(we.feature,we.layer,we.geometry)}),C}},e.prototype.forEachLayerAtPixel=function(t,r,i,o,s){return Mi()},e.prototype.hasFeatureAtCoordinate=function(t,r,i,o,s,a){var f=this.forEachFeatureAtCoordinate(t,r,i,o,nv,this,s,a);return f!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Mi()},e.prototype.scheduleExpireIconCache=function(t){Mw.canExpireCache()&&t.postRenderFunctions.push(qse)},e}(M7);function qse(n,e){Mw.expire()}var Vse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mW=function(n){Vse(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return e}(bm),w3="ol-hidden",Hse="ol-selectable",dM="ol-unselectable",X7="ol-control",GK="ol-collapsed",Zse=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),QK=["style","variant","weight","size","lineHeight","family"],gW=function(n){var e=n.match(Zse);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=QK.length;r<i;++r){var o=e[r+1];o!==void 0&&(t[QK[r]]=o)}return t.families=t.family.split(/,\s?/),t};function Gc(n,e,t,r){var i;return t&&t.length?i=t.shift():sM?i=new OffscreenCanvas(n||300,e||300):i=document.createElement("canvas"),n&&(i.width=n),e&&(i.height=e),i.getContext("2d",r)}function J7(n){var e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function Xse(n){var e=n.offsetWidth,t=getComputedStyle(n);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function Jse(n){var e=n.offsetHeight,t=getComputedStyle(n);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function $K(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function Ew(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function yW(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function ele(n,e){for(var t=n.childNodes,r=0;;++r){var i=t[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){n.appendChild(o);continue}if(!o){n.removeChild(i),--r;continue}n.insertBefore(o,i)}}}var vW="10px sans-serif",hm="#000",Ow="round",kb=[],Tb=0,Pv="round",Pb=10,Kb="#000",Db="center",Bw="middle",jg=[0,0,0,0],Lb=1,Jp=new _f,GB=new Hv;GB.setSize=function(){console.warn("labelCache is deprecated.")};var my=null,QB,$B={},tle=function(){var n=100,e="32px ",t=["monospace","serif"],r=t.length,i="wmytzilWMYTZIL@#/&?$%10",o,s;function a(m,C,k){for(var I=!0,K=0;K<r;++K){var L=t[K];if(s=Iw(m+" "+C+" "+e+L,i),k!=L){var q=Iw(m+" "+C+" "+e+k+","+L,i);I=I&&q!=s}}return!!I}function f(){for(var m=!0,C=Jp.getKeys(),k=0,I=C.length;k<I;++k){var K=C[k];Jp.get(K)<n&&(a.apply(this,K.split(`
`))?(a2($B),my=null,QB=void 0,Jp.set(K,n)):(Jp.set(K,Jp.get(K)+1,!0),m=!1))}m&&(clearInterval(o),o=void 0)}return function(m){var C=gW(m);if(C)for(var k=C.families,I=0,K=k.length;I<K;++I){var L=k[I],q=C.style+`
`+C.weight+`
`+L;Jp.get(q)===void 0&&(Jp.set(q,n,!0),a(C.style,C.weight,L)||(Jp.set(q,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),nle=function(){var n;return function(e){var t=$B[e];if(t==null){if(sM){var r=gW(e),i=_W(e,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);$B[e]=t}return t}}();function _W(n,e){return my||(my=Gc(1,1)),n!=QB&&(my.font=n,QB=my.font),my.measureText(e)}function Iw(n,e){return _W(n,e).width}function YK(n,e,t){if(e in t)return t[e];var r=e.split(`
`).reduce(function(i,o){return Math.max(i,Iw(n,o))},0);return t[e]=r,r}function rle(n,e){for(var t=[],r=[],i=[],o=0,s=0,a=0,f=0,m=0,C=e.length;m<=C;m+=2){var k=e[m];if(k===`
`||m===C){o=Math.max(o,s),i.push(s),s=0,a+=f;continue}var I=e[m+1]||n.font,K=Iw(I,k);t.push(K),s+=K;var L=nle(I);r.push(L),f=Math.max(f,L)}return{width:o,height:a,widths:t,heights:r,lineWidths:i}}function ile(n,e,t,r,i,o,s,a,f,m,C){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),r.contextInstructions?(n.translate(f,m),n.scale(C[0],C[1]),ole(r,n)):C[0]<0||C[1]<0?(n.translate(f,m),n.scale(C[0],C[1]),n.drawImage(r,i,o,s,a,0,0,s,a)):n.drawImage(r,i,o,s,a,f,m,s*C[0],a*C[1]),n.restore()}function ole(n,e){for(var t=n.contextInstructions,r=0,i=t.length;r<i;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var ale=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sle=function(n){ale(e,n);function e(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=Lo(Jp,Iv.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=dM+" ol-layers";var o=t.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return e.prototype.dispatchRenderEvent=function(t,r){var i=this.getMap();if(i.hasListener(t)){var o=new mW(t,void 0,r);i.dispatchEvent(o)}},e.prototype.disposeInternal=function(){ps(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(T0.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(K,L){return K.zIndex-L.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],s=null,a=0,f=r.length;a<f;++a){var m=r[a];t.layerIndex=a;var C=m.layer,k=C.getSourceState();if(!Sw(m,i)||k!="ready"&&k!="undefined"){C.unrender();continue}var I=C.render(t,s);I&&(I!==s&&(this.children_.push(I),s=I),"getDeclutter"in C&&o.push(C))}for(var a=o.length-1;a>=0;--a)o[a].renderDeclutter(t);ele(this.element_,this.children_),this.dispatchRenderEvent(T0.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,r,i,o,s){for(var a=r.viewState,f=r.layerStatesArray,m=f.length,C=m-1;C>=0;--C){var k=f[C],I=k.layer;if(I.hasRenderer()&&Sw(k,a)&&s(I)){var K=I.getRenderer(),L=K.getDataAtPixel(t,r,i);if(L){var q=o(I,L);if(q)return q}}}},e}(Yse);const Rc={ADD:"add",REMOVE:"remove"};var CW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qK={LENGTH:"length"},M3=function(n){CW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.element=r,o.index=i,o}return e}(bm),ld=function(n){CW(e,n);function e(t,r){var i=n.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var r=0,i=t.length;r<i;++r)this.push(t[r]);return this},e.prototype.forEach=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)t(r[i],i,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(qK.LENGTH)},e.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new M3(Rc.ADD,r,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},e.prototype.remove=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new M3(Rc.REMOVE,r,t)),r},e.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var o=this.array_[t];this.array_[t]=r,this.dispatchEvent(new M3(Rc.REMOVE,o,t)),this.dispatchEvent(new M3(Rc.ADD,r,t))}else{for(var s=i;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},e.prototype.updateLength_=function(){this.set(qK.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==r)throw new LN(58)},e}(_f),bW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),o0=function(n){bW(e,n);function e(t,r){var i=n.call(this,t)||this;return i.layer=r,i}return e}(bm),YE={LAYERS:"layers"},fM=function(n){bW(e,n);function e(t){var r=this,i=t||{},o=Pl({},i);delete o.layers;var s=i.layers;return r=n.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(YE.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new ld(s.slice(),{unique:!0}):bo(typeof s.getArray=="function",43):s=new ld(void 0,{unique:!0}),r.setLayers(s),r}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ps),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Lo(t,Rc.ADD,this.handleLayersAdd_,this),Lo(t,Rc.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(ps);a2(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.registerLayerListeners_(a),this.dispatchEvent(new o0("addlayer",a))}this.changed()},e.prototype.registerLayerListeners_=function(t){var r=[Lo(t,Iv.PROPERTYCHANGE,this.handleLayerChange_,this),Lo(t,Ni.CHANGE,this.handleLayerChange_,this)];t instanceof e&&r.push(Lo(t,"addlayer",this.handleLayerGroupAdd_,this),Lo(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Hi(t)]=r},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new o0("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new o0("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new o0("addlayer",r)),this.changed()},e.prototype.handleLayersRemove_=function(t){var r=t.element,i=Hi(r);this.listenerKeys_[i].forEach(ps),delete this.listenerKeys_[i],this.dispatchEvent(new o0("removelayer",r)),this.changed()},e.prototype.getLayers=function(){return this.get(YE.LAYERS)},e.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new o0("removelayer",i[o]));this.set(YE.LAYERS,t)},e.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],i=r.length;this.getLayers().forEach(function(C){C.getLayerStatesArray(r)});var o=this.getLayerState(),s=o.zIndex;!t&&o.zIndex===void 0&&(s=0);for(var a=i,f=r.length;a<f;a++){var m=r[a];m.opacity*=o.opacity,m.visible=m.visible&&o.visible,m.maxResolution=Math.min(m.maxResolution,o.maxResolution),m.minResolution=Math.max(m.minResolution,o.minResolution),m.minZoom=Math.max(m.minZoom,o.minZoom),m.maxZoom=Math.min(m.maxZoom,o.maxZoom),o.extent!==void 0&&(m.extent!==void 0?m.extent=Vg(m.extent,o.extent):m.extent=o.extent),m.zIndex===void 0&&(m.zIndex=s)}return r},e.prototype.getSourceState=function(){return"ready"},e}(pW),lle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gy=function(n){lle(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return e}(bm),ule=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t0=function(n){ule(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,s)||this;return f.originalEvent=i,f.pixel_=null,f.coordinate_=null,f.dragging=o!==void 0?o:!1,f.activePointers=a,f}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(gy);const fl={SINGLECLICK:"singleclick",CLICK:Ni.CLICK,DBLCLICK:Ni.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},YB={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Ale=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cle=function(n){Ale(e,n);function e(t,r){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Lo(o,YB.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Lo(o,YB.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Ni.TOUCHMOVE,i.boundHandleTouchMove_,RN?{passive:!1}:!1),i}return e.prototype.emulateClick_=function(t){var r=new t0(fl.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new t0(fl.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new t0(fl.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var r=t,i=r.pointerId;if(r.type==fl.POINTERUP||r.type==fl.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==fl.POINTERDOWN||r.type==fl.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=KN(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new t0(fl.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ps),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);var r=new t0(fl.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?A1:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Lo(s,fl.POINTERMOVE,this.handlePointerMove_,this),Lo(s,fl.POINTERUP,this.handlePointerUp_,this),Lo(this.element_,fl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Lo(this.element_.getRootNode(),fl.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var r=new t0(fl.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new t0(fl.POINTERMOVE,this.map_,t,r))},e.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ps(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ni.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ps(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ps),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(Hv);const tm={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},BA={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var kw=1/0,hle=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,a2(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},n.prototype.enqueue=function(e){bo(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=kw?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,i=t.length,o=t[e],s=r[e],a=e;e<i>>1;){var f=this.getLeftChildIndex_(e),m=this.getRightChildIndex_(e),C=m<i&&r[m]<r[f]?m:f;t[e]=t[C],r[e]=r[C],e=C}t[e]=o,r[e]=s,this.siftDown_(a,e)},n.prototype.siftDown_=function(e,t){for(var r=this.elements_,i=this.priorities_,o=r[t],s=i[t];t>e;){var a=this.getParentIndex_(t);if(i[a]>s)r[t]=r[a],i[t]=i[a],t=a;else break}r[t]=o,i[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,i=0,o=t.length,s,a,f;for(a=0;a<o;++a)s=t[a],f=e(s),f==kw?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=f,t[i++]=s);t.length=i,r.length=i,this.heapify_()},n}();const wr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var dle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fle=function(n){dle(e,n);function e(t,r){var i=n.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return e.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var i=t[0];i.addEventListener(Ni.CHANGE,this.boundHandleTileChange_)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var r=t.target,i=r.getState();if(i===wr.LOADED||i===wr.ERROR||i===wr.EMPTY){r.removeEventListener(Ni.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,r){for(var i=0,o,s,a;this.tilesLoading_<t&&i<r&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),o=s.getState(),o===wr.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},e}(hle);function ple(n,e,t,r,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return kw;var o=n.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}const ml={ANIMATING:0,INTERACTING:1},rf={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var xW=42,ek=256;function VK(n,e,t){return function(r,i,o,s,a){if(r){if(!i&&!e)return r;var f=e?0:o[0]*i,m=e?0:o[1]*i,C=a?a[0]:0,k=a?a[1]:0,I=n[0]+f/2+C,K=n[2]-f/2+C,L=n[1]+m/2+k,q=n[3]-m/2+k;I>K&&(I=(K+I)/2,K=I),L>q&&(L=(q+L)/2,q=L);var X=eu(r[0],I,K),H=eu(r[1],L,q);if(s&&t&&i){var G=30*i;X+=-G*Math.log(1+Math.max(0,I-r[0])/G)+G*Math.log(1+Math.max(0,r[0]-K)/G),H+=-G*Math.log(1+Math.max(0,L-r[1])/G)+G*Math.log(1+Math.max(0,r[1]-q)/G)}return[X,H]}}}function mle(n){return n}function tk(n,e,t,r){var i=xs(e)/t[0],o=Wc(e)/t[1];return r?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function nk(n,e,t){var r=Math.min(n,e),i=50;return r*=Math.log(1+i*Math.max(0,n/e-1))/i+1,t&&(r=Math.max(r,t),r/=Math.log(1+i*Math.max(0,t/n-1))/i+1),eu(r,t/2,e*2)}function gle(n,e,t,r){return function(i,o,s,a){if(i!==void 0){var f=n[0],m=n[n.length-1],C=t?tk(f,t,s,r):f;if(a){var k=e!==void 0?e:!0;return k?nk(i,C,m):eu(i,m,C)}var I=Math.min(C,i),K=Math.floor(S7(n,I,o));return n[K]>C&&K<n.length-1?n[K+1]:n[K]}else return}}function yle(n,e,t,r,i,o){return function(s,a,f,m){if(s!==void 0){var C=i?tk(e,i,f,o):e,k=t!==void 0?t:0;if(m){var I=r!==void 0?r:!0;return I?nk(s,C,k):eu(s,k,C)}var K=1e-9,L=Math.ceil(Math.log(e/C)/Math.log(n)-K),q=-a*(.5-K)+.5,X=Math.min(C,s),H=Math.floor(Math.log(e/X)/Math.log(n)+q),G=Math.max(L,H),ee=e/Math.pow(n,G);return eu(ee,k,C)}else return}}function HK(n,e,t,r,i){return function(o,s,a,f){if(o!==void 0){var m=r?tk(n,r,a,i):n,C=t!==void 0?t:!0;return!C||!f?eu(o,e,m):nk(o,m,e)}else return}}function rk(n){if(n!==void 0)return 0}function ZK(n){if(n!==void 0)return n}function vle(n){var e=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function _le(n){var e=p4(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function wW(n){return Math.pow(n,3)}function Zv(n){return 1-wW(1-n)}function Cle(n){return 3*n*n-2*n*n*n}function ble(n){return n}var xle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qE=0,am=function(n){xle(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=Pl({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=U7(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&qN(),i.center&&(i.center=Xp(i.center,r.projection_)),i.extent&&(i.extent=Rg(i.extent,r.projection_)),r.applyOptions_(i),r}return e.prototype.applyOptions_=function(t){var r=Pl({},t);for(var i in rf)delete r[i];this.setProperties(r,!0);var o=Mle(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var s=wle(t),a=o.constraint,f=Sle(t);this.constraints_={center:s,resolution:a,rotation:f},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),a=s/2*(o[3]-r[3]+r[1]-o[1]),f=s/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+a,i[1]-f])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Pl({},r,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=Pl({},o),o.center=Xp(o.center,this.getProjection())),o.anchor&&(o=Pl({},o),o.anchor=Xp(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(t){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===r){i&&S3(i,!0);return}for(var a=Date.now(),f=this.targetCenter_.slice(),m=this.targetResolution_,C=this.targetRotation_,k=[];o<r;++o){var I=arguments[o],K={start:a,complete:!1,anchor:I.anchor,duration:I.duration!==void 0?I.duration:1e3,easing:I.easing||Cle,callback:i};if(I.center&&(K.sourceCenter=f,K.targetCenter=I.center.slice(),f=K.targetCenter),I.zoom!==void 0?(K.sourceResolution=m,K.targetResolution=this.getResolutionForZoom(I.zoom),m=K.targetResolution):I.resolution&&(K.sourceResolution=m,K.targetResolution=I.resolution,m=K.targetResolution),I.rotation!==void 0){K.sourceRotation=C;var L=Zg(I.rotation-C+Math.PI,2*Math.PI)-Math.PI;K.targetRotation=C+L,C=K.targetRotation}Ele(K)?K.complete=!0:a+=K.duration,k.push(K)}this.animations_.push(k),this.setHint(ml.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[ml.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[ml.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(ml.ANIMATING,-this.hints_[ml.ANIMATING]);for(var t,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&S3(o[0].callback,!1),!t)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(!f.complete){t=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,f=o.length;a<f;++a){var m=o[a];if(!m.complete){var C=t-m.start,k=m.duration>0?C/m.duration:1;k>=1?(m.complete=!0,k=1):s=!1;var I=m.easing(k);if(m.sourceCenter){var K=m.sourceCenter[0],L=m.sourceCenter[1],q=m.targetCenter[0],X=m.targetCenter[1];this.nextCenter_=m.targetCenter;var H=K+I*(q-K),G=L+I*(X-L);this.targetCenter_=[H,G]}if(m.sourceResolution&&m.targetResolution){var ee=I===1?m.targetResolution:m.sourceResolution+I*(m.targetResolution-m.sourceResolution);if(m.anchor){var ne=this.getViewportSize_(this.getRotation()),se=this.constraints_.resolution(ee,0,ne,!0);this.targetCenter_=this.calculateCenterZoom(se,m.anchor)}this.nextResolution_=m.targetResolution,this.targetResolution_=ee,this.applyTargetState_(!0)}if(m.sourceRotation!==void 0&&m.targetRotation!==void 0){var Ae=I===1?Zg(m.targetRotation+Math.PI,2*Math.PI)-Math.PI:m.sourceRotation+I*(m.targetRotation-m.sourceRotation);if(m.anchor){var V=this.constraints_.rotation(Ae,!0);this.targetCenter_=this.calculateCenterRotate(V,m.anchor)}this.nextRotation_=m.targetRotation,this.targetRotation_=Ae}if(this.applyTargetState_(!0),r=!0,!m.complete)break}}if(s){this.animations_[i]=null,this.setHint(ml.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var re=o[0].callback;re&&S3(re,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],L7(i,t-this.getRotation()),sae(i,r)),i},e.prototype.calculateCenterZoom=function(t,r){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var a=r[0]-t*(r[0]-o[0])/s,f=r[1]-t*(r[1]-o[1])/s;i=[a,f]}return i},e.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return r},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&FB(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(rf.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return HN(r,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();bo(i,1);var o=this.getResolution();bo(o!==void 0,2);var s=this.getRotation();return bo(s!==void 0,3),TB(i,o,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(rf.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(Rg(t,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(t,r){var i=r||this.getViewportSizeMinusPadding_(),o=xs(t)/i[0],s=Wc(t)/i[1];return Math.max(o,s)},e.prototype.getResolutionForValueFunction=function(t){var r=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(r);return function(a){var f=i/Math.pow(r,a*s);return f}},e.prototype.getRotation=function(){return this.get(rf.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/r;return function(a){var f=Math.log(i/a)/r/s;return f}},e.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},e.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var a=this.getViewportSizeMinusPadding_();o=VE(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},e.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,i,o;if(this.resolutions_){var s=S7(this.resolutions_,t,1);r=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/t)/Math.log(o)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=eu(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,eu(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,r){var i;if(bo(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){bo(!K7(t),25);var o=Rg(t,this.getProjection());i=FK(o)}else if(t.getType()==="Circle"){var o=Rg(t.getExtent(),this.getProjection());i=FK(o),i.rotate(this.getRotation(),R0(o))}else{var s=pae();s?i=t.clone().transform(s,this.getProjection()):i=t}this.fitInternal(i,r)},e.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),s=t.getFlatCoordinates(),a=t.getStride(),f=1/0,m=1/0,C=-1/0,k=-1/0,I=0,K=s.length;I<K;I+=a){var L=s[I]*i-s[I+1]*o,q=s[I]*o+s[I+1]*i;f=Math.min(f,L),m=Math.min(m,q),C=Math.max(C,L),k=Math.max(k,q)}return[f,m,C,k]},e.prototype.fitInternal=function(t,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],a=i.nearest!==void 0?i.nearest:!1,f;i.minResolution!==void 0?f=i.minResolution:i.maxZoom!==void 0?f=this.getResolutionForZoom(i.maxZoom):f=0;var m=this.rotatedExtentForGeometry(t),C=this.getResolutionForExtentInternal(m,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);C=isNaN(C)?f:Math.max(C,f),C=this.getConstrainedResolution(C,a?0:1);var k=this.getRotation(),I=Math.sin(k),K=Math.cos(k),L=R0(m);L[0]+=(s[1]-s[3])/2*C,L[1]+=(s[0]-s[2])/2*C;var q=L[0]*K-L[1]*I,X=L[1]*K+L[0]*I,H=this.getConstrainedCenter([q,X],C),G=i.callback?i.callback:A1;i.duration!==void 0?this.animateInternal({resolution:C,center:H,duration:i.duration,easing:i.easing},G):(this.targetResolution_=C,this.targetCenter_=H,this.applyTargetState_(!1,!0),S3(G,!0))},e.prototype.centerOn=function(t,r,i){this.centerOnInternal(Xp(t,this.getProjection()),r,i)},e.prototype.centerOnInternal=function(t,r,i){this.setCenterInternal(VE(t,r,i,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,r,i,o){var s,a=this.padding_;if(a&&t){var f=this.getViewportSizeMinusPadding_(-i),m=VE(t,o,[f[0]/2+a[3],f[1]/2+a[0]],r,i);s=[t[0]-m[0],t[1]-m[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var r=FB(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustResolution=function(t,r){var i=r&&Xp(r,this.getProjection());this.adjustResolutionInternal(t,i)},e.prototype.adjustResolutionInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},e.prototype.adjustRotation=function(t,r){r&&(r=Xp(r,this.getProjection())),this.adjustRotationInternal(t,r)},e.prototype.adjustRotationInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&Xp(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),f=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get(rf.ROTATION)!==o&&this.set(rf.ROTATION,o),this.get(rf.RESOLUTION)!==a&&(this.set(rf.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(rf.CENTER)||!_w(this.get(rf.CENTER),f))&&this.set(rf.CENTER,f),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,r,i){var o=t!==void 0?t:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(a),m=this.constraints_.resolution(this.targetResolution_,s,f),C=this.constraints_.center(this.targetCenter_,m,f,!1,this.calculateCenterShift(this.targetCenter_,m,a,f));if(o===0&&!this.cancelAnchor_){this.targetResolution_=m,this.targetRotation_=a,this.targetCenter_=C,this.applyTargetState_();return}var k=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==m||this.getRotation()!==a||!this.getCenterInternal()||!_w(this.getCenterInternal(),C))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:C,resolution:m,duration:o,easing:Zv,anchor:k}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ml.INTERACTING,1)},e.prototype.endInteraction=function(t,r,i){var o=i&&Xp(i,this.getProjection());this.endInteractionInternal(t,r,o)},e.prototype.endInteractionInternal=function(t,r,i){this.setHint(ml.INTERACTING,-1),this.resolveConstraints(t,r,i)},e.prototype.getConstrainedCenter=function(t,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),i)},e.prototype.getConstrainedZoom=function(t,r){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},e.prototype.getConstrainedResolution=function(t,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},e}(_f);function S3(n,e){setTimeout(function(){n(e)},0)}function wle(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return VK(n.extent,n.constrainOnlyCenter,e)}var t=U7(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,VK(r,!1,!1)}return mle}function Mle(n){var e,t,r,i=28,o=2,s=n.minZoom!==void 0?n.minZoom:qE,a=n.maxZoom!==void 0?n.maxZoom:i,f=n.zoomFactor!==void 0?n.zoomFactor:o,m=n.multiWorld!==void 0?n.multiWorld:!1,C=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,k=n.showFullExtent!==void 0?n.showFullExtent:!1,I=U7(n.projection,"EPSG:3857"),K=I.getExtent(),L=n.constrainOnlyCenter,q=n.extent;if(!m&&!q&&I.isGlobal()&&(L=!1,q=K),n.resolutions!==void 0){var X=n.resolutions;t=X[s],r=X[a]!==void 0?X[a]:X[X.length-1],n.constrainResolution?e=gle(X,C,!L&&q,k):e=HK(t,r,C,!L&&q,k)}else{var H=K?Math.max(xs(K),Wc(K)):360*W0[sc.DEGREES]/I.getMetersPerUnit(),G=H/ek/Math.pow(o,qE),ee=G/Math.pow(o,i-qE);t=n.maxResolution,t!==void 0?s=0:t=G/Math.pow(f,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(f,a):r=G/Math.pow(f,a):r=ee),a=s+Math.floor(Math.log(t/r)/Math.log(f)),r=t/Math.pow(f,a-s),n.constrainResolution?e=yle(f,t,r,C,!L&&q,k):e=HK(t,r,C,!L&&q,k)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:f}}function Sle(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?_le():t===!1?ZK:typeof t=="number"?vle(t):ZK}else return rk}function Ele(n){return!(n.sourceCenter&&n.targetCenter&&!_w(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function VE(n,e,t,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=n[0]*o-n[1]*s,f=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*r,f+=(t[1]-e[1]/2)*r,s=-s;var m=a*o-f*s,C=f*o+a*s;return[m,C]}function XK(n){return n[0]>0&&n[1]>0}function Ole(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function rc(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var Ble=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function MW(n){if(n instanceof hM){n.setMapInternal(null);return}n instanceof fM&&n.getLayers().forEach(MW)}function SW(n,e){if(n instanceof hM){n.setMapInternal(e);return}if(n instanceof fM)for(var t=n.getLayers().getArray(),r=0,i=t.length;r<i;++r)SW(t[r],e)}var Ile=function(n){Ble(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=kle(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:FN,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=cd(),r.pixelToCoordinateTransform_=cd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new ld,r.interactions=i.interactions||new ld,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new fle(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(BA.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(BA.VIEW,r.handleViewChanged_),r.addChangeListener(BA.SIZE,r.handleSizeChanged_),r.addChangeListener(BA.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return t.view&&!(t.view instanceof am)&&t.view.then(function(s){o.setView(new am(s))}),r.controls.addEventListener(Rc.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(Rc.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(Rc.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(Rc.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(Rc.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(Rc.REMOVE,(function(s){var a=s.element,f=a.getId();f!==void 0&&delete this.overlayIdIndex_[f.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},e.prototype.handleLayerAdd_=function(t){SW(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:nv,f=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,f,r,null,a,null)}},e.prototype.getFeaturesAtPixel=function(t,r){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},r),i},e.prototype.getAllLayers=function(){var t=[];function r(i){i.forEach(function(o){o instanceof fM?r(o.getLayers()):t.push(o)})}return r(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,a=o.layerFilter||nv;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,a)}},e.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:nv,s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-r.left,i.clientY-r.top]},e.prototype.getTarget=function(){return this.get(BA.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return FB(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Il(r.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(BA.LAYERGROUP)},e.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof ld){r.setLayers(t);return}var i=r.getLayers();i.clear(),i.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r];if(o.visible){var s=o.layer.getRenderer();if(s&&!s.ready)return!0;var a=o.layer.getSource();if(a&&a.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var r=Xp(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Il(r.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(BA.SIZE)},e.prototype.getView=function(){return this.get(BA.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,r,i,o){return ple(this.frameState_,t,r,i,o)},e.prototype.handleBrowserEvent=function(t,r){var i=r||t.type,o=new t0(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var r=t.originalEvent,i=r.type;if(i===YB.POINTERDOWN||i===Ni.WHEEL||i===Ni.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var f=this.getInteractions().getArray().slice(),m=f.length-1;m>=0;m--){var C=f[m];if(!(C.getMap()!==this||!C.getActive()||!this.getTargetElement())){var k=C.handleEvent(t);if(!k||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var s=t.viewHints;if(s[ml.ANIMATING]||s[ml.INTERACTING]){var a=Date.now()-t.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(T0.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(T0.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new gy(tm.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new gy(tm.LOADSTART,this,t))));for(var f=this.postRenderFunctions_,m=0,C=f.length;m<C;++m)f[m](this,t);f.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)ps(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ni.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ni.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Ew(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new cle(this,this.moveTolerance_);for(var o in fl)this.mapBrowserEventHandler_.addEventListener(fl[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ni.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ni.WHEEL,this.boundHandleBrowserEvent_,RN?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Lo(a,Ni.KEYDOWN,this.handleBrowserEvent,this),Lo(a,Ni.KEYPRESS,this.handleBrowserEvent,this),Lo(s,Ni.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ps(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ps(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Lo(t,Iv.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Lo(t,Ni.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ps),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new o0("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Lo(t,Iv.PROPERTYCHANGE,this.render,this),Lo(t,Ni.CHANGE,this.render,this),Lo(t,"addlayer",this.handleLayerAdd_,this),Lo(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},e.prototype.handleLayerRemove_=function(t){MW(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(i!==void 0&&XK(i)&&o&&o.isDef()){var f=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),m=o.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:TB(m.center,m.resolution,m.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:m,viewHints:f,wantedTiles:{},mapId:Hi(this),renderTargets:{}},m.nextCenter&&m.nextResolution){var C=isNaN(m.nextRotation)?m.rotation:m.nextRotation;a.nextExtent=TB(m.nextCenter,m.nextResolution,C,i)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var k=!this.previousExtent_||!K7(this.previousExtent_)&&!kv(a.extent,this.previousExtent_);k&&(this.dispatchEvent(new gy(tm.MOVESTART,this,s)),this.previousExtent_=u2(this.previousExtent_))}var I=this.previousExtent_&&!a.viewHints[ml.ANIMATING]&&!a.viewHints[ml.INTERACTING]&&!kv(a.extent,this.previousExtent_);I&&(this.dispatchEvent(new gy(tm.MOVEEND,this,a)),zN(a.extent,this.previousExtent_))}this.dispatchEvent(new gy(tm.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(tm.LOADSTART)||this.hasListener(tm.LOADEND)||this.hasListener(T0.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new o0("removelayer",r)),this.set(BA.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(BA.SIZE,t)},e.prototype.setTarget=function(t){this.set(BA.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof am){this.set(BA.VIEW,t);return}this.set(BA.VIEW,new am);var r=this;t.then(function(i){r.setView(new am(i))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(r=[o,s],!XK(r)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(r)}},e}(_f);function kle(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new fM({layers:n.layers});t[BA.LAYERGROUP]=r,t[BA.TARGET]=n.target,t[BA.VIEW]=n.view instanceof am?n.view:new am;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new ld(n.controls.slice()):(bo(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new ld(n.interactions.slice()):(bo(typeof n.interactions.getArray=="function",48),o=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new ld(n.overlays.slice()):(bo(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new ld,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var Tle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ik=function(n){Tle(e,n);function e(t){var r=n.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return e.prototype.disposeInternal=function(){Ew(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ew(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)ps(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==A1&&this.listenerKeys.push(Lo(t,tm.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(_f),Ple=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kle=function(n){Ple(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",a=i.expandClassName!==void 0?i.expandClassName:o+"-expand",f=i.collapseLabel!==void 0?i.collapseLabel:"",m=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof f=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=f,r.collapseLabel_.className=m):r.collapseLabel_=f;var C=i.label!==void 0?i.label:"i";typeof C=="string"?(r.label_=document.createElement("span"),r.label_.textContent=C,r.label_.className=a):r.label_=C;var k=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(k),r.toggleButton_.addEventListener(Ni.CLICK,r.handleClick_.bind(r),!1);var I=o+" "+dM+" "+X7+(r.collapsed_&&r.collapsible_?" "+GK:"")+(r.collapsible_?"":" ol-uncollapsible"),K=r.element;return K.className=I,K.appendChild(r.toggleButton_),K.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return e.prototype.collectSourceAttributions_=function(t){for(var r={},i=[],o=!0,s=t.layerStatesArray,a=0,f=s.length;a<f;++a){var m=s[a];if(Sw(m,t.viewState)){var C=m.layer.getSource();if(C){var k=C.getAttributions();if(k){var I=k(t);if(I)if(o=o&&C.getAttributionsCollapsible()!==!1,Array.isArray(I))for(var K=0,L=I.length;K<L;++K)I[K]in r||(i.push(I[K]),r[I[K]]=!0);else I in r||(i.push(I),r[I]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!C1(r,this.renderedAttributions_)){yW(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(GK),this.collapsed_?$K(this.collapseLabel_,this.label_):$K(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(ik),Dle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lle=function(n){Dle(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"",a=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var f=i.tipLabel?i.tipLabel:"Reset rotation",m=document.createElement("button");m.className=o+"-reset",m.setAttribute("type","button"),m.title=f,m.appendChild(r.label_),m.addEventListener(Ni.CLICK,r.handleClick_.bind(r),!1);var C=o+" "+dM+" "+X7,k=r.element;return k.className=C,k.appendChild(m),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(w3),r}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Zv}):r.setRotation(0))}},e.prototype.render=function(t){var r=t.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(w3);!s&&i===0?this.element.classList.add(w3):s&&i!==0&&this.element.classList.remove(w3)}this.label_.style.transform=o}this.rotation_=i}},e}(ik),Fle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rle=function(n){Fle(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,a=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",f=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",m=i.zoomInLabel!==void 0?i.zoomInLabel:"+",C=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",k=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",I=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",K=document.createElement("button");K.className=a,K.setAttribute("type","button"),K.title=k,K.appendChild(typeof m=="string"?document.createTextNode(m):m),K.addEventListener(Ni.CLICK,r.handleClick_.bind(r,s),!1);var L=document.createElement("button");L.className=f,L.setAttribute("type","button"),L.title=I,L.appendChild(typeof C=="string"?document.createTextNode(C):C),L.addEventListener(Ni.CLICK,r.handleClick_.bind(r,-s),!1);var q=o+" "+dM+" "+X7,X=r.element;return X.className=q,X.appendChild(K),X.appendChild(L),r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Zv})):i.setZoom(s)}}},e}(ik),Ule=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OA={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},jle=function(n){Ule(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.options=t,r.id=t.id,r.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,r.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,r.element=document.createElement("div"),r.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Hse,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(OA.ELEMENT,r.handleElementChanged),r.addChangeListener(OA.MAP,r.handleMapChanged),r.addChangeListener(OA.OFFSET,r.handleOffsetChanged),r.addChangeListener(OA.POSITION,r.handlePositionChanged),r.addChangeListener(OA.POSITIONING,r.handlePositioningChanged),t.element!==void 0&&r.setElement(t.element),r.setOffset(t.offset!==void 0?t.offset:[0,0]),r.setPositioning(t.positioning||"top-left"),t.position!==void 0&&r.setPosition(t.position),r}return e.prototype.getElement=function(){return this.get(OA.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(OA.MAP)||null},e.prototype.getOffset=function(){return this.get(OA.OFFSET)},e.prototype.getPosition=function(){return this.get(OA.POSITION)},e.prototype.getPositioning=function(){return this.get(OA.POSITIONING)},e.prototype.handleElementChanged=function(){yW(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Ew(this.element),ps(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Lo(t,tm.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(OA.ELEMENT,t)},e.prototype.setMap=function(t){this.set(OA.MAP,t)},e.prototype.setOffset=function(t){this.set(OA.OFFSET,t)},e.prototype.setPosition=function(t){this.set(OA.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(OA.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),s=this.getRect(o,[Xse(o),Jse(o)]),a=t||{},f=a.margin===void 0?20:a.margin;if(!d0(i,s)){var m=s[0]-i[0],C=i[2]-s[2],k=s[1]-i[1],I=i[3]-s[3],K=[0,0];if(m<0?K[0]=m-f:C<0&&(K[0]=Math.abs(C)+f),k<0?K[1]=k-f:I<0&&(K[1]=Math.abs(I)+f),K[0]!==0||K[1]!==0){var L=r.getView().getCenterInternal(),q=r.getPixelFromCoordinateInternal(L);if(!q)return;var X=[q[0]+K[0],q[1]+K[1]],H=a.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(X),duration:H.duration,easing:H.easing})}}}},e.prototype.getRect=function(t,r){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+r[0],s+r[1]]},e.prototype.setPositioning=function(t){this.set(OA.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),r=this.getPosition();if(!t||!t.isRendered()||!r){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(r),o=t.getSize();this.updateRenderedPosition(i,o)},e.prototype.updateRenderedPosition=function(t,r){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+o[0])+"px",f=Math.round(t[1]+o[1])+"px",m="0%",C="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?m="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(m="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?C="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(C="-50%");var k="translate(".concat(m,", ").concat(C,") translate(").concat(a,", ").concat(f,")");this.rendered.transform_!=k&&(this.rendered.transform_=k,i.transform=k,i.msTransform=k)},e.prototype.getOptions=function(){return this.options},e}(_f);function zle(n){var e={},t=new ld,r=e.zoom!==void 0?e.zoom:!0;r&&t.push(new Rle(e.zoomOptions));var i=e.rotate!==void 0?e.rotate:!0;i&&t.push(new Lle(e.rotateOptions));var o=e.attribution!==void 0?e.attribution:!0;return o&&t.push(new Kle(e.attributionOptions)),t}const JK={ACTIVE:"active"};var Nle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c2=function(n){Nle(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return e.prototype.getActive=function(){return this.get(JK.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(JK.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(_f);function Wle(n,e,t){var r=n.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:ble,center:n.getConstrainedCenter(i)})}}function ok(n,e,t,r){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Zv})}}var Gle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qle=function(n){Gle(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==fl.DBLCLICK){var i=t.originalEvent,o=t.map,s=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,f=o.getView();ok(f,a,s,this.duration_),i.preventDefault(),r=!0}return!r},e}(c2),$le=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h2=function(n){$le(e,n);function e(t){var r=this,i=t||{};return r=n.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==fl.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==fl.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==fl.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,r=this.stopDown(o)}else t.type==fl.POINTERMOVE&&this.handleMoveEvent(t);return!r},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},e}(c2);function ak(n){for(var e=n.length,t=0,r=0,i=0;i<e;i++)t+=n[i].clientX,r+=n[i].clientY;return[t/e,r/e]}function qB(n){var e=arguments;return function(t){for(var r=!0,i=0,o=e.length;i<o&&(r=r&&e[i](t),!!r);++i);return r}}var Yle=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},qle=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},EW=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?qle(n):!0},Vle=nv,OW=function(n){var e=n.originalEvent;return e.button==0&&!(Toe&&Poe&&e.ctrlKey)},BW=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Hle=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},IW=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},HE=function(n){var e=n.originalEvent;return bo(e!==void 0,56),e.pointerType=="mouse"},Zle=function(n){var e=n.originalEvent;return bo(e!==void 0,56),e.isPrimary&&e.button===0},Xle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jle=function(n){Xle(e,n);function e(t){var r=n.call(this,{stopDown:aM})||this,i=t||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:qB(BW,Zle);return r.condition_=i.onFocusOnly?qB(EW,o):o,r.noKinetic_=!1,r}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=ak(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map,a=s.getView();lae(o,a.getResolution()),L7(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var r=t.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),f=r.getPixelFromCoordinateInternal(a),m=r.getCoordinateFromPixelInternal([f[0]-o*Math.cos(s),f[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(m),duration:500,easing:Zv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(h2),eue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tue=function(n){eue(e,n);function e(t){var r=this,i=t||{};return r=n.call(this,{stopDown:aM})||this,r.condition_=i.condition?i.condition:Yle,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleDragEvent=function(t){if(HE(t)){var r=t.map,i=r.getView();if(i.getConstraints().rotation!==rk){var o=r.getSize(),s=t.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var f=a-this.lastAngle_;i.adjustRotationInternal(-f)}this.lastAngle_=a}}},e.prototype.handleUpEvent=function(t){if(!HE(t))return!0;var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!HE(t))return!1;if(OW(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(h2),nue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rue=function(n){nue(e,n);function e(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],r[0])+i,o.top=Math.min(t[1],r[1])+i,o.width=Math.abs(r[0]-t[0])+i,o.height=Math.abs(r[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,i=[t,[t[0],r[1]],r,[r[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Tv([o])},e.prototype.getGeometry=function(){return this.geometry_},e}(M7),kW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E3={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},ZE=function(n){kW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return e}(bm),iue=function(n){kW(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=t||{};return r.box_=new rue(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:OW,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return e.prototype.defaultBoxEndCondition=function(t,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new ZE(E3.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new ZE(r?E3.BOXEND:E3.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ZE(E3.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(h2),oue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aue=function(n){oue(e,n);function e(t){var r=this,i=t||{},o=i.condition?i.condition:Hle;return r=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return e.prototype.onBoxEnd=function(t){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),a=i.getResolutionForExtentInternal(s),f=i.getResolution()/a;o=o.clone(),o.scale(f*f)}i.fitInternal(o,{duration:this.duration_,easing:Zv})},e}(iue);const dg={LEFT:37,UP:38,RIGHT:39,DOWN:40};var sue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lue=function(n){sue(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.defaultCondition_=function(o){return BW(o)&&IW(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Ni.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==dg.DOWN||o==dg.LEFT||o==dg.RIGHT||o==dg.UP)){var s=t.map,a=s.getView(),f=a.getResolution()*this.pixelDelta_,m=0,C=0;o==dg.DOWN?C=-f:o==dg.LEFT?m=-f:o==dg.RIGHT?m=f:C=f;var k=[m,C];L7(k,a.getRotation()),Wle(a,k,this.duration_),i.preventDefault(),r=!0}}return!r},e}(c2),uue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Aue=function(n){uue(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.condition_=i.condition?i.condition:IW,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Ni.KEYDOWN||t.type==Ni.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o==43||o==45)){var s=t.map,a=o==43?this.delta_:-this.delta_,f=s.getView();ok(f,a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},e}(c2),cue=function(){function n(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),hue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XE={TRACKPAD:"trackpad",WHEEL:"wheel"},due=function(n){hue(e,n);function e(t){var r=this,i=t||{};r=n.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:Vle;return r.condition_=i.onFocusOnly?qB(EW,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();if(t){var r=t.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Ni.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Ni.WHEEL&&(s=o.deltaY,Ioe&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=FN),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?XE.TRACKPAD:XE.WHEEL);var f=i.getView();if(this.mode_===XE.TRACKPAD&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var m=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),m),!1},e.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var i=-eu(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ok(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(c2),fue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pue=function(n){fue(e,n);function e(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=aM),r=n.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleDragEvent=function(t){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var f=t.map,m=f.getView();if(m.getConstraints().rotation!==rk){var C=f.getViewport().getBoundingClientRect(),k=ak(this.targetPointers);k[0]-=C.left,k[1]-=C.top,this.anchor_=f.getCoordinateFromPixelInternal(k),this.rotating_&&(f.render(),m.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(h2),mue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gue=function(n){mue(e,n);function e(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=aM),r=n.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return e.prototype.handleDragEvent=function(t){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,f=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(r=this.lastDistance_/f),this.lastDistance_=f;var m=t.map,C=m.getView();r!=1&&(this.lastScaleDelta_=r);var k=m.getViewport().getBoundingClientRect(),I=ak(this.targetPointers);I[0]-=k.left,I[1]-=k.top,this.anchor_=m.getCoordinateFromPixelInternal(I),m.render(),C.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(h2);function yue(n,e,t,r,i){TW(n,e,t||0,r||n.length-1,i||vue)}function TW(n,e,t,r,i){for(;r>t;){if(r-t>600){var o=r-t+1,s=e-t+1,a=Math.log(o),f=.5*Math.exp(2*a/3),m=.5*Math.sqrt(a*f*(o-f)/o)*(s-o/2<0?-1:1),C=Math.max(t,Math.floor(e-s*f/o+m)),k=Math.min(r,Math.floor(e+(o-s)*f/o+m));TW(n,e,C,k,i)}var I=n[e],K=t,L=r;for(Z_(n,t,e),i(n[r],I)>0&&Z_(n,t,r);K<L;){for(Z_(n,K,L),K++,L--;i(n[K],I)<0;)K++;for(;i(n[L],I)>0;)L--}i(n[t],I)===0?Z_(n,t,L):(L++,Z_(n,L,r)),L<=e&&(t=L+1),e<=L&&(r=L-1)}}function Z_(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function vue(n,e){return n<e?-1:n>e?1:0}let PW=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!B3(e,t))return r;const i=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],f=t.leaf?i(a):a;B3(e,f)&&(t.leaf?r.push(a):e6(e,f)?this._all(a,r):o.push(a))}t=o.pop()}return r}collides(e){let t=this.data;if(!B3(e,t))return!1;const r=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],s=t.leaf?this.toBBox(o):o;if(B3(e,s)){if(t.leaf||e6(e,s))return!0;r.push(o)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=yy([]),this}remove(e,t){if(!e)return this;let r=this.data;const i=this.toBBox(e),o=[],s=[];let a,f,m;for(;r||o.length;){if(r||(r=o.pop(),f=o[o.length-1],a=s.pop(),m=!0),r.leaf){const C=_ue(e,r.children,t);if(C!==-1)return r.children.splice(C,1),o.push(r),this._condense(o),this}!m&&!r.leaf&&e6(r,i)?(o.push(r),s.push(a),a=0,f=r,r=r.children[0]):f?(a++,r=f.children[a],m=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,i){const o=r-t+1;let s=this._maxEntries,a;if(o<=s)return a=yy(e.slice(t,r+1)),ty(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=yy([]),a.leaf=!1,a.height=i;const f=Math.ceil(o/s),m=f*Math.ceil(Math.sqrt(s));eD(e,t,r,m,this.compareMinX);for(let C=t;C<=r;C+=m){const k=Math.min(C+m-1,r);eD(e,C,k,f,this.compareMinY);for(let I=C;I<=k;I+=f){const K=Math.min(I+f-1,k);a.children.push(this._build(e,I,K,i-1))}}return ty(a,this.toBBox),a}_chooseSubtree(e,t,r,i){for(;i.push(t),!(t.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let f=0;f<t.children.length;f++){const m=t.children[f],C=JE(m),k=xue(e,m)-C;k<s?(s=k,o=C<o?C:o,a=m):k===s&&C<o&&(o=C,a=m)}t=a||t.children[0]}return t}_insert(e,t,r){const i=r?e:this.toBBox(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),yC(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){const r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const s=this._chooseSplitIndex(r,o,i),a=yy(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,ty(r,this.toBBox),ty(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(e,t){this.data=yy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ty(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let i,o=1/0,s=1/0;for(let a=t;a<=r-t;a++){const f=gC(e,0,a,this.toBBox),m=gC(e,a,r,this.toBBox),C=wue(f,m),k=JE(f)+JE(m);C<o?(o=C,i=a,s=k<s?k:s):C===o&&k<s&&(s=k,i=a)}return i||r-t}_chooseSplitAxis(e,t,r){const i=e.leaf?this.compareMinX:Cue,o=e.leaf?this.compareMinY:bue,s=this._allDistMargin(e,t,r,i),a=this._allDistMargin(e,t,r,o);s<a&&e.children.sort(i)}_allDistMargin(e,t,r,i){e.children.sort(i);const o=this.toBBox,s=gC(e,0,t,o),a=gC(e,r-t,r,o);let f=O3(s)+O3(a);for(let m=t;m<r-t;m++){const C=e.children[m];yC(s,e.leaf?o(C):C),f+=O3(s)}for(let m=r-t-1;m>=t;m--){const C=e.children[m];yC(a,e.leaf?o(C):C),f+=O3(a)}return f}_adjustParentBBoxes(e,t,r){for(let i=r;i>=0;i--)yC(t[i],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():ty(e[t],this.toBBox)}};function _ue(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function ty(n,e){gC(n,0,n.children.length,e,n)}function gC(n,e,t,r,i){i||(i=yy(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<t;o++){const s=n.children[o];yC(i,n.leaf?r(s):s)}return i}function yC(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function Cue(n,e){return n.minX-e.minX}function bue(n,e){return n.minY-e.minY}function JE(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function O3(n){return n.maxX-n.minX+(n.maxY-n.minY)}function xue(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function wue(n,e){const t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),i=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,i-t)*Math.max(0,o-r)}function e6(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function B3(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function yy(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function eD(n,e,t,r,i){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=r)continue;const s=e+Math.ceil((t-e)/r/2)*r;yue(n,s,e,t,i),o.push(e,s,s,t)}}const ds={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var KW=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=rc(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getDeclutterMode=function(){return this.declutterMode_},n.prototype.getAnchor=function(){return Mi()},n.prototype.getImage=function(e){return Mi()},n.prototype.getHitDetectionImage=function(){return Mi()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return Mi()},n.prototype.getImageSize=function(){return Mi()},n.prototype.getOrigin=function(){return Mi()},n.prototype.getSize=function(){return Mi()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=rc(e)},n.prototype.listenImageChange=function(e){Mi()},n.prototype.load=function(){Mi()},n.prototype.unlistenImageChange=function(e){Mi()},n}();function up(n){return Array.isArray(n)?fW(n):n}var Mue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sue=function(n){Mue(e,n);function e(t){var r=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var i=this.renderOptions_,o=Gc(i.size*t,i.size*t);this.draw_(i,o,t),r=o.canvas,this.canvas_[t]=r}return r},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return ds.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,r,i){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var a=o;o=s,s=a}var f=this.radius2_===void 0?this.points_:this.points_*2,m=2*Math.PI/f,C=s*Math.sin(m),k=Math.sqrt(s*s-C*C),I=o-k,K=Math.sqrt(C*C+I*I),L=K/C;if(t==="miter"&&L<=i)return L*r;var q=r/2/L,X=r/2*(I/K),H=Math.sqrt((o+q)*(o+q)+X*X),G=H-o;if(this.radius2_===void 0||t==="bevel")return G*2;var ee=o*Math.sin(m),ne=Math.sqrt(o*o-ee*ee),se=s-ne,Ae=Math.sqrt(ee*ee+se*se),V=Ae/ee;if(V<=i){var re=V*r/2-s-o;return 2*Math.max(G,re)}return G*2},e.prototype.createRenderOptions=function(){var t=Pv,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Kb),s=up(s),a=this.stroke_.getWidth(),a===void 0&&(a=Lb),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Pv),r=this.stroke_.getMiterLimit(),r===void 0&&(r=Pb));var f=this.calculateLineJoinSize_(t,a,r),m=Math.max(this.radius_,this.radius2_||0),C=Math.ceil(2*m+f);return{strokeStyle:s,strokeWidth:a,size:C,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:r}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,r,i){if(r.scale(i,i),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=hm),r.fillStyle=up(o),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=ww(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=Gc(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var r=this.points_,i=this.radius_;if(r===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,a=2*Math.PI/r,f=0;f<r;f++){var m=s+f*a,C=f%2===0?i:o;t.lineTo(C*Math.cos(m),C*Math.sin(m))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=hm,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e}(KW),Eue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DW=function(n){Eue(e,n);function e(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Sue),Ry=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),vC=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),wg=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=tD,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=tD,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function Oue(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{bo(typeof n.getZIndex=="function",41);var r=n;t=[r]}e=function(){return t}}return e}var t6=null;function Bue(n,e){if(!t6){var t=new Ry({color:"rgba(255,255,255,0.4)"}),r=new vC({color:"#3399CC",width:1.25});t6=[new wg({image:new DW({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return t6}function tD(n){return n.getGeometry()}var Iue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nD={RENDER_ORDER:"renderOrder"},LW=function(n){Iue(e,n);function e(t){var r=this,i=t||{},o=Pl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=n.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(nD.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new PW(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(nD.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:Bue,this.styleFunction_=t===null?void 0:Oue(this.style_),this.changed()},e}(hM),mi={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},I3=[mi.FILL],p0=[mi.STROKE],zg=[mi.BEGIN_PATH],rD=[mi.CLOSE_PATH],FW=function(){function n(){}return n.prototype.drawCustom=function(e,t,r,i){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),kue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),d2=function(n){kue(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(i){return i*r})},e.prototype.appendFlatPointCoordinates=function(t,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,f=0,m=t.length;f<m;f+=r)o[0]=t[f],o[1]=t[f+1],l2(i,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},e.prototype.appendFlatLineCoordinates=function(t,r,i,o,s,a){var f=this.coordinates,m=f.length,C=this.getBufferedMaxExtent();a&&(r+=o);var k=t[r],I=t[r+1],K=this.tmpCoordinate_,L=!0,q,X,H;for(q=r+o;q<i;q+=o)K[0]=t[q],K[1]=t[q+1],H=IB(C,K),H!==X?(L&&(f[m++]=k,f[m++]=I,L=!1),f[m++]=K[0],f[m++]=K[1]):H===Gu.INTERSECTING?(f[m++]=K[0],f[m++]=K[1],L=!1):L=!0,k=K[0],I=K[1],X=H;return(s&&L||q===r+o)&&(f[m++]=k,f[m++]=I),m},e.prototype.drawCustomCoordinates_=function(t,r,i,o,s){for(var a=0,f=i.length;a<f;++a){var m=i[a],C=this.appendFlatLineCoordinates(t,r,m,o,!1,!1);s.push(C),r=m}return r},e.prototype.drawCustom=function(t,r,i,o){this.beginGeometry(t,r);var s=t.getType(),a=t.getStride(),f=this.coordinates.length,m,C,k,I,K;switch(s){case"MultiPolygon":m=t.getOrientedFlatCoordinates(),I=[];var L=t.getEndss();K=0;for(var q=0,X=L.length;q<X;++q){var H=[];K=this.drawCustomCoordinates_(m,K,L[q],a,H),I.push(H)}this.instructions.push([mi.CUSTOM,f,I,t,i,RB]),this.hitDetectionInstructions.push([mi.CUSTOM,f,I,t,o||i,RB]);break;case"Polygon":case"MultiLineString":k=[],m=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),K=this.drawCustomCoordinates_(m,0,t.getEnds(),a,k),this.instructions.push([mi.CUSTOM,f,k,t,i,Bb]),this.hitDetectionInstructions.push([mi.CUSTOM,f,k,t,o||i,Bb]);break;case"LineString":case"Circle":m=t.getFlatCoordinates(),C=this.appendFlatLineCoordinates(m,0,m.length,a,!1,!1),this.instructions.push([mi.CUSTOM,f,C,t,i,f0]),this.hitDetectionInstructions.push([mi.CUSTOM,f,C,t,o||i,f0]);break;case"MultiPoint":m=t.getFlatCoordinates(),C=this.appendFlatPointCoordinates(m,a),C>f&&(this.instructions.push([mi.CUSTOM,f,C,t,i,f0]),this.hitDetectionInstructions.push([mi.CUSTOM,f,C,t,o||i,f0]));break;case"Point":m=t.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),C=this.coordinates.length,this.instructions.push([mi.CUSTOM,f,C,t,i]),this.hitDetectionInstructions.push([mi.CUSTOM,f,C,t,o||i]);break}this.endGeometry(r)},e.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[mi.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[mi.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,i=t.length,o,s,a=-1;for(r=0;r<i;++r)o=t[r],s=o[0],s==mi.END_GEOMETRY?a=r:s==mi.BEGIN_GEOMETRY&&(o[2]=r,voe(this.hitDetectionInstructions,a,r),a=-1)},e.prototype.setFillStrokeStyle=function(t,r){var i=this.state;if(t){var o=t.getColor();i.fillStyle=up(o||hm)}else i.fillStyle=void 0;if(r){var s=r.getColor();i.strokeStyle=up(s||Kb);var a=r.getLineCap();i.lineCap=a!==void 0?a:Ow;var f=r.getLineDash();i.lineDash=f?f.slice():kb;var m=r.getLineDashOffset();i.lineDashOffset=m||Tb;var C=r.getLineJoin();i.lineJoin=C!==void 0?C:Pv;var k=r.getWidth();i.lineWidth=k!==void 0?k:Lb;var I=r.getMiterLimit();i.miterLimit=I!==void 0?I:Pb,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var r=t.fillStyle,i=[mi.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[mi.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,r){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,r){var i=t.strokeStyle,o=t.lineCap,s=t.lineDash,a=t.lineDashOffset,f=t.lineJoin,m=t.lineWidth,C=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||s!=t.currentLineDash&&!C1(t.currentLineDash,s)||t.currentLineDashOffset!=a||t.currentLineJoin!=f||t.currentLineWidth!=m||t.currentMiterLimit!=C)&&(i!==void 0&&r.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=s,t.currentLineDashOffset=a,t.currentLineJoin=f,t.currentLineWidth=m,t.currentMiterLimit=C)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[mi.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=zN(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;I0(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(FW),Tue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pue=function(n){Tue(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([mi.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([mi.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.drawMultiPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([mi.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([mi.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,r){var i=t.getAnchor(),o=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=r},e}(d2),Kue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Due=function(n){Kue(e,n);function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return e.prototype.drawFlatCoordinates_=function(t,r,i,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,r,i,o,!1,!1),f=[mi.MOVE_TO_LINE_TO,s,a];return this.instructions.push(f),this.hitDetectionInstructions.push(f),i},e.prototype.drawLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([mi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,kb,Tb],zg);var a=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(a,0,a.length,f),this.hitDetectionInstructions.push(p0),this.endGeometry(r)}},e.prototype.drawMultiLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([mi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],zg);for(var a=t.getEnds(),f=t.getFlatCoordinates(),m=t.getStride(),C=0,k=0,I=a.length;k<I;++k)C=this.drawFlatCoordinates_(f,C,a[k],m);this.hitDetectionInstructions.push(p0),this.endGeometry(r)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(p0),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(p0),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(zg)},e}(d2),Lue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iD=function(n){Lue(e,n);function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return e.prototype.drawFlatCoordinatess_=function(t,r,i,o){var s=this.state,a=s.fillStyle!==void 0,f=s.strokeStyle!==void 0,m=i.length;this.instructions.push(zg),this.hitDetectionInstructions.push(zg);for(var C=0;C<m;++C){var k=i[C],I=this.coordinates.length,K=this.appendFlatLineCoordinates(t,r,k,o,!0,!f),L=[mi.MOVE_TO_LINE_TO,I,K];this.instructions.push(L),this.hitDetectionInstructions.push(L),f&&(this.instructions.push(rD),this.hitDetectionInstructions.push(rD)),r=k}return a&&(this.instructions.push(I3),this.hitDetectionInstructions.push(I3)),f&&(this.instructions.push(p0),this.hitDetectionInstructions.push(p0)),r},e.prototype.drawCircle=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_FILL_STYLE,hm]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getFlatCoordinates(),f=t.getStride(),m=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,f,!1,!1);var C=[mi.CIRCLE,m];this.instructions.push(zg,C),this.hitDetectionInstructions.push(zg,C),i.fillStyle!==void 0&&(this.instructions.push(I3),this.hitDetectionInstructions.push(I3)),i.strokeStyle!==void 0&&(this.instructions.push(p0),this.hitDetectionInstructions.push(p0)),this.endGeometry(r)}},e.prototype.drawPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_FILL_STYLE,hm]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getEnds(),f=t.getOrientedFlatCoordinates(),m=t.getStride();this.drawFlatCoordinatess_(f,0,a,m),this.endGeometry(r)}},e.prototype.drawMultiPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_FILL_STYLE,hm]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([mi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var a=t.getEndss(),f=t.getOrientedFlatCoordinates(),m=t.getStride(),C=0,k=0,I=a.length;k<I;++k)C=this.drawFlatCoordinatess_(f,C,a[k],m);this.endGeometry(r)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=xg(r[i],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(d2);const RW={POINT:"point",LINE:"line"};function Fue(n,e,t,r,i){var o=t,s=t,a=0,f=0,m=t,C,k,I,K,L,q,X,H,G,ee;for(k=t;k<r;k+=i){var ne=e[k],se=e[k+1];L!==void 0&&(G=ne-L,ee=se-q,K=Math.sqrt(G*G+ee*ee),X!==void 0&&(f+=I,C=Math.acos((X*G+H*ee)/(I*K)),C>n&&(f>a&&(a=f,o=m,s=k),f=0,m=k-i)),I=K,X=G,H=ee),L=ne,q=se}return f+=K,f>a?[m,k]:[o,s]}var Rue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Uue=function(n){Rue(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,r){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var a=this.coordinates,f=a.length,m=t.getType(),C=null,k=t.getStride();if(s.placement===RW.LINE&&(m=="LineString"||m=="MultiLineString"||m=="Polygon"||m=="MultiPolygon")){if(!Tl(this.getBufferedMaxExtent(),t.getExtent()))return;var I=void 0;if(C=t.getFlatCoordinates(),m=="LineString")I=[C.length];else if(m=="MultiLineString")I=t.getEnds();else if(m=="Polygon")I=t.getEnds().slice(0,1);else if(m=="MultiPolygon"){var K=t.getEndss();I=[];for(var L=0,q=K.length;L<q;++L)I.push(K[L][0])}this.beginGeometry(t,r);for(var X=s.textAlign,H=0,G=void 0,ee=0,ne=I.length;ee<ne;++ee){if(X==null){var se=Fue(s.maxAngle,C,H,I[ee],k);H=se[0],G=se[1]}else G=I[ee];for(var L=H;L<G;L+=k)a.push(C[L],C[L+1]);var Ae=a.length;H=I[ee],this.drawChars_(f,Ae),f=Ae}this.endGeometry(r)}else{var V=s.overflow?null:[];switch(m){case"Point":case"MultiPoint":C=t.getFlatCoordinates();break;case"LineString":C=t.getFlatMidpoint();break;case"Circle":C=t.getCenter();break;case"MultiLineString":C=t.getFlatMidpoints(),k=2;break;case"Polygon":C=t.getFlatInteriorPoint(),s.overflow||V.push(C[2]/this.resolution),k=3;break;case"MultiPolygon":var re=t.getFlatInteriorPoints();C=[];for(var L=0,q=re.length;L<q;L+=3)s.overflow||V.push(re[L+2]/this.resolution),C.push(re[L],re[L+1]);if(C.length===0)return;k=2;break}var Ae=this.appendFlatPointCoordinates(C,k);if(Ae===f)return;if(V&&(Ae-f)/2!==C.length/k){var be=f/2;V=V.filter(function(ft,bt){var $e=a[(be+bt)*2]===C[bt*k]&&a[(be+bt)*2+1]===C[bt*k+1];return $e||--be,$e})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var _e=s.padding;if(_e!=jg&&(s.scale[0]<0||s.scale[1]<0)){var Pe=s.padding[0],Ue=s.padding[1],pe=s.padding[2],Ye=s.padding[3];s.scale[0]<0&&(Ue=-Ue,Ye=-Ye),s.scale[1]<0&&(Pe=-Pe,pe=-pe),_e=[Pe,Ue,pe,Ye]}var we=this.pixelRatio;this.instructions.push([mi.DRAW_IMAGE,f,Ae,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,_e==jg?jg:_e.map(function(ft){return ft*we}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,V]);var pt=1/we;this.hitDetectionInstructions.push([mi.DRAW_IMAGE,f,Ae,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[pt,pt],NaN,void 0,this.declutterImageWithText_,_e,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,V]),this.endGeometry(r)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||Db,justify:r.justify,textBaseline:r.textBaseline||Bw,scale:r.scale});var a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,r){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,f=this.fillKey_;this.saveTextStates_();var m=this.pixelRatio,C=NC[o.textBaseline],k=this.textOffsetY_*m,I=this.text_,K=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([mi.DRAW_CHARS,t,r,C,o.overflow,f,o.maxAngle,m,k,s,K*m,I,a,1]),this.hitDetectionInstructions.push([mi.DRAW_CHARS,t,r,C,o.overflow,f,o.maxAngle,1,k,s,K,I,a,1/m])},e.prototype.setTextStyle=function(t,r){var i,o,s;if(!t)this.text_="";else{var a=t.getFill();a?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=up(a.getColor()||hm)):(o=null,this.textFillState_=o);var f=t.getStroke();if(!f)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var m=f.getLineDash(),C=f.getLineDashOffset(),k=f.getWidth(),I=f.getMiterLimit();s.lineCap=f.getLineCap()||Ow,s.lineDash=m?m.slice():kb,s.lineDashOffset=C===void 0?Tb:C,s.lineJoin=f.getLineJoin()||Pv,s.lineWidth=k===void 0?Lb:k,s.miterLimit=I===void 0?Pb:I,s.strokeStyle=up(f.getColor()||Kb)}i=this.textState_;var K=t.getFont()||vW;tle(K);var L=t.getScaleArray();i.overflow=t.getOverflow(),i.font=K,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||Bw,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||jg,i.scale=L===void 0?[1,1]:L;var q=t.getOffsetX(),X=t.getOffsetY(),H=t.getRotateWithView(),G=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=q===void 0?0:q,this.textOffsetY_=X===void 0?0:X,this.textRotateWithView_=H===void 0?!1:H,this.textRotation_=G===void 0?0:G,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Hi(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Hi(o.fillStyle):""}this.declutterImageWithText_=r},e}(d2),jue={Circle:iD,Default:d2,Image:Pue,LineString:Due,Polygon:iD,Text:Uue},Tw=function(){function n(e,t,r,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var o=r[i].finish();e[t][i]=o}}return e},n.prototype.getBuilder=function(e,t){var r=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[t];if(o===void 0){var s=jue[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},n}(),zue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nue=function(n){zue(e,n);function e(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return e.prototype.getFeatures=function(t){return Mi()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Mi()},e.prototype.renderFrame=function(t,r){return Mi()},e.prototype.loadedTileCallback=function(t,r,i){t[r]||(t[r]={}),t[r][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,r,i){return(function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(r,o,s,a)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){},e.prototype.getDataAtPixel=function(t,r,i){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===ds.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var r=t.getState();return r!=ds.LOADED&&r!=ds.ERROR&&t.addEventListener(Ni.CHANGE,this.boundHandleImageChange_),r==ds.IDLE&&(t.load(),r=t.getState()),r==ds.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(s2),Wue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oD=[],vy=null;function Gue(){var n=document.createElement("canvas");n.width=1,n.height=1,vy=n.getContext("2d")}var UW=function(n){Wue(e,n);function e(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=cd(),r.pixelTransform=cd(),r.inversePixelTransform=cd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return e.prototype.getImageData=function(t,r,i){vy||Gue(),vy.clearRect(0,0,1,1);var o;try{vy.drawImage(t,r,i,1,1,0,0,1,1),o=vy.getImageData(0,0,1,1).data}catch{return vy=null,null}return o},e.prototype.getBackground=function(t){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},e.prototype.useContainer=function(t,r,i){var o=this.getLayer().getClassName(),s,a;if(t&&t.className===o&&(!i||t&&t.style.backgroundColor&&C1(ww(t.style.backgroundColor),ww(i)))){var f=t.firstElementChild;f instanceof HTMLCanvasElement&&(a=f.getContext("2d"))}if(a&&a.canvas.style.transform===r?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var m=s.style;m.position="absolute",m.width="100%",m.height="100%",a=Gc();var f=a.canvas;s.appendChild(f),m=f.style,m.position="absolute",m.left="0",m.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},e.prototype.clipUnrotated=function(t,r,i){var o=G0(i),s=P7(i),a=T7(i),f=k7(i);Il(r.coordinateToPixelTransform,o),Il(r.coordinateToPixelTransform,s),Il(r.coordinateToPixelTransform,a),Il(r.coordinateToPixelTransform,f);var m=this.inversePixelTransform;Il(m,o),Il(m,s),Il(m,a),Il(m,f),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,r,i){var o=this.getLayer();if(o.hasListener(t)){var s=new mW(t,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},e.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(T0.PRERENDER,t,r)},e.prototype.postRender=function(t,r){this.dispatchRenderEvent_(T0.POSTRENDER,t,r)},e.prototype.getRenderTransform=function(t,r,i,o,s,a,f){var m=s/2,C=a/2,k=o/r,I=-k,K=-t[0]+f,L=-t[1];return mp(this.tempTransform,m,C,k,I,-i,K,L)},e.prototype.getDataAtPixel=function(t,r,i){var o=Il(this.inversePixelTransform,t.slice()),s=this.context,a=this.getLayer(),f=a.getExtent();if(f){var m=Il(r.pixelToCoordinateTransform,t.slice());if(!l2(f,m))return null}var C=Math.round(o[0]),k=Math.round(o[1]),I=this.pixelContext_;if(!I){var K=document.createElement("canvas");K.width=1,K.height=1,I=K.getContext("2d"),this.pixelContext_=I}I.clearRect(0,0,1,1);var L;try{I.drawImage(s.canvas,C,k,1,1,0,0,1,1),L=I.getImageData(0,0,1,1).data}catch(q){return q.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):L}return L[3]===0?null:L},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(Nue);function Que(n,e,t,r,i,o,s,a,f,m,C,k){var I=n[e],K=n[e+1],L=0,q=0,X=0,H=0;function G(){L=I,q=K,e+=r,I=n[e],K=n[e+1],H+=X,X=Math.sqrt((I-L)*(I-L)+(K-q)*(K-q))}do G();while(e<t-r&&H+X<o);for(var ee=X===0?0:(o-H)/X,ne=rm(L,I,ee),se=rm(q,K,ee),Ae=e-r,V=H,re=o+a*f(m,i,C);e<t-r&&H+X<re;)G();ee=X===0?0:(re-H)/X;var be=rm(L,I,ee),_e=rm(q,K,ee),Pe;if(k){var Ue=[ne,se,be,_e];ZN(Ue,0,4,2,k,Ue,Ue),Pe=Ue[0]>Ue[2]}else Pe=ne>be;var pe=Math.PI,Ye=[],we=Ae+r===e;e=Ae,X=0,H=V,I=n[e],K=n[e+1];var pt;if(we){G(),pt=Math.atan2(K-q,I-L),Pe&&(pt+=pt>0?-pe:pe);var wt=(be+ne)/2,ft=(_e+se)/2;return Ye[0]=[wt,ft,(re-o)/2,pt,i],Ye}i=i.replace(/\n/g," ");for(var bt=0,$e=i.length;bt<$e;){G();var tt=Math.atan2(K-q,I-L);if(Pe&&(tt+=tt>0?-pe:pe),pt!==void 0){var nt=tt-pt;if(nt+=nt>pe?-2*pe:nt<-pe?2*pe:0,Math.abs(nt)>s)return null}pt=tt;for(var en=bt,tn=0;bt<$e;++bt){var St=Pe?$e-bt-1:bt,Xt=a*f(m,i[St],C);if(e+r<t&&H+X<o+tn+Xt/2)break;tn+=Xt}if(bt!==en){var Nt=Pe?i.substring($e-en,$e-bt):i.substring(en,bt);ee=X===0?0:(o+tn/2-H)/X;var wt=rm(L,I,ee),ft=rm(q,K,ee);Ye.push([wt,ft,tn/2,tt,Nt]),o+=tn}}return Ye}var ny=pd(),Vm=[],qp=[],Vp=[],Hm=[];function aD(n){return n[3].declutterBox}var $ue=new RegExp("[-----]");function sD(n,e){return(e==="start"||e==="end")&&!$ue.test(n)&&(e=e==="start"?"left":"right"),NC[e]}function Yue(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var que=function(){function n(e,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=cd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,r,i){var o=e+t+r+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,f=this.textStates[t],m=this.pixelRatio,C=[f.scale[0]*m,f.scale[1]*m],k=Array.isArray(e),I=f.justify?NC[f.justify]:sD(Array.isArray(e)?e[0]:e,f.textAlign||Db),K=i&&s.lineWidth?s.lineWidth:0,L=k?e:e.split(`
`).reduce(Yue,[]),q=rle(f,L),X=q.width,H=q.height,G=q.widths,ee=q.heights,ne=q.lineWidths,se=X+K,Ae=[],V=(se+2)*C[0],re=(H+K)*C[1],be={width:V<0?Math.floor(V):Math.ceil(V),height:re<0?Math.floor(re):Math.ceil(re),contextInstructions:Ae};if((C[0]!=1||C[1]!=1)&&Ae.push("scale",C),i){Ae.push("strokeStyle",s.strokeStyle),Ae.push("lineWidth",K),Ae.push("lineCap",s.lineCap),Ae.push("lineJoin",s.lineJoin),Ae.push("miterLimit",s.miterLimit);var _e=sM?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;_e.prototype.setLineDash&&(Ae.push("setLineDash",[s.lineDash]),Ae.push("lineDashOffset",s.lineDashOffset))}r&&Ae.push("fillStyle",a.fillStyle),Ae.push("textBaseline","middle"),Ae.push("textAlign","center");for(var Pe=.5-I,Ue=I*se+Pe*K,pe=[],Ye=[],we=0,pt=0,wt=0,ft=0,bt,$e=0,tt=L.length;$e<tt;$e+=2){var nt=L[$e];if(nt===`
`){pt+=we,we=0,Ue=I*se+Pe*K,++ft;continue}var en=L[$e+1]||f.font;en!==bt&&(i&&pe.push("font",en),r&&Ye.push("font",en),bt=en),we=Math.max(we,ee[wt]);var tn=[nt,Ue+Pe*G[wt]+I*(G[wt]-ne[ft]),.5*(K+we)+pt];Ue+=G[wt],i&&pe.push("strokeText",tn),r&&Ye.push("fillText",tn),++wt}return Array.prototype.push.apply(Ae,pe),Array.prototype.push.apply(Ae,Ye),this.labels_[o]=be,be},n.prototype.replayTextBackground_=function(e,t,r,i,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,r,i,o,s,a,f,m,C,k,I,K,L,q,X){a*=I[0],f*=I[1];var H=r-a,G=i-f,ee=o+m>e?e-m:o,ne=s+C>t?t-C:s,se=L[3]+ee*I[0]+L[1],Ae=L[0]+ne*I[1]+L[2],V=H-L[3],re=G-L[0];(q||k!==0)&&(Vm[0]=V,Hm[0]=V,Vm[1]=re,qp[1]=re,qp[0]=V+se,Vp[0]=qp[0],Vp[1]=re+Ae,Hm[1]=Vp[1]);var be;return k!==0?(be=mp(cd(),r,i,1,1,k,-r,-i),Il(be,Vm),Il(be,qp),Il(be,Vp),Il(be,Hm),gp(Math.min(Vm[0],qp[0],Vp[0],Hm[0]),Math.min(Vm[1],qp[1],Vp[1],Hm[1]),Math.max(Vm[0],qp[0],Vp[0],Hm[0]),Math.max(Vm[1],qp[1],Vp[1],Hm[1]),ny)):gp(Math.min(V,V+se),Math.min(re,re+Ae),Math.max(V,V+se),Math.max(re,re+Ae),ny),K&&(H=Math.round(H),G=Math.round(G)),{drawImageX:H,drawImageY:G,drawImageW:ee,drawImageH:ne,originX:m,originY:C,declutterBox:{minX:ny[0],minY:ny[1],maxX:ny[2],maxY:ny[3],value:X},canvasTransform:be,scale:I}},n.prototype.replayImageOrLabel_=function(e,t,r,i,o,s,a){var f=!!(s||a),m=i.declutterBox,C=e.canvas,k=a?a[2]*i.scale[0]/2:0,I=m.minX-k<=C.width/t&&m.maxX+k>=0&&m.minY-k<=C.height/t&&m.maxY+k>=0;return I&&(f&&this.replayTextBackground_(e,Vm,qp,Vp,Hm,s,a),ile(e,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Il(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,r,i){var o=this.textStates[t],s=this.createLabel(e,t,i,r),a=this.strokeStates[r],f=this.pixelRatio,m=sD(Array.isArray(e)?e[0]:e,o.textAlign||Db),C=NC[o.textBaseline||Bw],k=a&&a.lineWidth?a.lineWidth:0,I=s.width/f-2*o.scale[0],K=m*I+2*(.5-m)*k,L=C*s.height/f+2*(.5-C)*k;return{label:s,anchorX:K,anchorY:L}},n.prototype.execute_=function(e,t,r,i,o,s,a,f){var m;this.pixelCoordinates_&&C1(r,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=k0(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Doe(this.renderedTransform_,r));for(var C=0,k=i.length,I=0,K,L,q,X,H,G,ee,ne,se,Ae,V,re,be=0,_e=0,Pe=null,Ue=null,pe=this.coordinateCache_,Ye=this.viewRotation_,we=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,pt={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ye},wt=this.instructions!=i||this.overlaps?0:200,ft,bt,$e,tt;C<k;){var nt=i[C],en=nt[0];switch(en){case mi.BEGIN_GEOMETRY:ft=nt[1],tt=nt[3],ft.getGeometry()?a!==void 0&&!Tl(a,tt.getExtent())?C=nt[2]+1:++C:C=nt[2];break;case mi.BEGIN_PATH:be>wt&&(this.fill_(e),be=0),_e>wt&&(e.stroke(),_e=0),!be&&!_e&&(e.beginPath(),X=NaN,H=NaN),++C;break;case mi.CIRCLE:I=nt[1];var tn=m[I],St=m[I+1],Xt=m[I+2],Nt=m[I+3],Fe=Xt-tn,ye=Nt-St,ke=Math.sqrt(Fe*Fe+ye*ye);e.moveTo(tn+ke,St),e.arc(tn,St,ke,0,2*Math.PI,!0),++C;break;case mi.CLOSE_PATH:e.closePath(),++C;break;case mi.CUSTOM:I=nt[1],K=nt[2];var Ge=nt[3],st=nt[4],ht=nt.length==6?nt[5]:void 0;pt.geometry=Ge,pt.feature=ft,C in pe||(pe[C]=[]);var Bt=pe[C];ht?ht(m,I,K,2,Bt):(Bt[0]=m[I],Bt[1]=m[I+1],Bt.length=2),st(Bt,pt),++C;break;case mi.DRAW_IMAGE:I=nt[1],K=nt[2],ne=nt[3],L=nt[4],q=nt[5];var nn=nt[6],Gt=nt[7],zn=nt[8],rr=nt[9],xn=nt[10],Zn=nt[11],yr=nt[12],Mr=nt[13],Or=nt[14],Jr=nt[15];if(!ne&&nt.length>=20){se=nt[19],Ae=nt[20],V=nt[21],re=nt[22];var _r=this.drawLabelWithPointPlacement_(se,Ae,V,re);ne=_r.label,nt[3]=ne;var gi=nt[23];L=(_r.anchorX-gi)*this.pixelRatio,nt[4]=L;var Te=nt[24];q=(_r.anchorY-Te)*this.pixelRatio,nt[5]=q,nn=ne.height,nt[6]=nn,Mr=ne.width,nt[13]=Mr}var te=void 0;nt.length>25&&(te=nt[25]);var oe=void 0,je=void 0,Ct=void 0;nt.length>17?(oe=nt[16],je=nt[17],Ct=nt[18]):(oe=jg,je=!1,Ct=!1),xn&&we?Zn+=Ye:!xn&&!we&&(Zn-=Ye);for(var Lt=0;I<K;I+=2)if(!(te&&te[Lt++]<Mr/this.pixelRatio)){var jt=this.calculateImageOrLabelDimensions_(ne.width,ne.height,m[I],m[I+1],Mr,nn,L,q,zn,rr,Zn,yr,o,oe,je||Ct,ft),cr=[e,t,ne,jt,Gt,je?Pe:null,Ct?Ue:null];if(f){if(Or==="none")continue;if(Or==="obstacle"){f.insert(jt.declutterBox);continue}else{var Re=void 0,Ee=void 0;if(Jr){var Me=K-I;if(!Jr[Me]){Jr[Me]=cr;continue}if(Re=Jr[Me],delete Jr[Me],Ee=aD(Re),f.collides(Ee))continue}if(f.collides(jt.declutterBox))continue;Re&&(f.insert(Ee),this.replayImageOrLabel_.apply(this,Re)),f.insert(jt.declutterBox)}}this.replayImageOrLabel_.apply(this,cr)}++C;break;case mi.DRAW_CHARS:var p=nt[1],Ke=nt[2],rt=nt[3],ot=nt[4];re=nt[5];var yt=nt[6],lt=nt[7],Rt=nt[8];V=nt[9];var Dt=nt[10];se=nt[11],Ae=nt[12];var Ot=[nt[13],nt[13]],At=this.textStates[Ae],yn=At.font,gn=[At.scale[0]*lt,At.scale[1]*lt],Yn=void 0;yn in this.widths_?Yn=this.widths_[yn]:(Yn={},this.widths_[yn]=Yn);var Sr=iW(m,p,Ke,2),$t=Math.abs(gn[0])*YK(yn,se,Yn);if(ot||$t<=Sr){var Kn=this.textStates[Ae].textAlign,Wn=(Sr-$t)*NC[Kn],Tr=Que(m,p,Ke,2,se,Wn,yt,Math.abs(gn[0]),YK,yn,Yn,we?0:this.viewRotation_);e:if(Tr){var Jn=[],Vn=void 0,Tn=void 0,_i=void 0,Zi=void 0,ei=void 0;if(V)for(Vn=0,Tn=Tr.length;Vn<Tn;++Vn){ei=Tr[Vn],_i=ei[4],Zi=this.createLabel(_i,Ae,"",V),L=ei[2]+(gn[0]<0?-Dt:Dt),q=rt*Zi.height+(.5-rt)*2*Dt*gn[1]/gn[0]-Rt;var jt=this.calculateImageOrLabelDimensions_(Zi.width,Zi.height,ei[0],ei[1],Zi.width,Zi.height,L,q,0,0,ei[3],Ot,!1,jg,!1,ft);if(f&&f.collides(jt.declutterBox))break e;Jn.push([e,t,Zi,jt,1,null,null])}if(re)for(Vn=0,Tn=Tr.length;Vn<Tn;++Vn){ei=Tr[Vn],_i=ei[4],Zi=this.createLabel(_i,Ae,re,""),L=ei[2],q=rt*Zi.height-Rt;var jt=this.calculateImageOrLabelDimensions_(Zi.width,Zi.height,ei[0],ei[1],Zi.width,Zi.height,L,q,0,0,ei[3],Ot,!1,jg,!1,ft);if(f&&f.collides(jt.declutterBox))break e;Jn.push([e,t,Zi,jt,1,null,null])}f&&f.load(Jn.map(aD));for(var Wr=0,Yr=Jn.length;Wr<Yr;++Wr)this.replayImageOrLabel_.apply(this,Jn[Wr])}}++C;break;case mi.END_GEOMETRY:if(s!==void 0){ft=nt[1];var Xi=s(ft,tt);if(Xi)return Xi}++C;break;case mi.FILL:wt?be++:this.fill_(e),++C;break;case mi.MOVE_TO_LINE_TO:for(I=nt[1],K=nt[2],bt=m[I],$e=m[I+1],G=bt+.5|0,ee=$e+.5|0,(G!==X||ee!==H)&&(e.moveTo(bt,$e),X=G,H=ee),I+=2;I<K;I+=2)bt=m[I],$e=m[I+1],G=bt+.5|0,ee=$e+.5|0,(I==K-2||G!==X||ee!==H)&&(e.lineTo(bt,$e),X=G,H=ee);++C;break;case mi.SET_FILL_STYLE:Pe=nt,this.alignFill_=nt[2],be&&(this.fill_(e),be=0,_e&&(e.stroke(),_e=0)),e.fillStyle=nt[1],++C;break;case mi.SET_STROKE_STYLE:Ue=nt,_e&&(e.stroke(),_e=0),this.setStrokeStyle_(e,nt),++C;break;case mi.STROKE:wt?_e++:e.stroke(),++C;break;default:++C;break}}be&&this.fill_(e),_e&&e.stroke()},n.prototype.execute=function(e,t,r,i,o,s){this.viewRotation_=i,this.execute_(e,t,r,this.instructions,o,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,r,i,o){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,o)},n}(),n6=["Polygon","Circle","LineString","Image","Text","Default"],Pw=function(){function n(e,t,r,i,o,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=cd(),this.createExecutors_(o)}return n.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var i=e[t];for(var o in i){var s=i[o];r[o]=new que(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,o,s){i=Math.round(i);var a=i*2+1,f=mp(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-e[0],-e[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=Gc(a,a));var C=this.hitDetectionContext_;C.canvas.width!==a||C.canvas.height!==a?(C.canvas.width=a,C.canvas.height=a):m||C.clearRect(0,0,a,a);var k;this.renderBuffer_!==void 0&&(k=pd(),zC(k,e),I0(k,t*(this.renderBuffer_+i),k));var I=Vue(i),K;function L(Ae,V){for(var re=C.getImageData(0,0,a,a).data,be=0,_e=I.length;be<_e;be++)if(re[I[be]]>0){if(!s||K!=="Image"&&K!=="Text"||s.indexOf(Ae)!==-1){var Pe=(I[be]-3)/4,Ue=i-Pe%a,pe=i-(Pe/a|0),Ye=o(Ae,V,Ue*Ue+pe*pe);if(Ye)return Ye}C.clearRect(0,0,a,a);break}}var q=Object.keys(this.executorsByZIndex_).map(Number);q.sort(u1);var X,H,G,ee,ne;for(X=q.length-1;X>=0;--X){var se=q[X].toString();for(G=this.executorsByZIndex_[se],H=n6.length-1;H>=0;--H)if(K=n6[H],ee=G[K],ee!==void 0&&(ne=ee.executeHitDetection(C,f,r,L,k),ne))return ne}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],i=t[1],o=t[2],s=t[3],a=[r,i,r,s,o,s,o,i];return k0(a,0,8,2,e,a),a},n.prototype.isEmpty=function(){return c1(this.executorsByZIndex_)},n.prototype.execute=function(e,t,r,i,o,s,a){var f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(u1),this.maxExtent_&&(e.save(),this.clip(e,r));var m=s||n6,C,k,I,K,L,q;for(a&&f.reverse(),C=0,k=f.length;C<k;++C){var X=f[C].toString();for(L=this.executorsByZIndex_[X],I=0,K=m.length;I<K;++I){var H=m[I];q=L[H],q!==void 0&&q.execute(e,t,r,i,o,a)}}this.maxExtent_&&e.restore()},n}(),r6={};function Vue(n){if(r6[n]!==void 0)return r6[n];for(var e=n*2+1,t=n*n,r=new Array(t+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var s=i*i+o*o;if(s>t)break;var a=r[s];a||(a=[],r[s]=a),a.push(((n+i)*e+(n+o))*4+3),i>0&&a.push(((n-i)*e+(n+o))*4+3),o>0&&(a.push(((n+i)*e+(n-o))*4+3),i>0&&a.push(((n-i)*e+(n-o))*4+3))}for(var f=[],i=0,m=r.length;i<m;++i)r[i]&&f.push.apply(f,r[i]);return r6[n]=f,f}var Hue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zue=function(n){Hue(e,n);function e(t,r,i,o,s,a,f){var m=n.call(this)||this;return m.context_=t,m.pixelRatio_=r,m.extent_=i,m.transform_=o,m.viewRotation_=s,m.squaredTolerance_=a,m.userTransform_=f,m.contextFillState_=null,m.contextStrokeState_=null,m.contextTextState_=null,m.fillState_=null,m.strokeState_=null,m.image_=null,m.imageAnchorX_=0,m.imageAnchorY_=0,m.imageHeight_=0,m.imageOpacity_=0,m.imageOriginX_=0,m.imageOriginY_=0,m.imageRotateWithView_=!1,m.imageRotation_=0,m.imageScale_=[0,0],m.imageWidth_=0,m.text_="",m.textOffsetX_=0,m.textOffsetY_=0,m.textRotateWithView_=!1,m.textRotation_=0,m.textScale_=[0,0],m.textFillState_=null,m.textStrokeState_=null,m.textState_=null,m.pixelCoordinates_=[],m.tmpLocalTransform_=cd(),m}return e.prototype.drawImages_=function(t,r,i,o){if(this.image_){var s=k0(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.tmpLocalTransform_,m=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=m*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var k=0,I=s.length;k<I;k+=2){var K=s[k]-this.imageAnchorX_,L=s[k+1]-this.imageAnchorY_;if(C!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var q=K+this.imageAnchorX_,X=L+this.imageAnchorY_;mp(f,q,X,1,1,C,-q,-X),a.setTransform.apply(a,f),a.translate(q,X),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,L,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=m)}},e.prototype.drawText_=function(t,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=k0(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);r<i;r+=o){var m=s[r]+this.textOffsetX_,C=s[r+1]+this.textOffsetY_;if(f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var k=mp(this.tmpLocalTransform_,m,C,1,1,f,-m,-C);a.setTransform.apply(a,k),a.translate(m,C),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,m,C),this.textFillState_&&a.fillText(this.text_,m,C)}}},e.prototype.moveToLineTo_=function(t,r,i,o,s){var a=this.context_,f=k0(t,r,i,o,this.transform_,this.pixelCoordinates_);a.moveTo(f[0],f[1]);var m=f.length;s&&(m-=2);for(var C=2;C<m;C+=2)a.lineTo(f[C],f[C+1]);return s&&a.closePath(),i},e.prototype.drawRings_=function(t,r,i,o){for(var s=0,a=i.length;s<a;++s)r=this.moveToLineTo_(t,r,i[s],o,!0);return r},e.prototype.drawCircle=function(t){if(Tl(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Sae(t,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],s=Math.sqrt(i*i+o*o),a=this.context_;a.beginPath(),a.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}},e.prototype.drawFeature=function(t,r){var i=r.getGeometryFunction()(t);!i||!Tl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Tl(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(Tl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),s=0,a=t.getEnds(),f=t.getStride();i.beginPath();for(var m=0,C=a.length;m<C;++m)s=this.moveToLineTo_(o,s,a[m],f,!1);i.stroke()}if(this.text_!==""){var k=t.getFlatMidpoints();this.drawText_(k,0,k.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Tl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Tl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),a=t.getStride();r.beginPath();for(var f=0,m=s.length;f<m;++f){var C=s[f];o=this.drawRings_(i,o,C,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var k=t.getFlatInteriorPoints();this.drawText_(k,0,k.length,2)}}},e.prototype.setContextFillState_=function(t){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(C1(i.lineDash,t.lineDash)||r.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var r=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Db;i?(i.font!=t.font&&(i.font=t.font,r.font=t.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=o,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,r){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:up(o||hm)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),a=r.getLineCap(),f=r.getLineDash(),m=r.getLineDashOffset(),C=r.getLineJoin(),k=r.getWidth(),I=r.getMiterLimit(),K=f||kb;this.strokeState_={lineCap:a!==void 0?a:Ow,lineDash:this.pixelRatio_===1?K:K.map(function(L){return L*i.pixelRatio_}),lineDashOffset:(m||Tb)*this.pixelRatio_,lineJoin:C!==void 0?C:Pv,lineWidth:(k!==void 0?k:Lb)*this.pixelRatio_,miterLimit:I!==void 0?I:Pb,strokeStyle:up(s||Kb)}}},e.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:up(i||hm)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),a=o.getLineCap(),f=o.getLineDash(),m=o.getLineDashOffset(),C=o.getLineJoin(),k=o.getWidth(),I=o.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:Ow,lineDash:f||kb,lineDashOffset:m||Tb,lineJoin:C!==void 0?C:Pv,lineWidth:k!==void 0?k:Lb,miterLimit:I!==void 0?I:Pb,strokeStyle:up(s||Kb)}}var K=t.getFont(),L=t.getOffsetX(),q=t.getOffsetY(),X=t.getRotateWithView(),H=t.getRotation(),G=t.getScaleArray(),ee=t.getText(),ne=t.getTextAlign(),se=t.getTextBaseline();this.textState_={font:K!==void 0?K:vW,textAlign:ne!==void 0?ne:Db,textBaseline:se!==void 0?se:Bw},this.text_=ee!==void 0?Array.isArray(ee)?ee.reduce(function(Ae,V,re){return Ae+=re%2?" ":V},""):ee:"",this.textOffsetX_=L!==void 0?this.pixelRatio_*L:0,this.textOffsetY_=q!==void 0?this.pixelRatio_*q:0,this.textRotateWithView_=X!==void 0?X:!1,this.textRotation_=H!==void 0?H:0,this.textScale_=[this.pixelRatio_*G[0],this.pixelRatio_*G[1]]}},e}(FW);const a0={FRACTION:"fraction",PIXELS:"pixels"},Zh={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var Xue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jue=function(n){Xue(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return e.prototype.changed=function(){this.dispatchEvent(Ni.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Mi()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Mi()},e}(Hv),eAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){eAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,i,ds.IDLE)||this;return f.src_=o,f.image_=new Image,s!==null&&(f.image_.crossOrigin=s),f.unlisten_=null,f.state=ds.IDLE,f.imageLoadFunction_=a,f}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ds.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Wc(this.extent)/this.image_.height),this.state=ds.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==ds.IDLE||this.state==ds.ERROR)&&(this.state=ds.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=sk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Wc(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(Jue);function sk(n,e,t){var r=n,i=!0,o=!1,s=!1,a=[yw(r,Ni.LOAD,function(){s=!0,o||e()})];return r.src&&Koe?(o=!0,r.decode().then(function(){i&&e()}).catch(function(f){i&&(s?e():t())})):a.push(yw(r,Ni.ERROR,t)),function(){i=!1,a.forEach(ps)}}var tAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X_=null,nAe=function(n){tAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this)||this;return f.hitDetectionImage_=null,f.image_=t||new Image,o!==null&&(f.image_.crossOrigin=o),f.canvas_={},f.color_=a,f.unlisten_=null,f.imageState_=s,f.size_=i,f.src_=r,f.tainted_,f}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ds.LOADED){X_||(X_=Gc(1,1)),X_.drawImage(this.image_,0,0);try{X_.getImageData(0,0,1,1),this.tainted_=!1}catch{X_=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Ni.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ds.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ds.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],i=Gc(t,r);i.fillRect(0,0,t,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ds.IDLE){this.imageState_=ds.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=sk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==ds.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var i=r.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=dW(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.color_[0]/255,f=this.color_[1]/255,m=this.color_[2]/255,C=this.color_[3],k=0,I=s.length;k<I;k+=4)s[k]*=a,s[k+1]*=f,s[k+2]*=m,s[k+3]*=C;i.putImageData(o,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Hv);function rAe(n,e,t,r,i,o){var s=Mw.get(e,r,o);return s||(s=new nAe(n,e,t,r,i,o),Mw.set(e,r,o,s)),s}var iAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jW=function(n){iAe(e,n);function e(t){var r=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,a=i.scale!==void 0?i.scale:1,f=i.rotateWithView!==void 0?i.rotateWithView:!1;r=n.call(this,{opacity:o,rotation:s,scale:a,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:f,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Zh.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:a0.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:a0.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var m=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var C=i.src;bo(!(C!==void 0&&m),4),bo(!m||m&&r.imgSize_,5),(C===void 0||C.length===0)&&m&&(C=m.src||Hi(m)),bo(C!==void 0&&C.length>0,6);var k=i.src!==void 0?ds.IDLE:ds.LOADED;return r.color_=i.color!==void 0?ww(i.color):null,r.iconImage_=rAe(m,C,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,k,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Zh.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==a0.FRACTION||this.anchorYUnits_==a0.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==a0.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==a0.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=Zh.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==Zh.TOP_RIGHT||this.anchorOrigin_==Zh.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==Zh.BOTTOM_LEFT||this.anchorOrigin_==Zh.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Zh.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;t=t.slice(),(this.offsetOrigin_==Zh.TOP_RIGHT||this.offsetOrigin_==Zh.BOTTOM_RIGHT)&&(t[0]=i[0]-r[0]-t[0]),(this.offsetOrigin_==Zh.BOTTOM_LEFT||this.offsetOrigin_==Zh.BOTTOM_RIGHT)&&(t[1]=i[1]-r[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Ni.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Ni.CHANGE,t)},e}(KW),oAe="#333",aAe=function(){function n(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=rc(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ry({color:oAe}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:RW.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getJustify=function(){return this.justify_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(e){this.overflow_=e},n.prototype.setFont=function(e){this.font_=e},n.prototype.setMaxAngle=function(e){this.maxAngle_=e},n.prototype.setOffsetX=function(e){this.offsetX_=e},n.prototype.setOffsetY=function(e){this.offsetY_=e},n.prototype.setPlacement=function(e){this.placement_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setFill=function(e){this.fill_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=rc(e!==void 0?e:1)},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.setText=function(e){this.text_=e},n.prototype.setTextAlign=function(e){this.textAlign_=e},n.prototype.setJustify=function(e){this.justify_=e},n.prototype.setTextBaseline=function(e){this.textBaseline_=e},n.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},n.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},n.prototype.setPadding=function(e){this.padding_=e},n}(),Ch=.5;function zW(n,e,t,r,i,o,s){var a=n[0]*Ch,f=n[1]*Ch,m=Gc(a,f);m.imageSmoothingEnabled=!1;for(var C=m.canvas,k=new Zue(m,Ch,i,null,s),I=t.length,K=Math.floor((256*256*256-1)/I),L={},q=1;q<=I;++q){var X=t[q-1],H=X.getStyleFunction()||r;if(r){var G=H(X,o);if(G){Array.isArray(G)||(G=[G]);for(var ee=q*K,ne="#"+("000000"+ee.toString(16)).slice(-6),se=0,Ae=G.length;se<Ae;++se){var V=G[se],re=V.getGeometryFunction()(X);if(!(!re||!Tl(i,re.getExtent()))){var be=V.clone(),_e=be.getFill();_e&&_e.setColor(ne);var Pe=be.getStroke();Pe&&(Pe.setColor(ne),Pe.setLineDash(null)),be.setText(void 0);var Ue=V.getImage();if(Ue&&Ue.getOpacity()!==0){var pe=Ue.getImageSize();if(!pe)continue;var Ye=Gc(pe[0],pe[1],void 0,{alpha:!1}),we=Ye.canvas;Ye.fillStyle=ne,Ye.fillRect(0,0,we.width,we.height),be.setImage(new jW({img:we,imgSize:pe,anchor:Ue.getAnchor(),anchorXUnits:a0.PIXELS,anchorYUnits:a0.PIXELS,offset:Ue.getOrigin(),opacity:1,size:Ue.getSize(),scale:Ue.getScale(),rotation:Ue.getRotation(),rotateWithView:Ue.getRotateWithView()}))}var pt=be.getZIndex()||0,wt=L[pt];wt||(wt={},L[pt]=wt,wt.Polygon=[],wt.Circle=[],wt.LineString=[],wt.Point=[]),wt[re.getType().replace("Multi","")].push(re,be)}}}}}for(var ft=Object.keys(L).map(Number).sort(u1),q=0,bt=ft.length;q<bt;++q){var wt=L[ft[q]];for(var $e in wt)for(var tt=wt[$e],se=0,Ae=tt.length;se<Ae;se+=2){k.setStyle(tt[se+1]);for(var nt=0,en=e.length;nt<en;++nt)k.setTransform(e[nt]),k.drawGeometry(tt[se])}}return m.getImageData(0,0,C.width,C.height)}function NW(n,e,t){var r=[];if(t){var i=Math.floor(Math.round(n[0])*Ch),o=Math.floor(Math.round(n[1])*Ch),s=(eu(i,0,t.width-1)+eu(o,0,t.height-1)*t.width)*4,a=t.data[s],f=t.data[s+1],m=t.data[s+2],C=m+256*(f+256*a),k=Math.floor((256*256*256-1)/e.length);C&&C%k===0&&r.push(e[C/k-1])}return r}var sAe=.5,WW={Point:pAe,LineString:hAe,Polygon:gAe,MultiPoint:mAe,MultiLineString:dAe,MultiPolygon:fAe,GeometryCollection:cAe,Circle:uAe};function lAe(n,e){return parseInt(Hi(n),10)-parseInt(Hi(e),10)}function GW(n,e){var t=VB(n,e);return t*t}function VB(n,e){return sAe*n/e}function uAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=n.getBuilder(t.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}function Kw(n,e,t,r,i,o,s){var a=!1,f=t.getImage();if(f){var m=f.getImageState();m==ds.LOADED||m==ds.ERROR?f.unlistenImageChange(i):(m==ds.IDLE&&f.load(),f.listenImageChange(i),a=!0)}return AAe(n,e,t,r,o,s),a}function AAe(n,e,t,r,i,o){var s=t.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(r,i),f=t.getRenderer();if(f)QW(n,a,t,e);else{var m=WW[a.getType()];m(n,a,t,e,o)}}}function QW(n,e,t,r){if(e.getType()=="GeometryCollection"){for(var i=e.getGeometries(),o=0,s=i.length;o<s;++o)QW(n,i[o],t,r);return}var a=n.getBuilder(t.getZIndex(),"Default");a.drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer())}function cAe(n,e,t,r,i){var o=e.getGeometriesArray(),s,a;for(s=0,a=o.length;s<a;++s){var f=WW[o[s].getType()];f(n,o[s],t,r,i)}}function hAe(n,e,t,r,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=t.getText();if(a&&a.getText()){var f=(i||n).getBuilder(t.getZIndex(),"Text");f.setTextStyle(a),f.drawText(e,r)}}function dAe(n,e,t,r,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=t.getText();if(a&&a.getText()){var f=(i||n).getBuilder(t.getZIndex(),"Text");f.setTextStyle(a),f.drawText(e,r)}}function fAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(s||o){var a=n.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}function pAe(n,e,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=ds.LOADED)return;var f=n;if(i){var m=o.getDeclutterMode();if(m!=="none")if(f=i,m==="obstacle"){var C=n.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawPoint(e,r)}else s&&s.getText()&&(a={})}var k=f.getBuilder(t.getZIndex(),"Image");k.setImageStyle(o,a),k.drawPoint(e,r)}if(s&&s.getText()){var I=n;i&&(I=i);var K=I.getBuilder(t.getZIndex(),"Text");K.setTextStyle(s,a),K.drawText(e,r)}}function mAe(n,e,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=ds.LOADED)return;var f=n;if(i){var m=o.getDeclutterMode();if(m!=="none")if(f=i,m==="obstacle"){var C=n.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawMultiPoint(e,r)}else s&&s.getText()&&(a={})}var k=f.getBuilder(t.getZIndex(),"Image");k.setImageStyle(o,a),k.drawMultiPoint(e,r)}if(s&&s.getText()){var I=n;i&&(I=i);var K=I.getBuilder(t.getZIndex(),"Text");K.setTextStyle(s,a),K.drawText(e,r)}}function gAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=n.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}var yAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vAe=function(n){yAe(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=pd(),r.wrappedRenderedExtent_=pd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return e.prototype.renderWorlds=function(t,r,i){var o=r.extent,s=r.viewState,a=s.center,f=s.resolution,m=s.projection,C=s.rotation,k=m.getExtent(),I=this.getLayer().getSource(),K=r.pixelRatio,L=r.viewHints,q=!(L[ml.ANIMATING]||L[ml.INTERACTING]),X=this.compositionContext_,H=Math.round(r.size[0]*K),G=Math.round(r.size[1]*K),ee=I.getWrapX()&&m.canWrapX(),ne=ee?xs(k):null,se=ee?Math.ceil((o[2]-k[2])/ne)+1:1,Ae=ee?Math.floor((o[0]-k[0])/ne):0;do{var V=this.getRenderTransform(a,f,C,K,H,G,Ae*ne);t.execute(X,1,V,C,q,void 0,i)}while(++Ae<se)},e.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var t=Gc(this.context.canvas.width,this.context.canvas.height,oD);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,J7(this.compositionContext_),oD.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,r){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Loe(this.pixelTransform,1/i,1/i),O7(this.inversePixelTransform,this.pixelTransform);var s=jN(this.pixelTransform);this.useContainer(r,s,this.getBackground(t));var a=this.context,f=a.canvas,m=this.replayGroup_,C=this.declutterExecutorGroup;if((!m||m.isEmpty())&&(!C||C.isEmpty()))return null;var k=Math.round(t.size[0]*i),I=Math.round(t.size[1]*i);f.width!=k||f.height!=I?(f.width=k,f.height=I,f.style.transform!==s&&(f.style.transform=s)):this.containerReused||a.clearRect(0,0,k,I),this.preRender(a,t);var K=t.viewState;K.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var L=!1,q=!0;if(o.extent&&this.clipping){var X=Rg(o.extent);q=Tl(X,t.extent),L=q&&!d0(X,t.extent),L&&this.clipUnrotated(this.compositionContext_,t,X)}return q&&this.renderWorlds(m,t),L&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,t),this.renderedRotation_!==K.rotation&&(this.renderedRotation_=K.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Il(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,f=this.renderedProjection_,m=this.wrappedRenderedExtent_,C=this.getLayer(),k=[],I=i[0]*Ch,K=i[1]*Ch;k.push(this.getRenderTransform(o,s,a,Ch,I,K,0).slice());var L=C.getSource(),q=f.getExtent();if(L.getWrapX()&&f.canWrapX()&&!d0(q,m)){for(var X=m[0],H=xs(q),G=0,ee=void 0;X<q[0];)--G,ee=H*G,k.push(this.getRenderTransform(o,s,a,Ch,I,K,ee).slice()),X+=H;for(G=0,X=m[2];X>q[2];)++G,ee=H*G,k.push(this.getRenderTransform(o,s,a,Ch,I,K,ee).slice()),X-=H}this.hitDetectionImageData_=zW(i,k,this.renderedFeatures_,C.getStyleFunction(),m,s,a)}r(NW(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=this;if(this.replayGroup_){var f=r.viewState.resolution,m=r.viewState.rotation,C=this.getLayer(),k={},I=function(q,X,H){var G=Hi(q),ee=k[G];if(ee){if(ee!==!0&&H<ee.distanceSq){if(H===0)return k[G]=!0,s.splice(s.lastIndexOf(ee),1),o(q,C,X);ee.geometry=X,ee.distanceSq=H}}else{if(H===0)return k[G]=!0,o(q,C,X);s.push(k[G]={feature:q,layer:C,geometry:X,distanceSq:H,callback:o})}},K,L=[this.replayGroup_];return this.declutterExecutorGroup&&L.push(this.declutterExecutorGroup),L.some(function(q){return K=q.forEachFeatureAtCoordinate(t,f,m,i,I,q===a.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(X){return X.value}):null)}),K}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=t.viewHints[ml.ANIMATING],s=t.viewHints[ml.INTERACTING],a=r.getUpdateWhileAnimating(),f=r.getUpdateWhileInteracting();if(this.ready&&!a&&o||!f&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var m=t.extent,C=t.viewState,k=C.projection,I=C.resolution,K=t.pixelRatio,L=r.getRevision(),q=r.getRenderBuffer(),X=r.getRenderOrder();X===void 0&&(X=lAe);var H=C.center.slice(),G=I0(m,q*I),ee=G.slice(),ne=[G.slice()],se=k.getExtent();if(i.getWrapX()&&k.canWrapX()&&!d0(se,t.extent)){var Ae=xs(se),V=Math.max(xs(G)/2,Ae);G[0]=se[0]-V,G[2]=se[2]+V,F7(H,k);var re=$N(ne[0],k);re[0]<se[0]&&re[2]<se[2]?ne.push([re[0]+Ae,re[1],re[2]+Ae,re[3]]):re[0]>se[0]&&re[2]>se[2]&&ne.push([re[0]-Ae,re[1],re[2]-Ae,re[3]])}if(this.ready&&this.renderedResolution_==I&&this.renderedRevision_==L&&this.renderedRenderOrder_==X&&d0(this.wrappedRenderedExtent_,G))return C1(this.renderedExtent_,ee)||(this.hitDetectionImageData_=null,this.renderedExtent_=ee),this.renderedCenter_=H,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var be=new Tw(VB(I,K),G,I,K),_e;this.getLayer().getDeclutter()&&(_e=new Tw(VB(I,K),G,I,K));for(var Pe,Ue,pe,Ue=0,pe=ne.length;Ue<pe;++Ue)i.loadFeatures(ne[Ue],I,k);var Ye=GW(I,K),we=!0,pt=(function(tt){var nt,en=tt.getStyleFunction()||r.getStyleFunction();if(en&&(nt=en(tt,I)),nt){var tn=this.renderFeature(tt,Ye,nt,be,Pe,_e);we=we&&!tn}}).bind(this),wt=HN(G),ft=i.getFeaturesInExtent(wt);X&&ft.sort(X);for(var Ue=0,pe=ft.length;Ue<pe;++Ue)pt(ft[Ue]);this.renderedFeatures_=ft,this.ready=we;var bt=be.finish(),$e=new Pw(G,I,K,i.getOverlaps(),bt,r.getRenderBuffer());return _e&&(this.declutterExecutorGroup=new Pw(G,I,K,i.getOverlaps(),_e.finish(),r.getRenderBuffer())),this.renderedResolution_=I,this.renderedRevision_=L,this.renderedRenderOrder_=X,this.renderedExtent_=ee,this.wrappedRenderedExtent_=G,this.renderedCenter_=H,this.renderedProjection_=k,this.replayGroup_=$e,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,r,i,o,s,a){if(!i)return!1;var f=!1;if(Array.isArray(i))for(var m=0,C=i.length;m<C;++m)f=Kw(o,t,i[m],r,this.boundHandleStyleImageChange_,s,a)||f;else f=Kw(o,t,i,r,this.boundHandleStyleImageChange_,s,a);return f},e}(UW),_Ae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$W=function(n){_Ae(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new vAe(this)},e}(LW),lD=function(){function n(e){this.rbush_=new PW(e),this.items_={}}return n.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Hi(t)]=r},n.prototype.load=function(e,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var s=e[i],a=t[i],f={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=f,this.items_[Hi(a)]=f}this.rbush_.load(r)},n.prototype.remove=function(e){var t=Hi(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(e,t){var r=this.items_[Hi(t)],i=[r.minX,r.minY,r.maxX,r.maxY];kv(i,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(i){return i.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var r,i=0,o=e.length;i<o;i++)if(r=t(e[i]),r)return r;return r},n.prototype.isEmpty=function(){return c1(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return gp(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),CAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YW=function(n){CAe(e,n);function e(t){var r=n.call(this)||this;r.projection=Zs(t.projection),r.attributions_=uD(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:"ready",r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),r}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Mi()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=uD(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(_f);function uD(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}const of={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function bAe(n,e){return[[-1/0,-1/0,1/0,1/0]]}var xAe=!1;function qW(n,e,t,r,i,o,s){var a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,r,i):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=xAe,a.onload=function(f){if(!a.status||a.status>=200&&a.status<300){var m=e.getType(),C=void 0;m=="json"||m=="text"?C=a.responseText:m=="xml"?(C=a.responseXML,C||(C=new DOMParser().parseFromString(a.responseText,"application/xml"))):m=="arraybuffer"&&(C=a.response),C?o(e.readFeatures(C,{extent:t,featureProjection:i}),e.readProjection(C)):s()}else s()},a.onerror=s,a.send()}function AD(n,e){return function(t,r,i,o,s){var a=this;qW(n,e,t,r,i,function(f,m){a.addFeatures(f),o!==void 0&&o(f)},s||A1)}}var VW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zm=function(n){VW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.feature=r,o.features=i,o}return e}(bm),HW=function(n){VW(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=A1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(bo(r.format_,7),r.loader_=AD(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:bAe;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new lD:null,r.loadedExtentsRtree_=new lD,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,a;return Array.isArray(i.features)?a=i.features:i.features&&(s=i.features,a=s.getArray()),!o&&s===void 0&&(s=new ld(a)),a!==void 0&&r.addFeaturesInternal(a),s!==void 0&&r.bindFeaturesCollection_(s),r}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var r=Hi(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Zm(of.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[Lo(r,Ni.CHANGE,this.handleFeatureChange_,this),Lo(r,Iv.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(bo(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var r=[],i=[],o=[],s=0,a=t.length;s<a;s++){var f=t[s],m=Hi(f);this.addToIndex_(m,f)&&i.push(f)}for(var s=0,C=i.length;s<C;s++){var f=i[s],m=Hi(f);this.setupChangeEvents_(m,f);var k=f.getGeometry();if(k){var I=k.getExtent();r.push(I),o.push(f)}else this.nullGeometryFeatures_[m]=f}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(of.ADDFEATURE))for(var s=0,K=i.length;s<K;s++)this.dispatchEvent(new Zm(of.ADDFEATURE,i[s]))},e.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(of.ADDFEATURE,function(i){r||(r=!0,t.push(i.feature),r=!1)}),this.addEventListener(of.REMOVEFEATURE,function(i){r||(r=!0,t.remove(i.feature),r=!1)}),t.addEventListener(Rc.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),t.addEventListener(Rc.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(ps)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(f){this.removeFeatureInternal(f)}).bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new Zm(of.CLEAR);this.dispatchEvent(a),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(t))return r(o)})},e.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},e.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var s=r(i);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),c1(this.nullGeometryFeatures_)||pp(t,KN(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){r.push(i)}),r},e.prototype.getFeaturesInExtent=function(t,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(t);var s=Qoe(t,r);return[].concat.apply([],s.map(function(a){return i.featuresRtree_.getInExtent(a)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,r){var i=t[0],o=t[1],s=null,a=[NaN,NaN],f=1/0,m=[-1/0,-1/0,1/0,1/0],C=r||nv;return this.featuresRtree_.forEachInExtent(m,function(k){if(C(k)){var I=k.getGeometry(),K=f;if(f=I.closestPointXY(i,o,a,f),f<K){s=k;var L=Math.sqrt(f);m[0]=i-L,m[1]=o-L,m[2]=i+L,m[3]=o+L}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var r=t.target,i=Hi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var a=r.getId();if(a!==void 0){var f=a.toString();this.idIndex_[f]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[f]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Zm(of.CHANGEFEATURE,r))},e.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:Hi(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&c1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,r,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(t,r,i),a=function(k,I){var K=s[k],L=o.forEachInExtent(K,function(q){return d0(q.extent,K)});L||(++f.loadingExtentsCount_,f.dispatchEvent(new Zm(of.FEATURESLOADSTART)),f.loader_.call(f,K,r,i,(function(q){--this.loadingExtentsCount_,this.dispatchEvent(new Zm(of.FEATURESLOADEND,void 0,q))}).bind(f),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Zm(of.FEATURESLOADERROR))}).bind(f)),o.insert(K,{extent:K.slice()}))},f=this,m=0,C=s.length;m<C;++m)a(m);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(t,function(o){if(kv(o.extent,t))return i=o,!0}),i&&r.remove(i)},e.prototype.removeFeature=function(t){if(t){var r=Hi(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var r=Hi(t),i=this.featureChangeKeys_[r];if(i){i.forEach(ps),delete this.featureChangeKeys_[r];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Zm(of.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],r=!0;break}return r},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){bo(this.format_,7),this.url_=t,this.setLoader(AD(t,this.format_))},e}(YW);function wAe(n){var e=n||{},t=new ld,r=new cue(-.005,.05,100),i=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;i&&t.push(new tue);var o=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;o&&t.push(new Qle({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new Jle({onFocusOnly:e.onFocusOnly,kinetic:r}));var a=e.pinchRotate!==void 0?e.pinchRotate:!0;a&&t.push(new pue);var f=e.pinchZoom!==void 0?e.pinchZoom:!0;f&&t.push(new gue({duration:e.zoomDuration}));var m=e.keyboard!==void 0?e.keyboard:!0;m&&(t.push(new lue),t.push(new Aue({delta:e.zoomDelta,duration:e.zoomDuration})));var C=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;C&&t.push(new due({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var k=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return k&&t.push(new aue({duration:e.zoomDuration})),t}var MAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lk=function(n){MAe(e,n);function e(t){return t=Pl({},t),t.controls||(t.controls=zle()),t.interactions||(t.interactions=wAe({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new sle(this)},e}(Ile),uk=function(){function n(e,t,r,i){this.minX=e,this.maxX=t,this.minY=r,this.maxY=i}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function ry(n,e,t,r,i){return i!==void 0?(i.minX=n,i.maxX=e,i.minY=t,i.maxY=r,i):new uk(n,e,t,r)}function cD(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function Xv(n,e,t){return n+"/"+e+"/"+t}function ZW(n){return Xv(n[0],n[1],n[2])}function SAe(n){var e=n.substring(n.lastIndexOf("/")+1,n.length).split(",").map(Number),t=e[0],r=e[1],i=e[2];return Xv(t,r,i)}function XW(n){return n.split("/").map(Number)}function EAe(n){return(n[1]<<n[0])+n[2]}function OAe(n,e){var t=n[0],r=n[1],i=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var o=e.getFullTileRange(t);return o?o.containsXY(r,i):!0}var BAe=[0,0,0],Xm=5,f2=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,bo(_oe(this.resolutions_,function(s,a){return a-s}),17);var t;if(!e.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,bo(this.origins_.length==this.resolutions_.length,20));var o=e.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=G0(o)),bo(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,bo(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:ek,bo(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,a){var f=new uk(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var m=this.getTileRangeForExtentAndZ(o,a);f.minX=Math.max(m.minX,f.minX),f.maxX=Math.min(m.maxX,f.maxX),f.minY=Math.max(m.minY,f.minY),f.maxY=Math.min(m.maxY,f.maxY)}return f},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(e,t,r){for(var i=this.getTileRangeForExtentAndZ(e,t),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,f=i.maxY;a<=f;++a)r([t,o,a])},n.prototype.forEachTileCoordParentTileRange=function(e,t,r,i){var o,s,a,f=null,m=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):f=this.getTileCoordExtent(e,i);m>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=ry(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(f,m,r),t(m,o))return!0;--m}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var i=e[1]*2,o=e[2]*2;return ry(i,i+1,o,o+1,t)}var s=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],o=e[1],s=e[2];if(t===i)return ry(o,s,o,s,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),f=Math.floor(o*a),m=Math.floor(s*a);if(t<i)return ry(f,f,m,m,r);var C=Math.floor(a*(o+1))-1,k=Math.floor(a*(s+1))-1;return ry(f,C,m,k,r)}var I=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(I,t,r)},n.prototype.getTileRangeExtent=function(e,t,r){var i=this.getOrigin(e),o=this.getResolution(e),s=rc(this.getTileSize(e),this.tmpSize_),a=i[0]+t.minX*s[0]*o,f=i[0]+(t.maxX+1)*s[0]*o,m=i[1]+t.minY*s[1]*o,C=i[1]+(t.maxY+1)*s[1]*o;return gp(a,m,f,C,r)},n.prototype.getTileRangeForExtentAndZ=function(e,t,r){var i=BAe;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,i),ry(o,i[1],s,i[2],r)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=rc(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*r,t[1]-(e[2]+.5)*i[1]*r]},n.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=rc(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i,f=s+o[0]*i,m=a+o[1]*i;return gp(s,a,f,m,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),f=this.getOrigin(s),m=rc(this.getTileSize(s),this.tmpSize_),C=a*(e-f[0])/r/m[0],k=a*(f[1]-t)/r/m[1];return i?(C=v3(C,Xm)-1,k=v3(k,Xm)-1):(C=y3(C,Xm),k=y3(k,Xm)),cD(s,C,k,o)},n.prototype.getTileCoordForXYAndZ_=function(e,t,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),f=rc(this.getTileSize(r),this.tmpSize_),m=(e-s[0])/a/f[0],C=(s[1]-t)/a/f[1];return i?(m=v3(m,Xm)-1,C=v3(C,Xm)-1):(m=y3(m,Xm),C=y3(C,Xm)),cD(r,m,C,o)},n.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var r=S7(this.resolutions_,e,t||0);return eu(r,this.minZoom,this.maxZoom)},n.prototype.tileCoordIntersectsViewport=function(e,t){return nW(t,0,t.length,2,this.getTileCoordExtent(e))},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r},n}(),IAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pM=function(n){IAe(e,n);function e(t,r,i){var o=n.call(this)||this,s=i||{};return o.tileCoord=t,o.state=r,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return e.prototype.changed=function(){this.dispatchEvent(Ni.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==wr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==wr.LOADED){t.interimTile=null;break}else t.getState()==wr.LOADING?r=t:t.getState()==wr.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==wr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Mi()},e.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=r,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:wW(o/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Hv),kAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JW=function(n){kAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,a)||this;return f.crossOrigin_=o,f.src_=i,f.key=i,f.image_=new Image,o!==null&&(f.image_.crossOrigin=o),f.unlisten_=null,f.tileLoadFunction_=s,f}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=wr.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=wr.ERROR,this.unlistenImage_(),this.image_=TAe(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=wr.LOADED:this.state=wr.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==wr.ERROR&&(this.state=wr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==wr.IDLE&&(this.state=wr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=sk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(pM);function TAe(){var n=Gc(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var PAe=.5,KAe=10,hD=.25,DAe=function(){function n(e,t,r,i,o,s){this.sourceProj_=e,this.targetProj_=t;var a={},f=Cw(this.targetProj_,this.sourceProj_);this.transformInv_=function(ee){var ne=ee[0]+"/"+ee[1];return a[ne]||(a[ne]=f(ee)),a[ne]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&xs(i)==xs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xs(this.targetProj_.getExtent()):null;var m=G0(r),C=P7(r),k=T7(r),I=k7(r),K=this.transformInv_(m),L=this.transformInv_(C),q=this.transformInv_(k),X=this.transformInv_(I),H=KAe+(s?Math.max(0,Math.ceil(Yoe(kB(r)/(s*s*256*256)))):0);if(this.addQuad_(m,C,k,I,K,L,q,X,H),this.wrapsXInSource_){var G=1/0;this.triangles_.forEach(function(ee,ne,se){G=Math.min(G,ee.source[0][0],ee.source[1][0],ee.source[2][0])}),this.triangles_.forEach((function(ee){if(Math.max(ee.source[0][0],ee.source[1][0],ee.source[2][0])-G>this.sourceWorldWidth_/2){var ne=[[ee.source[0][0],ee.source[0][1]],[ee.source[1][0],ee.source[1][1]],[ee.source[2][0],ee.source[2][1]]];ne[0][0]-G>this.sourceWorldWidth_/2&&(ne[0][0]-=this.sourceWorldWidth_),ne[1][0]-G>this.sourceWorldWidth_/2&&(ne[1][0]-=this.sourceWorldWidth_),ne[2][0]-G>this.sourceWorldWidth_/2&&(ne[2][0]-=this.sourceWorldWidth_);var se=Math.min(ne[0][0],ne[1][0],ne[2][0]),Ae=Math.max(ne[0][0],ne[1][0],ne[2][0]);Ae-se<this.sourceWorldWidth_/2&&(ee.source=ne)}}).bind(this))}a={}}return n.prototype.addTriangle_=function(e,t,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,t,r]})},n.prototype.addQuad_=function(e,t,r,i,o,s,a,f,m){var C=BB([o,s,a,f]),k=this.sourceWorldWidth_?xs(C)/this.sourceWorldWidth_:null,I=this.sourceWorldWidth_,K=this.sourceProj_.canWrapX()&&k>.5&&k<1,L=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var q=BB([e,t,r,i]),X=xs(q)/this.targetWorldWidth_;L=X>hD||L}!K&&this.sourceProj_.isGlobal()&&k&&(L=k>hD||L)}if(!(!L&&this.maxSourceExtent_&&isFinite(C[0])&&isFinite(C[1])&&isFinite(C[2])&&isFinite(C[3])&&!Tl(C,this.maxSourceExtent_))){var H=0;if(!L&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(f[0])||!isFinite(f[1]))){if(m>0)L=!0;else if(H=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),H!=1&&H!=2&&H!=4&&H!=8)return}if(m>0){if(!L){var G=[(e[0]+r[0])/2,(e[1]+r[1])/2],ee=this.transformInv_(G),ne=void 0;if(K){var se=(Zg(o[0],I)+Zg(a[0],I))/2;ne=se-Zg(ee[0],I)}else ne=(o[0]+a[0])/2-ee[0];var Ae=(o[1]+a[1])/2-ee[1],V=ne*ne+Ae*Ae;L=V>this.errorThresholdSquared_}if(L){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var re=[(t[0]+r[0])/2,(t[1]+r[1])/2],be=this.transformInv_(re),_e=[(i[0]+e[0])/2,(i[1]+e[1])/2],Pe=this.transformInv_(_e);this.addQuad_(e,t,re,_e,o,s,be,Pe,m-1),this.addQuad_(_e,re,r,i,Pe,be,a,f,m-1)}else{var Ue=[(e[0]+t[0])/2,(e[1]+t[1])/2],pe=this.transformInv_(Ue),Ye=[(r[0]+i[0])/2,(r[1]+i[1])/2],we=this.transformInv_(Ye);this.addQuad_(e,Ue,Ye,i,o,pe,we,f,m-1),this.addQuad_(Ue,t,r,Ye,pe,s,a,we,m-1)}return}}if(K){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}H&11||this.addTriangle_(e,r,i,o,a,f),H&14||this.addTriangle_(e,r,t,o,a,s),H&&(H&13||this.addTriangle_(t,i,e,s,f,o),H&7||this.addTriangle_(t,i,r,s,f,a))}},n.prototype.calculateSourceExtent=function(){var e=pd();return this.triangles_.forEach(function(t,r,i){var o=t.source;zC(e,o[0]),zC(e,o[1]),zC(e,o[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),HB={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},LAe={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},i6,eG=[];function dD(n,e,t,r,i){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,i)),n.restore()}function o6(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function FAe(){if(i6===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",dD(n,4,5,4,0),dD(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;i6=o6(e,0)||o6(e,4)||o6(e,8)}return i6}function fD(n,e,t,r){var i=j7(t,e,n),o=BK(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);var a=n.getMetersPerUnit();a!==void 0&&(o/=a);var f=n.getExtent();if(!f||l2(f,i)){var m=BK(n,o,i)/o;isFinite(m)&&m>0&&(o/=m)}return o}function RAe(n,e,t,r){var i=R0(t),o=fD(n,e,i,r);return(!isFinite(o)||o<=0)&&QN(t,function(s){return o=fD(n,e,s,r),isFinite(o)&&o>0}),o}function UAe(n,e,t,r,i,o,s,a,f,m,C,k){var I=Gc(Math.round(t*n),Math.round(t*e),eG);if(k||Pl(I,HB),f.length===0)return I.canvas;I.scale(t,t);function K(ne){return Math.round(ne*t)/t}I.globalCompositeOperation="lighter";var L=pd();f.forEach(function(ne,se,Ae){WN(L,ne.extent)});var q=xs(L),X=Wc(L),H=Gc(Math.round(t*q/r),Math.round(t*X/r));k||Pl(H,HB);var G=t/r;f.forEach(function(ne,se,Ae){var V=ne.extent[0]-L[0],re=-(ne.extent[3]-L[3]),be=xs(ne.extent),_e=Wc(ne.extent);ne.image.width>0&&ne.image.height>0&&H.drawImage(ne.image,m,m,ne.image.width-2*m,ne.image.height-2*m,V*G,re*G,be*G,_e*G)});var ee=G0(s);return a.getTriangles().forEach(function(ne,se,Ae){var V=ne.source,re=ne.target,be=V[0][0],_e=V[0][1],Pe=V[1][0],Ue=V[1][1],pe=V[2][0],Ye=V[2][1],we=K((re[0][0]-ee[0])/o),pt=K(-(re[0][1]-ee[1])/o),wt=K((re[1][0]-ee[0])/o),ft=K(-(re[1][1]-ee[1])/o),bt=K((re[2][0]-ee[0])/o),$e=K(-(re[2][1]-ee[1])/o),tt=be,nt=_e;be=0,_e=0,Pe-=tt,Ue-=nt,pe-=tt,Ye-=nt;var en=[[Pe,Ue,0,0,wt-we],[pe,Ye,0,0,bt-we],[0,0,Pe,Ue,ft-pt],[0,0,pe,Ye,$e-pt]],tn=Voe(en);if(tn){if(I.save(),I.beginPath(),FAe()||!k){I.moveTo(wt,ft);for(var St=4,Xt=we-wt,Nt=pt-ft,Fe=0;Fe<St;Fe++)I.lineTo(wt+K((Fe+1)*Xt/St),ft+K(Fe*Nt/(St-1))),Fe!=St-1&&I.lineTo(wt+K((Fe+1)*Xt/St),ft+K((Fe+1)*Nt/(St-1)));I.lineTo(bt,$e)}else I.moveTo(wt,ft),I.lineTo(we,pt),I.lineTo(bt,$e);I.clip(),I.transform(tn[0],tn[2],tn[1],tn[3],we,pt),I.translate(L[0]-tt,L[3]-nt),I.scale(r/t,-r/t),I.drawImage(H.canvas,0,0),I.restore()}}),C&&(I.save(),I.globalCompositeOperation="source-over",I.strokeStyle="black",I.lineWidth=1,a.getTriangles().forEach(function(ne,se,Ae){var V=ne.target,re=(V[0][0]-ee[0])/o,be=-(V[0][1]-ee[1])/o,_e=(V[1][0]-ee[0])/o,Pe=-(V[1][1]-ee[1])/o,Ue=(V[2][0]-ee[0])/o,pe=-(V[2][1]-ee[1])/o;I.beginPath(),I.moveTo(_e,Pe),I.lineTo(re,be),I.lineTo(Ue,pe),I.closePath(),I.stroke()}),I.restore()),I.canvas}var jAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tG=function(n){jAe(e,n);function e(t,r,i,o,s,a,f,m,C,k,I,K){var L=n.call(this,s,wr.IDLE,{interpolate:!!K})||this;L.renderEdges_=I!==void 0?I:!1,L.pixelRatio_=f,L.gutter_=m,L.canvas_=null,L.sourceTileGrid_=r,L.targetTileGrid_=o,L.wrappedTileCoord_=a||s,L.sourceTiles_=[],L.sourcesListenerKeys_=null,L.sourceZ_=0;var q=o.getTileCoordExtent(L.wrappedTileCoord_),X=L.targetTileGrid_.getExtent(),H=L.sourceTileGrid_.getExtent(),G=X?Vg(q,X):q;if(kB(G)===0)return L.state=wr.EMPTY,L;var ee=t.getExtent();ee&&(H?H=Vg(H,ee):H=ee);var ne=o.getResolution(L.wrappedTileCoord_[0]),se=RAe(t,i,G,ne);if(!isFinite(se)||se<=0)return L.state=wr.EMPTY,L;var Ae=k!==void 0?k:PAe;if(L.triangulation_=new DAe(t,i,G,H,se*Ae,ne),L.triangulation_.getTriangles().length===0)return L.state=wr.EMPTY,L;L.sourceZ_=r.getZForResolution(se);var V=L.triangulation_.calculateSourceExtent();if(H&&(t.canWrapX()?(V[1]=eu(V[1],H[1],H[3]),V[3]=eu(V[3],H[1],H[3])):V=Vg(V,H)),!kB(V))L.state=wr.EMPTY;else{for(var re=r.getTileRangeForExtentAndZ(V,L.sourceZ_),be=re.minX;be<=re.maxX;be++)for(var _e=re.minY;_e<=re.maxY;_e++){var Pe=C(L.sourceZ_,be,_e,f);Pe&&L.sourceTiles_.push(Pe)}L.sourceTiles_.length===0&&(L.state=wr.EMPTY)}return L}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(C,k,I){C&&C.getState()==wr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(C.tileCoord),image:C.getImage()})}).bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=wr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(r),f=this.sourceTileGrid_.getResolution(this.sourceZ_),m=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=UAe(o,s,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),a,m,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=wr.LOADED}this.changed()},e.prototype.load=function(){if(this.state==wr.IDLE){this.state=wr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var s=r.getState();if(s==wr.IDLE||s==wr.LOADING){t++;var a=Lo(r,Ni.CHANGE,function(f){var m=r.getState();(m==wr.LOADED||m==wr.ERROR||m==wr.EMPTY)&&(ps(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}).bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();s==wr.IDLE&&r.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ps),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&(J7(this.canvas_.getContext("2d")),eG.push(this.canvas_),this.canvas_=null),n.prototype.release.call(this)},e}(pM),zAe=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var r=this.entries_[e];return bo(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(e){var t=this.entries_[e];return bo(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.peek=function(e){if(this.containsKey(e))return this.entries_[e].value_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){bo(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),NAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ak=function(n){NAe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=XW(t),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(ZW(o.tileCoord)),o.release())}).bind(this))}},e}(zAe);const a6={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function nG(n){var e=n.getDefaultTileGrid();return e||(e=QAe(n),n.setDefaultTileGrid(e)),e}function WAe(n,e,t){var r=e[0],i=n.getTileCoordCenter(e),o=mM(t);if(l2(o,i))return e;var s=xs(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,n.getTileCoordForCoordAndZ(i,r)}function GAe(n,e,t,r){var i=rG(n,e,t);return new f2({extent:n,origin:zoe(n),resolutions:i,tileSize:t})}function ck(n){var e=n||{},t=e.extent||Zs("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:rG(t,e.maxZoom,e.tileSize,e.maxResolution)};return new f2(r)}function rG(n,e,t,r){for(var i=e!==void 0?e:xW,o=Wc(n),s=xs(n),a=rc(t!==void 0?t:ek),f=r>0?r:Math.max(s/a[0],o/a[1]),m=i+1,C=new Array(m),k=0;k<m;++k)C[k]=f/Math.pow(2,k);return C}function QAe(n,e,t,r){var i=mM(n);return GAe(i,e,t)}function mM(n){n=Zs(n);var e=n.getExtent();if(!e){var t=180*W0[sc.DEGREES]/n.getMetersPerUnit();e=gp(-t,-t,t,t)}return e}var iG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$Ae=function(n){iG(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return r.tileGrid&&rc(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new Ak(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);i&&i.expireCache(r)},e.prototype.forEachLoadedTile=function(t,r,i,o){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var a=!0,f,m,C,k=i.minX;k<=i.maxX;++k)for(var I=i.minY;I<=i.maxY;++I)m=Xv(r,k,I),C=!1,s.containsKey(m)&&(f=s.get(m),C=f.getState()===wr.LOADED,C&&(C=o(f)!==!1)),C||(a=!1);return a},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,r,i,o,s){return Mi()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:nG(t)},e.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();return bo(r===null||Og(r,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=rc(o.getTileSize(t),this.tmpSize);return s==1?a:Ole(a,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=WAe(o,t,i)),OAe(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,r){var i=this.getTileCacheForProjection(r);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,r,i,o){},e}(YW),YAe=function(n){iG(e,n);function e(t,r){var i=n.call(this,t)||this;return i.tile=r,i}return e}(bm);function qAe(n,e){var t=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,f){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var m=s[0],C=e.getFullTileRange(m);bo(C,55);var k=C.getHeight()-s[2]-1;return k.toString()})}}function oG(n,e){for(var t=n.length,r=new Array(t),i=0;i<t;++i)r[i]=qAe(n[i],e);return VAe(r)}function VAe(n){return n.length===1?n[0]:function(e,t,r){if(e){var i=EAe(e),o=Zg(i,n.length);return n[o](e,t,r)}else return}}function HAe(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),a=parseInt(t[1],10);a<=s;a++)e.push(n.replace(t[0],a.toString()));return e}return e.push(n),e}var ZAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aG=function(n){ZAe(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var r=t.target,i=Hi(r),o=r.getState(),s;o==wr.LOADING?(this.tileLoadingKeys_[i]=!0,s=a6.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==wr.ERROR?a6.TILELOADERROR:o==wr.LOADED?a6.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new YAe(s,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},e.prototype.setUrl=function(t){var r=HAe(t);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(oG(t,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(t,r,i){},e.prototype.useTile=function(t,r,i){var o=Xv(t,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}($Ae),XAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JAe=function(n){XAe(e,n);function e(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ece,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:JW,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Og(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Og(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){var r=this.getProjection();if(this.tileGrid&&(!r||Og(r,t)))return this.tileGrid;var i=Hi(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=nG(t)),this.tileGridForProjection[i]},e.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();if(!r||Og(r,t))return this.tileCache;var i=Hi(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Ak(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,r,i,o,s,a){var f=[t,r,i],m=this.getTileCoordForTileUrlFunction(f,s),C=m?this.tileUrlFunction(m,o,s):void 0,k=new this.tileClass(f,C!==void 0?wr.IDLE:wr.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return k.key=a,k.addEventListener(Ni.CHANGE,this.handleTileChange.bind(this)),k},e.prototype.getTile=function(t,r,i,o,s){var a=this.getProjection();if(!a||!s||Og(a,s))return this.getTileInternal(t,r,i,o,a||s);var f=this.getTileCacheForProjection(s),m=[t,r,i],C=void 0,k=ZW(m);f.containsKey(k)&&(C=f.get(k));var I=this.getKey();if(C&&C.key==I)return C;var K=this.getTileGridForProjection(a),L=this.getTileGridForProjection(s),q=this.getTileCoordForTileUrlFunction(m,s),X=new tG(a,K,s,L,m,q,this.getTilePixelRatio(o),this.getGutter(),(function(H,G,ee,ne){return this.getTileInternal(H,G,ee,ne,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return X.key=I,C?(X.interimTile=C,X.refreshInterimChain(),f.replace(k,X)):f.set(k,X),X},e.prototype.getTileInternal=function(t,r,i,o,s){var a=null,f=Xv(t,r,i),m=this.getKey();if(!this.tileCache.containsKey(f))a=this.createTile_(t,r,i,o,s,m),this.tileCache.set(f,a);else if(a=this.tileCache.get(f),a.key!=m){var C=a;a=this.createTile_(t,r,i,o,s,m),C.getState()==wr.IDLE?a.interimTile=C.interimTile:a.interimTile=C,a.refreshInterimChain(),this.tileCache.replace(f,a)}return a},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,r){{var i=Zs(t);if(i){var o=Hi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},e}(aG);function ece(n,e){n.getImage().src=e}var sG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function tce(n,e,t,r){var i=document.createElement("script"),o="olc_"+Hi(e);function s(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=n+(n.indexOf("?")==-1?"?":"&")+"callback="+o;var a=setTimeout(function(){s(),t&&t()},1e4);window[o]=function(f){clearTimeout(a),s(),e(f)},document.head.appendChild(i)}(function(n){sG(e,n);function e(t){var r=this,i="Unexpected response status: "+t.status;return r=n.call(this,i)||this,r.name="ResponseError",r.response=t,r}return e})(Error);(function(n){sG(e,n);function e(t){var r=n.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=t,r}return e})(Error);var nce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lG=function(n){nce(e,n);function e(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;if(t.interpolate!==void 0&&(i=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:Zs("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)tce(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",t.url),o.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):bo(!1,51);return r}return e.prototype.onXHRLoad_=function(t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var r=Zs("EPSG:4326"),i=this.getProjection(),o;if(t.bounds!==void 0){var s=uM(r,i);o=Goe(t.bounds,s)}var a=mM(i),f=t.minzoom||0,m=t.maxzoom||22,C=ck({extent:a,maxZoom:m,minZoom:f,tileSize:this.tileSize_});if(this.tileGrid=C,this.tileUrlFunction=oG(t.tiles,C),t.attribution!==void 0&&!this.getAttributions()){var k=o!==void 0?o:a;this.setAttributions(function(I){return Tl(k,I.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState("ready")},e.prototype.handleTileJSONError=function(){this.setState("error")},e}(JAe);const m0={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var rce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ice=function(n){rce(e,n);function e(t){var r=this,i=t||{},o=Pl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=n.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return e.prototype.getPreload=function(){return this.get(m0.PRELOAD)},e.prototype.setPreload=function(t){this.set(m0.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(m0.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(m0.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(hM),oce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uG=function(n){oce(e,n);function e(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=pd(),r.tmpTileRange_=new uk(0,0,0,0),r}return e.prototype.isDrawableTile=function(t){var r=this.getLayer(),i=t.getState(),o=r.getUseInterimTilesOnError();return i==wr.LOADED||i==wr.EMPTY||i==wr.ERROR&&!o},e.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,f=this.getLayer(),m=f.getSource(),C=m.getTile(t,r,i,s,a);return C.getState()==wr.ERROR&&(f.getUseInterimTilesOnError()?f.getPreload()>0&&(this.newTiles_=!0):C.setState(wr.LOADED)),this.isDrawableTile(C)||(C=C.getInterimTile()),C},e.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=Il(r.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!l2(s,o))return null;for(var a=r.pixelRatio,f=r.viewState.projection,m=r.viewState,C=i.getRenderSource(),k=C.getTileGridForProjection(m.projection),I=C.getTilePixelRatio(r.pixelRatio),K=k.getZForResolution(m.resolution);K>=k.getMinZoom();--K){var L=k.getTileCoordForCoordAndZ(o,K),q=C.getTile(K,L[1],L[2],a,f);if(!(q instanceof JW||q instanceof tG))return null;if(q.getState()===wr.LOADED){var X=k.getOrigin(K),H=rc(k.getTileSize(K)),G=k.getResolution(K),ee=Math.floor(I*((o[0]-X[0])/G-L[1]*H[0])),ne=Math.floor(I*((X[1]-o[1])/G-L[2]*H[1])),se=Math.round(I*C.getGutterForProjection(m.projection));return this.getImageData(q.getImage(),ee+se,ne+se)}}return null},e.prototype.loadedTileCallback=function(t,r,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,r,i):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,r){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,s=o.projection,a=o.resolution,f=o.center,m=o.rotation,C=t.pixelRatio,k=this.getLayer(),I=k.getSource(),K=I.getRevision(),L=I.getTileGridForProjection(s),q=L.getZForResolution(a,I.zDirection),X=L.getResolution(q),H=t.extent,G=t.viewState.resolution,ee=I.getTilePixelRatio(C),ne=Math.round(xs(H)/G*C),se=Math.round(Wc(H)/G*C),Ae=i.extent&&Rg(i.extent);Ae&&(H=Vg(H,Rg(i.extent)));var V=X*ne/2/ee,re=X*se/2/ee,be=[f[0]-V,f[1]-re,f[0]+V,f[1]+re],_e=L.getTileRangeForExtentAndZ(H,q),Pe={};Pe[q]={};var Ue=this.createLoadedTileFinder(I,s,Pe),pe=this.tmpExtent,Ye=this.tmpTileRange_;this.newTiles_=!1;for(var we=m?PB(o.center,G,m,t.size):void 0,pt=_e.minX;pt<=_e.maxX;++pt)for(var wt=_e.minY;wt<=_e.maxY;++wt)if(!(m&&!L.tileCoordIntersectsViewport([q,pt,wt],we))){var ft=this.getTile(q,pt,wt,t);if(this.isDrawableTile(ft)){var bt=Hi(this);if(ft.getState()==wr.LOADED){Pe[q][ft.tileCoord.toString()]=ft;var $e=ft.inTransition(bt);$e&&i.opacity!==1&&(ft.endTransition(bt),$e=!1),!this.newTiles_&&($e||this.renderedTiles.indexOf(ft)===-1)&&(this.newTiles_=!0)}if(ft.getAlpha(bt,t.time)===1)continue}var tt=L.getTileCoordChildTileRange(ft.tileCoord,Ye,pe),nt=!1;tt&&(nt=Ue(q+1,tt)),nt||L.forEachTileCoordParentTileRange(ft.tileCoord,Ue,Ye,pe)}var en=X/a*C/ee;mp(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/C,1/C,m,-ne/2,-se/2);var tn=jN(this.pixelTransform);this.useContainer(r,tn,this.getBackground(t));var St=this.context,Xt=St.canvas;O7(this.inversePixelTransform,this.pixelTransform),mp(this.tempTransform,ne/2,se/2,en,en,0,-ne/2,-se/2),Xt.width!=ne||Xt.height!=se?(Xt.width=ne,Xt.height=se):this.containerReused||St.clearRect(0,0,ne,se),Ae&&this.clipUnrotated(St,t,Ae),I.getInterpolate()||Pl(St,HB),this.preRender(St,t),this.renderedTiles.length=0;var Nt=Object.keys(Pe).map(Number);Nt.sort(u1);var Fe,ye,ke;i.opacity===1&&(!this.containerReused||I.getOpaque(t.viewState.projection))?Nt=Nt.reverse():(Fe=[],ye=[]);for(var Ge=Nt.length-1;Ge>=0;--Ge){var st=Nt[Ge],ht=I.getTilePixelSize(st,C,s),Bt=L.getResolution(st),nn=Bt/X,Gt=ht[0]*nn*en,zn=ht[1]*nn*en,rr=L.getTileCoordForCoordAndZ(G0(be),st),xn=L.getTileCoordExtent(rr),Zn=Il(this.tempTransform,[ee*(xn[0]-be[0])/X,ee*(be[3]-xn[3])/X]),yr=ee*I.getGutterForProjection(s),Mr=Pe[st];for(var Or in Mr){var ft=Mr[Or],Jr=ft.tileCoord,_r=rr[1]-Jr[1],gi=Math.round(Zn[0]-(_r-1)*Gt),Te=rr[2]-Jr[2],te=Math.round(Zn[1]-(Te-1)*zn),pt=Math.round(Zn[0]-_r*Gt),wt=Math.round(Zn[1]-Te*zn),oe=gi-pt,je=te-wt,Ct=q===st,$e=Ct&&ft.getAlpha(Hi(this),t.time)!==1,Lt=!1;if(!$e)if(Fe){ke=[pt,wt,pt+oe,wt,pt+oe,wt+je,pt,wt+je];for(var jt=0,cr=Fe.length;jt<cr;++jt)if(q!==st&&st<ye[jt]){var Re=Fe[jt];Tl([pt,wt,pt+oe,wt+je],[Re[0],Re[3],Re[4],Re[7]])&&(Lt||(St.save(),Lt=!0),St.beginPath(),St.moveTo(ke[0],ke[1]),St.lineTo(ke[2],ke[3]),St.lineTo(ke[4],ke[5]),St.lineTo(ke[6],ke[7]),St.moveTo(Re[6],Re[7]),St.lineTo(Re[4],Re[5]),St.lineTo(Re[2],Re[3]),St.lineTo(Re[0],Re[1]),St.clip())}Fe.push(ke),ye.push(st)}else St.clearRect(pt,wt,oe,je);this.drawTileImage(ft,t,pt,wt,oe,je,yr,Ct),Fe&&!$e?(Lt&&St.restore(),this.renderedTiles.unshift(ft)):this.renderedTiles.push(ft),this.updateUsedTiles(t.usedTiles,I,ft)}}return this.renderedRevision=K,this.renderedResolution=X,this.extentChanged=!this.renderedExtent_||!kv(this.renderedExtent_,be),this.renderedExtent_=be,this.renderedPixelRatio=C,this.renderedProjection=s,this.manageTilePyramid(t,I,L,C,s,H,q,k.getPreload()),this.scheduleExpireCache(t,I),this.postRender(St,t),i.extent&&St.restore(),Pl(St,LAe),tn!==Xt.style.transform&&(Xt.style.transform=tn),this.container},e.prototype.drawTileImage=function(t,r,i,o,s,a,f,m){var C=this.getTileImage(t);if(C){var k=Hi(this),I=r.layerStatesArray[r.layerIndex],K=I.opacity*(m?t.getAlpha(k,r.time):1),L=K!==this.context.globalAlpha;L&&(this.context.save(),this.context.globalAlpha=K),this.context.drawImage(C,f,f,C.width-2*f,C.height-2*f,i,o,s,a),L&&this.context.restore(),K!==I.opacity?r.animate=!0:m&&t.endTransition(k)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=(function(o,s,a){var f=Hi(o);f in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[f])}).bind(null,r);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,r,i){var o=Hi(r);o in t||(t[o]={}),t[o][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,r,i,o,s,a,f,m,C){var k=Hi(r);k in t.wantedTiles||(t.wantedTiles[k]={});var I=t.wantedTiles[k],K=t.tileQueue,L=i.getMinZoom(),q=t.viewState.rotation,X=q?PB(t.viewState.center,t.viewState.resolution,q,t.size):void 0,H=0,G,ee,ne,se,Ae,V;for(V=L;V<=f;++V)for(ee=i.getTileRangeForExtentAndZ(a,V,ee),ne=i.getResolution(V),se=ee.minX;se<=ee.maxX;++se)for(Ae=ee.minY;Ae<=ee.maxY;++Ae)q&&!i.tileCoordIntersectsViewport([V,se,Ae],X)||(f-V<=m?(++H,G=r.getTile(V,se,Ae,o,s),G.getState()==wr.IDLE&&(I[G.getKey()]=!0,K.isKeyQueued(G.getKey())||K.enqueue([G,k,i.getTileCoordCenter(G.tileCoord),ne])),C!==void 0&&C(G)):r.useTile(V,se,Ae,s));r.updateCacheSize(H,s)},e}(UW),ace=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sce=function(n){ace(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new uG(this)},e}(ice);const g0={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var lce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uce={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Ace={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},cce=function(n){lce(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=cd(),r}return e.prototype.prepareTile=function(t,r,i){var o,s=t.getState();return(s===wr.LOADED||s===wr.ERROR)&&(this.updateExecutorGroup_(t,r,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},e.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState,f=a.resolution,m=a.projection,C=this.getLayer(),k=C.getSource().getTile(t,r,i,s,m),I=o.viewHints,K=!(I[ml.ANIMATING]||I[ml.INTERACTING]);(K||!k.wantedResolution)&&(k.wantedResolution=f);var L=this.prepareTile(k,s,m);return L&&(K||Date.now()-o.time<8)&&C.getRenderMode()!==g0.VECTOR&&this.renderTileImage_(k,o),n.prototype.getTile.call(this,t,r,i,o)},e.prototype.isDrawableTile=function(t){var r=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===g0.VECTOR?Hi(r)in t.executorGroups:t.hasContext(r))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),n.prototype.prepareFrame.call(this,t)},e.prototype.updateExecutorGroup_=function(t,r,i){var o=this.getLayer(),s=o.getRevision(),a=o.getRenderOrder()||null,f=t.wantedResolution,m=t.getReplayState(o);if(!(!m.dirty&&m.renderedResolution===f&&m.renderedRevision==s&&m.renderedRenderOrder==a)){var C=o.getSource(),k=o.getDeclutter(),I=C.getTileGrid(),K=C.getTileGridForProjection(i),L=K.getTileCoordExtent(t.wrappedTileCoord),q=C.getSourceTiles(r,i,t),X=Hi(o);delete t.hitDetectionImageData[X],t.executorGroups[X]=[],k&&(t.declutterExecutorGroups[X]=[]),m.dirty=!1;for(var H=function(se,Ae){var V=q[se];if(V.getState()!=wr.LOADED)return"continue";var re=V.tileCoord,be=I.getTileCoordExtent(re),_e=Vg(L,be),Pe=I0(_e,o.getRenderBuffer()*f,G.tmpExtent),Ue=kv(be,_e)?null:Pe,pe=new Tw(0,Pe,f,r),Ye=k?new Tw(0,_e,f,r):void 0,we=GW(f,r),pt=function(St){var Xt,Nt=St.getStyleFunction()||o.getStyleFunction();if(Nt&&(Xt=Nt(St,f)),Xt){var Fe=this.renderFeature(St,we,Xt,pe,Ye);m.dirty=m.dirty||Fe}},wt=V.getFeatures();a&&a!==m.renderedRenderOrder&&wt.sort(a);for(var ft=0,bt=wt.length;ft<bt;++ft){var $e=wt[ft];(!Ue||Tl(Ue,$e.getGeometry().getExtent()))&&pt.call(G,$e)}var tt=pe.finish(),nt=o.getRenderMode()!==g0.VECTOR&&k&&q.length===1?null:_e,en=new Pw(nt,f,r,C.getOverlaps(),tt,o.getRenderBuffer());if(t.executorGroups[X].push(en),Ye){var tn=new Pw(null,f,r,C.getOverlaps(),Ye.finish(),o.getRenderBuffer());t.declutterExecutorGroups[X].push(tn)}},G=this,ee=0,ne=q.length;ee<ne;++ee)H(ee);m.renderedRevision=s,m.renderedRenderOrder=a,m.renderedResolution=f}},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=r.viewState.resolution,f=r.viewState.rotation;i=i??0;var m=this.getLayer(),C=m.getSource(),k=C.getTileGridForProjection(r.viewState.projection),I=BB([t]);I0(I,a*i,I);for(var K={},L=function(ne,se,Ae){var V=ne.getId();V===void 0&&(V=Hi(ne));var re=K[V];if(re){if(re!==!0&&Ae<re.distanceSq){if(Ae===0)return K[V]=!0,s.splice(s.lastIndexOf(re),1),o(ne,m,se);re.geometry=se,re.distanceSq=Ae}}else{if(Ae===0)return K[V]=!0,o(ne,m,se);s.push(K[V]={feature:ne,layer:m,geometry:se,distanceSq:Ae,callback:o})}},q=this.renderedTiles,X,H=function(ne,se){var Ae=q[ne],V=k.getTileCoordExtent(Ae.wrappedTileCoord);if(!Tl(V,I))return"continue";var re=Hi(m),be=[Ae.executorGroups[re]],_e=Ae.declutterExecutorGroups[re];_e&&be.push(_e),be.some(function(Pe){for(var Ue=Pe===_e?r.declutterTree.all().map(function(pt){return pt.value}):null,pe=0,Ye=Pe.length;pe<Ye;++pe){var we=Pe[pe];if(X=we.forEachFeatureAtCoordinate(t,a,f,i,L,Ue),X)return!0}})},G=0,ee=q.length;!X&&G<ee;++G)H(G);return X},e.prototype.getFeatures=function(t){return new Promise((function(r,i){for(var o=this.getLayer(),s=Hi(o),a=o.getSource(),f=this.renderedProjection,m=f.getExtent(),C=this.renderedResolution,k=a.getTileGridForProjection(f),I=Il(this.renderedPixelToCoordinateTransform_,t.slice()),K=k.getTileCoordForCoordAndResolution(I,C),L,q=0,X=this.renderedTiles.length;q<X;++q)if(K.toString()===this.renderedTiles[q].tileCoord.toString()){if(L=this.renderedTiles[q],L.getState()===wr.LOADED){var H=k.getTileCoordExtent(L.tileCoord);a.getWrapX()&&f.canWrapX()&&!d0(m,H)&&F7(I,f);break}L=void 0}if(!L||L.loadingSourceTiles>0){r([]);return}var G=k.getTileCoordExtent(L.wrappedTileCoord),ee=G0(G),ne=[(I[0]-ee[0])/C,(ee[1]-I[1])/C],se=L.getSourceTiles().reduce(function(_e,Pe){return _e.concat(Pe.getFeatures())},[]),Ae=L.hitDetectionImageData[s];if(!Ae&&!this.animatingOrInteracting_){var V=rc(k.getTileSize(k.getZForResolution(C,a.zDirection))),re=this.renderedRotation_,be=[this.getRenderTransform(k.getTileCoordCenter(L.wrappedTileCoord),C,0,Ch,V[0]*Ch,V[1]*Ch,0)];Ae=zW(V,be,se,o.getStyleFunction(),k.getTileCoordExtent(L.wrappedTileCoord),L.getReplayState(o).renderedResolution,re),L.hitDetectionImageData[s]=Ae}r(NW(ne,se,Ae))}).bind(this))},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,s=!(o[ml.ANIMATING]||o[ml.INTERACTING]),a=this.renderedTiles,f=0,m=a.length;f<m;++f){var C=a[f],k=C.declutterExecutorGroups[Hi(this.getLayer())];if(k)for(var I=k.length-1;I>=0;--I)k[I].execute(this.context,1,this.getTileRenderTransform(C,t),t.viewState.rotation,s,void 0,t.declutterTree)}r.globalAlpha=i},e.prototype.getTileRenderTransform=function(t,r){var i=r.pixelRatio,o=r.viewState,s=o.center,a=o.resolution,f=o.rotation,m=r.size,C=Math.round(m[0]*i),k=Math.round(m[1]*i),I=this.getLayer().getSource(),K=I.getTileGridForProjection(r.viewState.projection),L=t.tileCoord,q=K.getTileCoordExtent(t.wrappedTileCoord),X=K.getTileCoordExtent(L,this.tmpExtent)[0]-q[0],H=E7(QE(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,f,i,C,k,X));return H},e.prototype.renderFrame=function(t,r){var i=t.viewHints,o=!(i[ml.ANIMATING]||i[ml.INTERACTING]);n.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var s=this.getLayer(),a=s.getRenderMode(),f=this.context,m=f.globalAlpha;f.globalAlpha=s.getOpacity();for(var C=Ace[a],k=t.viewState,I=k.rotation,K=s.getSource(),L=K.getTileGridForProjection(k.projection),q=L.getZForResolution(k.resolution,K.zDirection),X=this.renderedTiles,H=[],G=[],ee=!0,ne=X.length-1;ne>=0;--ne){var se=X[ne];ee=ee&&!se.getReplayState(s).dirty;var Ae=se.executorGroups[Hi(s)].filter(function(wt){return wt.hasExecutors(C)});if(Ae.length!==0){var V=this.getTileRenderTransform(se,t),re=se.tileCoord[0],be=!1,_e=Ae[0].getClipCoords(V);if(_e){for(var Pe=0,Ue=H.length;Pe<Ue;++Pe)if(q!==re&&re<G[Pe]){var pe=H[Pe];Tl([_e[0],_e[3],_e[4],_e[7]],[pe[0],pe[3],pe[4],pe[7]])&&(be||(f.save(),be=!0),f.beginPath(),f.moveTo(_e[0],_e[1]),f.lineTo(_e[2],_e[3]),f.lineTo(_e[4],_e[5]),f.lineTo(_e[6],_e[7]),f.moveTo(pe[6],pe[7]),f.lineTo(pe[4],pe[5]),f.lineTo(pe[2],pe[3]),f.lineTo(pe[0],pe[1]),f.clip())}H.push(_e),G.push(re)}for(var Ye=0,we=Ae.length;Ye<we;++Ye){var pt=Ae[Ye];pt.execute(f,1,V,I,o,C)}be&&f.restore()}}return f.globalAlpha=m,this.ready=ee,this.container},e.prototype.renderFeature=function(t,r,i,o,s){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var f=0,m=i.length;f<m;++f)a=Kw(o,t,i[f],r,this.boundHandleStyleImageChange_,void 0,s)||a;else a=Kw(o,t,i,r,this.boundHandleStyleImageChange_,void 0,s);return a},e.prototype.tileImageNeedsRender_=function(t){var r=this.getLayer();if(r.getRenderMode()===g0.VECTOR)return!1;var i=t.getReplayState(r),o=r.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},e.prototype.renderTileImage_=function(t,r){var i=this.getLayer(),o=t.getReplayState(i),s=i.getRevision(),a=t.executorGroups[Hi(i)];o.renderedTileRevision=s;var f=t.wrappedTileCoord,m=f[0],C=i.getSource(),k=r.pixelRatio,I=r.viewState,K=I.projection,L=C.getTileGridForProjection(K),q=L.getResolution(t.tileCoord[0]),X=r.pixelRatio/t.wantedResolution*q,H=L.getResolution(m),G=t.getContext(i);k=Math.round(Math.max(k,X/k));var ee=C.getTilePixelSize(m,k,K);G.canvas.width=ee[0],G.canvas.height=ee[1];var ne=k/X;if(ne!==1){var se=xK(this.tmpTransform_);QE(se,ne,ne),G.setTransform.apply(G,se)}var Ae=L.getTileCoordExtent(f,this.tmpExtent),V=X/H,re=xK(this.tmpTransform_);QE(re,V,-V),Foe(re,-Ae[0],-Ae[3]);for(var be=0,_e=a.length;be<_e;++be){var Pe=a[be];Pe.execute(G,ne,re,0,!0,uce[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},e}(uG),hce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AG=function(n){hce(e,n);function e(t){var r=this,i=t||{},o=Pl({},i);delete o.preload,delete o.useInterimTilesOnError,r=n.call(this,o)||this,r.on,r.once,r.un,i.renderMode===g0.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||g0.HYBRID;return bo(s==g0.HYBRID||s==g0.VECTOR,28),r.renderMode_=s,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return e.prototype.createRenderer=function(){return new cce(this)},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(m0.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(m0.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(m0.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(m0.USE_INTERIM_TILES_ON_ERROR,t)},e}(LW),dce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fce=function(n){dce(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,a)||this;return f.extent=null,f.format_=o,f.features_=null,f.loader_,f.projection=null,f.resolution,f.tileLoadFunction_=s,f.url_=i,f.key=i,f}return e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){this.state==wr.IDLE&&(this.setState(wr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,r){this.setFeatures(t)},e.prototype.onError=function(){this.setState(wr.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(wr.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(pM),pce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pD=[],mce=function(n){pce(e,n);function e(t,r,i,o){var s=n.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return e.prototype.getContext=function(t){var r=Hi(t);return r in this.context_||(this.context_[r]=Gc(1,1,pD)),this.context_[r]},e.prototype.hasContext=function(t){return Hi(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var r=Hi(t);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var t in this.context_){var r=this.context_[t];J7(r),pD.push(r.canvas),delete this.context_[t]}n.prototype.release.call(this)},e}(pM),gce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cG=function(n){gce(e,n);function e(t){var r=this,i=t.projection||"EPSG:3857",o=t.extent||mM(i),s=t.tileGrid||ck({extent:o,maxResolution:t.maxResolution,maxZoom:t.maxZoom!==void 0?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:i,state:t.state,tileGrid:s,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yce,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX===void 0?!0:t.wrapX,transition:t.transition,zDirection:t.zDirection===void 0?1:t.zDirection})||this,r.format_=t.format?t.format:null,r.sourceTileCache=new Ak(r.tileCache.highWaterMark),r.overlaps_=t.overlaps==null?!0:t.overlaps,r.tileClass=t.tileClass?t.tileClass:fce,r.tileGrids_={},r}return e.prototype.getFeaturesInExtent=function(t){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=XW(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(!(a.tileCoord[0]!==o||a.getState()!==wr.LOADED))for(var f=a.getSourceTiles(),m=0,C=f.length;m<C;++m){var k=f[m],I=k.tileCoord;if(Tl(t,s.getTileCoordExtent(I))){var K=k.getFeatures();if(K)for(var L=0,q=K.length;L<q;++L){var X=K[L],H=X.getGeometry();Tl(t,H.getExtent())&&r.push(X)}}}}),r},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t),o=Object.keys(r).reduce(function(s,a){var f=SAe(a),m=i.peek(f);if(m)for(var C=m.sourceTiles,k=0,I=C.length;k<I;++k)s[C[k].getKey()]=!0;return s},{});n.prototype.expireCache.call(this,t,r),this.sourceTileCache.expireCache(o)},e.prototype.getSourceTiles=function(t,r,i){var o=this;if(i.getState()===wr.IDLE){i.setState(wr.LOADING);var s=i.wrappedTileCoord,a=this.getTileGridForProjection(r),f=a.getTileCoordExtent(s),m=s[0],C=a.getResolution(m);I0(f,-C,f);var k=this.tileGrid,I=k.getExtent();I&&Vg(f,I,f);var K=k.getZForResolution(C,this.zDirection);k.forEachTileCoord(f,K,function(L){var q=o.tileUrlFunction(L,t,r),X=o.sourceTileCache.containsKey(q)?o.sourceTileCache.get(q):new o.tileClass(L,q?wr.IDLE:wr.EMPTY,q,o.format_,o.tileLoadFunction);i.sourceTiles.push(X);var H=X.getState();if(H<wr.LOADED){var G=function(ee){o.handleTileChange(ee);var ne=X.getState();if(ne===wr.LOADED||ne===wr.ERROR){var se=X.getKey();se in i.errorTileKeys?X.getState()===wr.LOADED&&delete i.errorTileKeys[se]:i.loadingSourceTiles--,ne===wr.ERROR?i.errorTileKeys[se]=!0:X.removeEventListener(Ni.CHANGE,G),i.loadingSourceTiles===0&&i.setState(c1(i.errorTileKeys)?wr.LOADED:wr.ERROR)}};X.addEventListener(Ni.CHANGE,G),i.loadingSourceTiles++}H===wr.IDLE&&(X.extent=k.getTileCoordExtent(L),X.projection=r,X.resolution=k.getResolution(L[0]),o.sourceTileCache.set(q,X),X.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(L){return L.getState()===wr.ERROR})?wr.ERROR:wr.LOADED)}return i.sourceTiles},e.prototype.getTile=function(t,r,i,o,s){var a=Xv(t,r,i),f=this.getKey(),m;if(this.tileCache.containsKey(a)&&(m=this.tileCache.get(a),m.key===f))return m;var C=[t,r,i],k=this.getTileCoordForTileUrlFunction(C,s),I=this.getTileGrid().getExtent(),K=this.getTileGridForProjection(s);if(k&&I){var L=K.getTileCoordExtent(k);I0(L,-K.getResolution(t),L),Tl(I,L)||(k=null)}var q=!0;if(k!==null){var X=this.tileGrid,H=K.getResolution(t),G=X.getZForResolution(H,1),ee=K.getTileCoordExtent(k);I0(ee,-H,ee),X.forEachTileCoord(ee,G,(function(se){q=q&&!this.tileUrlFunction(se,o,s)}).bind(this))}var ne=new mce(C,q?wr.EMPTY:wr.IDLE,k,this.getSourceTiles.bind(this,o,s));return ne.key=f,m?(ne.interimTile=m,ne.refreshInterimChain(),this.tileCache.replace(a,ne)):this.tileCache.set(a,ne),ne},e.prototype.getTileGridForProjection=function(t){var r=t.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(k,I){return o.getOrigin(I)}),f=s.map(function(k,I){return o.getTileSize(I)}),m=xW+1,C=s.length;C<m;++C)s.push(s[C-1]/2),a.push(a[C-1]),f.push(f[C-1]);i=new f2({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:f}),this.tileGrids_[r]=i}return i},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=rc(o.getTileSize(t),this.tmpSize);return[Math.round(s[0]*r),Math.round(s[1]*r)]},e.prototype.updateCacheSize=function(t,r){n.prototype.updateCacheSize.call(this,t*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},e}(aG);function yce(n,e){n.setLoader(function(t,r,i){qW(e,n.getFormat(),t,r,i,n.onLoad.bind(n),n.onError.bind(n))})}var mD={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},J_=" ",gD=/(italic|oblique)$/i,yD={},vce=function(n,e,t){var r=yD[n];if(!r){Array.isArray(n)||(n=[n]);for(var i=400,o="normal",s=[],a,f,m=0,C=n.length;m<C;++m){var k=n[m],I=k.split(" "),K=I[I.length-1].toLowerCase();K=="normal"||K=="italic"||K=="oblique"?(o=f?o:K,f=!0,I.pop(),K=I[I.length-1].toLowerCase()):gD.test(K)&&(K=K.replace(gD,""),o=f?o:I[I.length-1].replace(K,""),f=!0);for(var L in mD){var q=I.length>1?I[I.length-2].toLowerCase():"";if(K==L||K==L.replace("-","")||q+"-"+K==L){i=a?i:mD[L],I.pop(),q&&L.startsWith(q)&&I.pop();break}}!a&&typeof K=="number"&&(i=K,a=!0);var X=I.join(J_).replace("Klokantech Noto Sans","Noto Sans");X.indexOf(J_)!==-1&&(X='"'+X+'"'),s.push(X)}r=yD[n]=[o,i,s]}return r[0]+J_+r[1]+J_+e+"px"+(t?"/"+t:"")+J_+r[2]};const ZB=Da(vce);var _ce=8,Cce={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},bce={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},xce=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],wce={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Mce={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Sce={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Ece={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Oce={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Bce={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Ice={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},kce=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],Tce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Pce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},Kce={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Dce={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Lce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Fce={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Rce={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Uce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},jce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},zce={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Nce={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},Wce={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Gce={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Qce={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},$ce={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Yce={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},qce={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Vce={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},Hce={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},Zce={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},Xce={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},Jce={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ehe={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},the={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},nhe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],rhe={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},ihe={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},ohe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},ahe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},she={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},lhe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},uhe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ahe={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},che={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},hhe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},dhe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},hG={$version:_ce,$root:Cce,sources:bce,source:xce,source_vector:wce,source_raster:Mce,source_raster_dem:Sce,source_geojson:Ece,source_video:Oce,source_image:Bce,layer:Ice,layout:kce,layout_background:Tce,layout_sky:Pce,layout_fill:Kce,layout_circle:Dce,layout_heatmap:Lce,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:Fce,layout_symbol:Rce,layout_raster:Uce,layout_hillshade:jce,filter:zce,filter_symbol:Nce,filter_fill:Wce,filter_line:Gce,filter_circle:Qce,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:$ce,filter_operator:Yce,geometry_type:qce,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Vce,expression:Hce,expression_name:Zce,fog:Xce,light:Jce,projection:ehe,terrain:the,paint:nhe,paint_fill:rhe,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:ihe,paint_circle:ohe,paint_heatmap:ahe,paint_symbol:she,paint_raster:lhe,paint_hillshade:uhe,paint_background:Ahe,paint_sky:che,transition:hhe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:dhe},s6=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},XB={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof s6=="object"&&s6;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,f=36,m=1,C=26,k=38,I=700,K=72,L=128,q="-",X=/^xn--/,H=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=f-m,se=Math.floor,Ae=String.fromCharCode,V;function re($e){throw RangeError(ee[$e])}function be($e,tt){for(var nt=$e.length,en=[];nt--;)en[nt]=tt($e[nt]);return en}function _e($e,tt){var nt=$e.split("@"),en="";nt.length>1&&(en=nt[0]+"@",$e=nt[1]),$e=$e.replace(G,".");var tn=$e.split("."),St=be(tn,tt).join(".");return en+St}function Pe($e){for(var tt=[],nt=0,en=$e.length,tn,St;nt<en;)tn=$e.charCodeAt(nt++),tn>=55296&&tn<=56319&&nt<en?(St=$e.charCodeAt(nt++),(St&64512)==56320?tt.push(((tn&1023)<<10)+(St&1023)+65536):(tt.push(tn),nt--)):tt.push(tn);return tt}function Ue($e){return be($e,function(tt){var nt="";return tt>65535&&(tt-=65536,nt+=Ae(tt>>>10&1023|55296),tt=56320|tt&1023),nt+=Ae(tt),nt}).join("")}function pe($e){return $e-48<10?$e-22:$e-65<26?$e-65:$e-97<26?$e-97:f}function Ye($e,tt){return $e+22+75*($e<26)-((tt!=0)<<5)}function we($e,tt,nt){var en=0;for($e=nt?se($e/I):$e>>1,$e+=se($e/tt);$e>ne*C>>1;en+=f)$e=se($e/ne);return se(en+(ne+1)*$e/($e+k))}function pt($e){var tt=[],nt=$e.length,en,tn=0,St=L,Xt=K,Nt,Fe,ye,ke,Ge,st,ht,Bt,nn;for(Nt=$e.lastIndexOf(q),Nt<0&&(Nt=0),Fe=0;Fe<Nt;++Fe)$e.charCodeAt(Fe)>=128&&re("not-basic"),tt.push($e.charCodeAt(Fe));for(ye=Nt>0?Nt+1:0;ye<nt;){for(ke=tn,Ge=1,st=f;ye>=nt&&re("invalid-input"),ht=pe($e.charCodeAt(ye++)),(ht>=f||ht>se((a-tn)/Ge))&&re("overflow"),tn+=ht*Ge,Bt=st<=Xt?m:st>=Xt+C?C:st-Xt,!(ht<Bt);st+=f)nn=f-Bt,Ge>se(a/nn)&&re("overflow"),Ge*=nn;en=tt.length+1,Xt=we(tn-ke,en,ke==0),se(tn/en)>a-St&&re("overflow"),St+=se(tn/en),tn%=en,tt.splice(tn++,0,St)}return Ue(tt)}function wt($e){var tt,nt,en,tn,St,Xt,Nt,Fe,ye,ke,Ge,st=[],ht,Bt,nn,Gt;for($e=Pe($e),ht=$e.length,tt=L,nt=0,St=K,Xt=0;Xt<ht;++Xt)Ge=$e[Xt],Ge<128&&st.push(Ae(Ge));for(en=tn=st.length,tn&&st.push(q);en<ht;){for(Nt=a,Xt=0;Xt<ht;++Xt)Ge=$e[Xt],Ge>=tt&&Ge<Nt&&(Nt=Ge);for(Bt=en+1,Nt-tt>se((a-nt)/Bt)&&re("overflow"),nt+=(Nt-tt)*Bt,tt=Nt,Xt=0;Xt<ht;++Xt)if(Ge=$e[Xt],Ge<tt&&++nt>a&&re("overflow"),Ge==tt){for(Fe=nt,ye=f;ke=ye<=St?m:ye>=St+C?C:ye-St,!(Fe<ke);ye+=f)Gt=Fe-ke,nn=f-ke,st.push(Ae(Ye(ke+Gt%nn,0))),Fe=se(Gt/nn);st.push(Ae(Ye(Fe,0))),St=we(nt,Bt,en==tn),nt=0,++en}++nt,++tt}return st.join("")}function ft($e){return _e($e,function(tt){return X.test(tt)?pt(tt.slice(4).toLowerCase()):tt})}function bt($e){return _e($e,function(tt){return H.test(tt)?"xn--"+wt(tt):tt})}if(s={version:"1.3.2",ucs2:{decode:Pe,encode:Ue},decode:pt,encode:wt,toASCII:bt,toUnicode:ft},r&&i)if(n.exports==r)i.exports=s;else for(V in s)s.hasOwnProperty(V)&&(r[V]=s[V]);else t.punycode=s})(s6)})(XB,XB.exports);var fhe={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},Fb={};function phe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var mhe=function(n,e,t,r){e=e||"&",t=t||"=";var i={};if(typeof n!="string"||n.length===0)return i;var o=/\+/g;n=n.split(e);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var f=0;f<a;++f){var m=n[f].replace(o,"%20"),C=m.indexOf(t),k,I,K,L;C>=0?(k=m.substr(0,C),I=m.substr(C+1)):(k=m,I=""),K=decodeURIComponent(k),L=decodeURIComponent(I),phe(i,K)?Array.isArray(i[K])?i[K].push(L):i[K]=[i[K],L]:i[K]=L}return i},eC=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},ghe=function(n,e,t,r){return e=e||"&",t=t||"=",n===null&&(n=void 0),typeof n=="object"?Object.keys(n).map(function(i){var o=encodeURIComponent(eC(i))+t;return Array.isArray(n[i])?n[i].map(function(s){return o+encodeURIComponent(eC(s))}).join(e):o+encodeURIComponent(eC(n[i]))}).join(e):r?encodeURIComponent(eC(r))+t+encodeURIComponent(eC(n)):""};Fb.decode=Fb.parse=mhe;Fb.encode=Fb.stringify=ghe;var yhe=XB.exports,im=fhe;function dm(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var vhe=/^([a-z0-9.+-]+:)/i,_he=/:[0-9]*$/,Che=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bhe=["<",">",'"',"`"," ","\r",`
`,"	"],xhe=["{","}","|","\\","^","`"].concat(bhe),JB=["'"].concat(xhe),vD=["%","/","?",";","#"].concat(JB),_D=["/","?","#"],whe=255,CD=/^[+a-z0-9A-Z_-]{0,63}$/,Mhe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,She={javascript:!0,"javascript:":!0},e8={javascript:!0,"javascript:":!0},iv={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},t8=Fb;function Ehe(n,e,t){if(n&&im.isObject(n)&&n instanceof dm)return n;var r=new dm;return r.parse(n,e,t),r}dm.prototype.parse=function(n,e,t){if(!im.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var f=Che.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=t8.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var m=vhe.exec(a);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,a=a.substr(m.length)}if(t||m||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var k=a.substr(0,2)==="//";k&&!(m&&e8[m])&&(a=a.substr(2),this.slashes=!0)}if(!e8[m]&&(k||m&&!iv[m])){for(var I=-1,K=0;K<_D.length;K++){var L=a.indexOf(_D[K]);L!==-1&&(I===-1||L<I)&&(I=L)}var q,X;I===-1?X=a.lastIndexOf("@"):X=a.lastIndexOf("@",I),X!==-1&&(q=a.slice(0,X),a=a.slice(X+1),this.auth=decodeURIComponent(q)),I=-1;for(var K=0;K<vD.length;K++){var L=a.indexOf(vD[K]);L!==-1&&(I===-1||L<I)&&(I=L)}I===-1&&(I=a.length),this.host=a.slice(0,I),a=a.slice(I),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var G=this.hostname.split(/\./),K=0,ee=G.length;K<ee;K++){var ne=G[K];if(ne&&!ne.match(CD)){for(var se="",Ae=0,V=ne.length;Ae<V;Ae++)ne.charCodeAt(Ae)>127?se+="x":se+=ne[Ae];if(!se.match(CD)){var re=G.slice(0,K),be=G.slice(K+1),_e=ne.match(Mhe);_e&&(re.push(_e[1]),be.unshift(_e[2])),be.length&&(a="/"+be.join(".")+a),this.hostname=re.join(".");break}}}this.hostname.length>whe?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=yhe.toASCII(this.hostname));var Pe=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+Pe,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!She[C])for(var K=0,ee=JB.length;K<ee;K++){var pe=JB[K];if(a.indexOf(pe)!==-1){var Ye=encodeURIComponent(pe);Ye===pe&&(Ye=escape(pe)),a=a.split(pe).join(Ye)}}var we=a.indexOf("#");we!==-1&&(this.hash=a.substr(we),a=a.slice(0,we));var pt=a.indexOf("?");if(pt!==-1?(this.search=a.substr(pt),this.query=a.substr(pt+1),e&&(this.query=t8.parse(this.query)),a=a.slice(0,pt)):e&&(this.search="",this.query={}),a&&(this.pathname=a),iv[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Pe=this.pathname||"",wt=this.search||"";this.path=Pe+wt}return this.href=this.format(),this};dm.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&im.isObject(this.query)&&Object.keys(this.query).length&&(o=t8.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||iv[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};dm.prototype.resolve=function(n){return this.resolveObject(Ehe(n,!1,!0)).format()};dm.prototype.resolveObject=function(n){if(im.isString(n)){var e=new dm;e.parse(n,!1,!0),n=e}for(var t=new dm,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(t[f]=n[f])}return iv[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!iv[n.protocol]){for(var m=Object.keys(n),C=0;C<m.length;C++){var k=m[C];t[k]=n[k]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!e8[n.protocol]){for(var ee=(n.pathname||"").split("/");ee.length&&!(n.host=ee.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),t.pathname=ee.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var I=t.pathname||"",K=t.search||"";t.path=I+K}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var L=t.pathname&&t.pathname.charAt(0)==="/",q=n.host||n.pathname&&n.pathname.charAt(0)==="/",X=q||L||t.host&&n.pathname,H=X,G=t.pathname&&t.pathname.split("/")||[],ee=n.pathname&&n.pathname.split("/")||[],ne=t.protocol&&!iv[t.protocol];if(ne&&(t.hostname="",t.port=null,t.host&&(G[0]===""?G[0]=t.host:G.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(ee[0]===""?ee[0]=n.host:ee.unshift(n.host)),n.host=null),X=X&&(ee[0]===""||G[0]==="")),q)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,G=ee;else if(ee.length)G||(G=[]),G.pop(),G=G.concat(ee),t.search=n.search,t.query=n.query;else if(!im.isNullOrUndefined(n.search)){if(ne){t.hostname=t.host=G.shift();var se=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;se&&(t.auth=se.shift(),t.host=t.hostname=se.shift())}return t.search=n.search,t.query=n.query,(!im.isNull(t.pathname)||!im.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!G.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var Ae=G.slice(-1)[0],V=(t.host||n.host||G.length>1)&&(Ae==="."||Ae==="..")||Ae==="",re=0,be=G.length;be>=0;be--)Ae=G[be],Ae==="."?G.splice(be,1):Ae===".."?(G.splice(be,1),re++):re&&(G.splice(be,1),re--);if(!X&&!H)for(;re--;re)G.unshift("..");X&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),V&&G.join("/").substr(-1)!=="/"&&G.push("");var _e=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(ne){t.hostname=t.host=_e?"":G.length?G.shift():"";var se=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;se&&(t.auth=se.shift(),t.host=t.hostname=se.shift())}return X=X||t.host&&G.length,X&&!_e&&G.unshift(""),G.length?t.pathname=G.join("/"):(t.pathname=null,t.path=null),(!im.isNull(t.pathname)||!im.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};dm.prototype.parseHost=function(){var n=this.host,e=_he.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};function dG(n,...e){for(const t of e)for(const r in t)n[r]=t[r];return n}class Ohe extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var sp=Ohe;class hk{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(e){return new hk(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}var Bhe=hk;const gM={kind:"null"},tr={kind:"number"},mo={kind:"string"},ro={kind:"boolean"},fm={kind:"color"},ov={kind:"object"},oo={kind:"value"},Ihe={kind:"error"},yM={kind:"collator"},vM={kind:"formatted"},p2={kind:"resolvedImage"};function od(n,e){return{kind:"array",itemType:n,N:e}}function Ds(n){if(n.kind==="array"){const e=Ds(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const khe=[gM,tr,mo,ro,fm,vM,ov,od(oo),p2];function Rb(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Rb(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of khe)if(!Rb(t,e))return null}}return`Expected ${Ds(n)} but found ${Ds(e)} instead.`}function dk(n,e){return e.some(t=>t.kind===n.kind)}function Ub(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}var The={},fG,bD={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function WC(n){return n=Math.round(n),n<0?0:n>255?255:n}function xD(n){return n<0?0:n>1?1:n}function l6(n){return n[n.length-1]==="%"?WC(parseFloat(n)/100*255):WC(parseInt(n))}function k3(n){return n[n.length-1]==="%"?xD(parseFloat(n)/100):xD(parseFloat(n))}function u6(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function Phe(n){var e=n.replace(/ /g,"").toLowerCase();if(e in bD)return bD[e].slice();if(e[0]==="#"){if(e.length===4){var t=parseInt(e.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(e.length===7){var t=parseInt(e.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var r=e.indexOf("("),i=e.indexOf(")");if(r!==-1&&i+1===e.length){var o=e.substr(0,r),s=e.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=k3(s.pop());case"rgb":return s.length!==3?null:[l6(s[0]),l6(s[1]),l6(s[2]),a];case"hsla":if(s.length!==4)return null;a=k3(s.pop());case"hsl":if(s.length!==3)return null;var f=(parseFloat(s[0])%360+360)%360/360,m=k3(s[1]),C=k3(s[2]),k=C<=.5?C*(m+1):C+m-C*m,I=C*2-k;return[WC(u6(I,k,f+1/3)*255),WC(u6(I,k,f)*255),WC(u6(I,k,f-1/3)*255),a];default:return null}}return null}try{fG=The.parseCSSColor=Phe}catch{}class Qc{constructor(e,t,r,i=1){this.r=e,this.g=t,this.b=r,this.a=i}static parse(e){if(!e)return;if(e instanceof Qc)return e;if(typeof e!="string")return;const t=fG(e);if(t)return new Qc(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[e,t,r,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${i})`}toArray(){const{r:e,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[e*255/i,t*255/i,r*255/i,i]}toArray01(){const{r:e,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[e/i,t/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:r,a:i}=this;return[e,t,r,i]}}Qc.black=new Qc(0,0,0,1);Qc.white=new Qc(1,1,1,1);Qc.transparent=new Qc(0,0,0,0);Qc.red=new Qc(1,0,0,1);Qc.blue=new Qc(0,0,1,1);var wu=Qc;class fk{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class n8{constructor(e,t,r,i,o){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}}class gf{constructor(e){this.sections=e}static fromString(e){return new gf([new n8(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof gf?e:gf.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class xm{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new xm({name:e,available:!1}):null}serialize(){return["image",this.name]}}function pG(n,e,t,r){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[n,e,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[n,e,t,r]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Dw(n){if(n===null)return!0;if(typeof n=="string")return!0;if(typeof n=="boolean")return!0;if(typeof n=="number")return!0;if(n instanceof wu)return!0;if(n instanceof fk)return!0;if(n instanceof gf)return!0;if(n instanceof xm)return!0;if(Array.isArray(n)){for(const e of n)if(!Dw(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!Dw(n[e]))return!1;return!0}else return!1}function xu(n){if(n===null)return gM;if(typeof n=="string")return mo;if(typeof n=="boolean")return ro;if(typeof n=="number")return tr;if(n instanceof wu)return fm;if(n instanceof fk)return yM;if(n instanceof gf)return vM;if(n instanceof xm)return p2;if(Array.isArray(n)){const e=n.length;let t;for(const r of n){const i=xu(r);if(!t)t=i;else{if(t===i)continue;t=oo;break}}return od(t||oo,e)}else return ov}function GC(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof wu||n instanceof gf||n instanceof xm?n.toString():JSON.stringify(n)}class pk{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dw(e[1]))return t.error("invalid value");const r=e[1];let i=xu(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new pk(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof wu?["rgba"].concat(this.value.toArray()):this.value instanceof gf?this.value.serialize():this.value}}var Lw=pk;class Khe{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var aA=Khe;const A6={string:mo,number:tr,boolean:ro,object:ov};class mk{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=e[0];if(o==="array"){let a;if(e.length>2){const m=e[1];if(typeof m!="string"||!(m in A6)||m==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=A6[m],r++}else a=oo;let f;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);f=e[2],r++}i=od(a,f)}else i=A6[o];const s=[];for(;r<e.length;r++){const a=t.parse(e[r],r,oo);if(!a)return null;s.push(a)}return new mk(i,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(Rb(this.type,xu(r))){if(t===this.args.length-1)throw new aA(`Expected value to be of type ${Ds(this.type)}, but found ${Ds(xu(r))} instead.`)}else return r}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if(e.kind==="array"){const r=e.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){t.push(r.kind);const i=e.N;(typeof i=="number"||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(r=>r.serialize()))}}var sm=mk;class _M{constructor(e){this.type=vM,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=e.length-1;++s){const a=e[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=t.parse(a["font-scale"],1,tr),!f))return null;let m=null;if(a["text-font"]&&(m=t.parse(a["text-font"],1,od(mo)),!m))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,fm),!C))return null;const k=i[i.length-1];k.scale=f,k.font=m,k.textColor=C}else{const f=t.parse(e[s],1,oo);if(!f)return null;const m=f.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new _M(i)}evaluate(e){const t=r=>{const i=r.content.evaluate(e);return xu(i)===p2?new n8("",i,null,null,null):new n8(GC(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)};return new gf(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class CM{constructor(e){this.type=p2,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const r=t.parse(e[1],1,mo);return r?new CM(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=xm.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Dhe={"to-boolean":ro,"to-color":fm,"to-number":tr,"to-string":mo};class gk{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if((r==="to-boolean"||r==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=Dhe[r],o=[];for(let s=1;s<e.length;s++){const a=t.parse(e[s],s,oo);if(!a)return null;o.push(a)}return new gk(i,o)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let t,r;for(const i of this.args){if(t=i.evaluate(e),r=null,t instanceof wu)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=pG(t[0],t[1],t[2],t[3]),!r))return new wu(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new aA(r||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const r of this.args){if(t=r.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new aA(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?gf.fromString(GC(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?xm.fromString(GC(this.args[0].evaluate(e))):GC(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new _M([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new CM(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Uy=gk;const Lhe=["Unknown","Point","LineString","Polygon"];class Fhe{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Lhe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*t-e[0],s=i*t-e[1],a=this.featureDistanceData.bearing[0],f=this.featureDistanceData.bearing[1];return a*o+f*s}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=wu.parse(e)),t}}var mG=Fhe;class jy{constructor(e,t,r,i){this.name=e,this.type=t,this._evaluate=r,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const r=e[0],i=jy.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([m])=>!Array.isArray(m)||m.length===e.length-1);let f=null;for(const[m,C]of a){f=new CG(t.registry,t.path,null,t.scope);const k=[];let I=!1;for(let K=1;K<e.length;K++){const L=e[K],q=Array.isArray(m)?m[K-1]:m.type,X=f.parse(L,1+k.length,q);if(!X){I=!0;break}k.push(X)}if(!I){if(Array.isArray(m)&&m.length!==k.length){f.error(`Expected ${m.length} arguments, but found ${k.length} instead.`);continue}for(let K=0;K<k.length;K++){const L=Array.isArray(m)?m[K]:m.type,q=k[K];f.concat(K+1).checkSubtype(L,q.type)}if(f.errors.length===0)return new jy(r,o,C,k)}}if(a.length===1)t.errors.push(...f.errors);else{const C=(a.length?a:s).map(([I])=>Rhe(I)).join(" | "),k=[];for(let I=1;I<e.length;I++){const K=t.parse(e[I],1+k.length);if(!K)return null;k.push(Ds(K.type))}t.error(`Expected arguments of type ${C}, but found (${k.join(", ")}) instead.`)}return null}static register(e,t){jy.definitions=t;for(const r in t)e[r]=jy}}function Rhe(n){return Array.isArray(n)?`(${n.map(Ds).join(", ")})`:`(${Ds(n.type)}...)`}var Jv=jy;class bM{constructor(e,t,r){this.type=yM,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const r=e[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,ro);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,ro);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,mo),!s)?null:new bM(i,o,s)}evaluate(e){return new fk(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const P0=8192;function yk(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function Uhe(n){return(180+n)/360}function jhe(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Fw(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function zhe(n,e){const t=Uhe(n[0]),r=jhe(n[1]),i=Math.pow(2,e.z);return[Math.round(t*i*P0),Math.round(r*i*P0)]}function Nhe(n,e,t){const r=n[0]-e[0],i=n[1]-e[1],o=n[0]-t[0],s=n[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function Whe(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function vk(n,e){let t=!1;for(let r=0,i=e.length;r<i;r++){const o=e[r];for(let s=0,a=o.length;s<a-1;s++){if(Nhe(n,o[s],o[s+1]))return!1;Whe(n,o[s],o[s+1])&&(t=!t)}}return t}function Ghe(n,e){for(let t=0;t<e.length;t++)if(vk(n,e[t]))return!0;return!1}function Qhe(n,e){return n[0]*e[1]-n[1]*e[0]}function wD(n,e,t,r){const i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],f=r[0]-t[0],m=r[1]-t[1],C=i*m-f*o,k=s*m-f*a;return C>0&&k<0||C<0&&k>0}function $he(n,e,t,r){const i=[e[0]-n[0],e[1]-n[1]],o=[r[0]-t[0],r[1]-t[1]];return Qhe(o,i)===0?!1:!!(wD(n,e,t,r)&&wD(t,r,n,e))}function Yhe(n,e,t){for(const r of t)for(let i=0;i<r.length-1;++i)if($he(n,e,r[i],r[i+1]))return!0;return!1}function gG(n,e){for(let t=0;t<n.length;++t)if(!vk(n[t],e))return!1;for(let t=0;t<n.length-1;++t)if(Yhe(n[t],n[t+1],e))return!1;return!0}function qhe(n,e){for(let t=0;t<e.length;t++)if(gG(n,e[t]))return!0;return!1}function _k(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=[];for(let s=0;s<n[i].length;s++){const a=zhe(n[i][s],t);yk(e,a),o.push(a)}r.push(o)}return r}function yG(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=_k(n[i],e,t);r.push(o)}return r}function vG(n,e,t,r){if(n[0]<t[0]||n[0]>t[2]){const i=r*.5;let o=n[0]-t[0]>i?-r:t[0]-n[0]>i?r:0;o===0&&(o=n[0]-t[2]>i?-r:t[2]-n[0]>i?r:0),n[0]+=o}yk(e,n)}function Vhe(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function MD(n,e,t,r){const i=Math.pow(2,r.z)*P0,o=[r.x*P0,r.y*P0],s=[];if(!n)return s;for(const a of n)for(const f of a){const m=[f.x+o[0],f.y+o[1]];vG(m,e,t,i),s.push(m)}return s}function SD(n,e,t,r){const i=Math.pow(2,r.z)*P0,o=[r.x*P0,r.y*P0],s=[];if(!n)return s;for(const a of n){const f=[];for(const m of a){const C=[m.x+o[0],m.y+o[1]];yk(e,C),f.push(C)}s.push(f)}if(e[2]-e[0]<=i/2){Vhe(e);for(const a of s)for(const f of a)vG(f,e,t,i)}return s}function Hhe(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if(e.type==="Polygon"){const o=_k(e.coordinates,r,i),s=MD(n.geometry(),t,r,i);if(!Fw(t,r))return!1;for(const a of s)if(!vk(a,o))return!1}if(e.type==="MultiPolygon"){const o=yG(e.coordinates,r,i),s=MD(n.geometry(),t,r,i);if(!Fw(t,r))return!1;for(const a of s)if(!Ghe(a,o))return!1}return!0}function Zhe(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if(e.type==="Polygon"){const o=_k(e.coordinates,r,i),s=SD(n.geometry(),t,r,i);if(!Fw(t,r))return!1;for(const a of s)if(!gG(a,o))return!1}if(e.type==="MultiPolygon"){const o=yG(e.coordinates,r,i),s=SD(n.geometry(),t,r,i);if(!Fw(t,r))return!1;for(const a of s)if(!qhe(a,o))return!1}return!0}class QC{constructor(e,t){this.type=ro,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dw(e[1])){const r=e[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new QC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new QC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new QC(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return Hhe(e,this.geometries);if(e.geometryType()==="LineString")return Zhe(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Ck=QC;function xM(n){if(n instanceof Jv){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof Ck)return!1;let e=!0;return n.eachChild(t=>{e&&!xM(t)&&(e=!1)}),e}function bk(n){if(n instanceof Jv&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!bk(t)&&(e=!1)}),e}function xk(n,e){if(n instanceof Jv&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(r=>{t&&!xk(r,e)&&(t=!1)}),t}class wk{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new wk(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var _G=wk;class Mk{constructor(e,t=[],r,i=new Bhe,o=[]){this.registry=e,this.path=t,this.key=t.map(s=>`[${s}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(e,t,r,i,o={}){return t?this.concat(t,r,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function r(i,o,s){return s==="assert"?new sm(o,[i]):s==="coerce"?new Uy(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(e,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof Lw)&&s.type.kind!=="resolvedImage"&&r8(s)){const a=new mG;try{s=new Lw(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const i=typeof e=="number"?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new Mk(this.registry,i,t||null,o,this.errors)}error(e,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new sp(r,e))}checkSubtype(e,t){const r=Rb(e,t);return r&&this.error(r),r}}var CG=Mk;function r8(n){if(n instanceof _G)return r8(n.boundExpression);if(n instanceof Jv&&n.name==="error")return!1;if(n instanceof bM)return!1;if(n instanceof Ck)return!1;const e=n instanceof Uy||n instanceof sm;let t=!0;return n.eachChild(r=>{e?t=t&&r8(r):t=t&&r instanceof Lw}),t?xM(n)&&xk(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function wM(n,e){const t=n.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=n[o],a=n[o+1],s<=e){if(o===t||e<a)return o;r=o+1}else if(s>e)i=o-1;else throw new aA("Input is not a number.");return 0}class Sk{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,tr);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<e.length;s+=2){const a=s===1?-1/0:e[s],f=e[s+1],m=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const k=t.parse(f,C,o);if(!k)return null;o=o||k.type,i.push([a,k])}return new Sk(o,r,i)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=wM(t,i);return r[s].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var bG=Sk,Xhe=xG;function xG(n,e,t,r){this.cx=3*n,this.bx=3*(t-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=e,this.p2x=t,this.p2y=r}xG.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,e){if(e===void 0&&(e=1e-6),n<0)return 0;if(n>1)return 1;for(var t=n,r=0;r<8;r++){var i=this.sampleCurveX(t)-n;if(Math.abs(i)<e)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=n,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-n)<e));r++)n>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))}};function wh(n,e,t){return n*(1-t)+e*t}function Jhe(n,e,t){return new wu(wh(n.r,e.r,t),wh(n.g,e.g,t),wh(n.b,e.b,t),wh(n.a,e.a,t))}function ede(n,e,t){return n.map((r,i)=>wh(r,e[i],t))}var wG=Object.freeze({__proto__:null,number:wh,color:Jhe,array:ede});const MG=.95047,SG=1,EG=1.08883,OG=4/29,av=6/29,BG=3*av*av,tde=av*av*av,nde=Math.PI/180,rde=180/Math.PI;function c6(n){return n>tde?Math.pow(n,1/3):n/BG+OG}function h6(n){return n>av?n*n*n:BG*(n-OG)}function d6(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function f6(n){return n/=255,n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function IG(n){const e=f6(n.r),t=f6(n.g),r=f6(n.b),i=c6((.4124564*e+.3575761*t+.1804375*r)/MG),o=c6((.2126729*e+.7151522*t+.072175*r)/SG),s=c6((.0193339*e+.119192*t+.9503041*r)/EG);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:n.a}}function kG(n){let e=(n.l+16)/116,t=isNaN(n.a)?e:e+n.a/500,r=isNaN(n.b)?e:e-n.b/200;return e=SG*h6(e),t=MG*h6(t),r=EG*h6(r),new wu(d6(3.2404542*t-1.5371385*e-.4985314*r),d6(-.969266*t+1.8760108*e+.041556*r),d6(.0556434*t-.2040259*e+1.0572252*r),n.alpha)}function ide(n,e,t){return{l:wh(n.l,e.l,t),a:wh(n.a,e.a,t),b:wh(n.b,e.b,t),alpha:wh(n.alpha,e.alpha,t)}}function ode(n){const{l:e,a:t,b:r}=IG(n),i=Math.atan2(r,t)*rde;return{h:i<0?i+360:i,c:Math.sqrt(t*t+r*r),l:e,alpha:n.a}}function ade(n){const e=n.h*nde,t=n.c,r=n.l;return kG({l:r,a:Math.cos(e)*t,b:Math.sin(e)*t,alpha:n.alpha})}function sde(n,e,t){const r=e-n;return n+t*(r>180||r<-180?r-360*Math.round(r/360):r)}function lde(n,e,t){return{h:sde(n.h,e.h,t),c:wh(n.c,e.c,t),l:wh(n.l,e.l,t),alpha:wh(n.alpha,e.alpha,t)}}const _C={forward:IG,reverse:kG,interpolate:ide},CC={forward:ode,reverse:ade,interpolate:lde};var TG=Object.freeze({__proto__:null,lab:_C,hcl:CC});class Rw{constructor(e,t,r,i,o){this.type=e,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,r,i){let o=0;if(e.name==="exponential")o=p6(t,e.base,r,i);else if(e.name==="linear")o=p6(t,1,r,i);else if(e.name==="cubic-bezier"){const s=e.controlPoints;o=new Xhe(s[0],s[1],s[2],s[3]).solve(p6(t,1,r,i))}return o}static parse(e,t){let[r,i,o,...s]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,tr),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=fm:t.expectedType&&t.expectedType.kind!=="value"&&(f=t.expectedType);for(let m=0;m<s.length;m+=2){const C=s[m],k=s[m+1],I=m+3,K=m+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const L=t.parse(k,K,f);if(!L)return null;f=f||L.type,a.push([C,L])}return f.kind!=="number"&&f.kind!=="color"&&!(f.kind==="array"&&f.itemType.kind==="number"&&typeof f.N=="number")?t.error(`Type ${Ds(f)} is not interpolatable.`):new Rw(f,r,i,o,a)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=wM(t,i),a=t[s],f=t[s+1],m=Rw.interpolationFactor(this.interpolation,i,a,f),C=r[s].evaluate(e),k=r[s+1].evaluate(e);return this.operator==="interpolate"?wG[this.type.kind.toLowerCase()](C,k,m):this.operator==="interpolate-hcl"?CC.reverse(CC.interpolate(CC.forward(C),CC.forward(k),m)):_C.reverse(_C.interpolate(_C.forward(C),_C.forward(k),m))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t}}function p6(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var pm=Rw;class Uw{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of e.slice(1)){const f=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}return i&&o.some(a=>Rb(i,a.type))?new Uw(oo,o):new Uw(r,o)}evaluate(e){let t=null,r=0,i;for(const o of this.args){if(r++,t=o.evaluate(e),t&&t instanceof xm&&!t.available&&(i||(i=t),t=null,r===this.args.length))return i;if(t!==null)break}return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var PG=Uw;class Ek{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let o=1;o<e.length-1;o+=2){const s=e[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(e[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return i?new Ek(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}var KG=Ek;class Ok{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,tr),i=t.parse(e[2],2,od(t.expectedType||oo));if(!r||!i)return null;const o=i.type;return new Ok(o.itemType,r,i)}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new aA(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new aA(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new aA(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ude=Ok;class Bk{constructor(e,t){this.type=ro,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oo),i=t.parse(e[2],2,oo);return!r||!i?null:dk(r.type,[ro,mo,tr,gM,oo])?new Bk(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(r.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(r==null)return!1;if(!Ub(t,["boolean","string","number","null"]))throw new aA(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(xu(t))} instead.`);if(!Ub(r,["string","array"]))throw new aA(`Expected second argument to be of type array or string, but found ${Ds(xu(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ade=Bk;class jw{constructor(e,t,r){this.type=tr,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oo),i=t.parse(e[2],2,oo);if(!r||!i)return null;if(!dk(r.type,[ro,mo,tr,gM,oo]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,tr);return o?new jw(r,i,o):null}else return new jw(r,i)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Ub(t,["boolean","string","number","null"]))throw new aA(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(xu(t))} instead.`);if(!Ub(r,["string","array"]))throw new aA(`Expected second argument to be of type array or string, but found ${Ds(xu(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var cde=jw;class Ik{constructor(e,t,r,i,o,s){this.inputType=e,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let m=2;m<e.length-1;m+=2){let C=e[m];const k=e[m+1];Array.isArray(C)||(C=[C]);const I=t.concat(m);if(C.length===0)return I.error("Expected at least one branch label.");for(const L of C){if(typeof L!="number"&&typeof L!="string")return I.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return I.error("Numeric branch labels must be integer values.");if(!r)r=xu(L);else if(I.checkSubtype(r,xu(L)))return null;if(typeof o[String(L)]<"u")return I.error("Branch labels must be unique.");o[String(L)]=s.length}const K=t.parse(k,m,i);if(!K)return null;i=i||K.type,s.push(K)}const a=t.parse(e[1],1,oo);if(!a)return null;const f=t.parse(e[e.length-1],e.length-1,i);return!f||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new Ik(r,i,a,o,s,f)}evaluate(e){const t=this.input.evaluate(e);return(xu(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],i={};for(const s of t){const a=i[this.cases[s]];a===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[a][1].push(s)}const o=s=>this.inputType.kind==="number"?Number(s):s;for(const[s,a]of r)a.length===1?e.push(o(a[0])):e.push(a.map(o)),e.push(this.outputs[s].serialize());return e.push(this.otherwise.serialize()),e}}var hde=Ik;class kk{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<e.length-1;s+=2){const a=t.parse(e[s],s,ro);if(!a)return null;const f=t.parse(e[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=t.parse(e[e.length-1],e.length-1,r);return o?new kk(r,i,o):null}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var dde=kk;class zw{constructor(e,t,r,i){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,oo),i=t.parse(e[2],2,tr);if(!r||!i)return null;if(!dk(r.type,[od(oo),mo,oo]))return t.error(`Expected first argument to be of type array or string, but found ${Ds(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,tr);return o?new zw(r.type,r,i,o):null}else return new zw(r.type,r,i)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Ub(t,["string","array"]))throw new aA(`Expected first argument to be of type array or string, but found ${Ds(xu(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(r,i)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var fde=zw;function ED(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function pde(n,e,t){return e===t}function mde(n,e,t){return e!==t}function gde(n,e,t){return e<t}function yde(n,e,t){return e>t}function vde(n,e,t){return e<=t}function _de(n,e,t){return e>=t}function DG(n,e,t,r){return r.compare(e,t)===0}function Cde(n,e,t,r){return!DG(n,e,t,r)}function bde(n,e,t,r){return r.compare(e,t)<0}function xde(n,e,t,r){return r.compare(e,t)>0}function wde(n,e,t,r){return r.compare(e,t)<=0}function Mde(n,e,t,r){return r.compare(e,t)>=0}function e_(n,e,t){const r=n!=="=="&&n!=="!=";return class LG{constructor(o,s,a){this.type=ro,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,oo);if(!f)return null;if(!ED(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${Ds(f.type)}'.`);let m=s.parse(o[2],2,oo);if(!m)return null;if(!ED(a,m.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${Ds(m.type)}'.`);if(f.type.kind!==m.type.kind&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error(`Cannot compare types '${Ds(f.type)}' and '${Ds(m.type)}'.`);r&&(f.type.kind==="value"&&m.type.kind!=="value"?f=new sm(m.type,[f]):f.type.kind!=="value"&&m.type.kind==="value"&&(m=new sm(f.type,[m])));let C=null;if(o.length===4){if(f.type.kind!=="string"&&m.type.kind!=="string"&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,yM),!C)return null}return new LG(f,m,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=xu(s),m=xu(a);if(f.kind!==m.kind||!(f.kind==="string"||f.kind==="number"))throw new aA(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${f.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=xu(s),m=xu(a);if(f.kind!=="string"||m.kind!=="string")return e(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):e(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[n];return this.eachChild(s=>{o.push(s.serialize())}),o}}}const Sde=e_("==",pde,DG),Ede=e_("!=",mde,Cde),Ode=e_("<",gde,bde),Bde=e_(">",yde,xde),Ide=e_("<=",vde,wde),kde=e_(">=",_de,Mde);class Tk{constructor(e,t,r,i,o,s){this.type=mo,this.number=e,this.locale=t,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=s}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const r=t.parse(e[1],1,tr);if(!r)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,mo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,mo),!s))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,mo),!a))return null;let f=null;if(i["min-fraction-digits"]&&(f=t.parse(i["min-fraction-digits"],1,tr),!f))return null;let m=null;return i["max-fraction-digits"]&&(m=t.parse(i["max-fraction-digits"],1,tr),!m)?null:new Tk(r,o,s,a,f,m)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Pk{constructor(e){this.type=tr,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Ds(r.type)} instead.`):new Pk(r):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new aA(`Expected value to be of type string or array, but found ${Ds(xu(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Tde=Pk;const FG={"==":Sde,"!=":Ede,">":Bde,"<":Ode,">=":kde,"<=":Ide,array:sm,at:ude,boolean:sm,case:dde,coalesce:PG,collator:bM,format:_M,image:CM,in:Ade,"index-of":cde,interpolate:pm,"interpolate-hcl":pm,"interpolate-lab":pm,length:Tde,let:KG,literal:Lw,match:hde,number:sm,"number-format":Tk,object:sm,slice:fde,step:bG,string:sm,"to-boolean":Uy,"to-color":Uy,"to-number":Uy,"to-string":Uy,var:_G,within:Ck};function OD(n,[e,t,r,i]){e=e.evaluate(n),t=t.evaluate(n),r=r.evaluate(n);const o=i?i.evaluate(n):1,s=pG(e,t,r,o);if(s)throw new aA(s);return new wu(e/255*o,t/255*o,r/255*o,o)}function BD(n,e){return n in e}function m6(n,e){const t=e[n];return typeof t>"u"?null:t}function Pde(n,e,t,r){for(;t<=r;){const i=t+r>>1;if(e[i]===n)return!0;e[i]>n?r=i-1:t=i+1}return!1}function fg(n){return{type:n}}Jv.register(FG,{error:[Ihe,[mo],(n,[e])=>{throw new aA(e.evaluate(n))}],typeof:[mo,[oo],(n,[e])=>Ds(xu(e.evaluate(n)))],"to-rgba":[od(tr,4),[fm],(n,[e])=>e.evaluate(n).toArray()],rgb:[fm,[tr,tr,tr],OD],rgba:[fm,[tr,tr,tr,tr],OD],has:{type:ro,overloads:[[[mo],(n,[e])=>BD(e.evaluate(n),n.properties())],[[mo,ov],(n,[e,t])=>BD(e.evaluate(n),t.evaluate(n))]]},get:{type:oo,overloads:[[[mo],(n,[e])=>m6(e.evaluate(n),n.properties())],[[mo,ov],(n,[e,t])=>m6(e.evaluate(n),t.evaluate(n))]]},"feature-state":[oo,[mo],(n,[e])=>m6(e.evaluate(n),n.featureState||{})],properties:[ov,[],n=>n.properties()],"geometry-type":[mo,[],n=>n.geometryType()],id:[oo,[],n=>n.id()],zoom:[tr,[],n=>n.globals.zoom],pitch:[tr,[],n=>n.globals.pitch||0],"distance-from-center":[tr,[],n=>n.distanceFromCenter()],"heatmap-density":[tr,[],n=>n.globals.heatmapDensity||0],"line-progress":[tr,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[tr,[],n=>n.globals.skyRadialProgress||0],accumulated:[oo,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[tr,fg(tr),(n,e)=>{let t=0;for(const r of e)t+=r.evaluate(n);return t}],"*":[tr,fg(tr),(n,e)=>{let t=1;for(const r of e)t*=r.evaluate(n);return t}],"-":{type:tr,overloads:[[[tr,tr],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[tr],(n,[e])=>-e.evaluate(n)]]},"/":[tr,[tr,tr],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[tr,[tr,tr],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[tr,[],()=>Math.LN2],pi:[tr,[],()=>Math.PI],e:[tr,[],()=>Math.E],"^":[tr,[tr,tr],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[tr,[tr],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[tr,[tr],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[tr,[tr],(n,[e])=>Math.log(e.evaluate(n))],log2:[tr,[tr],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[tr,[tr],(n,[e])=>Math.sin(e.evaluate(n))],cos:[tr,[tr],(n,[e])=>Math.cos(e.evaluate(n))],tan:[tr,[tr],(n,[e])=>Math.tan(e.evaluate(n))],asin:[tr,[tr],(n,[e])=>Math.asin(e.evaluate(n))],acos:[tr,[tr],(n,[e])=>Math.acos(e.evaluate(n))],atan:[tr,[tr],(n,[e])=>Math.atan(e.evaluate(n))],min:[tr,fg(tr),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[tr,fg(tr),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[tr,[tr],(n,[e])=>Math.abs(e.evaluate(n))],round:[tr,[tr],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[tr,[tr],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[tr,[tr],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[ro,[mo,oo],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[ro,[oo],(n,[e])=>n.id()===e.value],"filter-type-==":[ro,[mo],(n,[e])=>n.geometryType()===e.value],"filter-<":[ro,[mo,oo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[ro,[oo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<r}],"filter->":[ro,[mo,oo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[ro,[oo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>r}],"filter-<=":[ro,[mo,oo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[ro,[oo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<=r}],"filter->=":[ro,[mo,oo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[ro,[oo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>=r}],"filter-has":[ro,[oo],(n,[e])=>e.value in n.properties()],"filter-has-id":[ro,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[ro,[od(mo)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[ro,[od(oo)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[ro,[mo,od(oo)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[ro,[mo,od(oo)],(n,[e,t])=>Pde(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:ro,overloads:[[[ro,ro],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[fg(ro),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:ro,overloads:[[[ro,ro],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[fg(ro),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[ro,[ro],(n,[e])=>!e.evaluate(n)],"is-supported-script":[ro,[mo],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[mo,[mo],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[mo,[mo],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[mo,fg(oo),(n,e)=>e.map(t=>GC(t.evaluate(n))).join("")],"resolved-locale":[mo,[yM],(n,[e])=>e.evaluate(n).resolvedLocale()]});var RG=FG;function i8(n){return{result:"success",value:n}}function _y(n){return{result:"error",value:n}}function Kde(n){return n["property-type"]==="data-driven"}function Dde(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function UG(n){return!!n.expression&&n.expression.interpolated}function Kk(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function Dk(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Lde(n){return n}function Lk(n,e){const t=e.type==="color",r=n.stops&&typeof n.stops[0][0]=="object",i=r||n.property!==void 0,o=r||!i,s=n.type||(UG(e)?"exponential":"interval");if(t&&(n=dG({},n),n.stops&&(n.stops=n.stops.map(C=>[C[0],wu.parse(C[1])])),n.default?n.default=wu.parse(n.default):n.default=wu.parse(e.default)),n.colorSpace&&n.colorSpace!=="rgb"&&!TG[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let a,f,m;if(s==="exponential")a=ID;else if(s==="interval")a=Rde;else if(s==="categorical"){a=Fde,f=Object.create(null);for(const C of n.stops)f[C[0]]=C[1];m=typeof n.stops[0][0]}else if(s==="identity")a=Ude;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},k=[];for(let L=0;L<n.stops.length;L++){const q=n.stops[L],X=q[0].zoom;C[X]===void 0&&(C[X]={zoom:X,type:n.type,property:n.property,default:n.default,stops:[]},k.push(X)),C[X].stops.push([q[0].value,q[1]])}const I=[];for(const L of k)I.push([C[L].zoom,Lk(C[L],e)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:pm.interpolationFactor.bind(void 0,K),zoomStops:I.map(L=>L[0]),evaluate({zoom:L},q){return ID({stops:I,base:n.base},e,L).evaluate(L,q)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:pm.interpolationFactor.bind(void 0,C),zoomStops:n.stops.map(k=>k[0]),evaluate:({zoom:k})=>a(n,e,k,f,m)}}else return{kind:"source",evaluate(C,k){const I=k&&k.properties?k.properties[n.property]:void 0;return I===void 0?m2(n.default,e.default):a(n,e,I,f,m)}}}function m2(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function Fde(n,e,t,r,i){const o=typeof t===i?r[t]:void 0;return m2(o,n.default,e.default)}function Rde(n,e,t){if(Kk(t)!=="number")return m2(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const i=wM(n.stops.map(o=>o[0]),t);return n.stops[i][1]}function ID(n,e,t){const r=n.base!==void 0?n.base:1;if(Kk(t)!=="number")return m2(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const o=wM(n.stops.map(C=>C[0]),t),s=jde(t,r,n.stops[o][0],n.stops[o+1][0]),a=n.stops[o][1],f=n.stops[o+1][1];let m=wG[e.type]||Lde;if(n.colorSpace&&n.colorSpace!=="rgb"){const C=TG[n.colorSpace];m=(k,I)=>C.reverse(C.interpolate(C.forward(k),C.forward(I),s))}return typeof a.evaluate=="function"?{evaluate(...C){const k=a.evaluate.apply(void 0,C),I=f.evaluate.apply(void 0,C);if(!(k===void 0||I===void 0))return m(k,I,s)}}:m(a,f,s)}function Ude(n,e,t){return e.type==="color"?t=wu.parse(t):e.type==="formatted"?t=gf.fromString(t.toString()):e.type==="resolvedImage"?t=xm.fromString(t.toString()):Kk(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0),m2(t,n.default,e.default)}function jde(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class jG{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new mG,this._defaultValue=t?Wde(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,r,i,o,s,a,f){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,i,o,s,a,f){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null;try{const m=this.expression.evaluate(this._evaluator);if(m==null||typeof m=="number"&&m!==m)return this._defaultValue;if(this._enumValues&&!(m in this._enumValues))throw new aA(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(m)} instead.`);return m}catch(m){return this._warningHistory[m.message]||(this._warningHistory[m.message]=!0,typeof console<"u"&&console.warn(m.message)),this._defaultValue}}}function zG(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in RG}function Nw(n,e){const t=new CG(RG,[],e?Nde(e):void 0),r=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?i8(new jG(r,e)):_y(t.errors)}class o8{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!bk(t.expression)}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}}class a8{constructor(e,t,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!bk(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}interpolationFactor(e,t,r){return this.interpolationType?pm.interpolationFactor(this.interpolationType,e,t,r):0}}function NG(n,e){if(n=Nw(n,e),n.result==="error")return n;const t=n.value.expression,r=xM(t);if(!r&&!Kde(e))return _y([new sp("","data expressions not supported")]);const i=xk(t,["zoom","pitch","distance-from-center"]);if(!i&&!Dde(e))return _y([new sp("","zoom expressions not supported")]);const o=m4(t);if(!o&&!i)return _y([new sp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof sp)return _y([o]);if(o instanceof pm&&!UG(e))return _y([new sp("",'"interpolate" expressions cannot be used with this property')]);if(!o)return i8(r?new o8("constant",n.value):new o8("source",n.value));const s=o instanceof pm?o.interpolation:void 0;return i8(r?new a8("camera",n.value,o.labels,s):new a8("composite",n.value,o.labels,s))}class MM{constructor(e,t){this._parameters=e,this._specification=t,dG(this,Lk(this._parameters,this._specification))}static deserialize(e){return new MM(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function zde(n,e){if(Dk(n))return new MM(n,e);if(zG(n)){const t=NG(n,e);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=n;return typeof n=="string"&&e.type==="color"&&(t=wu.parse(n)),{kind:"constant",evaluate:()=>t}}}function m4(n){let e=null;if(n instanceof KG)e=m4(n.result);else if(n instanceof PG){for(const t of n.args)if(e=m4(t),e)break}else(n instanceof bG||n instanceof pm)&&n.input instanceof Jv&&n.input.name==="zoom"&&(e=n);return e instanceof sp||n.eachChild(t=>{const r=m4(t);r instanceof sp?e=r:!e&&r?e=new sp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new sp("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function Nde(n){const e={color:fm,string:mo,number:tr,enum:mo,boolean:ro,formatted:vM,resolvedImage:p2};return n.type==="array"?od(e[n.value]||oo,n.length):e[n.type]}function Wde(n){return n.type==="color"&&(Dk(n.default)||Array.isArray(n.default))?new wu(0,0,0,0):n.type==="color"?wu.parse(n.default)||null:n.default===void 0?null:n.default}function jb(n){return typeof n=="object"?["literal",n]:n}function Gde(n,e){let t=n.stops;if(!t)return Qde(n,e);const r=t&&typeof t[0][0]=="object",i=r||n.property!==void 0,o=r||!i;return t=t.map(s=>!i&&e.tokens&&typeof s[1]=="string"?[s[0],Vde(s[1])]:[s[0],jb(s[1])]),r?$de(n,e,t):o?qde(n,e,t):s8(n,e,t)}function Qde(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const r=[e.type==="color"?"to-color":e.type,t,jb(n.default)];return e.type==="array"&&r.splice(1,0,e.value,e.length||null),r}}function Fk(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function $de(n,e,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const f=t[a],m=f[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:n.type,property:n.property,default:n.default},i[m]=[],o.push(m)),i[m].push([f[0].value,f[1]])}if(Uk({},e)==="exponential"){const a=[Fk(n),["linear"],["zoom"]];for(const f of o){const m=s8(r[f],e,i[f]);sv(a,f,m,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const m=s8(r[f],e,i[f]);sv(a,f,m,!0)}return Rk(a),a}}function Yde(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function kD(n,e){const t=jb(Yde(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function s8(n,e,t){const r=Uk(n,e),i=["get",n.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(kD(n,e)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)sv(o,s[0],s[1],!1);return o.push(kD(n,e)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)sv(o,s[0],s[1],!0);return Rk(o),n.default===void 0?o:["case",["==",["typeof",i],"number"],o,jb(n.default)]}else if(r==="exponential"){const o=n.base!==void 0?n.base:1,s=[Fk(n),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)sv(s,a[0],a[1],!1);return n.default===void 0?s:["case",["==",["typeof",i],"number"],s,jb(n.default)]}else throw new Error(`Unknown property function type ${r}`)}function qde(n,e,t,r=["zoom"]){const i=Uk(n,e);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=n.base!==void 0?n.base:1;o=[Fk(n),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)sv(o,a[0],a[1],s);return Rk(o),o}function Rk(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function sv(n,e,t,r){n.length>3&&e===n[n.length-2]||(r&&n.length===2||n.push(e),n.push(t))}function Uk(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function Vde(n){const e=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(n);i!==null;i=t.exec(n)){const o=n.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return n;if(r<n.length)e.push(n.slice(r));else if(e.length===2)return["to-string",e[1]];return e}function Hde(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function l8(n){if(Array.isArray(n))return n.map(l8);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=l8(n[t]);return e}return Hde(n)}function jk(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!jk(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function Zde(n,e="fill"){if(n==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};jk(n)||(n=Ww(n));const t=n;let r=!0;try{r=Xde(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(t,null,2)}
        `)}const i=hG[`filter_${e}`],o=Nw(r,i);let s=null;if(o.result==="error")throw new Error(o.value.map(C=>`${C.key}: ${C.message}`).join(", "));s=(C,k,I)=>o.value.evaluate(C,k,{},I);let a=null,f=null;if(r!==t){const C=Nw(t,i);if(C.result==="error")throw new Error(C.value.map(k=>`${k.key}: ${k.message}`).join(", "));a=(k,I,K,L,q)=>C.value.evaluate(k,I,{},K,void 0,void 0,L,q),f=!xM(C.value.expression)}s=s;const m=QG(r);return{filter:s,dynamicFilter:a||void 0,needGeometry:m,needFeature:!!f}}function Xde(n){if(!lv(n))return n;let e=l8(n);return GG(e),e=WG(e),e}function WG(n){if(!Array.isArray(n))return n;const e=tfe(n);return e===!0?e:e.map(t=>WG(t))}function GG(n){let e=!1;const t=[];if(n[0]==="case"){for(let r=1;r<n.length-1;r+=2)e=e||lv(n[r]),t.push(n[r+1]);t.push(n[n.length-1])}else if(n[0]==="match"){e=e||lv(n[1]);for(let r=2;r<n.length-1;r+=2)t.push(n[r+1]);t.push(n[n.length-1])}else if(n[0]==="step"){e=e||lv(n[1]);for(let r=1;r<n.length-1;r+=2)t.push(n[r+1])}e&&(n.length=0,n.push("any",...t));for(let r=1;r<n.length;r++)GG(n[r])}function lv(n){if(!Array.isArray(n))return!1;if(Jde(n[0]))return!0;for(let e=1;e<n.length;e++){const t=n[e];if(lv(t))return!0}return!1}function Jde(n){return n==="pitch"||n==="distance-from-center"}const efe=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function tfe(n){if(efe.has(n[0]))for(let e=1;e<n.length;e++){const t=n[e];if(lv(t))return!0}return n}function nfe(n,e){return n<e?-1:n>e?1:0}function QG(n){if(!Array.isArray(n))return!1;if(n[0]==="within")return!0;for(let e=1;e<n.length;e++)if(QG(n[e]))return!0;return!1}function Ww(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?g6(n[1],n[2],"=="):e==="!="?T3(g6(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?g6(n[1],n[2],e):e==="any"?rfe(n.slice(1)):e==="all"?["all"].concat(n.slice(1).map(Ww)):e==="none"?["all"].concat(n.slice(1).map(Ww).map(T3)):e==="in"?TD(n[1],n.slice(2)):e==="!in"?T3(TD(n[1],n.slice(2))):e==="has"?PD(n[1]):e==="!has"?T3(PD(n[1])):e==="within"?n:!0}function g6(n,e,t){switch(n){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,n,e]}}function rfe(n){return["any"].concat(n.map(Ww))}function TD(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",n,["literal",e.sort(nfe)]]:["filter-in-small",n,["literal",e]]}}function PD(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function T3(n){return["!",n]}var ife=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ofe(n,e){const t={};for(const r in n)r!=="ref"&&(t[r]=n[r]);return ife.forEach(r=>{r in e&&(t[r]=e[r])}),t}function afe(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=ofe(n[t],e[n[t].ref]));return n}function sfe(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lfe={};(function(n){var e=function(){var t=function(X,H,G,ee){for(G=G||{},ee=X.length;ee--;G[X[ee]]=H);return G},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],f=[1,14],m=[1,15],C=[14,18,22,24],k=[18,22],I=[22,24],K={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(H,G,ee,ne,se,Ae,V){var re=Ae.length-1;switch(se){case 1:this.$=new String(H.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(H),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=Ae[re-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=Ae[re-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[Ae[re-2],Ae[re]];break;case 16:this.$={},this.$[Ae[re][0]]=Ae[re][1];break;case 17:this.$=Ae[re-2],Ae[re-2][Ae[re][0]]=Ae[re][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[Ae[re]];break;case 21:this.$=Ae[re-2],Ae[re-2].push(Ae[re]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:f,23:m},{1:[3]},{14:[1,16]},t(C,[2,7]),t(C,[2,8]),t(C,[2,9]),t(C,[2,10]),t(C,[2,11]),t(C,[2,12]),t(C,[2,3]),t(C,[2,4]),t(C,[2,5]),t([14,18,21,22,24],[2,1]),t(C,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:f,23:m,24:[1,21],25:22},{1:[2,6]},t(C,[2,13]),{18:[1,24],22:[1,25]},t(k,[2,16]),{21:[1,26]},t(C,[2,18]),{22:[1,28],24:[1,27]},t(I,[2,20]),t(C,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:f,23:m},t(C,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:f,23:m},t(k,[2,17]),t(k,[2,15]),t(I,[2,21])],defaultActions:{16:[2,6]},parseError:function(H,G){if(G.recoverable)this.trace(H);else throw new Error(H)},parse:function(H){var G=this,ee=[0],ne=[null],se=[],Ae=this.table,V="",re=0,be=0,_e=2,Pe=1,Ue=se.slice.call(arguments,1),pe=Object.create(this.lexer),Ye={yy:{}};for(var we in this.yy)Object.prototype.hasOwnProperty.call(this.yy,we)&&(Ye.yy[we]=this.yy[we]);pe.setInput(H,Ye.yy),Ye.yy.lexer=pe,Ye.yy.parser=this,typeof pe.yylloc>"u"&&(pe.yylloc={});var pt=pe.yylloc;se.push(pt);var wt=pe.options&&pe.options.ranges;typeof Ye.yy.parseError=="function"?this.parseError=Ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ft(){var ye;return ye=pe.lex()||Pe,typeof ye!="number"&&(ye=G.symbols_[ye]||ye),ye}for(var bt,$e,tt,nt,en={},tn,St,Xt,Nt;;){if($e=ee[ee.length-1],this.defaultActions[$e]?tt=this.defaultActions[$e]:((bt===null||typeof bt>"u")&&(bt=ft()),tt=Ae[$e]&&Ae[$e][bt]),typeof tt>"u"||!tt.length||!tt[0]){var Fe="";Nt=[];for(tn in Ae[$e])this.terminals_[tn]&&tn>_e&&Nt.push("'"+this.terminals_[tn]+"'");pe.showPosition?Fe="Parse error on line "+(re+1)+`:
`+pe.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[bt]||bt)+"'":Fe="Parse error on line "+(re+1)+": Unexpected "+(bt==Pe?"end of input":"'"+(this.terminals_[bt]||bt)+"'"),this.parseError(Fe,{text:pe.match,token:this.terminals_[bt]||bt,line:pe.yylineno,loc:pt,expected:Nt})}if(tt[0]instanceof Array&&tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$e+", token: "+bt);switch(tt[0]){case 1:ee.push(bt),ne.push(pe.yytext),se.push(pe.yylloc),ee.push(tt[1]),bt=null,be=pe.yyleng,V=pe.yytext,re=pe.yylineno,pt=pe.yylloc;break;case 2:if(St=this.productions_[tt[1]][1],en.$=ne[ne.length-St],en._$={first_line:se[se.length-(St||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(St||1)].first_column,last_column:se[se.length-1].last_column},wt&&(en._$.range=[se[se.length-(St||1)].range[0],se[se.length-1].range[1]]),nt=this.performAction.apply(en,[V,be,re,Ye.yy,tt[1],ne,se].concat(Ue)),typeof nt<"u")return nt;St&&(ee=ee.slice(0,-1*St*2),ne=ne.slice(0,-1*St),se=se.slice(0,-1*St)),ee.push(this.productions_[tt[1]][0]),ne.push(en.$),se.push(en._$),Xt=Ae[ee[ee.length-2]][ee[ee.length-1]],ee.push(Xt);break;case 3:return!0}}return!0}},L=function(){var X={EOF:1,parseError:function(G,ee){if(this.yy.parser)this.yy.parser.parseError(G,ee);else throw new Error(G)},setInput:function(H,G){return this.yy=G||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var G=H.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var G=H.length,ee=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var ne=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===ne.length?this.yylloc.first_column:0)+ne[ne.length-ee.length].length-ee[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),G=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+G+"^"},test_match:function(H,G){var ee,ne,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),ne=H[0].match(/(?:\r\n?|\n).*/g),ne&&(this.yylineno+=ne.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ne?ne[ne.length-1].length-ne[ne.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],ee=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var Ae in se)this[Ae]=se[Ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,G,ee,ne;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),Ae=0;Ae<se.length;Ae++)if(ee=this._input.match(this.rules[se[Ae]]),ee&&(!G||ee[0].length>G[0].length)){if(G=ee,ne=Ae,this.options.backtrack_lexer){if(H=this.test_match(ee,se[Ae]),H!==!1)return H;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(H=this.test_match(G,se[ne]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(G,ee,ne,se){switch(ne){case 0:break;case 1:return 6;case 2:return ee.yytext=ee.yytext.substr(1,ee.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return X}();K.lexer=L;function q(){this.yy={}}return q.prototype=K,K.Parser=q,new q}();typeof sfe<"u"&&(n.parser=e,n.Parser=e.Parser,n.parse=function(){return e.parse.apply(e,arguments)})})(lfe);const $G={StyleExpression:jG,isExpression:zG,isExpressionFilter:jk,createExpression:Nw,createPropertyExpression:NG,normalizePropertyExpression:zde,ZoomConstantExpression:o8,ZoomDependentExpression:a8,StylePropertyFunction:MM},YG={convertFunction:Gde,createFunction:Lk,isFunction:Dk};var qG=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function y6(n){return n*Math.PI/180}var Kv=function(){for(var n=[],e=78271.51696402048;n.length<=24;e/=2)n.push(e);return n}();function VG(n,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(n,e);var t=document.createElement("canvas");return t.width=n,t.height=e,t}function ufe(n,e){for(var t=0,r=e.length;t<r;++t){var i=e[t];if(i<n&&t+1<r){var o=e[t]/e[t+1];return t+Math.log(e[t]/n)/Math.log(o)}}return r-1}var Afe=Array(256).join("");function u8(n,e){if(e>=.05){for(var t="",r=n.split(`
`),i=Afe.slice(0,Math.round(e/.1)),o=0,s=r.length;o<s;++o)o>0&&(t+=`
`),t+=r[o].split("").join(i);return t}return n}var v6;function HG(){return v6||(v6=VG(1,1).getContext("2d")),v6}function pg(n,e){return HG().measureText(n).width+(n.length-1)*e}var A8={};GB&&Lo(GB,Ni.CLEAR,function(){A8={}});function c8(n,e,t,r){if(n.indexOf(`
`)!==-1){for(var i=n.split(`
`),o=[],s=0,a=i.length;s<a;++s)o.push(c8(i[s],e,t,r));return o.join(`
`)}var f=t+","+e+","+n+","+r,m=A8[f];if(!m){var C=n.split(" ");if(C.length>1){var k=HG();k.font=e;for(var I=k.measureText("M").width,K=I*t,L="",o=[],s=0,a=C.length;s<a;++s){var q=C[s],X=L+(L?" ":"")+q;pg(X,r)<=K?L=X:(L&&o.push(L),L=q)}L&&o.push(L);for(var s=0,a=o.length;s<a&&a>1;++s){var H=o[s];if(pg(H,r)<K*.35){var G=s>0?pg(o[s-1],r):1/0,ee=s<a-1?pg(o[s+1],r):1/0;o.splice(s,1),a-=1,G<ee?(o[s-1]+=" "+H,s-=1):o[s]=H+" "+o[s]}}for(var s=0,a=o.length-1;s<a;++s){var ne=o[s],se=o[s+1];if(pg(ne,r)>K*.7&&pg(se,r)<K*.6){var Ae=ne.split(" "),V=Ae.pop();pg(V,r)<K*.2&&(o[s]=Ae.join(" "),o[s+1]=V+" "+se),a-=1}}m=o.join(`
`)}else m=n;m=u8(m,r),A8[f]=m}return m}var cfe=YG.isFunction,hfe=YG.convertFunction,dfe=$G.isExpression,ffe=$G.createPropertyExpression,pfe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},mfe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},gfe=function(n,e){var t=ffe(n,e);if(t.result==="error")throw new Error(t.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return t.value},h8={},Gw={zoom:0},P3,_6;function Ri(n,e,t,r,i,o){var s=n.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var a=o[s];if(!a[t]){var f=(n[e]||h8)[t],m=hG["".concat(e,"_").concat(n.type)][t];f===void 0&&(f=m.default);var C=dfe(f);if(!C&&cfe(f)&&(f=hfe(f,m),C=!0),C){var k=gfe(f,m);a[t]=k.evaluate.bind(k)}else m.type=="color"&&(f=wu.parse(f)),a[t]=function(){return f}}return Gw.zoom=r,a[t](Gw,i)}function yfe(n,e,t,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),n in i||(i[n]=Zde(e).filter),Gw.zoom=r,i[n](Gw,t)}function n0(n,e){if(n){if(n.a===0||e===0)return;var t=n.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(n.r*255/t)+","+Math.round(n.g*255/t)+","+Math.round(n.b*255/t)+","+t*e+")"}return n}var vfe=/^([^]*)\{(.*)\}([^]*)$/;function C6(n,e){var t;do if(t=n.match(vfe),t){var r=e[t[2]]||"";n=t[1]+r+t[3]}while(t);return n}function _fe(n,e,t,r,i,o,s){if(r===void 0&&(r=Kv),typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");var a,f;if(o){if(typeof Image<"u"){var m=new Image;m.crossOrigin="anonymous",m.onload=function(){a=m,f=[m.width,m.height],n.changed(),m.onload=null},m.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var C=self;C.postMessage({action:"loadImage",src:o}),C.addEventListener("message",function(pt){pt.data.action==="imageLoaded"&&pt.data.src===o&&(a=pt.data.image,f=[a.width,a.height])})}}for(var k=afe(e.layers),I={},K=[],L={},q={},X={},H={},G,ee=0,ne=k.length;ee<ne;++ee){var se=k[ee],Ae=se.id;if(typeof t=="string"&&se.source==t||t.indexOf(Ae)!==-1){var V=se["source-layer"];if(!G){G=se.source;var re=e.sources[G];if(!re)throw new Error('Source "'.concat(G,'" is not defined'));var be=re.type;if(be!=="vector"&&be!=="geojson")throw new Error('Source "'.concat(G,'" is not of type "vector" or "geojson", but "').concat(be,'"'))}var _e=I[V];_e||(_e=[],I[V]=_e),_e.push({layer:se,index:ee}),K.push(Ae)}}var Pe=new vC,Ue=new Ry,pe=[],Ye=function(we,pt){var wt=we.getProperties(),ft=I[wt.layer];if(ft){var bt=r.indexOf(pt);bt==-1&&(bt=ufe(pt,r));for(var $e=pfe[we.getGeometry().getType()],tt={properties:wt,type:$e},nt=-1,en=function(Xt,Nt){var Fe=ft[Xt],ye=Fe.layer,ke=ye.id,Ge=ye.layout||h8,st=ye.paint||h8;if(Ge.visibility==="none"||"minzoom"in ye&&bt<ye.minzoom||"maxzoom"in ye&&bt>=ye.maxzoom)return"continue";var ht=ye.filter;if(!ht||yfe(ke,ht,tt,bt,H)){var Bt=void 0,nn=void 0,Gt=void 0,zn=void 0,rr=void 0,xn=void 0,Zn=Fe.index;if($e==3&&(ye.type=="fill"||ye.type=="fill-extrusion"))if(nn=Ri(ye,"paint",ye.type+"-opacity",bt,tt,X),ye.type+"-pattern"in st){var yr=Ri(ye,"paint",ye.type+"-pattern",bt,tt,X);if(yr){var Mr=typeof yr=="string"?C6(yr,wt):yr.toString();if(a&&i&&i[Mr]){++nt,xn=pe[nt],(!xn||!xn.getFill()||xn.getStroke()||xn.getText())&&(xn=new wg({fill:new Ry}),pe[nt]=xn),Gt=xn.getFill(),xn.setZIndex(Zn);var Or=Mr+"."+nn,Jr=q[Or];if(!Jr){var _r=i[Mr],gi=VG(_r.width,_r.height),Te=gi.getContext("2d");Te.globalAlpha=nn,Te.drawImage(a,_r.x,_r.y,_r.width,_r.height,0,0,_r.width,_r.height),Jr=Te.createPattern(gi,"repeat"),q[Or]=Jr}Gt.setColor(Jr)}}}else Bt=n0(Ri(ye,"paint",ye.type+"-color",bt,tt,X),nn),ye.type+"-outline-color"in st&&(rr=n0(Ri(ye,"paint",ye.type+"-outline-color",bt,tt,X),nn)),rr||(rr=Bt),(Bt||rr)&&(++nt,xn=pe[nt],(!xn||Bt&&!xn.getFill()||!Bt&&xn.getFill()||rr&&!xn.getStroke()||!rr&&xn.getStroke()||xn.getText())&&(xn=new wg({fill:Bt?new Ry:void 0,stroke:rr?new vC:void 0}),pe[nt]=xn),Bt&&(Gt=xn.getFill(),Gt.setColor(Bt)),rr&&(zn=xn.getStroke(),zn.setColor(rr),zn.setWidth(.5)),xn.setZIndex(Zn));if($e!=1&&ye.type=="line"){Bt=!("line-pattern"in st)&&"line-color"in st?n0(Ri(ye,"paint","line-color",bt,tt,X),Ri(ye,"paint","line-opacity",bt,tt,X)):void 0;var te=Ri(ye,"paint","line-width",bt,tt,X);Bt&&te>0&&(++nt,xn=pe[nt],(!xn||!xn.getStroke()||xn.getFill()||xn.getText())&&(xn=new wg({stroke:new vC}),pe[nt]=xn),zn=xn.getStroke(),zn.setLineCap(Ri(ye,"layout","line-cap",bt,tt,X)),zn.setLineJoin(Ri(ye,"layout","line-join",bt,tt,X)),zn.setMiterLimit(Ri(ye,"layout","line-miter-limit",bt,tt,X)),zn.setColor(Bt),zn.setWidth(te),zn.setLineDash(st["line-dasharray"]?Ri(ye,"paint","line-dasharray",bt,tt,X).map(function(Ci){return Ci*te}):null),xn.setZIndex(Zn))}var oe=!1,je=null,Ct=0,Lt=void 0,jt=void 0,cr=void 0;if(($e==1||$e==2)&&"icon-image"in Ge){var Re=Ri(ye,"layout","icon-image",bt,tt,X);if(Re){Lt=typeof Re=="string"?C6(Re,wt):Re.toString();var Ee=void 0;if(a&&i&&i[Lt]){var Me=Ri(ye,"layout","icon-rotation-alignment",bt,tt,X);if($e==2){var p=we.getGeometry();if(p.getFlatMidpoint||p.getFlatMidpoints){var Ke=p.getExtent(),rt=Math.sqrt(Math.max(Math.pow((Ke[2]-Ke[0])/pt,2),Math.pow((Ke[3]-Ke[1])/pt,2)));if(rt>150){var ot=p.getType()==="MultiLineString"?p.getFlatMidpoints():p.getFlatMidpoint();_6||(P3=[NaN,NaN],_6=new h1("Point",P3,[],{},null)),Ee=_6,P3[0]=ot[0],P3[1]=ot[1];var yt=Ri(ye,"layout","symbol-placement",bt,tt,X);if(yt==="line"&&Me==="map")for(var lt=p.getStride(),Rt=p.getFlatCoordinates(),Dt=0,Ot=Rt.length-lt;Dt<Ot;Dt+=lt){var At=Rt[Dt],yn=Rt[Dt+1],gn=Rt[Dt+lt],Yn=Rt[Dt+lt+1],Sr=Math.min(At,gn),$t=Math.min(yn,Yn),Kn=Math.max(At,gn),Wn=Math.max(yn,Yn);if(ot[0]>=Sr&&ot[0]<=Kn&&ot[1]>=$t&&ot[1]<=Wn){Ct=Math.atan2(yn-Yn,gn-At);break}}}}}if($e!==2||Ee){var Tr=Ri(ye,"layout","icon-size",bt,tt,X),Jn=st["icon-color"]!==void 0?Ri(ye,"paint","icon-color",bt,tt,X):null;if(!Jn||Jn.a!==0){var Or=Lt+"."+Tr;if(Jn!==null&&(Or+="."+Jn),jt=L[Or],!jt){var Vn=i[Lt];jt=new jW({color:Jn?[Jn.r*255,Jn.g*255,Jn.b*255,Jn.a]:void 0,img:a,imgSize:f,size:[Vn.width,Vn.height],offset:[Vn.x,Vn.y],rotateWithView:Me==="map",scale:Tr/Vn.pixelRatio,displacement:"icon-offset"in Ge?Ri(ye,"layout","icon-offset",bt,tt,X).map(function(Wi){return-Wi*Vn.pixelRatio}):void 0}),L[Or]=jt}}jt&&(++nt,xn=pe[nt],(!xn||!xn.getImage()||xn.getFill()||xn.getStroke())&&(xn=new wg,pe[nt]=xn),xn.setGeometry(Ee),jt.setRotation(Ct+y6(Ri(ye,"layout","icon-rotate",bt,tt,X))),jt.setOpacity(Ri(ye,"paint","icon-opacity",bt,tt,X)),jt.setAnchor(mfe[Ri(ye,"layout","icon-anchor",bt,tt,X)]),xn.setImage(jt),je=xn.getText(),xn.setText(void 0),xn.setZIndex(Zn),oe=!0,cr=!1)}else cr=!0}}}if($e==1&&ye.type==="circle"){++nt,xn=pe[nt],(!xn||!xn.getImage()||xn.getFill()||xn.getStroke())&&(xn=new wg,pe[nt]=xn);var Tn="circle-radius"in st?Ri(ye,"paint","circle-radius",bt,tt,X):5,_i=n0(Ri(ye,"paint","circle-stroke-color",bt,tt,X),Ri(ye,"paint","circle-stroke-opacity",bt,tt,X)),Zi=n0(Ri(ye,"paint","circle-color",bt,tt,X),Ri(ye,"paint","circle-opacity",bt,tt,X)),ei=Ri(ye,"paint","circle-stroke-width",bt,tt,X),Wr=Tn+"."+_i+"."+Zi+"."+ei;jt=L[Wr],jt||(jt=new DW({radius:Tn,stroke:_i&&ei>0?new vC({width:ei,color:_i}):void 0,fill:Zi?new Ry({color:Zi}):void 0}),L[Wr]=jt),xn.setImage(jt),je=xn.getText(),xn.setText(void 0),xn.setGeometry(void 0),xn.setZIndex(Zn),oe=!0}var Yr=void 0,Xi=void 0,hi,ra,Ca,ao;if("text-field"in Ge){ra=Math.round(Ri(ye,"layout","text-size",bt,tt,X));var Vo=Ri(ye,"layout","text-font",bt,tt,X);hi=Ri(ye,"layout","text-line-height",bt,tt,X),Xi=ZB(s?s(Vo):Vo,ra,hi),Ca=Ri(ye,"layout","text-letter-spacing",bt,tt,X),ao=Ri(ye,"layout","text-max-width",bt,tt,X);var la=Ri(ye,"layout","text-field",bt,tt,X);typeof la=="object"&&la.sections?la.sections.length===1?Yr=la.toString():Yr=la.sections.reduce(function(Ci,Wi,Wo){var Dl=Wi.fontStack?Wi.fontStack.split(","):Vo,Br=ZB(s?s(Dl):Dl,ra*(Wi.scale||1),hi),qr=Wi.text;if(qr===`
`)return Ci.push(`
`,""),Ci;if($e==2){Ci.push(u8(qr,Ca),Br);return}qr=c8(qr,Br,ao,Ca).split(`
`);for(var xa=0,Gr=qr.length;xa<Gr;++xa)xa>0&&Ci.push(`
`,""),Ci.push(qr[xa],Br);return Ci},[]):Yr=C6(la,wt).trim(),nn=Ri(ye,"paint","text-opacity",bt,tt,X)}if(Yr&&nn&&!cr){oe||(++nt,xn=pe[nt],(!xn||!xn.getText()||xn.getFill()||xn.getStroke())&&(xn=new wg,pe[nt]=xn),xn.setImage(void 0),xn.setGeometry(void 0)),xn.getText()||xn.setText(je||new aAe({padding:[2,2,2,2]})),je=xn.getText();var ba=Ge["text-transform"];ba=="uppercase"?Yr=Array.isArray(Yr)?Yr.map(function(Wi,Wo){return Wo%2?Wi:Wi.toUpperCase()}):Yr.toUpperCase():ba=="lowercase"&&(Yr=Array.isArray(Yr)?Yr.map(function(Wi,Wo){return Wo%2?Wi:Wi.toLowerCase()}):Yr.toLowerCase());var el=Array.isArray(Yr)?Yr:$e==2?u8(Yr,Ca):c8(Yr,Xi,ao,Ca);je.setText(el),je.setFont(Xi),je.setRotation(y6(Ri(ye,"layout","text-rotate",bt,tt,X)));var Ss=Ri(ye,"layout","text-anchor",bt,tt,X),yt=oe||$e==1?"point":Ri(ye,"layout","symbol-placement",bt,tt,X);je.setPlacement(yt),je.setOverflow(yt==="point");var li=Ri(ye,"paint","text-halo-width",bt,tt,X),ar=Ri(ye,"layout","text-offset",bt,tt,X),La=Ri(ye,"paint","text-translate",bt,tt,X),Io=0,ua=0;if(yt=="point"){var Oe="center";Ss.indexOf("left")!==-1?(Oe="left",ua=li):Ss.indexOf("right")!==-1&&(Oe="right",ua=-li),je.setTextAlign(Oe);var it=Ri(ye,"layout","text-rotation-alignment",bt,tt,X);je.setRotateWithView(it=="map")}else je.setMaxAngle(y6(Ri(ye,"layout","text-max-angle",bt,tt,X))*Yr.length/el.length),je.setTextAlign(),je.setRotateWithView(!1);var rn="middle";Ss.indexOf("bottom")==0?(rn="bottom",Io=-li-.5*(hi-1)*ra):Ss.indexOf("top")==0&&(rn="top",Io=li+.5*(hi-1)*ra),je.setTextBaseline(rn),je.setOffsetX(ar[0]*ra+ua+La[0]),je.setOffsetY(ar[1]*ra+Io+La[1]),Ue.setColor(n0(Ri(ye,"paint","text-color",bt,tt,X),nn)),je.setFill(Ue);var wn=n0(Ri(ye,"paint","text-halo-color",bt,tt,X),nn);if(wn){Pe.setColor(wn),li*=2;var Qt=.5*ra;Pe.setWidth(li<=Qt?li:Qt),je.setStroke(Pe)}else je.setStroke(void 0);var En=Ri(ye,"layout","text-padding",bt,tt,X),ni=je.getPadding();En!==ni[0]&&(ni[0]=En,ni[1]=En,ni[2]=En,ni[3]=En),xn.setZIndex(Zn)}}},tn=0,St=ft.length;tn<St;++tn)en(tn);if(nt>-1)return pe.length=nt+1,pe}};return n.setStyle(Ye),n.set("mapbox-source",G),n.set("mapbox-layers",K),Ye}var ZG={exports:{}};(function(){var n;ZG.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return n},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},n=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(Cp);var Cfe=ZG.exports;const bfe=Da(Cfe);var KD={},xfe=/font-family: ?([^;]*);/,wfe=/("|')/g,K3;function Mfe(n){if(!K3){K3={};for(var e=document.styleSheets,t=0,r=e.length;t<r;++t){var i=e[t];try{var o=i.rules||i.cssRules;if(o)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(f.type==5){var m=f.cssText.match(xfe);K3[m[1].replace(wfe,"")]=!0}}}catch{}}}return n in K3}var DD={},Sfe=bfe.getNames();function Efe(n){var e=n.toString();if(e in DD)return n;for(var t=n.map(function(m){var C=ZB(m,1).split(" ");return[C.slice(3).join(" ").replace(/"/g,""),C[1]+C[0]]}),r=0,i=t.length;r<i;++r){var o=t[r],s=o[0];if(!Mfe(s)&&Sfe.indexOf(s)!==-1){var a="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+a+'"]')){var f=document.createElement("link");f.href=a,f.rel="stylesheet",document.head.appendChild(f)}}}return DD[e]=!0,n}var XG=/^(.*)(\?.*)$/;function Qw(n,e){return e&&n.indexOf(".")===0&&(n=e+n),n}function b6(n,e,t){n=Qw(n,e);var r=n.match(XG);return r?r[1]+t+(r.length>2?r[2]:""):n+t}function Ofe(n,e,t,r,i){return new Promise(function(o,s){if(typeof e!="object"&&(e=JSON.parse(e)),e.version!=8)return s(new Error("glStyle version 8 required."));if(!(n instanceof $W||n instanceof AG))return s(new Error("Can only apply to VectorLayer or VectorTileLayer"));var a,f,m,C;function k(){!C&&(!e.sprite||f)?(C=_fe(n,e,t,i,f,m,Efe),n.getStyle()?o():s(new Error("Nothing to show for source [".concat(t,"]")))):C?(n.setStyle(C),o()):s(new Error("Something went wrong trying to apply style."))}if(e.sprite){a=window.devicePixelRatio>=1.5?.5:1;var I=a==.5?"@2x":"",K=b6(e.sprite,r,I+".json");fetch(K,{credentials:"same-origin"}).then(function(L){return!L.ok&&I!==""?(K=b6(e.sprite,r,".json"),fetch(K,{credentials:"same-origin"})):L}).then(function(L){if(L.ok)return L.json();s(new Error("Problem fetching sprite from ".concat(K,": ").concat(L.statusText)))}).then(function(L){if(L===void 0)return s(new Error("No sprites found."));f=L,m=b6(e.sprite,r,I+".png"),k()}).catch(function(L){s(new Error("Sprites cannot be loaded: ".concat(K,": ").concat(L.message)))})}else k()})}var d8={};function Bfe(n,e){var t={id:e.id,type:e.type},r={};function i(o){var s=e.layout||{},a=e.paint||{};t.paint=a;var f=typeof n.getSource=="function"?n.getSource().getTileGrid().getZForResolution(o):n.getView().getZoom(),m=typeof n.getTargetElement=="function"?n.getTargetElement():void 0,C,k;if(a["background-color"]!==void 0&&(C=Ri(t,"paint","background-color",f,d8,r),m&&(m.style.background=wu.parse(C).toString())),a["background-opacity"]!==void 0&&(k=Ri(t,"paint","background-opacity",f,d8,r),m&&(m.style.opacity=k)),s.visibility=="none"){m&&(m.style.backgroundColor="",m.style.opacity="");return}return n0(C,k)}if(typeof n.getTargetElement=="function")n.getTargetElement()&&i(),n.on(["change:resolution","change:target"],i);else if(typeof n.setBackground=="function")n.setBackground(i);else throw new Error("Unable to apply background.")}function Ife(n,e){var t;return n.some(function(r){if(r.id==e)return t=r.source,!0}),t}function JG(n){var e=n.bounds;if(e){var t=LB([e[0],e[1]]),r=LB([e[2],e[3]]);return[t[0],t[1],r[0],r[1]]}}function kfe(n,e){n=qG({},n);var t=[e,JSON.stringify(n)].toString(),r=KD[t];return r||(r=new lG({url:n.tiles?void 0:e,tileJSON:n.tiles?n:void 0}),KD[t]=r),new Promise(function(i){var o=r.on("change",function(){var s=r.getState();if(s==="ready"){var a=r.getTileJSON(),f=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(e)for(var m=0,C=f.length;m<C;++m)f[m]=decodeURI(new URL(f[m],e).href);var k=r.getTileGrid(),I=JG(a),K=a.minzoom||0,L=a.maxzoom||22,q=r.get("ol-source");q===void 0&&(q=new cG({attributions:r.getAttributions(),format:new Tse,tileGrid:new f2({origin:k.getOrigin(0),extent:I||k.getExtent(),minZoom:K,resolutions:Kv.slice(0,L+1),tileSize:512}),urls:f}),r.set("ol-source",q)),Ob(o),i(q)}else s==="error"&&(r.set("ol-source",null),Ob(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function Tfe(n,e){var t=new AG({declutter:!0,visible:!1});return kfe(n,e).then(function(r){t.setSource(r)}),t}function Pfe(n,e){var t=new sce,r=new lG({transition:0,url:n.tiles?void 0:e,tileJSON:n.tiles?n:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){Ob(i);var s=r.getTileJSON(),a=JG(s),f=r.getTileGrid(),m=n.tileSize||s.tileSize||512,C=s.minzoom||0,k=s.maxzoom||22;r.tileGrid=new f2({origin:f.getOrigin(0),extent:a||f.getExtent(),minZoom:C,resolutions:ck({maxZoom:k,tileSize:m}).getResolutions(),tileSize:m}),t.setSource(r)}else o==="error"&&(Ob(i),t.setSource(void 0))});return r.setTileLoadFunction(function(o,s){if(s.indexOf("{bbox-epsg-3857}")!=-1){var a=r.getTileGrid().getTileCoordExtent(o.getTileCoord());s=s.replace("{bbox-epsg-3857}",a.toString())}var f=o.getImage();f.src=s}),t}var LD=new Zae;function Kfe(n,e){var t=n.data,r,i;return typeof t=="string"?i=Qw(t,e):r=LD.readFeatures(t,{featureProjection:"EPSG:3857"}),new $W({declutter:!0,source:new HW({attributions:n.attribution,features:r,format:LD,url:i}),visible:!1})}function FD(n,e,t,r){var i=t.getZoom(),o=Ri(n,"paint","raster-opacity",i,d8,r);e.setOpacity(o)}function RD(n,e,t,r,i,o){o===void 0&&(o="");var s=[],a=e.getView();!a.isDef()&&!a.getRotation()&&!a.getResolutions()&&(a=new am(qG(a.getProperties(),{maxResolution:Kv[0]})),e.setView(a)),"center"in n&&!a.getCenter()&&a.setCenter(LB(n.center)),"zoom"in n&&a.getZoom()===void 0&&a.setResolution(Kv[0]/Math.pow(2,n.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:e.getSize()}),n.sprite&&(n.sprite.indexOf("mapbox://")==0?n.sprite=t+"/sprite"+o:n.sprite.indexOf("http")!=0&&(n.sprite=(r?r+i:"")+n.sprite+o));for(var f=n.layers,m=[],C,k,I,K,L,q,X=function(ne,se){C=f[ne];var Ae=C.type;if(!(Ae=="heatmap"||Ae=="hillshade"))if(Ae=="background")Bfe(e,C);else{if(K=C.source||Ife(f,C.ref),K!=I){if(m.length&&(s.push(UD(L,m,n,i,e)),m=[]),k=n.sources[K],q=k.url,q)if(q=Qw(q,i),q.indexOf("mapbox://")==0){var V=q.replace("mapbox://","");k.tiles=["a","b","c","d"].map(function(be){return"https://"+be+".tiles.mapbox.com/v4/"+V+"/{z}/{x}/{y}."+(k.type=="vector"?"vector.pbf":"png")+o})}else q.indexOf("/")===0&&r.indexOf("http")===0&&(q=r+q);if(k.tiles&&(k.tiles=k.tiles.map(function(be){return Qw(be,i)})),k.type=="vector")L=Tfe(k,q);else if(k.type=="raster"){L=Pfe(k,q),L.setVisible(C.layout?C.layout.visibility!=="none":!0);var re={};a.on("change:resolution",FD.bind(H,C,L,a,re)),FD(C,L,a,re)}else k.type=="geojson"&&(L=Kfe(k,i));I=K,L&&L.set("mapbox-source",I)}m.push(C.id)}},H=this,G=0,ee=f.length;G<ee;++G)X(G);return s.push(UD(L,m,n,i,e)),e.set("mapbox-style",n),Promise.all(s)}function Dfe(n,e){var t,r="",i="",o="",s="";if((typeof n=="string"||n instanceof HTMLElement)&&(n=new lk({target:n})),typeof e=="string"){var a=e.match(XG);a&&(i=a[1],r=a.length>2?a[2]:""),t=new Promise(function(f,m){fetch(e,{credentials:"same-origin"}).then(function(C){return C.json()}).then(function(C){var k=document.createElement("A");k.href=e;var I=k.href;s=k.pathname.split("/").slice(0,-1).join("/")+"/",o=I.substr(0,I.indexOf(s)),RD(C,n,i,o,s,r).then(function(){f(n)}).catch(m)}).catch(function(C){m(new Error("Could not load ".concat(e,": ").concat(C.message)))})})}else t=new Promise(function(f,m){RD(e,n).then(function(){f(n)}).catch(m)});return t}function Lfe(n,e){return(typeof n=="string"||n instanceof HTMLElement)&&(n=new lk({target:n})),setTimeout(function(){Dfe(n,e)},0),n}function UD(n,e,t,r,i){for(var o=24,s=0,a=t.layers,f=0,m=a.length;f<m;++f){var C=a[f];e.indexOf(C.id)!==-1&&(o=Math.min("minzoom"in C?C.minzoom:0,o),s=Math.max("maxzoom"in C?C.maxzoom:24,s))}return new Promise(function(k,I){var K=function(){var L=n.getSource();if(!L||L.getState()==="error"){I(new Error("Error accessing data for source "+n.get("mapbox-source")));return}if("getTileGrid"in L){var q=L.getTileGrid();if(q){var X=q.getMinZoom();(o>0||X>0)&&n.setMaxResolution(Math.min(Kv[o],q.getResolution(X))+1e-9),s<24&&n.setMinResolution(Kv[s]+1e-9)}}L instanceof HW||L instanceof cG?Ofe(n,t,e,r).then(function(){n.setVisible(!0),k()},function(H){I(H)}):k()};n.set("mapbox-layers",e),i.getLayers().getArray().indexOf(n)===-1&&i.addLayer(n),n.getSource()?K():n.once("change:source",K)})}function Kr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",e="7dfd17e1d8192e9d94618577798e5822b83d8c7d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:11,column:2},end:{line:15,column:3}},1:{start:{line:12,column:4},end:{line:12,column:16}},2:{start:{line:14,column:4},end:{line:14,column:149}},3:{start:{line:14,column:103},end:{line:14,column:133}},4:{start:{line:18,column:24},end:{line:25,column:3}},5:{start:{line:28,column:14},end:{line:28,column:18}},6:{start:{line:30,column:19},end:{line:30,column:23}},7:{start:{line:32,column:4},end:{line:32,column:17}},8:{start:{line:33,column:4},end:{line:38,column:6}},9:{start:{line:39,column:4},end:{line:39,column:67}},10:{start:{line:42,column:4},end:{line:42,column:26}},11:{start:{line:42,column:19},end:{line:42,column:26}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:14},end:{line:112,column:26}},36:{start:{line:113,column:4},end:{line:180,column:9}},37:{start:{line:117,column:22},end:{line:117,column:45}},38:{start:{line:172,column:22},end:{line:172,column:40}},39:{start:{line:183,column:22},end:{line:183,column:62}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:10,column:9},end:{line:10,column:21}},loc:{start:{line:10,column:30},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:14,column:92},end:{line:14,column:93}},loc:{start:{line:14,column:103},end:{line:14,column:133}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:20,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:24},end:{line:22,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:24,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:21},end:{line:40,column:3}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:28},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:181,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:117,column:15},end:{line:117,column:16}},loc:{start:{line:117,column:22},end:{line:117,column:45}},line:117},15:{name:"(anonymous_15)",decl:{start:{line:172,column:15},end:{line:172,column:16}},loc:{start:{line:172,column:22},end:{line:172,column:40}},line:172}},branchMap:{0:{loc:{start:{line:11,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:15,column:3}},{start:{line:13,column:9},end:{line:15,column:3}}],line:11},1:{loc:{start:{line:11,column:6},end:{line:11,column:34}},type:"binary-expr",locations:[{start:{line:11,column:6},end:{line:11,column:13}},{start:{line:11,column:17},end:{line:11,column:34}}],line:11},2:{loc:{start:{line:42,column:4},end:{line:42,column:26}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:133,column:26},end:{line:133,column:59}},type:"binary-expr",locations:[{start:{line:133,column:26},end:{line:133,column:53}},{start:{line:133,column:57},end:{line:133,column:59}}],line:133},5:{loc:{start:{line:145,column:6},end:{line:167,column:10}},type:"binary-expr",locations:[{start:{line:145,column:6},end:{line:145,column:29}},{start:{line:145,column:49},end:{line:167,column:10}}],line:145}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAoBW,cAwIL,YAxIK;AApBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAEjD,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK,IAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAAuC;AACxD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAY,EAAE,aAAa;AAAA,gBAC5B;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBACZ;AAAA,UAAE,OAAO;AAAA,QAAE;AAAA,QAAE,KAAK,MAAM;AAAA,SAC3B;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,WAAW;AAAA,YAAE;AAAA,aAAC;AAAA,UACxB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAY,EAAE,UAAU;AAAA,UACxB,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dfd17e1d8192e9d94618577798e5822b83d8c7d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Kr=function(){return s},s}Kr();function jD(n){return Kr().f[0]++,Kr().s[0]++,Kr().b[1][0]++,!n||(Kr().b[1][1]++,n.length<2)?(Kr().b[0][0]++,Kr().s[1]++,null):(Kr().b[0][1]++,Kr().s[2]++,Y.jsx("span",{className:"maputnik-coords",children:n.map(e=>(Kr().f[1]++,Kr().s[3]++,String(e).padStart(7,""))).join(", ")}))}class eQ extends kn.Component{constructor(t){Kr().f[5]++,Kr().s[7]++;super(t);pn(this,"updateStyle");pn(this,"map");pn(this,"container",(Kr().s[5]++,null));pn(this,"overlay");pn(this,"popupContainer",(Kr().s[6]++,null));pn(this,"closeOverlay",(Kr().s[32]++,t=>{Kr().f[12]++,Kr().s[33]++,t.target.blur(),Kr().s[34]++,this.overlay.setPosition(void 0)}));Kr().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Kr().s[9]++,this.updateStyle=Y5.throttle(this._updateStyle.bind(this),200)}_updateStyle(t){if(Kr().f[6]++,Kr().s[10]++,this.map)Kr().b[2][1]++;else{Kr().b[2][0]++,Kr().s[11]++;return}Kr().s[12]++,this.map.getLayers().clear(),Kr().s[13]++,Lfe(this.map,t)}componentDidUpdate(t){Kr().f[7]++,Kr().s[14]++,this.props.mapStyle!==t.mapStyle?(Kr().b[3][0]++,Kr().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Kr().b[3][1]++}componentDidMount(){Kr().f[8]++,Kr().s[16]++,this.overlay=new jle({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const t=(Kr().s[17]++,new lk({target:this.container,overlays:[this.overlay],view:new am({zoom:1,center:[180,-90]})}));Kr().s[18]++,t.on("pointermove",i=>{Kr().f[9]++;const o=(Kr().s[19]++,$E(i.coordinate));Kr().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Kr().s[21]++;const r=()=>{Kr().f[10]++;const i=(Kr().s[22]++,t.getView().getZoom()),o=(Kr().s[23]++,$E(t.getView().getCenter()));Kr().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Kr().s[25]++,r(),Kr().s[26]++,t.on("moveend",r),Kr().s[27]++,t.on("postrender",i=>{Kr().f[11]++;const o=(Kr().s[28]++,$E(t.getView().getCenter()));Kr().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:t.getView().getRotation().toFixed(2),zoom:t.getView().getZoom().toFixed(2)})}),Kr().s[30]++,this.map=t,Kr().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){Kr().f[13]++;const t=(Kr().s[35]++,this.props.t);return Kr().s[36]++,Y.jsxs("div",{className:"maputnik-ol-container",children:[Y.jsxs("div",{ref:r=>(Kr().f[14]++,Kr().s[37]++,this.popupContainer=r),style:{background:"black"},className:"maputnik-popup",children:[Y.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":t("Close popup"),children:""}),Y.jsx(xN,{features:(Kr().b[4][0]++,this.state.selectedFeatures||(Kr().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),Y.jsxs("div",{className:"maputnik-ol-zoom",children:[t("Zoom:")," ",this.state.zoom]}),(Kr().b[5][0]++,this.props.debugToolbox&&(Kr().b[5][1]++,Y.jsxs("div",{className:"maputnik-ol-debug",children:[Y.jsxs("div",{children:[Y.jsxs("label",{children:[t("cursor:")," "]}),Y.jsx("span",{children:jD(this.state.cursor)})]}),Y.jsxs("div",{children:[Y.jsxs("label",{children:[t("center:")," "]}),Y.jsx("span",{children:jD(this.state.center)})]}),Y.jsxs("div",{children:[Y.jsxs("label",{children:[t("rotation:")," "]}),Y.jsx("span",{children:this.state.rotation})]})]}))),Y.jsx("div",{className:"maputnik-ol",ref:r=>(Kr().f[15]++,Kr().s[38]++,this.container=r),role:"region","aria-label":t("Map view"),style:{...this.props.style}})]})}}pn(eQ,"defaultProps",(Kr().s[4]++,{onMapLoaded:()=>{Kr().f[2]++},onDataChange:()=>{Kr().f[3]++},onLayerSelect:()=>{Kr().f[4]++}}));const Ffe=(Kr().s[39]++,qo()(eQ));var tQ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(tQ);var Rfe=tQ.exports;const yp=Da(Rfe);function Bg(){var n="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",e="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Bg=function(){return s},s}Bg();class Ufe extends kn.Component{render(){Bg().f[0]++;const e=(Bg().s[0]++,{width:20,height:20,...this.props.style});return Bg().s[1]++,this.props.isCollapsed?(Bg().b[0][0]++,Y.jsx(gie,{style:e})):(Bg().b[0][1]++,Y.jsx(mie,{style:e}))}}function zy(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",e="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return zy=function(){return s},s}zy();class jfe extends kn.Component{render(){return zy().f[0]++,zy().s[0]++,Y.jsx("li",{className:"maputnik-layer-list-group",children:Y.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:e=>(zy().f[1]++,zy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[Y.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),Y.jsx("span",{className:"maputnik-space"}),Y.jsx(Ufe,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function zb(){return zb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zb.apply(null,arguments)}function zfe(n){if(Array.isArray(n))return n}function Nfe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],f=!0,m=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);f=!0);}catch(C){m=!0,i=C}finally{try{if(!f&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(m)throw i}}return a}}function f8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function nQ(n,e){if(n){if(typeof n=="string")return f8(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f8(n,e):void 0}}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(n,e){return zfe(n)||Nfe(n,e)||nQ(n,e)||Wfe()}function Dv(n){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(n)}function Gfe(n,e){if(Dv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iQ(n){var e=Gfe(n,"string");return Dv(e)=="symbol"?e:e+""}function Pa(n,e,t){return(e=iQ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.forEach(function(i){Pa(n,i,t[i])})}return n}function g2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iQ(r.key),r)}}function y2(n,e,t){return e&&Qfe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Co(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zk(n,e){if(e&&(Dv(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Co(n)}function Nb(n){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nb(n)}function p8(n,e){return p8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},p8(n,e)}function Nk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p8(n,e)}var $fe=function(n,e,t,r,i,o,s,a){if(!n){var f;if(e===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[t,r,i,o,s,a],C=0;f=new Error(e.replace(/%s/g,function(){return m[C++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}},Yfe=$fe;const d1=Da(Yfe);function qfe(n){if(Array.isArray(n))return f8(n)}function Vfe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zfe(n){return qfe(n)||Vfe(n)||nQ(n)||Hfe()}var Xfe=function(){function n(){g2(this,n),Pa(this,"refs",{})}return y2(n,[{key:"add",value:function(t,r){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(r)}},{key:"remove",value:function(t,r){var i=this.getIndex(t,r);i!==-1&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(t,r){return this.refs[t].indexOf(r)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[t].sort(Jfe)}}]),n}();function Jfe(n,e){var t=n.node.sortableInfo.index,r=e.node.sortableInfo.index;return t-r}function oQ(n,e){return Object.keys(n).reduce(function(t,r){return e.indexOf(r)===-1&&(t[r]=n[r]),t},{})}var iy={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},aQ=function(){if(typeof window>"u"||typeof document>"u")return"";var n=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(n).join("").match(/-(moz|webkit|ms)-/)||n.OLink===""&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function D3(n,e){Object.keys(e).forEach(function(t){n.style[t]=e[t]})}function L3(n,e){n.style["".concat(aQ,"Transform")]=e==null?"":"translate3d(".concat(e.x,"px,").concat(e.y,"px,0)")}function w6(n,e){n.style["".concat(aQ,"TransitionDuration")]=e==null?"":"".concat(e,"ms")}function bC(n,e){for(;n;){if(e(n))return n;n=n.parentNode}return null}function zD(n,e,t){return Math.max(n,Math.min(t,e))}function Ny(n){return n.substr(-2)==="px"?parseFloat(n):0}function epe(n){var e=window.getComputedStyle(n);return{bottom:Ny(e.marginBottom),left:Ny(e.marginLeft),right:Ny(e.marginRight),top:Ny(e.marginTop)}}function Wk(n,e){var t=e.displayName||e.name;return t?"".concat(n,"(").concat(t,")"):n}function M6(n,e){var t=n.getBoundingClientRect();return{top:t.top+e.top,left:t.left+e.left}}function tC(n){return n.touches&&n.touches.length?{x:n.touches[0].pageX,y:n.touches[0].pageY}:n.changedTouches&&n.changedTouches.length?{x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY}:{x:n.pageX,y:n.pageY}}function tpe(n){return n.touches&&n.touches.length||n.changedTouches&&n.changedTouches.length}function g4(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(n){var r={left:t.left+n.offsetLeft,top:t.top+n.offsetTop};return n.parentNode===e?r:g4(n.parentNode,e,r)}}function npe(n,e,t){return n<t&&n>e?n-1:n>t&&n<e?n+1:n}function ND(n){var e=n.lockOffset,t=n.width,r=n.height,i=e,o=e,s="px";if(typeof e=="string"){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);d1(a!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),i=parseFloat(e),o=parseFloat(e),s=a[1]}return d1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",e),s==="%"&&(i=i*t/100,o=o*r/100),{x:i,y:o}}function rpe(n){var e=n.height,t=n.width,r=n.lockOffset,i=Array.isArray(r)?r:[r,r];d1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=rQ(i,2),s=o[0],a=o[1];return[ND({height:e,lockOffset:s,width:t}),ND({height:e,lockOffset:a,width:t})]}function ipe(n){var e=window.getComputedStyle(n),t=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return t.test(e[i])})}function sQ(n){return n instanceof HTMLElement?ipe(n)?n:sQ(n.parentNode):null}function ope(n){var e=window.getComputedStyle(n);return e.display==="grid"?{x:Ny(e.gridColumnGap),y:Ny(e.gridRowGap)}:{x:0,y:0}}var mg={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},Ig={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function ape(n){var e="input, textarea, select, canvas, [contenteditable]",t=n.querySelectorAll(e),r=n.cloneNode(!0),i=Zfe(r.querySelectorAll(e));return i.forEach(function(o,s){if(o.type!=="file"&&(o.value=t[s].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===Ig.Canvas&&t[s].width>0&&t[s].height>0){var a=o.getContext("2d");a.drawImage(t[s],0,0)}}),r}function spe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Nk(o,i);function o(){var s,a;g2(this,o);for(var f=arguments.length,m=new Array(f),C=0;C<f;C++)m[C]=arguments[C];return a=zk(this,(s=Nb(o)).call.apply(s,[this].concat(m))),Pa(Co(Co(a)),"wrappedInstance",$n.createRef()),a}return y2(o,[{key:"componentDidMount",value:function(){var a=N0.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return d1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return $n.createElement(n,zb({ref:a},this.props))}}]),o}($n.Component),Pa(e,"displayName",Wk("sortableHandle",n)),t}function WD(n){return n.sortableHandle!=null}var lpe=function(){function n(e,t){g2(this,n),this.container=e,this.onScrollCallback=t}return y2(n,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var r=this,i=t.translate,o=t.minTranslate,s=t.maxTranslate,a=t.width,f=t.height,m={x:0,y:0},C={x:1,y:1},k={x:10,y:10},I=this.container,K=I.scrollTop,L=I.scrollLeft,q=I.scrollHeight,X=I.scrollWidth,H=I.clientHeight,G=I.clientWidth,ee=K===0,ne=q-K-H===0,se=L===0,Ae=X-L-G===0;i.y>=s.y-f/2&&!ne?(m.y=1,C.y=k.y*Math.abs((s.y-f/2-i.y)/f)):i.x>=s.x-a/2&&!Ae?(m.x=1,C.x=k.x*Math.abs((s.x-a/2-i.x)/a)):i.y<=o.y+f/2&&!ee?(m.y=-1,C.y=k.y*Math.abs((i.y-f/2-o.y)/f)):i.x<=o.x+a/2&&!se&&(m.x=-1,C.x=k.x*Math.abs((i.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(m.x!==0||m.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var V={left:C.x*m.x,top:C.y*m.y};r.container.scrollTop+=V.top,r.container.scrollLeft+=V.left,r.onScrollCallback(V)},5))}}]),n}();function upe(n){var e=n.node;return{height:e.offsetHeight,width:e.offsetWidth}}function Ape(n){var e=[Ig.Input,Ig.Textarea,Ig.Select,Ig.Option,Ig.Button];return!!(e.indexOf(n.target.tagName)!==-1||bC(n.target,function(t){return t.contentEditable==="true"}))}var lQ={axis:zr.oneOf(["x","y","xy"]),contentWindow:zr.any,disableAutoscroll:zr.bool,distance:zr.number,getContainer:zr.func,getHelperDimensions:zr.func,helperClass:zr.string,helperContainer:zr.oneOfType([zr.func,typeof HTMLElement>"u"?zr.any:zr.instanceOf(HTMLElement)]),hideSortableGhost:zr.bool,keyboardSortingTransitionDuration:zr.number,lockAxis:zr.string,lockOffset:zr.oneOfType([zr.number,zr.string,zr.arrayOf(zr.oneOfType([zr.number,zr.string]))]),lockToContainerEdges:zr.bool,onSortEnd:zr.func,onSortMove:zr.func,onSortOver:zr.func,onSortStart:zr.func,pressDelay:zr.number,pressThreshold:zr.number,keyCodes:zr.shape({lift:zr.arrayOf(zr.number),drop:zr.arrayOf(zr.number),cancel:zr.arrayOf(zr.number),up:zr.arrayOf(zr.number),down:zr.arrayOf(zr.number)}),shouldCancelStart:zr.func,transitionDuration:zr.number,updateBeforeSortStart:zr.func,useDragHandle:zr.bool,useWindowAsScrollContainer:zr.bool},uQ={lift:[mg.SPACE],drop:[mg.SPACE],cancel:[mg.ESC],up:[mg.UP,mg.LEFT],down:[mg.DOWN,mg.RIGHT]},cpe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:upe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:uQ,shouldCancelStart:Ape,transitionDuration:300,useWindowAsScrollContainer:!1},hpe=Object.keys(lQ);function dpe(n){d1(!(n.distance&&n.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function fpe(n,e){try{var t=n()}catch(r){return e(!0,r)}return t&&t.then?t.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}var AQ=$n.createContext({manager:{}});function ppe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Nk(o,i);function o(s){var a;g2(this,o),a=zk(this,Nb(o).call(this,s)),Pa(Co(Co(a)),"state",{}),Pa(Co(Co(a)),"handleStart",function(m){var C=a.props,k=C.distance,I=C.shouldCancelStart;if(!(m.button===2||I(m))){a.touched=!0,a.position=tC(m);var K=bC(m.target,function(ee){return ee.sortableInfo!=null});if(K&&K.sortableInfo&&a.nodeIsChild(K)&&!a.state.sorting){var L=a.props.useDragHandle,q=K.sortableInfo,X=q.index,H=q.collection,G=q.disabled;if(G||L&&!bC(m.target,WD))return;a.manager.active={collection:H,index:X},!tpe(m)&&m.target.tagName===Ig.Anchor&&m.preventDefault(),k||(a.props.pressDelay===0?a.handlePress(m):a.pressTimer=setTimeout(function(){return a.handlePress(m)},a.props.pressDelay))}}}),Pa(Co(Co(a)),"nodeIsChild",function(m){return m.sortableInfo.manager===a.manager}),Pa(Co(Co(a)),"handleMove",function(m){var C=a.props,k=C.distance,I=C.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var K=tC(m),L={x:a.position.x-K.x,y:a.position.y-K.y},q=Math.abs(L.x)+Math.abs(L.y);a.delta=L,!k&&(!I||q>=I)?(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0)):k&&q>=k&&a.manager.isActive()&&a.handlePress(m)}}),Pa(Co(Co(a)),"handleEnd",function(){a.touched=!1,a.cancel()}),Pa(Co(Co(a)),"cancel",function(){var m=a.props.distance,C=a.state.sorting;C||(m||clearTimeout(a.pressTimer),a.manager.active=null)}),Pa(Co(Co(a)),"handlePress",function(m){try{var C=a.manager.getActive(),k=function(){if(C){var I=function(){var _e=se.sortableInfo.index,Pe=epe(se),Ue=ope(a.container),pe=a.scrollContainer.getBoundingClientRect(),Ye=q({index:_e,node:se,collection:Ae});if(a.node=se,a.margin=Pe,a.gridGap=Ue,a.width=Ye.width,a.height=Ye.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=se.getBoundingClientRect(),a.containerBoundingRect=pe,a.index=_e,a.newIndex=_e,a.axis={x:L.indexOf("x")>=0,y:L.indexOf("y")>=0},a.offsetEdge=g4(se,a.container),V?a.initialOffset=tC(x6({},m,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top})):a.initialOffset=tC(m),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(ape(se)),D3(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-Pe.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-Pe.top,"px"),width:"".concat(a.width,"px")}),V&&a.helper.focus(),H&&(a.sortableGhost=se,D3(se,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},V){var we=ne?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,pt=we.top,wt=we.left,ft=we.width,bt=we.height,$e=pt+bt,tt=wt+ft;a.axis.x&&(a.minTranslate.x=wt-a.boundingClientRect.left,a.maxTranslate.x=tt-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=pt-a.boundingClientRect.top,a.maxTranslate.y=$e-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(ne?0:pe.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(ne?a.contentWindow.innerWidth:pe.left+pe.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(ne?0:pe.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(ne?a.contentWindow.innerHeight:pe.top+pe.height)-a.boundingClientRect.top-a.height/2);X&&X.split(" ").forEach(function(nt){return a.helper.classList.add(nt)}),a.listenerNode=m.touches?m.target:a.contentWindow,V?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(iy.move.forEach(function(nt){return a.listenerNode.addEventListener(nt,a.handleSortMove,!1)}),iy.end.forEach(function(nt){return a.listenerNode.addEventListener(nt,a.handleSortEnd,!1)})),a.setState({sorting:!0,sortingIndex:_e}),ee&&ee({node:se,index:_e,collection:Ae,isKeySorting:V,nodes:a.manager.getOrderedRefs(),helper:a.helper},m),V&&a.keyMove(0)},K=a.props,L=K.axis,q=K.getHelperDimensions,X=K.helperClass,H=K.hideSortableGhost,G=K.updateBeforeSortStart,ee=K.onSortStart,ne=K.useWindowAsScrollContainer,se=C.node,Ae=C.collection,V=a.manager.isKeySorting,re=function(){if(typeof G=="function"){a._awaitingUpdateBeforeSortStart=!0;var be=fpe(function(){var _e=se.sortableInfo.index;return Promise.resolve(G({collection:Ae,index:_e,node:se,isKeySorting:V},m)).then(function(){})},function(_e,Pe){if(a._awaitingUpdateBeforeSortStart=!1,_e)throw Pe;return Pe});if(be&&be.then)return be.then(function(){})}}();return re&&re.then?re.then(I):I(re)}}();return Promise.resolve(k&&k.then?k.then(function(){}):void 0)}catch(I){return Promise.reject(I)}}),Pa(Co(Co(a)),"handleSortMove",function(m){var C=a.props.onSortMove;typeof m.preventDefault=="function"&&m.cancelable&&m.preventDefault(),a.updateHelperPosition(m),a.animateNodes(),a.autoscroll(),C&&C(m)}),Pa(Co(Co(a)),"handleSortEnd",function(m){var C=a.props,k=C.hideSortableGhost,I=C.onSortEnd,K=a.manager,L=K.active.collection,q=K.isKeySorting,X=a.manager.getOrderedRefs();a.listenerNode&&(q?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(iy.move.forEach(function(se){return a.listenerNode.removeEventListener(se,a.handleSortMove)}),iy.end.forEach(function(se){return a.listenerNode.removeEventListener(se,a.handleSortEnd)}))),a.helper.parentNode.removeChild(a.helper),k&&a.sortableGhost&&D3(a.sortableGhost,{opacity:"",visibility:""});for(var H=0,G=X.length;H<G;H++){var ee=X[H],ne=ee.node;ee.edgeOffset=null,ee.boundingClientRect=null,L3(ne,null),w6(ne,null),ee.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),typeof I=="function"&&I({collection:L,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:q,nodes:X},m),a.touched=!1}),Pa(Co(Co(a)),"autoscroll",function(){var m=a.props.disableAutoscroll,C=a.manager.isKeySorting;if(m){a.autoScroller.clear();return}if(C){var k=x6({},a.translate),I=0,K=0;a.axis.x&&(k.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),I=a.translate.x-k.x),a.axis.y&&(k.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),K=a.translate.y-k.y),a.translate=k,L3(a.helper,a.translate),a.scrollContainer.scrollLeft+=I,a.scrollContainer.scrollTop+=K;return}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}),Pa(Co(Co(a)),"onAutoScroll",function(m){a.translate.x+=m.left,a.translate.y+=m.top,a.animateNodes()}),Pa(Co(Co(a)),"handleKeyDown",function(m){var C=m.keyCode,k=a.props,I=k.shouldCancelStart,K=k.keyCodes,L=K===void 0?{}:K,q=x6({},uQ,L);a.manager.active&&!a.manager.isKeySorting||!a.manager.active&&(!q.lift.includes(C)||I(m)||!a.isValidSortingTarget(m))||(m.stopPropagation(),m.preventDefault(),q.lift.includes(C)&&!a.manager.active?a.keyLift(m):q.drop.includes(C)&&a.manager.active?a.keyDrop(m):q.cancel.includes(C)?(a.newIndex=a.manager.active.index,a.keyDrop(m)):q.up.includes(C)?a.keyMove(-1):q.down.includes(C)&&a.keyMove(1))}),Pa(Co(Co(a)),"keyLift",function(m){var C=m.target,k=bC(C,function(q){return q.sortableInfo!=null}),I=k.sortableInfo,K=I.index,L=I.collection;a.initialFocusedNode=C,a.manager.isKeySorting=!0,a.manager.active={index:K,collection:L},a.handlePress(m)}),Pa(Co(Co(a)),"keyMove",function(m){var C=a.manager.getOrderedRefs(),k=C[C.length-1].node.sortableInfo.index,I=a.newIndex+m,K=a.newIndex;if(!(I<0||I>k)){a.prevIndex=K,a.newIndex=I;var L=npe(a.newIndex,a.prevIndex,a.index),q=C.find(function(V){var re=V.node;return re.sortableInfo.index===L}),X=q.node,H=a.containerScrollDelta,G=q.boundingClientRect||M6(X,H),ee=q.translate||{x:0,y:0},ne={top:G.top+ee.y-H.top,left:G.left+ee.x-H.left},se=K<I,Ae={x:se&&a.axis.x?X.offsetWidth-a.width:0,y:se&&a.axis.y?X.offsetHeight-a.height:0};a.handleSortMove({pageX:ne.left+Ae.x,pageY:ne.top+Ae.y,ignoreTransition:m===0})}}),Pa(Co(Co(a)),"keyDrop",function(m){a.handleSortEnd(m),a.initialFocusedNode&&a.initialFocusedNode.focus()}),Pa(Co(Co(a)),"handleKeyEnd",function(m){a.manager.active&&a.keyDrop(m)}),Pa(Co(Co(a)),"isValidSortingTarget",function(m){var C=a.props.useDragHandle,k=m.target,I=bC(k,function(K){return K.sortableInfo!=null});return I&&I.sortableInfo&&!I.sortableInfo.disabled&&(C?WD(k):k.sortableInfo)});var f=new Xfe;return dpe(s),a.manager=f,a.wrappedInstance=$n.createRef(),a.sortableContextValue={manager:f},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return y2(o,[{key:"componentDidMount",value:function(){var a=this,f=this.props.useWindowAsScrollContainer,m=this.getContainer();Promise.resolve(m).then(function(C){a.container=C,a.document=a.container.ownerDocument||document;var k=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof k=="function"?k():k,a.scrollContainer=f?a.document.scrollingElement||a.document.documentElement:sQ(a.container)||a.container,a.autoScroller=new lpe(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(I){return iy[I].forEach(function(K){return a.container.addEventListener(K,a.events[I],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(f){return iy[f].forEach(function(m){return a.container.removeEventListener(m,a.events[f])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var f=this.props,m=f.lockAxis,C=f.lockOffset,k=f.lockToContainerEdges,I=f.transitionDuration,K=f.keyboardSortingTransitionDuration,L=K===void 0?I:K,q=this.manager.isKeySorting,X=a.ignoreTransition,H=tC(a),G={x:H.x-this.initialOffset.x,y:H.y-this.initialOffset.y};if(G.y-=window.pageYOffset-this.initialWindowScroll.top,G.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=G,k){var ee=rpe({height:this.height,lockOffset:C,width:this.width}),ne=rQ(ee,2),se=ne[0],Ae=ne[1],V={x:this.width/2-se.x,y:this.height/2-se.y},re={x:this.width/2-Ae.x,y:this.height/2-Ae.y};G.x=zD(this.minTranslate.x+V.x,this.maxTranslate.x-re.x,G.x),G.y=zD(this.minTranslate.y+V.y,this.maxTranslate.y-re.y,G.y)}m==="x"?G.y=0:m==="y"&&(G.x=0),q&&L&&!X&&w6(this.helper,L),L3(this.helper,G)}},{key:"animateNodes",value:function(){var a=this.props,f=a.transitionDuration,m=a.hideSortableGhost,C=a.onSortOver,k=this.containerScrollDelta,I=this.windowScrollDelta,K=this.manager.getOrderedRefs(),L={left:this.offsetEdge.left+this.translate.x+k.left,top:this.offsetEdge.top+this.translate.y+k.top},q=this.manager.isKeySorting,X=this.newIndex;this.newIndex=null;for(var H=0,G=K.length;H<G;H++){var ee=K[H].node,ne=ee.sortableInfo.index,se=ee.offsetWidth,Ae=ee.offsetHeight,V={height:this.height>Ae?Ae/2:this.height/2,width:this.width>se?se/2:this.width/2},re=q&&ne>this.index&&ne<=X,be=q&&ne<this.index&&ne>=X,_e={x:0,y:0},Pe=K[H].edgeOffset;Pe||(Pe=g4(ee,this.container),K[H].edgeOffset=Pe,q&&(K[H].boundingClientRect=M6(ee,k)));var Ue=H<K.length-1&&K[H+1],pe=H>0&&K[H-1];if(Ue&&!Ue.edgeOffset&&(Ue.edgeOffset=g4(Ue.node,this.container),q&&(Ue.boundingClientRect=M6(Ue.node,k))),ne===this.index){m&&(this.sortableGhost=ee,D3(ee,{opacity:0,visibility:"hidden"}));continue}f&&w6(ee,f),this.axis.x?this.axis.y?be||ne<this.index&&(L.left+I.left-V.width<=Pe.left&&L.top+I.top<=Pe.top+V.height||L.top+I.top+V.height<=Pe.top)?(_e.x=this.width+this.marginOffset.x,Pe.left+_e.x>this.containerBoundingRect.width-V.width&&Ue&&(_e.x=Ue.edgeOffset.left-Pe.left,_e.y=Ue.edgeOffset.top-Pe.top),this.newIndex===null&&(this.newIndex=ne)):(re||ne>this.index&&(L.left+I.left+V.width>=Pe.left&&L.top+I.top+V.height>=Pe.top||L.top+I.top+V.height>=Pe.top+Ae))&&(_e.x=-(this.width+this.marginOffset.x),Pe.left+_e.x<this.containerBoundingRect.left+V.width&&pe&&(_e.x=pe.edgeOffset.left-Pe.left,_e.y=pe.edgeOffset.top-Pe.top),this.newIndex=ne):re||ne>this.index&&L.left+I.left+V.width>=Pe.left?(_e.x=-(this.width+this.marginOffset.x),this.newIndex=ne):(be||ne<this.index&&L.left+I.left<=Pe.left+V.width)&&(_e.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=ne)):this.axis.y&&(re||ne>this.index&&L.top+I.top+V.height>=Pe.top?(_e.y=-(this.height+this.marginOffset.y),this.newIndex=ne):(be||ne<this.index&&L.top+I.top<=Pe.top+V.height)&&(_e.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=ne))),L3(ee,_e),K[H].translate=_e}this.newIndex==null&&(this.newIndex=this.index),q&&(this.newIndex=X);var Ye=q?this.prevIndex:X;C&&this.newIndex!==Ye&&C({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Ye,isKeySorting:q,nodes:K,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return d1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?N0.findDOMNode(this):a(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return $n.createElement(AQ.Provider,{value:this.sortableContextValue},$n.createElement(n,zb({ref:a},oQ(this.props,hpe))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}($n.Component),Pa(e,"displayName",Wk("sortableList",n)),Pa(e,"defaultProps",cpe),Pa(e,"propTypes",lQ),t}var cQ={index:zr.number.isRequired,collection:zr.oneOfType([zr.number,zr.string]),disabled:zr.bool},mpe=Object.keys(cQ);function gpe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Nk(o,i);function o(){var s,a;g2(this,o);for(var f=arguments.length,m=new Array(f),C=0;C<f;C++)m[C]=arguments[C];return a=zk(this,(s=Nb(o)).call.apply(s,[this].concat(m))),Pa(Co(Co(a)),"wrappedInstance",$n.createRef()),a}return y2(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,f=a.collection,m=a.disabled,C=a.index,k=N0.findDOMNode(this);k.sortableInfo={collection:f,disabled:m,index:C,manager:this.context.manager},this.node=k,this.ref={node:k},this.context.manager.add(f,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return d1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return $n.createElement(n,zb({ref:a},oQ(this.props,mpe)))}}]),o}($n.Component),Pa(e,"displayName",Wk("sortableElement",n)),Pa(e,"contextType",AQ),Pa(e,"propTypes",cQ),Pa(e,"defaultProps",{collection:0}),t}function Ii(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",e="c4894131c5d7f6ef28da960f43f4c830425a38cb",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAoC,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAE7H,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4894131c5d7f6ef28da960f43f4c830425a38cb"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ii=function(){return s},s}Ii();const ype=(Ii().s[0]++,spe(n=>(Ii().f[0]++,Ii().s[1]++,Y.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[Y.jsx(bN,{className:"layer-handle__icon",type:n.layerType}),Y.jsx("button",{className:"maputnik-layer-list-item-id",children:n.layerId})]}))));class S6 extends kn.Component{renderIcon(){switch(Ii().f[1]++,Ii().s[2]++,this.props.action){case"duplicate":return Ii().b[0][0]++,Ii().s[3]++,Y.jsx(Aie,{});case"show":return Ii().b[0][1]++,Ii().s[4]++,Y.jsx(uie,{});case"hide":return Ii().b[0][2]++,Ii().s[5]++,Y.jsx(lie,{});case"delete":return Ii().b[0][3]++,Ii().s[6]++,Y.jsx(Vv,{})}}render(){Ii().f[2]++;const{classBlockName:e,classBlockModifier:t}=(Ii().s[7]++,this.props);let r=(Ii().s[8]++,"");return Ii().s[9]++,e?(Ii().b[1][0]++,Ii().s[10]++,r=`maputnik-layer-list-icon-action__${e}`,Ii().s[11]++,t?(Ii().b[2][0]++,Ii().s[12]++,r+=` maputnik-layer-list-icon-action__${e}--${t}`):Ii().b[2][1]++):Ii().b[1][1]++,Ii().s[13]++,Y.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class m8 extends kn.Component{getChildContext(){return Ii().f[6]++,Ii().s[16]++,{reactIconBase:{size:14}}}render(){Ii().f[7]++;const e=(Ii().s[17]++,this.props.visibility==="visible"?(Ii().b[3][0]++,"show"):(Ii().b[3][1]++,"hide"));return Ii().s[18]++,Y.jsxs("li",{id:this.props.id,onClick:t=>(Ii().f[8]++,Ii().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:yp({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[Y.jsx(ype,{...this.props}),Y.jsx("span",{style:{flexGrow:1}}),Y.jsx(S6,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:t=>(Ii().f[9]++,Ii().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),Y.jsx(S6,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:t=>(Ii().f[10]++,Ii().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),Y.jsx(S6,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:e,classBlockName:"visibility",classBlockModifier:e,onClick:t=>(Ii().f[11]++,Ii().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}pn(m8,"defaultProps",(Ii().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{Ii().f[3]++},onLayerDestroy:()=>{Ii().f[4]++},onLayerVisibilityToggle:()=>{Ii().f[5]++}})),pn(m8,"childContextTypes",(Ii().s[15]++,{reactIconBase:zr.object}));const vpe=(Ii().s[23]++,gpe(n=>(Ii().f[12]++,Ii().s[24]++,Y.jsx(m8,{...n}))));function $w(){var n="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",e="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $w=function(){return s},s}$w();class ja extends kn.Component{render(){return $w().f[0]++,$w().s[0]++,Y.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:yp("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hQ=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Yw=hQ.join(","),dQ=typeof Element>"u",f1=dQ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,qw=!dQ&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Vw=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",s=o||t&&e&&n(e.parentNode);return s},_pe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},fQ=function(e,t,r){if(Vw(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Yw));return t&&f1.call(e,Yw)&&i.unshift(e),i=i.filter(r),i},pQ=function n(e,t,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Vw(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),f=a.length?a:s.children,m=n(f,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:s,candidates:m})}else{var C=f1.call(s,Yw);C&&r.filter(s)&&(t||!e.includes(s))&&i.push(s);var k=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),I=!Vw(k,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(k&&I){var K=n(k===!0?s.children:k.children,!0,r);r.flatten?i.push.apply(i,K):i.push({scopeParent:s,candidates:K})}else o.unshift.apply(o,s.children)}}return i},mQ=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A0=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||_pe(e))&&!mQ(e)?0:e.tabIndex},Cpe=function(e,t){var r=A0(e);return r<0&&t&&!mQ(e)?0:r},bpe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},gQ=function(e){return e.tagName==="INPUT"},xpe=function(e){return gQ(e)&&e.type==="hidden"},wpe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Mpe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Spe=function(e){if(!e.name)return!0;var t=e.form||qw(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Mpe(i,e.form);return!o||o===e},Epe=function(e){return gQ(e)&&e.type==="radio"},Ope=function(e){return Epe(e)&&!Spe(e)},Bpe=function(e){var t,r=e&&qw(e),i=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var s,a,f;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!o&&i;){var m,C,k;r=qw(i),i=(m=r)===null||m===void 0?void 0:m.host,o=!!((C=i)!==null&&C!==void 0&&(k=C.ownerDocument)!==null&&k!==void 0&&k.contains(i))}}return o},GD=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Ipe=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=f1.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(f1.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var f=e.parentElement,m=qw(e);if(f&&!f.shadowRoot&&i(f)===!0)return GD(e);e.assignedSlot?e=e.assignedSlot:!f&&m!==e.ownerDocument?e=m.host:e=f}e=a}if(Bpe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return GD(e);return!1},kpe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return f1.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},Hw=function(e,t){return!(t.disabled||Vw(t)||xpe(t)||Ipe(t,e)||wpe(t)||kpe(t))},g8=function(e,t){return!(Ope(t)||A0(t)<0||!Hw(e,t))},Tpe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Ppe=function n(e){var t=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,f=Cpe(a,s),m=s?n(i.candidates):a;f===0?s?t.push.apply(t,m):t.push(a):r.push({documentOrder:o,tabIndex:f,item:i,isScope:s,content:m})}),r.sort(bpe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},yQ=function(e,t){t=t||{};var r;return t.getShadowRoot?r=pQ([e],t.includeContainer,{filter:g8.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Tpe}):r=fQ(e,t.includeContainer,g8.bind(null,t)),Ppe(r)},vQ=function(e,t){t=t||{};var r;return t.getShadowRoot?r=pQ([e],t.includeContainer,{filter:Hw.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=fQ(e,t.includeContainer,Hw.bind(null,t)),r},Mg=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return f1.call(e,Yw)===!1?!1:g8(t,e)},Kpe=hQ.concat("iframe").join(","),y4=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return f1.call(e,Kpe)===!1?!1:Hw(t,e)};const Dpe=Object.freeze(Object.defineProperty({__proto__:null,focusable:vQ,getTabIndex:A0,isFocusable:y4,isTabbable:Mg,tabbable:yQ},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function QD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $D(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(t),!0).forEach(function(r){Lpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lpe(n,e,t){return e=Rpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fpe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rpe(n){var e=Fpe(n,"string");return typeof e=="symbol"?e:String(e)}var YD={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Upe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},jpe=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},$C=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},zpe=function(e){return $C(e)&&!e.shiftKey},Npe=function(e){return $C(e)&&e.shiftKey},qD=function(e){return setTimeout(e,0)},VD=function(e,t){var r=-1;return e.every(function(i,o){return t(i)?(r=o,!1):!0}),r},nC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},F3=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Wpe=[],Gpe=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||Wpe,o=$D({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:zpe,isKeyBackward:Npe},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,f=function(Ue,pe,Ye){return Ue&&Ue[pe]!==void 0?Ue[pe]:o[Ye||pe]},m=function(Ue,pe){var Ye=typeof(pe==null?void 0:pe.composedPath)=="function"?pe.composedPath():void 0;return s.containerGroups.findIndex(function(we){var pt=we.container,wt=we.tabbableNodes;return pt.contains(Ue)||(Ye==null?void 0:Ye.includes(pt))||wt.find(function(ft){return ft===Ue})})},C=function(Ue){var pe=o[Ue];if(typeof pe=="function"){for(var Ye=arguments.length,we=new Array(Ye>1?Ye-1:0),pt=1;pt<Ye;pt++)we[pt-1]=arguments[pt];pe=pe.apply(void 0,we)}if(pe===!0&&(pe=void 0),!pe){if(pe===void 0||pe===!1)return pe;throw new Error("`".concat(Ue,"` was specified but was not a node, or did not return a node"))}var wt=pe;if(typeof pe=="string"&&(wt=r.querySelector(pe),!wt))throw new Error("`".concat(Ue,"` as selector refers to no known node"));return wt},k=function(){var Ue=C("initialFocus");if(Ue===!1)return!1;if(Ue===void 0||!y4(Ue,o.tabbableOptions))if(m(r.activeElement)>=0)Ue=r.activeElement;else{var pe=s.tabbableGroups[0],Ye=pe&&pe.firstTabbableNode;Ue=Ye||C("fallbackFocus")}if(!Ue)throw new Error("Your focus-trap needs to have at least one focusable element");return Ue},I=function(){if(s.containerGroups=s.containers.map(function(Ue){var pe=yQ(Ue,o.tabbableOptions),Ye=vQ(Ue,o.tabbableOptions),we=pe.length>0?pe[0]:void 0,pt=pe.length>0?pe[pe.length-1]:void 0,wt=Ye.find(function($e){return Mg($e)}),ft=Ye.slice().reverse().find(function($e){return Mg($e)}),bt=!!pe.find(function($e){return A0($e)>0});return{container:Ue,tabbableNodes:pe,focusableNodes:Ye,posTabIndexesFound:bt,firstTabbableNode:we,lastTabbableNode:pt,firstDomTabbableNode:wt,lastDomTabbableNode:ft,nextTabbableNode:function(tt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,en=pe.indexOf(tt);return en<0?nt?Ye.slice(Ye.indexOf(tt)+1).find(function(tn){return Mg(tn)}):Ye.slice(0,Ye.indexOf(tt)).reverse().find(function(tn){return Mg(tn)}):pe[en+(nt?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(Ue){return Ue.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!C("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(Ue){return Ue.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},K=function Pe(Ue){var pe=Ue.activeElement;if(pe)return pe.shadowRoot&&pe.shadowRoot.activeElement!==null?Pe(pe.shadowRoot):pe},L=function Pe(Ue){if(Ue!==!1&&Ue!==K(document)){if(!Ue||!Ue.focus){Pe(k());return}Ue.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=Ue,Upe(Ue)&&Ue.select()}},q=function(Ue){var pe=C("setReturnFocus",Ue);return pe||(pe===!1?!1:Ue)},X=function(Ue){var pe=Ue.target,Ye=Ue.event,we=Ue.isBackward,pt=we===void 0?!1:we;pe=pe||F3(Ye),I();var wt=null;if(s.tabbableGroups.length>0){var ft=m(pe,Ye),bt=ft>=0?s.containerGroups[ft]:void 0;if(ft<0)pt?wt=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:wt=s.tabbableGroups[0].firstTabbableNode;else if(pt){var $e=VD(s.tabbableGroups,function(Xt){var Nt=Xt.firstTabbableNode;return pe===Nt});if($e<0&&(bt.container===pe||y4(pe,o.tabbableOptions)&&!Mg(pe,o.tabbableOptions)&&!bt.nextTabbableNode(pe,!1))&&($e=ft),$e>=0){var tt=$e===0?s.tabbableGroups.length-1:$e-1,nt=s.tabbableGroups[tt];wt=A0(pe)>=0?nt.lastTabbableNode:nt.lastDomTabbableNode}else $C(Ye)||(wt=bt.nextTabbableNode(pe,!1))}else{var en=VD(s.tabbableGroups,function(Xt){var Nt=Xt.lastTabbableNode;return pe===Nt});if(en<0&&(bt.container===pe||y4(pe,o.tabbableOptions)&&!Mg(pe,o.tabbableOptions)&&!bt.nextTabbableNode(pe))&&(en=ft),en>=0){var tn=en===s.tabbableGroups.length-1?0:en+1,St=s.tabbableGroups[tn];wt=A0(pe)>=0?St.firstTabbableNode:St.firstDomTabbableNode}else $C(Ye)||(wt=bt.nextTabbableNode(pe))}}else wt=C("fallbackFocus");return wt},H=function(Ue){var pe=F3(Ue);if(!(m(pe,Ue)>=0)){if(nC(o.clickOutsideDeactivates,Ue)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}nC(o.allowOutsideClick,Ue)||Ue.preventDefault()}},G=function(Ue){var pe=F3(Ue),Ye=m(pe,Ue)>=0;if(Ye||pe instanceof Document)Ye&&(s.mostRecentlyFocusedNode=pe);else{Ue.stopImmediatePropagation();var we,pt=!0;if(s.mostRecentlyFocusedNode)if(A0(s.mostRecentlyFocusedNode)>0){var wt=m(s.mostRecentlyFocusedNode),ft=s.containerGroups[wt].tabbableNodes;if(ft.length>0){var bt=ft.findIndex(function($e){return $e===s.mostRecentlyFocusedNode});bt>=0&&(o.isKeyForward(s.recentNavEvent)?bt+1<ft.length&&(we=ft[bt+1],pt=!1):bt-1>=0&&(we=ft[bt-1],pt=!1))}}else s.containerGroups.some(function($e){return $e.tabbableNodes.some(function(tt){return A0(tt)>0})})||(pt=!1);else pt=!1;pt&&(we=X({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),L(we||s.mostRecentlyFocusedNode||k())}s.recentNavEvent=void 0},ee=function(Ue){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=Ue;var Ye=X({event:Ue,isBackward:pe});Ye&&($C(Ue)&&Ue.preventDefault(),L(Ye))},ne=function(Ue){if(jpe(Ue)&&nC(o.escapeDeactivates,Ue)!==!1){Ue.preventDefault(),a.deactivate();return}(o.isKeyForward(Ue)||o.isKeyBackward(Ue))&&ee(Ue,o.isKeyBackward(Ue))},se=function(Ue){var pe=F3(Ue);m(pe,Ue)>=0||nC(o.clickOutsideDeactivates,Ue)||nC(o.allowOutsideClick,Ue)||(Ue.preventDefault(),Ue.stopImmediatePropagation())},Ae=function(){if(s.active)return YD.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?qD(function(){L(k())}):L(k()),r.addEventListener("focusin",G,!0),r.addEventListener("mousedown",H,{capture:!0,passive:!1}),r.addEventListener("touchstart",H,{capture:!0,passive:!1}),r.addEventListener("click",se,{capture:!0,passive:!1}),r.addEventListener("keydown",ne,{capture:!0,passive:!1}),a},V=function(){if(s.active)return r.removeEventListener("focusin",G,!0),r.removeEventListener("mousedown",H,!0),r.removeEventListener("touchstart",H,!0),r.removeEventListener("click",se,!0),r.removeEventListener("keydown",ne,!0),a},re=function(Ue){var pe=Ue.some(function(Ye){var we=Array.from(Ye.removedNodes);return we.some(function(pt){return pt===s.mostRecentlyFocusedNode})});pe&&L(k())},be=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(re):void 0,_e=function(){be&&(be.disconnect(),s.active&&!s.paused&&s.containers.map(function(Ue){be.observe(Ue,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(Ue){if(s.active)return this;var pe=f(Ue,"onActivate"),Ye=f(Ue,"onPostActivate"),we=f(Ue,"checkCanFocusTrap");we||I(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=r.activeElement,pe==null||pe();var pt=function(){we&&I(),Ae(),_e(),Ye==null||Ye()};return we?(we(s.containers.concat()).then(pt,pt),this):(pt(),this)},deactivate:function(Ue){if(!s.active)return this;var pe=$D({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Ue);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,V(),s.active=!1,s.paused=!1,_e(),YD.deactivateTrap(i,a);var Ye=f(pe,"onDeactivate"),we=f(pe,"onPostDeactivate"),pt=f(pe,"checkCanReturnFocus"),wt=f(pe,"returnFocus","returnFocusOnDeactivate");Ye==null||Ye();var ft=function(){qD(function(){wt&&L(q(s.nodeFocusedBeforeActivation)),we==null||we()})};return wt&&pt?(pt(q(s.nodeFocusedBeforeActivation)).then(ft,ft),this):(ft(),this)},pause:function(Ue){if(s.paused||!s.active)return this;var pe=f(Ue,"onPause"),Ye=f(Ue,"onPostPause");return s.paused=!0,pe==null||pe(),V(),_e(),Ye==null||Ye(),this},unpause:function(Ue){if(!s.paused||!s.active)return this;var pe=f(Ue,"onUnpause"),Ye=f(Ue,"onPostUnpause");return s.paused=!1,pe==null||pe(),I(),Ae(),_e(),Ye==null||Ye(),this},updateContainerElements:function(Ue){var pe=[].concat(Ue).filter(Boolean);return s.containers=pe.map(function(Ye){return typeof Ye=="string"?r.querySelector(Ye):Ye}),s.active&&I(),_e(),this}},a.updateContainerElements(e),a};const Qpe=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Gpe},Symbol.toStringTag,{value:"Module"})),$pe=rI(Qpe),Ype=rI(Dpe);function Lv(n){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(n)}function qpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Vpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_Q(r.key),r)}}function Hpe(n,e,t){return e&&Vpe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y8(n,e)}function y8(n,e){return y8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y8(n,e)}function Xpe(n){var e=eme();return function(){var r=Zw(n),i;if(e){var o=Zw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Jpe(this,i)}}function Jpe(n,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xC(n)}function xC(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zw(n){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zw(n)}function tme(n,e,t){return e=_Q(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Q(n){var e=nme(n,"string");return Lv(e)==="symbol"?e:String(e)}function nme(n,e){if(Lv(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Lv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var R3=$n,yi=vf,rme=$pe,ime=rme.createFocusTrap,ome=Ype,ame=ome.isFocusable,Gk=function(n){Zpe(t,n);var e=Xpe(t);function t(r){var i;qpe(this,t),i=e.call(this,r),tme(xC(i),"getNodeForOption",function(a){var f,m=(f=this.internalOptions[a])!==null&&f!==void 0?f:this.originalOptions[a];if(typeof m=="function"){for(var C=arguments.length,k=new Array(C>1?C-1:0),I=1;I<C;I++)k[I-1]=arguments[I];m=m.apply(void 0,k)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var K=m;if(typeof m=="string"){var L;if(K=(L=this.getDocument())===null||L===void 0?void 0:L.querySelector(m),!K)throw new Error("`".concat(a,"` as selector refers to no known node"))}return K}),i.handleDeactivate=i.handleDeactivate.bind(xC(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(xC(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(xC(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){i.originalOptions[s]=o[s];continue}i.internalOptions[s]=o[s]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return Hpe(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var a=i.getReturnFocusNode(),f=!!(i.originalOptions.returnFocusOnDeactivate&&a!==null&&a!==void 0&&a.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!ame(i.outsideClick.target,i.internalOptions.tabbableOptions))),m=i.internalOptions.preventScroll,C=m===void 0?!1:m;f&&a.focus({preventScroll:C}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var i=this.focusTrapElements.some(Boolean);i&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,s=i.active&&!this.props.active,a=!i.paused&&this.props.paused,f=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}a&&this.focusTrap.pause(),f&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?R3.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===R3.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(m){var C=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(m):o.ref&&(o.ref.current=m)),i.focusTrapElements=C||[m]},a=R3.cloneElement(o,{ref:s});return a}return null}}]),t}(R3.Component),rC=typeof Element>"u"?Function:Element;Gk.propTypes={active:yi.bool,paused:yi.bool,focusTrapOptions:yi.shape({document:yi.object,onActivate:yi.func,onPostActivate:yi.func,checkCanFocusTrap:yi.func,onPause:yi.func,onPostPause:yi.func,onUnpause:yi.func,onPostUnpause:yi.func,onDeactivate:yi.func,onPostDeactivate:yi.func,checkCanReturnFocus:yi.func,initialFocus:yi.oneOfType([yi.instanceOf(rC),yi.string,yi.bool,yi.func]),fallbackFocus:yi.oneOfType([yi.instanceOf(rC),yi.string,yi.func]),escapeDeactivates:yi.oneOfType([yi.bool,yi.func]),clickOutsideDeactivates:yi.oneOfType([yi.bool,yi.func]),returnFocusOnDeactivate:yi.bool,setReturnFocus:yi.oneOfType([yi.instanceOf(rC),yi.string,yi.bool,yi.func]),allowOutsideClick:yi.oneOfType([yi.bool,yi.func]),preventScroll:yi.bool,tabbableOptions:yi.shape({displayCheck:yi.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:yi.oneOfType([yi.bool,yi.func])}),trapStack:yi.array,isKeyForward:yi.func,isKeyBackward:yi.func}),containerElements:yi.arrayOf(yi.instanceOf(rC)),children:yi.oneOfType([yi.element,yi.instanceOf(rC)])};Gk.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:ime};var sme=Gk,CQ={exports:{}};(function(n){(function(e){var t=!1,r,i;function o(){if(typeof r<"u")return r;var k=document.documentElement,I=document.createElement("div");return I.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),k.appendChild(I),r=I.offsetWidth-I.clientWidth,k.removeChild(I),r}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(k){if(!(typeof document>"u"||t)){var I=document.documentElement;i=window.pageYOffset,s()?I.style.width="calc(100% - "+o()+"px)":I.style.width="100%",I.style.position="fixed",I.style.top=-i+"px",I.style.overflow="hidden",t=!0}}function f(){if(!(typeof document>"u"||!t)){var k=document.documentElement;k.style.width="",k.style.position="",k.style.top="",k.style.overflow="",window.scroll(0,i),t=!1}}function m(){if(t){f();return}a()}var C={on:a,off:f,toggle:m};n.exports=C})()})(CQ);var lme=CQ.exports;function v8(n){"@babel/helpers - typeof";return v8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v8(n)}function bQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ume(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xQ(n,e,t){return e&&ume(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function wQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_8(n,e)}function _8(n,e){return _8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_8(n,e)}function MQ(n){var e=cme();return function(){var r=Xw(n),i;if(e){var o=Xw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ame(this,i)}}function Ame(n,e){if(e&&(v8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wy(n)}function Wy(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xw(n){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xw(n)}function Ng(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var kg=$n,hme=N0,dme=sme,U3=lme,Qk=function(n){wQ(t,n);var e=MQ(t);function t(r){var i;if(bQ(this,t),i=e.call(this,r),Ng(Wy(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),Ng(Wy(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),Ng(Wy(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),Ng(Wy(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return xQ(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&U3.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?U3.off():!i.scrollDisabled&&this.props.scrollDisabled&&U3.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&U3.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var s in i.underlayStyle)i.underlayStyle.hasOwnProperty(s)&&(o[s]=i.underlayStyle[s]);var a={className:i.underlayClass,style:o};i.underlayClickExits&&(a.onMouseDown=this.checkUnderlayClick);for(var f in this.props.underlayProps)a[f]=this.props.underlayProps[f];var m={};i.includeDefaultStyles&&(m={display:"inline-block",height:"100%",verticalAlign:"middle"});var C={key:"a",style:m},k={};if(i.includeDefaultStyles&&(k={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(k.verticalAlign="middle",k.top=0)),i.dialogStyle)for(var I in i.dialogStyle)i.dialogStyle.hasOwnProperty(I)&&(k[I]=i.dialogStyle[I]);var K={key:"b",ref:(function(H){this.dialogNode=H}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:k};i.titleId?K["aria-labelledby"]=i.titleId:i.titleText&&(K["aria-label"]=i.titleText),i.focusDialog&&(K.tabIndex="-1");for(var L in i)/^(data-|aria-)/.test(L)&&(K[L]=i[L]);var q=[kg.createElement("div",K,i.children)];i.verticallyCenter&&q.unshift(kg.createElement("div",C));var X=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(X.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),X.escapeDeactivates=i.escapeExits,kg.createElement(dme,{focusTrapOptions:X,paused:i.focusTrapPaused},kg.createElement("div",a,q))}}]),t}(kg.Component);Ng(Qk,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function SQ(n,e){if(!window.document)return function(){return null};e=e||{};var t=function(r){wQ(o,r);var i=MQ(o);function o(){var s;bQ(this,o);for(var a=arguments.length,f=new Array(a),m=0;m<a;m++)f[m]=arguments[m];return s=i.call.apply(i,[this].concat(f)),Ng(Wy(s),"container",null),s}return xQ(o,[{key:"componentDidMount",value:function(){e.renderTo?this.container=typeof e.renderTo=="string"?document.querySelector(e.renderTo):e.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){e.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:hme.createPortal(kg.createElement(n,this.props,this.props.children),this.container)}}]),o}(kg.Component);return Ng(t,"defaultProps",{mounted:!0}),t}var EQ=SQ(Qk);EQ.renderTo=function(n){return SQ(Qk,{renderTo:n})};var fme=EQ;const pme=Da(fme);function Xl(){var n="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",e="55b511200efca707daa3ccb304d63dc159a8f390",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:12},end:{line:19,column:3}},2:{start:{line:13,column:4},end:{line:15,column:5}},3:{start:{line:14,column:6},end:{line:14,column:36}},4:{start:{line:16,column:4},end:{line:18,column:10}},5:{start:{line:17,column:6},end:{line:17,column:37}},6:{start:{line:21,column:14},end:{line:21,column:26}},7:{start:{line:22,column:4},end:{line:60,column:5}},8:{start:{line:23,column:6},end:{line:57,column:8}},9:{start:{line:59,column:6},end:{line:59,column:19}},10:{start:{line:63,column:14},end:{line:63,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:18},end:{line:19,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:15},end:{line:16,column:16}},loc:{start:{line:16,column:21},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:61,column:3}},line:20}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AAgDU,SACE,KADF;AAhDV,OAAO,WAAkC;AACzC,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,SAA0B,uBAAuB;AAajD,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAO,EAAE,aAAa;AAAA,sBACtB,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;AAEA,MAAM,QAAQ,gBAAgB,EAAE,aAAa;AAC7C,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55b511200efca707daa3ccb304d63dc159a8f390"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Xl=function(){return s},s}Xl();class OQ extends kn.Component{constructor(){super(...arguments);pn(this,"onClose",(Xl().s[1]++,()=>{Xl().f[0]++,Xl().s[2]++,document.activeElement?(Xl().b[0][0]++,Xl().s[3]++,document.activeElement.blur()):Xl().b[0][1]++,Xl().s[4]++,setTimeout(()=>{Xl().f[1]++,Xl().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){Xl().f[2]++;const t=(Xl().s[6]++,this.props.t);return Xl().s[7]++,this.props.isOpen?(Xl().b[1][0]++,Xl().s[8]++,Y.jsx(pme,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:Y.jsxs("div",{className:yp("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[Y.jsxs("header",{className:"maputnik-modal-header",children:[Y.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),Y.jsx("span",{className:"maputnik-modal-header-space"}),Y.jsx("button",{className:"maputnik-modal-header-toggle",title:t("Close modal"),onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:Y.jsx(yie,{})})]}),Y.jsx("div",{className:"maputnik-modal-scroller",children:Y.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(Xl().b[1][1]++,Xl().s[9]++,!1)}}pn(OQ,"defaultProps",(Xl().s[0]++,{underlayClickExits:!0}));const Q0=(Xl().s[10]++,qo()(OQ)),mme=8,gme={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},centerAltitude:{type:"number",doc:"Default map center altitude in meters above sea level. The style center altitude defines the altitude where the camera is looking at and will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:123.4,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2980",ios:"https://github.com/maplibre/maplibre-native/issues/2980"}}},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50,"sdk-support":{"0-60 degrees":{js:"0.8.0",android:"1.0.0",ios:"1.0.0"},"0-85 degrees":{js:"2.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"},"0-180 degrees":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/1909",ios:"https://github.com/maplibre/maplibre-native/issues/1909"}}},roll:{type:"number",default:0,units:"degrees",doc:"Default roll, in degrees. The roll angle is measured counterclockwise about the camera boresight. The style roll will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:45,"sdk-support":{"basic functionality":{js:"5.0.0",android:"https://github.com/maplibre/maplibre-native/issues/2941",ios:"https://github.com/maplibre/maplibre-native/issues/2941"}}},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration. **Note:** this definition is still experimental and is under development in maplibre-gl-js.",example:{"sky-color":"#199EF3","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#0000ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]}},projection:{type:"projection",doc:"The projection configuration",example:{type:["interpolate",["linear"],["zoom"],10,"vertical-perspective",12,"mercator"]}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Sources state which data the map should display. Specify the type of source with the `type` property. Adding a source isn't enough to make data appear on the map because sources don't contain styling details like color or width. Layers refer to a source and give it a visual representation. This makes it possible to style the same source in different ways, like differentiating between types of roads in a highways layer.\n\nTiled sources (vector and raster) must specify their details according to the [TileJSON specification](https://github.com/mapbox/tilejson-spec).",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"},"maplibre-tilejson":{type:"vector",url:"http://api.example.com/tilejson.json"},"maplibre-streets":{type:"vector",tiles:["http://a.example.com/tiles/{z}/{x}/{y}.pbf","http://b.example.com/tiles/{z}/{x}/{y}.pbf"],maxzoom:14},"wms-imagery":{type:"raster",tiles:["http://a.example.com/wms?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&layers=example"],tileSize:256}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:`A URL template for loading signed-distance-field glyph sets in PBF format. 

The URL must include:

 - \`{fontstack}\` - When requesting glyphs, this token is replaced with a comma separated list of fonts from a font stack specified in the text-font property of a symbol layer. 

 - \`{range}\` - When requesting glyphs, this token is replaced with a range of 256 Unicode code points. For example, to load glyphs for the Unicode Basic Latin and Basic Latin-1 Supplement blocks, the range would be 0-255. The actual ranges that are loaded are determined at runtime based on what text needs to be displayed.

This property is required if any layer uses the \`text-field\` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).`,example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"A style's `layers` property lists all the layers available in that style. The type of layer is specified by the `type` property, and must be one of `background`, `fill`, `line`, `symbol`, `raster`, `circle`, `fill-extrusion`, `heatmap`, `hillshade`.\n\nExcept for layers of the `background` type, each layer needs to refer to a source. Layers take the data that they get from a source, optionally filter features, and then define how those features are styled.",example:[{id:"coastline",source:"maplibre","source-layer":"countries",type:"line",paint:{"line-color":"#198EC8"}}]}},yme={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},vme=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],_me={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Cme={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},bme={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default.","sdk-support":{"mapbox, terrarium":{js:"0.43.0",ios:"6.0.0",android:"6.0.0"},custom:{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4.0",ios:"https://github.com/maplibre/maplibre-native/issues/2783",android:"https://github.com/maplibre/maplibre-native/issues/2783"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0",js:"wontfix"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},xme={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n\n * `cluster` Is `true` if the point is a cluster \n\n * `cluster_id` A unique id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js/docs/API/classes/GeoJSONSource/#getclusterexpansionzoom)\n\n * `point_count` Number of original points grouped into this cluster\n\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},wme={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Mme={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Sme={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Eme=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Ome={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Bme={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Ime={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},kme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},Tme={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Pme={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0",android:"https://github.com/maplibre/maplibre-native/issues/251",ios:"https://github.com/maplibre/maplibre-native/issues/251"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"2.2.0",android:"https://github.com/maplibre/maplibre-native/issues/2754",ios:"https://github.com/maplibre/maplibre-native/issues/2754"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"},"`viewport-glyph` value":{js:"2.1.8",android:"https://github.com/maplibre/maplibre-native/issues/250",ios:"https://github.com/maplibre/maplibre-native/issues/250"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n\n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n\n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0",ios:"6.8.0",android:"11.6.0"},"data-driven styling":{js:"3.3.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2358"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0",android:"https://github.com/maplibre/maplibre-native/issues/251",ios:"https://github.com/maplibre/maplibre-native/issues/251"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Kme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Dme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},Lme={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Fme={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},Rme={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Ume={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},jme={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},zme={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using `["var", "variable_name"]`.\n\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)',example:{syntax:{method:["string","value","expression"],result:"value"},value:["let","someNumber",500,["interpolate",["linear"],["var","someNumber"],274,"#edf8e9",1551,"#006d2c"]]},group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},var:{doc:"References variable bound using `let`.\n\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)",example:{syntax:{method:["string"],result:"value"},value:["var","density"]},group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},literal:{doc:`Provides a literal array or object value.

 - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)`,example:{syntax:{method:["JSON object or array"],result:"array | object"},value:["literal",["DIN Offc Pro Italic","Arial Unicode MS Regular"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length). If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",example:{syntax:{method:["value","string?","number?"],result:"array"},value:["array",["literal",["a","b","c"]],"string",3]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},at:{doc:"Retrieves an item from an array.",example:{syntax:{method:["number","value"],result:"value"},value:["at",1,["literal",["a","b","c"]]]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},in:{doc:`Determines whether an item exists in an array or a substring exists in a string.

 - [Measure distances](https://maplibre.org/maplibre-gl-js/docs/examples/measure/)`,example:{syntax:{method:["value","value"],result:"boolean"},value:["in","$type","Point"]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["value","value","number?"],result:"number"},value:["index-of","foo",["baz","bar","hello","foo","world"]]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.3.0",ios:"6.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["value","number","number?"],result:"value"},value:["slice",["get","name"],0,3]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.3.0",ios:"6.0.0"}}},case:{doc:`Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.

 - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)

 - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)`,example:{syntax:{method:["value","value","...","fallback: value"],result:"value"},value:["case",["boolean",["feature-state","hover"],!1],1,.5]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n\n - a single literal value; or\n\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\n\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',example:{syntax:{method:["value","value","...","fallback: value"],result:"value"},value:["match",["get","building_type"],"residential","#f00","commercial","#0f0","#000"]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},coalesce:{doc:`Evaluates each expression in turn until the first non-null value is obtained, and returns that value.

 - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)`,example:{syntax:{method:["coalesce","value","fallback"],result:"value"},value:["coalesce",["image",["concat",["get","icon"],"_15"]],["image","marker_15"]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.\n\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)',example:{syntax:{method:["step","number","number","number","..."],result:"number"},value:["step",["get","point_count"],20,100,30,750,40]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.\n\n - [Animate map camera around a point](https://maplibre.org/maplibre-gl-js/docs/examples/animate-camera-around-point/)\n\n - [Change building color based on zoom level](https://maplibre.org/maplibre-gl-js/docs/examples/change-building-color-based-on-zoom-level/)\n\n - [Create a heatmap layer](https://maplibre.org/maplibre-gl-js/docs/examples/heatmap-layer/)\n\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"number | array<number> | color"},value:["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"color"},value:["interpolate-hcl",["linear"],["zoom"],15,"#f00",15.05,"#00f"]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0",ios:"https://github.com/maplibre/maplibre-native/issues/2784",android:"https://github.com/maplibre/maplibre-native/issues/2784"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"color"},value:["interpolate-lab",["linear"],["zoom"],15,"#f00",15.05,"#00f"]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0",ios:"https://github.com/maplibre/maplibre-native/issues/2784",android:"https://github.com/maplibre/maplibre-native/issues/2784"}}},ln2:{doc:"Returns mathematical constant ln(2).",example:{syntax:{method:[],result:"number"},value:["ln2"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},pi:{doc:"Returns the mathematical constant pi.",example:{syntax:{method:[],result:"number"},value:["pi"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},e:{doc:"Returns the mathematical constant e.",example:{syntax:{method:[],result:"number"},value:["e"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",example:{syntax:{method:["value"],result:"string"},value:["typeof",["get","name"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"string"},value:["string",["get","name"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"number"},value:["number",["get","population"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},boolean:{doc:`Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.

 - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)`,example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"boolean"},value:["boolean",["feature-state","hover"],!1]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"object"},value:["object",["get","some-property"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",example:{syntax:{method:["collator",'{ "case-sensitive": boolean, "diacritic-sensitive": boolean, "locale": string }'],result:"collator"},value:["collator",{"case-sensitive":!0,"diacritic-sensitive":!0,locale:"fr"}]},group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#image) expression. Strings may be followed by a style override object that supports the following properties:\n\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n\n- `"text-color"`: Overrides the color specified by the root paint property.\n\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.\n\n- `"vertical-align"`: Aligns vertically text section or image in relation to the row it belongs to. Possible values are: \n	- `"bottom"` *default*: align the bottom of this section with the bottom of other sections.\n<img alt="Visual representation of bottom alignment" src="https://github.com/user-attachments/assets/0474a2fd-a4b2-417c-9187-7a13a28695bc"/>\n	- `"center"`: align the center of this section with the center of other sections.\n<img alt="Visual representation of center alignment" src="https://github.com/user-attachments/assets/92237455-be6d-4c5d-b8f6-8127effc1950"/>\n	- `"top"`: align the top of this section with the top of other sections.\n<img alt="Visual representation of top alignment" src="https://github.com/user-attachments/assets/45dccb28-d977-4abb-a006-4ea9792b7c53"/>\n	- Refer to [the design proposal](https://github.com/maplibre/maplibre-style-spec/issues/832) for more details.\n\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\n\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)',example:{syntax:{method:["value",'{ "text-font": string, "text-color": color, "font-scale": number, "vertical-align": "bottom" | "center" | "top" }',"..."],result:"formatted"},value:["format",["upcase",["get","FacilityName"]],{"font-scale":.8},`

`,{},["downcase",["get","Comments"]],{"font-scale":.6,"vertical-align":"center"}]},group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0"},"vertical-align":{js:"https://github.com/maplibre/maplibre-gl-js/issues/5043",android:"https://github.com/maplibre/maplibre-native/issues/3055",ios:"https://github.com/maplibre/maplibre-native/issues/3055"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.\n\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)",example:{syntax:{method:["value"],result:"image"},value:["image","marker_15"]},group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["number",'{ "locale": string, "currency": string, "min-fraction-digits": number, "max-fraction-digits": number }'],result:"string"},value:["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}]},group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"supported"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.\n\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)',example:{syntax:{method:["value"],result:"string"},value:["to-string",["get","mag"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"number"},value:["to-number","someProperty"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",example:{syntax:{method:["value"],result:"boolean"},value:["to-boolean","someProperty"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",example:{syntax:{method:["color"],result:"array"},value:["to-rgba","#ff0000"]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-color":{doc:`Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.

 - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)`,example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"color"},value:["to-color","#edf8e9"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",example:{syntax:{method:["number","number","number"],result:"color"},value:["rgb",255,0,0]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",example:{syntax:{method:["number","number","number","number"],result:"color"},value:["rgba",255,0,0,1]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},get:{doc:`Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)

 - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)

 - [Extrude polygons for 3D indoor mapping](https://maplibre.org/maplibre-gl-js/docs/examples/3d-extrusion-floorplan/)`,example:{syntax:{method:["string"],result:"value"},value:["get","someProperty"]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},has:{doc:`Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.

 - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)`,example:{syntax:{method:["string"],result:"boolean"},value:["has","someProperty"]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},length:{doc:"Gets the length of an array or string. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["array"],result:"number"},value:["length",["get","myArray"]]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',example:{syntax:{method:[],result:"value"},value:["properties"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.\n\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)",example:{syntax:{method:["string"],result:"value"},value:["feature-state","hover"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",ios:"https://github.com/maplibre/maplibre-native/issues/1698",android:"https://github.com/maplibre/maplibre-native/issues/1698"}}},"geometry-type":{doc:"Returns the feature's simple geometry type: `Point`, `LineString`, or `Polygon`. `MultiPoint`, `MultiLineString`, and `MultiPolygon` are returned as `Point`, `LineString`, and `Polygon`, respectively.",example:{syntax:{method:[],result:"string"},value:["==",["geometry-type"],"Polygon"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},id:{doc:"Gets the feature's id, if it has one.",example:{syntax:{method:[],result:"value"},value:["id"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',example:{syntax:{method:[],result:"number"},value:["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]]},group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",example:{syntax:{method:[],result:"number"},value:["heatmap-density"]},group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",example:{syntax:{method:["number"],result:"number"},value:["line-progress",.5]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",example:{syntax:{method:["string"],result:"value"},value:["accumulated","sum"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",ios:"supported",android:"supported"}}},"+":{doc:"Returns the sum of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["+",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"*":{doc:"Returns the product of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["*",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",example:{syntax:{method:["number","number?"],result:"number"},value:["-",10]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"/":{doc:`Returns the result of floating point division of the first input by the second.

 - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)`,example:{syntax:{method:["number","number"],result:"number"},value:["/",["get","population"],["get","sq-km"]]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",example:{syntax:{method:["number","number"],result:"number"},value:["%",10,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",example:{syntax:{method:["number","number"],result:"number"},value:["^",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},sqrt:{doc:"Returns the square root of the input.",example:{syntax:{method:["number"],result:"number"},value:["sqrt",9]},group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["log10",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},ln:{doc:"Returns the natural logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["ln",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["log2",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},sin:{doc:"Returns the sine of the input.",example:{syntax:{method:["number"],result:"number"},value:["sin",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},cos:{doc:"Returns the cosine of the input.",example:{syntax:{method:["number"],result:"number"},value:["cos",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},tan:{doc:"Returns the tangent of the input.",example:{syntax:{method:["number"],result:"number"},value:["tan",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},asin:{doc:"Returns the arcsine of the input.",example:{syntax:{method:["number"],result:"number"},value:["asin",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},acos:{doc:"Returns the arccosine of the input.",example:{syntax:{method:["number"],result:"number"},value:["acos",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},atan:{doc:"Returns the arctangent of the input.",example:{syntax:{method:["number"],result:"number"},value:["atan",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},min:{doc:"Returns the minimum value of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["min",1,2]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},max:{doc:"Returns the maximum value of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["max",1,2]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',example:{syntax:{method:["number"],result:"number"},value:["round",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},abs:{doc:"Returns the absolute value of the input.",example:{syntax:{method:["number"],result:"number"},value:["abs",-1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",example:{syntax:{method:["number"],result:"number"},value:["ceil",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",example:{syntax:{method:["number"],result:"number"},value:["floor",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",example:{syntax:{method:["GeoJSON geometry"],result:"number"},value:["distance",{type:"Point",coordinates:[0,0]}]},group:"Math","sdk-support":{"basic functionality":{js:"4.2.0",android:"9.2.0",ios:"5.9.0"}}},"==":{doc:`Returns \`true\` if the input values are equal, \`false\` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional \`collator\` argument to control locale-dependent string comparisons.

 - [Add multiple geometries from one GeoJSON source](https://maplibre.org/maplibre-gl-js/docs/examples/multiple-geometries/)

 - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)

 - [Display buildings in 3D](https://maplibre.org/maplibre-gl-js/docs/examples/3d-buildings/)

 - [Filter symbols by toggling a list](https://maplibre.org/maplibre-gl-js/docs/examples/filter-markers/)`,example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["==","$type","Polygon"]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["!=","cluster",!0]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:[">",["get","mag"],2]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["<",["get","mag"],2]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:[">=",["get","mag"],6]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["<=",["get","mag"],6]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["boolean","boolean","..."],result:"boolean"},value:["all",[">=",["get","mag"],4],["<",["get","mag"],5]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",example:{syntax:{method:["boolean","boolean","..."],result:"boolean"},value:["any",[">=",["get","mag"],4],["<",["get","mag"],5]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.\n\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["!",["has","point_count"]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",example:{syntax:{method:["GeoJSON geometry"],result:"boolean"},value:["within",{type:"Polygon",coordinates:[[[0,0],[0,5],[5,5],[5,0],[0,0]]]}]},group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",example:{syntax:{method:["string"],result:"boolean"},value:["is-supported-script",""]},group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"supported"}}},upcase:{doc:`Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)`,example:{syntax:{method:["string"],result:"string"},value:["upcase",["get","name"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},downcase:{doc:`Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)`,example:{syntax:{method:["string"],result:"string"},value:["downcase",["get","name"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},concat:{doc:`Returns a \`string\` consisting of the concatenation of the inputs. Each input is converted to a string as if by \`to-string\`.

 - [Add a generated icon to the map](https://maplibre.org/maplibre-gl-js/docs/examples/add-image-missing-generated/)

 - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)

 - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)

 - [Variable label placement](https://maplibre.org/maplibre-gl-js/docs/examples/variable-label-placement/)`,example:{syntax:{method:["string","string","..."],result:"string"},value:["concat","square-rgb-",["get","color"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",example:{syntax:{method:["collator"],result:"string"},value:["resolved-locale",["collator",{"case-sensitive":!0,"diacritic-sensitive":!1,locale:"de"}]]},group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}}}},Nme={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}}},Wme={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color at the horizon."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog. Requires 3D terrain."},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. Where 0 is the map center and 1 is the horizon."},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog color and the horizon color. Where 0 is using the horizon color only and 1 is using the fog color only."},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the sky color and the horizon color. Where 1 is blending the color at the middle of the sky and 0 is not blending at all and using the sky color only."},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the atmosphere. Where 1 is visible atmosphere and 0 is hidden. It is best to interpolate this expression when using globe projection."}},Gme={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0",ios:"https://github.com/maplibre/maplibre-native/issues/252",android:"https://github.com/maplibre/maplibre-native/issues/252"}}}},Qme={type:{type:"projectionDefinition",doc:"The projection definition type. Can be specified as a string, a transition state, or an expression.",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},$me=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],Yme={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},qme={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"https://github.com/maplibre/maplibre-gl-js/issues/1235",ios:"https://github.com/maplibre/maplibre-native/issues/744",android:"https://github.com/maplibre/maplibre-native/issues/744"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Vme={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hme={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Zme={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline. \n\nThe unit is in pixels only for SDF sprites that were created with a blur radius of 8, multiplied by the display density. I.e., the radius needs to be 16 for `@2x` sprites, etc.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Xme={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Jme={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},e0e={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},t0e={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},n0e={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},Ao={$version:mme,$root:gme,sources:yme,source:vme,source_vector:_me,source_raster:Cme,source_raster_dem:bme,source_geojson:xme,source_video:wme,source_image:Mme,layer:Sme,layout:Eme,layout_background:Ome,layout_fill:Bme,layout_circle:Ime,layout_heatmap:kme,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},"property-type":"constant"}},layout_line:Tme,layout_symbol:Pme,layout_raster:Kme,layout_hillshade:Dme,filter:Lme,filter_operator:Fme,geometry_type:Rme,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:

* In categorical functions, when the feature value does not match any of the stop domain values.

* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.

* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).

* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.

If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Ume,expression:jme,expression_name:zme,light:Nme,sky:Wme,terrain:Gme,projection:Qme,paint:$me,paint_fill:Yme,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",android:"7.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:qme,paint_circle:Vme,paint_heatmap:Hme,paint_symbol:Zme,paint_raster:Xme,paint_hillshade:Jme,paint_background:e0e,transition:t0e,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:n0e};function zo(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",e="3158bd93bbefd1bd0e63d26617da070781685c25",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return zo=function(){return s},s}zo();class $k extends kn.Component{constructor(t){zo().f[0]++,zo().s[0]++;super(t);pn(this,"onToggleDoc",(zo().s[2]++,t=>{zo().f[1]++,zo().s[3]++,this.setState({open:t},()=>{zo().f[2]++,zo().s[4]++,this.props.onToggleDoc?(zo().b[0][0]++,zo().s[5]++,this.props.onToggleDoc(this.state.open)):zo().b[0][1]++})}));zo().s[1]++,this.state={open:!1}}render(){zo().f[3]++;const{label:t,fieldSpec:r}=(zo().s[6]++,this.props),{doc:i}=(zo().s[7]++,zo().b[1][0]++,r||(zo().b[1][1]++,{}));if(zo().s[8]++,i)return zo().b[2][0]++,zo().s[9]++,Y.jsx("label",{className:"maputnik-doc-wrapper",children:Y.jsxs("div",{className:"maputnik-doc-target",children:[t,"",Y.jsx("button",{"aria-label":this.state.open?(zo().b[3][0]++,"close property documentation"):(zo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(zo().b[4][0]++,"open"):(zo().b[4][1]++,"closed")}`,onClick:()=>(zo().f[4]++,zo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+t,children:this.state.open?(zo().b[5][0]++,Y.jsx(rie,{})):(zo().b[5][1]++,Y.jsx(iie,{}))})]})});if(zo().b[2][1]++,zo().s[11]++,t)return zo().b[6][0]++,zo().s[12]++,Y.jsx("label",{className:"maputnik-doc-wrapper",children:Y.jsx("div",{className:"maputnik-doc-target",children:t})});zo().b[6][1]++,zo().s[13]++}}function sa(){var n="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",e="52a1547e724051448ae0a009c4c7c40d9bb9067f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:52},end:{line:12,column:61}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:48,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:49,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38},5:{loc:{start:{line:47,column:6},end:{line:47,column:215}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:12}},{start:{line:47,column:16},end:{line:47,column:30}},{start:{line:47,column:50},end:{line:47,column:215}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAwCM,mBAGM,KAKQ,YARd;AAxCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAkBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,QAAQ,QAAQ,eAAc,IAAI;AAC9C,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,MAED,UAAU,kBACT,oBAAC,SAAI,WAAU,uBACb,8BAAC,OAAE,MAAM,QAAS,QAAO,UAAS,KAAI,cAAc,0BAAe,GACrE;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52a1547e724051448ae0a009c4c7c40d9bb9067f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return sa=function(){return s},s}sa();const HD=(sa().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class Yk extends kn.Component{render(){sa().f[0]++;const{fieldSpec:e}=(sa().s[1]++,this.props),{doc:t,values:r,docUrl:i,docUrlLinkText:o}=(sa().s[2]++,e),s=(sa().s[3]++,e["sdk-support"]),a=(sa().s[4]++,sa().b[0][0]++,!!r&&(sa().b[0][1]++,!Array.isArray(r)));return sa().s[5]++,Y.jsxs(Y.Fragment,{children:[(sa().b[1][0]++,t&&(sa().b[1][1]++,Y.jsxs("div",{className:"SpecDoc",children:[Y.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:t}),(sa().b[2][0]++,a&&(sa().b[2][1]++,Y.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([f,m])=>(sa().f[1]++,sa().s[6]++,Y.jsxs("li",{children:[Y.jsx("code",{children:JSON.stringify(f)}),Y.jsx("div",{children:m.doc})]},f)))})))]}))),(sa().b[3][0]++,s&&(sa().b[3][1]++,Y.jsx("div",{className:"SpecDoc__sdk-support",children:Y.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{}),Object.values(HD).map(f=>(sa().f[2]++,sa().s[7]++,Y.jsx("th",{children:f},f)))]})}),Y.jsx("tbody",{children:Object.entries(s).map(([f,m])=>(sa().f[3]++,sa().s[8]++,Y.jsxs("tr",{children:[Y.jsx("td",{children:f}),Object.keys(HD).map(C=>(sa().f[4]++,sa().s[9]++,Object.prototype.hasOwnProperty.call(m,C)?(sa().b[4][0]++,sa().s[10]++,Y.jsx("td",{children:m[C]},C)):(sa().b[4][1]++,sa().s[11]++,Y.jsx("td",{children:"no"},C))))]},f)))})]})}))),(sa().b[5][0]++,i&&(sa().b[5][1]++,o)&&(sa().b[5][2]++,Y.jsx("div",{className:"SpecDoc__learn-more",children:Y.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:o})})))]})}}function Vi(){var n="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",e="ca04d739d50d9528a1765863025280bc88ee5e77",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:40,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:39,column:5}},14:{start:{line:38,column:6},end:{line:38,column:29}},15:{start:{line:42,column:4},end:{line:75,column:6}},16:{start:{line:64,column:95},end:{line:64,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:40,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:76,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:64,column:87},end:{line:64,column:88}},loc:{start:{line:64,column:95},end:{line:64,column:113}},line:64}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:54,column:10},end:{line:61,column:14}},type:"binary-expr",locations:[{start:{line:54,column:10},end:{line:54,column:30}},{start:{line:54,column:50},end:{line:61,column:14}}],line:54},6:{loc:{start:{line:62,column:10},end:{line:62,column:134}},type:"binary-expr",locations:[{start:{line:62,column:10},end:{line:62,column:31}},{start:{line:62,column:51},end:{line:62,column:134}}],line:62},7:{loc:{start:{line:65,column:10},end:{line:72,column:11}},type:"binary-expr",locations:[{start:{line:65,column:10},end:{line:65,column:30}},{start:{line:65,column:50},end:{line:72,column:11}}],line:65},8:{loc:{start:{line:69,column:32},end:{line:69,column:64}},type:"cond-expr",locations:[{start:{line:69,column:53},end:{line:69,column:55}},{start:{line:69,column:58},end:{line:69,column:64}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AAgEW,SAWD,KAXC;AAhEX,OAAO,WAAgD;AACvD,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,QAAI,MAAM,YAAY,OAAO,aAAa,KAAK;AAC7C,YAAM,eAAe;AAAA,IACvB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ca04d739d50d9528a1765863025280bc88ee5e77"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Vi=function(){return s},s}Vi();class ga extends kn.Component{constructor(t){Vi().f[0]++,Vi().s[1]++;super(t);pn(this,"_blockEl",(Vi().s[0]++,null));pn(this,"onToggleDoc",(Vi().s[6]++,t=>{Vi().f[2]++,Vi().s[7]++,this.setState({showDoc:t})}));pn(this,"onLabelClick",(Vi().s[8]++,t=>{var o;Vi().f[3]++;const r=(Vi().s[9]++,t.nativeEvent.target),i=(Vi().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));Vi().s[11]++,Vi().b[3][0]++,t.nativeEvent.target.nodeName!=="INPUT"&&(Vi().b[3][1]++,!i)?(Vi().b[2][0]++,Vi().s[12]++,t.stopPropagation()):Vi().b[2][1]++,Vi().s[13]++,t.nativeEvent.target.nodeName!=="A"?(Vi().b[4][0]++,Vi().s[14]++,t.preventDefault()):Vi().b[4][1]++}));Vi().s[2]++,this.state={showDoc:!1}}onChange(t){Vi().f[1]++;const r=(Vi().s[3]++,t.target.value);if(Vi().s[4]++,this.props.onChange)return Vi().b[0][0]++,Vi().s[5]++,this.props.onChange(r===""?(Vi().b[1][0]++,void 0):(Vi().b[1][1]++,r));Vi().b[0][1]++}render(){return Vi().f[4]++,Vi().s[15]++,Y.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:yp({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(Vi().b[5][0]++,this.props.fieldSpec&&(Vi().b[5][1]++,Y.jsx("div",{className:"maputnik-input-block-label",children:Y.jsx($k,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Vi().b[6][0]++,!this.props.fieldSpec&&(Vi().b[6][1]++,Y.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),Y.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),Y.jsx("div",{className:"maputnik-input-block-content",ref:t=>(Vi().f[5]++,Vi().s[16]++,this._blockEl=t),children:this.props.children}),(Vi().b[7][0]++,this.props.fieldSpec&&(Vi().b[7][1]++,Y.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Vi().b[8][0]++,""):(Vi().b[8][1]++,"none")},children:Y.jsx(Yk,{fieldSpec:this.props.fieldSpec})})))]})}}function rA(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",e="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return rA=function(){return s},s}rA();class w1 extends kn.Component{render(){rA().f[0]++;let e=(rA().s[0]++,this.props.options);return rA().s[1]++,rA().b[1][0]++,e.length>0&&(rA().b[1][1]++,!Array.isArray(e[0]))?(rA().b[0][0]++,rA().s[2]++,e=e.map(t=>(rA().f[1]++,rA().s[3]++,[t,t]))):rA().b[0][1]++,rA().s[4]++,Y.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(rA().f[2]++,rA().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:e.map(([t,r])=>(rA().f[3]++,rA().s[6]++,Y.jsx("option",{value:t,children:r},t)))})}}function oi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",e="ffe977722e3215b5f6718c464b93680839810a41",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:70,column:7}},14:{start:{line:51,column:8},end:{line:56,column:11}},15:{start:{line:55,column:10},end:{line:55,column:71}},16:{start:{line:55,column:34},end:{line:55,column:71}},17:{start:{line:59,column:8},end:{line:62,column:9}},18:{start:{line:60,column:10},end:{line:60,column:44}},19:{start:{line:61,column:10},end:{line:61,column:73}},20:{start:{line:61,column:35},end:{line:61,column:73}},21:{start:{line:65,column:8},end:{line:67,column:9}},22:{start:{line:66,column:10},end:{line:66,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:71,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:57,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:56,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:58,column:14},end:{line:58,column:15}},loc:{start:{line:58,column:20},end:{line:63,column:7}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:64,column:17},end:{line:64,column:18}},loc:{start:{line:64,column:24},end:{line:68,column:7}},line:64}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:55,column:71}},type:"if",locations:[{start:{line:55,column:10},end:{line:55,column:71}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},8:{loc:{start:{line:61,column:10},end:{line:61,column:73}},type:"if",locations:[{start:{line:61,column:10},end:{line:61,column:73}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},9:{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},10:{loc:{start:{line:65,column:12},end:{line:65,column:51}},type:"binary-expr",locations:[{start:{line:65,column:12},end:{line:65,column:28}},{start:{line:65,column:32},end:{line:65,column:51}}],line:65}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ffe977722e3215b5f6718c464b93680839810a41"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return oi=function(){return s},s}oi();class md extends kn.Component{constructor(e){oi().f[1]++,oi().s[1]++,super(e),oi().s[2]++,this.state={editing:!1,value:(oi().b[0][0]++,e.value||(oi().b[0][1]++,""))}}static getDerivedStateFromProps(e,t){if(oi().f[2]++,oi().s[3]++,t.editing)oi().b[1][1]++;else return oi().b[1][0]++,oi().s[4]++,{value:e.value};return oi().s[5]++,{}}render(){oi().f[3]++;let e,t;return oi().s[6]++,this.props.multi?(oi().b[2][0]++,oi().s[7]++,e="textarea",oi().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(oi().b[2][1]++,oi().s[9]++,e="input",oi().s[10]++,t=["maputnik-string"]),oi().s[11]++,this.props.disabled?(oi().b[3][0]++,oi().s[12]++,t.push("maputnik-string--disabled")):oi().b[3][1]++,oi().s[13]++,kn.createElement(e,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(oi().b[4][0]++,this.props.spellCheck):(oi().b[4][1]++,e!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(oi().b[5][0]++,""):(oi().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{oi().f[4]++,oi().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{oi().f[5]++,oi().s[15]++,this.props.onInput?(oi().b[6][0]++,oi().s[16]++,this.props.onInput(this.state.value)):oi().b[6][1]++})},onBlur:()=>{oi().f[6]++,oi().s[17]++,this.state.value!==this.props.value?(oi().b[7][0]++,oi().s[18]++,this.setState({editing:!1}),oi().s[19]++,this.props.onChange?(oi().b[8][0]++,oi().s[20]++,this.props.onChange(this.state.value)):oi().b[8][1]++):oi().b[7][1]++},onKeyDown:r=>{oi().f[7]++,oi().s[21]++,oi().b[10][0]++,r.keyCode===13&&(oi().b[10][1]++,this.props.onChange)?(oi().b[9][0]++,oi().s[22]++,this.props.onChange(this.state.value)):oi().b[9][1]++},required:this.props.required})}}pn(md,"defaultProps",(oi().s[0]++,{onInput:()=>{oi().f[0]++}}));function lf(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",e="7881723dfc9d5af5c18468677e4f429a5a061179",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:9,column:24},end:{line:11,column:3}},1:{start:{line:13,column:14},end:{line:13,column:26}},2:{start:{line:14,column:4},end:{line:50,column:6}},3:{start:{line:53,column:18},end:{line:53,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:51,column:3}},line:12}},branchMap:{0:{loc:{start:{line:22,column:10},end:{line:28,column:11}},type:"binary-expr",locations:[{start:{line:22,column:10},end:{line:22,column:29}},{start:{line:22,column:49},end:{line:28,column:11}}],line:22},1:{loc:{start:{line:29,column:10},end:{line:47,column:11}},type:"binary-expr",locations:[{start:{line:29,column:10},end:{line:29,column:30}},{start:{line:29,column:50},end:{line:47,column:11}}],line:29}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAuBW,SAKH,KALG;AAvBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAUjD,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,MAAM;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QACtD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7881723dfc9d5af5c18468677e4f429a5a061179"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return lf=function(){return s},s}lf();class BQ extends kn.Component{render(){lf().f[0]++;const e=(lf().s[1]++,this.props.t);return lf().s[2]++,Y.jsxs(ga,{label:e("Type"),fieldSpec:Ao.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(lf().b[0][0]++,this.props.disabled&&(lf().b[0][1]++,Y.jsx(md,{value:this.props.value,disabled:!0}))),(lf().b[1][0]++,!this.props.disabled&&(lf().b[1][1]++,Y.jsx(w1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}pn(BQ,"defaultProps",(lf().s[0]++,{disabled:!1}));const IQ=(lf().s[3]++,qo()(BQ));function Jw(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",e="f6ac2bd12dbef0198dd96da668f75e4659321d69",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAM;AAAA,QAAK,WAAW,OAAO,MAAM;AAAA,QAE/C,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f6ac2bd12dbef0198dd96da668f75e4659321d69"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Jw=function(){return s},s}Jw();class kQ extends kn.Component{render(){return Jw().f[0]++,Jw().s[0]++,Y.jsx(ga,{label:"ID",fieldSpec:Ao.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:Y.jsx(md,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var TQ={exports:{}},r0e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function i0e(n){var e,t,r,i=n.ownerDocument,o=i.body,s=i&&i.documentElement;return e=n.getBoundingClientRect(),t=e.left,r=e.top,t-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:t,top:r}}function PQ(n,e){var t=n["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if(typeof t!="number"){var i=n.document;t=i.documentElement[r],typeof t!="number"&&(t=i.body[r])}return t}function C8(n){return PQ(n)}function b8(n){return PQ(n,!0)}function KQ(n){var e=i0e(n),t=n.ownerDocument,r=t.defaultView||t.parentWindow;return e.left+=C8(r),e.top+=b8(r),e}function o0e(n,e,t){var r="",i=n.ownerDocument;return(t=t||i.defaultView.getComputedStyle(n,null))&&(r=t.getPropertyValue(e)||t[e]),r}var a0e=new RegExp("^("+r0e+")(?!px)[a-z%]+$","i"),s0e=/^(top|right|bottom|left)$/,E6="currentStyle",O6="runtimeStyle",gg="left",l0e="px";function u0e(n,e){var t=n[E6]&&n[E6][e];if(a0e.test(t)&&!s0e.test(e)){var r=n.style,i=r[gg],o=n[O6][gg];n[O6][gg]=n[E6][gg],r[gg]=e==="fontSize"?"1em":t||0,t=r.pixelLeft+l0e,r[gg]=i,n[O6][gg]=o}return t===""?"auto":t}var p1;typeof window<"u"&&(p1=window.getComputedStyle?o0e:u0e);function A0e(n,e){uv(n,"position")==="static"&&(n.style.position="relative");var t=KQ(n),r={},i,o;for(o in e)i=parseFloat(uv(n,o))||0,r[o]=i+e[o]-t[o];uv(n,r)}function qk(n,e){for(var t=0;t<n.length;t++)e(n[t])}function DQ(n){return p1(n,"boxSizing")==="border-box"}var c0e=["margin","border","padding"],x8=-1,h0e=2,w8=1,d0e=0;function f0e(n,e,t){var r={},i=n.style,o;for(o in e)r[o]=i[o],i[o]=e[o];t.call(n);for(o in e)i[o]=r[o]}function wC(n,e,t){var r=0,i,o,s;for(o=0;o<e.length;o++)if(i=e[o],i)for(s=0;s<t.length;s++){var a;i==="border"?a=i+t[s]+"Width":a=i+t[s],r+=parseFloat(p1(n,a))||0}return r}function v4(n){return n!=null&&n==n.window}var Ap={};qk(["Width","Height"],function(n){Ap["doc"+n]=function(e){var t=e.document;return Math.max(t.documentElement["scroll"+n],t.body["scroll"+n],Ap["viewport"+n](t))},Ap["viewport"+n]=function(e){var t="client"+n,r=e.document,i=r.body,o=r.documentElement,s=o[t];return r.compatMode==="CSS1Compat"&&s||i&&i[t]||s}});function ZD(n,e,t){if(v4(n))return e==="width"?Ap.viewportWidth(n):Ap.viewportHeight(n);if(n.nodeType===9)return e==="width"?Ap.docWidth(n):Ap.docHeight(n);var r=e==="width"?["Left","Right"]:["Top","Bottom"],i=e==="width"?n.offsetWidth:n.offsetHeight;p1(n);var o=DQ(n),s=0;(i==null||i<=0)&&(i=void 0,s=p1(n,e),(s==null||Number(s)<0)&&(s=n.style[e]||0),s=parseFloat(s)||0),t===void 0&&(t=o?w8:x8);var a=i!==void 0||o,f=i||s;return t===x8?a?f-wC(n,["border","padding"],r):s:a?f+(t===w8?0:t===h0e?-wC(n,["border"],r):wC(n,["margin"],r)):s+wC(n,c0e.slice(t),r)}var p0e={position:"absolute",visibility:"hidden",display:"block"};function XD(n){var e,t=arguments;return n.offsetWidth!==0?e=ZD.apply(void 0,t):f0e(n,p0e,function(){e=ZD.apply(void 0,t)}),e}qk(["width","height"],function(n){var e=n.charAt(0).toUpperCase()+n.slice(1);Ap["outer"+e]=function(r,i){return r&&XD(r,n,i?d0e:w8)};var t=n==="width"?["Left","Right"]:["Top","Bottom"];Ap[n]=function(r,i){if(i!==void 0){if(r){p1(r);var o=DQ(r);return o&&(i+=wC(r,["padding","border"],t)),uv(r,n,i)}return}return r&&XD(r,n,x8)}});function uv(n,e,t){if(typeof e=="object"){for(var r in e)uv(n,r,e[r]);return}if(typeof t<"u")typeof t=="number"&&(t=t+"px"),n.style[e]=t;else return p1(n,e)}function LQ(n,e){for(var t in e)n[t]=e[t];return n}var FQ=TQ.exports={getWindow:function(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow},offset:function(n,e){if(typeof e<"u")A0e(n,e);else return KQ(n)},isWindow:v4,each:qk,css:uv,clone:function(n){var e={};for(var t in n)e[t]=n[t];var r=n.overflow;if(r)for(t in n)e.overflow[t]=n.overflow[t];return e},mix:LQ,scrollLeft:function(n,e){if(v4(n)){if(e===void 0)return C8(n);window.scrollTo(e,b8(n))}else{if(e===void 0)return n.scrollLeft;n.scrollLeft=e}},scrollTop:function(n,e){if(v4(n)){if(e===void 0)return b8(n);window.scrollTo(C8(n),e)}else{if(e===void 0)return n.scrollTop;n.scrollTop=e}},merge:function(){for(var n={},e=0;e<arguments.length;e++)FQ.mix(n,arguments[e]);return n},viewportWidth:0,viewportHeight:0};LQ(FQ,Ap);var m0e=TQ.exports,ls=m0e;function g0e(n,e,t){t=t||{},e.nodeType===9&&(e=ls.getWindow(e));var r=t.allowHorizontalScroll,i=t.onlyScrollIfNeeded,o=t.alignWithTop,s=t.alignWithLeft;r=r===void 0?!0:r;var a=ls.isWindow(e),f=ls.offset(n),m=ls.outerHeight(n),C=ls.outerWidth(n),k,I,K,L,q,X,H,G,ee,ne;a?(H=e,ne=ls.height(H),ee=ls.width(H),G={left:ls.scrollLeft(H),top:ls.scrollTop(H)},q={left:f.left-G.left,top:f.top-G.top},X={left:f.left+C-(G.left+ee),top:f.top+m-(G.top+ne)},L=G):(k=ls.offset(e),I=e.clientHeight,K=e.clientWidth,L={left:e.scrollLeft,top:e.scrollTop},q={left:f.left-(k.left+(parseFloat(ls.css(e,"borderLeftWidth"))||0)),top:f.top-(k.top+(parseFloat(ls.css(e,"borderTopWidth"))||0))},X={left:f.left+C-(k.left+K+(parseFloat(ls.css(e,"borderRightWidth"))||0)),top:f.top+m-(k.top+I+(parseFloat(ls.css(e,"borderBottomWidth"))||0))}),q.top<0||X.top>0?o===!0?ls.scrollTop(e,L.top+q.top):o===!1?ls.scrollTop(e,L.top+X.top):q.top<0?ls.scrollTop(e,L.top+q.top):ls.scrollTop(e,L.top+X.top):i||(o=o===void 0?!0:!!o,o?ls.scrollTop(e,L.top+q.top):ls.scrollTop(e,L.top+X.top)),r&&(q.left<0||X.left>0?s===!0?ls.scrollLeft(e,L.left+q.left):s===!1?ls.scrollLeft(e,L.left+X.left):q.left<0?ls.scrollLeft(e,L.left+q.left):ls.scrollLeft(e,L.left+X.left):i||(s=s===void 0?!0:!!s,s?ls.scrollLeft(e,L.left+q.left):ls.scrollLeft(e,L.left+X.left)))}var y0e=g0e,v0e=y0e,_4=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_0e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function C0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function b0e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function x0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Tg=$n,Zl=vf,w0e=N0,JD=w0e.findDOMNode,M0e=v0e,S0e=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function E0e(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var SM=function(n){x0e(e,n);function e(t){C0e(this,e);var r=b0e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return _0e(e,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,S0e.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;M0e(JD(r),JD(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){e.keyDownHandlers[r.key]?e.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,s){return r.sortItems(o,s,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,s=i.value,a=i.getItemValue,f=o===null?0:o,m=this.getFilteredItems(i),C=0;C<m.length&&!i.isItemSelectable(m[f]);C++)f=(f+1)%m.length;var k=m[f]&&i.isItemSelectable(m[f])?m[f]:null;if(s!==""&&k){var I=a(k),K=I.toLowerCase().indexOf(s.toLowerCase())===0;if(K)return{highlightedIndex:f}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),s=parseInt(o.marginBottom,10)||0,a=parseInt(o.marginLeft,10)||0,f=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+s,menuLeft:i.left+a,menuWidth:i.width+a+f})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(a,f){var m=r.props.renderItem(a,r.state.highlightedIndex===f,{cursor:"default"});return Tg.cloneElement(m,{onMouseEnter:r.props.isItemSelectable(a)?function(){return r.highlightItemFromMouse(f)}:null,onClick:r.props.isItemSelectable(a)?function(){return r.selectItemFromMouse(a)}:null,ref:function(k){return r.refs["item-"+f]=k}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},s=this.props.renderMenu(i,this.props.value,o);return Tg.cloneElement(s,{ref:function(f){return r.refs.menu=f},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=E0e(),this.refs.input.focus();return}var o=void 0,s=this.state.highlightedIndex;if(this.props.selectOnBlur&&s!==null){var a=this.getFilteredItems(this.props),f=a[s],m=this.props.getItemValue(f);o=function(){return i.props.onSelect(m,f)}}this.setState({isOpen:!1,highlightedIndex:null},o);var C=this.props.inputProps.onBlur;C&&C(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,s=o.x,a=o.y;this._scrollOffset=null,window.scrollTo(s,a),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(s,a)},0);return}this.setState({isOpen:!0});var f=this.props.inputProps.onFocus;f&&f(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return Tg.createElement("div",_4({style:_4({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(_4({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&Tg.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),e}(Tg.Component);SM.propTypes={items:Zl.array.isRequired,value:Zl.any,onChange:Zl.func,onSelect:Zl.func,shouldItemRender:Zl.func,isItemSelectable:Zl.func,sortItems:Zl.func,getItemValue:Zl.func.isRequired,renderItem:Zl.func.isRequired,renderMenu:Zl.func,menuStyle:Zl.object,renderInput:Zl.func,inputProps:Zl.object,wrapperProps:Zl.object,wrapperStyle:Zl.object,autoHighlight:Zl.bool,selectOnBlur:Zl.bool,onMenuVisibilityChange:Zl.func,open:Zl.bool,debug:Zl.bool};SM.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(e){return Tg.createElement("input",e)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(e,t,r){return Tg.createElement("div",{style:_4({},r,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};SM.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<t.length;o++){var s=(i+o+1)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?t.length:r,o=0;o<t.length;o++){var s=(i-(1+o)+t.length)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i!==t.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(e){var t=this;if(e.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){t.refs.input.select()});else{e.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(i.length,i.length),t.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var O0e=SM;const B0e=Da(O0e);function Qi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",e="6ef9facf9aeabdae687b5aca973710969d826d60",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Qi=function(){return s},s}Qi();const eL=(Qi().s[0]++,140);class t_ extends kn.Component{constructor(){super(...arguments);pn(this,"state",(Qi().s[1]++,{maxHeight:eL}));pn(this,"autocompleteMenuEl",(Qi().s[2]++,null))}calcMaxHeight(){if(Qi().f[1]++,Qi().s[4]++,this.props.keepMenuWithinWindowBounds){Qi().b[0][0]++;const t=(Qi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Qi().s[6]++,Math.min(t,eL));Qi().s[7]++,r!=this.state.maxHeight?(Qi().b[1][0]++,Qi().s[8]++,this.setState({maxHeight:r})):Qi().b[1][1]++}else Qi().b[0][1]++}componentDidMount(){Qi().f[2]++,Qi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Qi().f[3]++,Qi().s[10]++,this.calcMaxHeight()}onChange(t){Qi().f[4]++,Qi().s[11]++,this.props.onChange(t===""?(Qi().b[2][0]++,void 0):(Qi().b[2][1]++,t))}render(){return Qi().f[5]++,Qi().s[12]++,Y.jsx("div",{ref:t=>{Qi().f[6]++,Qi().s[13]++,this.autocompleteMenuEl=t},children:Y.jsx(B0e,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:t=>(Qi().f[7]++,Qi().s[14]++,t[0]),onSelect:t=>(Qi().f[8]++,Qi().s[15]++,this.onChange(t)),onChange:(t,r)=>(Qi().f[9]++,Qi().s[16]++,this.onChange(r)),shouldItemRender:(t,r=(Qi().b[3][0]++,""))=>(Qi().f[10]++,Qi().s[17]++,typeof r=="string"?(Qi().b[4][0]++,Qi().s[18]++,t[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Qi().b[4][1]++,Qi().s[19]++,!1)),renderItem:(t,r)=>(Qi().f[11]++,Qi().s[20]++,Y.jsx("div",{className:yp({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:t[1]},t[0]))})})}}pn(t_,"defaultProps",(Qi().s[3]++,{onChange:()=>{Qi().f[0]++},options:[]}));function Jf(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",e="ab049bb75b4ddccd0f9bdd2bba8785d564ca92f6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:12,column:3}},1:{start:{line:14,column:14},end:{line:14,column:26}},2:{start:{line:15,column:4},end:{line:31,column:6}},3:{start:{line:27,column:56},end:{line:27,column:66}},4:{start:{line:34,column:20},end:{line:34,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:14},end:{line:9,column:15}},loc:{start:{line:9,column:20},end:{line:10,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:47},end:{line:27,column:48}},loc:{start:{line:27,column:56},end:{line:27,column:66}},line:27}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA6BM;AA7BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA0B,uBAAuB;AAUjD,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,QAAQ;AAAA,QACjB,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab049bb75b4ddccd0f9bdd2bba8785d564ca92f6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Jf=function(){return s},s}Jf();class RQ extends kn.Component{render(){var t;Jf().f[1]++;const e=(Jf().s[1]++,this.props.t);return Jf().s[2]++,Y.jsx(ga,{label:e("Source"),fieldSpec:Ao.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:Y.jsx(t_,{value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceIds)==null?void 0:t.map(r=>(Jf().f[2]++,Jf().s[3]++,[r,r]))})})}}pn(RQ,"defaultProps",(Jf().s[0]++,{onChange:()=>{Jf().f[0]++},sourceIds:[]}));const UQ=(Jf().s[4]++,qo()(RQ));function ep(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",e="d17faa4f03faf23184e12eb0563d322067d1f63d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:13,column:3}},1:{start:{line:15,column:14},end:{line:15,column:26}},2:{start:{line:16,column:4},end:{line:33,column:6}},3:{start:{line:29,column:59},end:{line:29,column:65}},4:{start:{line:36,column:25},end:{line:36,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:14},end:{line:9,column:15}},loc:{start:{line:9,column:20},end:{line:10,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:34,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:29,column:52},end:{line:29,column:53}},loc:{start:{line:29,column:59},end:{line:29,column:65}},line:29}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA8BM;AA9BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA0B,uBAAuB;AAUjD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,cAAc;AAAA,QACvB,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17faa4f03faf23184e12eb0563d322067d1f63d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ep=function(){return s},s}ep();class jQ extends kn.Component{render(){var t;ep().f[1]++;const e=(ep().s[1]++,this.props.t);return ep().s[2]++,Y.jsx(ga,{label:e("Source Layer"),fieldSpec:Yo.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:Y.jsx(t_,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceLayerIds)==null?void 0:t.map(r=>(ep().f[2]++,ep().s[3]++,[r,r]))})})}}pn(jQ,"defaultProps",(ep().s[0]++,{onChange:()=>{ep().f[0]++},sourceLayerIds:[],isFixed:!1}));const zQ=(ep().s[4]++,qo()(jQ));function mr(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",e="7a9f0314912c2a2e8e47cddf3aaf5469476531e0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:11,column:13},end:{line:26,column:3}},1:{start:{line:12,column:26},end:{line:12,column:52}},2:{start:{line:13,column:18},end:{line:16,column:5}},3:{start:{line:17,column:4},end:{line:22,column:5}},4:{start:{line:18,column:6},end:{line:18,column:39}},5:{start:{line:19,column:6},end:{line:21,column:7}},6:{start:{line:20,column:8},end:{line:20,column:59}},7:{start:{line:23,column:4},end:{line:23,column:30}},8:{start:{line:24,column:4},end:{line:24,column:45}},9:{start:{line:25,column:4},end:{line:25,column:35}},10:{start:{line:28,column:4},end:{line:28,column:17}},11:{start:{line:29,column:18},end:{line:32,column:5}},12:{start:{line:33,column:4},end:{line:36,column:5}},13:{start:{line:34,column:6},end:{line:34,column:56}},14:{start:{line:35,column:6},end:{line:35,column:66}},15:{start:{line:37,column:4},end:{line:37,column:23}},16:{start:{line:40,column:20},end:{line:40,column:34}},17:{start:{line:41,column:20},end:{line:41,column:35}},18:{start:{line:42,column:32},end:{line:42,column:56}},19:{start:{line:43,column:32},end:{line:43,column:56}},20:{start:{line:44,column:4},end:{line:51,column:5}},21:{start:{line:48,column:6},end:{line:50,column:9}},22:{start:{line:54,column:22},end:{line:54,column:54}},23:{start:{line:55,column:4},end:{line:55,column:34}},24:{start:{line:58,column:20},end:{line:58,column:22}},25:{start:{line:59,column:18},end:{line:79,column:5}},26:{start:{line:80,column:4},end:{line:85,column:5}},27:{start:{line:81,column:22},end:{line:81,column:30}},28:{start:{line:82,column:6},end:{line:84,column:7}},29:{start:{line:83,column:8},end:{line:83,column:26}},30:{start:{line:86,column:4},end:{line:86,column:19}},31:{start:{line:89,column:14},end:{line:89,column:26}},32:{start:{line:90,column:20},end:{line:90,column:52}},33:{start:{line:91,column:19},end:{line:91,column:61}},34:{start:{line:92,column:4},end:{line:148,column:6}},35:{start:{line:107,column:16},end:{line:107,column:41}},36:{start:{line:116,column:31},end:{line:116,column:57}},37:{start:{line:125,column:31},end:{line:125,column:59}},38:{start:{line:134,column:31},end:{line:134,column:67}},39:{start:{line:151,column:17},end:{line:151,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:13},end:{line:11,column:14}},loc:{start:{line:11,column:19},end:{line:26,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:21},end:{line:38,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:44},end:{line:52,column:3}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:29},end:{line:56,column:3}},line:53},4:{name:"(anonymous_4)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:19},end:{line:87,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:11},end:{line:149,column:3}},line:88},6:{name:"(anonymous_6)",decl:{start:{line:106,column:24},end:{line:106,column:25}},loc:{start:{line:106,column:31},end:{line:108,column:15}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:116,column:24},end:{line:116,column:25}},loc:{start:{line:116,column:31},end:{line:116,column:57}},line:116},8:{name:"(anonymous_8)",decl:{start:{line:125,column:24},end:{line:125,column:25}},loc:{start:{line:125,column:31},end:{line:125,column:59}},line:125},9:{name:"(anonymous_9)",decl:{start:{line:134,column:24},end:{line:134,column:25}},loc:{start:{line:134,column:31},end:{line:134,column:67}},line:134}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:19,column:6},end:{line:21,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:21,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:19,column:10},end:{line:19,column:68}},type:"binary-expr",locations:[{start:{line:19,column:10},end:{line:19,column:38}},{start:{line:19,column:42},end:{line:19,column:68}}],line:19},3:{loc:{start:{line:33,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},4:{loc:{start:{line:44,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},5:{loc:{start:{line:46,column:6},end:{line:46,column:160}},type:"binary-expr",locations:[{start:{line:46,column:6},end:{line:46,column:25}},{start:{line:46,column:29},end:{line:46,column:52}},{start:{line:46,column:56},end:{line:46,column:106}},{start:{line:46,column:110},end:{line:46,column:160}}],line:46},6:{loc:{start:{line:54,column:22},end:{line:54,column:54}},type:"binary-expr",locations:[{start:{line:54,column:22},end:{line:54,column:48}},{start:{line:54,column:52},end:{line:54,column:54}}],line:54},7:{loc:{start:{line:55,column:11},end:{line:55,column:33}},type:"binary-expr",locations:[{start:{line:55,column:11},end:{line:55,column:27}},{start:{line:55,column:31},end:{line:55,column:33}}],line:55},8:{loc:{start:{line:82,column:6},end:{line:84,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:84,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:82},9:{loc:{start:{line:82,column:10},end:{line:82,column:61}},type:"binary-expr",locations:[{start:{line:82,column:10},end:{line:82,column:24}},{start:{line:82,column:28},end:{line:82,column:61}}],line:82},10:{loc:{start:{line:119,column:10},end:{line:127,column:11}},type:"binary-expr",locations:[{start:{line:119,column:10},end:{line:119,column:42}},{start:{line:119,column:62},end:{line:127,column:11}}],line:119},11:{loc:{start:{line:128,column:10},end:{line:136,column:11}},type:"binary-expr",locations:[{start:{line:128,column:10},end:{line:128,column:87}},{start:{line:128,column:107},end:{line:136,column:11}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AA2IM,SACE,KADF;AA3IN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAE7B,SAA0B,uBAAuB;AAkBjD,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAA8B;AACxC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAgD,EAAE,CAAC;AAAA,IACtG;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAAmC,WAA0B;AAE9E,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QACpB,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cAEX,YAAE,WAAW;AAAA;AAAA,UAChB;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7a9f0314912c2a2e8e47cddf3aaf5469476531e0"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return mr=function(){return s},s}mr();class I0e extends kn.Component{constructor(t){mr().f[1]++,mr().s[10]++;super(t);pn(this,"addLayer",(mr().s[0]++,()=>{mr().f[0]++;const t=(mr().s[1]++,this.props.layers.slice(0)),r=(mr().s[2]++,{id:this.state.id,type:this.state.type});mr().s[3]++,this.state.type!=="background"?(mr().b[0][0]++,mr().s[4]++,r.source=this.state.source,mr().s[5]++,mr().b[2][0]++,this.state.type!=="raster"&&(mr().b[2][1]++,this.state["source-layer"])?(mr().b[1][0]++,mr().s[6]++,r["source-layer"]=this.state["source-layer"]):mr().b[1][1]++):mr().b[0][1]++,mr().s[7]++,t.push(r),mr().s[8]++,this.props.onLayersChange(t),mr().s[9]++,this.props.onOpenToggle(!1)}));const r=(mr().s[11]++,{type:"fill",id:""});mr().s[12]++,t.sources.length>0?(mr().b[3][0]++,mr().s[13]++,r.source=Object.keys(this.props.sources)[0],mr().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):mr().b[3][1]++,mr().s[15]++,this.state=r}componentDidUpdate(t,r){mr().f[2]++;const i=(mr().s[16]++,r.type),o=(mr().s[17]++,this.state.type),s=(mr().s[18]++,this.getSources(i)),a=(mr().s[19]++,this.getSources(o));mr().s[20]++,mr().b[5][0]++,i!==o&&(mr().b[5][1]++,r.source!=="")&&(mr().b[5][2]++,s.indexOf(r.source)>-1)&&(mr().b[5][3]++,a.indexOf(this.state.source)<0)?(mr().b[4][0]++,mr().s[21]++,this.setState({source:""})):mr().b[4][1]++}getLayersForSource(t){mr().f[3]++;const r=(mr().s[22]++,mr().b[6][0]++,this.props.sources[t]||(mr().b[6][1]++,{}));return mr().s[23]++,mr().b[7][0]++,r.layers||(mr().b[7][1]++,[])}getSources(t){mr().f[4]++;const r=(mr().s[24]++,[]),i=(mr().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});mr().s[26]++;for(const[o,s]of Object.entries(this.props.sources)){const a=(mr().s[27]++,s.type);mr().s[28]++,mr().b[9][0]++,i[a]&&(mr().b[9][1]++,i[a].indexOf(t)>-1)?(mr().b[8][0]++,mr().s[29]++,r.push(o)):mr().b[8][1]++}return mr().s[30]++,r}render(){mr().f[5]++;const t=(mr().s[31]++,this.props.t),r=(mr().s[32]++,this.getSources(this.state.type)),i=(mr().s[33]++,this.getLayersForSource(this.state.source));return mr().s[34]++,Y.jsx(Q0,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Add Layer"),"data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:Y.jsxs("div",{className:"maputnik-add-layer",children:[Y.jsx(kQ,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:o=>{mr().f[6]++,mr().s[35]++,this.setState({id:o})}}),Y.jsx(IQ,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:o=>(mr().f[7]++,mr().s[36]++,this.setState({type:o}))}),(mr().b[10][0]++,this.state.type!=="background"&&(mr().b[10][1]++,Y.jsx(UQ,{sourceIds:r,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:o=>(mr().f[8]++,mr().s[37]++,this.setState({source:o}))}))),(mr().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(mr().b[11][1]++,Y.jsx(zQ,{isFixed:!0,sourceLayerIds:i,value:this.state["source-layer"],onChange:o=>(mr().f[9]++,mr().s[38]++,this.setState({"source-layer":o}))}))),Y.jsx(ja,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:t("Add Layer")})]})})}}const k0e=(mr().s[39]++,qo()(I0e));function Wg(){var n="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",e="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Wg=function(){return s},s}Wg();let tL=(Wg().s[0]++,0);function Fv(n=(Wg().b[0][0]++,"")){return Wg().f[0]++,Wg().s[1]++,tL++,Wg().s[2]++,n+tL}function ci(){var n="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",e="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ci=function(){return s},s}ci();function T0e(n,e){ci().f[0]++;const t=(ci().s[0]++,{...n.paint});ci().s[1]++,Object.keys(t).forEach(i=>{ci().f[1]++,ci().s[2]++,i in Yo["paint_"+e]?ci().b[0][1]++:(ci().b[0][0]++,ci().s[3]++,delete t[i])});const r=(ci().s[4]++,{...n.layout});return ci().s[5]++,Object.keys(r).forEach(i=>{ci().f[2]++,ci().s[6]++,i in Yo["layout_"+e]?ci().b[1][1]++:(ci().b[1][0]++,ci().s[7]++,delete r[i])}),ci().s[8]++,{...n,paint:t,layout:r,type:e}}function P0e(n,e,t,r){if(ci().f[3]++,ci().s[9]++,r===void 0)if(ci().b[2][0]++,ci().s[10]++,e){ci().b[3][0]++;const i=(ci().s[11]++,{...n,[e]:{...n[e]}});return ci().s[12]++,delete i[e][t],ci().s[13]++,Object.keys(i[e]).length<1?(ci().b[4][0]++,ci().s[14]++,delete i[e]):ci().b[4][1]++,ci().s[15]++,i}else{ci().b[3][1]++;const i=(ci().s[16]++,{...n});return ci().s[17]++,delete i[t],ci().s[18]++,i}else return ci().b[2][1]++,ci().s[19]++,e?(ci().b[5][0]++,ci().s[20]++,{...n,[e]:{...n[e],[t]:r}}):(ci().b[5][1]++,ci().s[21]++,{...n,[t]:r})}function Gy(n){return ci().f[4]++,ci().s[22]++,n.replace(" ","-").replace("_","-").split("-")[0]}function K0e(n,e){ci().f[5]++;const t=(ci().s[23]++,Gy(n[e].id));let r=(ci().s[24]++,e);ci().s[25]++;for(let i=(ci().s[26]++,e);i>0;i--){const o=(ci().s[27]++,Gy(n[i-1].id));if(ci().s[28]++,o===t)ci().b[6][0]++,ci().s[29]++,r=i-1;else return ci().b[6][1]++,ci().s[30]++,r}return ci().s[31]++,r}function Jt(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",e="e544c04a7b56f1c8f5a1b9c28e156fb038263492",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:16,column:3}},1:{start:{line:20,column:4},end:{line:20,column:17}},2:{start:{line:21,column:4},end:{line:21,column:45}},3:{start:{line:22,column:4},end:{line:22,column:48}},4:{start:{line:23,column:4},end:{line:32,column:6}},5:{start:{line:35,column:4},end:{line:44,column:7}},6:{start:{line:46,column:17},end:{line:63,column:3}},7:{start:{line:47,column:14},end:{line:47,column:15}},8:{start:{line:48,column:22},end:{line:48,column:24}},9:{start:{line:49,column:4},end:{line:58,column:7}},10:{start:{line:50,column:26},end:{line:50,column:51}},11:{start:{line:51,column:24},end:{line:51,column:52}},12:{start:{line:52,column:6},end:{line:54,column:7}},13:{start:{line:53,column:8},end:{line:53,column:63}},14:{start:{line:55,column:6},end:{line:57,column:9}},15:{start:{line:56,column:8},end:{line:56,column:17}},16:{start:{line:59,column:4},end:{line:62,column:7}},17:{start:{line:65,column:19},end:{line:65,column:21}},18:{start:{line:66,column:41},end:{line:66,column:50}},19:{start:{line:67,column:4},end:{line:84,column:5}},20:{start:{line:67,column:17},end:{line:67,column:18}},21:{start:{line:68,column:24},end:{line:68,column:44}},22:{start:{line:69,column:28},end:{line:69,column:52}},23:{start:{line:70,column:6},end:{line:73,column:8}},24:{start:{line:74,column:20},end:{line:77,column:7}},25:{start:{line:78,column:6},end:{line:83,column:7}},26:{start:{line:79,column:26},end:{line:79,column:51}},27:{start:{line:80,column:8},end:{line:80,column:30}},28:{start:{line:82,column:8},end:{line:82,column:29}},29:{start:{line:85,column:4},end:{line:85,column:18}},30:{start:{line:88,column:22},end:{line:88,column:50}},31:{start:{line:89,column:22},end:{line:89,column:55}},32:{start:{line:90,column:4},end:{line:94,column:5}},33:{start:{line:91,column:6},end:{line:91,column:68}},34:{start:{line:93,column:6},end:{line:93,column:35}},35:{start:{line:95,column:4},end:{line:97,column:7}},36:{start:{line:100,column:22},end:{line:100,column:78}},37:{start:{line:101,column:4},end:{line:101,column:51}},38:{start:{line:104,column:4},end:{line:106,column:5}},39:{start:{line:105,column:6},end:{line:105,column:18}},40:{start:{line:108,column:18},end:{line:110,column:7}},41:{start:{line:111,column:6},end:{line:115,column:7}},42:{start:{line:112,column:8},end:{line:114,column:10}},43:{start:{line:116,column:6},end:{line:116,column:17}},44:{start:{line:118,column:24},end:{line:121,column:5}},45:{start:{line:123,column:18},end:{line:125,column:7}},46:{start:{line:126,column:6},end:{line:126,column:27}},47:{start:{line:127,column:6},end:{line:127,column:17}},48:{start:{line:129,column:23},end:{line:132,column:5}},49:{start:{line:133,column:25},end:{line:133,column:53}},50:{start:{line:134,column:4},end:{line:134,column:24}},51:{start:{line:137,column:4},end:{line:153,column:5}},52:{start:{line:138,column:31},end:{line:138,column:59}},53:{start:{line:139,column:6},end:{line:152,column:7}},54:{start:{line:140,column:23},end:{line:140,column:44}},55:{start:{line:141,column:24},end:{line:144,column:9}},56:{start:{line:145,column:25},end:{line:150,column:19}},57:{start:{line:146,column:10},end:{line:146,column:37}},58:{start:{line:147,column:10},end:{line:149,column:11}},59:{start:{line:148,column:12},end:{line:148,column:36}},60:{start:{line:151,column:8},end:{line:151,column:33}},61:{start:{line:156,column:22},end:{line:156,column:24}},62:{start:{line:157,column:14},end:{line:157,column:15}},63:{start:{line:158,column:26},end:{line:158,column:46}},64:{start:{line:159,column:4},end:{line:210,column:7}},65:{start:{line:160,column:26},end:{line:160,column:51}},66:{start:{line:161,column:6},end:{line:174,column:7}},67:{start:{line:162,column:36},end:{line:172,column:9}},68:{start:{line:166,column:47},end:{line:166,column:52}},69:{start:{line:173,column:8},end:{line:173,column:28}},70:{start:{line:175,column:6},end:{line:209,column:9}},71:{start:{line:176,column:25},end:{line:176,column:72}},72:{start:{line:177,column:27},end:{line:179,column:10}},73:{start:{line:178,column:10},end:{line:178,column:97}},74:{start:{line:180,column:32},end:{line:180,column:34}},75:{start:{line:181,column:8},end:{line:183,column:9}},76:{start:{line:182,column:10},end:{line:182,column:53}},77:{start:{line:184,column:41},end:{line:206,column:9}},78:{start:{line:207,column:8},end:{line:207,column:33}},79:{start:{line:208,column:8},end:{line:208,column:17}},80:{start:{line:211,column:14},end:{line:211,column:26}},81:{start:{line:212,column:4},end:{line:264,column:6}},82:{start:{line:267,column:27},end:{line:267,column:72}},83:{start:{line:268,column:35},end:{line:268,column:118}},84:{start:{line:268,column:80},end:{line:268,column:117}},85:{start:{line:271,column:4},end:{line:280,column:6}},86:{start:{line:278,column:33},end:{line:278,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:25},end:{line:15,column:5}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:33,column:3}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:25},end:{line:45,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:46,column:17},end:{line:46,column:18}},loc:{start:{line:46,column:23},end:{line:63,column:3}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:49,column:33},end:{line:49,column:34}},loc:{start:{line:49,column:45},end:{line:58,column:5}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:55,column:21},end:{line:55,column:22}},loc:{start:{line:55,column:33},end:{line:57,column:7}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:18},end:{line:86,column:3}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:37},end:{line:98,column:3}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:99,column:2},end:{line:99,column:3}},loc:{start:{line:99,column:32},end:{line:102,column:3}},line:99},9:{name:"(anonymous_9)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:46},end:{line:135,column:3}},line:103},10:{name:"getRequiredProps",decl:{start:{line:107,column:13},end:{line:107,column:29}},loc:{start:{line:107,column:37},end:{line:117,column:5}},line:107},11:{name:"withoutLayers",decl:{start:{line:122,column:13},end:{line:122,column:26}},loc:{start:{line:122,column:34},end:{line:128,column:5}},line:122},12:{name:"(anonymous_12)",decl:{start:{line:136,column:2},end:{line:136,column:3}},loc:{start:{line:136,column:32},end:{line:154,column:3}},line:136},13:{name:"(anonymous_13)",decl:{start:{line:145,column:50},end:{line:145,column:51}},loc:{start:{line:145,column:63},end:{line:150,column:9}},line:145},14:{name:"(anonymous_14)",decl:{start:{line:155,column:2},end:{line:155,column:3}},loc:{start:{line:155,column:11},end:{line:265,column:3}},line:155},15:{name:"(anonymous_15)",decl:{start:{line:159,column:26},end:{line:159,column:27}},loc:{start:{line:159,column:38},end:{line:210,column:5}},line:159},16:{name:"(anonymous_16)",decl:{start:{line:166,column:40},end:{line:166,column:41}},loc:{start:{line:166,column:47},end:{line:166,column:52}},line:166},17:{name:"(anonymous_17)",decl:{start:{line:175,column:21},end:{line:175,column:22}},loc:{start:{line:175,column:44},end:{line:209,column:7}},line:175},18:{name:"(anonymous_18)",decl:{start:{line:177,column:50},end:{line:177,column:51}},loc:{start:{line:177,column:61},end:{line:179,column:9}},line:177},19:{name:"(anonymous_19)",decl:{start:{line:268,column:53},end:{line:268,column:54}},loc:{start:{line:268,column:80},end:{line:268,column:117}},line:268},20:{name:"(anonymous_20)",decl:{start:{line:270,column:2},end:{line:270,column:3}},loc:{start:{line:270,column:11},end:{line:281,column:3}},line:270},21:{name:"(anonymous_21)",decl:{start:{line:278,column:27},end:{line:278,column:28}},loc:{start:{line:278,column:33},end:{line:278,column:38}},line:278}},branchMap:{0:{loc:{start:{line:52,column:6},end:{line:54,column:7}},type:"if",locations:[{start:{line:52,column:6},end:{line:54,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},1:{loc:{start:{line:72,column:8},end:{line:72,column:79}},type:"cond-expr",locations:[{start:{line:72,column:41},end:{line:72,column:75}},{start:{line:72,column:78},end:{line:72,column:79}}],line:72},2:{loc:{start:{line:78,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:78,column:6},end:{line:83,column:7}},{start:{line:81,column:13},end:{line:83,column:7}}],line:78},3:{loc:{start:{line:78,column:10},end:{line:78,column:81}},type:"binary-expr",locations:[{start:{line:78,column:10},end:{line:78,column:23}},{start:{line:78,column:27},end:{line:78,column:81}}],line:78},4:{loc:{start:{line:90,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:94,column:5}},{start:{line:92,column:11},end:{line:94,column:5}}],line:90},5:{loc:{start:{line:101,column:11},end:{line:101,column:50}},type:"cond-expr",locations:[{start:{line:101,column:34},end:{line:101,column:38}},{start:{line:101,column:41},end:{line:101,column:50}}],line:101},6:{loc:{start:{line:104,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},7:{loc:{start:{line:111,column:6},end:{line:115,column:7}},type:"if",locations:[{start:{line:111,column:6},end:{line:115,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:111},8:{loc:{start:{line:133,column:27},end:{line:133,column:52}},type:"binary-expr",locations:[{start:{line:133,column:27},end:{line:133,column:38}},{start:{line:133,column:42},end:{line:133,column:52}}],line:133},9:{loc:{start:{line:137,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:137,column:4},end:{line:153,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:137},10:{loc:{start:{line:139,column:6},end:{line:152,column:7}},type:"if",locations:[{start:{line:139,column:6},end:{line:152,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:139},11:{loc:{start:{line:139,column:10},end:{line:139,column:51}},type:"binary-expr",locations:[{start:{line:139,column:10},end:{line:139,column:26}},{start:{line:139,column:30},end:{line:139,column:51}}],line:139},12:{loc:{start:{line:147,column:10},end:{line:149,column:11}},type:"if",locations:[{start:{line:147,column:10},end:{line:149,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},13:{loc:{start:{line:147,column:14},end:{line:147,column:68}},type:"binary-expr",locations:[{start:{line:147,column:14},end:{line:147,column:32}},{start:{line:147,column:36},end:{line:147,column:68}}],line:147},14:{loc:{start:{line:161,column:6},end:{line:174,column:7}},type:"if",locations:[{start:{line:161,column:6},end:{line:174,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:161},15:{loc:{start:{line:168,column:22},end:{line:168,column:98}},type:"binary-expr",locations:[{start:{line:168,column:22},end:{line:168,column:57}},{start:{line:168,column:61},end:{line:168,column:98}}],line:168},16:{loc:{start:{line:178,column:17},end:{line:178,column:96}},type:"binary-expr",locations:[{start:{line:178,column:17},end:{line:178,column:29}},{start:{line:178,column:33},end:{line:178,column:62}},{start:{line:178,column:66},end:{line:178,column:96}}],line:178},17:{loc:{start:{line:181,column:8},end:{line:183,column:9}},type:"if",locations:[{start:{line:181,column:8},end:{line:183,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:181},18:{loc:{start:{line:188,column:52},end:{line:188,column:153}},type:"binary-expr",locations:[{start:{line:188,column:52},end:{line:188,column:69}},{start:{line:188,column:73},end:{line:188,column:112}},{start:{line:188,column:116},end:{line:188,column:153}}],line:188},19:{loc:{start:{line:189,column:53},end:{line:189,column:105}},type:"binary-expr",locations:[{start:{line:189,column:53},end:{line:189,column:84}},{start:{line:189,column:88},end:{line:189,column:105}}],line:189},20:{loc:{start:{line:197,column:25},end:{line:197,column:43}},type:"binary-expr",locations:[{start:{line:197,column:25},end:{line:197,column:37}},{start:{line:197,column:41},end:{line:197,column:43}}],line:197},21:{loc:{start:{line:241,column:26},end:{line:241,column:96}},type:"cond-expr",locations:[{start:{line:241,column:69},end:{line:241,column:82}},{start:{line:241,column:85},end:{line:241,column:96}}],line:241}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAmNoB,cAoEd,YApEc;AAnNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AACrD,SAA0B,uBAAuB;AAuBjD,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,UAAM,IAAI,KAAK,MAAM;AAErB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,aAAa;AAAA,QAC3B,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAoC,YAAE,QAAQ,GAAE;AAAA,YAChE,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OACnC,EAAE,UAAU,IAEZ,EAAE,QAAQ;AAAA;AAAA,YAEd,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACT,YAAE,WAAW;AAAA;AAAA,YAChB,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAY,EAAE,aAAa;AAAA,cAE3B,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAQA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AAEvE,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e544c04a7b56f1c8f5a1b9c28e156fb038263492"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Jt=function(){return s},s}Jt();class NQ extends kn.Component{constructor(t){Jt().f[1]++,Jt().s[1]++;super(t);pn(this,"selectedItemRef");pn(this,"scrollContainerRef");pn(this,"toggleLayers",(Jt().s[6]++,()=>{Jt().f[3]++;let t=(Jt().s[7]++,0);const r=(Jt().s[8]++,{});Jt().s[9]++,this.groupedLayers().forEach(i=>{Jt().f[4]++;const o=(Jt().s[10]++,Gy(i[0].id)),s=(Jt().s[11]++,[o,t].join("-"));Jt().s[12]++,i.length>1?(Jt().b[0][0]++,Jt().s[13]++,r[s]=this.state.areAllGroupsExpanded):Jt().b[0][1]++,Jt().s[14]++,i.forEach(a=>{Jt().f[5]++,Jt().s[15]++,t+=1})}),Jt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));Jt().s[2]++,this.selectedItemRef=kn.createRef(),Jt().s[3]++,this.scrollContainerRef=kn.createRef(),Jt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+Fv()},isOpen:{add:!1}}}toggleModal(t){Jt().f[2]++,Jt().s[5]++,this.setState({keys:{...this.state.keys,[t]:+Fv()},isOpen:{...this.state.isOpen,[t]:!this.state.isOpen[t]}})}groupedLayers(){Jt().f[6]++;const t=(Jt().s[17]++,[]),r=(Jt().s[18]++,new Map);Jt().s[19]++;for(let i=(Jt().s[20]++,0);i<this.props.layers.length;i++){const o=(Jt().s[21]++,this.props.layers[i]),s=(Jt().s[22]++,this.props.layers[i-1]);Jt().s[23]++,r.set(o.id,r.has(o.id)?(Jt().b[1][0]++,r.get(o.id)+1):(Jt().b[1][1]++,0));const a=(Jt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(Jt().s[25]++,Jt().b[3][0]++,s&&(Jt().b[3][1]++,Gy(s.id)==Gy(a.id))){Jt().b[2][0]++;const f=(Jt().s[26]++,t[t.length-1]);Jt().s[27]++,f.push(a)}else Jt().b[2][1]++,Jt().s[28]++,t.push([a])}return Jt().s[29]++,t}toggleLayerGroup(t,r){Jt().f[7]++;const i=(Jt().s[30]++,[t,r].join("-")),o=(Jt().s[31]++,{...this.state.collapsedGroups});Jt().s[32]++,i in this.state.collapsedGroups?(Jt().b[4][0]++,Jt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(Jt().b[4][1]++,Jt().s[34]++,o[i]=!1),Jt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(t,r){Jt().f[8]++;const i=(Jt().s[36]++,this.state.collapsedGroups[[t,r].join("-")]);return Jt().s[37]++,i===void 0?(Jt().b[5][0]++,!0):(Jt().b[5][1]++,i)}shouldComponentUpdate(t,r){if(Jt().f[9]++,Jt().s[38]++,this.state!==r)return Jt().b[6][0]++,Jt().s[39]++,!0;Jt().b[6][1]++;function i(m){Jt().f[10]++;const C=(Jt().s[40]++,{id:m.id});return Jt().s[41]++,m.layout?(Jt().b[7][0]++,Jt().s[42]++,C.layout={visibility:m.layout.visibility}):Jt().b[7][1]++,Jt().s[43]++,C}const o=(Jt().s[44]++,tB.isEqual(t.layers.map(i),this.props.layers.map(i)));function s(m){Jt().f[11]++;const C=(Jt().s[45]++,{...m});return Jt().s[46]++,delete C.layers,Jt().s[47]++,C}const a=(Jt().s[48]++,tB.isEqual(s(this.props),s(t))),f=(Jt().s[49]++,Jt().b[8][0]++,!(o&&(Jt().b[8][1]++,a)));return Jt().s[50]++,f}componentDidUpdate(t){if(Jt().f[12]++,Jt().s[51]++,t.selectedLayerIndex!==this.props.selectedLayerIndex){Jt().b[9][0]++;const r=(Jt().s[52]++,this.selectedItemRef.current);if(Jt().s[53]++,Jt().b[11][0]++,r&&(Jt().b[11][1]++,r.node)){Jt().b[10][0]++;const i=(Jt().s[54]++,r.node),o=(Jt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),s=(Jt().s[56]++,new IntersectionObserver(a=>{Jt().f[13]++,Jt().s[57]++,s.unobserve(i),Jt().s[58]++,Jt().b[13][0]++,a.length>0&&(Jt().b[13][1]++,a[0].intersectionRatio<1)?(Jt().b[12][0]++,Jt().s[59]++,i.scrollIntoView()):Jt().b[12][1]++},o));Jt().s[60]++,s.observe(i)}else Jt().b[10][1]++}else Jt().b[9][1]++}render(){Jt().f[14]++;const t=(Jt().s[61]++,[]);let r=(Jt().s[62]++,0);const i=(Jt().s[63]++,this.groupedLayers());Jt().s[64]++,i.forEach(s=>{Jt().f[15]++;const a=(Jt().s[65]++,Gy(s[0].id));if(Jt().s[66]++,s.length>1){Jt().b[14][0]++;const f=(Jt().s[67]++,Y.jsx(jfe,{"data-wd-key":[a,r].join("-"),"aria-controls":s.map(m=>(Jt().f[16]++,Jt().s[68]++,m.key)).join(" "),title:a,isActive:(Jt().b[15][0]++,!this.isCollapsed(a,r)||(Jt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,a,r)},`group-${a}-${r}`));Jt().s[69]++,t.push(f)}else Jt().b[14][1]++;Jt().s[70]++,s.forEach((f,m)=>{var L;Jt().f[17]++;const C=(Jt().s[71]++,K0e(this.props.layers,r)),k=(Jt().s[72]++,this.props.errors.find(q=>(Jt().f[18]++,Jt().s[73]++,Jt().b[16][0]++,q.parsed&&(Jt().b[16][1]++,q.parsed.type==="layer")&&(Jt().b[16][2]++,q.parsed.data.index==r)))),I=(Jt().s[74]++,{});Jt().s[75]++,r===this.props.selectedLayerIndex?(Jt().b[17][0]++,Jt().s[76]++,I.ref=this.selectedItemRef):Jt().b[17][1]++;const K=(Jt().s[77]++,Y.jsx(vpe,{className:yp({"maputnik-layer-list-item-collapsed":(Jt().b[18][0]++,s.length>1&&(Jt().b[18][1]++,this.isCollapsed(a,C))&&(Jt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(Jt().b[19][0]++,m==s.length-1&&(Jt().b[19][1]++,s.length>1)),"maputnik-layer-list-item--error":!!k}),index:r,id:f.key,layerId:f.id,layerIndex:r,layerType:f.type,visibility:(Jt().b[20][0]++,f.layout||(Jt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(L=this.props.onLayerDestroy)==null?void 0:L.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...I},f.key));Jt().s[78]++,t.push(K),Jt().s[79]++,r+=1})});const o=(Jt().s[80]++,this.props.t);return Jt().s[81]++,Y.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":o("Layers list"),ref:this.scrollContainerRef,children:[Y.jsx(k0e,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),Y.jsxs("header",{className:"maputnik-layer-list-header",children:[Y.jsx("span",{className:"maputnik-layer-list-header-title",children:o("Layers")}),Y.jsx("span",{className:"maputnik-space"}),Y.jsx("div",{className:"maputnik-default-property",children:Y.jsx("div",{className:"maputnik-multibutton",children:Y.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(Jt().b[21][0]++,o("Collapse")):(Jt().b[21][1]++,o("Expand"))})})}),Y.jsx("div",{className:"maputnik-default-property",children:Y.jsx("div",{className:"maputnik-multibutton",children:Y.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:o("Add Layer")})})})]}),Y.jsx("div",{role:"navigation","aria-label":o("Layers list"),children:Y.jsx("ul",{className:"maputnik-layer-list-container",children:t})})]})}}pn(NQ,"defaultProps",(Jt().s[0]++,{onLayerSelect:()=>{Jt().f[0]++}}));const D0e=(Jt().s[82]++,qo()(NQ)),L0e=(Jt().s[83]++,ppe(n=>(Jt().f[19]++,Jt().s[84]++,Y.jsx(D0e,{...n}))));class F0e extends kn.Component{render(){return Jt().f[20]++,Jt().s[85]++,Y.jsx(L0e,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(Jt().f[21]++,Jt().s[86]++,!1)})}}var EM={},WQ="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function R0e(n,e){EM[n]=e}function U0e(n){delete EM[n]}function j0e(n,e){var t=EM[n];if(!t)throw new Error("Cannot open "+WQ);t.openMenu(e)}function z0e(n,e){var t=EM[n];if(!t)throw new Error("Cannot close "+WQ);t.closeMenu(e)}var GQ={registerManager:R0e,unregisterManager:U0e,openMenu:j0e,closeMenu:z0e};function Fs(n){n=n||{};var e=n.keybindings||{};this._settings={keybindings:{next:e.next||{keyCode:40},prev:e.prev||{keyCode:38},first:e.first,last:e.last},wrap:n.wrap,stringSearch:n.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var t,r;for(t in this._settings.keybindings)r=this._settings.keybindings[t],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:t,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],n.members&&this.setMembers(n.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Fs.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Fs.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Fs.prototype._handleKeydownEvent=function(n){var e=this._getActiveElementIndex();if(e!==-1){var t=!1;this._keybindingsLookup.forEach((function(r){if(N0e(r.eventMatcher,n))switch(t=!0,n.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),t||this._handleUnboundKey(n)}};Fs.prototype.moveFocusForward=function(){var n=this._getActiveElementIndex(),e;return n<this._members.length-1?e=n+1:this._settings.wrap?e=0:e=n,this.focusNodeAtIndex(e),e};Fs.prototype.moveFocusBack=function(){var n=this._getActiveElementIndex(),e;return n>0?e=n-1:this._settings.wrap?e=this._members.length-1:e=n,this.focusNodeAtIndex(e),e};Fs.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Fs.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Fs.prototype._handleUnboundKey=function(n){if(this._settings.stringSearch){if(this._searchString!==""&&(n.key===" "||n.keyCode===32))return n.preventDefault(),-1;if(!W0e(n.keyCode)||n.ctrlKey||n.metaKey||n.altKey)return-1;n.preventDefault(),this._addToSearchString(String.fromCharCode(n.keyCode)),this._runStringSearch()}};Fs.prototype._clearSearchString=function(){this._searchString=""};Fs.prototype._addToSearchString=function(n){this._searchString+=n.toLowerCase()};Fs.prototype._startSearchStringRefreshTimer=function(){var n=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){n._clearSearchString()},this._settings.stringSearchDelay)};Fs.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Fs.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Fs.prototype.moveFocusByString=function(n){for(var e,t=0,r=this._members.length;t<r;t++)if(e=this._members[t],!!e.text&&e.text.indexOf(n)===0)return QQ(e.node)};Fs.prototype._findIndexOfNode=function(n){for(var e=0,t=this._members.length;e<t;e++)if(this._members[e].node===n)return e;return-1};Fs.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Fs.prototype.focusNodeAtIndex=function(n){var e=this._members[n];return e&&QQ(e.node),this};Fs.prototype.addMember=function(n,e){var t=n.node||n,r=n.text||t.getAttribute("data-focus-group-text")||t.textContent||"";this._checkNode(t);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:t,text:i};return e!=null?this._members.splice(e,0,o):this._members.push(o),this};Fs.prototype.removeMember=function(n){var e=typeof n=="number"?n:this._findIndexOfNode(n);if(e!==-1)return this._members.splice(e,1),this};Fs.prototype.clearMembers=function(){return this._members=[],this};Fs.prototype.setMembers=function(n){this.clearMembers();for(var e=0,t=n.length;e<t;e++)this.addMember(n[e]);return this};Fs.prototype.getMembers=function(){return this._members};Fs.prototype._checkNode=function(n){if(!n.nodeType||n.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return n};function N0e(n,e){for(var t in n)if(e[t]!==void 0&&n[t]!==e[t])return!1;return!0}function W0e(n){return n>=65&&n<=90}function QQ(n){!n||!n.focus||(n.focus(),n.tagName.toLowerCase()==="input"&&n.select())}var G0e=function(e){return new Fs(e)},Q0e=G0e,nL=GQ,$0e={wrap:!0,stringSearch:!0},Y0e={init:function(e){this.updateOptions(e),this.handleBlur=q0e.bind(this),this.handleSelection=V0e.bind(this),this.handleMenuKey=H0e.bind(this),this.focusGroup=Q0e($0e),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(e){var t=this.options;this.options=e||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&nL.registerManager(this.options.id,this),t&&t.id&&t.id!==this.options.id&&nL.unregisterManager(this.options.id,this)},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleUnboundKey(e)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen&&(e=e||{},e.focusMenu===void 0&&(e.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),e.focusMenu)){var t=this;this.moveFocusTimer=setTimeout(function(){t.focusItem(0)},0)}},closeMenu:function(e){this.isOpen&&(e=e||{},this.isOpen=!1,this.update(),e.focusButton&&this.button.ref.current.focus())},toggleMenu:function(e,t){e=e||{},t=t||{},this.isOpen?this.closeMenu(e):this.openMenu(t)}};function q0e(){var n=this;n.blurTimer=setTimeout(function(){if(n.button){var e=n.button.ref.current;if(e){var t=e.ownerDocument.activeElement;if(!(e&&t===e)){var r=n.menu.ref.current;if(r===t){n.focusItem(0);return}r&&r.contains(t)||n.isOpen&&n.closeMenu({focusButton:!1})}}}},0)}function V0e(n,e){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(n,e)}function H0e(n){if(this.isOpen)switch(n.key){case"Escape":n.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":n.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":n.preventDefault(),this.focusGroup.moveFocusToLast();break}}var Z0e=function(n){var e=Object.create(Y0e);return e.init(n),e},X0e=$n,J0e=X0e.createContext(),OM=J0e,j3=vf,BM={refType:j3.oneOfType([j3.func,j3.shape({current:j3.elementType})])},IM=function(n,e,t){t=t||{};for(var r in e)e.hasOwnProperty(r)&&(t[r]||(n[r]=e[r]))};function ege(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tge(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function nge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var YC=$n,oy=vf,rge=Z0e,ige=OM,oge=BM,age=oge.refType,M8=IM,e5={children:oy.node.isRequired,forwardedRef:age,onMenuToggle:oy.func,onSelection:oy.func,closeOnSelection:oy.bool,closeOnBlur:oy.bool,tag:oy.string},rL=function(e){return{onMenuToggle:e.onMenuToggle,onSelection:e.onSelection,closeOnSelection:e.closeOnSelection,closeOnBlur:e.closeOnBlur,id:e.id}},Vk=function(n){nge(e,n);function e(t){ege(this,e);var r=tge(this,n.call(this,t));return r.manager=rge(rL(t)),r}return e.prototype.componentDidUpdate=function(){this.manager.updateOptions(rL(this.props))},e.prototype.render=function(){var r={};return M8(r,this.props,e5),YC.createElement(ige.Provider,{value:this.manager},YC.createElement(this.props.tag,r,this.props.children))},e}(YC.Component);Vk.propTypes=e5;Vk.defaultProps={tag:"div"};var sge=YC.forwardRef(function(n,e){var t={forwardedRef:e};return M8(t,n,{children:e5.children,forwardedRef:e5.forwardedRef}),M8(t,{forwardedRef:e}),YC.createElement(Vk,t,n.children)});function lge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function uge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Av=$n,z3=vf,Age=OM,cge=BM,hge=cge.refType,C4=IM,qC={ambManager:z3.object.isRequired,children:z3.node.isRequired,disabled:z3.bool,forwardedRef:hge,tag:z3.string},dge=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},Hk=function(n){uge(e,n);function e(){var t,r,i;lge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=iL(this,n.call.apply(n,[this].concat(s))),r),r.ref=Av.createRef(),r.handleKeyDown=function(f){if(!r.props.disabled){var m=r.props.ambManager;switch(f.key){case"ArrowDown":f.preventDefault(),m.isOpen?m.focusItem(0):m.openMenu();break;case"Enter":case" ":f.preventDefault(),m.toggleMenu();break;case"Escape":m.handleMenuKey(f);break;default:m.handleButtonNonArrowKey(f)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),iL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.button=this},e.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},s={};return C4(s,qC),dge().indexOf(r.tag)>=0&&delete s.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),C4(o,r,s),C4(o,{ref:this.setRef}),Av.createElement(r.tag,o,r.children)},e}(Av.Component);Hk.propTypes=qC;Hk.defaultProps={tag:"span"};var fge=Av.forwardRef(function(n,e){return Av.createElement(Age.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return C4(r,n,{ambManager:qC.ambManager,children:qC.children,forwardedRef:qC.forwardedRef}),Av.createElement(Hk,r,n.children)})}),pge=function(e,t,r){var i=0,o=0,s=!1,a=!1,f=!1;e.addEventListener("click",m,r),e.addEventListener("touchstart",C,r);function m(X){f||t(X)}function C(X){f=!0,!s&&(s=!0,e.addEventListener("touchmove",k,r),e.addEventListener("touchend",I,r),e.addEventListener("touchcancel",K,r),a=!1,i=X.touches[0].clientX,o=X.touches[0].clientY)}function k(X){a||Math.abs(X.touches[0].clientX-i)<=10&&Math.abs(X.touches[0].clientY-o)<=10||(a=!0)}function I(X){s=!1,L(),a||t(X)}function K(){s=!1,a=!1,i=0,o=0}function L(){e.removeEventListener("touchmove",k,r),e.removeEventListener("touchend",I,r),e.removeEventListener("touchcancel",K,r)}function q(){e.removeEventListener("click",m,r),e.removeEventListener("touchstart",C,r),L()}return{remove:q}};function mge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function gge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var cv=$n,iC=vf,yge=pge,vge=OM,_ge=BM,Cge=_ge.refType,S8=IM,VC={ambManager:iC.object.isRequired,children:iC.oneOfType([iC.func,iC.node]).isRequired,forwardedRef:Cge,tag:iC.string},Zk=function(n){gge(e,n);function e(){var t,r,i;mge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=oL(this,n.call.apply(n,[this].concat(s))),r),r.ref=cv.createRef(),r.addTapListener=function(){var f=r.ref.current;if(f){var m=f.ownerDocument;m&&(r.tapListener=yge(m.documentElement,r.handleTap))}},r.handleTap=function(f){r.ref.current.contains(f.target)||r.props.ambManager.button.ref.current.contains(f.target)||r.props.ambManager.closeMenu()},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),oL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.menu=this},e.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},e.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var s={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(s.onBlur=i.handleBlur),S8(s,r,VC),S8(s,{ref:this.setRef}),cv.createElement(r.tag,s,o)},e}(cv.Component);Zk.propTypes=VC;Zk.defaultProps={tag:"div"};var bge=cv.forwardRef(function(n,e){return cv.createElement(vge.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return S8(r,n,{ambManager:VC.ambManager,children:VC.children,forwardedRef:VC.forwardedRef}),cv.createElement(Zk,r,n.children)})});function xge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function aL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function wge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var hv=$n,oC=vf,Mge=OM,Sge=BM,Ege=Sge.refType,$Q=IM,HC={ambManager:oC.object.isRequired,children:oC.node.isRequired,forwardedRef:Ege,tag:oC.string,text:oC.string,value:oC.any},Xk=function(n){wge(e,n);function e(){var t,r,i;xge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=aL(this,n.call.apply(n,[this].concat(s))),r),r.ref=hv.createRef(),r.handleKeyDown=function(f){f.key!=="Enter"&&f.key!==" "||r.props.tag==="a"&&r.props.href||(f.preventDefault(),r.selectItem(f))},r.selectItem=function(f){var m=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(m,f)},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),aL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},e.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return $Q(r,this.props,HC),hv.createElement(this.props.tag,r,this.props.children)},e}(hv.Component);Xk.propTypes=HC;Xk.defaultProps={tag:"div"};var Oge=hv.forwardRef(function(n,e){return hv.createElement(Mge.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return $Q(r,n,{ambManager:HC.ambManager,children:HC.children,forwardedRef:HC.forwardedRef}),hv.createElement(Xk,r,n.children)})}),sL=GQ,N3={Wrapper:sge,Button:fge,Menu:bge,MenuItem:Oge,openMenu:sL.openMenu,closeMenu:sL.closeMenu};function lL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function E8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(t),!0).forEach(function(r){bs(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TM(n,e,t){return e&&uL(n.prototype,e),t&&uL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function bs(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vp(){return vp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vp.apply(this,arguments)}function Jk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O8(n,e)}function t5(n){return t5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t5(n)}function O8(n,e){return O8=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},O8(n,e)}function Bge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ige(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function PM(n,e){if(n==null)return{};var t=Ige(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function cf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kge(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cf(n)}function eT(n){var e=Bge();return function(){var r=t5(n),i;if(e){var o=t5(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kge(this,i)}}function Tge(n,e){return Dge(n)||Fge(n,e)||YQ(n,e)||Uge()}function Pge(n){return Kge(n)||Lge(n)||YQ(n)||Rge()}function Kge(n){if(Array.isArray(n))return B8(n)}function Dge(n){if(Array.isArray(n))return n}function Lge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Fge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,a=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function YQ(n,e){if(n){if(typeof n=="string")return B8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B8(n,e)}}function B8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jge=TM(function n(e){var t=this,r=e.expanded,i=r===void 0?[]:r,o=e.allowMultipleExpanded,s=o===void 0?!1:o,a=e.allowZeroExpanded,f=a===void 0?!1:a;kM(this,n),bs(this,"expanded",void 0),bs(this,"allowMultipleExpanded",void 0),bs(this,"allowZeroExpanded",void 0),bs(this,"toggleExpanded",function(m){if(t.isItemDisabled(m))return t;var C=t.isItemExpanded(m);return C?t.augment({expanded:t.expanded.filter(function(k){return k!==m})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(Pge(t.expanded),[m]):[m]})}),bs(this,"isItemDisabled",function(m){var C=t.isItemExpanded(m),k=t.expanded.length===1;return!!(C&&!t.allowZeroExpanded&&k)}),bs(this,"isItemExpanded",function(m){return t.expanded.indexOf(m)!==-1}),bs(this,"getPanelAttributes",function(m,C){var k=C??t.isItemExpanded(m);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!k:void 0,"aria-labelledby":t.getButtonId(m),id:t.getPanelId(m),hidden:k?void 0:!0}}),bs(this,"getHeadingAttributes",function(){return{role:"heading"}}),bs(this,"getButtonAttributes",function(m,C){var k=C??t.isItemExpanded(m),I=t.isItemDisabled(m);return{id:t.getButtonId(m),"aria-disabled":I,"aria-expanded":k,"aria-controls":t.getPanelId(m),role:"button",tabIndex:0}}),bs(this,"getPanelId",function(m){return"accordion__panel-".concat(m)}),bs(this,"getButtonId",function(m){return"accordion__heading-".concat(m)}),bs(this,"augment",function(m){return new n(E8({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},m))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=f}),qQ=$n.createContext(null),VQ=function(n){Jk(t,n);var e=eT(t);function t(){var r;kM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(cf(r),"state",new jge({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),bs(cf(r),"toggleExpanded",function(a){r.setState(function(f){return f.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),bs(cf(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),bs(cf(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),bs(cf(r),"getPanelAttributes",function(a,f){return r.state.getPanelAttributes(a,f)}),bs(cf(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),bs(cf(r),"getButtonAttributes",function(a,f){return r.state.getButtonAttributes(a,f)}),r}return TM(t,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return $n.createElement(qQ.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}($n.PureComponent);bs(VQ,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var HQ=function(n){Jk(t,n);var e=eT(t);function t(){var r;kM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(cf(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return TM(t,[{key:"render",value:function(){return $n.createElement(qQ.Consumer,null,this.renderChildren)}}]),t}($n.PureComponent),zge=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],Nge=function(e){var t=e.className,r=t===void 0?"accordion":t,i=e.allowMultipleExpanded,o=e.allowZeroExpanded,s=e.onChange,a=e.preExpanded,f=PM(e,zge);return $n.createElement(VQ,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},$n.createElement("div",vp({"data-accordion-component":"Accordion",className:r},f)))},I8;(function(n){n.Accordion="Accordion",n.AccordionItem="AccordionItem",n.AccordionItemButton="AccordionItemButton",n.AccordionItemHeading="AccordionItemHeading",n.AccordionItemPanel="AccordionItemPanel"})(I8||(I8={}));var ZQ=I8,B6=0;function Wge(){var n=B6;return B6=B6+1,"raa-".concat(n)}var Gge=$n.useId||Wge,Qge=/[\u0009\u000a\u000c\u000d\u0020]/g;function Wb(n){return n===""||Qge.test(n)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(n,'", ASCII whitespaces are forbidden')),!1):!0}var XQ=$n.createContext(null),$ge=function(e){var t=e.children,r=e.uuid,i=e.accordionContext,o=e.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(m){var C=o??m.isItemExpanded(r),k=m.isItemDisabled(r),I=m.getPanelAttributes(r,o),K=m.getHeadingAttributes(r),L=m.getButtonAttributes(r,o);return $n.createElement(XQ.Provider,{value:{uuid:r,expanded:C,disabled:k,toggleExpanded:s,panelAttributes:I,headingAttributes:K,buttonAttributes:L}},t)};return $n.createElement(HQ,null,a)},Yge=function(e){return $n.createElement(HQ,null,function(t){return $n.createElement($ge,vp({},e,{accordionContext:t}))})},KM=function(e){var t=e.children,r=function(o){return o?t(o):null};return $n.createElement(XQ.Consumer,null,r)},qge=["uuid","dangerouslySetExpanded","className","activeClassName"],JQ=function(e){var t=e.uuid,r=e.dangerouslySetExpanded,i=e.className,o=i===void 0?"accordion__item":i,s=e.activeClassName,a=PM(e,qge),f=$n.useState(Gge()),m=Tge(f,1),C=m[0],k=t??C,I=function(L){var q=L.expanded,X=q&&s?s:o;return $n.createElement("div",vp({"data-accordion-component":"AccordionItem",className:X},a))};return Wb(k.toString()),a.id&&Wb(a.id),$n.createElement(Yge,{uuid:k,dangerouslySetExpanded:r},$n.createElement(KM,null,I))};JQ.displayName=ZQ.AccordionItem;function e$(n){return n&&(n.matches('[data-accordion-component="Accordion"]')?n:e$(n.parentElement))}function DM(n){var e=e$(n);return e&&Array.from(e.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Vge(n){var e=DM(n)||[],t=e[0];t&&t.focus()}function Hge(n){var e=DM(n)||[],t=e[e.length-1];t&&t.focus()}function Zge(n){var e=DM(n)||[],t=e.indexOf(n);if(t!==-1){var r=e[t+1];r&&r.focus()}}function Xge(n){var e=DM(n)||[],t=e.indexOf(n);if(t!==-1){var r=e[t-1];r&&r.focus()}}var Hp={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},Jge=["toggleExpanded","className"],e1e=function(e){var t=e.toggleExpanded,r=e.className,i=r===void 0?"accordion__button":r,o=PM(e,Jge),s=function(f){var m=f.key;if((m===Hp.ENTER||m===Hp.SPACE||m===Hp.SPACE_DEPRECATED)&&(f.preventDefault(),t()),f.target instanceof HTMLElement)switch(m){case Hp.HOME:{f.preventDefault(),Vge(f.target);break}case Hp.END:{f.preventDefault(),Hge(f.target);break}case Hp.LEFT:case Hp.UP:{f.preventDefault(),Xge(f.target);break}case Hp.RIGHT:case Hp.DOWN:{f.preventDefault(),Zge(f.target);break}}};return o.id&&Wb(o.id),$n.createElement("div",vp({className:i},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},t1e=function(e){return $n.createElement(KM,null,function(t){var r=t.toggleExpanded,i=t.buttonAttributes;return $n.createElement(e1e,vp({toggleExpanded:r},e,i))})},n1e={className:"accordion__heading","aria-level":3},r1e=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,t$=function(n){Jk(t,n);var e=eT(t);function t(){var r;kM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(cf(r),"ref",void 0),bs(cf(r),"setRef",function(a){r.ref=a}),r}return TM(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return $n.createElement("div",vp({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(r1e)}}]),t}($n.PureComponent);bs(t$,"defaultProps",n1e);var n$=function(e){return $n.createElement(KM,null,function(t){var r=t.headingAttributes;return e.id&&Wb(e.id),$n.createElement(t$,vp({},e,r))})};n$.displayName=ZQ.AccordionItemHeading;var i1e=["className","region","id"],o1e=function(e){var t=e.className,r=t===void 0?"accordion__panel":t,i=e.region,o=e.id,s=PM(e,i1e),a=function(m){var C=m.panelAttributes;o&&Wb(o);var k=E8(E8({},C),{},{"aria-labelledby":i?C["aria-labelledby"]:void 0});return $n.createElement("div",vp({"data-accordion-component":"AccordionItemPanel",className:r},s,k,{role:i?"region":void 0}))};return $n.createElement(KM,null,a)},I6={exports:{}},AL;function LM(){return AL||(AL=1,function(n,e){(function(t,r){n.exports=r()})(Cp,function(){var t=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),f=o||s||a,m=f&&(o?document.documentMode||6:+(a||s)[1]),C=!a&&/WebKit\//.test(t),k=C&&/Qt\/\d+\.\d+/.test(t),I=!a&&/Chrome\/(\d+)/.exec(t),K=I&&+I[1],L=/Opera\//.test(t),q=/Apple Computer/.test(navigator.vendor),X=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),H=/PhantomJS/.test(t),G=q&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),ee=/Android/.test(t),ne=G||ee||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),se=G||/Mac/.test(r),Ae=/\bCrOS\b/.test(t),V=/win/i.test(r),re=L&&t.match(/Version\/(\d*\.\d*)/);re&&(re=Number(re[1])),re&&re>=15&&(L=!1,C=!0);var be=se&&(k||L&&(re==null||re<12.11)),_e=i||f&&m>=9;function Pe(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var Ue=function(A,g){var M=A.className,w=Pe(g).exec(M);if(w){var P=M.slice(w.index+w[0].length);A.className=M.slice(0,w.index)+(P?w[1]+P:"")}};function pe(A){for(var g=A.childNodes.length;g>0;--g)A.removeChild(A.firstChild);return A}function Ye(A,g){return pe(A).appendChild(g)}function we(A,g,M,w){var P=document.createElement(A);if(M&&(P.className=M),w&&(P.style.cssText=w),typeof g=="string")P.appendChild(document.createTextNode(g));else if(g)for(var j=0;j<g.length;++j)P.appendChild(g[j]);return P}function pt(A,g,M,w){var P=we(A,g,M,w);return P.setAttribute("role","presentation"),P}var wt;document.createRange?wt=function(A,g,M,w){var P=document.createRange();return P.setEnd(w||A,M),P.setStart(A,g),P}:wt=function(A,g,M){var w=document.body.createTextRange();try{w.moveToElementText(A.parentNode)}catch{return w}return w.collapse(!0),w.moveEnd("character",M),w.moveStart("character",g),w};function ft(A,g){if(g.nodeType==3&&(g=g.parentNode),A.contains)return A.contains(g);do if(g.nodeType==11&&(g=g.host),g==A)return!0;while(g=g.parentNode)}function bt(A){var g=A.ownerDocument||A,M;try{M=A.activeElement}catch{M=g.body||null}for(;M&&M.shadowRoot&&M.shadowRoot.activeElement;)M=M.shadowRoot.activeElement;return M}function $e(A,g){var M=A.className;Pe(g).test(M)||(A.className+=(M?" ":"")+g)}function tt(A,g){for(var M=A.split(" "),w=0;w<M.length;w++)M[w]&&!Pe(M[w]).test(g)&&(g+=" "+M[w]);return g}var nt=function(A){A.select()};G?nt=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:f&&(nt=function(A){try{A.select()}catch{}});function en(A){return A.display.wrapper.ownerDocument}function tn(A){return St(A.display.wrapper)}function St(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function Xt(A){return en(A).defaultView}function Nt(A){var g=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,g)}}function Fe(A,g,M){g||(g={});for(var w in A)A.hasOwnProperty(w)&&(M!==!1||!g.hasOwnProperty(w))&&(g[w]=A[w]);return g}function ye(A,g,M,w,P){g==null&&(g=A.search(/[^\s\u00a0]/),g==-1&&(g=A.length));for(var j=w||0,Z=P||0;;){var le=A.indexOf("	",j);if(le<0||le>=g)return Z+(g-j);Z+=le-j,Z+=M-Z%M,j=le+1}}var ke=function(){this.id=null,this.f=null,this.time=0,this.handler=Nt(this.onTimeout,this)};ke.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},ke.prototype.set=function(A,g){this.f=g;var M=+new Date+A;(!this.id||M<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=M)};function Ge(A,g){for(var M=0;M<A.length;++M)if(A[M]==g)return M;return-1}var st=50,ht={toString:function(){return"CodeMirror.Pass"}},Bt={scroll:!1},nn={origin:"*mouse"},Gt={origin:"+move"};function zn(A,g,M){for(var w=0,P=0;;){var j=A.indexOf("	",w);j==-1&&(j=A.length);var Z=j-w;if(j==A.length||P+Z>=g)return w+Math.min(Z,g-P);if(P+=j-w,P+=M-P%M,w=j+1,P>=g)return w}}var rr=[""];function xn(A){for(;rr.length<=A;)rr.push(Zn(rr)+" ");return rr[A]}function Zn(A){return A[A.length-1]}function yr(A,g){for(var M=[],w=0;w<A.length;w++)M[w]=g(A[w],w);return M}function Mr(A,g,M){for(var w=0,P=M(g);w<A.length&&M(A[w])<=P;)w++;A.splice(w,0,g)}function Or(){}function Jr(A,g){var M;return Object.create?M=Object.create(A):(Or.prototype=A,M=new Or),g&&Fe(g,M),M}var _r=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function gi(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||_r.test(A))}function Te(A,g){return g?g.source.indexOf("\\w")>-1&&gi(A)?!0:g.test(A):gi(A)}function te(A){for(var g in A)if(A.hasOwnProperty(g)&&A[g])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function je(A){return A.charCodeAt(0)>=768&&oe.test(A)}function Ct(A,g,M){for(;(M<0?g>0:g<A.length)&&je(A.charAt(g));)g+=M;return g}function Lt(A,g,M){for(var w=g>M?-1:1;;){if(g==M)return g;var P=(g+M)/2,j=w<0?Math.ceil(P):Math.floor(P);if(j==g)return A(j)?g:M;A(j)?M=j:g=j+w}}function jt(A,g,M,w){if(!A)return w(g,M,"ltr",0);for(var P=!1,j=0;j<A.length;++j){var Z=A[j];(Z.from<M&&Z.to>g||g==M&&Z.to==g)&&(w(Math.max(Z.from,g),Math.min(Z.to,M),Z.level==1?"rtl":"ltr",j),P=!0)}P||w(g,M,"ltr")}var cr=null;function Re(A,g,M){var w;cr=null;for(var P=0;P<A.length;++P){var j=A[P];if(j.from<g&&j.to>g)return P;j.to==g&&(j.from!=j.to&&M=="before"?w=P:cr=P),j.from==g&&(j.from!=j.to&&M!="before"?w=P:cr=P)}return w??cr}var Ee=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function M(xe){return xe<=247?A.charAt(xe):1424<=xe&&xe<=1524?"R":1536<=xe&&xe<=1785?g.charAt(xe-1536):1774<=xe&&xe<=2220?"r":8192<=xe&&xe<=8203?"w":xe==8204?"b":"L"}var w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,P=/[stwN]/,j=/[LRr]/,Z=/[Lb1n]/,le=/[1n]/;function de(xe,Xe,at){this.level=xe,this.from=Xe,this.to=at}return function(xe,Xe){var at=Xe=="ltr"?"L":"R";if(xe.length==0||Xe=="ltr"&&!w.test(xe))return!1;for(var Kt=xe.length,It=[],un=0;un<Kt;++un)It.push(M(xe.charCodeAt(un)));for(var vn=0,Pn=at;vn<Kt;++vn){var Hn=It[vn];Hn=="m"?It[vn]=Pn:Pn=Hn}for(var or=0,Gn=at;or<Kt;++or){var hr=It[or];hr=="1"&&Gn=="r"?It[or]="n":j.test(hr)&&(Gn=hr,hr=="r"&&(It[or]="R"))}for(var Fr=1,Lr=It[0];Fr<Kt-1;++Fr){var Fi=It[Fr];Fi=="+"&&Lr=="1"&&It[Fr+1]=="1"?It[Fr]="1":Fi==","&&Lr==It[Fr+1]&&(Lr=="1"||Lr=="n")&&(It[Fr]=Lr),Lr=Fi}for(var Xo=0;Xo<Kt;++Xo){var es=It[Xo];if(es==",")It[Xo]="N";else if(es=="%"){var ka=void 0;for(ka=Xo+1;ka<Kt&&It[ka]=="%";++ka);for(var Na=Xo&&It[Xo-1]=="!"||ka<Kt&&It[ka]=="1"?"1":"N",Wa=Xo;Wa<ka;++Wa)It[Wa]=Na;Xo=ka-1}}for(var ts=0,ll=at;ts<Kt;++ts){var Gs=It[ts];ll=="L"&&Gs=="1"?It[ts]="L":j.test(Gs)&&(ll=Gs)}for(var ns=0;ns<Kt;++ns)if(P.test(It[ns])){var rs=void 0;for(rs=ns+1;rs<Kt&&P.test(It[rs]);++rs);for(var Ra=(ns?It[ns-1]:at)=="L",ul=(rs<Kt?It[rs]:at)=="L",qd=Ra==ul?Ra?"L":"R":at,hh=ns;hh<rs;++hh)It[hh]=qd;ns=rs-1}for(var Al=[],Ru,Qs=0;Qs<Kt;)if(Z.test(It[Qs])){var jp=Qs;for(++Qs;Qs<Kt&&Z.test(It[Qs]);++Qs);Al.push(new de(0,jp,Qs))}else{var Uu=Qs,Bc=Al.length,qh=Xe=="rtl"?1:0;for(++Qs;Qs<Kt&&It[Qs]!="L";++Qs);for(var Yl=Uu;Yl<Qs;)if(le.test(It[Yl])){Uu<Yl&&(Al.splice(Bc,0,new de(1,Uu,Yl)),Bc+=qh);var Vd=Yl;for(++Yl;Yl<Qs&&le.test(It[Yl]);++Yl);Al.splice(Bc,0,new de(2,Vd,Yl)),Bc+=qh,Uu=Yl}else++Yl;Uu<Qs&&Al.splice(Bc,0,new de(1,Uu,Qs))}return Xe=="ltr"&&(Al[0].level==1&&(Ru=xe.match(/^\s+/))&&(Al[0].from=Ru[0].length,Al.unshift(new de(0,0,Ru[0].length))),Zn(Al).level==1&&(Ru=xe.match(/\s+$/))&&(Zn(Al).to-=Ru[0].length,Al.push(new de(0,Kt-Ru[0].length,Kt)))),Xe=="rtl"?Al.reverse():Al}}();function Me(A,g){var M=A.order;return M==null&&(M=A.order=Ee(A.text,g)),M}var p=[],Ke=function(A,g,M){if(A.addEventListener)A.addEventListener(g,M,!1);else if(A.attachEvent)A.attachEvent("on"+g,M);else{var w=A._handlers||(A._handlers={});w[g]=(w[g]||p).concat(M)}};function rt(A,g){return A._handlers&&A._handlers[g]||p}function ot(A,g,M){if(A.removeEventListener)A.removeEventListener(g,M,!1);else if(A.detachEvent)A.detachEvent("on"+g,M);else{var w=A._handlers,P=w&&w[g];if(P){var j=Ge(P,M);j>-1&&(w[g]=P.slice(0,j).concat(P.slice(j+1)))}}}function yt(A,g){var M=rt(A,g);if(M.length)for(var w=Array.prototype.slice.call(arguments,2),P=0;P<M.length;++P)M[P].apply(null,w)}function lt(A,g,M){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),yt(A,M||g.type,A,g),gn(g)||g.codemirrorIgnore}function Rt(A){var g=A._handlers&&A._handlers.cursorActivity;if(g)for(var M=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),w=0;w<g.length;++w)Ge(M,g[w])==-1&&M.push(g[w])}function Dt(A,g){return rt(A,g).length>0}function Ot(A){A.prototype.on=function(g,M){Ke(this,g,M)},A.prototype.off=function(g,M){ot(this,g,M)}}function At(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function yn(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function gn(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function Yn(A){At(A),yn(A)}function Sr(A){return A.target||A.srcElement}function $t(A){var g=A.which;return g==null&&(A.button&1?g=1:A.button&2?g=3:A.button&4&&(g=2)),se&&A.ctrlKey&&g==1&&(g=3),g}var Kn=function(){if(f&&m<9)return!1;var A=we("div");return"draggable"in A||"dragDrop"in A}(),Wn;function Tr(A){if(Wn==null){var g=we("span","");Ye(A,we("span",[g,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(Wn=g.offsetWidth<=1&&g.offsetHeight>2&&!(f&&m<8))}var M=Wn?we("span",""):we("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return M.setAttribute("cm-text",""),M}var Jn;function Vn(A){if(Jn!=null)return Jn;var g=Ye(A,document.createTextNode("AA")),M=wt(g,0,1).getBoundingClientRect(),w=wt(g,1,2).getBoundingClientRect();return pe(A),!M||M.left==M.right?!1:Jn=w.right-M.right<3}var Tn=`

b`.split(/\n/).length!=3?function(A){for(var g=0,M=[],w=A.length;g<=w;){var P=A.indexOf(`
`,g);P==-1&&(P=A.length);var j=A.slice(g,A.charAt(P-1)=="\r"?P-1:P),Z=j.indexOf("\r");Z!=-1?(M.push(j.slice(0,Z)),g+=Z+1):(M.push(j),g=P+1)}return M}:function(A){return A.split(/\r\n?|\n/)},_i=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var g;try{g=A.ownerDocument.selection.createRange()}catch{}return!g||g.parentElement()!=A?!1:g.compareEndPoints("StartToEnd",g)!=0},Zi=function(){var A=we("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),ei=null;function Wr(A){if(ei!=null)return ei;var g=Ye(A,we("span","x")),M=g.getBoundingClientRect(),w=wt(g,0,1).getBoundingClientRect();return ei=Math.abs(M.left-w.left)>1}var Yr={},Xi={};function hi(A,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),Yr[A]=g}function ra(A,g){Xi[A]=g}function Ca(A){if(typeof A=="string"&&Xi.hasOwnProperty(A))A=Xi[A];else if(A&&typeof A.name=="string"&&Xi.hasOwnProperty(A.name)){var g=Xi[A.name];typeof g=="string"&&(g={name:g}),A=Jr(g,A),A.name=g.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return Ca("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return Ca("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function ao(A,g){g=Ca(g);var M=Yr[g.name];if(!M)return ao(A,"text/plain");var w=M(A,g);if(Vo.hasOwnProperty(g.name)){var P=Vo[g.name];for(var j in P)P.hasOwnProperty(j)&&(w.hasOwnProperty(j)&&(w["_"+j]=w[j]),w[j]=P[j])}if(w.name=g.name,g.helperType&&(w.helperType=g.helperType),g.modeProps)for(var Z in g.modeProps)w[Z]=g.modeProps[Z];return w}var Vo={};function la(A,g){var M=Vo.hasOwnProperty(A)?Vo[A]:Vo[A]={};Fe(g,M)}function ba(A,g){if(g===!0)return g;if(A.copyState)return A.copyState(g);var M={};for(var w in g){var P=g[w];P instanceof Array&&(P=P.concat([])),M[w]=P}return M}function el(A,g){for(var M;A.innerMode&&(M=A.innerMode(g),!(!M||M.mode==A));)g=M.state,A=M.mode;return M||{mode:A,state:g}}function Ss(A,g,M){return A.startState?A.startState(g,M):!0}var li=function(A,g,M){this.pos=this.start=0,this.string=A,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=M};li.prototype.eol=function(){return this.pos>=this.string.length},li.prototype.sol=function(){return this.pos==this.lineStart},li.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},li.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},li.prototype.eat=function(A){var g=this.string.charAt(this.pos),M;if(typeof A=="string"?M=g==A:M=g&&(A.test?A.test(g):A(g)),M)return++this.pos,g},li.prototype.eatWhile=function(A){for(var g=this.pos;this.eat(A););return this.pos>g},li.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},li.prototype.skipToEnd=function(){this.pos=this.string.length},li.prototype.skipTo=function(A){var g=this.string.indexOf(A,this.pos);if(g>-1)return this.pos=g,!0},li.prototype.backUp=function(A){this.pos-=A},li.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ye(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},li.prototype.indentation=function(){return ye(this.string,null,this.tabSize)-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},li.prototype.match=function(A,g,M){if(typeof A=="string"){var w=function(Z){return M?Z.toLowerCase():Z},P=this.string.substr(this.pos,A.length);if(w(P)==w(A))return g!==!1&&(this.pos+=A.length),!0}else{var j=this.string.slice(this.pos).match(A);return j&&j.index>0?null:(j&&g!==!1&&(this.pos+=j[0].length),j)}},li.prototype.current=function(){return this.string.slice(this.start,this.pos)},li.prototype.hideFirstChars=function(A,g){this.lineStart+=A;try{return g()}finally{this.lineStart-=A}},li.prototype.lookAhead=function(A){var g=this.lineOracle;return g&&g.lookAhead(A)},li.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function ar(A,g){if(g-=A.first,g<0||g>=A.size)throw new Error("There is no line "+(g+A.first)+" in the document.");for(var M=A;!M.lines;)for(var w=0;;++w){var P=M.children[w],j=P.chunkSize();if(g<j){M=P;break}g-=j}return M.lines[g]}function La(A,g,M){var w=[],P=g.line;return A.iter(g.line,M.line+1,function(j){var Z=j.text;P==M.line&&(Z=Z.slice(0,M.ch)),P==g.line&&(Z=Z.slice(g.ch)),w.push(Z),++P}),w}function Io(A,g,M){var w=[];return A.iter(g,M,function(P){w.push(P.text)}),w}function ua(A,g){var M=g-A.height;if(M)for(var w=A;w;w=w.parent)w.height+=M}function Oe(A){if(A.parent==null)return null;for(var g=A.parent,M=Ge(g.lines,A),w=g.parent;w;g=w,w=w.parent)for(var P=0;w.children[P]!=g;++P)M+=w.children[P].chunkSize();return M+g.first}function it(A,g){var M=A.first;e:do{for(var w=0;w<A.children.length;++w){var P=A.children[w],j=P.height;if(g<j){A=P;continue e}g-=j,M+=P.chunkSize()}return M}while(!A.lines);for(var Z=0;Z<A.lines.length;++Z){var le=A.lines[Z],de=le.height;if(g<de)break;g-=de}return M+Z}function rn(A,g){return g>=A.first&&g<A.first+A.size}function wn(A,g){return String(A.lineNumberFormatter(g+A.firstLineNumber))}function Qt(A,g,M){if(M===void 0&&(M=null),!(this instanceof Qt))return new Qt(A,g,M);this.line=A,this.ch=g,this.sticky=M}function En(A,g){return A.line-g.line||A.ch-g.ch}function ni(A,g){return A.sticky==g.sticky&&En(A,g)==0}function Ci(A){return Qt(A.line,A.ch)}function Wi(A,g){return En(A,g)<0?g:A}function Wo(A,g){return En(A,g)<0?A:g}function Dl(A,g){return Math.max(A.first,Math.min(g,A.first+A.size-1))}function Br(A,g){if(g.line<A.first)return Qt(A.first,0);var M=A.first+A.size-1;return g.line>M?Qt(M,ar(A,M).text.length):qr(g,ar(A,g.line).text.length)}function qr(A,g){var M=A.ch;return M==null||M>g?Qt(A.line,g):M<0?Qt(A.line,0):A}function xa(A,g){for(var M=[],w=0;w<g.length;w++)M[w]=Br(A,g[w]);return M}var Gr=function(A,g){this.state=A,this.lookAhead=g},ms=function(A,g,M,w){this.state=g,this.doc=A,this.line=M,this.maxLookAhead=w||0,this.baseTokens=null,this.baseTokenPos=1};ms.prototype.lookAhead=function(A){var g=this.doc.getLine(this.line+A);return g!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),g},ms.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},ms.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ms.fromSaved=function(A,g,M){return g instanceof Gr?new ms(A,ba(A.mode,g.state),M,g.lookAhead):new ms(A,ba(A.mode,g),M)},ms.prototype.save=function(A){var g=A!==!1?ba(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Gr(g,this.maxLookAhead):g};function Mu(A,g,M,w){var P=[A.state.modeGen],j={};Ll(A,g.text,A.doc.mode,M,function(xe,Xe){return P.push(xe,Xe)},j,w);for(var Z=M.state,le=function(xe){M.baseTokens=P;var Xe=A.state.overlays[xe],at=1,Kt=0;M.state=!0,Ll(A,g.text,Xe.mode,M,function(It,un){for(var vn=at;Kt<It;){var Pn=P[at];Pn>It&&P.splice(at,1,It,P[at+1],Pn),at+=2,Kt=Math.min(It,Pn)}if(un)if(Xe.opaque)P.splice(vn,at-vn,It,"overlay "+un),at=vn+2;else for(;vn<at;vn+=2){var Hn=P[vn+1];P[vn+1]=(Hn?Hn+" ":"")+"overlay "+un}},j),M.state=Z,M.baseTokens=null,M.baseTokenPos=1},de=0;de<A.state.overlays.length;++de)le(de);return{styles:P,classes:j.bgClass||j.textClass?j:null}}function Ro(A,g,M){if(!g.styles||g.styles[0]!=A.state.modeGen){var w=di(A,Oe(g)),P=g.text.length>A.options.maxHighlightLength&&ba(A.doc.mode,w.state),j=Mu(A,g,w);P&&(w.state=P),g.stateAfter=w.save(!P),g.styles=j.styles,j.classes?g.styleClasses=j.classes:g.styleClasses&&(g.styleClasses=null),M===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return g.styles}function di(A,g,M){var w=A.doc,P=A.display;if(!w.mode.startState)return new ms(w,!0,g);var j=Uo(A,g,M),Z=j>w.first&&ar(w,j-1).stateAfter,le=Z?ms.fromSaved(w,Z,j):new ms(w,Ss(w.mode),j);return w.iter(j,g,function(de){ii(A,de.text,le);var xe=le.line;de.stateAfter=xe==g-1||xe%5==0||xe>=P.viewFrom&&xe<P.viewTo?le.save():null,le.nextLine()}),M&&(w.modeFrontier=le.line),le}function ii(A,g,M,w){var P=A.doc.mode,j=new li(g,A.options.tabSize,M);for(j.start=j.pos=w||0,g==""&&Es(P,M.state);!j.eol();)Aa(P,j,M.state),j.start=j.pos}function Es(A,g){if(A.blankLine)return A.blankLine(g);if(A.innerMode){var M=el(A,g);if(M.mode.blankLine)return M.mode.blankLine(M.state)}}function Aa(A,g,M,w){for(var P=0;P<10;P++){w&&(w[0]=el(A,M).mode);var j=A.token(g,M);if(g.pos>g.start)return j}throw new Error("Mode "+A.name+" failed to advance stream.")}var so=function(A,g,M){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=g||null,this.state=M};function ca(A,g,M,w){var P=A.doc,j=P.mode,Z;g=Br(P,g);var le=ar(P,g.line),de=di(A,g.line,M),xe=new li(le.text,A.options.tabSize,de),Xe;for(w&&(Xe=[]);(w||xe.pos<g.ch)&&!xe.eol();)xe.start=xe.pos,Z=Aa(j,xe,de.state),w&&Xe.push(new so(xe,Z,ba(P.mode,de.state)));return w?Xe:new so(xe,Z,de.state)}function tu(A,g){if(A)for(;;){var M=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!M)break;A=A.slice(0,M.index)+A.slice(M.index+M[0].length);var w=M[1]?"bgClass":"textClass";g[w]==null?g[w]=M[2]:new RegExp("(?:^|\\s)"+M[2]+"(?:$|\\s)").test(g[w])||(g[w]+=" "+M[2])}return A}function Ll(A,g,M,w,P,j,Z){var le=M.flattenSpans;le==null&&(le=A.options.flattenSpans);var de=0,xe=null,Xe=new li(g,A.options.tabSize,w),at,Kt=A.options.addModeClass&&[null];for(g==""&&tu(Es(M,w.state),j);!Xe.eol();){if(Xe.pos>A.options.maxHighlightLength?(le=!1,Z&&ii(A,g,w,Xe.pos),Xe.pos=g.length,at=null):at=tu(Aa(M,Xe,w.state,Kt),j),Kt){var It=Kt[0].name;It&&(at="m-"+(at?It+" "+at:It))}if(!le||xe!=at){for(;de<Xe.start;)de=Math.min(Xe.start,de+5e3),P(de,xe);xe=at}Xe.start=Xe.pos}for(;de<Xe.pos;){var un=Math.min(Xe.pos,de+5e3);P(un,xe),de=un}}function Uo(A,g,M){for(var w,P,j=A.doc,Z=M?-1:g-(A.doc.mode.innerMode?1e3:100),le=g;le>Z;--le){if(le<=j.first)return j.first;var de=ar(j,le-1),xe=de.stateAfter;if(xe&&(!M||le+(xe instanceof Gr?xe.lookAhead:0)<=j.modeFrontier))return le;var Xe=ye(de.text,null,A.options.tabSize);(P==null||w>Xe)&&(P=le-1,w=Xe)}return P}function Os(A,g){if(A.modeFrontier=Math.min(A.modeFrontier,g),!(A.highlightFrontier<g-10)){for(var M=A.first,w=g-1;w>M;w--){var P=ar(A,w).stateAfter;if(P&&(!(P instanceof Gr)||w+P.lookAhead<g)){M=w+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,M)}}var xo=!1,wa=!1;function ya(){xo=!0}function yl(){wa=!0}function qa(A,g,M){this.marker=A,this.from=g,this.to=M}function Rs(A,g){if(A)for(var M=0;M<A.length;++M){var w=A[M];if(w.marker==g)return w}}function Vu(A,g){for(var M,w=0;w<A.length;++w)A[w]!=g&&(M||(M=[])).push(A[w]);return M}function Gi(A,g,M){var w=M&&window.WeakSet&&(M.markedSpans||(M.markedSpans=new WeakSet));w&&A.markedSpans&&w.has(A.markedSpans)?A.markedSpans.push(g):(A.markedSpans=A.markedSpans?A.markedSpans.concat([g]):[g],w&&w.add(A.markedSpans)),g.marker.attachLine(A)}function vl(A,g,M){var w;if(A)for(var P=0;P<A.length;++P){var j=A[P],Z=j.marker,le=j.from==null||(Z.inclusiveLeft?j.from<=g:j.from<g);if(le||j.from==g&&Z.type=="bookmark"&&(!M||!j.marker.insertLeft)){var de=j.to==null||(Z.inclusiveRight?j.to>=g:j.to>g);(w||(w=[])).push(new qa(Z,j.from,de?null:j.to))}}return w}function bi(A,g,M){var w;if(A)for(var P=0;P<A.length;++P){var j=A[P],Z=j.marker,le=j.to==null||(Z.inclusiveRight?j.to>=g:j.to>g);if(le||j.from==g&&Z.type=="bookmark"&&(!M||j.marker.insertLeft)){var de=j.from==null||(Z.inclusiveLeft?j.from<=g:j.from<g);(w||(w=[])).push(new qa(Z,de?null:j.from-g,j.to==null?null:j.to-g))}}return w}function Dr(A,g){if(g.full)return null;var M=rn(A,g.from.line)&&ar(A,g.from.line).markedSpans,w=rn(A,g.to.line)&&ar(A,g.to.line).markedSpans;if(!M&&!w)return null;var P=g.from.ch,j=g.to.ch,Z=En(g.from,g.to)==0,le=vl(M,P,Z),de=bi(w,j,Z),xe=g.text.length==1,Xe=Zn(g.text).length+(xe?P:0);if(le)for(var at=0;at<le.length;++at){var Kt=le[at];if(Kt.to==null){var It=Rs(de,Kt.marker);It?xe&&(Kt.to=It.to==null?null:It.to+Xe):Kt.to=P}}if(de)for(var un=0;un<de.length;++un){var vn=de[un];if(vn.to!=null&&(vn.to+=Xe),vn.from==null){var Pn=Rs(le,vn.marker);Pn||(vn.from=Xe,xe&&(le||(le=[])).push(vn))}else vn.from+=Xe,xe&&(le||(le=[])).push(vn)}le&&(le=Fl(le)),de&&de!=le&&(de=Fl(de));var Hn=[le];if(!xe){var or=g.text.length-2,Gn;if(or>0&&le)for(var hr=0;hr<le.length;++hr)le[hr].to==null&&(Gn||(Gn=[])).push(new qa(le[hr].marker,null,null));for(var Fr=0;Fr<or;++Fr)Hn.push(Gn);Hn.push(de)}return Hn}function Fl(A){for(var g=0;g<A.length;++g){var M=A[g];M.from!=null&&M.from==M.to&&M.marker.clearWhenEmpty!==!1&&A.splice(g--,1)}return A.length?A:null}function xi(A,g,M){var w=null;if(A.iter(g.line,M.line+1,function(It){if(It.markedSpans)for(var un=0;un<It.markedSpans.length;++un){var vn=It.markedSpans[un].marker;vn.readOnly&&(!w||Ge(w,vn)==-1)&&(w||(w=[])).push(vn)}}),!w)return null;for(var P=[{from:g,to:M}],j=0;j<w.length;++j)for(var Z=w[j],le=Z.find(0),de=0;de<P.length;++de){var xe=P[de];if(!(En(xe.to,le.from)<0||En(xe.from,le.to)>0)){var Xe=[de,1],at=En(xe.from,le.from),Kt=En(xe.to,le.to);(at<0||!Z.inclusiveLeft&&!at)&&Xe.push({from:xe.from,to:le.from}),(Kt>0||!Z.inclusiveRight&&!Kt)&&Xe.push({from:le.to,to:xe.to}),P.splice.apply(P,Xe),de+=Xe.length-3}}return P}function Ji(A){var g=A.markedSpans;if(g){for(var M=0;M<g.length;++M)g[M].marker.detachLine(A);A.markedSpans=null}}function ki(A,g){if(g){for(var M=0;M<g.length;++M)g[M].marker.attachLine(A);A.markedSpans=g}}function N(A){return A.inclusiveLeft?-1:0}function he(A){return A.inclusiveRight?1:0}function We(A,g){var M=A.lines.length-g.lines.length;if(M!=0)return M;var w=A.find(),P=g.find(),j=En(w.from,P.from)||N(A)-N(g);if(j)return-j;var Z=En(w.to,P.to)||he(A)-he(g);return Z||g.id-A.id}function Tt(A,g){var M=wa&&A.markedSpans,w;if(M)for(var P=void 0,j=0;j<M.length;++j)P=M[j],P.marker.collapsed&&(g?P.from:P.to)==null&&(!w||We(w,P.marker)<0)&&(w=P.marker);return w}function sr(A){return Tt(A,!0)}function On(A){return Tt(A,!1)}function Ur(A,g){var M=wa&&A.markedSpans,w;if(M)for(var P=0;P<M.length;++P){var j=M[P];j.marker.collapsed&&(j.from==null||j.from<g)&&(j.to==null||j.to>g)&&(!w||We(w,j.marker)<0)&&(w=j.marker)}return w}function Vr(A,g,M,w,P){var j=ar(A,g),Z=wa&&j.markedSpans;if(Z)for(var le=0;le<Z.length;++le){var de=Z[le];if(de.marker.collapsed){var xe=de.marker.find(0),Xe=En(xe.from,M)||N(de.marker)-N(P),at=En(xe.to,w)||he(de.marker)-he(P);if(!(Xe>=0&&at<=0||Xe<=0&&at>=0)&&(Xe<=0&&(de.marker.inclusiveRight&&P.inclusiveLeft?En(xe.to,M)>=0:En(xe.to,M)>0)||Xe>=0&&(de.marker.inclusiveRight&&P.inclusiveLeft?En(xe.from,w)<=0:En(xe.from,w)<0)))return!0}}}function er(A){for(var g;g=sr(A);)A=g.find(-1,!0).line;return A}function lr(A){for(var g;g=On(A);)A=g.find(1,!0).line;return A}function ri(A){for(var g,M;g=On(A);)A=g.find(1,!0).line,(M||(M=[])).push(A);return M}function lo(A,g){var M=ar(A,g),w=er(M);return M==w?g:Oe(w)}function wi(A,g){if(g>A.lastLine())return g;var M=ar(A,g),w;if(!Er(A,M))return g;for(;w=On(M);)M=w.find(1,!0).line;return Oe(M)+1}function Er(A,g){var M=wa&&g.markedSpans;if(M){for(var w=void 0,P=0;P<M.length;++P)if(w=M[P],!!w.marker.collapsed){if(w.from==null)return!0;if(!w.marker.widgetNode&&w.from==0&&w.marker.inclusiveLeft&&Li(A,g,w))return!0}}}function Li(A,g,M){if(M.to==null){var w=M.marker.find(1,!0);return Li(A,w.line,Rs(w.line.markedSpans,M.marker))}if(M.marker.inclusiveRight&&M.to==g.text.length)return!0;for(var P=void 0,j=0;j<g.markedSpans.length;++j)if(P=g.markedSpans[j],P.marker.collapsed&&!P.marker.widgetNode&&P.from==M.to&&(P.to==null||P.to!=M.from)&&(P.marker.inclusiveLeft||M.marker.inclusiveRight)&&Li(A,g,P))return!0}function ko(A){A=er(A);for(var g=0,M=A.parent,w=0;w<M.lines.length;++w){var P=M.lines[w];if(P==A)break;g+=P.height}for(var j=M.parent;j;M=j,j=M.parent)for(var Z=0;Z<j.children.length;++Z){var le=j.children[Z];if(le==M)break;g+=le.height}return g}function ia(A){if(A.height==0)return 0;for(var g=A.text.length,M,w=A;M=sr(w);){var P=M.find(0,!0);w=P.from.line,g+=P.from.ch-P.to.ch}for(w=A;M=On(w);){var j=M.find(0,!0);g-=w.text.length-j.from.ch,w=j.to.line,g+=w.text.length-j.to.ch}return g}function Va(A){var g=A.display,M=A.doc;g.maxLine=ar(M,M.first),g.maxLineLength=ia(g.maxLine),g.maxLineChanged=!0,M.iter(function(w){var P=ia(w);P>g.maxLineLength&&(g.maxLineLength=P,g.maxLine=w)})}var tl=function(A,g,M){this.text=A,ki(this,g),this.height=M?M(this):1};tl.prototype.lineNo=function(){return Oe(this)},Ot(tl);function Rl(A,g,M,w){A.text=g,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),Ji(A),ki(A,M);var P=w?w(A):1;P!=A.height&&ua(A,P)}function Ma(A){A.parent=null,Ji(A)}var $c={},Us={};function _l(A,g){if(!A||/^\s*$/.test(A))return null;var M=g.addModeClass?Us:$c;return M[A]||(M[A]=A.replace(/\S+/g,"cm-$&"))}function kh(A,g){var M=pt("span",null,null,C?"padding-right: .1px":null),w={pre:pt("pre",[M],"CodeMirror-line"),content:M,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};g.measure={};for(var P=0;P<=(g.rest?g.rest.length:0);P++){var j=P?g.rest[P-1]:g.line,Z=void 0;w.pos=0,w.addToken=ru,Vn(A.display.measure)&&(Z=Me(j,A.doc.direction))&&(w.addToken=oa(w.addToken,Z)),w.map=[];var le=g!=A.display.externalMeasured&&Oe(j);Yc(j,w,Ro(A,j,le)),j.styleClasses&&(j.styleClasses.bgClass&&(w.bgClass=tt(j.styleClasses.bgClass,w.bgClass||"")),j.styleClasses.textClass&&(w.textClass=tt(j.styleClasses.textClass,w.textClass||""))),w.map.length==0&&w.map.push(0,0,w.content.appendChild(Tr(A.display.measure))),P==0?(g.measure.map=w.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(w.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(C){var de=w.content.lastChild;(/\bcm-tab\b/.test(de.className)||de.querySelector&&de.querySelector(".cm-tab"))&&(w.content.className="cm-tab-wrap-hack")}return yt(A,"renderLine",A,g.line,w.pre),w.pre.className&&(w.textClass=tt(w.pre.className,w.textClass||"")),w}function nu(A){var g=we("span","","cm-invalidchar");return g.title="\\u"+A.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function ru(A,g,M,w,P,j,Z){if(g){var le=A.splitSpaces?vd(g,A.trailingSpace):g,de=A.cm.state.specialChars,xe=!1,Xe;if(!de.test(g))A.col+=g.length,Xe=document.createTextNode(le),A.map.push(A.pos,A.pos+g.length,Xe),f&&m<9&&(xe=!0),A.pos+=g.length;else{Xe=document.createDocumentFragment();for(var at=0;;){de.lastIndex=at;var Kt=de.exec(g),It=Kt?Kt.index-at:g.length-at;if(It){var un=document.createTextNode(le.slice(at,at+It));f&&m<9?Xe.appendChild(we("span",[un])):Xe.appendChild(un),A.map.push(A.pos,A.pos+It,un),A.col+=It,A.pos+=It}if(!Kt)break;at+=It+1;var vn=void 0;if(Kt[0]=="	"){var Pn=A.cm.options.tabSize,Hn=Pn-A.col%Pn;vn=Xe.appendChild(we("span",xn(Hn),"cm-tab")),vn.setAttribute("role","presentation"),vn.setAttribute("cm-text","	"),A.col+=Hn}else Kt[0]=="\r"||Kt[0]==`
`?(vn=Xe.appendChild(we("span",Kt[0]=="\r"?"":"","cm-invalidchar")),vn.setAttribute("cm-text",Kt[0]),A.col+=1):(vn=A.cm.options.specialCharPlaceholder(Kt[0]),vn.setAttribute("cm-text",Kt[0]),f&&m<9?Xe.appendChild(we("span",[vn])):Xe.appendChild(vn),A.col+=1);A.map.push(A.pos,A.pos+1,vn),A.pos++}}if(A.trailingSpace=le.charCodeAt(g.length-1)==32,M||w||P||xe||j||Z){var or=M||"";w&&(or+=w),P&&(or+=P);var Gn=we("span",[Xe],or,j);if(Z)for(var hr in Z)Z.hasOwnProperty(hr)&&hr!="style"&&hr!="class"&&Gn.setAttribute(hr,Z[hr]);return A.content.appendChild(Gn)}A.content.appendChild(Xe)}}function vd(A,g){if(A.length>1&&!/  /.test(A))return A;for(var M=g,w="",P=0;P<A.length;P++){var j=A.charAt(P);j==" "&&M&&(P==A.length-1||A.charCodeAt(P+1)==32)&&(j=""),w+=j,M=j==" "}return w}function oa(A,g){return function(M,w,P,j,Z,le,de){P=P?P+" cm-force-border":"cm-force-border";for(var xe=M.pos,Xe=xe+w.length;;){for(var at=void 0,Kt=0;Kt<g.length&&(at=g[Kt],!(at.to>xe&&at.from<=xe));Kt++);if(at.to>=Xe)return A(M,w,P,j,Z,le,de);A(M,w.slice(0,at.to-xe),P,j,null,le,de),j=null,w=w.slice(at.to-xe),xe=at.to}}}function iu(A,g,M,w){var P=!w&&M.widgetNode;P&&A.map.push(A.pos,A.pos+g,P),!w&&A.cm.display.input.needsContentAttribute&&(P||(P=A.content.appendChild(document.createElement("span"))),P.setAttribute("cm-marker",M.id)),P&&(A.cm.display.input.setUneditable(P),A.content.appendChild(P)),A.pos+=g,A.trailingSpace=!1}function Yc(A,g,M){var w=A.markedSpans,P=A.text,j=0;if(!w){for(var Z=1;Z<M.length;Z+=2)g.addToken(g,P.slice(j,j=M[Z]),_l(M[Z+1],g.cm.options));return}for(var le=P.length,de=0,xe=1,Xe="",at,Kt,It=0,un,vn,Pn,Hn,or;;){if(It==de){un=vn=Pn=Kt="",or=null,Hn=null,It=1/0;for(var Gn=[],hr=void 0,Fr=0;Fr<w.length;++Fr){var Lr=w[Fr],Fi=Lr.marker;if(Fi.type=="bookmark"&&Lr.from==de&&Fi.widgetNode)Gn.push(Fi);else if(Lr.from<=de&&(Lr.to==null||Lr.to>de||Fi.collapsed&&Lr.to==de&&Lr.from==de)){if(Lr.to!=null&&Lr.to!=de&&It>Lr.to&&(It=Lr.to,vn=""),Fi.className&&(un+=" "+Fi.className),Fi.css&&(Kt=(Kt?Kt+";":"")+Fi.css),Fi.startStyle&&Lr.from==de&&(Pn+=" "+Fi.startStyle),Fi.endStyle&&Lr.to==It&&(hr||(hr=[])).push(Fi.endStyle,Lr.to),Fi.title&&((or||(or={})).title=Fi.title),Fi.attributes)for(var Xo in Fi.attributes)(or||(or={}))[Xo]=Fi.attributes[Xo];Fi.collapsed&&(!Hn||We(Hn.marker,Fi)<0)&&(Hn=Lr)}else Lr.from>de&&It>Lr.from&&(It=Lr.from)}if(hr)for(var es=0;es<hr.length;es+=2)hr[es+1]==It&&(vn+=" "+hr[es]);if(!Hn||Hn.from==de)for(var ka=0;ka<Gn.length;++ka)iu(g,0,Gn[ka]);if(Hn&&(Hn.from||0)==de){if(iu(g,(Hn.to==null?le+1:Hn.to)-de,Hn.marker,Hn.from==null),Hn.to==null)return;Hn.to==de&&(Hn=!1)}}if(de>=le)break;for(var Na=Math.min(le,It);;){if(Xe){var Wa=de+Xe.length;if(!Hn){var ts=Wa>Na?Xe.slice(0,Na-de):Xe;g.addToken(g,ts,at?at+un:un,Pn,de+ts.length==It?vn:"",Kt,or)}if(Wa>=Na){Xe=Xe.slice(Na-de),de=Na;break}de=Wa,Pn=""}Xe=P.slice(j,j=M[xe++]),at=_l(M[xe++],g.cm.options)}}}function wm(A,g,M){this.line=g,this.rest=ri(g),this.size=this.rest?Oe(Zn(this.rest))-M+1:1,this.node=this.text=null,this.hidden=Er(A,g)}function Su(A,g,M){for(var w=[],P,j=g;j<M;j=P){var Z=new wm(A.doc,ar(A.doc,j),j);P=j+Z.size,w.push(Z)}return w}var Th=null;function qc(A){Th?Th.ops.push(A):A.ownsGroup=Th={ops:[A],delayedCallbacks:[]}}function Mm(A){var g=A.delayedCallbacks,M=0;do{for(;M<g.length;M++)g[M].call(null);for(var w=0;w<A.ops.length;w++){var P=A.ops[w];if(P.cursorActivityHandlers)for(;P.cursorActivityCalled<P.cursorActivityHandlers.length;)P.cursorActivityHandlers[P.cursorActivityCalled++].call(null,P.cm)}}while(M<g.length)}function Mp(A,g){var M=A.ownsGroup;if(M)try{Mm(M)}finally{Th=null,g(M)}}var KA=null;function ha(A,g){var M=rt(A,g);if(M.length){var w=Array.prototype.slice.call(arguments,2),P;Th?P=Th.delayedCallbacks:KA?P=KA:(P=KA=[],setTimeout(Sp,0));for(var j=function(le){P.push(function(){return M[le].apply(null,w)})},Z=0;Z<M.length;++Z)j(Z)}}function Sp(){var A=KA;KA=null;for(var g=0;g<A.length;++g)A[g]()}function bf(A,g,M,w){for(var P=0;P<g.changes.length;P++){var j=g.changes[P];j=="text"?DA(A,g):j=="gutter"?Cd(A,g,M,w):j=="class"?_d(A,g):j=="widget"&&Hc(A,g,w)}g.changes=null}function Vc(A){return A.node==A.text&&(A.node=we("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),f&&m<8&&(A.node.style.zIndex=2)),A.node}function xf(A,g){var M=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(M&&(M+=" CodeMirror-linebackground"),g.background)M?g.background.className=M:(g.background.parentNode.removeChild(g.background),g.background=null);else if(M){var w=Vc(g);g.background=w.insertBefore(we("div",null,M),w.firstChild),A.display.input.setUneditable(g.background)}}function Ph(A,g){var M=A.display.externalMeasured;return M&&M.line==g.line?(A.display.externalMeasured=null,g.measure=M.measure,M.built):kh(A,g)}function DA(A,g){var M=g.text.className,w=Ph(A,g);g.text==g.node&&(g.node=w.pre),g.text.parentNode.replaceChild(w.pre,g.text),g.text=w.pre,w.bgClass!=g.bgClass||w.textClass!=g.textClass?(g.bgClass=w.bgClass,g.textClass=w.textClass,_d(A,g)):M&&(g.text.className=M)}function _d(A,g){xf(A,g),g.line.wrapClass?Vc(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var M=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=M||""}function Cd(A,g,M,w){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var P=Vc(g);g.gutterBackground=we("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(A.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px; width: "+w.gutterTotalWidth+"px"),A.display.input.setUneditable(g.gutterBackground),P.insertBefore(g.gutterBackground,g.text)}var j=g.line.gutterMarkers;if(A.options.lineNumbers||j){var Z=Vc(g),le=g.gutter=we("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px");if(le.setAttribute("aria-hidden","true"),A.display.input.setUneditable(le),Z.insertBefore(le,g.text),g.line.gutterClass&&(le.className+=" "+g.line.gutterClass),A.options.lineNumbers&&(!j||!j["CodeMirror-linenumbers"])&&(g.lineNumber=le.appendChild(we("div",wn(A.options,M),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+w.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),j)for(var de=0;de<A.display.gutterSpecs.length;++de){var xe=A.display.gutterSpecs[de].className,Xe=j.hasOwnProperty(xe)&&j[xe];Xe&&le.appendChild(we("div",[Xe],"CodeMirror-gutter-elt","left: "+w.gutterLeft[xe]+"px; width: "+w.gutterWidth[xe]+"px"))}}}function Hc(A,g,M){g.alignable&&(g.alignable=null);for(var w=Pe("CodeMirror-linewidget"),P=g.node.firstChild,j=void 0;P;P=j)j=P.nextSibling,w.test(P.className)&&g.node.removeChild(P);Ac(A,g,M)}function Y0(A,g,M,w){var P=Ph(A,g);return g.text=g.node=P.pre,P.bgClass&&(g.bgClass=P.bgClass),P.textClass&&(g.textClass=P.textClass),_d(A,g),Cd(A,g,M,w),Ac(A,g,w),g.node}function Ac(A,g,M){if(Ul(A,g.line,g,M,!0),g.rest)for(var w=0;w<g.rest.length;w++)Ul(A,g.rest[w],g,M,!1)}function Ul(A,g,M,w,P){if(g.widgets)for(var j=Vc(M),Z=0,le=g.widgets;Z<le.length;++Z){var de=le[Z],xe=we("div",[de.node],"CodeMirror-linewidget"+(de.className?" "+de.className:""));de.handleMouseEvents||xe.setAttribute("cm-ignore-events","true"),Ep(de,xe,M,w),A.display.input.setUneditable(xe),P&&de.above?j.insertBefore(xe,M.gutter||M.text):j.appendChild(xe),ha(de,"redraw")}}function Ep(A,g,M,w){if(A.noHScroll){(M.alignable||(M.alignable=[])).push(g);var P=w.wrapperWidth;g.style.left=w.fixedPos+"px",A.coverGutter||(P-=w.gutterTotalWidth,g.style.paddingLeft=w.gutterTotalWidth+"px"),g.style.width=P+"px"}A.coverGutter&&(g.style.zIndex=5,g.style.position="relative",A.noHScroll||(g.style.marginLeft=-w.gutterTotalWidth+"px"))}function uA(A){if(A.height!=null)return A.height;var g=A.doc.cm;if(!g)return 0;if(!ft(document.body,A.node)){var M="position: relative;";A.coverGutter&&(M+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),A.noHScroll&&(M+="width: "+g.display.wrapper.clientWidth+"px;"),Ye(g.display.measure,we("div",[A.node],null,M))}return A.height=A.node.parentNode.offsetHeight}function Eu(A,g){for(var M=Sr(g);M!=A.wrapper;M=M.parentNode)if(!M||M.nodeType==1&&M.getAttribute("cm-ignore-events")=="true"||M.parentNode==A.sizer&&M!=A.mover)return!0}function Zc(A){return A.lineSpace.offsetTop}function bd(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Op(A){if(A.cachedPaddingH)return A.cachedPaddingH;var g=Ye(A.measure,we("pre","x","CodeMirror-line-like")),M=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,w={left:parseInt(M.paddingLeft),right:parseInt(M.paddingRight)};return!isNaN(w.left)&&!isNaN(w.right)&&(A.cachedPaddingH=w),w}function jl(A){return st-A.display.nativeBarWidth}function nl(A){return A.display.scroller.clientWidth-jl(A)-A.display.barWidth}function xd(A){return A.display.scroller.clientHeight-jl(A)-A.display.barHeight}function cc(A,g,M){var w=A.options.lineWrapping,P=w&&nl(A);if(!g.measure.heights||w&&g.measure.width!=P){var j=g.measure.heights=[];if(w){g.measure.width=P;for(var Z=g.text.firstChild.getClientRects(),le=0;le<Z.length-1;le++){var de=Z[le],xe=Z[le+1];Math.abs(de.bottom-xe.bottom)>2&&j.push((de.bottom+xe.top)/2-M.top)}}j.push(M.bottom-M.top)}}function wf(A,g,M){if(A.line==g)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var w=0;w<A.rest.length;w++)if(A.rest[w]==g)return{map:A.measure.maps[w],cache:A.measure.caches[w]};for(var P=0;P<A.rest.length;P++)if(Oe(A.rest[P])>M)return{map:A.measure.maps[P],cache:A.measure.caches[P],before:!0}}}function Bp(A,g){g=er(g);var M=Oe(g),w=A.display.externalMeasured=new wm(A.doc,g,M);w.lineN=M;var P=w.built=kh(A,w);return w.text=P.pre,Ye(A.display.lineMeasure,P.pre),w}function Kh(A,g,M,w){return ou(A,Cl(A,g),M,w)}function AA(A,g){if(g>=A.display.viewFrom&&g<A.display.viewTo)return A.display.view[UA(A,g)];var M=A.display.externalMeasured;if(M&&g>=M.lineN&&g<M.lineN+M.size)return M}function Cl(A,g){var M=Oe(g),w=AA(A,M);w&&!w.text?w=null:w&&w.changes&&(bf(A,w,M,RA(A)),A.curOp.forceUpdate=!0),w||(w=Bp(A,g));var P=wf(w,g,M);return{line:g,view:w,rect:null,map:P.map,cache:P.cache,before:P.before,hasHeights:!1}}function ou(A,g,M,w,P){g.before&&(M=-1);var j=M+(w||""),Z;return g.cache.hasOwnProperty(j)?Z=g.cache[j]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(cc(A,g.view,g.rect),g.hasHeights=!0),Z=Xc(A,g,M,w),Z.bogus||(g.cache[j]=Z)),{left:Z.left,right:Z.right,top:P?Z.rtop:Z.top,bottom:P?Z.rbottom:Z.bottom}}var go={left:0,right:0,top:0,bottom:0};function Sm(A,g,M){for(var w,P,j,Z,le,de,xe=0;xe<A.length;xe+=3)if(le=A[xe],de=A[xe+1],g<le?(P=0,j=1,Z="left"):g<de?(P=g-le,j=P+1):(xe==A.length-3||g==de&&A[xe+3]>g)&&(j=de-le,P=j-1,g>=de&&(Z="right")),P!=null){if(w=A[xe+2],le==de&&M==(w.insertLeft?"left":"right")&&(Z=M),M=="left"&&P==0)for(;xe&&A[xe-2]==A[xe-3]&&A[xe-1].insertLeft;)w=A[(xe-=3)+2],Z="left";if(M=="right"&&P==de-le)for(;xe<A.length-3&&A[xe+3]==A[xe+4]&&!A[xe+5].insertLeft;)w=A[(xe+=3)+2],Z="right";break}return{node:w,start:P,end:j,collapse:Z,coverStart:le,coverEnd:de}}function q0(A,g){var M=go;if(g=="left")for(var w=0;w<A.length&&(M=A[w]).left==M.right;w++);else for(var P=A.length-1;P>=0&&(M=A[P]).left==M.right;P--);return M}function Xc(A,g,M,w){var P=Sm(g.map,M,w),j=P.node,Z=P.start,le=P.end,de=P.collapse,xe;if(j.nodeType==3){for(var Xe=0;Xe<4;Xe++){for(;Z&&je(g.line.text.charAt(P.coverStart+Z));)--Z;for(;P.coverStart+le<P.coverEnd&&je(g.line.text.charAt(P.coverStart+le));)++le;if(f&&m<9&&Z==0&&le==P.coverEnd-P.coverStart?xe=j.parentNode.getBoundingClientRect():xe=q0(wt(j,Z,le).getClientRects(),w),xe.left||xe.right||Z==0)break;le=Z,Z=Z-1,de="right"}f&&m<11&&(xe=Hu(A.display.measure,xe))}else{Z>0&&(de=w="right");var at;A.options.lineWrapping&&(at=j.getClientRects()).length>1?xe=at[w=="right"?at.length-1:0]:xe=j.getBoundingClientRect()}if(f&&m<9&&!Z&&(!xe||!xe.left&&!xe.right)){var Kt=j.parentNode.getClientRects()[0];Kt?xe={left:Kt.left,right:Kt.left+Ti(A.display),top:Kt.top,bottom:Kt.bottom}:xe=go}for(var It=xe.top-g.rect.top,un=xe.bottom-g.rect.top,vn=(It+un)/2,Pn=g.view.measure.heights,Hn=0;Hn<Pn.length-1&&!(vn<Pn[Hn]);Hn++);var or=Hn?Pn[Hn-1]:0,Gn=Pn[Hn],hr={left:(de=="right"?xe.right:xe.left)-g.rect.left,right:(de=="left"?xe.left:xe.right)-g.rect.left,top:or,bottom:Gn};return!xe.left&&!xe.right&&(hr.bogus=!0),A.options.singleCursorHeightPerLine||(hr.rtop=It,hr.rbottom=un),hr}function Hu(A,g){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Wr(A))return g;var M=screen.logicalXDPI/screen.deviceXDPI,w=screen.logicalYDPI/screen.deviceYDPI;return{left:g.left*M,right:g.right*M,top:g.top*w,bottom:g.bottom*w}}function Mf(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var g=0;g<A.rest.length;g++)A.measure.caches[g]={}}function wd(A){A.display.externalMeasure=null,pe(A.display.lineMeasure);for(var g=0;g<A.display.view.length;g++)Mf(A.display.view[g])}function hc(A){wd(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Md(A){return I&&ee?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function Sf(A){return I&&ee?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function LA(A){var g=er(A),M=g.widgets,w=0;if(M)for(var P=0;P<M.length;++P)M[P].above&&(w+=uA(M[P]));return w}function zl(A,g,M,w,P){if(!P){var j=LA(g);M.top+=j,M.bottom+=j}if(w=="line")return M;w||(w="local");var Z=ko(g);if(w=="local"?Z+=Zc(A.display):Z-=A.display.viewOffset,w=="page"||w=="window"){var le=A.display.lineSpace.getBoundingClientRect();Z+=le.top+(w=="window"?0:Sf(en(A)));var de=le.left+(w=="window"?0:Md(en(A)));M.left+=de,M.right+=de}return M.top+=Z,M.bottom+=Z,M}function Pt(A,g,M){if(M=="div")return g;var w=g.left,P=g.top;if(M=="page")w-=Md(en(A)),P-=Sf(en(A));else if(M=="local"||!M){var j=A.display.sizer.getBoundingClientRect();w+=j.left,P+=j.top}var Z=A.display.lineSpace.getBoundingClientRect();return{left:w-Z.left,top:P-Z.top}}function mn(A,g,M,w,P){return w||(w=ar(A.doc,g.line)),zl(A,w,Kh(A,w,g.ch,P),M)}function Zt(A,g,M,w,P,j){w=w||ar(A.doc,g.line),P||(P=Cl(A,w));function Z(un,vn){var Pn=ou(A,P,un,vn?"right":"left",j);return vn?Pn.left=Pn.right:Pn.right=Pn.left,zl(A,w,Pn,M)}var le=Me(w,A.doc.direction),de=g.ch,xe=g.sticky;if(de>=w.text.length?(de=w.text.length,xe="before"):de<=0&&(de=0,xe="after"),!le)return Z(xe=="before"?de-1:de,xe=="before");function Xe(un,vn,Pn){var Hn=le[vn],or=Hn.level==1;return Z(Pn?un-1:un,or!=Pn)}var at=Re(le,de,xe),Kt=cr,It=Xe(de,at,xe=="before");return Kt!=null&&(It.other=Xe(de,Kt,xe!="before")),It}function vr(A,g){var M=0;g=Br(A.doc,g),A.options.lineWrapping||(M=Ti(A.display)*g.ch);var w=ar(A.doc,g.line),P=ko(w)+Zc(A.display);return{left:M,right:M,top:P,bottom:P+w.height}}function ti(A,g,M,w,P){var j=Qt(A,g,M);return j.xRel=P,w&&(j.outside=w),j}function eo(A,g,M){var w=A.doc;if(M+=A.display.viewOffset,M<0)return ti(w.first,0,null,-1,-1);var P=it(w,M),j=w.first+w.size-1;if(P>j)return ti(w.first+w.size-1,ar(w,j).text.length,null,1,1);g<0&&(g=0);for(var Z=ar(w,P);;){var le=Em(A,Z,P,g,M),de=Ur(Z,le.ch+(le.xRel>0||le.outside>0?1:0));if(!de)return le;var xe=de.find(1);if(xe.line==P)return xe;Z=ar(w,P=xe.line)}}function Sa(A,g,M,w){w-=LA(g);var P=g.text.length,j=Lt(function(Z){return ou(A,M,Z-1).bottom<=w},P,0);return P=Lt(function(Z){return ou(A,M,Z).top>w},j,P),{begin:j,end:P}}function wo(A,g,M,w){M||(M=Cl(A,g));var P=zl(A,g,ou(A,M,w),"line").top;return Sa(A,g,M,P)}function dc(A,g,M,w){return A.bottom<=M?!1:A.top>M?!0:(w?A.left:A.right)>g}function Em(A,g,M,w,P){P-=ko(g);var j=Cl(A,g),Z=LA(g),le=0,de=g.text.length,xe=!0,Xe=Me(g,A.doc.direction);if(Xe){var at=(A.options.lineWrapping?FA:js)(A,g,M,j,Xe,w,P);xe=at.level!=1,le=xe?at.from:at.to-1,de=xe?at.to:at.from-1}var Kt=null,It=null,un=Lt(function(Fr){var Lr=ou(A,j,Fr);return Lr.top+=Z,Lr.bottom+=Z,dc(Lr,w,P,!1)?(Lr.top<=P&&Lr.left<=w&&(Kt=Fr,It=Lr),!0):!1},le,de),vn,Pn,Hn=!1;if(It){var or=w-It.left<It.right-w,Gn=or==xe;un=Kt+(Gn?0:1),Pn=Gn?"after":"before",vn=or?It.left:It.right}else{!xe&&(un==de||un==le)&&un++,Pn=un==0?"after":un==g.text.length?"before":ou(A,j,un-(xe?1:0)).bottom+Z<=P==xe?"after":"before";var hr=Zt(A,Qt(M,un,Pn),"line",g,j);vn=hr.left,Hn=P<hr.top?-1:P>=hr.bottom?1:0}return un=Ct(g.text,un,1),ti(M,un,Pn,Hn,w-vn)}function js(A,g,M,w,P,j,Z){var le=Lt(function(at){var Kt=P[at],It=Kt.level!=1;return dc(Zt(A,Qt(M,It?Kt.to:Kt.from,It?"before":"after"),"line",g,w),j,Z,!0)},0,P.length-1),de=P[le];if(le>0){var xe=de.level!=1,Xe=Zt(A,Qt(M,xe?de.from:de.to,xe?"after":"before"),"line",g,w);dc(Xe,j,Z,!0)&&Xe.top>Z&&(de=P[le-1])}return de}function FA(A,g,M,w,P,j,Z){var le=Sa(A,g,w,Z),de=le.begin,xe=le.end;/\s/.test(g.text.charAt(xe-1))&&xe--;for(var Xe=null,at=null,Kt=0;Kt<P.length;Kt++){var It=P[Kt];if(!(It.from>=xe||It.to<=de)){var un=It.level!=1,vn=ou(A,w,un?Math.min(xe,It.to)-1:Math.max(de,It.from)).right,Pn=vn<j?j-vn+1e9:vn-j;(!Xe||at>Pn)&&(Xe=It,at=Pn)}}return Xe||(Xe=P[P.length-1]),Xe.from<de&&(Xe={from:de,to:Xe.to,level:Xe.level}),Xe.to>xe&&(Xe={from:Xe.from,to:xe,level:Xe.level}),Xe}var fc;function au(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(fc==null){fc=we("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)fc.appendChild(document.createTextNode("x")),fc.appendChild(we("br"));fc.appendChild(document.createTextNode("x"))}Ye(A.measure,fc);var M=fc.offsetHeight/50;return M>3&&(A.cachedTextHeight=M),pe(A.measure),M||1}function Ti(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var g=we("span","xxxxxxxxxx"),M=we("pre",[g],"CodeMirror-line-like");Ye(A.measure,M);var w=g.getBoundingClientRect(),P=(w.right-w.left)/10;return P>2&&(A.cachedCharWidth=P),P||10}function RA(A){for(var g=A.display,M={},w={},P=g.gutters.clientLeft,j=g.gutters.firstChild,Z=0;j;j=j.nextSibling,++Z){var le=A.display.gutterSpecs[Z].className;M[le]=j.offsetLeft+j.clientLeft+P,w[le]=j.clientWidth}return{fixedPos:Eo(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:M,gutterWidth:w,wrapperWidth:g.wrapper.clientWidth}}function Eo(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function Ip(A){var g=au(A.display),M=A.options.lineWrapping,w=M&&Math.max(5,A.display.scroller.clientWidth/Ti(A.display)-3);return function(P){if(Er(A.doc,P))return 0;var j=0;if(P.widgets)for(var Z=0;Z<P.widgets.length;Z++)P.widgets[Z].height&&(j+=P.widgets[Z].height);return M?j+(Math.ceil(P.text.length/w)||1)*g:j+g}}function pc(A){var g=A.doc,M=Ip(A);g.iter(function(w){var P=M(w);P!=w.height&&ua(w,P)})}function cA(A,g,M,w){var P=A.display;if(!M&&Sr(g).getAttribute("cm-not-content")=="true")return null;var j,Z,le=P.lineSpace.getBoundingClientRect();try{j=g.clientX-le.left,Z=g.clientY-le.top}catch{return null}var de=eo(A,j,Z),xe;if(w&&de.xRel>0&&(xe=ar(A.doc,de.line).text).length==de.ch){var Xe=ye(xe,xe.length,A.options.tabSize)-xe.length;de=Qt(de.line,Math.max(0,Math.round((j-Op(A.display).left)/Ti(A.display))-Xe))}return de}function UA(A,g){if(g>=A.display.viewTo||(g-=A.display.viewFrom,g<0))return null;for(var M=A.display.view,w=0;w<M.length;w++)if(g-=M[w].size,g<0)return w}function rl(A,g,M,w){g==null&&(g=A.doc.first),M==null&&(M=A.doc.first+A.doc.size),w||(w=0);var P=A.display;if(w&&M<P.viewTo&&(P.updateLineNumbers==null||P.updateLineNumbers>g)&&(P.updateLineNumbers=g),A.curOp.viewChanged=!0,g>=P.viewTo)wa&&lo(A.doc,g)<P.viewTo&&su(A);else if(M<=P.viewFrom)wa&&wi(A.doc,M+w)>P.viewFrom?su(A):(P.viewFrom+=w,P.viewTo+=w);else if(g<=P.viewFrom&&M>=P.viewTo)su(A);else if(g<=P.viewFrom){var j=bl(A,M,M+w,1);j?(P.view=P.view.slice(j.index),P.viewFrom=j.lineN,P.viewTo+=w):su(A)}else if(M>=P.viewTo){var Z=bl(A,g,g,-1);Z?(P.view=P.view.slice(0,Z.index),P.viewTo=Z.lineN):su(A)}else{var le=bl(A,g,g,-1),de=bl(A,M,M+w,1);le&&de?(P.view=P.view.slice(0,le.index).concat(Su(A,le.lineN,de.lineN)).concat(P.view.slice(de.index)),P.viewTo+=w):su(A)}var xe=P.externalMeasured;xe&&(M<xe.lineN?xe.lineN+=w:g<xe.lineN+xe.size&&(P.externalMeasured=null))}function mc(A,g,M){A.curOp.viewChanged=!0;var w=A.display,P=A.display.externalMeasured;if(P&&g>=P.lineN&&g<P.lineN+P.size&&(w.externalMeasured=null),!(g<w.viewFrom||g>=w.viewTo)){var j=w.view[UA(A,g)];if(j.node!=null){var Z=j.changes||(j.changes=[]);Ge(Z,M)==-1&&Z.push(M)}}}function su(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function bl(A,g,M,w){var P=UA(A,g),j,Z=A.display.view;if(!wa||M==A.doc.first+A.doc.size)return{index:P,lineN:M};for(var le=A.display.viewFrom,de=0;de<P;de++)le+=Z[de].size;if(le!=g){if(w>0){if(P==Z.length-1)return null;j=le+Z[P].size-g,P++}else j=le-g;g+=j,M+=j}for(;lo(A.doc,M)!=M;){if(P==(w<0?0:Z.length-1))return null;M+=w*Z[P-(w<0?1:0)].size,P+=w}return{index:P,lineN:M}}function Jc(A,g,M){var w=A.display,P=w.view;P.length==0||g>=w.viewTo||M<=w.viewFrom?(w.view=Su(A,g,M),w.viewFrom=g):(w.viewFrom>g?w.view=Su(A,g,w.viewFrom).concat(w.view):w.viewFrom<g&&(w.view=w.view.slice(UA(A,g))),w.viewFrom=g,w.viewTo<M?w.view=w.view.concat(Su(A,w.viewTo,M)):w.viewTo>M&&(w.view=w.view.slice(0,UA(A,M)))),w.viewTo=M}function Sd(A){for(var g=A.display.view,M=0,w=0;w<g.length;w++){var P=g[w];!P.hidden&&(!P.node||P.changes)&&++M}return M}function lu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Ed(A,g){g===void 0&&(g=!0);var M=A.doc,w={},P=w.cursors=document.createDocumentFragment(),j=w.selection=document.createDocumentFragment(),Z=A.options.$customCursor;Z&&(g=!0);for(var le=0;le<M.sel.ranges.length;le++)if(!(!g&&le==M.sel.primIndex)){var de=M.sel.ranges[le];if(!(de.from().line>=A.display.viewTo||de.to().line<A.display.viewFrom)){var xe=de.empty();if(Z){var Xe=Z(A,de);Xe&&eh(A,Xe,P)}else(xe||A.options.showCursorWhenSelecting)&&eh(A,de.head,P);xe||Ef(A,de,j)}}return w}function eh(A,g,M){var w=Zt(A,g,"div",null,null,!A.options.singleCursorHeightPerLine),P=M.appendChild(we("div","","CodeMirror-cursor"));if(P.style.left=w.left+"px",P.style.top=w.top+"px",P.style.height=Math.max(0,w.bottom-w.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var j=mn(A,g,"div",null,null),Z=j.right-j.left;P.style.width=(Z>0?Z:A.defaultCharWidth())+"px"}if(w.other){var le=M.appendChild(we("div","","CodeMirror-cursor CodeMirror-secondarycursor"));le.style.display="",le.style.left=w.other.left+"px",le.style.top=w.other.top+"px",le.style.height=(w.other.bottom-w.other.top)*.85+"px"}}function hA(A,g){return A.top-g.top||A.left-g.left}function Ef(A,g,M){var w=A.display,P=A.doc,j=document.createDocumentFragment(),Z=Op(A.display),le=Z.left,de=Math.max(w.sizerWidth,nl(A)-w.sizer.offsetLeft)-Z.right,xe=P.direction=="ltr";function Xe(Gn,hr,Fr,Lr){hr<0&&(hr=0),hr=Math.round(hr),Lr=Math.round(Lr),j.appendChild(we("div",null,"CodeMirror-selected","position: absolute; left: "+Gn+`px;
                             top: `+hr+"px; width: "+(Fr??de-Gn)+`px;
                             height: `+(Lr-hr)+"px"))}function at(Gn,hr,Fr){var Lr=ar(P,Gn),Fi=Lr.text.length,Xo,es;function ka(ts,ll){return mn(A,Qt(Gn,ts),"div",Lr,ll)}function Na(ts,ll,Gs){var ns=wo(A,Lr,null,ts),rs=ll=="ltr"==(Gs=="after")?"left":"right",Ra=Gs=="after"?ns.begin:ns.end-(/\s/.test(Lr.text.charAt(ns.end-1))?2:1);return ka(Ra,rs)[rs]}var Wa=Me(Lr,P.direction);return jt(Wa,hr||0,Fr??Fi,function(ts,ll,Gs,ns){var rs=Gs=="ltr",Ra=ka(ts,rs?"left":"right"),ul=ka(ll-1,rs?"right":"left"),qd=hr==null&&ts==0,hh=Fr==null&&ll==Fi,Al=ns==0,Ru=!Wa||ns==Wa.length-1;if(ul.top-Ra.top<=3){var Qs=(xe?qd:hh)&&Al,jp=(xe?hh:qd)&&Ru,Uu=Qs?le:(rs?Ra:ul).left,Bc=jp?de:(rs?ul:Ra).right;Xe(Uu,Ra.top,Bc-Uu,Ra.bottom)}else{var qh,Yl,Vd,Nm;rs?(qh=xe&&qd&&Al?le:Ra.left,Yl=xe?de:Na(ts,Gs,"before"),Vd=xe?le:Na(ll,Gs,"after"),Nm=xe&&hh&&Ru?de:ul.right):(qh=xe?Na(ts,Gs,"before"):le,Yl=!xe&&qd&&Al?de:Ra.right,Vd=!xe&&hh&&Ru?le:ul.left,Nm=xe?Na(ll,Gs,"after"):de),Xe(qh,Ra.top,Yl-qh,Ra.bottom),Ra.bottom<ul.top&&Xe(le,Ra.bottom,null,ul.top),Xe(Vd,ul.top,Nm-Vd,ul.bottom)}(!Xo||hA(Ra,Xo)<0)&&(Xo=Ra),hA(ul,Xo)<0&&(Xo=ul),(!es||hA(Ra,es)<0)&&(es=Ra),hA(ul,es)<0&&(es=ul)}),{start:Xo,end:es}}var Kt=g.from(),It=g.to();if(Kt.line==It.line)at(Kt.line,Kt.ch,It.ch);else{var un=ar(P,Kt.line),vn=ar(P,It.line),Pn=er(un)==er(vn),Hn=at(Kt.line,Kt.ch,Pn?un.text.length+1:null).end,or=at(It.line,Pn?0:null,It.ch).start;Pn&&(Hn.top<or.top-2?(Xe(Hn.right,Hn.top,null,Hn.bottom),Xe(le,or.top,or.left,or.bottom)):Xe(Hn.right,Hn.top,or.left-Hn.right,Hn.bottom)),Hn.bottom<or.top&&Xe(le,Hn.bottom,null,or.top)}M.appendChild(j)}function th(A){if(A.state.focused){var g=A.display;clearInterval(g.blinker);var M=!0;g.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?g.blinker=setInterval(function(){A.hasFocus()||jA(A),g.cursorDiv.style.visibility=(M=!M)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function dA(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||Od(A))}function nh(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&jA(A))},100)}function Od(A,g){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(yt(A,"focus",A,g),A.state.focused=!0,$e(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),C&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),th(A))}function jA(A,g){A.state.delayingBlurEvent||(A.state.focused&&(yt(A,"blur",A,g),A.state.focused=!1,Ue(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Dh(A){for(var g=A.display,M=g.lineDiv.offsetTop,w=Math.max(0,g.scroller.getBoundingClientRect().top),P=g.lineDiv.getBoundingClientRect().top,j=0,Z=0;Z<g.view.length;Z++){var le=g.view[Z],de=A.options.lineWrapping,xe=void 0,Xe=0;if(!le.hidden){if(P+=le.line.height,f&&m<8){var at=le.node.offsetTop+le.node.offsetHeight;xe=at-M,M=at}else{var Kt=le.node.getBoundingClientRect();xe=Kt.bottom-Kt.top,!de&&le.text.firstChild&&(Xe=le.text.firstChild.getBoundingClientRect().right-Kt.left-1)}var It=le.line.height-xe;if((It>.005||It<-.005)&&(P<w&&(j-=It),ua(le.line,xe),rh(le.line),le.rest))for(var un=0;un<le.rest.length;un++)rh(le.rest[un]);if(Xe>A.display.sizerWidth){var vn=Math.ceil(Xe/Ti(A.display));vn>A.display.maxLineLength&&(A.display.maxLineLength=vn,A.display.maxLine=le.line,A.display.maxLineChanged=!0)}}}Math.abs(j)>2&&(g.scroller.scrollTop+=j)}function rh(A){if(A.widgets)for(var g=0;g<A.widgets.length;++g){var M=A.widgets[g],w=M.node.parentNode;w&&(M.height=w.offsetHeight)}}function zA(A,g,M){var w=M&&M.top!=null?Math.max(0,M.top):A.scroller.scrollTop;w=Math.floor(w-Zc(A));var P=M&&M.bottom!=null?M.bottom:w+A.wrapper.clientHeight,j=it(g,w),Z=it(g,P);if(M&&M.ensure){var le=M.ensure.from.line,de=M.ensure.to.line;le<j?(j=le,Z=it(g,ko(ar(g,le))+A.wrapper.clientHeight)):Math.min(de,g.lastLine())>=Z&&(j=it(g,ko(ar(g,de))-A.wrapper.clientHeight),Z=de)}return{from:j,to:Math.max(Z,j+1)}}function ih(A,g){if(!lt(A,"scrollCursorIntoView")){var M=A.display,w=M.sizer.getBoundingClientRect(),P=null,j=M.wrapper.ownerDocument;if(g.top+w.top<0?P=!0:g.bottom+w.top>(j.defaultView.innerHeight||j.documentElement.clientHeight)&&(P=!1),P!=null&&!H){var Z=we("div","",null,`position: absolute;
                         top: `+(g.top-M.viewOffset-Zc(A.display))+`px;
                         height: `+(g.bottom-g.top+jl(A)+M.barHeight)+`px;
                         left: `+g.left+"px; width: "+Math.max(2,g.right-g.left)+"px;");A.display.lineSpace.appendChild(Z),Z.scrollIntoView(P),A.display.lineSpace.removeChild(Z)}}}function Of(A,g,M,w){w==null&&(w=0);var P;!A.options.lineWrapping&&g==M&&(M=g.sticky=="before"?Qt(g.line,g.ch+1,"before"):g,g=g.ch?Qt(g.line,g.sticky=="before"?g.ch-1:g.ch,"after"):g);for(var j=0;j<5;j++){var Z=!1,le=Zt(A,g),de=!M||M==g?le:Zt(A,M);P={left:Math.min(le.left,de.left),top:Math.min(le.top,de.top)-w,right:Math.max(le.left,de.left),bottom:Math.max(le.bottom,de.bottom)+w};var xe=Lh(A,P),Xe=A.doc.scrollTop,at=A.doc.scrollLeft;if(xe.scrollTop!=null&&(fA(A,xe.scrollTop),Math.abs(A.doc.scrollTop-Xe)>1&&(Z=!0)),xe.scrollLeft!=null&&(Nl(A,xe.scrollLeft),Math.abs(A.doc.scrollLeft-at)>1&&(Z=!0)),!Z)break}return P}function Bf(A,g){var M=Lh(A,g);M.scrollTop!=null&&fA(A,M.scrollTop),M.scrollLeft!=null&&Nl(A,M.scrollLeft)}function Lh(A,g){var M=A.display,w=au(A.display);g.top<0&&(g.top=0);var P=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:M.scroller.scrollTop,j=xd(A),Z={};g.bottom-g.top>j&&(g.bottom=g.top+j);var le=A.doc.height+bd(M),de=g.top<w,xe=g.bottom>le-w;if(g.top<P)Z.scrollTop=de?0:g.top;else if(g.bottom>P+j){var Xe=Math.min(g.top,(xe?le:g.bottom)-j);Xe!=P&&(Z.scrollTop=Xe)}var at=A.options.fixedGutter?0:M.gutters.offsetWidth,Kt=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:M.scroller.scrollLeft-at,It=nl(A)-M.gutters.offsetWidth,un=g.right-g.left>It;return un&&(g.right=g.left+It),g.left<10?Z.scrollLeft=0:g.left<Kt?Z.scrollLeft=Math.max(0,g.left+at-(un?0:10)):g.right>It+Kt-3&&(Z.scrollLeft=g.right+(un?0:10)-It),Z}function aa(A,g){g!=null&&(Fh(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+g)}function yo(A){Fh(A);var g=A.getCursor();A.curOp.scrollToPos={from:g,to:g,margin:A.options.cursorScrollMargin}}function Oo(A,g,M){(g!=null||M!=null)&&Fh(A),g!=null&&(A.curOp.scrollLeft=g),M!=null&&(A.curOp.scrollTop=M)}function kp(A,g){Fh(A),A.curOp.scrollToPos=g}function Fh(A){var g=A.curOp.scrollToPos;if(g){A.curOp.scrollToPos=null;var M=vr(A,g.from),w=vr(A,g.to);If(A,M,w,g.margin)}}function If(A,g,M,w){var P=Lh(A,{left:Math.min(g.left,M.left),top:Math.min(g.top,M.top)-w,right:Math.max(g.right,M.right),bottom:Math.max(g.bottom,M.bottom)+w});Oo(A,P.scrollLeft,P.scrollTop)}function fA(A,g){Math.abs(A.doc.scrollTop-g)<2||(i||ol(A,{top:g}),gc(A,g,!0),i&&ol(A),Id(A,100))}function gc(A,g,M){g=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,g)),!(A.display.scroller.scrollTop==g&&!M)&&(A.doc.scrollTop=g,A.display.scrollbars.setScrollTop(g),A.display.scroller.scrollTop!=g&&(A.display.scroller.scrollTop=g))}function Nl(A,g,M,w){g=Math.max(0,Math.min(g,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((M?g==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-g)<2)&&!w)&&(A.doc.scrollLeft=g,jh(A),A.display.scroller.scrollLeft!=g&&(A.display.scroller.scrollLeft=g),A.display.scrollbars.setScrollLeft(g))}function NA(A){var g=A.display,M=g.gutters.offsetWidth,w=Math.round(A.doc.height+bd(A.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:A.options.fixedGutter?M:0,docHeight:w,scrollHeight:w+jl(A)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:M}}var il=function(A,g,M){this.cm=M;var w=this.vert=we("div",[we("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),P=this.horiz=we("div",[we("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");w.tabIndex=P.tabIndex=-1,A(w),A(P),Ke(w,"scroll",function(){w.clientHeight&&g(w.scrollTop,"vertical")}),Ke(P,"scroll",function(){P.clientWidth&&g(P.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};il.prototype.update=function(A){var g=A.scrollWidth>A.clientWidth+1,M=A.scrollHeight>A.clientHeight+1,w=A.nativeBarWidth;if(M){this.vert.style.display="block",this.vert.style.bottom=g?w+"px":"0";var P=A.viewHeight-(g?w:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+P)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=M?w+"px":"0",this.horiz.style.left=A.barLeft+"px";var j=A.viewWidth-A.barLeft-(M?w:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+j)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(w==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:M?w:0,bottom:g?w:0}},il.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},il.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},il.prototype.zeroWidthHack=function(){var A=se&&!X?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ke,this.disableVert=new ke},il.prototype.enableZeroWidthBar=function(A,g,M){A.style.visibility="";function w(){var P=A.getBoundingClientRect(),j=M=="vert"?document.elementFromPoint(P.right-1,(P.top+P.bottom)/2):document.elementFromPoint((P.right+P.left)/2,P.bottom-1);j!=A?A.style.visibility="hidden":g.set(1e3,w)}g.set(1e3,w)},il.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var pA=function(){};pA.prototype.update=function(){return{bottom:0,right:0}},pA.prototype.setScrollLeft=function(){},pA.prototype.setScrollTop=function(){},pA.prototype.clear=function(){};function Ou(A,g){g||(g=NA(A));var M=A.display.barWidth,w=A.display.barHeight;oh(A,g);for(var P=0;P<4&&M!=A.display.barWidth||w!=A.display.barHeight;P++)M!=A.display.barWidth&&A.options.lineWrapping&&Dh(A),oh(A,NA(A)),M=A.display.barWidth,w=A.display.barHeight}function oh(A,g){var M=A.display,w=M.scrollbars.update(g);M.sizer.style.paddingRight=(M.barWidth=w.right)+"px",M.sizer.style.paddingBottom=(M.barHeight=w.bottom)+"px",M.heightForcer.style.borderBottom=w.bottom+"px solid transparent",w.right&&w.bottom?(M.scrollbarFiller.style.display="block",M.scrollbarFiller.style.height=w.bottom+"px",M.scrollbarFiller.style.width=w.right+"px"):M.scrollbarFiller.style.display="",w.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(M.gutterFiller.style.display="block",M.gutterFiller.style.height=w.bottom+"px",M.gutterFiller.style.width=g.gutterWidth+"px"):M.gutterFiller.style.display=""}var uu={native:il,null:pA};function kf(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Ue(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new uu[A.options.scrollbarStyle](function(g){A.display.wrapper.insertBefore(g,A.display.scrollbarFiller),Ke(g,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,M){M=="horizontal"?Nl(A,g):fA(A,g)},A),A.display.scrollbars.addClass&&$e(A.display.wrapper,A.display.scrollbars.addClass)}var Tp=0;function Bu(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tp,markArrays:null},qc(A.curOp)}function yc(A){var g=A.curOp;g&&Mp(g,function(M){for(var w=0;w<M.ops.length;w++)M.ops[w].cm.curOp=null;Om(M)})}function Om(A){for(var g=A.ops,M=0;M<g.length;M++)Bd(g[M]);for(var w=0;w<g.length;w++)Rh(g[w]);for(var P=0;P<g.length;P++)Uh(g[P]);for(var j=0;j<g.length;j++)ze(g[j]);for(var Z=0;Z<g.length;Z++)Ha(g[Z])}function Bd(A){var g=A.cm,M=g.display;Bm(g),A.updateMaxLine&&Va(g),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<M.viewFrom||A.scrollToPos.to.line>=M.viewTo)||M.maxLineChanged&&g.options.lineWrapping,A.update=A.mustUpdate&&new Wl(g,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function Rh(A){A.updatedDisplay=A.mustUpdate&&Au(A.cm,A.update)}function Uh(A){var g=A.cm,M=g.display;A.updatedDisplay&&Dh(g),A.barMeasure=NA(g),M.maxLineChanged&&!g.options.lineWrapping&&(A.adjustWidthTo=Kh(g,M.maxLine,M.maxLine.text.length).left+3,g.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(M.scroller.clientWidth,M.sizer.offsetLeft+A.adjustWidthTo+jl(g)+g.display.barWidth),A.maxScrollLeft=Math.max(0,M.sizer.offsetLeft+A.adjustWidthTo-nl(g))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=M.input.prepareSelection())}function ze(A){var g=A.cm;A.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<g.doc.scrollLeft&&Nl(g,Math.min(g.display.scroller.scrollLeft,A.maxScrollLeft),!0),g.display.maxLineChanged=!1);var M=A.focus&&A.focus==bt(tn(g));A.preparedSelection&&g.display.input.showSelection(A.preparedSelection,M),(A.updatedDisplay||A.startHeight!=g.doc.height)&&Ou(g,A.barMeasure),A.updatedDisplay&&ah(g,A.barMeasure),A.selectionChanged&&th(g),g.state.focused&&A.updateInput&&g.display.input.reset(A.typing),M&&dA(A.cm)}function Ha(A){var g=A.cm,M=g.display,w=g.doc;if(A.updatedDisplay&&ir(g,A.update),M.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(M.wheelStartX=M.wheelStartY=null),A.scrollTop!=null&&gc(g,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Nl(g,A.scrollLeft,!0,!0),A.scrollToPos){var P=Of(g,Br(w,A.scrollToPos.from),Br(w,A.scrollToPos.to),A.scrollToPos.margin);ih(g,P)}var j=A.maybeHiddenMarkers,Z=A.maybeUnhiddenMarkers;if(j)for(var le=0;le<j.length;++le)j[le].lines.length||yt(j[le],"hide");if(Z)for(var de=0;de<Z.length;++de)Z[de].lines.length&&yt(Z[de],"unhide");M.wrapper.offsetHeight&&(w.scrollTop=g.display.scroller.scrollTop),A.changeObjs&&yt(g,"changes",g,A.changeObjs),A.update&&A.update.finish()}function To(A,g){if(A.curOp)return g();Bu(A);try{return g()}finally{yc(A)}}function Pi(A,g){return function(){if(A.curOp)return g.apply(A,arguments);Bu(A);try{return g.apply(A,arguments)}finally{yc(A)}}}function Pr(A){return function(){if(this.curOp)return A.apply(this,arguments);Bu(this);try{return A.apply(this,arguments)}finally{yc(this)}}}function da(A){return function(){var g=this.cm;if(!g||g.curOp)return A.apply(this,arguments);Bu(g);try{return A.apply(this,arguments)}finally{yc(g)}}}function Id(A,g){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(g,Nt(V0,A))}function V0(A){var g=A.doc;if(!(g.highlightFrontier>=A.display.viewTo)){var M=+new Date+A.options.workTime,w=di(A,g.highlightFrontier),P=[];g.iter(w.line,Math.min(g.first+g.size,A.display.viewTo+500),function(j){if(w.line>=A.display.viewFrom){var Z=j.styles,le=j.text.length>A.options.maxHighlightLength?ba(g.mode,w.state):null,de=Mu(A,j,w,!0);le&&(w.state=le),j.styles=de.styles;var xe=j.styleClasses,Xe=de.classes;Xe?j.styleClasses=Xe:xe&&(j.styleClasses=null);for(var at=!Z||Z.length!=j.styles.length||xe!=Xe&&(!xe||!Xe||xe.bgClass!=Xe.bgClass||xe.textClass!=Xe.textClass),Kt=0;!at&&Kt<Z.length;++Kt)at=Z[Kt]!=j.styles[Kt];at&&P.push(w.line),j.stateAfter=w.save(),w.nextLine()}else j.text.length<=A.options.maxHighlightLength&&ii(A,j.text,w),j.stateAfter=w.line%5==0?w.save():null,w.nextLine();if(+new Date>M)return Id(A,A.options.workDelay),!0}),g.highlightFrontier=w.line,g.modeFrontier=Math.max(g.modeFrontier,w.line),P.length&&To(A,function(){for(var j=0;j<P.length;j++)mc(A,P[j],"text")})}}var Wl=function(A,g,M){var w=A.display;this.viewport=g,this.visible=zA(w,A.doc,g),this.editorIsHidden=!w.wrapper.offsetWidth,this.wrapperHeight=w.wrapper.clientHeight,this.wrapperWidth=w.wrapper.clientWidth,this.oldDisplayWidth=nl(A),this.force=M,this.dims=RA(A),this.events=[]};Wl.prototype.signal=function(A,g){Dt(A,g)&&this.events.push(arguments)},Wl.prototype.finish=function(){for(var A=0;A<this.events.length;A++)yt.apply(null,this.events[A])};function Bm(A){var g=A.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=jl(A)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=jl(A)+"px",g.scrollbarsClipped=!0)}function Tf(A){if(A.hasFocus())return null;var g=bt(tn(A));if(!g||!ft(A.display.lineDiv,g))return null;var M={activeElt:g};if(window.getSelection){var w=Xt(A).getSelection();w.anchorNode&&w.extend&&ft(A.display.lineDiv,w.anchorNode)&&(M.anchorNode=w.anchorNode,M.anchorOffset=w.anchorOffset,M.focusNode=w.focusNode,M.focusOffset=w.focusOffset)}return M}function kd(A){if(!(!A||!A.activeElt||A.activeElt==bt(St(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&ft(document.body,A.anchorNode)&&ft(document.body,A.focusNode))){var g=A.activeElt.ownerDocument,M=g.defaultView.getSelection(),w=g.createRange();w.setEnd(A.anchorNode,A.anchorOffset),w.collapse(!1),M.removeAllRanges(),M.addRange(w),M.extend(A.focusNode,A.focusOffset)}}function Au(A,g){var M=A.display,w=A.doc;if(g.editorIsHidden)return su(A),!1;if(!g.force&&g.visible.from>=M.viewFrom&&g.visible.to<=M.viewTo&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo)&&M.renderedView==M.view&&Sd(A)==0)return!1;zh(A)&&(su(A),g.dims=RA(A));var P=w.first+w.size,j=Math.max(g.visible.from-A.options.viewportMargin,w.first),Z=Math.min(P,g.visible.to+A.options.viewportMargin);M.viewFrom<j&&j-M.viewFrom<20&&(j=Math.max(w.first,M.viewFrom)),M.viewTo>Z&&M.viewTo-Z<20&&(Z=Math.min(P,M.viewTo)),wa&&(j=lo(A.doc,j),Z=wi(A.doc,Z));var le=j!=M.viewFrom||Z!=M.viewTo||M.lastWrapHeight!=g.wrapperHeight||M.lastWrapWidth!=g.wrapperWidth;Jc(A,j,Z),M.viewOffset=ko(ar(A.doc,M.viewFrom)),A.display.mover.style.top=M.viewOffset+"px";var de=Sd(A);if(!le&&de==0&&!g.force&&M.renderedView==M.view&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo))return!1;var xe=Tf(A);return de>4&&(M.lineDiv.style.display="none"),Pp(A,M.updateLineNumbers,g.dims),de>4&&(M.lineDiv.style.display=""),M.renderedView=M.view,kd(xe),pe(M.cursorDiv),pe(M.selectionDiv),M.gutters.style.height=M.sizer.style.minHeight=0,le&&(M.lastWrapHeight=g.wrapperHeight,M.lastWrapWidth=g.wrapperWidth,Id(A,400)),M.updateLineNumbers=null,!0}function ir(A,g){for(var M=g.viewport,w=!0;;w=!1){if(!w||!A.options.lineWrapping||g.oldDisplayWidth==nl(A)){if(M&&M.top!=null&&(M={top:Math.min(A.doc.height+bd(A.display)-xd(A),M.top)}),g.visible=zA(A.display,A.doc,M),g.visible.from>=A.display.viewFrom&&g.visible.to<=A.display.viewTo)break}else w&&(g.visible=zA(A.display,A.doc,M));if(!Au(A,g))break;Dh(A);var P=NA(A);lu(A),Ou(A,P),ah(A,P),g.force=!1}g.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(g.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function ol(A,g){var M=new Wl(A,g);if(Au(A,M)){Dh(A),ir(A,M);var w=NA(A);lu(A),Ou(A,w),ah(A,w),M.finish()}}function Pp(A,g,M){var w=A.display,P=A.options.lineNumbers,j=w.lineDiv,Z=j.firstChild;function le(un){var vn=un.nextSibling;return C&&se&&A.display.currentWheelTarget==un?un.style.display="none":un.parentNode.removeChild(un),vn}for(var de=w.view,xe=w.viewFrom,Xe=0;Xe<de.length;Xe++){var at=de[Xe];if(!at.hidden)if(!at.node||at.node.parentNode!=j){var Kt=Y0(A,at,xe,M);j.insertBefore(Kt,Z)}else{for(;Z!=at.node;)Z=le(Z);var It=P&&g!=null&&g<=xe&&at.lineNumber;at.changes&&(Ge(at.changes,"gutter")>-1&&(It=!1),bf(A,at,xe,M)),It&&(pe(at.lineNumber),at.lineNumber.appendChild(document.createTextNode(wn(A.options,xe)))),Z=at.node.nextSibling}xe+=at.size}for(;Z;)Z=le(Z)}function vc(A){var g=A.gutters.offsetWidth;A.sizer.style.marginLeft=g+"px",ha(A,"gutterChanged",A)}function ah(A,g){A.display.sizer.style.minHeight=g.docHeight+"px",A.display.heightForcer.style.top=g.docHeight+"px",A.display.gutters.style.height=g.docHeight+A.display.barHeight+jl(A)+"px"}function jh(A){var g=A.display,M=g.view;if(!(!g.alignWidgets&&(!g.gutters.firstChild||!A.options.fixedGutter))){for(var w=Eo(g)-g.scroller.scrollLeft+A.doc.scrollLeft,P=g.gutters.offsetWidth,j=w+"px",Z=0;Z<M.length;Z++)if(!M[Z].hidden){A.options.fixedGutter&&(M[Z].gutter&&(M[Z].gutter.style.left=j),M[Z].gutterBackground&&(M[Z].gutterBackground.style.left=j));var le=M[Z].alignable;if(le)for(var de=0;de<le.length;de++)le[de].style.left=j}A.options.fixedGutter&&(g.gutters.style.left=w+P+"px")}}function zh(A){if(!A.options.lineNumbers)return!1;var g=A.doc,M=wn(A.options,g.first+g.size-1),w=A.display;if(M.length!=w.lineNumChars){var P=w.measure.appendChild(we("div",[we("div",M)],"CodeMirror-linenumber CodeMirror-gutter-elt")),j=P.firstChild.offsetWidth,Z=P.offsetWidth-j;return w.lineGutter.style.width="",w.lineNumInnerWidth=Math.max(j,w.lineGutter.offsetWidth-Z)+1,w.lineNumWidth=w.lineNumInnerWidth+Z,w.lineNumChars=w.lineNumInnerWidth?M.length:-1,w.lineGutter.style.width=w.lineNumWidth+"px",vc(A.display),!0}return!1}function ui(A,g){for(var M=[],w=!1,P=0;P<A.length;P++){var j=A[P],Z=null;if(typeof j!="string"&&(Z=j.style,j=j.className),j=="CodeMirror-linenumbers")if(g)w=!0;else continue;M.push({className:j,style:Z})}return g&&!w&&M.push({className:"CodeMirror-linenumbers",style:null}),M}function Nh(A){var g=A.gutters,M=A.gutterSpecs;pe(g),A.lineGutter=null;for(var w=0;w<M.length;++w){var P=M[w],j=P.className,Z=P.style,le=g.appendChild(we("div",null,"CodeMirror-gutter "+j));Z&&(le.style.cssText=Z),j=="CodeMirror-linenumbers"&&(A.lineGutter=le,le.style.width=(A.lineNumWidth||1)+"px")}g.style.display=M.length?"":"none",vc(A)}function _c(A){Nh(A.display),rl(A),jh(A)}function Pf(A,g,M,w){var P=this;this.input=M,P.scrollbarFiller=we("div",null,"CodeMirror-scrollbar-filler"),P.scrollbarFiller.setAttribute("cm-not-content","true"),P.gutterFiller=we("div",null,"CodeMirror-gutter-filler"),P.gutterFiller.setAttribute("cm-not-content","true"),P.lineDiv=pt("div",null,"CodeMirror-code"),P.selectionDiv=we("div",null,null,"position: relative; z-index: 1"),P.cursorDiv=we("div",null,"CodeMirror-cursors"),P.measure=we("div",null,"CodeMirror-measure"),P.lineMeasure=we("div",null,"CodeMirror-measure"),P.lineSpace=pt("div",[P.measure,P.lineMeasure,P.selectionDiv,P.cursorDiv,P.lineDiv],null,"position: relative; outline: none");var j=pt("div",[P.lineSpace],"CodeMirror-lines");P.mover=we("div",[j],null,"position: relative"),P.sizer=we("div",[P.mover],"CodeMirror-sizer"),P.sizerWidth=null,P.heightForcer=we("div",null,null,"position: absolute; height: "+st+"px; width: 1px;"),P.gutters=we("div",null,"CodeMirror-gutters"),P.lineGutter=null,P.scroller=we("div",[P.sizer,P.heightForcer,P.gutters],"CodeMirror-scroll"),P.scroller.setAttribute("tabIndex","-1"),P.wrapper=we("div",[P.scrollbarFiller,P.gutterFiller,P.scroller],"CodeMirror"),I&&K>=105&&(P.wrapper.style.clipPath="inset(0px)"),P.wrapper.setAttribute("translate","no"),f&&m<8&&(P.gutters.style.zIndex=-1,P.scroller.style.paddingRight=0),!C&&!(i&&ne)&&(P.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(P.wrapper):A(P.wrapper)),P.viewFrom=P.viewTo=g.first,P.reportedViewFrom=P.reportedViewTo=g.first,P.view=[],P.renderedView=null,P.externalMeasured=null,P.viewOffset=0,P.lastWrapHeight=P.lastWrapWidth=0,P.updateLineNumbers=null,P.nativeBarWidth=P.barHeight=P.barWidth=0,P.scrollbarsClipped=!1,P.lineNumWidth=P.lineNumInnerWidth=P.lineNumChars=null,P.alignWidgets=!1,P.cachedCharWidth=P.cachedTextHeight=P.cachedPaddingH=null,P.maxLine=null,P.maxLineLength=0,P.maxLineChanged=!1,P.wheelDX=P.wheelDY=P.wheelStartX=P.wheelStartY=null,P.shift=!1,P.selForContextMenu=null,P.activeTouch=null,P.gutterSpecs=ui(w.gutters,w.lineNumbers),Nh(P),M.init(P)}var Td=0,mA=null;f?mA=-.53:i?mA=15:I?mA=-.7:q&&(mA=-1/3);function gA(A){var g=A.wheelDeltaX,M=A.wheelDeltaY;return g==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(g=A.detail),M==null&&A.detail&&A.axis==A.VERTICAL_AXIS?M=A.detail:M==null&&(M=A.wheelDelta),{x:g,y:M}}function Pd(A){var g=gA(A);return g.x*=mA,g.y*=mA,g}function Kf(A,g){I&&K==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var M=gA(g),w=M.x,P=M.y,j=mA;g.deltaMode===0&&(w=g.deltaX,P=g.deltaY,j=1);var Z=A.display,le=Z.scroller,de=le.scrollWidth>le.clientWidth,xe=le.scrollHeight>le.clientHeight;if(w&&de||P&&xe){if(P&&se&&C){e:for(var Xe=g.target,at=Z.view;Xe!=le;Xe=Xe.parentNode)for(var Kt=0;Kt<at.length;Kt++)if(at[Kt].node==Xe){A.display.currentWheelTarget=Xe;break e}}if(w&&!i&&!L&&j!=null){P&&xe&&fA(A,Math.max(0,le.scrollTop+P*j)),Nl(A,Math.max(0,le.scrollLeft+w*j)),(!P||P&&xe)&&At(g),Z.wheelStartX=null;return}if(P&&j!=null){var It=P*j,un=A.doc.scrollTop,vn=un+Z.wrapper.clientHeight;It<0?un=Math.max(0,un+It-50):vn=Math.min(A.doc.height,vn+It+50),ol(A,{top:un,bottom:vn})}Td<20&&g.deltaMode!==0&&(Z.wheelStartX==null?(Z.wheelStartX=le.scrollLeft,Z.wheelStartY=le.scrollTop,Z.wheelDX=w,Z.wheelDY=P,setTimeout(function(){if(Z.wheelStartX!=null){var Pn=le.scrollLeft-Z.wheelStartX,Hn=le.scrollTop-Z.wheelStartY,or=Hn&&Z.wheelDY&&Hn/Z.wheelDY||Pn&&Z.wheelDX&&Pn/Z.wheelDX;Z.wheelStartX=Z.wheelStartY=null,or&&(mA=(mA*Td+or)/(Td+1),++Td)}},200)):(Z.wheelDX+=w,Z.wheelDY+=P))}}var Ea=function(A,g){this.ranges=A,this.primIndex=g};Ea.prototype.primary=function(){return this.ranges[this.primIndex]},Ea.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var M=this.ranges[g],w=A.ranges[g];if(!ni(M.anchor,w.anchor)||!ni(M.head,w.head))return!1}return!0},Ea.prototype.deepCopy=function(){for(var A=[],g=0;g<this.ranges.length;g++)A[g]=new co(Ci(this.ranges[g].anchor),Ci(this.ranges[g].head));return new Ea(A,this.primIndex)},Ea.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},Ea.prototype.contains=function(A,g){g||(g=A);for(var M=0;M<this.ranges.length;M++){var w=this.ranges[M];if(En(g,w.from())>=0&&En(A,w.to())<=0)return M}return-1};var co=function(A,g){this.anchor=A,this.head=g};co.prototype.from=function(){return Wo(this.anchor,this.head)},co.prototype.to=function(){return Wi(this.anchor,this.head)},co.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Zu(A,g,M){var w=A&&A.options.selectionsMayTouch,P=g[M];g.sort(function(Kt,It){return En(Kt.from(),It.from())}),M=Ge(g,P);for(var j=1;j<g.length;j++){var Z=g[j],le=g[j-1],de=En(le.to(),Z.from());if(w&&!Z.empty()?de>0:de>=0){var xe=Wo(le.from(),Z.from()),Xe=Wi(le.to(),Z.to()),at=le.empty()?Z.from()==Z.head:le.from()==le.head;j<=M&&--M,g.splice(--j,2,new co(at?Xe:xe,at?xe:Xe))}}return new Ea(g,M)}function WA(A,g){return new Ea([new co(A,g||A)],0)}function al(A){return A.text?Qt(A.from.line+A.text.length-1,Zn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function Ho(A,g){if(En(A,g.from)<0)return A;if(En(A,g.to)<=0)return al(g);var M=A.line+g.text.length-(g.to.line-g.from.line)-1,w=A.ch;return A.line==g.to.line&&(w+=al(g).ch-g.to.ch),Qt(M,w)}function sh(A,g){for(var M=[],w=0;w<A.sel.ranges.length;w++){var P=A.sel.ranges[w];M.push(new co(Ho(P.anchor,g),Ho(P.head,g)))}return Zu(A.cm,M,A.sel.primIndex)}function Kd(A,g,M){return A.line==g.line?Qt(M.line,A.ch-g.ch+M.ch):Qt(M.line+(A.line-g.line),A.ch)}function Kp(A,g,M){for(var w=[],P=Qt(A.first,0),j=P,Z=0;Z<g.length;Z++){var le=g[Z],de=Kd(le.from,P,j),xe=Kd(al(le),P,j);if(P=le.to,j=xe,M=="around"){var Xe=A.sel.ranges[Z],at=En(Xe.head,Xe.anchor)<0;w[Z]=new co(at?xe:de,at?de:xe)}else w[Z]=new co(de,de)}return new Ea(w,A.sel.primIndex)}function Dd(A){A.doc.mode=ao(A.options,A.doc.modeOption),GA(A)}function GA(A){A.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,Id(A,100),A.state.modeGen++,A.curOp&&rl(A)}function lh(A,g){return g.from.ch==0&&g.to.ch==0&&Zn(g.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function Bs(A,g,M,w){function P(or){return M?M[or]:null}function j(or,Gn,hr){Rl(or,Gn,hr,w),ha(or,"change",or,g)}function Z(or,Gn){for(var hr=[],Fr=or;Fr<Gn;++Fr)hr.push(new tl(xe[Fr],P(Fr),w));return hr}var le=g.from,de=g.to,xe=g.text,Xe=ar(A,le.line),at=ar(A,de.line),Kt=Zn(xe),It=P(xe.length-1),un=de.line-le.line;if(g.full)A.insert(0,Z(0,xe.length)),A.remove(xe.length,A.size-xe.length);else if(lh(A,g)){var vn=Z(0,xe.length-1);j(at,at.text,It),un&&A.remove(le.line,un),vn.length&&A.insert(le.line,vn)}else if(Xe==at)if(xe.length==1)j(Xe,Xe.text.slice(0,le.ch)+Kt+Xe.text.slice(de.ch),It);else{var Pn=Z(1,xe.length-1);Pn.push(new tl(Kt+Xe.text.slice(de.ch),It,w)),j(Xe,Xe.text.slice(0,le.ch)+xe[0],P(0)),A.insert(le.line+1,Pn)}else if(xe.length==1)j(Xe,Xe.text.slice(0,le.ch)+xe[0]+at.text.slice(de.ch),P(0)),A.remove(le.line+1,un);else{j(Xe,Xe.text.slice(0,le.ch)+xe[0],P(0)),j(at,Kt+at.text.slice(de.ch),It);var Hn=Z(1,xe.length-1);un>1&&A.remove(le.line+1,un-1),A.insert(le.line+1,Hn)}ha(A,"change",A,g)}function Xu(A,g,M){function w(P,j,Z){if(P.linked)for(var le=0;le<P.linked.length;++le){var de=P.linked[le];if(de.doc!=j){var xe=Z&&de.sharedHist;M&&!xe||(g(de.doc,xe),w(de.doc,P,xe))}}}w(A,null,!0)}function Cr(A,g){if(g.cm)throw new Error("This document is already in use.");A.doc=g,g.cm=A,pc(A),Dd(A),jr(A),A.options.direction=g.direction,A.options.lineWrapping||Va(A),A.options.mode=g.modeOption,rl(A)}function jr(A){(A.doc.direction=="rtl"?$e:Ue)(A.display.lineDiv,"CodeMirror-rtl")}function Iu(A){To(A,function(){jr(A),rl(A)})}function QA(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function ku(A,g){var M={from:Ci(g.from),to:al(g),text:La(A,g.from,g.to)};return Go(A,M,g.from.line,g.to.line+1),Xu(A,function(w){return Go(w,M,g.from.line,g.to.line+1)},!0),M}function Zo(A){for(;A.length;){var g=Zn(A);if(g.ranges)A.pop();else break}}function Im(A,g){if(g)return Zo(A.done),Zn(A.done);if(A.done.length&&!Zn(A.done).ranges)return Zn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),Zn(A.done)}function Tu(A,g,M,w){var P=A.history;P.undone.length=0;var j=+new Date,Z,le;if((P.lastOp==w||P.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&P.lastModTime>j-(A.cm?A.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(Z=Im(P,P.lastOp==w)))le=Zn(Z.changes),En(g.from,g.to)==0&&En(g.from,le.to)==0?le.to=al(g):Z.changes.push(ku(A,g));else{var de=Zn(P.done);for((!de||!de.ranges)&&vo(A.sel,P.done),Z={changes:[ku(A,g)],generation:P.generation},P.done.push(Z);P.done.length>P.undoDepth;)P.done.shift(),P.done[0].ranges||P.done.shift()}P.done.push(M),P.generation=++P.maxGeneration,P.lastModTime=P.lastSelTime=j,P.lastOp=P.lastSelOp=w,P.lastOrigin=P.lastSelOrigin=g.origin,le||yt(A,"historyAdded")}function km(A,g,M,w){var P=g.charAt(0);return P=="*"||P=="+"&&M.ranges.length==w.ranges.length&&M.somethingSelected()==w.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function $A(A,g,M,w){var P=A.history,j=w&&w.origin;M==P.lastSelOp||j&&P.lastSelOrigin==j&&(P.lastModTime==P.lastSelTime&&P.lastOrigin==j||km(A,j,Zn(P.done),g))?P.done[P.done.length-1]=g:vo(g,P.done),P.lastSelTime=+new Date,P.lastSelOrigin=j,P.lastSelOp=M,w&&w.clearRedo!==!1&&Zo(P.undone)}function vo(A,g){var M=Zn(g);M&&M.ranges&&M.equals(A)||g.push(A)}function Go(A,g,M,w){var P=g["spans_"+A.id],j=0;A.iter(Math.max(A.first,M),Math.min(A.first+A.size,w),function(Z){Z.markedSpans&&((P||(P=g["spans_"+A.id]={}))[j]=Z.markedSpans),++j})}function Tm(A){if(!A)return null;for(var g,M=0;M<A.length;++M)A[M].marker.explicitlyCleared?g||(g=A.slice(0,M)):g&&g.push(A[M]);return g?g.length?g:null:A}function Cc(A,g){var M=g["spans_"+A.id];if(!M)return null;for(var w=[],P=0;P<g.text.length;++P)w.push(Tm(M[P]));return w}function Ld(A,g){var M=Cc(A,g),w=Dr(A,g);if(!M)return w;if(!w)return M;for(var P=0;P<M.length;++P){var j=M[P],Z=w[P];if(j&&Z)e:for(var le=0;le<Z.length;++le){for(var de=Z[le],xe=0;xe<j.length;++xe)if(j[xe].marker==de.marker)continue e;j.push(de)}else Z&&(M[P]=Z)}return M}function yA(A,g,M){for(var w=[],P=0;P<A.length;++P){var j=A[P];if(j.ranges){w.push(M?Ea.prototype.deepCopy.call(j):j);continue}var Z=j.changes,le=[];w.push({changes:le});for(var de=0;de<Z.length;++de){var xe=Z[de],Xe=void 0;if(le.push({from:xe.from,to:xe.to,text:xe.text}),g)for(var at in xe)(Xe=at.match(/^spans_(\d+)$/))&&Ge(g,Number(Xe[1]))>-1&&(Zn(le)[at]=xe[at],delete xe[at])}}return w}function za(A,g,M,w){if(w){var P=A.anchor;if(M){var j=En(g,P)<0;j!=En(M,P)<0?(P=g,g=M):j!=En(g,M)<0&&(g=M)}return new co(P,g)}else return new co(M||g,g)}function bc(A,g,M,w,P){P==null&&(P=A.cm&&(A.cm.display.shift||A.extend)),Za(A,new Ea([za(A.sel.primary(),g,M,P)],0),w)}function cu(A,g,M){for(var w=[],P=A.cm&&(A.cm.display.shift||A.extend),j=0;j<A.sel.ranges.length;j++)w[j]=za(A.sel.ranges[j],g[j],null,P);var Z=Zu(A.cm,w,A.sel.primIndex);Za(A,Z,M)}function xl(A,g,M,w){var P=A.sel.ranges.slice(0);P[g]=M,Za(A,Zu(A.cm,P,A.sel.primIndex),w)}function xc(A,g,M,w){Za(A,WA(g,M),w)}function uh(A,g,M){var w={ranges:g.ranges,update:function(P){this.ranges=[];for(var j=0;j<P.length;j++)this.ranges[j]=new co(Br(A,P[j].anchor),Br(A,P[j].head))},origin:M&&M.origin};return yt(A,"beforeSelectionChange",A,w),A.cm&&yt(A.cm,"beforeSelectionChange",A.cm,w),w.ranges!=g.ranges?Zu(A.cm,w.ranges,w.ranges.length-1):g}function Pu(A,g,M){var w=A.history.done,P=Zn(w);P&&P.ranges?(w[w.length-1]=g,Oa(A,g,M)):Za(A,g,M)}function Za(A,g,M){Oa(A,g,M),$A(A,A.sel,A.cm?A.cm.curOp.id:NaN,M)}function Oa(A,g,M){(Dt(A,"beforeSelectionChange")||A.cm&&Dt(A.cm,"beforeSelectionChange"))&&(g=uh(A,g,M));var w=M&&M.bias||(En(g.primary().head,A.sel.primary().head)<0?-1:1);vA(A,Wh(A,g,w,!0)),!(M&&M.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&yo(A.cm)}function vA(A,g){g.equals(A.sel)||(A.sel=g,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,Rt(A.cm)),ha(A,"cursorActivity",A))}function Df(A){vA(A,Wh(A,A.sel,null,!1))}function Wh(A,g,M,w){for(var P,j=0;j<g.ranges.length;j++){var Z=g.ranges[j],le=g.ranges.length==A.sel.ranges.length&&A.sel.ranges[j],de=wc(A,Z.anchor,le&&le.anchor,M,w),xe=Z.head==Z.anchor?de:wc(A,Z.head,le&&le.head,M,w);(P||de!=Z.anchor||xe!=Z.head)&&(P||(P=g.ranges.slice(0,j)),P[j]=new co(de,xe))}return P?Zu(A.cm,P,g.primIndex):g}function Ku(A,g,M,w,P){var j=ar(A,g.line);if(j.markedSpans)for(var Z=0;Z<j.markedSpans.length;++Z){var le=j.markedSpans[Z],de=le.marker,xe="selectLeft"in de?!de.selectLeft:de.inclusiveLeft,Xe="selectRight"in de?!de.selectRight:de.inclusiveRight;if((le.from==null||(xe?le.from<=g.ch:le.from<g.ch))&&(le.to==null||(Xe?le.to>=g.ch:le.to>g.ch))){if(P&&(yt(de,"beforeCursorEnter"),de.explicitlyCleared))if(j.markedSpans){--Z;continue}else break;if(!de.atomic)continue;if(M){var at=de.find(w<0?1:-1),Kt=void 0;if((w<0?Xe:xe)&&(at=Fd(A,at,-w,at&&at.line==g.line?j:null)),at&&at.line==g.line&&(Kt=En(at,M))&&(w<0?Kt<0:Kt>0))return Ku(A,at,g,w,P)}var It=de.find(w<0?-1:1);return(w<0?xe:Xe)&&(It=Fd(A,It,w,It.line==g.line?j:null)),It?Ku(A,It,g,w,P):null}}return g}function wc(A,g,M,w,P){var j=w||1,Z=Ku(A,g,M,j,P)||!P&&Ku(A,g,M,j,!0)||Ku(A,g,M,-j,P)||!P&&Ku(A,g,M,-j,!0);return Z||(A.cantEdit=!0,Qt(A.first,0))}function Fd(A,g,M,w){return M<0&&g.ch==0?g.line>A.first?Br(A,Qt(g.line-1)):null:M>0&&g.ch==(w||ar(A,g.line)).text.length?g.line<A.first+A.size-1?Qt(g.line+1,0):null:new Qt(g.line,g.ch+M)}function YA(A){A.setSelection(Qt(A.firstLine(),0),Qt(A.lastLine()),Bt)}function Rd(A,g,M){var w={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return w.canceled=!0}};return M&&(w.update=function(P,j,Z,le){P&&(w.from=Br(A,P)),j&&(w.to=Br(A,j)),Z&&(w.text=Z),le!==void 0&&(w.origin=le)}),yt(A,"beforeChange",A,w),A.cm&&yt(A.cm,"beforeChange",A.cm,w),w.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:w.from,to:w.to,text:w.text,origin:w.origin}}function S(A,g,M){if(A.cm){if(!A.cm.curOp)return Pi(A.cm,S)(A,g,M);if(A.cm.state.suppressEdits)return}if(!((Dt(A,"beforeChange")||A.cm&&Dt(A.cm,"beforeChange"))&&(g=Rd(A,g,!0),!g))){var w=xo&&!M&&xi(A,g.from,g.to);if(w)for(var P=w.length-1;P>=0;--P)l(A,{from:w[P].from,to:w[P].to,text:P?[""]:g.text,origin:g.origin});else l(A,g)}}function l(A,g){if(!(g.text.length==1&&g.text[0]==""&&En(g.from,g.to)==0)){var M=sh(A,g);Tu(A,g,M,A.cm?A.cm.curOp.id:NaN),x(A,g,M,Dr(A,g));var w=[];Xu(A,function(P,j){!j&&Ge(w,P.history)==-1&&($(P.history,g),w.push(P.history)),x(P,g,null,Dr(P,g))})}}function c(A,g,M){var w=A.cm&&A.cm.state.suppressEdits;if(!(w&&!M)){for(var P=A.history,j,Z=A.sel,le=g=="undo"?P.done:P.undone,de=g=="undo"?P.undone:P.done,xe=0;xe<le.length&&(j=le[xe],!(M?j.ranges&&!j.equals(A.sel):!j.ranges));xe++);if(xe!=le.length){for(P.lastOrigin=P.lastSelOrigin=null;;)if(j=le.pop(),j.ranges){if(vo(j,de),M&&!j.equals(A.sel)){Za(A,j,{clearRedo:!1});return}Z=j}else if(w){le.push(j);return}else break;var Xe=[];vo(Z,de),de.push({changes:Xe,generation:P.generation}),P.generation=j.generation||++P.maxGeneration;for(var at=Dt(A,"beforeChange")||A.cm&&Dt(A.cm,"beforeChange"),Kt=function(vn){var Pn=j.changes[vn];if(Pn.origin=g,at&&!Rd(A,Pn,!1))return le.length=0,{};Xe.push(ku(A,Pn));var Hn=vn?sh(A,Pn):Zn(le);x(A,Pn,Hn,Ld(A,Pn)),!vn&&A.cm&&A.cm.scrollIntoView({from:Pn.from,to:al(Pn)});var or=[];Xu(A,function(Gn,hr){!hr&&Ge(or,Gn.history)==-1&&($(Gn.history,Pn),or.push(Gn.history)),x(Gn,Pn,null,Ld(Gn,Pn))})},It=j.changes.length-1;It>=0;--It){var un=Kt(It);if(un)return un.v}}}}function v(A,g){if(g!=0&&(A.first+=g,A.sel=new Ea(yr(A.sel.ranges,function(P){return new co(Qt(P.anchor.line+g,P.anchor.ch),Qt(P.head.line+g,P.head.ch))}),A.sel.primIndex),A.cm)){rl(A.cm,A.first,A.first-g,g);for(var M=A.cm.display,w=M.viewFrom;w<M.viewTo;w++)mc(A.cm,w,"gutter")}}function x(A,g,M,w){if(A.cm&&!A.cm.curOp)return Pi(A.cm,x)(A,g,M,w);if(g.to.line<A.first){v(A,g.text.length-1-(g.to.line-g.from.line));return}if(!(g.from.line>A.lastLine())){if(g.from.line<A.first){var P=g.text.length-1-(A.first-g.from.line);v(A,P),g={from:Qt(A.first,0),to:Qt(g.to.line+P,g.to.ch),text:[Zn(g.text)],origin:g.origin}}var j=A.lastLine();g.to.line>j&&(g={from:g.from,to:Qt(j,ar(A,j).text.length),text:[g.text[0]],origin:g.origin}),g.removed=La(A,g.from,g.to),M||(M=sh(A,g)),A.cm?O(A.cm,g,w):Bs(A,g,w),Oa(A,M,Bt),A.cantEdit&&wc(A,Qt(A.firstLine(),0))&&(A.cantEdit=!1)}}function O(A,g,M){var w=A.doc,P=A.display,j=g.from,Z=g.to,le=!1,de=j.line;A.options.lineWrapping||(de=Oe(er(ar(w,j.line))),w.iter(de,Z.line+1,function(It){if(It==P.maxLine)return le=!0,!0})),w.sel.contains(g.from,g.to)>-1&&Rt(A),Bs(w,g,M,Ip(A)),A.options.lineWrapping||(w.iter(de,j.line+g.text.length,function(It){var un=ia(It);un>P.maxLineLength&&(P.maxLine=It,P.maxLineLength=un,P.maxLineChanged=!0,le=!1)}),le&&(A.curOp.updateMaxLine=!0)),Os(w,j.line),Id(A,400);var xe=g.text.length-(Z.line-j.line)-1;g.full?rl(A):j.line==Z.line&&g.text.length==1&&!lh(A.doc,g)?mc(A,j.line,"text"):rl(A,j.line,Z.line+1,xe);var Xe=Dt(A,"changes"),at=Dt(A,"change");if(at||Xe){var Kt={from:j,to:Z,text:g.text,removed:g.removed,origin:g.origin};at&&ha(A,"change",A,Kt),Xe&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Kt)}A.display.selForContextMenu=null}function D(A,g,M,w,P){var j;w||(w=M),En(w,M)<0&&(j=[w,M],M=j[0],w=j[1]),typeof g=="string"&&(g=A.splitLines(g)),S(A,{from:M,to:w,text:g,origin:P})}function U(A,g,M,w){M<A.line?A.line+=w:g<A.line&&(A.line=g,A.ch=0)}function W(A,g,M,w){for(var P=0;P<A.length;++P){var j=A[P],Z=!0;if(j.ranges){j.copied||(j=A[P]=j.deepCopy(),j.copied=!0);for(var le=0;le<j.ranges.length;le++)U(j.ranges[le].anchor,g,M,w),U(j.ranges[le].head,g,M,w);continue}for(var de=0;de<j.changes.length;++de){var xe=j.changes[de];if(M<xe.from.line)xe.from=Qt(xe.from.line+w,xe.from.ch),xe.to=Qt(xe.to.line+w,xe.to.ch);else if(g<=xe.to.line){Z=!1;break}}Z||(A.splice(0,P+1),P=0)}}function $(A,g){var M=g.from.line,w=g.to.line,P=g.text.length-(w-M)-1;W(A.done,M,w,P),W(A.undone,M,w,P)}function ue(A,g,M,w){var P=g,j=g;return typeof g=="number"?j=ar(A,Dl(A,g)):P=Oe(g),P==null?null:(w(j,P)&&A.cm&&mc(A.cm,P,M),j)}function fe(A){this.lines=A,this.parent=null;for(var g=0,M=0;M<A.length;++M)A[M].parent=this,g+=A[M].height;this.height=g}fe.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,g){for(var M=A,w=A+g;M<w;++M){var P=this.lines[M];this.height-=P.height,Ma(P),ha(P,"delete")}this.lines.splice(A,g)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,g,M){this.height+=M,this.lines=this.lines.slice(0,A).concat(g).concat(this.lines.slice(A));for(var w=0;w<g.length;++w)g[w].parent=this},iterN:function(A,g,M){for(var w=A+g;A<w;++A)if(M(this.lines[A]))return!0}};function me(A){this.children=A;for(var g=0,M=0,w=0;w<A.length;++w){var P=A[w];g+=P.chunkSize(),M+=P.height,P.parent=this}this.size=g,this.height=M,this.parent=null}me.prototype={chunkSize:function(){return this.size},removeInner:function(A,g){this.size-=g;for(var M=0;M<this.children.length;++M){var w=this.children[M],P=w.chunkSize();if(A<P){var j=Math.min(g,P-A),Z=w.height;if(w.removeInner(A,j),this.height-=Z-w.height,P==j&&(this.children.splice(M--,1),w.parent=null),(g-=j)==0)break;A=0}else A-=P}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof fe))){var le=[];this.collapse(le),this.children=[new fe(le)],this.children[0].parent=this}},collapse:function(A){for(var g=0;g<this.children.length;++g)this.children[g].collapse(A)},insertInner:function(A,g,M){this.size+=g.length,this.height+=M;for(var w=0;w<this.children.length;++w){var P=this.children[w],j=P.chunkSize();if(A<=j){if(P.insertInner(A,g,M),P.lines&&P.lines.length>50){for(var Z=P.lines.length%25+25,le=Z;le<P.lines.length;){var de=new fe(P.lines.slice(le,le+=25));P.height-=de.height,this.children.splice(++w,0,de),de.parent=this}P.lines=P.lines.slice(0,Z),this.maybeSpill()}break}A-=j}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var g=A.children.splice(A.children.length-5,5),M=new me(g);if(A.parent){A.size-=M.size,A.height-=M.height;var P=Ge(A.parent.children,A);A.parent.children.splice(P+1,0,M)}else{var w=new me(A.children);w.parent=A,A.children=[w,M],A=w}M.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,g,M){for(var w=0;w<this.children.length;++w){var P=this.children[w],j=P.chunkSize();if(A<j){var Z=Math.min(g,j-A);if(P.iterN(A,Z,M))return!0;if((g-=Z)==0)break;A=0}else A-=j}}};var Ie=function(A,g,M){if(M)for(var w in M)M.hasOwnProperty(w)&&(this[w]=M[w]);this.doc=A,this.node=g};Ie.prototype.clear=function(){var A=this.doc.cm,g=this.line.widgets,M=this.line,w=Oe(M);if(!(w==null||!g)){for(var P=0;P<g.length;++P)g[P]==this&&g.splice(P--,1);g.length||(M.widgets=null);var j=uA(this);ua(M,Math.max(0,M.height-j)),A&&(To(A,function(){De(A,M,-j),mc(A,w,"widget")}),ha(A,"lineWidgetCleared",A,this,w))}},Ie.prototype.changed=function(){var A=this,g=this.height,M=this.doc.cm,w=this.line;this.height=null;var P=uA(this)-g;P&&(Er(this.doc,w)||ua(w,w.height+P),M&&To(M,function(){M.curOp.forceUpdate=!0,De(M,w,P),ha(M,"lineWidgetChanged",M,A,Oe(w))}))},Ot(Ie);function De(A,g,M){ko(g)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&aa(A,M)}function He(A,g,M,w){var P=new Ie(A,M,w),j=A.cm;return j&&P.noHScroll&&(j.display.alignWidgets=!0),ue(A,g,"widget",function(Z){var le=Z.widgets||(Z.widgets=[]);if(P.insertAt==null?le.push(P):le.splice(Math.min(le.length,Math.max(0,P.insertAt)),0,P),P.line=Z,j&&!Er(A,Z)){var de=ko(Z)<A.scrollTop;ua(Z,Z.height+uA(P)),de&&aa(j,P.height),j.curOp.forceUpdate=!0}return!0}),j&&ha(j,"lineWidgetAdded",j,P,typeof g=="number"?g:Oe(g)),P}var Ve=0,Ze=function(A,g){this.lines=[],this.type=g,this.doc=A,this.id=++Ve};Ze.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,g=A&&!A.curOp;if(g&&Bu(A),Dt(this,"clear")){var M=this.find();M&&ha(this,"clear",M.from,M.to)}for(var w=null,P=null,j=0;j<this.lines.length;++j){var Z=this.lines[j],le=Rs(Z.markedSpans,this);A&&!this.collapsed?mc(A,Oe(Z),"text"):A&&(le.to!=null&&(P=Oe(Z)),le.from!=null&&(w=Oe(Z))),Z.markedSpans=Vu(Z.markedSpans,le),le.from==null&&this.collapsed&&!Er(this.doc,Z)&&A&&ua(Z,au(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var de=0;de<this.lines.length;++de){var xe=er(this.lines[de]),Xe=ia(xe);Xe>A.display.maxLineLength&&(A.display.maxLine=xe,A.display.maxLineLength=Xe,A.display.maxLineChanged=!0)}w!=null&&A&&this.collapsed&&rl(A,w,P+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Df(A.doc)),A&&ha(A,"markerCleared",A,this,w,P),g&&yc(A),this.parent&&this.parent.clear()}},Ze.prototype.find=function(A,g){A==null&&this.type=="bookmark"&&(A=1);for(var M,w,P=0;P<this.lines.length;++P){var j=this.lines[P],Z=Rs(j.markedSpans,this);if(Z.from!=null&&(M=Qt(g?j:Oe(j),Z.from),A==-1))return M;if(Z.to!=null&&(w=Qt(g?j:Oe(j),Z.to),A==1))return w}return M&&{from:M,to:w}},Ze.prototype.changed=function(){var A=this,g=this.find(-1,!0),M=this,w=this.doc.cm;!g||!w||To(w,function(){var P=g.line,j=Oe(g.line),Z=AA(w,j);if(Z&&(Mf(Z),w.curOp.selectionChanged=w.curOp.forceUpdate=!0),w.curOp.updateMaxLine=!0,!Er(M.doc,P)&&M.height!=null){var le=M.height;M.height=null;var de=uA(M)-le;de&&ua(P,P.height+de)}ha(w,"markerChanged",w,A)})},Ze.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(!g.maybeHiddenMarkers||Ge(g.maybeHiddenMarkers,this)==-1)&&(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},Ze.prototype.detachLine=function(A){if(this.lines.splice(Ge(this.lines,A),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},Ot(Ze);function et(A,g,M,w,P){if(w&&w.shared)return mt(A,g,M,w,P);if(A.cm&&!A.cm.curOp)return Pi(A.cm,et)(A,g,M,w,P);var j=new Ze(A,P),Z=En(g,M);if(w&&Fe(w,j,!1),Z>0||Z==0&&j.clearWhenEmpty!==!1)return j;if(j.replacedWith&&(j.collapsed=!0,j.widgetNode=pt("span",[j.replacedWith],"CodeMirror-widget"),w.handleMouseEvents||j.widgetNode.setAttribute("cm-ignore-events","true"),w.insertLeft&&(j.widgetNode.insertLeft=!0)),j.collapsed){if(Vr(A,g.line,g,M,j)||g.line!=M.line&&Vr(A,M.line,g,M,j))throw new Error("Inserting collapsed marker partially overlapping an existing one");yl()}j.addToHistory&&Tu(A,{from:g,to:M,origin:"markText"},A.sel,NaN);var le=g.line,de=A.cm,xe;if(A.iter(le,M.line+1,function(at){de&&j.collapsed&&!de.options.lineWrapping&&er(at)==de.display.maxLine&&(xe=!0),j.collapsed&&le!=g.line&&ua(at,0),Gi(at,new qa(j,le==g.line?g.ch:null,le==M.line?M.ch:null),A.cm&&A.cm.curOp),++le}),j.collapsed&&A.iter(g.line,M.line+1,function(at){Er(A,at)&&ua(at,0)}),j.clearOnEnter&&Ke(j,"beforeCursorEnter",function(){return j.clear()}),j.readOnly&&(ya(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),j.collapsed&&(j.id=++Ve,j.atomic=!0),de){if(xe&&(de.curOp.updateMaxLine=!0),j.collapsed)rl(de,g.line,M.line+1);else if(j.className||j.startStyle||j.endStyle||j.css||j.attributes||j.title)for(var Xe=g.line;Xe<=M.line;Xe++)mc(de,Xe,"text");j.atomic&&Df(de.doc),ha(de,"markerAdded",de,j)}return j}var ct=function(A,g){this.markers=A,this.primary=g;for(var M=0;M<A.length;++M)A[M].parent=this};ct.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();ha(this,"clear")}},ct.prototype.find=function(A,g){return this.primary.find(A,g)},Ot(ct);function mt(A,g,M,w,P){w=Fe(w),w.shared=!1;var j=[et(A,g,M,w,P)],Z=j[0],le=w.widgetNode;return Xu(A,function(de){le&&(w.widgetNode=le.cloneNode(!0)),j.push(et(de,Br(de,g),Br(de,M),w,P));for(var xe=0;xe<de.linked.length;++xe)if(de.linked[xe].isParent)return;Z=Zn(j)}),new ct(j,Z)}function vt(A){return A.findMarks(Qt(A.first,0),A.clipPos(Qt(A.lastLine())),function(g){return g.parent})}function Et(A,g){for(var M=0;M<g.length;M++){var w=g[M],P=w.find(),j=A.clipPos(P.from),Z=A.clipPos(P.to);if(En(j,Z)){var le=et(A,j,Z,w.primary,w.primary.type);w.markers.push(le),le.parent=w}}}function xt(A){for(var g=function(w){var P=A[w],j=[P.primary.doc];Xu(P.primary.doc,function(de){return j.push(de)});for(var Z=0;Z<P.markers.length;Z++){var le=P.markers[Z];Ge(j,le.doc)==-1&&(le.parent=null,P.markers.splice(Z--,1))}},M=0;M<A.length;M++)g(M)}var zt=0,Ft=function(A,g,M,w,P){if(!(this instanceof Ft))return new Ft(A,g,M,w,P);M==null&&(M=0),me.call(this,[new fe([new tl("",null)])]),this.first=M,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=M;var j=Qt(M,0);this.sel=WA(j),this.history=new QA(null),this.id=++zt,this.modeOption=g,this.lineSep=w,this.direction=P=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),Bs(this,{from:j,to:j,text:A}),Za(this,WA(j),Bt)};Ft.prototype=Jr(me.prototype,{constructor:Ft,iter:function(A,g,M){M?this.iterN(A-this.first,g-A,M):this.iterN(this.first,this.first+this.size,A)},insert:function(A,g){for(var M=0,w=0;w<g.length;++w)M+=g[w].height;this.insertInner(A-this.first,g,M)},remove:function(A,g){this.removeInner(A-this.first,g)},getValue:function(A){var g=Io(this,this.first,this.first+this.size);return A===!1?g:g.join(A||this.lineSeparator())},setValue:da(function(A){var g=Qt(this.first,0),M=this.first+this.size-1;S(this,{from:g,to:Qt(M,ar(this,M).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&Oo(this.cm,0,0),Za(this,WA(g),Bt)}),replaceRange:function(A,g,M,w){g=Br(this,g),M=M?Br(this,M):g,D(this,A,g,M,w)},getRange:function(A,g,M){var w=La(this,Br(this,A),Br(this,g));return M===!1?w:M===""?w.join(""):w.join(M||this.lineSeparator())},getLine:function(A){var g=this.getLineHandle(A);return g&&g.text},getLineHandle:function(A){if(rn(this,A))return ar(this,A)},getLineNumber:function(A){return Oe(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=ar(this,A)),er(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Br(this,A)},getCursor:function(A){var g=this.sel.primary(),M;return A==null||A=="head"?M=g.head:A=="anchor"?M=g.anchor:A=="end"||A=="to"||A===!1?M=g.to():M=g.from(),M},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:da(function(A,g,M){xc(this,Br(this,typeof A=="number"?Qt(A,g||0):A),null,M)}),setSelection:da(function(A,g,M){xc(this,Br(this,A),Br(this,g||A),M)}),extendSelection:da(function(A,g,M){bc(this,Br(this,A),g&&Br(this,g),M)}),extendSelections:da(function(A,g){cu(this,xa(this,A),g)}),extendSelectionsBy:da(function(A,g){var M=yr(this.sel.ranges,A);cu(this,xa(this,M),g)}),setSelections:da(function(A,g,M){if(A.length){for(var w=[],P=0;P<A.length;P++)w[P]=new co(Br(this,A[P].anchor),Br(this,A[P].head||A[P].anchor));g==null&&(g=Math.min(A.length-1,this.sel.primIndex)),Za(this,Zu(this.cm,w,g),M)}}),addSelection:da(function(A,g,M){var w=this.sel.ranges.slice(0);w.push(new co(Br(this,A),Br(this,g||A))),Za(this,Zu(this.cm,w,w.length-1),M)}),getSelection:function(A){for(var g=this.sel.ranges,M,w=0;w<g.length;w++){var P=La(this,g[w].from(),g[w].to());M=M?M.concat(P):P}return A===!1?M:M.join(A||this.lineSeparator())},getSelections:function(A){for(var g=[],M=this.sel.ranges,w=0;w<M.length;w++){var P=La(this,M[w].from(),M[w].to());A!==!1&&(P=P.join(A||this.lineSeparator())),g[w]=P}return g},replaceSelection:function(A,g,M){for(var w=[],P=0;P<this.sel.ranges.length;P++)w[P]=A;this.replaceSelections(w,g,M||"+input")},replaceSelections:da(function(A,g,M){for(var w=[],P=this.sel,j=0;j<P.ranges.length;j++){var Z=P.ranges[j];w[j]={from:Z.from(),to:Z.to(),text:this.splitLines(A[j]),origin:M}}for(var le=g&&g!="end"&&Kp(this,w,g),de=w.length-1;de>=0;de--)S(this,w[de]);le?Pu(this,le):this.cm&&yo(this.cm)}),undo:da(function(){c(this,"undo")}),redo:da(function(){c(this,"redo")}),undoSelection:da(function(){c(this,"undo",!0)}),redoSelection:da(function(){c(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,g=0,M=0,w=0;w<A.done.length;w++)A.done[w].ranges||++g;for(var P=0;P<A.undone.length;P++)A.undone[P].ranges||++M;return{undo:g,redo:M}},clearHistory:function(){var A=this;this.history=new QA(this.history),Xu(this,function(g){return g.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:yA(this.history.done),undone:yA(this.history.undone)}},setHistory:function(A){var g=this.history=new QA(this.history);g.done=yA(A.done.slice(0),null,!0),g.undone=yA(A.undone.slice(0),null,!0)},setGutterMarker:da(function(A,g,M){return ue(this,A,"gutter",function(w){var P=w.gutterMarkers||(w.gutterMarkers={});return P[g]=M,!M&&te(P)&&(w.gutterMarkers=null),!0})}),clearGutter:da(function(A){var g=this;this.iter(function(M){M.gutterMarkers&&M.gutterMarkers[A]&&ue(g,M,"gutter",function(){return M.gutterMarkers[A]=null,te(M.gutterMarkers)&&(M.gutterMarkers=null),!0})})}),lineInfo:function(A){var g;if(typeof A=="number"){if(!rn(this,A)||(g=A,A=ar(this,A),!A))return null}else if(g=Oe(A),g==null)return null;return{line:g,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:da(function(A,g,M){return ue(this,A,g=="gutter"?"gutter":"class",function(w){var P=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(!w[P])w[P]=M;else{if(Pe(M).test(w[P]))return!1;w[P]+=" "+M}return!0})}),removeLineClass:da(function(A,g,M){return ue(this,A,g=="gutter"?"gutter":"class",function(w){var P=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",j=w[P];if(j)if(M==null)w[P]=null;else{var Z=j.match(Pe(M));if(!Z)return!1;var le=Z.index+Z[0].length;w[P]=j.slice(0,Z.index)+(!Z.index||le==j.length?"":" ")+j.slice(le)||null}else return!1;return!0})}),addLineWidget:da(function(A,g,M){return He(this,A,g,M)}),removeLineWidget:function(A){A.clear()},markText:function(A,g,M){return et(this,Br(this,A),Br(this,g),M,M&&M.type||"range")},setBookmark:function(A,g){var M={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return A=Br(this,A),et(this,A,A,M,"bookmark")},findMarksAt:function(A){A=Br(this,A);var g=[],M=ar(this,A.line).markedSpans;if(M)for(var w=0;w<M.length;++w){var P=M[w];(P.from==null||P.from<=A.ch)&&(P.to==null||P.to>=A.ch)&&g.push(P.marker.parent||P.marker)}return g},findMarks:function(A,g,M){A=Br(this,A),g=Br(this,g);var w=[],P=A.line;return this.iter(A.line,g.line+1,function(j){var Z=j.markedSpans;if(Z)for(var le=0;le<Z.length;le++){var de=Z[le];!(de.to!=null&&P==A.line&&A.ch>=de.to||de.from==null&&P!=A.line||de.from!=null&&P==g.line&&de.from>=g.ch)&&(!M||M(de.marker))&&w.push(de.marker.parent||de.marker)}++P}),w},getAllMarks:function(){var A=[];return this.iter(function(g){var M=g.markedSpans;if(M)for(var w=0;w<M.length;++w)M[w].from!=null&&A.push(M[w].marker)}),A},posFromIndex:function(A){var g,M=this.first,w=this.lineSeparator().length;return this.iter(function(P){var j=P.text.length+w;if(j>A)return g=A,!0;A-=j,++M}),Br(this,Qt(M,g))},indexFromPos:function(A){A=Br(this,A);var g=A.ch;if(A.line<this.first||A.ch<0)return 0;var M=this.lineSeparator().length;return this.iter(this.first,A.line,function(w){g+=w.text.length+M}),g},copy:function(A){var g=new Ft(Io(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,A&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(A){A||(A={});var g=this.first,M=this.first+this.size;A.from!=null&&A.from>g&&(g=A.from),A.to!=null&&A.to<M&&(M=A.to);var w=new Ft(Io(this,g,M),A.mode||this.modeOption,g,this.lineSep,this.direction);return A.sharedHist&&(w.history=this.history),(this.linked||(this.linked=[])).push({doc:w,sharedHist:A.sharedHist}),w.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],Et(w,vt(this)),w},unlinkDoc:function(A){if(A instanceof uo&&(A=A.doc),this.linked)for(var g=0;g<this.linked.length;++g){var M=this.linked[g];if(M.doc==A){this.linked.splice(g,1),A.unlinkDoc(this),xt(vt(this));break}}if(A.history==this.history){var w=[A.id];Xu(A,function(P){return w.push(P.id)},!0),A.history=new QA(null),A.history.done=yA(this.history.done,w),A.history.undone=yA(this.history.undone,w)}},iterLinkedDocs:function(A){Xu(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Tn(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:da(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(g){return g.order=null}),this.cm&&Iu(this.cm))})}),Ft.prototype.eachLine=Ft.prototype.iter;var ln=0;function An(A){var g=this;if(Un(g),!(lt(g,A)||Eu(g.display,A))){At(A),f&&(ln=+new Date);var M=cA(g,A,!0),w=A.dataTransfer.files;if(!(!M||g.isReadOnly()))if(w&&w.length&&window.FileReader&&window.File)for(var P=w.length,j=Array(P),Z=0,le=function(){++Z==P&&Pi(g,function(){M=Br(g.doc,M);var It={from:M,to:M,text:g.doc.splitLines(j.filter(function(un){return un!=null}).join(g.doc.lineSeparator())),origin:"paste"};S(g.doc,It),Pu(g.doc,WA(Br(g.doc,M),Br(g.doc,al(It))))})()},de=function(It,un){if(g.options.allowDropFileTypes&&Ge(g.options.allowDropFileTypes,It.type)==-1){le();return}var vn=new FileReader;vn.onerror=function(){return le()},vn.onload=function(){var Pn=vn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Pn)){le();return}j[un]=Pn,le()},vn.readAsText(It)},xe=0;xe<w.length;xe++)de(w[xe],xe);else{if(g.state.draggingText&&g.doc.sel.contains(M)>-1){g.state.draggingText(A),setTimeout(function(){return g.display.input.focus()},20);return}try{var Xe=A.dataTransfer.getData("Text");if(Xe){var at;if(g.state.draggingText&&!g.state.draggingText.copy&&(at=g.listSelections()),Oa(g.doc,WA(M,M)),at)for(var Kt=0;Kt<at.length;++Kt)D(g.doc,"",at[Kt].anchor,at[Kt].head,"drag");g.replaceSelection(Xe,"around","paste"),g.display.input.focus()}}catch{}}}}function on(A,g){if(f&&(!A.state.draggingText||+new Date-ln<100)){Yn(g);return}if(!(lt(A,g)||Eu(A.display,g))&&(g.dataTransfer.setData("Text",A.getSelection()),g.dataTransfer.effectAllowed="copyMove",g.dataTransfer.setDragImage&&!q)){var M=we("img",null,null,"position: fixed; left: 0; top: 0;");M.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L&&(M.width=M.height=1,A.display.wrapper.appendChild(M),M._top=M.offsetTop),g.dataTransfer.setDragImage(M,0,0),L&&M.parentNode.removeChild(M)}}function fn(A,g){var M=cA(A,g);if(M){var w=document.createDocumentFragment();eh(A,M,w),A.display.dragCursor||(A.display.dragCursor=we("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),Ye(A.display.dragCursor,w)}}function Un(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function cn(A){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),M=[],w=0;w<g.length;w++){var P=g[w].CodeMirror;P&&M.push(P)}M.length&&M[0].operation(function(){for(var j=0;j<M.length;j++)A(M[j])})}}var ur=!1;function Ai(){ur||(ho(),ur=!0)}function ho(){var A;Ke(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,cn(fa)},100))}),Ke(window,"blur",function(){return cn(jA)})}function fa(A){var g=A.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,A.setSize()}for(var fi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Mo=0;Mo<10;Mo++)fi[Mo+48]=fi[Mo+96]=String(Mo);for(var So=65;So<=90;So++)fi[So]=String.fromCharCode(So);for(var to=1;to<=12;to++)fi[to+111]=fi[to+63235]="F"+to;var $i={};$i.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},$i.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},$i.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},$i.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},$i.default=se?$i.macDefault:$i.pcDefault;function Xa(A){var g=A.split(/-(?!$)/);A=g[g.length-1];for(var M,w,P,j,Z=0;Z<g.length-1;Z++){var le=g[Z];if(/^(cmd|meta|m)$/i.test(le))j=!0;else if(/^a(lt)?$/i.test(le))M=!0;else if(/^(c|ctrl|control)$/i.test(le))w=!0;else if(/^s(hift)?$/i.test(le))P=!0;else throw new Error("Unrecognized modifier name: "+le)}return M&&(A="Alt-"+A),w&&(A="Ctrl-"+A),j&&(A="Cmd-"+A),P&&(A="Shift-"+A),A}function _o(A){var g={};for(var M in A)if(A.hasOwnProperty(M)){var w=A[M];if(/^(name|fallthrough|(de|at)tach)$/.test(M))continue;if(w=="..."){delete A[M];continue}for(var P=yr(M.split(" "),Xa),j=0;j<P.length;j++){var Z=void 0,le=void 0;j==P.length-1?(le=P.join(" "),Z=w):(le=P.slice(0,j+1).join(" "),Z="...");var de=g[le];if(!de)g[le]=Z;else if(de!=Z)throw new Error("Inconsistent bindings for "+le)}delete A[M]}for(var xe in g)A[xe]=g[xe];return A}function Po(A,g,M,w){g=Gl(g);var P=g.call?g.call(A,w):g[A];if(P===!1)return"nothing";if(P==="...")return"multi";if(P!=null&&M(P))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return Po(A,g.fallthrough,M,w);for(var j=0;j<g.fallthrough.length;j++){var Z=Po(A,g.fallthrough[j],M,w);if(Z)return Z}}}function gs(A){var g=typeof A=="string"?A:fi[A.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function Du(A,g,M){var w=A;return g.altKey&&w!="Alt"&&(A="Alt-"+A),(be?g.metaKey:g.ctrlKey)&&w!="Ctrl"&&(A="Ctrl-"+A),(be?g.ctrlKey:g.metaKey)&&w!="Mod"&&(A="Cmd-"+A),!M&&g.shiftKey&&w!="Shift"&&(A="Shift-"+A),A}function zs(A,g){if(L&&A.keyCode==34&&A.char)return!1;var M=fi[A.keyCode];return M==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(M=A.code),Du(M,A,g))}function Gl(A){return typeof A=="string"?$i[A]:A}function Ql(A,g){for(var M=A.doc.sel.ranges,w=[],P=0;P<M.length;P++){for(var j=g(M[P]);w.length&&En(j.from,Zn(w).to)<=0;){var Z=w.pop();if(En(Z.from,j.from)<0){j.from=Z.from;break}}w.push(j)}To(A,function(){for(var le=w.length-1;le>=0;le--)D(A.doc,"",w[le].from,w[le].to,"+delete");yo(A)})}function Mc(A,g,M){var w=Ct(A.text,g+M,M);return w<0||w>A.text.length?null:w}function Sc(A,g,M){var w=Mc(A,g.ch,M);return w==null?null:new Qt(g.line,w,M<0?"after":"before")}function Lu(A,g,M,w,P){if(A){g.doc.direction=="rtl"&&(P=-P);var j=Me(M,g.doc.direction);if(j){var Z=P<0?Zn(j):j[0],le=P<0==(Z.level==1),de=le?"after":"before",xe;if(Z.level>0||g.doc.direction=="rtl"){var Xe=Cl(g,M);xe=P<0?M.text.length-1:0;var at=ou(g,Xe,xe).top;xe=Lt(function(Kt){return ou(g,Xe,Kt).top==at},P<0==(Z.level==1)?Z.from:Z.to-1,xe),de=="before"&&(xe=Mc(M,xe,1))}else xe=P<0?Z.to:Z.from;return new Qt(w,xe,de)}}return new Qt(w,P<0?M.text.length:0,P<0?"before":"after")}function Ba(A,g,M,w){var P=Me(g,A.doc.direction);if(!P)return Sc(g,M,w);M.ch>=g.text.length?(M.ch=g.text.length,M.sticky="before"):M.ch<=0&&(M.ch=0,M.sticky="after");var j=Re(P,M.ch,M.sticky),Z=P[j];if(A.doc.direction=="ltr"&&Z.level%2==0&&(w>0?Z.to>M.ch:Z.from<M.ch))return Sc(g,M,w);var le=function(Hn,or){return Mc(g,Hn instanceof Qt?Hn.ch:Hn,or)},de,xe=function(Hn){return A.options.lineWrapping?(de=de||Cl(A,g),wo(A,g,de,Hn)):{begin:0,end:g.text.length}},Xe=xe(M.sticky=="before"?le(M,-1):M.ch);if(A.doc.direction=="rtl"||Z.level==1){var at=Z.level==1==w<0,Kt=le(M,at?1:-1);if(Kt!=null&&(at?Kt<=Z.to&&Kt<=Xe.end:Kt>=Z.from&&Kt>=Xe.begin)){var It=at?"before":"after";return new Qt(M.line,Kt,It)}}var un=function(Hn,or,Gn){for(var hr=function(Xo,es){return es?new Qt(M.line,le(Xo,1),"before"):new Qt(M.line,Xo,"after")};Hn>=0&&Hn<P.length;Hn+=or){var Fr=P[Hn],Lr=or>0==(Fr.level!=1),Fi=Lr?Gn.begin:le(Gn.end,-1);if(Fr.from<=Fi&&Fi<Fr.to||(Fi=Lr?Fr.from:le(Fr.to,-1),Gn.begin<=Fi&&Fi<Gn.end))return hr(Fi,Lr)}},vn=un(j+w,w,Xe);if(vn)return vn;var Pn=w>0?Xe.end:le(Xe.begin,-1);return Pn!=null&&!(w>0&&Pn==g.text.length)&&(vn=un(w>0?0:P.length-1,w,xe(Pn)),vn)?vn:null}var Ns={selectAll:YA,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),Bt)},killLine:function(A){return Ql(A,function(g){if(g.empty()){var M=ar(A.doc,g.head.line).text.length;return g.head.ch==M&&g.head.line<A.lastLine()?{from:g.head,to:Qt(g.head.line+1,0)}:{from:g.head,to:Qt(g.head.line,M)}}else return{from:g.from(),to:g.to()}})},deleteLine:function(A){return Ql(A,function(g){return{from:Qt(g.from().line,0),to:Br(A.doc,Qt(g.to().line+1,0))}})},delLineLeft:function(A){return Ql(A,function(g){return{from:Qt(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(A){return Ql(A,function(g){var M=A.charCoords(g.head,"div").top+5,w=A.coordsChar({left:0,top:M},"div");return{from:w,to:g.from()}})},delWrappedLineRight:function(A){return Ql(A,function(g){var M=A.charCoords(g.head,"div").top+5,w=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:M},"div");return{from:g.from(),to:w}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Qt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Qt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(g){return Ia(A,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(g){return Qo(A,g.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(g){return sl(A,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:M},"div")},Gt)},goLineLeft:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5;return A.coordsChar({left:0,top:M},"div")},Gt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5,w=A.coordsChar({left:0,top:M},"div");return w.ch<A.getLine(w.line).search(/\S/)?Qo(A,g.head):w},Gt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var g=[],M=A.listSelections(),w=A.options.tabSize,P=0;P<M.length;P++){var j=M[P].from(),Z=ye(A.getLine(j.line),j.ch,w);g.push(xn(w-Z%w))}A.replaceSelections(g)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return To(A,function(){for(var g=A.listSelections(),M=[],w=0;w<g.length;w++)if(g[w].empty()){var P=g[w].head,j=ar(A.doc,P.line).text;if(j){if(P.ch==j.length&&(P=new Qt(P.line,P.ch-1)),P.ch>0)P=new Qt(P.line,P.ch+1),A.replaceRange(j.charAt(P.ch-1)+j.charAt(P.ch-2),Qt(P.line,P.ch-2),P,"+transpose");else if(P.line>A.doc.first){var Z=ar(A.doc,P.line-1).text;Z&&(P=new Qt(P.line,1),A.replaceRange(j.charAt(0)+A.doc.lineSeparator()+Z.charAt(Z.length-1),Qt(P.line-1,Z.length-1),P,"+transpose"))}}M.push(new co(P,P))}A.setSelections(M)})},newlineAndIndent:function(A){return To(A,function(){for(var g=A.listSelections(),M=g.length-1;M>=0;M--)A.replaceRange(A.doc.lineSeparator(),g[M].anchor,g[M].head,"+input");g=A.listSelections();for(var w=0;w<g.length;w++)A.indentLine(g[w].from().line,null,!0);yo(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Ia(A,g){var M=ar(A.doc,g),w=er(M);return w!=M&&(g=Oe(w)),Lu(!0,A,w,g,1)}function sl(A,g){var M=ar(A.doc,g),w=lr(M);return w!=M&&(g=Oe(w)),Lu(!0,A,M,g,-1)}function Qo(A,g){var M=Ia(A,g.line),w=ar(A.doc,M.line),P=Me(w,A.doc.direction);if(!P||P[0].level==0){var j=Math.max(M.ch,w.text.search(/\S/)),Z=g.line==M.line&&g.ch<=j&&g.ch;return Qt(M.line,Z?0:j,M.sticky)}return M}function va(A,g,M){if(typeof g=="string"&&(g=Ns[g],!g))return!1;A.display.input.ensurePolled();var w=A.display.shift,P=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),M&&(A.display.shift=!1),P=g(A)!=ht}finally{A.display.shift=w,A.state.suppressEdits=!1}return P}function Is(A,g,M){for(var w=0;w<A.state.keyMaps.length;w++){var P=Po(g,A.state.keyMaps[w],M,A);if(P)return P}return A.options.extraKeys&&Po(g,A.options.extraKeys,M,A)||Po(g,A.options.keyMap,M,A)}var ks=new ke;function Gh(A,g,M,w){var P=A.state.keySeq;if(P){if(gs(g))return"handled";if(/\'$/.test(g)?A.state.keySeq=null:ks.set(50,function(){A.state.keySeq==P&&(A.state.keySeq=null,A.display.input.reset())}),Ud(A,P+" "+g,M,w))return!0}return Ud(A,g,M,w)}function Ud(A,g,M,w){var P=Is(A,g,w);return P=="multi"&&(A.state.keySeq=g),P=="handled"&&ha(A,"keyHandled",A,g,M),(P=="handled"||P=="multi")&&(At(M),th(A)),!!P}function Lf(A,g){var M=zs(g,!0);return M?g.shiftKey&&!A.state.keySeq?Gh(A,"Shift-"+M,g,function(w){return va(A,w,!0)})||Gh(A,M,g,function(w){if(typeof w=="string"?/^go[A-Z]/.test(w):w.motion)return va(A,w)}):Gh(A,M,g,function(w){return va(A,w)}):!1}function Ah(A,g,M){return Gh(A,"'"+M+"'",g,function(w){return va(A,w,!0)})}var _A=null;function Ff(A){var g=this;if(!(A.target&&A.target!=g.display.input.getField())&&(g.curOp.focus=bt(tn(g)),!lt(g,A))){f&&m<11&&A.keyCode==27&&(A.returnValue=!1);var M=A.keyCode;g.display.shift=M==16||A.shiftKey;var w=Lf(g,A);L&&(_A=w?M:null,!w&&M==88&&!Zi&&(se?A.metaKey:A.ctrlKey)&&g.replaceSelection("",null,"cut")),i&&!se&&!w&&M==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),M==18&&!/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)&&Ja(g)}}function Ja(A){var g=A.display.lineDiv;$e(g,"CodeMirror-crosshair");function M(w){(w.keyCode==18||!w.altKey)&&(Ue(g,"CodeMirror-crosshair"),ot(document,"keyup",M),ot(document,"mouseover",M))}Ke(document,"keyup",M),Ke(document,"mouseover",M)}function $l(A){A.keyCode==16&&(this.doc.sel.shift=!1),lt(this,A)}function Rf(A){var g=this;if(!(A.target&&A.target!=g.display.input.getField())&&!(Eu(g.display,A)||lt(g,A)||A.ctrlKey&&!A.altKey||se&&A.metaKey)){var M=A.keyCode,w=A.charCode;if(L&&M==_A){_A=null,At(A);return}if(!(L&&(!A.which||A.which<10)&&Lf(g,A))){var P=String.fromCharCode(w??M);P!="\b"&&(Ah(g,A,P)||g.display.input.onKeyPress(A))}}}var Pm=400,qA=function(A,g,M){this.time=A,this.pos=g,this.button=M};qA.prototype.compare=function(A,g,M){return this.time+Pm>A&&En(g,this.pos)==0&&M==this.button};var Ju,CA;function B1(A,g){var M=+new Date;return CA&&CA.compare(M,A,g)?(Ju=CA=null,"triple"):Ju&&Ju.compare(M,A,g)?(CA=new qA(M,A,g),Ju=null,"double"):(Ju=new qA(M,A,g),CA=null,"single")}function Km(A){var g=this,M=g.display;if(!(lt(g,A)||M.activeTouch&&M.input.supportsTouch())){if(M.input.ensurePolled(),M.shift=A.shiftKey,Eu(M,A)){C||(M.scroller.draggable=!1,setTimeout(function(){return M.scroller.draggable=!0},100));return}if(!Wd(g,A)){var w=cA(g,A),P=$t(A),j=w?B1(w,P):"single";Xt(g).focus(),P==1&&g.state.selectingText&&g.state.selectingText(A),!(w&&H0(g,P,w,j,A))&&(P==1?w?Ec(g,w,j,A):Sr(A)==M.scroller&&At(A):P==2?(w&&bc(g.doc,w),setTimeout(function(){return M.input.focus()},20)):P==3&&(_e?g.display.input.onContextMenu(A):nh(g)))}}}function H0(A,g,M,w,P){var j="Click";return w=="double"?j="Double"+j:w=="triple"&&(j="Triple"+j),j=(g==1?"Left":g==2?"Middle":"Right")+j,Gh(A,Du(j,P),P,function(Z){if(typeof Z=="string"&&(Z=Ns[Z]),!Z)return!1;var le=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),le=Z(A,M)!=ht}finally{A.state.suppressEdits=!1}return le})}function jd(A,g,M){var w=A.getOption("configureMouse"),P=w?w(A,g,M):{};if(P.unit==null){var j=Ae?M.shiftKey&&M.metaKey:M.altKey;P.unit=j?"rectangle":g=="single"?"char":g=="double"?"word":"line"}return(P.extend==null||A.doc.extend)&&(P.extend=A.doc.extend||M.shiftKey),P.addNew==null&&(P.addNew=se?M.metaKey:M.ctrlKey),P.moveOnDrag==null&&(P.moveOnDrag=!(se?M.altKey:M.ctrlKey)),P}function Ec(A,g,M,w){f?setTimeout(Nt(dA,A),0):A.curOp.focus=bt(tn(A));var P=jd(A,M,w),j=A.doc.sel,Z;A.options.dragDrop&&Kn&&!A.isReadOnly()&&M=="single"&&(Z=j.contains(g))>-1&&(En((Z=j.ranges[Z]).from(),g)<0||g.xRel>0)&&(En(Z.to(),g)>0||g.xRel<0)?c_(A,w,g,P):Dp(A,w,g,P)}function c_(A,g,M,w){var P=A.display,j=!1,Z=Pi(A,function(xe){C&&(P.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:nh(A)),ot(P.wrapper.ownerDocument,"mouseup",Z),ot(P.wrapper.ownerDocument,"mousemove",le),ot(P.scroller,"dragstart",de),ot(P.scroller,"drop",Z),j||(At(xe),w.addNew||bc(A.doc,M,null,null,w.extend),C&&!q||f&&m==9?setTimeout(function(){P.wrapper.ownerDocument.body.focus({preventScroll:!0}),P.input.focus()},20):P.input.focus())}),le=function(xe){j=j||Math.abs(g.clientX-xe.clientX)+Math.abs(g.clientY-xe.clientY)>=10},de=function(){return j=!0};C&&(P.scroller.draggable=!0),A.state.draggingText=Z,Z.copy=!w.moveOnDrag,Ke(P.wrapper.ownerDocument,"mouseup",Z),Ke(P.wrapper.ownerDocument,"mousemove",le),Ke(P.scroller,"dragstart",de),Ke(P.scroller,"drop",Z),A.state.delayingBlurEvent=!0,setTimeout(function(){return P.input.focus()},20),P.scroller.dragDrop&&P.scroller.dragDrop()}function zd(A,g,M){if(M=="char")return new co(g,g);if(M=="word")return A.findWordAt(g);if(M=="line")return new co(Qt(g.line,0),Br(A.doc,Qt(g.line+1,0)));var w=M(A,g);return new co(w.from,w.to)}function Dp(A,g,M,w){f&&nh(A);var P=A.display,j=A.doc;At(g);var Z,le,de=j.sel,xe=de.ranges;if(w.addNew&&!w.extend?(le=j.sel.contains(M),le>-1?Z=xe[le]:Z=new co(M,M)):(Z=j.sel.primary(),le=j.sel.primIndex),w.unit=="rectangle")w.addNew||(Z=new co(M,M)),M=cA(A,g,!0,!0),le=-1;else{var Xe=zd(A,M,w.unit);w.extend?Z=za(Z,Xe.anchor,Xe.head,w.extend):Z=Xe}w.addNew?le==-1?(le=xe.length,Za(j,Zu(A,xe.concat([Z]),le),{scroll:!1,origin:"*mouse"})):xe.length>1&&xe[le].empty()&&w.unit=="char"&&!w.extend?(Za(j,Zu(A,xe.slice(0,le).concat(xe.slice(le+1)),0),{scroll:!1,origin:"*mouse"}),de=j.sel):xl(j,le,Z,nn):(le=0,Za(j,new Ea([Z],0),nn),de=j.sel);var at=M;function Kt(Gn){if(En(at,Gn)!=0)if(at=Gn,w.unit=="rectangle"){for(var hr=[],Fr=A.options.tabSize,Lr=ye(ar(j,M.line).text,M.ch,Fr),Fi=ye(ar(j,Gn.line).text,Gn.ch,Fr),Xo=Math.min(Lr,Fi),es=Math.max(Lr,Fi),ka=Math.min(M.line,Gn.line),Na=Math.min(A.lastLine(),Math.max(M.line,Gn.line));ka<=Na;ka++){var Wa=ar(j,ka).text,ts=zn(Wa,Xo,Fr);Xo==es?hr.push(new co(Qt(ka,ts),Qt(ka,ts))):Wa.length>ts&&hr.push(new co(Qt(ka,ts),Qt(ka,zn(Wa,es,Fr))))}hr.length||hr.push(new co(M,M)),Za(j,Zu(A,de.ranges.slice(0,le).concat(hr),le),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Gn)}else{var ll=Z,Gs=zd(A,Gn,w.unit),ns=ll.anchor,rs;En(Gs.anchor,ns)>0?(rs=Gs.head,ns=Wo(ll.from(),Gs.anchor)):(rs=Gs.anchor,ns=Wi(ll.to(),Gs.head));var Ra=de.ranges.slice(0);Ra[le]=Nd(A,new co(Br(j,ns),rs)),Za(j,Zu(A,Ra,le),nn)}}var It=P.wrapper.getBoundingClientRect(),un=0;function vn(Gn){var hr=++un,Fr=cA(A,Gn,!0,w.unit=="rectangle");if(Fr)if(En(Fr,at)!=0){A.curOp.focus=bt(tn(A)),Kt(Fr);var Lr=zA(P,j);(Fr.line>=Lr.to||Fr.line<Lr.from)&&setTimeout(Pi(A,function(){un==hr&&vn(Gn)}),150)}else{var Fi=Gn.clientY<It.top?-20:Gn.clientY>It.bottom?20:0;Fi&&setTimeout(Pi(A,function(){un==hr&&(P.scroller.scrollTop+=Fi,vn(Gn))}),50)}}function Pn(Gn){A.state.selectingText=!1,un=1/0,Gn&&(At(Gn),P.input.focus()),ot(P.wrapper.ownerDocument,"mousemove",Hn),ot(P.wrapper.ownerDocument,"mouseup",or),j.history.lastSelOrigin=null}var Hn=Pi(A,function(Gn){Gn.buttons===0||!$t(Gn)?Pn(Gn):vn(Gn)}),or=Pi(A,Pn);A.state.selectingText=or,Ke(P.wrapper.ownerDocument,"mousemove",Hn),Ke(P.wrapper.ownerDocument,"mouseup",or)}function Nd(A,g){var M=g.anchor,w=g.head,P=ar(A.doc,M.line);if(En(M,w)==0&&M.sticky==w.sticky)return g;var j=Me(P);if(!j)return g;var Z=Re(j,M.ch,M.sticky),le=j[Z];if(le.from!=M.ch&&le.to!=M.ch)return g;var de=Z+(le.from==M.ch==(le.level!=1)?0:1);if(de==0||de==j.length)return g;var xe;if(w.line!=M.line)xe=(w.line-M.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Xe=Re(j,w.ch,w.sticky),at=Xe-Z||(w.ch-M.ch)*(le.level==1?-1:1);Xe==de-1||Xe==de?xe=at<0:xe=at>0}var Kt=j[de+(xe?-1:0)],It=xe==(Kt.level==1),un=It?Kt.from:Kt.to,vn=It?"after":"before";return M.ch==un&&M.sticky==vn?g:new co(new Qt(M.line,un,vn),w)}function Dm(A,g,M,w){var P,j;if(g.touches)P=g.touches[0].clientX,j=g.touches[0].clientY;else try{P=g.clientX,j=g.clientY}catch{return!1}if(P>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;w&&At(g);var Z=A.display,le=Z.lineDiv.getBoundingClientRect();if(j>le.bottom||!Dt(A,M))return gn(g);j-=le.top-Z.viewOffset;for(var de=0;de<A.display.gutterSpecs.length;++de){var xe=Z.gutters.childNodes[de];if(xe&&xe.getBoundingClientRect().right>=P){var Xe=it(A.doc,j),at=A.display.gutterSpecs[de];return yt(A,M,A,Xe,at.className,g),gn(g)}}}function Wd(A,g){return Dm(A,g,"gutterClick",!0)}function Lm(A,g){Eu(A.display,g)||Fm(A,g)||lt(A,g,"contextmenu")||_e||A.display.input.onContextMenu(g)}function Fm(A,g){return Dt(A,"gutterContextMenu")?Dm(A,g,"gutterContextMenu",!1):!1}function Z0(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hc(A)}var Qh={toString:function(){return"CodeMirror.Init"}},Uf={},Lp={};function Fp(A){var g=A.optionHandlers;function M(w,P,j,Z){A.defaults[w]=P,j&&(g[w]=Z?function(le,de,xe){xe!=Qh&&j(le,de,xe)}:j)}A.defineOption=M,A.Init=Qh,M("value","",function(w,P){return w.setValue(P)},!0),M("mode",null,function(w,P){w.doc.modeOption=P,Dd(w)},!0),M("indentUnit",2,Dd,!0),M("indentWithTabs",!1),M("smartIndent",!0),M("tabSize",4,function(w){GA(w),hc(w),rl(w)},!0),M("lineSeparator",null,function(w,P){if(w.doc.lineSep=P,!!P){var j=[],Z=w.doc.first;w.doc.iter(function(de){for(var xe=0;;){var Xe=de.text.indexOf(P,xe);if(Xe==-1)break;xe=Xe+P.length,j.push(Qt(Z,Xe))}Z++});for(var le=j.length-1;le>=0;le--)D(w.doc,P,j[le],Qt(j[le].line,j[le].ch+P.length))}}),M("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(w,P,j){w.state.specialChars=new RegExp(P.source+(P.test("	")?"":"|	"),"g"),j!=Qh&&w.refresh()}),M("specialCharPlaceholder",nu,function(w){return w.refresh()},!0),M("electricChars",!0),M("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),M("spellcheck",!1,function(w,P){return w.getInputField().spellcheck=P},!0),M("autocorrect",!1,function(w,P){return w.getInputField().autocorrect=P},!0),M("autocapitalize",!1,function(w,P){return w.getInputField().autocapitalize=P},!0),M("rtlMoveVisually",!V),M("wholeLineUpdateBefore",!0),M("theme","default",function(w){Z0(w),_c(w)},!0),M("keyMap","default",function(w,P,j){var Z=Gl(P),le=j!=Qh&&Gl(j);le&&le.detach&&le.detach(w,Z),Z.attach&&Z.attach(w,le||null)}),M("extraKeys",null),M("configureMouse",null),M("lineWrapping",!1,Rm,!0),M("gutters",[],function(w,P){w.display.gutterSpecs=ui(P,w.options.lineNumbers),_c(w)},!0),M("fixedGutter",!0,function(w,P){w.display.gutters.style.left=P?Eo(w.display)+"px":"0",w.refresh()},!0),M("coverGutterNextToScrollbar",!1,function(w){return Ou(w)},!0),M("scrollbarStyle","native",function(w){kf(w),Ou(w),w.display.scrollbars.setScrollTop(w.doc.scrollTop),w.display.scrollbars.setScrollLeft(w.doc.scrollLeft)},!0),M("lineNumbers",!1,function(w,P){w.display.gutterSpecs=ui(w.options.gutters,P),_c(w)},!0),M("firstLineNumber",1,_c,!0),M("lineNumberFormatter",function(w){return w},_c,!0),M("showCursorWhenSelecting",!1,lu,!0),M("resetSelectionOnContextMenu",!0),M("lineWiseCopyCut",!0),M("pasteLinesPerSelection",!0),M("selectionsMayTouch",!1),M("readOnly",!1,function(w,P){P=="nocursor"&&(jA(w),w.display.input.blur()),w.display.input.readOnlyChanged(P)}),M("screenReaderLabel",null,function(w,P){P=P===""?null:P,w.display.input.screenReaderLabelChanged(P)}),M("disableInput",!1,function(w,P){P||w.display.input.reset()},!0),M("dragDrop",!0,I1),M("allowDropFileTypes",null),M("cursorBlinkRate",530),M("cursorScrollMargin",0),M("cursorHeight",1,lu,!0),M("singleCursorHeightPerLine",!0,lu,!0),M("workTime",100),M("workDelay",100),M("flattenSpans",!0,GA,!0),M("addModeClass",!1,GA,!0),M("pollInterval",100),M("undoDepth",200,function(w,P){return w.doc.history.undoDepth=P}),M("historyEventDelay",1250),M("viewportMargin",10,function(w){return w.refresh()},!0),M("maxHighlightLength",1e4,GA,!0),M("moveInputWithCursor",!0,function(w,P){P||w.display.input.resetPosition()}),M("tabindex",null,function(w,P){return w.display.input.getField().tabIndex=P||""}),M("autofocus",null),M("direction","ltr",function(w,P){return w.doc.setDirection(P)},!0),M("phrases",null)}function I1(A,g,M){var w=M&&M!=Qh;if(!g!=!w){var P=A.display.dragFunctions,j=g?Ke:ot;j(A.display.scroller,"dragstart",P.start),j(A.display.scroller,"dragenter",P.enter),j(A.display.scroller,"dragover",P.over),j(A.display.scroller,"dragleave",P.leave),j(A.display.scroller,"drop",P.drop)}}function Rm(A){A.options.lineWrapping?($e(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Ue(A.display.wrapper,"CodeMirror-wrap"),Va(A)),pc(A),rl(A),hc(A),setTimeout(function(){return Ou(A)},100)}function uo(A,g){var M=this;if(!(this instanceof uo))return new uo(A,g);this.options=g=g?Fe(g):{},Fe(Uf,g,!1);var w=g.value;typeof w=="string"?w=new Ft(w,g.mode,null,g.lineSeparator,g.direction):g.mode&&(w.modeOption=g.mode),this.doc=w;var P=new uo.inputStyles[g.inputStyle](this),j=this.display=new Pf(A,w,P,g);j.wrapper.CodeMirror=this,Z0(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),kf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ke,keySeq:null,specialChars:null},g.autofocus&&!ne&&j.input.focus(),f&&m<11&&setTimeout(function(){return M.display.input.reset(!0)},20),Fu(this),Ai(),Bu(this),this.curOp.forceUpdate=!0,Cr(this,w),g.autofocus&&!ne||this.hasFocus()?setTimeout(function(){M.hasFocus()&&!M.state.focused&&Od(M)},20):jA(this);for(var Z in Lp)Lp.hasOwnProperty(Z)&&Lp[Z](this,g[Z],Qh);zh(this),g.finishInit&&g.finishInit(this);for(var le=0;le<Rp.length;++le)Rp[le](this);yc(this),C&&g.lineWrapping&&getComputedStyle(j.lineDiv).textRendering=="optimizelegibility"&&(j.lineDiv.style.textRendering="auto")}uo.defaults=Uf,uo.optionHandlers=Lp;function Fu(A){var g=A.display;Ke(g.scroller,"mousedown",Pi(A,Km)),f&&m<11?Ke(g.scroller,"dblclick",Pi(A,function(de){if(!lt(A,de)){var xe=cA(A,de);if(!(!xe||Wd(A,de)||Eu(A.display,de))){At(de);var Xe=A.findWordAt(xe);bc(A.doc,Xe.anchor,Xe.head)}}})):Ke(g.scroller,"dblclick",function(de){return lt(A,de)||At(de)}),Ke(g.scroller,"contextmenu",function(de){return Lm(A,de)}),Ke(g.input.getField(),"contextmenu",function(de){g.scroller.contains(de.target)||Lm(A,de)});var M,w={end:0};function P(){g.activeTouch&&(M=setTimeout(function(){return g.activeTouch=null},1e3),w=g.activeTouch,w.end=+new Date)}function j(de){if(de.touches.length!=1)return!1;var xe=de.touches[0];return xe.radiusX<=1&&xe.radiusY<=1}function Z(de,xe){if(xe.left==null)return!0;var Xe=xe.left-de.left,at=xe.top-de.top;return Xe*Xe+at*at>20*20}Ke(g.scroller,"touchstart",function(de){if(!lt(A,de)&&!j(de)&&!Wd(A,de)){g.input.ensurePolled(),clearTimeout(M);var xe=+new Date;g.activeTouch={start:xe,moved:!1,prev:xe-w.end<=300?w:null},de.touches.length==1&&(g.activeTouch.left=de.touches[0].pageX,g.activeTouch.top=de.touches[0].pageY)}}),Ke(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)}),Ke(g.scroller,"touchend",function(de){var xe=g.activeTouch;if(xe&&!Eu(g,de)&&xe.left!=null&&!xe.moved&&new Date-xe.start<300){var Xe=A.coordsChar(g.activeTouch,"page"),at;!xe.prev||Z(xe,xe.prev)?at=new co(Xe,Xe):!xe.prev.prev||Z(xe,xe.prev.prev)?at=A.findWordAt(Xe):at=new co(Qt(Xe.line,0),Br(A.doc,Qt(Xe.line+1,0))),A.setSelection(at.anchor,at.head),A.focus(),At(de)}P()}),Ke(g.scroller,"touchcancel",P),Ke(g.scroller,"scroll",function(){g.scroller.clientHeight&&(fA(A,g.scroller.scrollTop),Nl(A,g.scroller.scrollLeft,!0),yt(A,"scroll",A))}),Ke(g.scroller,"mousewheel",function(de){return Kf(A,de)}),Ke(g.scroller,"DOMMouseScroll",function(de){return Kf(A,de)}),Ke(g.wrapper,"scroll",function(){return g.wrapper.scrollTop=g.wrapper.scrollLeft=0}),g.dragFunctions={enter:function(de){lt(A,de)||Yn(de)},over:function(de){lt(A,de)||(fn(A,de),Yn(de))},start:function(de){return on(A,de)},drop:Pi(A,An),leave:function(de){lt(A,de)||Un(A)}};var le=g.input.getField();Ke(le,"keyup",function(de){return $l.call(A,de)}),Ke(le,"keydown",Pi(A,Ff)),Ke(le,"keypress",Pi(A,Rf)),Ke(le,"focus",function(de){return Od(A,de)}),Ke(le,"blur",function(de){return jA(A,de)})}var Rp=[];uo.defineInitHook=function(A){return Rp.push(A)};function Gd(A,g,M,w){var P=A.doc,j;M==null&&(M="add"),M=="smart"&&(P.mode.indent?j=di(A,g).state:M="prev");var Z=A.options.tabSize,le=ar(P,g),de=ye(le.text,null,Z);le.stateAfter&&(le.stateAfter=null);var xe=le.text.match(/^\s*/)[0],Xe;if(!w&&!/\S/.test(le.text))Xe=0,M="not";else if(M=="smart"&&(Xe=P.mode.indent(j,le.text.slice(xe.length),le.text),Xe==ht||Xe>150)){if(!w)return;M="prev"}M=="prev"?g>P.first?Xe=ye(ar(P,g-1).text,null,Z):Xe=0:M=="add"?Xe=de+A.options.indentUnit:M=="subtract"?Xe=de-A.options.indentUnit:typeof M=="number"&&(Xe=de+M),Xe=Math.max(0,Xe);var at="",Kt=0;if(A.options.indentWithTabs)for(var It=Math.floor(Xe/Z);It;--It)Kt+=Z,at+="	";if(Kt<Xe&&(at+=xn(Xe-Kt)),at!=xe)return D(P,at,Qt(g,0),Qt(g,xe.length),"+input"),le.stateAfter=null,!0;for(var un=0;un<P.sel.ranges.length;un++){var vn=P.sel.ranges[un];if(vn.head.line==g&&vn.head.ch<xe.length){var Pn=Qt(g,xe.length);xl(P,un,new co(Pn,Pn));break}}}var bA=null;function Up(A){bA=A}function X0(A,g,M,w,P){var j=A.doc;A.display.shift=!1,w||(w=j.sel);var Z=+new Date-200,le=P=="paste"||A.state.pasteIncoming>Z,de=Tn(g),xe=null;if(le&&w.ranges.length>1)if(bA&&bA.text.join(`
`)==g){if(w.ranges.length%bA.text.length==0){xe=[];for(var Xe=0;Xe<bA.text.length;Xe++)xe.push(j.splitLines(bA.text[Xe]))}}else de.length==w.ranges.length&&A.options.pasteLinesPerSelection&&(xe=yr(de,function(Hn){return[Hn]}));for(var at=A.curOp.updateInput,Kt=w.ranges.length-1;Kt>=0;Kt--){var It=w.ranges[Kt],un=It.from(),vn=It.to();It.empty()&&(M&&M>0?un=Qt(un.line,un.ch-M):A.state.overwrite&&!le?vn=Qt(vn.line,Math.min(ar(j,vn.line).text.length,vn.ch+Zn(de).length)):le&&bA&&bA.lineWise&&bA.text.join(`
`)==de.join(`
`)&&(un=vn=Qt(un.line,0)));var Pn={from:un,to:vn,text:xe?xe[Kt%xe.length]:de,origin:P||(le?"paste":A.state.cutIncoming>Z?"cut":"+input")};S(A.doc,Pn),ha(A,"inputRead",A,Pn)}g&&!le&&Um(A,g),yo(A),A.curOp.updateInput<2&&(A.curOp.updateInput=at),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function Oc(A,g){var M=A.clipboardData&&A.clipboardData.getData("Text");if(M)return A.preventDefault(),!g.isReadOnly()&&!g.options.disableInput&&g.hasFocus()&&To(g,function(){return X0(g,M,0,null,"paste")}),!0}function Um(A,g){if(!(!A.options.electricChars||!A.options.smartIndent))for(var M=A.doc.sel,w=M.ranges.length-1;w>=0;w--){var P=M.ranges[w];if(!(P.head.ch>100||w&&M.ranges[w-1].head.line==P.head.line)){var j=A.getModeAt(P.head),Z=!1;if(j.electricChars){for(var le=0;le<j.electricChars.length;le++)if(g.indexOf(j.electricChars.charAt(le))>-1){Z=Gd(A,P.head.line,"smart");break}}else j.electricInput&&j.electricInput.test(ar(A.doc,P.head.line).text.slice(0,P.head.ch))&&(Z=Gd(A,P.head.line,"smart"));Z&&ha(A,"electricInput",A,P.head.line)}}}function jm(A){for(var g=[],M=[],w=0;w<A.doc.sel.ranges.length;w++){var P=A.doc.sel.ranges[w].head.line,j={anchor:Qt(P,0),head:Qt(P+1,0)};M.push(j),g.push(A.getRange(j.anchor,j.head))}return{text:g,ranges:M}}function Qd(A,g,M,w){A.setAttribute("autocorrect",M?"on":"off"),A.setAttribute("autocapitalize",w?"on":"off"),A.setAttribute("spellcheck",!!g)}function $d(){var A=we("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),g=we("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?A.style.width="1000px":A.setAttribute("wrap","off"),G&&(A.style.border="1px solid black"),g}function Yd(A){var g=A.optionHandlers,M=A.helpers={};A.prototype={constructor:A,focus:function(){Xt(this).focus(),this.display.input.focus()},setOption:function(w,P){var j=this.options,Z=j[w];j[w]==P&&w!="mode"||(j[w]=P,g.hasOwnProperty(w)&&Pi(this,g[w])(this,P,Z),yt(this,"optionChange",this,w))},getOption:function(w){return this.options[w]},getDoc:function(){return this.doc},addKeyMap:function(w,P){this.state.keyMaps[P?"push":"unshift"](Gl(w))},removeKeyMap:function(w){for(var P=this.state.keyMaps,j=0;j<P.length;++j)if(P[j]==w||P[j].name==w)return P.splice(j,1),!0},addOverlay:Pr(function(w,P){var j=w.token?w:A.getMode(this.options,w);if(j.startState)throw new Error("Overlays may not be stateful.");Mr(this.state.overlays,{mode:j,modeSpec:w,opaque:P&&P.opaque,priority:P&&P.priority||0},function(Z){return Z.priority}),this.state.modeGen++,rl(this)}),removeOverlay:Pr(function(w){for(var P=this.state.overlays,j=0;j<P.length;++j){var Z=P[j].modeSpec;if(Z==w||typeof w=="string"&&Z.name==w){P.splice(j,1),this.state.modeGen++,rl(this);return}}}),indentLine:Pr(function(w,P,j){typeof P!="string"&&typeof P!="number"&&(P==null?P=this.options.smartIndent?"smart":"prev":P=P?"add":"subtract"),rn(this.doc,w)&&Gd(this,w,P,j)}),indentSelection:Pr(function(w){for(var P=this.doc.sel.ranges,j=-1,Z=0;Z<P.length;Z++){var le=P[Z];if(le.empty())le.head.line>j&&(Gd(this,le.head.line,w,!0),j=le.head.line,Z==this.doc.sel.primIndex&&yo(this));else{var de=le.from(),xe=le.to(),Xe=Math.max(j,de.line);j=Math.min(this.lastLine(),xe.line-(xe.ch?0:1))+1;for(var at=Xe;at<j;++at)Gd(this,at,w);var Kt=this.doc.sel.ranges;de.ch==0&&P.length==Kt.length&&Kt[Z].from().ch>0&&xl(this.doc,Z,new co(de,Kt[Z].to()),Bt)}}}),getTokenAt:function(w,P){return ca(this,w,P)},getLineTokens:function(w,P){return ca(this,Qt(w),P,!0)},getTokenTypeAt:function(w){w=Br(this.doc,w);var P=Ro(this,ar(this.doc,w.line)),j=0,Z=(P.length-1)/2,le=w.ch,de;if(le==0)de=P[2];else for(;;){var xe=j+Z>>1;if((xe?P[xe*2-1]:0)>=le)Z=xe;else if(P[xe*2+1]<le)j=xe+1;else{de=P[xe*2+2];break}}var Xe=de?de.indexOf("overlay "):-1;return Xe<0?de:Xe==0?null:de.slice(0,Xe-1)},getModeAt:function(w){var P=this.doc.mode;return P.innerMode?A.innerMode(P,this.getTokenAt(w).state).mode:P},getHelper:function(w,P){return this.getHelpers(w,P)[0]},getHelpers:function(w,P){var j=[];if(!M.hasOwnProperty(P))return j;var Z=M[P],le=this.getModeAt(w);if(typeof le[P]=="string")Z[le[P]]&&j.push(Z[le[P]]);else if(le[P])for(var de=0;de<le[P].length;de++){var xe=Z[le[P][de]];xe&&j.push(xe)}else le.helperType&&Z[le.helperType]?j.push(Z[le.helperType]):Z[le.name]&&j.push(Z[le.name]);for(var Xe=0;Xe<Z._global.length;Xe++){var at=Z._global[Xe];at.pred(le,this)&&Ge(j,at.val)==-1&&j.push(at.val)}return j},getStateAfter:function(w,P){var j=this.doc;return w=Dl(j,w??j.first+j.size-1),di(this,w+1,P).state},cursorCoords:function(w,P){var j,Z=this.doc.sel.primary();return w==null?j=Z.head:typeof w=="object"?j=Br(this.doc,w):j=w?Z.from():Z.to(),Zt(this,j,P||"page")},charCoords:function(w,P){return mn(this,Br(this.doc,w),P||"page")},coordsChar:function(w,P){return w=Pt(this,w,P||"page"),eo(this,w.left,w.top)},lineAtHeight:function(w,P){return w=Pt(this,{top:w,left:0},P||"page").top,it(this.doc,w+this.display.viewOffset)},heightAtLine:function(w,P,j){var Z=!1,le;if(typeof w=="number"){var de=this.doc.first+this.doc.size-1;w<this.doc.first?w=this.doc.first:w>de&&(w=de,Z=!0),le=ar(this.doc,w)}else le=w;return zl(this,le,{top:0,left:0},P||"page",j||Z).top+(Z?this.doc.height-ko(le):0)},defaultTextHeight:function(){return au(this.display)},defaultCharWidth:function(){return Ti(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(w,P,j,Z,le){var de=this.display;w=Zt(this,Br(this.doc,w));var xe=w.bottom,Xe=w.left;if(P.style.position="absolute",P.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(P),de.sizer.appendChild(P),Z=="over")xe=w.top;else if(Z=="above"||Z=="near"){var at=Math.max(de.wrapper.clientHeight,this.doc.height),Kt=Math.max(de.sizer.clientWidth,de.lineSpace.clientWidth);(Z=="above"||w.bottom+P.offsetHeight>at)&&w.top>P.offsetHeight?xe=w.top-P.offsetHeight:w.bottom+P.offsetHeight<=at&&(xe=w.bottom),Xe+P.offsetWidth>Kt&&(Xe=Kt-P.offsetWidth)}P.style.top=xe+"px",P.style.left=P.style.right="",le=="right"?(Xe=de.sizer.clientWidth-P.offsetWidth,P.style.right="0px"):(le=="left"?Xe=0:le=="middle"&&(Xe=(de.sizer.clientWidth-P.offsetWidth)/2),P.style.left=Xe+"px"),j&&Bf(this,{left:Xe,top:xe,right:Xe+P.offsetWidth,bottom:xe+P.offsetHeight})},triggerOnKeyDown:Pr(Ff),triggerOnKeyPress:Pr(Rf),triggerOnKeyUp:$l,triggerOnMouseDown:Pr(Km),execCommand:function(w){if(Ns.hasOwnProperty(w))return Ns[w].call(null,this)},triggerElectric:Pr(function(w){Um(this,w)}),findPosH:function(w,P,j,Z){var le=1;P<0&&(le=-1,P=-P);for(var de=Br(this.doc,w),xe=0;xe<P&&(de=Qr(this.doc,de,le,j,Z),!de.hitSide);++xe);return de},moveH:Pr(function(w,P){var j=this;this.extendSelectionsBy(function(Z){return j.display.shift||j.doc.extend||Z.empty()?Qr(j.doc,Z.head,w,P,j.options.rtlMoveVisually):w<0?Z.from():Z.to()},Gt)}),deleteH:Pr(function(w,P){var j=this.doc.sel,Z=this.doc;j.somethingSelected()?Z.replaceSelection("",null,"+delete"):Ql(this,function(le){var de=Qr(Z,le.head,w,P,!1);return w<0?{from:de,to:le.head}:{from:le.head,to:de}})}),findPosV:function(w,P,j,Z){var le=1,de=Z;P<0&&(le=-1,P=-P);for(var xe=Br(this.doc,w),Xe=0;Xe<P;++Xe){var at=Zt(this,xe,"div");if(de==null?de=at.left:at.left=de,xe=ch(this,at,le,j),xe.hitSide)break}return xe},moveV:Pr(function(w,P){var j=this,Z=this.doc,le=[],de=!this.display.shift&&!Z.extend&&Z.sel.somethingSelected();if(Z.extendSelectionsBy(function(Xe){if(de)return w<0?Xe.from():Xe.to();var at=Zt(j,Xe.head,"div");Xe.goalColumn!=null&&(at.left=Xe.goalColumn),le.push(at.left);var Kt=ch(j,at,w,P);return P=="page"&&Xe==Z.sel.primary()&&aa(j,mn(j,Kt,"div").top-at.top),Kt},Gt),le.length)for(var xe=0;xe<Z.sel.ranges.length;xe++)Z.sel.ranges[xe].goalColumn=le[xe]}),findWordAt:function(w){var P=this.doc,j=ar(P,w.line).text,Z=w.ch,le=w.ch;if(j){var de=this.getHelper(w,"wordChars");(w.sticky=="before"||le==j.length)&&Z?--Z:++le;for(var xe=j.charAt(Z),Xe=Te(xe,de)?function(at){return Te(at,de)}:/\s/.test(xe)?function(at){return/\s/.test(at)}:function(at){return!/\s/.test(at)&&!Te(at)};Z>0&&Xe(j.charAt(Z-1));)--Z;for(;le<j.length&&Xe(j.charAt(le));)++le}return new co(Qt(w.line,Z),Qt(w.line,le))},toggleOverwrite:function(w){w!=null&&w==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?$e(this.display.cursorDiv,"CodeMirror-overwrite"):Ue(this.display.cursorDiv,"CodeMirror-overwrite"),yt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==bt(tn(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Pr(function(w,P){Oo(this,w,P)}),getScrollInfo:function(){var w=this.display.scroller;return{left:w.scrollLeft,top:w.scrollTop,height:w.scrollHeight-jl(this)-this.display.barHeight,width:w.scrollWidth-jl(this)-this.display.barWidth,clientHeight:xd(this),clientWidth:nl(this)}},scrollIntoView:Pr(function(w,P){w==null?(w={from:this.doc.sel.primary().head,to:null},P==null&&(P=this.options.cursorScrollMargin)):typeof w=="number"?w={from:Qt(w,0),to:null}:w.from==null&&(w={from:w,to:null}),w.to||(w.to=w.from),w.margin=P||0,w.from.line!=null?kp(this,w):If(this,w.from,w.to,w.margin)}),setSize:Pr(function(w,P){var j=this,Z=function(de){return typeof de=="number"||/^\d+$/.test(String(de))?de+"px":de};w!=null&&(this.display.wrapper.style.width=Z(w)),P!=null&&(this.display.wrapper.style.height=Z(P)),this.options.lineWrapping&&wd(this);var le=this.display.viewFrom;this.doc.iter(le,this.display.viewTo,function(de){if(de.widgets){for(var xe=0;xe<de.widgets.length;xe++)if(de.widgets[xe].noHScroll){mc(j,le,"widget");break}}++le}),this.curOp.forceUpdate=!0,yt(this,"refresh",this)}),operation:function(w){return To(this,w)},startOperation:function(){return Bu(this)},endOperation:function(){return yc(this)},refresh:Pr(function(){var w=this.display.cachedTextHeight;rl(this),this.curOp.forceUpdate=!0,hc(this),Oo(this,this.doc.scrollLeft,this.doc.scrollTop),vc(this.display),(w==null||Math.abs(w-au(this.display))>.5||this.options.lineWrapping)&&pc(this),yt(this,"refresh",this)}),swapDoc:Pr(function(w){var P=this.doc;return P.cm=null,this.state.selectingText&&this.state.selectingText(),Cr(this,w),hc(this),this.display.input.reset(),Oo(this,w.scrollLeft,w.scrollTop),this.curOp.forceScroll=!0,ha(this,"swapDoc",this,P),P}),phrase:function(w){var P=this.options.phrases;return P&&Object.prototype.hasOwnProperty.call(P,w)?P[w]:w},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ot(A),A.registerHelper=function(w,P,j){M.hasOwnProperty(w)||(M[w]=A[w]={_global:[]}),M[w][P]=j},A.registerGlobalHelper=function(w,P,j,Z){A.registerHelper(w,P,Z),M[w]._global.push({pred:j,val:Z})}}function Qr(A,g,M,w,P){var j=g,Z=M,le=ar(A,g.line),de=P&&A.direction=="rtl"?-M:M;function xe(){var or=g.line+de;return or<A.first||or>=A.first+A.size?!1:(g=new Qt(or,g.ch,g.sticky),le=ar(A,or))}function Xe(or){var Gn;if(w=="codepoint"){var hr=le.text.charCodeAt(g.ch+(M>0?0:-1));if(isNaN(hr))Gn=null;else{var Fr=M>0?hr>=55296&&hr<56320:hr>=56320&&hr<57343;Gn=new Qt(g.line,Math.max(0,Math.min(le.text.length,g.ch+M*(Fr?2:1))),-M)}}else P?Gn=Ba(A.cm,le,g,M):Gn=Sc(le,g,M);if(Gn==null)if(!or&&xe())g=Lu(P,A.cm,le,g.line,de);else return!1;else g=Gn;return!0}if(w=="char"||w=="codepoint")Xe();else if(w=="column")Xe(!0);else if(w=="word"||w=="group")for(var at=null,Kt=w=="group",It=A.cm&&A.cm.getHelper(g,"wordChars"),un=!0;!(M<0&&!Xe(!un));un=!1){var vn=le.text.charAt(g.ch)||`
`,Pn=Te(vn,It)?"w":Kt&&vn==`
`?"n":!Kt||/\s/.test(vn)?null:"p";if(Kt&&!un&&!Pn&&(Pn="s"),at&&at!=Pn){M<0&&(M=1,Xe(),g.sticky="after");break}if(Pn&&(at=Pn),M>0&&!Xe(!un))break}var Hn=wc(A,g,j,Z,!0);return ni(j,Hn)&&(Hn.hitSide=!0),Hn}function ch(A,g,M,w){var P=A.doc,j=g.left,Z;if(w=="page"){var le=Math.min(A.display.wrapper.clientHeight,Xt(A).innerHeight||P(A).documentElement.clientHeight),de=Math.max(le-.5*au(A.display),3);Z=(M>0?g.bottom:g.top)+M*de}else w=="line"&&(Z=M>0?g.bottom+3:g.top-3);for(var xe;xe=eo(A,j,Z),!!xe.outside;){if(M<0?Z<=0:Z>=P.height){xe.hitSide=!0;break}Z+=M*5}return xe}var Ko=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ke,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ko.prototype.init=function(A){var g=this,M=this,w=M.cm,P=M.div=A.lineDiv;P.contentEditable=!0,Qd(P,w.options.spellcheck,w.options.autocorrect,w.options.autocapitalize);function j(le){for(var de=le.target;de;de=de.parentNode){if(de==P)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(de.className))break}return!1}Ke(P,"paste",function(le){!j(le)||lt(w,le)||Oc(le,w)||m<=11&&setTimeout(Pi(w,function(){return g.updateFromDOM()}),20)}),Ke(P,"compositionstart",function(le){g.composing={data:le.data,done:!1}}),Ke(P,"compositionupdate",function(le){g.composing||(g.composing={data:le.data,done:!1})}),Ke(P,"compositionend",function(le){g.composing&&(le.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),Ke(P,"touchstart",function(){return M.forceCompositionEnd()}),Ke(P,"input",function(){g.composing||g.readFromDOMSoon()});function Z(le){if(!(!j(le)||lt(w,le))){if(w.somethingSelected())Up({lineWise:!1,text:w.getSelections()}),le.type=="cut"&&w.replaceSelection("",null,"cut");else if(w.options.lineWiseCopyCut){var de=jm(w);Up({lineWise:!0,text:de.text}),le.type=="cut"&&w.operation(function(){w.setSelections(de.ranges,0,Bt),w.replaceSelection("",null,"cut")})}else return;if(le.clipboardData){le.clipboardData.clearData();var xe=bA.text.join(`
`);if(le.clipboardData.setData("Text",xe),le.clipboardData.getData("Text")==xe){le.preventDefault();return}}var Xe=$d(),at=Xe.firstChild;Qd(at),w.display.lineSpace.insertBefore(Xe,w.display.lineSpace.firstChild),at.value=bA.text.join(`
`);var Kt=bt(St(P));nt(at),setTimeout(function(){w.display.lineSpace.removeChild(Xe),Kt.focus(),Kt==P&&M.showPrimarySelection()},50)}}Ke(P,"copy",Z),Ke(P,"cut",Z)},Ko.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Ko.prototype.prepareSelection=function(){var A=Ed(this.cm,!1);return A.focus=bt(St(this.div))==this.div,A},Ko.prototype.showSelection=function(A,g){!A||!this.cm.display.view.length||((A.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Ko.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ko.prototype.showPrimarySelection=function(){var A=this.getSelection(),g=this.cm,M=g.doc.sel.primary(),w=M.from(),P=M.to();if(g.display.viewTo==g.display.viewFrom||w.line>=g.display.viewTo||P.line<g.display.viewFrom){A.removeAllRanges();return}var j=Ws(g,A.anchorNode,A.anchorOffset),Z=Ws(g,A.focusNode,A.focusOffset);if(!(j&&!j.bad&&Z&&!Z.bad&&En(Wo(j,Z),w)==0&&En(Wi(j,Z),P)==0)){var le=g.display.view,de=w.line>=g.display.viewFrom&&$h(g,w)||{node:le[0].measure.map[2],offset:0},xe=P.line<g.display.viewTo&&$h(g,P);if(!xe){var Xe=le[le.length-1].measure,at=Xe.maps?Xe.maps[Xe.maps.length-1]:Xe.map;xe={node:at[at.length-1],offset:at[at.length-2]-at[at.length-3]}}if(!de||!xe){A.removeAllRanges();return}var Kt=A.rangeCount&&A.getRangeAt(0),It;try{It=wt(de.node,de.offset,xe.offset,xe.node)}catch{}It&&(!i&&g.state.focused?(A.collapse(de.node,de.offset),It.collapsed||(A.removeAllRanges(),A.addRange(It))):(A.removeAllRanges(),A.addRange(It)),Kt&&A.anchorNode==null?A.addRange(Kt):i&&this.startGracePeriod()),this.rememberSelection()}},Ko.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Ko.prototype.showMultipleSelections=function(A){Ye(this.cm.display.cursorDiv,A.cursors),Ye(this.cm.display.selectionDiv,A.selection)},Ko.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Ko.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var g=A.getRangeAt(0).commonAncestorContainer;return ft(this.div,g)},Ko.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||bt(St(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ko.prototype.blur=function(){this.div.blur()},Ko.prototype.getField=function(){return this.div},Ko.prototype.supportsTouch=function(){return!0},Ko.prototype.receivedFocus=function(){var A=this,g=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):To(this.cm,function(){return g.cm.curOp.selectionChanged=!0});function M(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,M))}this.polling.set(this.cm.options.pollInterval,M)},Ko.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Ko.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),g=this.cm;if(ee&&I&&this.cm.display.gutterSpecs.length&&h_(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var M=Ws(g,A.anchorNode,A.anchorOffset),w=Ws(g,A.focusNode,A.focusOffset);M&&w&&To(g,function(){Za(g.doc,WA(M,w),Bt),(M.bad||w.bad)&&(g.curOp.selectionChanged=!0)})}}},Ko.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,g=A.display,M=A.doc.sel.primary(),w=M.from(),P=M.to();if(w.ch==0&&w.line>A.firstLine()&&(w=Qt(w.line-1,ar(A.doc,w.line-1).length)),P.ch==ar(A.doc,P.line).text.length&&P.line<A.lastLine()&&(P=Qt(P.line+1,0)),w.line<g.viewFrom||P.line>g.viewTo-1)return!1;var j,Z,le;w.line==g.viewFrom||(j=UA(A,w.line))==0?(Z=Oe(g.view[0].line),le=g.view[0].node):(Z=Oe(g.view[j].line),le=g.view[j-1].node.nextSibling);var de=UA(A,P.line),xe,Xe;if(de==g.view.length-1?(xe=g.viewTo-1,Xe=g.lineDiv.lastChild):(xe=Oe(g.view[de+1].line)-1,Xe=g.view[de+1].node.previousSibling),!le)return!1;for(var at=A.doc.splitLines(k1(A,le,Xe,Z,xe)),Kt=La(A.doc,Qt(Z,0),Qt(xe,ar(A.doc,xe).text.length));at.length>1&&Kt.length>1;)if(Zn(at)==Zn(Kt))at.pop(),Kt.pop(),xe--;else if(at[0]==Kt[0])at.shift(),Kt.shift(),Z++;else break;for(var It=0,un=0,vn=at[0],Pn=Kt[0],Hn=Math.min(vn.length,Pn.length);It<Hn&&vn.charCodeAt(It)==Pn.charCodeAt(It);)++It;for(var or=Zn(at),Gn=Zn(Kt),hr=Math.min(or.length-(at.length==1?It:0),Gn.length-(Kt.length==1?It:0));un<hr&&or.charCodeAt(or.length-un-1)==Gn.charCodeAt(Gn.length-un-1);)++un;if(at.length==1&&Kt.length==1&&Z==w.line)for(;It&&It>w.ch&&or.charCodeAt(or.length-un-1)==Gn.charCodeAt(Gn.length-un-1);)It--,un++;at[at.length-1]=or.slice(0,or.length-un).replace(/^\u200b+/,""),at[0]=at[0].slice(It).replace(/\u200b+$/,"");var Fr=Qt(Z,It),Lr=Qt(xe,Kt.length?Zn(Kt).length-un:0);if(at.length>1||at[0]||En(Fr,Lr))return D(A.doc,at,Fr,Lr,"+input"),!0},Ko.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ko.prototype.reset=function(){this.forceCompositionEnd()},Ko.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ko.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Ko.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&To(this.cm,function(){return rl(A.cm)})},Ko.prototype.setUneditable=function(A){A.contentEditable="false"},Ko.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||Pi(this.cm,X0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Ko.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Ko.prototype.onContextMenu=function(){},Ko.prototype.resetPosition=function(){},Ko.prototype.needsContentAttribute=!0;function $h(A,g){var M=AA(A,g.line);if(!M||M.hidden)return null;var w=ar(A.doc,g.line),P=wf(M,w,g.line),j=Me(w,A.doc.direction),Z="left";if(j){var le=Re(j,g.ch);Z=le%2?"right":"left"}var de=Sm(P.map,g.ch,Z);return de.offset=de.collapse=="right"?de.end:de.start,de}function h_(A){for(var g=A;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function Yh(A,g){return g&&(A.bad=!0),A}function k1(A,g,M,w,P){var j="",Z=!1,le=A.doc.lineSeparator(),de=!1;function xe(It){return function(un){return un.id==It}}function Xe(){Z&&(j+=le,de&&(j+=le),Z=de=!1)}function at(It){It&&(Xe(),j+=It)}function Kt(It){if(It.nodeType==1){var un=It.getAttribute("cm-text");if(un){at(un);return}var vn=It.getAttribute("cm-marker"),Pn;if(vn){var Hn=A.findMarks(Qt(w,0),Qt(P+1,0),xe(+vn));Hn.length&&(Pn=Hn[0].find(0))&&at(La(A.doc,Pn.from,Pn.to).join(le));return}if(It.getAttribute("contenteditable")=="false")return;var or=/^(pre|div|p|li|table|br)$/i.test(It.nodeName);if(!/^br$/i.test(It.nodeName)&&It.textContent.length==0)return;or&&Xe();for(var Gn=0;Gn<It.childNodes.length;Gn++)Kt(It.childNodes[Gn]);/^(pre|p)$/i.test(It.nodeName)&&(de=!0),or&&(Z=!0)}else It.nodeType==3&&at(It.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Kt(g),g!=M;)g=g.nextSibling,de=!1;return j}function Ws(A,g,M){var w;if(g==A.display.lineDiv){if(w=A.display.lineDiv.childNodes[M],!w)return Yh(A.clipPos(Qt(A.display.viewTo-1)),!0);g=null,M=0}else for(w=g;;w=w.parentNode){if(!w||w==A.display.lineDiv)return null;if(w.parentNode&&w.parentNode==A.display.lineDiv)break}for(var P=0;P<A.display.view.length;P++){var j=A.display.view[P];if(j.node==w)return d_(j,g,M)}}function d_(A,g,M){var w=A.text.firstChild,P=!1;if(!g||!ft(w,g))return Yh(Qt(Oe(A.line),0),!0);if(g==w&&(P=!0,g=w.childNodes[M],M=0,!g)){var j=A.rest?Zn(A.rest):A.line;return Yh(Qt(Oe(j),j.text.length),P)}var Z=g.nodeType==3?g:null,le=g;for(!Z&&g.childNodes.length==1&&g.firstChild.nodeType==3&&(Z=g.firstChild,M&&(M=Z.nodeValue.length));le.parentNode!=w;)le=le.parentNode;var de=A.measure,xe=de.maps;function Xe(Pn,Hn,or){for(var Gn=-1;Gn<(xe?xe.length:0);Gn++)for(var hr=Gn<0?de.map:xe[Gn],Fr=0;Fr<hr.length;Fr+=3){var Lr=hr[Fr+2];if(Lr==Pn||Lr==Hn){var Fi=Oe(Gn<0?A.line:A.rest[Gn]),Xo=hr[Fr]+or;return(or<0||Lr!=Pn)&&(Xo=hr[Fr+(or?1:0)]),Qt(Fi,Xo)}}}var at=Xe(Z,le,M);if(at)return Yh(at,P);for(var Kt=le.nextSibling,It=Z?Z.nodeValue.length-M:0;Kt;Kt=Kt.nextSibling){if(at=Xe(Kt,Kt.firstChild,0),at)return Yh(Qt(at.line,at.ch-It),P);It+=Kt.textContent.length}for(var un=le.previousSibling,vn=M;un;un=un.previousSibling){if(at=Xe(un,un.firstChild,-1),at)return Yh(Qt(at.line,at.ch+vn),P);vn+=un.textContent.length}}var Fa=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new ke,this.hasSelection=!1,this.composing=null,this.resetting=!1};Fa.prototype.init=function(A){var g=this,M=this,w=this.cm;this.createField(A);var P=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),G&&(P.style.width="0px"),Ke(P,"input",function(){f&&m>=9&&g.hasSelection&&(g.hasSelection=null),M.poll()}),Ke(P,"paste",function(Z){lt(w,Z)||Oc(Z,w)||(w.state.pasteIncoming=+new Date,M.fastPoll())});function j(Z){if(!lt(w,Z)){if(w.somethingSelected())Up({lineWise:!1,text:w.getSelections()});else if(w.options.lineWiseCopyCut){var le=jm(w);Up({lineWise:!0,text:le.text}),Z.type=="cut"?w.setSelections(le.ranges,null,Bt):(M.prevInput="",P.value=le.text.join(`
`),nt(P))}else return;Z.type=="cut"&&(w.state.cutIncoming=+new Date)}}Ke(P,"cut",j),Ke(P,"copy",j),Ke(A.scroller,"paste",function(Z){if(!(Eu(A,Z)||lt(w,Z))){if(!P.dispatchEvent){w.state.pasteIncoming=+new Date,M.focus();return}var le=new Event("paste");le.clipboardData=Z.clipboardData,P.dispatchEvent(le)}}),Ke(A.lineSpace,"selectstart",function(Z){Eu(A,Z)||At(Z)}),Ke(P,"compositionstart",function(){var Z=w.getCursor("from");M.composing&&M.composing.range.clear(),M.composing={start:Z,range:w.markText(Z,w.getCursor("to"),{className:"CodeMirror-composing"})}}),Ke(P,"compositionend",function(){M.composing&&(M.poll(),M.composing.range.clear(),M.composing=null)})},Fa.prototype.createField=function(A){this.wrapper=$d(),this.textarea=this.wrapper.firstChild;var g=this.cm.options;Qd(this.textarea,g.spellcheck,g.autocorrect,g.autocapitalize)},Fa.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Fa.prototype.prepareSelection=function(){var A=this.cm,g=A.display,M=A.doc,w=Ed(A);if(A.options.moveInputWithCursor){var P=Zt(A,M.sel.primary().head,"div"),j=g.wrapper.getBoundingClientRect(),Z=g.lineDiv.getBoundingClientRect();w.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,P.top+Z.top-j.top)),w.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,P.left+Z.left-j.left))}return w},Fa.prototype.showSelection=function(A){var g=this.cm,M=g.display;Ye(M.cursorDiv,A.cursors),Ye(M.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Fa.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var g=this.cm;if(this.resetting=!0,g.somethingSelected()){this.prevInput="";var M=g.getSelection();this.textarea.value=M,g.state.focused&&nt(this.textarea),f&&m>=9&&(this.hasSelection=M)}else A||(this.prevInput=this.textarea.value="",f&&m>=9&&(this.hasSelection=null));this.resetting=!1}},Fa.prototype.getField=function(){return this.textarea},Fa.prototype.supportsTouch=function(){return!1},Fa.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||bt(St(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Fa.prototype.blur=function(){this.textarea.blur()},Fa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Fa.prototype.receivedFocus=function(){this.slowPoll()},Fa.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Fa.prototype.fastPoll=function(){var A=!1,g=this;g.pollingFast=!0;function M(){var w=g.poll();!w&&!A?(A=!0,g.polling.set(60,M)):(g.pollingFast=!1,g.slowPoll())}g.polling.set(20,M)},Fa.prototype.poll=function(){var A=this,g=this.cm,M=this.textarea,w=this.prevInput;if(this.contextMenuPending||this.resetting||!g.state.focused||_i(M)&&!w&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var P=M.value;if(P==w&&!g.somethingSelected())return!1;if(f&&m>=9&&this.hasSelection===P||se&&/[\uf700-\uf7ff]/.test(P))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var j=P.charCodeAt(0);if(j==8203&&!w&&(w=""),j==8666)return this.reset(),this.cm.execCommand("undo")}for(var Z=0,le=Math.min(w.length,P.length);Z<le&&w.charCodeAt(Z)==P.charCodeAt(Z);)++Z;return To(g,function(){X0(g,P.slice(Z),w.length-Z,null,A.composing?"*compose":null),P.length>1e3||P.indexOf(`
`)>-1?M.value=A.prevInput="":A.prevInput=P,A.composing&&(A.composing.range.clear(),A.composing.range=g.markText(A.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Fa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Fa.prototype.onKeyPress=function(){f&&m>=9&&(this.hasSelection=null),this.fastPoll()},Fa.prototype.onContextMenu=function(A){var g=this,M=g.cm,w=M.display,P=g.textarea;g.contextMenuPending&&g.contextMenuPending();var j=cA(M,A),Z=w.scroller.scrollTop;if(!j||L)return;var le=M.options.resetSelectionOnContextMenu;le&&M.doc.sel.contains(j)==-1&&Pi(M,Za)(M.doc,WA(j),Bt);var de=P.style.cssText,xe=g.wrapper.style.cssText,Xe=g.wrapper.offsetParent.getBoundingClientRect();g.wrapper.style.cssText="position: static",P.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Xe.top-5)+"px; left: "+(A.clientX-Xe.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var at;C&&(at=P.ownerDocument.defaultView.scrollY),w.input.focus(),C&&P.ownerDocument.defaultView.scrollTo(null,at),w.input.reset(),M.somethingSelected()||(P.value=g.prevInput=" "),g.contextMenuPending=It,w.selForContextMenu=M.doc.sel,clearTimeout(w.detectingSelectAll);function Kt(){if(P.selectionStart!=null){var vn=M.somethingSelected(),Pn=""+(vn?P.value:"");P.value="",P.value=Pn,g.prevInput=vn?"":"",P.selectionStart=1,P.selectionEnd=Pn.length,w.selForContextMenu=M.doc.sel}}function It(){if(g.contextMenuPending==It&&(g.contextMenuPending=!1,g.wrapper.style.cssText=xe,P.style.cssText=de,f&&m<9&&w.scrollbars.setScrollTop(w.scroller.scrollTop=Z),P.selectionStart!=null)){(!f||f&&m<9)&&Kt();var vn=0,Pn=function(){w.selForContextMenu==M.doc.sel&&P.selectionStart==0&&P.selectionEnd>0&&g.prevInput==""?Pi(M,YA)(M):vn++<10?w.detectingSelectAll=setTimeout(Pn,500):(w.selForContextMenu=null,w.input.reset())};w.detectingSelectAll=setTimeout(Pn,200)}}if(f&&m>=9&&Kt(),_e){Yn(A);var un=function(){ot(window,"mouseup",un),setTimeout(It,20)};Ke(window,"mouseup",un)}else setTimeout(It,50)},Fa.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Fa.prototype.setUneditable=function(){},Fa.prototype.needsContentAttribute=!1;function T1(A,g){if(g=g?Fe(g):{},g.value=A.value,!g.tabindex&&A.tabIndex&&(g.tabindex=A.tabIndex),!g.placeholder&&A.placeholder&&(g.placeholder=A.placeholder),g.autofocus==null){var M=bt(St(A));g.autofocus=M==A||A.getAttribute("autofocus")!=null&&M==document.body}function w(){A.value=le.getValue()}var P;if(A.form&&(Ke(A.form,"submit",w),!g.leaveSubmitMethodAlone)){var j=A.form;P=j.submit;try{var Z=j.submit=function(){w(),j.submit=P,j.submit(),j.submit=Z}}catch{}}g.finishInit=function(de){de.save=w,de.getTextArea=function(){return A},de.toTextArea=function(){de.toTextArea=isNaN,w(),A.parentNode.removeChild(de.getWrapperElement()),A.style.display="",A.form&&(ot(A.form,"submit",w),!g.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=P))}},A.style.display="none";var le=uo(function(de){return A.parentNode.insertBefore(de,A.nextSibling)},g);return le}function P1(A){A.off=ot,A.on=Ke,A.wheelEventPixels=Pd,A.Doc=Ft,A.splitLines=Tn,A.countColumn=ye,A.findColumn=zn,A.isWordChar=gi,A.Pass=ht,A.signal=yt,A.Line=tl,A.changeEnd=al,A.scrollbarModel=uu,A.Pos=Qt,A.cmpPos=En,A.modes=Yr,A.mimeModes=Xi,A.resolveMode=Ca,A.getMode=ao,A.modeExtensions=Vo,A.extendMode=la,A.copyState=ba,A.startState=Ss,A.innerMode=el,A.commands=Ns,A.keyMap=$i,A.keyName=zs,A.isModifierKey=gs,A.lookupKey=Po,A.normalizeKeyMap=_o,A.StringStream=li,A.SharedTextMarker=ct,A.TextMarker=Ze,A.LineWidget=Ie,A.e_preventDefault=At,A.e_stopPropagation=yn,A.e_stop=Yn,A.addClass=$e,A.contains=ft,A.rmClass=Ue,A.keyNames=fi}Fp(uo),Yd(uo);var jf="iter insert remove copy getEditor constructor".split(" ");for(var zm in Ft.prototype)Ft.prototype.hasOwnProperty(zm)&&Ge(jf,zm)<0&&(uo.prototype[zm]=function(A){return function(){return A.apply(this.doc,arguments)}}(Ft.prototype[zm]));return Ot(Ft),uo.inputStyles={textarea:Fa,contenteditable:Ko},uo.defineMode=function(A){!uo.defaults.mode&&A!="null"&&(uo.defaults.mode=A),hi.apply(this,arguments)},uo.defineMIME=ra,uo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),uo.defineMIME("text/plain","null"),uo.defineExtension=function(A,g){uo.prototype[A]=g},uo.defineDocExtension=function(A,g){Ft.prototype[A]=g},uo.fromTextArea=T1,P1(uo),uo.version="5.65.16",uo})}(I6)),I6.exports}var a1e=LM();const yh=Da(a1e);(function(n,e){(function(t){t(LM())})(function(t){t.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,a=i.jsonld,f=i.json||a,m=i.trackScope!==!1,C=i.typescript,k=i.wordCharacters||/[\w$\xa1-\uffff]/,I=function(){function Oe(Ci){return{type:Ci,style:"keyword"}}var it=Oe("keyword a"),rn=Oe("keyword b"),wn=Oe("keyword c"),Qt=Oe("keyword d"),En=Oe("operator"),ni={type:"atom",style:"atom"};return{if:Oe("if"),while:it,with:it,else:rn,do:rn,try:rn,finally:rn,return:Qt,break:Qt,continue:Qt,new:Oe("new"),delete:wn,void:wn,throw:wn,debugger:Oe("debugger"),var:Oe("var"),const:Oe("var"),let:Oe("var"),function:Oe("function"),catch:Oe("catch"),for:Oe("for"),switch:Oe("switch"),case:Oe("case"),default:Oe("default"),in:En,typeof:En,instanceof:En,true:ni,false:ni,null:ni,undefined:ni,NaN:ni,Infinity:ni,this:Oe("this"),class:Oe("class"),super:Oe("atom"),yield:wn,export:Oe("export"),import:Oe("import"),extends:wn,await:wn}}(),K=/[+\-*&%=<>!?|~^@]/,L=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function q(Oe){for(var it=!1,rn,wn=!1;(rn=Oe.next())!=null;){if(!it){if(rn=="/"&&!wn)return;rn=="["?wn=!0:wn&&rn=="]"&&(wn=!1)}it=!it&&rn=="\\"}}var X,H;function G(Oe,it,rn){return X=Oe,H=rn,it}function ee(Oe,it){var rn=Oe.next();if(rn=='"'||rn=="'")return it.tokenize=ne(rn),it.tokenize(Oe,it);if(rn=="."&&Oe.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return G("number","number");if(rn=="."&&Oe.match(".."))return G("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(rn))return G(rn);if(rn=="="&&Oe.eat(">"))return G("=>","operator");if(rn=="0"&&Oe.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return G("number","number");if(/\d/.test(rn))return Oe.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),G("number","number");if(rn=="/")return Oe.eat("*")?(it.tokenize=se,se(Oe,it)):Oe.eat("/")?(Oe.skipToEnd(),G("comment","comment")):ua(Oe,it,1)?(q(Oe),Oe.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),G("regexp","string-2")):(Oe.eat("="),G("operator","operator",Oe.current()));if(rn=="`")return it.tokenize=Ae,Ae(Oe,it);if(rn=="#"&&Oe.peek()=="!")return Oe.skipToEnd(),G("meta","meta");if(rn=="#"&&Oe.eatWhile(k))return G("variable","property");if(rn=="<"&&Oe.match("!--")||rn=="-"&&Oe.match("->")&&!/\S/.test(Oe.string.slice(0,Oe.start)))return Oe.skipToEnd(),G("comment","comment");if(K.test(rn))return(rn!=">"||!it.lexical||it.lexical.type!=">")&&(Oe.eat("=")?(rn=="!"||rn=="=")&&Oe.eat("="):/[<>*+\-|&?]/.test(rn)&&(Oe.eat(rn),rn==">"&&Oe.eat(rn))),rn=="?"&&Oe.eat(".")?G("."):G("operator","operator",Oe.current());if(k.test(rn)){Oe.eatWhile(k);var wn=Oe.current();if(it.lastType!="."){if(I.propertyIsEnumerable(wn)){var Qt=I[wn];return G(Qt.type,Qt.style,wn)}if(wn=="async"&&Oe.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return G("async","keyword",wn)}return G("variable","variable",wn)}}function ne(Oe){return function(it,rn){var wn=!1,Qt;if(a&&it.peek()=="@"&&it.match(L))return rn.tokenize=ee,G("jsonld-keyword","meta");for(;(Qt=it.next())!=null&&!(Qt==Oe&&!wn);)wn=!wn&&Qt=="\\";return wn||(rn.tokenize=ee),G("string","string")}}function se(Oe,it){for(var rn=!1,wn;wn=Oe.next();){if(wn=="/"&&rn){it.tokenize=ee;break}rn=wn=="*"}return G("comment","comment")}function Ae(Oe,it){for(var rn=!1,wn;(wn=Oe.next())!=null;){if(!rn&&(wn=="`"||wn=="$"&&Oe.eat("{"))){it.tokenize=ee;break}rn=!rn&&wn=="\\"}return G("quasi","string-2",Oe.current())}var V="([{}])";function re(Oe,it){it.fatArrowAt&&(it.fatArrowAt=null);var rn=Oe.string.indexOf("=>",Oe.start);if(!(rn<0)){if(C){var wn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Oe.string.slice(Oe.start,rn));wn&&(rn=wn.index)}for(var Qt=0,En=!1,ni=rn-1;ni>=0;--ni){var Ci=Oe.string.charAt(ni),Wi=V.indexOf(Ci);if(Wi>=0&&Wi<3){if(!Qt){++ni;break}if(--Qt==0){Ci=="("&&(En=!0);break}}else if(Wi>=3&&Wi<6)++Qt;else if(k.test(Ci))En=!0;else if(/["'\/`]/.test(Ci))for(;;--ni){if(ni==0)return;var Wo=Oe.string.charAt(ni-1);if(Wo==Ci&&Oe.string.charAt(ni-2)!="\\"){ni--;break}}else if(En&&!Qt){++ni;break}}En&&!Qt&&(it.fatArrowAt=ni)}}var be={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function _e(Oe,it,rn,wn,Qt,En){this.indented=Oe,this.column=it,this.type=rn,this.prev=Qt,this.info=En,wn!=null&&(this.align=wn)}function Pe(Oe,it){if(!m)return!1;for(var rn=Oe.localVars;rn;rn=rn.next)if(rn.name==it)return!0;for(var wn=Oe.context;wn;wn=wn.prev)for(var rn=wn.vars;rn;rn=rn.next)if(rn.name==it)return!0}function Ue(Oe,it,rn,wn,Qt){var En=Oe.cc;for(pe.state=Oe,pe.stream=Qt,pe.marked=null,pe.cc=En,pe.style=it,Oe.lexical.hasOwnProperty("align")||(Oe.lexical.align=!0);;){var ni=En.length?En.pop():f?Ge:ye;if(ni(rn,wn)){for(;En.length&&En[En.length-1].lex;)En.pop()();return pe.marked?pe.marked:rn=="variable"&&Pe(Oe,wn)?"variable-2":it}}}var pe={state:null,column:null,marked:null,cc:null};function Ye(){for(var Oe=arguments.length-1;Oe>=0;Oe--)pe.cc.push(arguments[Oe])}function we(){return Ye.apply(null,arguments),!0}function pt(Oe,it){for(var rn=it;rn;rn=rn.next)if(rn.name==Oe)return!0;return!1}function wt(Oe){var it=pe.state;if(pe.marked="def",!!m){if(it.context){if(it.lexical.info=="var"&&it.context&&it.context.block){var rn=ft(Oe,it.context);if(rn!=null){it.context=rn;return}}else if(!pt(Oe,it.localVars)){it.localVars=new tt(Oe,it.localVars);return}}i.globalVars&&!pt(Oe,it.globalVars)&&(it.globalVars=new tt(Oe,it.globalVars))}}function ft(Oe,it){if(it)if(it.block){var rn=ft(Oe,it.prev);return rn?rn==it.prev?it:new $e(rn,it.vars,!0):null}else return pt(Oe,it.vars)?it:new $e(it.prev,new tt(Oe,it.vars),!1);else return null}function bt(Oe){return Oe=="public"||Oe=="private"||Oe=="protected"||Oe=="abstract"||Oe=="readonly"}function $e(Oe,it,rn){this.prev=Oe,this.vars=it,this.block=rn}function tt(Oe,it){this.name=Oe,this.next=it}var nt=new tt("this",new tt("arguments",null));function en(){pe.state.context=new $e(pe.state.context,pe.state.localVars,!1),pe.state.localVars=nt}function tn(){pe.state.context=new $e(pe.state.context,pe.state.localVars,!0),pe.state.localVars=null}en.lex=tn.lex=!0;function St(){pe.state.localVars=pe.state.context.vars,pe.state.context=pe.state.context.prev}St.lex=!0;function Xt(Oe,it){var rn=function(){var wn=pe.state,Qt=wn.indented;if(wn.lexical.type=="stat")Qt=wn.lexical.indented;else for(var En=wn.lexical;En&&En.type==")"&&En.align;En=En.prev)Qt=En.indented;wn.lexical=new _e(Qt,pe.stream.column(),Oe,null,wn.lexical,it)};return rn.lex=!0,rn}function Nt(){var Oe=pe.state;Oe.lexical.prev&&(Oe.lexical.type==")"&&(Oe.indented=Oe.lexical.indented),Oe.lexical=Oe.lexical.prev)}Nt.lex=!0;function Fe(Oe){function it(rn){return rn==Oe?we():Oe==";"||rn=="}"||rn==")"||rn=="]"?Ye():we(it)}return it}function ye(Oe,it){return Oe=="var"?we(Xt("vardef",it),yn,Fe(";"),Nt):Oe=="keyword a"?we(Xt("form"),ht,ye,Nt):Oe=="keyword b"?we(Xt("form"),ye,Nt):Oe=="keyword d"?pe.stream.match(/^\s*$/,!1)?we():we(Xt("stat"),nn,Fe(";"),Nt):Oe=="debugger"?we(Fe(";")):Oe=="{"?we(Xt("}"),tn,Lt,Nt,St):Oe==";"?we():Oe=="if"?(pe.state.lexical.info=="else"&&pe.state.cc[pe.state.cc.length-1]==Nt&&pe.state.cc.pop()(),we(Xt("form"),ht,ye,Nt,Wn)):Oe=="function"?we(Tn):Oe=="for"?we(Xt("form"),tn,Tr,ye,St,Nt):Oe=="class"||C&&it=="interface"?(pe.marked="keyword",we(Xt("form",Oe=="class"?Oe:it),Yr,Nt)):Oe=="variable"?C&&it=="declare"?(pe.marked="keyword",we(ye)):C&&(it=="module"||it=="enum"||it=="type")&&pe.stream.match(/^\s*\w/,!1)?(pe.marked="keyword",it=="enum"?we(ar):it=="type"?we(Zi,Fe("operator"),Me,Fe(";")):we(Xt("form"),gn,Fe("{"),Xt("}"),Lt,Nt,Nt)):C&&it=="namespace"?(pe.marked="keyword",we(Xt("form"),Ge,ye,Nt)):C&&it=="abstract"?(pe.marked="keyword",we(ye)):we(Xt("stat"),_r):Oe=="switch"?we(Xt("form"),ht,Fe("{"),Xt("}","switch"),tn,Lt,Nt,Nt,St):Oe=="case"?we(Ge,Fe(":")):Oe=="default"?we(Fe(":")):Oe=="catch"?we(Xt("form"),en,ke,ye,Nt,St):Oe=="export"?we(Xt("stat"),Ca,Nt):Oe=="import"?we(Xt("stat"),Vo,Nt):Oe=="async"?we(ye):it=="@"?we(Ge,ye):Ye(Xt("stat"),Ge,Fe(";"),Nt)}function ke(Oe){if(Oe=="(")return we(ei,Fe(")"))}function Ge(Oe,it){return Bt(Oe,it,!1)}function st(Oe,it){return Bt(Oe,it,!0)}function ht(Oe){return Oe!="("?Ye():we(Xt(")"),nn,Fe(")"),Nt)}function Bt(Oe,it,rn){if(pe.state.fatArrowAt==pe.stream.start){var wn=rn?yr:Zn;if(Oe=="(")return we(en,Xt(")"),je(ei,")"),Nt,Fe("=>"),wn,St);if(Oe=="variable")return Ye(en,gn,Fe("=>"),wn,St)}var Qt=rn?zn:Gt;return be.hasOwnProperty(Oe)?we(Qt):Oe=="function"?we(Tn,Qt):Oe=="class"||C&&it=="interface"?(pe.marked="keyword",we(Xt("form"),Wr,Nt)):Oe=="keyword c"||Oe=="async"?we(rn?st:Ge):Oe=="("?we(Xt(")"),nn,Fe(")"),Nt,Qt):Oe=="operator"||Oe=="spread"?we(rn?st:Ge):Oe=="["?we(Xt("]"),li,Nt,Qt):Oe=="{"?Ct(Te,"}",null,Qt):Oe=="quasi"?Ye(rr,Qt):Oe=="new"?we(Mr(rn)):we()}function nn(Oe){return Oe.match(/[;\}\)\],]/)?Ye():Ye(Ge)}function Gt(Oe,it){return Oe==","?we(nn):zn(Oe,it,!1)}function zn(Oe,it,rn){var wn=rn==!1?Gt:zn,Qt=rn==!1?Ge:st;if(Oe=="=>")return we(en,rn?yr:Zn,St);if(Oe=="operator")return/\+\+|--/.test(it)||C&&it=="!"?we(wn):C&&it=="<"&&pe.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?we(Xt(">"),je(Me,">"),Nt,wn):it=="?"?we(Ge,Fe(":"),Qt):we(Qt);if(Oe=="quasi")return Ye(rr,wn);if(Oe!=";"){if(Oe=="(")return Ct(st,")","call",wn);if(Oe==".")return we(gi,wn);if(Oe=="[")return we(Xt("]"),nn,Fe("]"),Nt,wn);if(C&&it=="as")return pe.marked="keyword",we(Me,wn);if(Oe=="regexp")return pe.state.lastType=pe.marked="operator",pe.stream.backUp(pe.stream.pos-pe.stream.start-1),we(Qt)}}function rr(Oe,it){return Oe!="quasi"?Ye():it.slice(it.length-2)!="${"?we(rr):we(nn,xn)}function xn(Oe){if(Oe=="}")return pe.marked="string-2",pe.state.tokenize=Ae,we(rr)}function Zn(Oe){return re(pe.stream,pe.state),Ye(Oe=="{"?ye:Ge)}function yr(Oe){return re(pe.stream,pe.state),Ye(Oe=="{"?ye:st)}function Mr(Oe){return function(it){return it=="."?we(Oe?Jr:Or):it=="variable"&&C?we(Dt,Oe?zn:Gt):Ye(Oe?st:Ge)}}function Or(Oe,it){if(it=="target")return pe.marked="keyword",we(Gt)}function Jr(Oe,it){if(it=="target")return pe.marked="keyword",we(zn)}function _r(Oe){return Oe==":"?we(Nt,ye):Ye(Gt,Fe(";"),Nt)}function gi(Oe){if(Oe=="variable")return pe.marked="property",we()}function Te(Oe,it){if(Oe=="async")return pe.marked="property",we(Te);if(Oe=="variable"||pe.style=="keyword"){if(pe.marked="property",it=="get"||it=="set")return we(te);var rn;return C&&pe.state.fatArrowAt==pe.stream.start&&(rn=pe.stream.match(/^\s*:\s*/,!1))&&(pe.state.fatArrowAt=pe.stream.pos+rn[0].length),we(oe)}else{if(Oe=="number"||Oe=="string")return pe.marked=a?"property":pe.style+" property",we(oe);if(Oe=="jsonld-keyword")return we(oe);if(C&&bt(it))return pe.marked="keyword",we(Te);if(Oe=="[")return we(Ge,jt,Fe("]"),oe);if(Oe=="spread")return we(st,oe);if(it=="*")return pe.marked="keyword",we(Te);if(Oe==":")return Ye(oe)}}function te(Oe){return Oe!="variable"?Ye(oe):(pe.marked="property",we(Tn))}function oe(Oe){if(Oe==":")return we(st);if(Oe=="(")return Ye(Tn)}function je(Oe,it,rn){function wn(Qt,En){if(rn?rn.indexOf(Qt)>-1:Qt==","){var ni=pe.state.lexical;return ni.info=="call"&&(ni.pos=(ni.pos||0)+1),we(function(Ci,Wi){return Ci==it||Wi==it?Ye():Ye(Oe)},wn)}return Qt==it||En==it?we():rn&&rn.indexOf(";")>-1?Ye(Oe):we(Fe(it))}return function(Qt,En){return Qt==it||En==it?we():Ye(Oe,wn)}}function Ct(Oe,it,rn){for(var wn=3;wn<arguments.length;wn++)pe.cc.push(arguments[wn]);return we(Xt(it,rn),je(Oe,it),Nt)}function Lt(Oe){return Oe=="}"?we():Ye(ye,Lt)}function jt(Oe,it){if(C){if(Oe==":")return we(Me);if(it=="?")return we(jt)}}function cr(Oe,it){if(C&&(Oe==":"||it=="in"))return we(Me)}function Re(Oe){if(C&&Oe==":")return pe.stream.match(/^\s*\w+\s+is\b/,!1)?we(Ge,Ee,Me):we(Me)}function Ee(Oe,it){if(it=="is")return pe.marked="keyword",we()}function Me(Oe,it){if(it=="keyof"||it=="typeof"||it=="infer"||it=="readonly")return pe.marked="keyword",we(it=="typeof"?st:Me);if(Oe=="variable"||it=="void")return pe.marked="type",we(Rt);if(it=="|"||it=="&")return we(Me);if(Oe=="string"||Oe=="number"||Oe=="atom")return we(Rt);if(Oe=="[")return we(Xt("]"),je(Me,"]",","),Nt,Rt);if(Oe=="{")return we(Xt("}"),Ke,Nt,Rt);if(Oe=="(")return we(je(lt,")"),p,Rt);if(Oe=="<")return we(je(Me,">"),Me);if(Oe=="quasi")return Ye(ot,Rt)}function p(Oe){if(Oe=="=>")return we(Me)}function Ke(Oe){return Oe.match(/[\}\)\]]/)?we():Oe==","||Oe==";"?we(Ke):Ye(rt,Ke)}function rt(Oe,it){if(Oe=="variable"||pe.style=="keyword")return pe.marked="property",we(rt);if(it=="?"||Oe=="number"||Oe=="string")return we(rt);if(Oe==":")return we(Me);if(Oe=="[")return we(Fe("variable"),cr,Fe("]"),rt);if(Oe=="(")return Ye(_i,rt);if(!Oe.match(/[;\}\)\],]/))return we()}function ot(Oe,it){return Oe!="quasi"?Ye():it.slice(it.length-2)!="${"?we(ot):we(Me,yt)}function yt(Oe){if(Oe=="}")return pe.marked="string-2",pe.state.tokenize=Ae,we(ot)}function lt(Oe,it){return Oe=="variable"&&pe.stream.match(/^\s*[?:]/,!1)||it=="?"?we(lt):Oe==":"?we(Me):Oe=="spread"?we(lt):Ye(Me)}function Rt(Oe,it){if(it=="<")return we(Xt(">"),je(Me,">"),Nt,Rt);if(it=="|"||Oe=="."||it=="&")return we(Me);if(Oe=="[")return we(Me,Fe("]"),Rt);if(it=="extends"||it=="implements")return pe.marked="keyword",we(Me);if(it=="?")return we(Me,Fe(":"),Me)}function Dt(Oe,it){if(it=="<")return we(Xt(">"),je(Me,">"),Nt,Rt)}function Ot(){return Ye(Me,At)}function At(Oe,it){if(it=="=")return we(Me)}function yn(Oe,it){return it=="enum"?(pe.marked="keyword",we(ar)):Ye(gn,jt,$t,Kn)}function gn(Oe,it){if(C&&bt(it))return pe.marked="keyword",we(gn);if(Oe=="variable")return wt(it),we();if(Oe=="spread")return we(gn);if(Oe=="[")return Ct(Sr,"]");if(Oe=="{")return Ct(Yn,"}")}function Yn(Oe,it){return Oe=="variable"&&!pe.stream.match(/^\s*:/,!1)?(wt(it),we($t)):(Oe=="variable"&&(pe.marked="property"),Oe=="spread"?we(gn):Oe=="}"?Ye():Oe=="["?we(Ge,Fe("]"),Fe(":"),Yn):we(Fe(":"),gn,$t))}function Sr(){return Ye(gn,$t)}function $t(Oe,it){if(it=="=")return we(st)}function Kn(Oe){if(Oe==",")return we(yn)}function Wn(Oe,it){if(Oe=="keyword b"&&it=="else")return we(Xt("form","else"),ye,Nt)}function Tr(Oe,it){if(it=="await")return we(Tr);if(Oe=="(")return we(Xt(")"),Jn,Nt)}function Jn(Oe){return Oe=="var"?we(yn,Vn):Oe=="variable"?we(Vn):Ye(Vn)}function Vn(Oe,it){return Oe==")"?we():Oe==";"?we(Vn):it=="in"||it=="of"?(pe.marked="keyword",we(Ge,Vn)):Ye(Ge,Vn)}function Tn(Oe,it){if(it=="*")return pe.marked="keyword",we(Tn);if(Oe=="variable")return wt(it),we(Tn);if(Oe=="(")return we(en,Xt(")"),je(ei,")"),Nt,Re,ye,St);if(C&&it=="<")return we(Xt(">"),je(Ot,">"),Nt,Tn)}function _i(Oe,it){if(it=="*")return pe.marked="keyword",we(_i);if(Oe=="variable")return wt(it),we(_i);if(Oe=="(")return we(en,Xt(")"),je(ei,")"),Nt,Re,St);if(C&&it=="<")return we(Xt(">"),je(Ot,">"),Nt,_i)}function Zi(Oe,it){if(Oe=="keyword"||Oe=="variable")return pe.marked="type",we(Zi);if(it=="<")return we(Xt(">"),je(Ot,">"),Nt)}function ei(Oe,it){return it=="@"&&we(Ge,ei),Oe=="spread"?we(ei):C&&bt(it)?(pe.marked="keyword",we(ei)):C&&Oe=="this"?we(jt,$t):Ye(gn,jt,$t)}function Wr(Oe,it){return Oe=="variable"?Yr(Oe,it):Xi(Oe,it)}function Yr(Oe,it){if(Oe=="variable")return wt(it),we(Xi)}function Xi(Oe,it){if(it=="<")return we(Xt(">"),je(Ot,">"),Nt,Xi);if(it=="extends"||it=="implements"||C&&Oe==",")return it=="implements"&&(pe.marked="keyword"),we(C?Me:Ge,Xi);if(Oe=="{")return we(Xt("}"),hi,Nt)}function hi(Oe,it){if(Oe=="async"||Oe=="variable"&&(it=="static"||it=="get"||it=="set"||C&&bt(it))&&pe.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return pe.marked="keyword",we(hi);if(Oe=="variable"||pe.style=="keyword")return pe.marked="property",we(ra,hi);if(Oe=="number"||Oe=="string")return we(ra,hi);if(Oe=="[")return we(Ge,jt,Fe("]"),ra,hi);if(it=="*")return pe.marked="keyword",we(hi);if(C&&Oe=="(")return Ye(_i,hi);if(Oe==";"||Oe==",")return we(hi);if(Oe=="}")return we();if(it=="@")return we(Ge,hi)}function ra(Oe,it){if(it=="!"||it=="?")return we(ra);if(Oe==":")return we(Me,$t);if(it=="=")return we(st);var rn=pe.state.lexical.prev,wn=rn&&rn.info=="interface";return Ye(wn?_i:Tn)}function Ca(Oe,it){return it=="*"?(pe.marked="keyword",we(Ss,Fe(";"))):it=="default"?(pe.marked="keyword",we(Ge,Fe(";"))):Oe=="{"?we(je(ao,"}"),Ss,Fe(";")):Ye(ye)}function ao(Oe,it){if(it=="as")return pe.marked="keyword",we(Fe("variable"));if(Oe=="variable")return Ye(st,ao)}function Vo(Oe){return Oe=="string"?we():Oe=="("?Ye(Ge):Oe=="."?Ye(Gt):Ye(la,ba,Ss)}function la(Oe,it){return Oe=="{"?Ct(la,"}"):(Oe=="variable"&&wt(it),it=="*"&&(pe.marked="keyword"),we(el))}function ba(Oe){if(Oe==",")return we(la,ba)}function el(Oe,it){if(it=="as")return pe.marked="keyword",we(la)}function Ss(Oe,it){if(it=="from")return pe.marked="keyword",we(Ge)}function li(Oe){return Oe=="]"?we():Ye(je(st,"]"))}function ar(){return Ye(Xt("form"),gn,Fe("{"),Xt("}"),je(La,"}"),Nt,Nt)}function La(){return Ye(gn,$t)}function Io(Oe,it){return Oe.lastType=="operator"||Oe.lastType==","||K.test(it.charAt(0))||/[,.]/.test(it.charAt(0))}function ua(Oe,it,rn){return it.tokenize==ee&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(it.lastType)||it.lastType=="quasi"&&/\{\s*$/.test(Oe.string.slice(0,Oe.pos-(rn||0)))}return{startState:function(Oe){var it={tokenize:ee,lastType:"sof",cc:[],lexical:new _e((Oe||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new $e(null,null,!1),indented:Oe||0};return i.globalVars&&typeof i.globalVars=="object"&&(it.globalVars=i.globalVars),it},token:function(Oe,it){if(Oe.sol()&&(it.lexical.hasOwnProperty("align")||(it.lexical.align=!1),it.indented=Oe.indentation(),re(Oe,it)),it.tokenize!=se&&Oe.eatSpace())return null;var rn=it.tokenize(Oe,it);return X=="comment"?rn:(it.lastType=X=="operator"&&(H=="++"||H=="--")?"incdec":X,Ue(it,rn,X,H,Oe))},indent:function(Oe,it){if(Oe.tokenize==se||Oe.tokenize==Ae)return t.Pass;if(Oe.tokenize!=ee)return 0;var rn=it&&it.charAt(0),wn=Oe.lexical,Qt;if(!/^\s*else\b/.test(it))for(var En=Oe.cc.length-1;En>=0;--En){var ni=Oe.cc[En];if(ni==Nt)wn=wn.prev;else if(ni!=Wn&&ni!=St)break}for(;(wn.type=="stat"||wn.type=="form")&&(rn=="}"||(Qt=Oe.cc[Oe.cc.length-1])&&(Qt==Gt||Qt==zn)&&!/^[,\.=+\-*:?[\(]/.test(it));)wn=wn.prev;s&&wn.type==")"&&wn.prev.type=="stat"&&(wn=wn.prev);var Ci=wn.type,Wi=rn==Ci;return Ci=="vardef"?wn.indented+(Oe.lastType=="operator"||Oe.lastType==","?wn.info.length+1:0):Ci=="form"&&rn=="{"?wn.indented:Ci=="form"?wn.indented+o:Ci=="stat"?wn.indented+(Io(Oe,it)?s||o:0):wn.info=="switch"&&!Wi&&i.doubleIndentSwitch!=!1?wn.indented+(/^(?:case|default)\b/.test(it)?o:2*o):wn.align?wn.column+(Wi?0:1):wn.indented+(Wi?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:a,jsonMode:f,expressionAllowed:ua,skipExpression:function(Oe){Ue(Oe,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(n,e){(function(t){t(LM())})(function(t){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(V,re,be){var _e=document.createElement("div");_e.className="CodeMirror-lint-tooltip cm-s-"+V.options.theme,_e.appendChild(be.cloneNode(!0)),V.state.lint.options.selfContain?V.getWrapperElement().appendChild(_e):document.body.appendChild(_e);function Pe(Ue){if(!_e.parentNode)return t.off(document,"mousemove",Pe);var pe=Math.max(0,Ue.clientY-_e.offsetHeight-5),Ye=Math.max(0,Math.min(Ue.clientX+5,_e.ownerDocument.defaultView.innerWidth-_e.offsetWidth));_e.style.top=pe+"px",_e.style.left=Ye+"px"}return t.on(document,"mousemove",Pe),Pe(re),_e.style.opacity!=null&&(_e.style.opacity=1),_e}function s(V){V.parentNode&&V.parentNode.removeChild(V)}function a(V){V.parentNode&&(V.style.opacity==null&&s(V),V.style.opacity=0,setTimeout(function(){s(V)},600))}function f(V,re,be,_e){var Pe=o(V,re,be);function Ue(){t.off(_e,"mouseout",Ue),Pe&&(a(Pe),Pe=null)}var pe=setInterval(function(){if(Pe)for(var Ye=_e;;Ye=Ye.parentNode){if(Ye&&Ye.nodeType==11&&(Ye=Ye.host),Ye==document.body)return;if(!Ye){Ue();break}}if(!Pe)return clearInterval(pe)},400);t.on(_e,"mouseout",Ue)}function m(V,re,be){this.marked=[],re instanceof Function&&(re={getAnnotations:re}),(!re||re===!0)&&(re={}),this.options={},this.linterOptions=re.options||{};for(var _e in C)this.options[_e]=C[_e];for(var _e in re)C.hasOwnProperty(_e)?re[_e]!=null&&(this.options[_e]=re[_e]):re.options||(this.linterOptions[_e]=re[_e]);this.timeout=null,this.hasGutter=be,this.onMouseOver=function(Pe){Ae(V,Pe)},this.waitingFor=0}var C={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function k(V){var re=V.state.lint;re.hasGutter&&V.clearGutter(r),re.options.highlightLines&&I(V);for(var be=0;be<re.marked.length;++be)re.marked[be].clear();re.marked.length=0}function I(V){V.eachLine(function(re){var be=re.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(re.wrapClass);be&&V.removeLineClass(re,"wrap",be[0])})}function K(V,re,be,_e,Pe){var Ue=document.createElement("div"),pe=Ue;return Ue.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+be,_e&&(pe=Ue.appendChild(document.createElement("div")),pe.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),Pe!=!1&&t.on(pe,"mouseover",function(Ye){f(V,Ye,re,pe)}),Ue}function L(V,re){return V=="error"?V:re}function q(V){for(var re=[],be=0;be<V.length;++be){var _e=V[be],Pe=_e.from.line;(re[Pe]||(re[Pe]=[])).push(_e)}return re}function X(V){var re=V.severity;re||(re="error");var be=document.createElement("div");return be.className="CodeMirror-lint-message CodeMirror-lint-message-"+re,typeof V.messageHTML<"u"?be.innerHTML=V.messageHTML:be.appendChild(document.createTextNode(V.message)),be}function H(V,re){var be=V.state.lint,_e=++be.waitingFor;function Pe(){_e=-1,V.off("change",Pe)}V.on("change",Pe),re(V.getValue(),function(Ue,pe){V.off("change",Pe),be.waitingFor==_e&&(pe&&Ue instanceof t&&(Ue=pe),V.operation(function(){ee(V,Ue)}))},be.linterOptions,V)}function G(V){var re=V.state.lint;if(re){var be=re.options,_e=be.getAnnotations||V.getHelper(t.Pos(0,0),"lint");if(_e)if(be.async||_e.async)H(V,_e);else{var Pe=_e(V.getValue(),re.linterOptions,V);if(!Pe)return;Pe.then?Pe.then(function(Ue){V.operation(function(){ee(V,Ue)})}):V.operation(function(){ee(V,Pe)})}}}function ee(V,re){var be=V.state.lint;if(be){var _e=be.options;k(V);for(var Pe=q(re),Ue=0;Ue<Pe.length;++Ue){var pe=Pe[Ue];if(pe){for(var Ye=null,we=be.hasGutter&&document.createDocumentFragment(),pt=0;pt<pe.length;++pt){var wt=pe[pt],ft=wt.severity;ft||(ft="error"),Ye=L(Ye,ft),_e.formatAnnotation&&(wt=_e.formatAnnotation(wt)),be.hasGutter&&we.appendChild(X(wt)),wt.to&&be.marked.push(V.markText(wt.from,wt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+ft,__annotation:wt}))}be.hasGutter&&V.setGutterMarker(Ue,r,K(V,we,Ye,pe.length>1,_e.tooltips)),_e.highlightLines&&V.addLineClass(Ue,"wrap",i+Ye)}}_e.onUpdateLinting&&_e.onUpdateLinting(re,Pe,V)}}function ne(V){var re=V.state.lint;re&&(clearTimeout(re.timeout),re.timeout=setTimeout(function(){G(V)},re.options.delay))}function se(V,re,be){for(var _e=be.target||be.srcElement,Pe=document.createDocumentFragment(),Ue=0;Ue<re.length;Ue++){var pe=re[Ue];Pe.appendChild(X(pe))}f(V,be,Pe,_e)}function Ae(V,re){var be=re.target||re.srcElement;if(/\bCodeMirror-lint-mark-/.test(be.className)){for(var _e=be.getBoundingClientRect(),Pe=(_e.left+_e.right)/2,Ue=(_e.top+_e.bottom)/2,pe=V.findMarksAt(V.coordsChar({left:Pe,top:Ue},"client")),Ye=[],we=0;we<pe.length;++we){var pt=pe[we].__annotation;pt&&Ye.push(pt)}Ye.length&&se(V,Ye,re)}}t.defineOption("lint",!1,function(V,re,be){if(be&&be!=t.Init&&(k(V),V.state.lint.options.lintOnChange!==!1&&V.off("change",ne),t.off(V.getWrapperElement(),"mouseover",V.state.lint.onMouseOver),clearTimeout(V.state.lint.timeout),delete V.state.lint),re){for(var _e=V.getOption("gutters"),Pe=!1,Ue=0;Ue<_e.length;++Ue)_e[Ue]==r&&(Pe=!0);var pe=V.state.lint=new m(V,re,Pe);pe.options.lintOnChange&&V.on("change",ne),pe.options.tooltips!=!1&&pe.options.tooltips!="gutter"&&t.on(V.getWrapperElement(),"mouseover",pe.onMouseOver),G(V)}}),t.defineExtension("performLint",function(){G(this)})})})();(function(n,e){(function(t){t(LM())})(function(t){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=t.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(I){return I&&I.bracketRegex||/[(){}[\]]/}function a(I,K,L){var q=I.getLineHandle(K.line),X=K.ch-1,H=L&&L.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(I.getWrapperElement().className));var G=s(L),ee=!H&&X>=0&&G.test(q.text.charAt(X))&&o[q.text.charAt(X)]||G.test(q.text.charAt(X+1))&&o[q.text.charAt(++X)];if(!ee)return null;var ne=ee.charAt(1)==">"?1:-1;if(L&&L.strict&&ne>0!=(X==K.ch))return null;var se=I.getTokenTypeAt(i(K.line,X+1)),Ae=f(I,i(K.line,X+(ne>0?1:0)),ne,se,L);return Ae==null?null:{from:i(K.line,X),to:Ae&&Ae.pos,match:Ae&&Ae.ch==ee.charAt(0),forward:ne>0}}function f(I,K,L,q,X){for(var H=X&&X.maxScanLineLength||1e4,G=X&&X.maxScanLines||1e3,ee=[],ne=s(X),se=L>0?Math.min(K.line+G,I.lastLine()+1):Math.max(I.firstLine()-1,K.line-G),Ae=K.line;Ae!=se;Ae+=L){var V=I.getLine(Ae);if(V){var re=L>0?0:V.length-1,be=L>0?V.length:-1;if(!(V.length>H))for(Ae==K.line&&(re=K.ch-(L<0?1:0));re!=be;re+=L){var _e=V.charAt(re);if(ne.test(_e)&&(q===void 0||(I.getTokenTypeAt(i(Ae,re+1))||"")==(q||""))){var Pe=o[_e];if(Pe&&Pe.charAt(1)==">"==L>0)ee.push(_e);else if(ee.length)ee.pop();else return{pos:i(Ae,re),ch:_e}}}}}return Ae-L==(L>0?I.lastLine():I.firstLine())?!1:null}function m(I,K,L){for(var q=I.state.matchBrackets.maxHighlightLineLength||1e3,X=L&&L.highlightNonMatching,H=[],G=I.listSelections(),ee=0;ee<G.length;ee++){var ne=G[ee].empty()&&a(I,G[ee].head,L);if(ne&&(ne.match||X!==!1)&&I.getLine(ne.from.line).length<=q){var se=ne.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(I.markText(ne.from,i(ne.from.line,ne.from.ch+1),{className:se})),ne.to&&I.getLine(ne.to.line).length<=q&&H.push(I.markText(ne.to,i(ne.to.line,ne.to.ch+1),{className:se}))}}if(H.length){r&&I.state.focused&&I.focus();var Ae=function(){I.operation(function(){for(var V=0;V<H.length;V++)H[V].clear()})};if(K)setTimeout(Ae,800);else return Ae}}function C(I){I.operation(function(){I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null),I.state.matchBrackets.currentlyHighlighted=m(I,!1,I.state.matchBrackets)})}function k(I){I.state.matchBrackets&&I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(I,K,L){L&&L!=t.Init&&(I.off("cursorActivity",C),I.off("focus",C),I.off("blur",k),k(I)),K&&(I.state.matchBrackets=typeof K=="object"?K:{},I.on("cursorActivity",C),I.on("focus",C),I.on("blur",k))}),t.defineExtension("matchBrackets",function(){m(this,!0)}),t.defineExtension("findMatchingBracket",function(I,K,L){return(L||typeof K=="boolean")&&(L?(L.strict=K,K=L):K=K?{strict:!0}:null),a(this,I,K)}),t.defineExtension("scanForBracket",function(I,K,L,q){return f(this,I,K,L,q)})})})();const s1e=/("(?:[^\\"]|\\.)*")|[:,]/g;function r$(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),r=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:i}=e;return function o(s,a,f){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const m=JSON.stringify(s,i);if(m===void 0)return m;const C=r-a.length-f;if(m.length<=C){const k=m.replace(s1e,(I,K)=>K||`${I} `);if(k.length<=C)return k}if(i!=null&&(s=JSON.parse(m),i=void 0),typeof s=="object"&&s!==null){const k=a+t,I=[];let K=0,L,q;if(Array.isArray(s)){L="[",q="]";const{length:X}=s;for(;K<X;K++)I.push(o(s[K],k,K===X-1?0:1)||"null")}else{L="{",q="}";const X=Object.keys(s),{length:H}=X;for(;K<H;K++){const G=X[K],ee=`${JSON.stringify(G)}: `,ne=o(s[G],k,ee.length+(K===H-1?0:1));ne!==void 0&&I.push(ee+ne)}}if(I.length>0)return[L,t+I.join(`,
${k}`),q].join(`
${a}`)}return m}(n,"",0)}function l1e(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var i$={};(function(n){var e=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,s,a,f,m,C,k){var I=C.length-1;switch(m){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=C[I-1];case 13:this.$={};break;case 14:this.$=C[I-1];break;case 15:this.$=[C[I-2],C[I]];break;case 16:this.$={},this.$[C[I][0]]=C[I][1];break;case 17:this.$=C[I-2],C[I-2][C[I][0]]=C[I][1];break;case 18:this.$=[];break;case 19:this.$=C[I-1];break;case 20:this.$=[C[I]];break;case 21:this.$=C[I-2],C[I-2].push(C[I]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,s){throw new Error(o)},parse:function(o){var s=this,a=[0],f=[null],m=[],C=this.table,k="",I=0,K=0,L=0,q=2,X=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;m.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function G(we){a.length=a.length-2*we,f.length=f.length-we,m.length=m.length-we}function ee(){var we;return we=s.lexer.lex()||1,typeof we!="number"&&(we=s.symbols_[we]||we),we}for(var ne,se,Ae,V,re,be={},_e,Pe,Ue,pe;;){if(Ae=a[a.length-1],this.defaultActions[Ae]?V=this.defaultActions[Ae]:(ne==null&&(ne=ee()),V=C[Ae]&&C[Ae][ne]),typeof V>"u"||!V.length||!V[0]){if(!L){pe=[];for(_e in C[Ae])this.terminals_[_e]&&_e>2&&pe.push("'"+this.terminals_[_e]+"'");var Ye="";this.lexer.showPosition?Ye="Parse error on line "+(I+1)+`:
`+this.lexer.showPosition()+`
Expecting `+pe.join(", ")+", got '"+this.terminals_[ne]+"'":Ye="Parse error on line "+(I+1)+": Unexpected "+(ne==1?"end of input":"'"+(this.terminals_[ne]||ne)+"'"),this.parseError(Ye,{text:this.lexer.match,token:this.terminals_[ne]||ne,line:this.lexer.yylineno,loc:H,expected:pe})}if(L==3){if(ne==X)throw new Error(Ye||"Parsing halted.");K=this.lexer.yyleng,k=this.lexer.yytext,I=this.lexer.yylineno,H=this.lexer.yylloc,ne=ee()}for(;!(q.toString()in C[Ae]);){if(Ae==0)throw new Error(Ye||"Parsing halted.");G(1),Ae=a[a.length-1]}se=ne,ne=q,Ae=a[a.length-1],V=C[Ae]&&C[Ae][q],L=3}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ae+", token: "+ne);switch(V[0]){case 1:a.push(ne),f.push(this.lexer.yytext),m.push(this.lexer.yylloc),a.push(V[1]),ne=null,se?(ne=se,se=null):(K=this.lexer.yyleng,k=this.lexer.yytext,I=this.lexer.yylineno,H=this.lexer.yylloc,L>0&&L--);break;case 2:if(Pe=this.productions_[V[1]][1],be.$=f[f.length-Pe],be._$={first_line:m[m.length-(Pe||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(Pe||1)].first_column,last_column:m[m.length-1].last_column},re=this.performAction.call(be,k,K,I,this.yy,V[1],f,m),typeof re<"u")return re;Pe&&(a=a.slice(0,-1*Pe*2),f=f.slice(0,-1*Pe),m=m.slice(0,-1*Pe)),a.push(this.productions_[V[1]][0]),f.push(be.$),m.push(be._$),Ue=C[a[a.length-2]][a[a.length-1]],a.push(Ue);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(s,a){if(this.yy.parseError)this.yy.parseError(s,a);else throw new Error(s)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var s=o.match(/\n/);return s&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),s=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+s+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,s,a,f,m;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),k=0;k<C.length&&(a=this._input.match(this.rules[C[k]]),!(a&&(!s||a[0].length>s[0].length)&&(s=a,f=k,!this.options.flex)));k++);if(s)return m=s[0].match(/\n.*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-1:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],o=this.performAction.call(this,this.yy,this,C[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return i.options={},i.performAction=function(s,a,f,m){switch(f){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return t.lexer=r,t}();typeof l1e<"u"&&(n.parser=e,n.parse=e.parse.bind(e))})(i$);const k8=Da(i$);var o$={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Cp,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(ye,ke){return ke={exports:{}},ye(ke,ke.exports),ke.exports}var i=r(function(ye){function ke(){var Ge=0,st=1,ht=2,Bt=3,nn=4,Gt=5,zn=6,rr=7,xn=8,Zn=9,yr=10,Mr=11,Or=12,Jr=13,_r=14,gi=15,Te=16,te=17,oe=0,je=1,Ct=2,Lt=3,jt=4;function cr(p,Ke){return 55296<=p.charCodeAt(Ke)&&p.charCodeAt(Ke)<=56319&&56320<=p.charCodeAt(Ke+1)&&p.charCodeAt(Ke+1)<=57343}function Re(p,Ke){Ke===void 0&&(Ke=0);var rt=p.charCodeAt(Ke);if(55296<=rt&&rt<=56319&&Ke<p.length-1){var ot=rt,yt=p.charCodeAt(Ke+1);return 56320<=yt&&yt<=57343?(ot-55296)*1024+(yt-56320)+65536:ot}if(56320<=rt&&rt<=57343&&Ke>=1){var ot=p.charCodeAt(Ke-1),yt=rt;return 55296<=ot&&ot<=56319?(ot-55296)*1024+(yt-56320)+65536:yt}return rt}function Ee(p,Ke,rt){var ot=[p].concat(Ke).concat([rt]),yt=ot[ot.length-2],lt=rt,Rt=ot.lastIndexOf(_r);if(Rt>1&&ot.slice(1,Rt).every(function(At){return At==Bt})&&[Bt,Jr,te].indexOf(p)==-1)return Ct;var Dt=ot.lastIndexOf(nn);if(Dt>0&&ot.slice(1,Dt).every(function(At){return At==nn})&&[Or,nn].indexOf(yt)==-1)return ot.filter(function(At){return At==nn}).length%2==1?Lt:jt;if(yt==Ge&&lt==st)return oe;if(yt==ht||yt==Ge||yt==st)return lt==_r&&Ke.every(function(At){return At==Bt})?Ct:je;if(lt==ht||lt==Ge||lt==st)return je;if(yt==zn&&(lt==zn||lt==rr||lt==Zn||lt==yr))return oe;if((yt==Zn||yt==rr)&&(lt==rr||lt==xn))return oe;if((yt==yr||yt==xn)&&lt==xn)return oe;if(lt==Bt||lt==gi)return oe;if(lt==Gt)return oe;if(yt==Or)return oe;var Ot=ot.indexOf(Bt)!=-1?ot.lastIndexOf(Bt)-1:ot.length-2;return[Jr,te].indexOf(ot[Ot])!=-1&&ot.slice(Ot+1,-1).every(function(At){return At==Bt})&&lt==_r||yt==gi&&[Te,te].indexOf(lt)!=-1?oe:Ke.indexOf(nn)!=-1?Ct:yt==nn&&lt==nn?oe:je}this.nextBreak=function(p,Ke){if(Ke===void 0&&(Ke=0),Ke<0)return 0;if(Ke>=p.length-1)return p.length;for(var rt=Me(Re(p,Ke)),ot=[],yt=Ke+1;yt<p.length;yt++)if(!cr(p,yt-1)){var lt=Me(Re(p,yt));if(Ee(rt,ot,lt))return yt;ot.push(lt)}return p.length},this.splitGraphemes=function(p){for(var Ke=[],rt=0,ot;(ot=this.nextBreak(p,rt))<p.length;)Ke.push(p.slice(rt,ot)),rt=ot;return rt<p.length&&Ke.push(p.slice(rt)),Ke},this.iterateGraphemes=function(p){var Ke=0,rt={next:(function(){var ot,yt;return(yt=this.nextBreak(p,Ke))<p.length?(ot=p.slice(Ke,yt),Ke=yt,{value:ot,done:!1}):Ke<p.length?(ot=p.slice(Ke),Ke=p.length,{value:ot,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(rt[Symbol.iterator]=function(){return rt}),rt},this.countGraphemes=function(p){for(var Ke=0,rt=0,ot;(ot=this.nextBreak(p,rt))<p.length;)rt=ot,Ke++;return rt<p.length&&Ke++,Ke};function Me(p){return 1536<=p&&p<=1541||p==1757||p==1807||p==2274||p==3406||p==69821||70082<=p&&p<=70083||p==72250||72326<=p&&p<=72329||p==73030?Or:p==13?Ge:p==10?st:0<=p&&p<=9||11<=p&&p<=12||14<=p&&p<=31||127<=p&&p<=159||p==173||p==1564||p==6158||p==8203||8206<=p&&p<=8207||p==8232||p==8233||8234<=p&&p<=8238||8288<=p&&p<=8292||p==8293||8294<=p&&p<=8303||55296<=p&&p<=57343||p==65279||65520<=p&&p<=65528||65529<=p&&p<=65531||113824<=p&&p<=113827||119155<=p&&p<=119162||p==917504||p==917505||917506<=p&&p<=917535||917632<=p&&p<=917759||918e3<=p&&p<=921599?ht:768<=p&&p<=879||1155<=p&&p<=1159||1160<=p&&p<=1161||1425<=p&&p<=1469||p==1471||1473<=p&&p<=1474||1476<=p&&p<=1477||p==1479||1552<=p&&p<=1562||1611<=p&&p<=1631||p==1648||1750<=p&&p<=1756||1759<=p&&p<=1764||1767<=p&&p<=1768||1770<=p&&p<=1773||p==1809||1840<=p&&p<=1866||1958<=p&&p<=1968||2027<=p&&p<=2035||2070<=p&&p<=2073||2075<=p&&p<=2083||2085<=p&&p<=2087||2089<=p&&p<=2093||2137<=p&&p<=2139||2260<=p&&p<=2273||2275<=p&&p<=2306||p==2362||p==2364||2369<=p&&p<=2376||p==2381||2385<=p&&p<=2391||2402<=p&&p<=2403||p==2433||p==2492||p==2494||2497<=p&&p<=2500||p==2509||p==2519||2530<=p&&p<=2531||2561<=p&&p<=2562||p==2620||2625<=p&&p<=2626||2631<=p&&p<=2632||2635<=p&&p<=2637||p==2641||2672<=p&&p<=2673||p==2677||2689<=p&&p<=2690||p==2748||2753<=p&&p<=2757||2759<=p&&p<=2760||p==2765||2786<=p&&p<=2787||2810<=p&&p<=2815||p==2817||p==2876||p==2878||p==2879||2881<=p&&p<=2884||p==2893||p==2902||p==2903||2914<=p&&p<=2915||p==2946||p==3006||p==3008||p==3021||p==3031||p==3072||3134<=p&&p<=3136||3142<=p&&p<=3144||3146<=p&&p<=3149||3157<=p&&p<=3158||3170<=p&&p<=3171||p==3201||p==3260||p==3263||p==3266||p==3270||3276<=p&&p<=3277||3285<=p&&p<=3286||3298<=p&&p<=3299||3328<=p&&p<=3329||3387<=p&&p<=3388||p==3390||3393<=p&&p<=3396||p==3405||p==3415||3426<=p&&p<=3427||p==3530||p==3535||3538<=p&&p<=3540||p==3542||p==3551||p==3633||3636<=p&&p<=3642||3655<=p&&p<=3662||p==3761||3764<=p&&p<=3769||3771<=p&&p<=3772||3784<=p&&p<=3789||3864<=p&&p<=3865||p==3893||p==3895||p==3897||3953<=p&&p<=3966||3968<=p&&p<=3972||3974<=p&&p<=3975||3981<=p&&p<=3991||3993<=p&&p<=4028||p==4038||4141<=p&&p<=4144||4146<=p&&p<=4151||4153<=p&&p<=4154||4157<=p&&p<=4158||4184<=p&&p<=4185||4190<=p&&p<=4192||4209<=p&&p<=4212||p==4226||4229<=p&&p<=4230||p==4237||p==4253||4957<=p&&p<=4959||5906<=p&&p<=5908||5938<=p&&p<=5940||5970<=p&&p<=5971||6002<=p&&p<=6003||6068<=p&&p<=6069||6071<=p&&p<=6077||p==6086||6089<=p&&p<=6099||p==6109||6155<=p&&p<=6157||6277<=p&&p<=6278||p==6313||6432<=p&&p<=6434||6439<=p&&p<=6440||p==6450||6457<=p&&p<=6459||6679<=p&&p<=6680||p==6683||p==6742||6744<=p&&p<=6750||p==6752||p==6754||6757<=p&&p<=6764||6771<=p&&p<=6780||p==6783||6832<=p&&p<=6845||p==6846||6912<=p&&p<=6915||p==6964||6966<=p&&p<=6970||p==6972||p==6978||7019<=p&&p<=7027||7040<=p&&p<=7041||7074<=p&&p<=7077||7080<=p&&p<=7081||7083<=p&&p<=7085||p==7142||7144<=p&&p<=7145||p==7149||7151<=p&&p<=7153||7212<=p&&p<=7219||7222<=p&&p<=7223||7376<=p&&p<=7378||7380<=p&&p<=7392||7394<=p&&p<=7400||p==7405||p==7412||7416<=p&&p<=7417||7616<=p&&p<=7673||7675<=p&&p<=7679||p==8204||8400<=p&&p<=8412||8413<=p&&p<=8416||p==8417||8418<=p&&p<=8420||8421<=p&&p<=8432||11503<=p&&p<=11505||p==11647||11744<=p&&p<=11775||12330<=p&&p<=12333||12334<=p&&p<=12335||12441<=p&&p<=12442||p==42607||42608<=p&&p<=42610||42612<=p&&p<=42621||42654<=p&&p<=42655||42736<=p&&p<=42737||p==43010||p==43014||p==43019||43045<=p&&p<=43046||43204<=p&&p<=43205||43232<=p&&p<=43249||43302<=p&&p<=43309||43335<=p&&p<=43345||43392<=p&&p<=43394||p==43443||43446<=p&&p<=43449||p==43452||p==43493||43561<=p&&p<=43566||43569<=p&&p<=43570||43573<=p&&p<=43574||p==43587||p==43596||p==43644||p==43696||43698<=p&&p<=43700||43703<=p&&p<=43704||43710<=p&&p<=43711||p==43713||43756<=p&&p<=43757||p==43766||p==44005||p==44008||p==44013||p==64286||65024<=p&&p<=65039||65056<=p&&p<=65071||65438<=p&&p<=65439||p==66045||p==66272||66422<=p&&p<=66426||68097<=p&&p<=68099||68101<=p&&p<=68102||68108<=p&&p<=68111||68152<=p&&p<=68154||p==68159||68325<=p&&p<=68326||p==69633||69688<=p&&p<=69702||69759<=p&&p<=69761||69811<=p&&p<=69814||69817<=p&&p<=69818||69888<=p&&p<=69890||69927<=p&&p<=69931||69933<=p&&p<=69940||p==70003||70016<=p&&p<=70017||70070<=p&&p<=70078||70090<=p&&p<=70092||70191<=p&&p<=70193||p==70196||70198<=p&&p<=70199||p==70206||p==70367||70371<=p&&p<=70378||70400<=p&&p<=70401||p==70460||p==70462||p==70464||p==70487||70502<=p&&p<=70508||70512<=p&&p<=70516||70712<=p&&p<=70719||70722<=p&&p<=70724||p==70726||p==70832||70835<=p&&p<=70840||p==70842||p==70845||70847<=p&&p<=70848||70850<=p&&p<=70851||p==71087||71090<=p&&p<=71093||71100<=p&&p<=71101||71103<=p&&p<=71104||71132<=p&&p<=71133||71219<=p&&p<=71226||p==71229||71231<=p&&p<=71232||p==71339||p==71341||71344<=p&&p<=71349||p==71351||71453<=p&&p<=71455||71458<=p&&p<=71461||71463<=p&&p<=71467||72193<=p&&p<=72198||72201<=p&&p<=72202||72243<=p&&p<=72248||72251<=p&&p<=72254||p==72263||72273<=p&&p<=72278||72281<=p&&p<=72283||72330<=p&&p<=72342||72344<=p&&p<=72345||72752<=p&&p<=72758||72760<=p&&p<=72765||p==72767||72850<=p&&p<=72871||72874<=p&&p<=72880||72882<=p&&p<=72883||72885<=p&&p<=72886||73009<=p&&p<=73014||p==73018||73020<=p&&p<=73021||73023<=p&&p<=73029||p==73031||92912<=p&&p<=92916||92976<=p&&p<=92982||94095<=p&&p<=94098||113821<=p&&p<=113822||p==119141||119143<=p&&p<=119145||119150<=p&&p<=119154||119163<=p&&p<=119170||119173<=p&&p<=119179||119210<=p&&p<=119213||119362<=p&&p<=119364||121344<=p&&p<=121398||121403<=p&&p<=121452||p==121461||p==121476||121499<=p&&p<=121503||121505<=p&&p<=121519||122880<=p&&p<=122886||122888<=p&&p<=122904||122907<=p&&p<=122913||122915<=p&&p<=122916||122918<=p&&p<=122922||125136<=p&&p<=125142||125252<=p&&p<=125258||917536<=p&&p<=917631||917760<=p&&p<=917999?Bt:127462<=p&&p<=127487?nn:p==2307||p==2363||2366<=p&&p<=2368||2377<=p&&p<=2380||2382<=p&&p<=2383||2434<=p&&p<=2435||2495<=p&&p<=2496||2503<=p&&p<=2504||2507<=p&&p<=2508||p==2563||2622<=p&&p<=2624||p==2691||2750<=p&&p<=2752||p==2761||2763<=p&&p<=2764||2818<=p&&p<=2819||p==2880||2887<=p&&p<=2888||2891<=p&&p<=2892||p==3007||3009<=p&&p<=3010||3014<=p&&p<=3016||3018<=p&&p<=3020||3073<=p&&p<=3075||3137<=p&&p<=3140||3202<=p&&p<=3203||p==3262||3264<=p&&p<=3265||3267<=p&&p<=3268||3271<=p&&p<=3272||3274<=p&&p<=3275||3330<=p&&p<=3331||3391<=p&&p<=3392||3398<=p&&p<=3400||3402<=p&&p<=3404||3458<=p&&p<=3459||3536<=p&&p<=3537||3544<=p&&p<=3550||3570<=p&&p<=3571||p==3635||p==3763||3902<=p&&p<=3903||p==3967||p==4145||4155<=p&&p<=4156||4182<=p&&p<=4183||p==4228||p==6070||6078<=p&&p<=6085||6087<=p&&p<=6088||6435<=p&&p<=6438||6441<=p&&p<=6443||6448<=p&&p<=6449||6451<=p&&p<=6456||6681<=p&&p<=6682||p==6741||p==6743||6765<=p&&p<=6770||p==6916||p==6965||p==6971||6973<=p&&p<=6977||6979<=p&&p<=6980||p==7042||p==7073||7078<=p&&p<=7079||p==7082||p==7143||7146<=p&&p<=7148||p==7150||7154<=p&&p<=7155||7204<=p&&p<=7211||7220<=p&&p<=7221||p==7393||7410<=p&&p<=7411||p==7415||43043<=p&&p<=43044||p==43047||43136<=p&&p<=43137||43188<=p&&p<=43203||43346<=p&&p<=43347||p==43395||43444<=p&&p<=43445||43450<=p&&p<=43451||43453<=p&&p<=43456||43567<=p&&p<=43568||43571<=p&&p<=43572||p==43597||p==43755||43758<=p&&p<=43759||p==43765||44003<=p&&p<=44004||44006<=p&&p<=44007||44009<=p&&p<=44010||p==44012||p==69632||p==69634||p==69762||69808<=p&&p<=69810||69815<=p&&p<=69816||p==69932||p==70018||70067<=p&&p<=70069||70079<=p&&p<=70080||70188<=p&&p<=70190||70194<=p&&p<=70195||p==70197||70368<=p&&p<=70370||70402<=p&&p<=70403||p==70463||70465<=p&&p<=70468||70471<=p&&p<=70472||70475<=p&&p<=70477||70498<=p&&p<=70499||70709<=p&&p<=70711||70720<=p&&p<=70721||p==70725||70833<=p&&p<=70834||p==70841||70843<=p&&p<=70844||p==70846||p==70849||71088<=p&&p<=71089||71096<=p&&p<=71099||p==71102||71216<=p&&p<=71218||71227<=p&&p<=71228||p==71230||p==71340||71342<=p&&p<=71343||p==71350||71456<=p&&p<=71457||p==71462||72199<=p&&p<=72200||p==72249||72279<=p&&p<=72280||p==72343||p==72751||p==72766||p==72873||p==72881||p==72884||94033<=p&&p<=94078||p==119142||p==119149?Gt:4352<=p&&p<=4447||43360<=p&&p<=43388?zn:4448<=p&&p<=4519||55216<=p&&p<=55238?rr:4520<=p&&p<=4607||55243<=p&&p<=55291?xn:p==44032||p==44060||p==44088||p==44116||p==44144||p==44172||p==44200||p==44228||p==44256||p==44284||p==44312||p==44340||p==44368||p==44396||p==44424||p==44452||p==44480||p==44508||p==44536||p==44564||p==44592||p==44620||p==44648||p==44676||p==44704||p==44732||p==44760||p==44788||p==44816||p==44844||p==44872||p==44900||p==44928||p==44956||p==44984||p==45012||p==45040||p==45068||p==45096||p==45124||p==45152||p==45180||p==45208||p==45236||p==45264||p==45292||p==45320||p==45348||p==45376||p==45404||p==45432||p==45460||p==45488||p==45516||p==45544||p==45572||p==45600||p==45628||p==45656||p==45684||p==45712||p==45740||p==45768||p==45796||p==45824||p==45852||p==45880||p==45908||p==45936||p==45964||p==45992||p==46020||p==46048||p==46076||p==46104||p==46132||p==46160||p==46188||p==46216||p==46244||p==46272||p==46300||p==46328||p==46356||p==46384||p==46412||p==46440||p==46468||p==46496||p==46524||p==46552||p==46580||p==46608||p==46636||p==46664||p==46692||p==46720||p==46748||p==46776||p==46804||p==46832||p==46860||p==46888||p==46916||p==46944||p==46972||p==47e3||p==47028||p==47056||p==47084||p==47112||p==47140||p==47168||p==47196||p==47224||p==47252||p==47280||p==47308||p==47336||p==47364||p==47392||p==47420||p==47448||p==47476||p==47504||p==47532||p==47560||p==47588||p==47616||p==47644||p==47672||p==47700||p==47728||p==47756||p==47784||p==47812||p==47840||p==47868||p==47896||p==47924||p==47952||p==47980||p==48008||p==48036||p==48064||p==48092||p==48120||p==48148||p==48176||p==48204||p==48232||p==48260||p==48288||p==48316||p==48344||p==48372||p==48400||p==48428||p==48456||p==48484||p==48512||p==48540||p==48568||p==48596||p==48624||p==48652||p==48680||p==48708||p==48736||p==48764||p==48792||p==48820||p==48848||p==48876||p==48904||p==48932||p==48960||p==48988||p==49016||p==49044||p==49072||p==49100||p==49128||p==49156||p==49184||p==49212||p==49240||p==49268||p==49296||p==49324||p==49352||p==49380||p==49408||p==49436||p==49464||p==49492||p==49520||p==49548||p==49576||p==49604||p==49632||p==49660||p==49688||p==49716||p==49744||p==49772||p==49800||p==49828||p==49856||p==49884||p==49912||p==49940||p==49968||p==49996||p==50024||p==50052||p==50080||p==50108||p==50136||p==50164||p==50192||p==50220||p==50248||p==50276||p==50304||p==50332||p==50360||p==50388||p==50416||p==50444||p==50472||p==50500||p==50528||p==50556||p==50584||p==50612||p==50640||p==50668||p==50696||p==50724||p==50752||p==50780||p==50808||p==50836||p==50864||p==50892||p==50920||p==50948||p==50976||p==51004||p==51032||p==51060||p==51088||p==51116||p==51144||p==51172||p==51200||p==51228||p==51256||p==51284||p==51312||p==51340||p==51368||p==51396||p==51424||p==51452||p==51480||p==51508||p==51536||p==51564||p==51592||p==51620||p==51648||p==51676||p==51704||p==51732||p==51760||p==51788||p==51816||p==51844||p==51872||p==51900||p==51928||p==51956||p==51984||p==52012||p==52040||p==52068||p==52096||p==52124||p==52152||p==52180||p==52208||p==52236||p==52264||p==52292||p==52320||p==52348||p==52376||p==52404||p==52432||p==52460||p==52488||p==52516||p==52544||p==52572||p==52600||p==52628||p==52656||p==52684||p==52712||p==52740||p==52768||p==52796||p==52824||p==52852||p==52880||p==52908||p==52936||p==52964||p==52992||p==53020||p==53048||p==53076||p==53104||p==53132||p==53160||p==53188||p==53216||p==53244||p==53272||p==53300||p==53328||p==53356||p==53384||p==53412||p==53440||p==53468||p==53496||p==53524||p==53552||p==53580||p==53608||p==53636||p==53664||p==53692||p==53720||p==53748||p==53776||p==53804||p==53832||p==53860||p==53888||p==53916||p==53944||p==53972||p==54e3||p==54028||p==54056||p==54084||p==54112||p==54140||p==54168||p==54196||p==54224||p==54252||p==54280||p==54308||p==54336||p==54364||p==54392||p==54420||p==54448||p==54476||p==54504||p==54532||p==54560||p==54588||p==54616||p==54644||p==54672||p==54700||p==54728||p==54756||p==54784||p==54812||p==54840||p==54868||p==54896||p==54924||p==54952||p==54980||p==55008||p==55036||p==55064||p==55092||p==55120||p==55148||p==55176?Zn:44033<=p&&p<=44059||44061<=p&&p<=44087||44089<=p&&p<=44115||44117<=p&&p<=44143||44145<=p&&p<=44171||44173<=p&&p<=44199||44201<=p&&p<=44227||44229<=p&&p<=44255||44257<=p&&p<=44283||44285<=p&&p<=44311||44313<=p&&p<=44339||44341<=p&&p<=44367||44369<=p&&p<=44395||44397<=p&&p<=44423||44425<=p&&p<=44451||44453<=p&&p<=44479||44481<=p&&p<=44507||44509<=p&&p<=44535||44537<=p&&p<=44563||44565<=p&&p<=44591||44593<=p&&p<=44619||44621<=p&&p<=44647||44649<=p&&p<=44675||44677<=p&&p<=44703||44705<=p&&p<=44731||44733<=p&&p<=44759||44761<=p&&p<=44787||44789<=p&&p<=44815||44817<=p&&p<=44843||44845<=p&&p<=44871||44873<=p&&p<=44899||44901<=p&&p<=44927||44929<=p&&p<=44955||44957<=p&&p<=44983||44985<=p&&p<=45011||45013<=p&&p<=45039||45041<=p&&p<=45067||45069<=p&&p<=45095||45097<=p&&p<=45123||45125<=p&&p<=45151||45153<=p&&p<=45179||45181<=p&&p<=45207||45209<=p&&p<=45235||45237<=p&&p<=45263||45265<=p&&p<=45291||45293<=p&&p<=45319||45321<=p&&p<=45347||45349<=p&&p<=45375||45377<=p&&p<=45403||45405<=p&&p<=45431||45433<=p&&p<=45459||45461<=p&&p<=45487||45489<=p&&p<=45515||45517<=p&&p<=45543||45545<=p&&p<=45571||45573<=p&&p<=45599||45601<=p&&p<=45627||45629<=p&&p<=45655||45657<=p&&p<=45683||45685<=p&&p<=45711||45713<=p&&p<=45739||45741<=p&&p<=45767||45769<=p&&p<=45795||45797<=p&&p<=45823||45825<=p&&p<=45851||45853<=p&&p<=45879||45881<=p&&p<=45907||45909<=p&&p<=45935||45937<=p&&p<=45963||45965<=p&&p<=45991||45993<=p&&p<=46019||46021<=p&&p<=46047||46049<=p&&p<=46075||46077<=p&&p<=46103||46105<=p&&p<=46131||46133<=p&&p<=46159||46161<=p&&p<=46187||46189<=p&&p<=46215||46217<=p&&p<=46243||46245<=p&&p<=46271||46273<=p&&p<=46299||46301<=p&&p<=46327||46329<=p&&p<=46355||46357<=p&&p<=46383||46385<=p&&p<=46411||46413<=p&&p<=46439||46441<=p&&p<=46467||46469<=p&&p<=46495||46497<=p&&p<=46523||46525<=p&&p<=46551||46553<=p&&p<=46579||46581<=p&&p<=46607||46609<=p&&p<=46635||46637<=p&&p<=46663||46665<=p&&p<=46691||46693<=p&&p<=46719||46721<=p&&p<=46747||46749<=p&&p<=46775||46777<=p&&p<=46803||46805<=p&&p<=46831||46833<=p&&p<=46859||46861<=p&&p<=46887||46889<=p&&p<=46915||46917<=p&&p<=46943||46945<=p&&p<=46971||46973<=p&&p<=46999||47001<=p&&p<=47027||47029<=p&&p<=47055||47057<=p&&p<=47083||47085<=p&&p<=47111||47113<=p&&p<=47139||47141<=p&&p<=47167||47169<=p&&p<=47195||47197<=p&&p<=47223||47225<=p&&p<=47251||47253<=p&&p<=47279||47281<=p&&p<=47307||47309<=p&&p<=47335||47337<=p&&p<=47363||47365<=p&&p<=47391||47393<=p&&p<=47419||47421<=p&&p<=47447||47449<=p&&p<=47475||47477<=p&&p<=47503||47505<=p&&p<=47531||47533<=p&&p<=47559||47561<=p&&p<=47587||47589<=p&&p<=47615||47617<=p&&p<=47643||47645<=p&&p<=47671||47673<=p&&p<=47699||47701<=p&&p<=47727||47729<=p&&p<=47755||47757<=p&&p<=47783||47785<=p&&p<=47811||47813<=p&&p<=47839||47841<=p&&p<=47867||47869<=p&&p<=47895||47897<=p&&p<=47923||47925<=p&&p<=47951||47953<=p&&p<=47979||47981<=p&&p<=48007||48009<=p&&p<=48035||48037<=p&&p<=48063||48065<=p&&p<=48091||48093<=p&&p<=48119||48121<=p&&p<=48147||48149<=p&&p<=48175||48177<=p&&p<=48203||48205<=p&&p<=48231||48233<=p&&p<=48259||48261<=p&&p<=48287||48289<=p&&p<=48315||48317<=p&&p<=48343||48345<=p&&p<=48371||48373<=p&&p<=48399||48401<=p&&p<=48427||48429<=p&&p<=48455||48457<=p&&p<=48483||48485<=p&&p<=48511||48513<=p&&p<=48539||48541<=p&&p<=48567||48569<=p&&p<=48595||48597<=p&&p<=48623||48625<=p&&p<=48651||48653<=p&&p<=48679||48681<=p&&p<=48707||48709<=p&&p<=48735||48737<=p&&p<=48763||48765<=p&&p<=48791||48793<=p&&p<=48819||48821<=p&&p<=48847||48849<=p&&p<=48875||48877<=p&&p<=48903||48905<=p&&p<=48931||48933<=p&&p<=48959||48961<=p&&p<=48987||48989<=p&&p<=49015||49017<=p&&p<=49043||49045<=p&&p<=49071||49073<=p&&p<=49099||49101<=p&&p<=49127||49129<=p&&p<=49155||49157<=p&&p<=49183||49185<=p&&p<=49211||49213<=p&&p<=49239||49241<=p&&p<=49267||49269<=p&&p<=49295||49297<=p&&p<=49323||49325<=p&&p<=49351||49353<=p&&p<=49379||49381<=p&&p<=49407||49409<=p&&p<=49435||49437<=p&&p<=49463||49465<=p&&p<=49491||49493<=p&&p<=49519||49521<=p&&p<=49547||49549<=p&&p<=49575||49577<=p&&p<=49603||49605<=p&&p<=49631||49633<=p&&p<=49659||49661<=p&&p<=49687||49689<=p&&p<=49715||49717<=p&&p<=49743||49745<=p&&p<=49771||49773<=p&&p<=49799||49801<=p&&p<=49827||49829<=p&&p<=49855||49857<=p&&p<=49883||49885<=p&&p<=49911||49913<=p&&p<=49939||49941<=p&&p<=49967||49969<=p&&p<=49995||49997<=p&&p<=50023||50025<=p&&p<=50051||50053<=p&&p<=50079||50081<=p&&p<=50107||50109<=p&&p<=50135||50137<=p&&p<=50163||50165<=p&&p<=50191||50193<=p&&p<=50219||50221<=p&&p<=50247||50249<=p&&p<=50275||50277<=p&&p<=50303||50305<=p&&p<=50331||50333<=p&&p<=50359||50361<=p&&p<=50387||50389<=p&&p<=50415||50417<=p&&p<=50443||50445<=p&&p<=50471||50473<=p&&p<=50499||50501<=p&&p<=50527||50529<=p&&p<=50555||50557<=p&&p<=50583||50585<=p&&p<=50611||50613<=p&&p<=50639||50641<=p&&p<=50667||50669<=p&&p<=50695||50697<=p&&p<=50723||50725<=p&&p<=50751||50753<=p&&p<=50779||50781<=p&&p<=50807||50809<=p&&p<=50835||50837<=p&&p<=50863||50865<=p&&p<=50891||50893<=p&&p<=50919||50921<=p&&p<=50947||50949<=p&&p<=50975||50977<=p&&p<=51003||51005<=p&&p<=51031||51033<=p&&p<=51059||51061<=p&&p<=51087||51089<=p&&p<=51115||51117<=p&&p<=51143||51145<=p&&p<=51171||51173<=p&&p<=51199||51201<=p&&p<=51227||51229<=p&&p<=51255||51257<=p&&p<=51283||51285<=p&&p<=51311||51313<=p&&p<=51339||51341<=p&&p<=51367||51369<=p&&p<=51395||51397<=p&&p<=51423||51425<=p&&p<=51451||51453<=p&&p<=51479||51481<=p&&p<=51507||51509<=p&&p<=51535||51537<=p&&p<=51563||51565<=p&&p<=51591||51593<=p&&p<=51619||51621<=p&&p<=51647||51649<=p&&p<=51675||51677<=p&&p<=51703||51705<=p&&p<=51731||51733<=p&&p<=51759||51761<=p&&p<=51787||51789<=p&&p<=51815||51817<=p&&p<=51843||51845<=p&&p<=51871||51873<=p&&p<=51899||51901<=p&&p<=51927||51929<=p&&p<=51955||51957<=p&&p<=51983||51985<=p&&p<=52011||52013<=p&&p<=52039||52041<=p&&p<=52067||52069<=p&&p<=52095||52097<=p&&p<=52123||52125<=p&&p<=52151||52153<=p&&p<=52179||52181<=p&&p<=52207||52209<=p&&p<=52235||52237<=p&&p<=52263||52265<=p&&p<=52291||52293<=p&&p<=52319||52321<=p&&p<=52347||52349<=p&&p<=52375||52377<=p&&p<=52403||52405<=p&&p<=52431||52433<=p&&p<=52459||52461<=p&&p<=52487||52489<=p&&p<=52515||52517<=p&&p<=52543||52545<=p&&p<=52571||52573<=p&&p<=52599||52601<=p&&p<=52627||52629<=p&&p<=52655||52657<=p&&p<=52683||52685<=p&&p<=52711||52713<=p&&p<=52739||52741<=p&&p<=52767||52769<=p&&p<=52795||52797<=p&&p<=52823||52825<=p&&p<=52851||52853<=p&&p<=52879||52881<=p&&p<=52907||52909<=p&&p<=52935||52937<=p&&p<=52963||52965<=p&&p<=52991||52993<=p&&p<=53019||53021<=p&&p<=53047||53049<=p&&p<=53075||53077<=p&&p<=53103||53105<=p&&p<=53131||53133<=p&&p<=53159||53161<=p&&p<=53187||53189<=p&&p<=53215||53217<=p&&p<=53243||53245<=p&&p<=53271||53273<=p&&p<=53299||53301<=p&&p<=53327||53329<=p&&p<=53355||53357<=p&&p<=53383||53385<=p&&p<=53411||53413<=p&&p<=53439||53441<=p&&p<=53467||53469<=p&&p<=53495||53497<=p&&p<=53523||53525<=p&&p<=53551||53553<=p&&p<=53579||53581<=p&&p<=53607||53609<=p&&p<=53635||53637<=p&&p<=53663||53665<=p&&p<=53691||53693<=p&&p<=53719||53721<=p&&p<=53747||53749<=p&&p<=53775||53777<=p&&p<=53803||53805<=p&&p<=53831||53833<=p&&p<=53859||53861<=p&&p<=53887||53889<=p&&p<=53915||53917<=p&&p<=53943||53945<=p&&p<=53971||53973<=p&&p<=53999||54001<=p&&p<=54027||54029<=p&&p<=54055||54057<=p&&p<=54083||54085<=p&&p<=54111||54113<=p&&p<=54139||54141<=p&&p<=54167||54169<=p&&p<=54195||54197<=p&&p<=54223||54225<=p&&p<=54251||54253<=p&&p<=54279||54281<=p&&p<=54307||54309<=p&&p<=54335||54337<=p&&p<=54363||54365<=p&&p<=54391||54393<=p&&p<=54419||54421<=p&&p<=54447||54449<=p&&p<=54475||54477<=p&&p<=54503||54505<=p&&p<=54531||54533<=p&&p<=54559||54561<=p&&p<=54587||54589<=p&&p<=54615||54617<=p&&p<=54643||54645<=p&&p<=54671||54673<=p&&p<=54699||54701<=p&&p<=54727||54729<=p&&p<=54755||54757<=p&&p<=54783||54785<=p&&p<=54811||54813<=p&&p<=54839||54841<=p&&p<=54867||54869<=p&&p<=54895||54897<=p&&p<=54923||54925<=p&&p<=54951||54953<=p&&p<=54979||54981<=p&&p<=55007||55009<=p&&p<=55035||55037<=p&&p<=55063||55065<=p&&p<=55091||55093<=p&&p<=55119||55121<=p&&p<=55147||55149<=p&&p<=55175||55177<=p&&p<=55203?yr:p==9757||p==9977||9994<=p&&p<=9997||p==127877||127938<=p&&p<=127940||p==127943||127946<=p&&p<=127948||128066<=p&&p<=128067||128070<=p&&p<=128080||p==128110||128112<=p&&p<=128120||p==128124||128129<=p&&p<=128131||128133<=p&&p<=128135||p==128170||128372<=p&&p<=128373||p==128378||p==128400||128405<=p&&p<=128406||128581<=p&&p<=128583||128587<=p&&p<=128591||p==128675||128692<=p&&p<=128694||p==128704||p==128716||129304<=p&&p<=129308||129310<=p&&p<=129311||p==129318||129328<=p&&p<=129337||129341<=p&&p<=129342||129489<=p&&p<=129501?Jr:127995<=p&&p<=127999?_r:p==8205?gi:p==9792||p==9794||9877<=p&&p<=9878||p==9992||p==10084||p==127752||p==127806||p==127859||p==127891||p==127908||p==127912||p==127979||p==127981||p==128139||128187<=p&&p<=128188||p==128295||p==128300||p==128488||p==128640||p==128658?Te:128102<=p&&p<=128105?te:Mr}return this}ye.exports&&(ye.exports=ke)}),o=new i,s=function(ke,Ge,st){for(var ht=o.iterateGraphemes(ke.substring(Ge)),Bt="",nn=0;nn<st-Ge;nn++){var Gt=ht.next();if(Bt+=Gt.value,Gt.done)break}return Bt},a=function(ye,ke,Ge,st,ht,Bt,nn){return{start:{line:ye,column:ke,offset:Ge},end:{line:st,column:ht,offset:Bt},source:nn||null}},f=r(function(ye,ke){(function(Ge,st){ye.exports=st()})(t,function(){var Ge="",st,ht=Bt;function Bt(yr,Mr){if(typeof yr!="string")throw new TypeError("expected a string");if(Mr===1)return yr;if(Mr===2)return yr+yr;var Or=yr.length*Mr;if(st!==yr||typeof st>"u")st=yr,Ge="";else if(Ge.length>=Or)return Ge.substr(0,Or);for(;Or>Ge.length&&Mr>1;)Mr&1&&(Ge+=yr),Mr>>=1,yr+=yr;return Ge+=yr,Ge=Ge.substr(0,Or),Ge}var nn=function(Mr,Or,Jr){if(Mr==null||Or==null)return Mr;var _r=String(Mr),gi=typeof Or=="number"?Or:parseInt(Or,10);if(isNaN(gi)||!isFinite(gi))return _r;var Te=_r.length;if(Te>=gi)return _r;var te=String(Jr);te===""&&(te=" ");for(var oe=gi-Te;te.length<oe;)te+=te;var je=te.length>oe?te.substr(0,oe):te;return je+_r},Gt=Object.assign||function(yr){for(var Mr=1;Mr<arguments.length;Mr++){var Or=arguments[Mr];for(var Jr in Or)Object.prototype.hasOwnProperty.call(Or,Jr)&&(yr[Jr]=Or[Jr])}return yr};function zn(yr,Mr,Or,Jr){var _r=String(Mr),gi=nn(_r,Or," "),Te=ht(" ",Jr.tabSize);return gi+" | "+yr.replace(/\t/g,Te)}function rr(yr,Mr,Or,Jr,_r){return yr.slice(Mr,Or).map(function(gi,Te){return zn(gi,Mr+Te+1,Jr,_r)}).join(`
`)}var xn={extraLines:2,tabSize:4},Zn=function(Mr,Or,Jr,_r){_r=Gt({},xn,_r);var gi=Mr.split(/\r\n?|\n|\f/),Te=Math.max(1,Or-_r.extraLines)-1,te=Math.min(Or+_r.extraLines,gi.length),oe=String(te).length,je=rr(gi,Te,Or,oe,_r),Ct=zn(gi[Or-1].substring(0,Jr-1),Or,oe,_r),Lt=ht(" ",Ct.length)+"^",jt=rr(gi,Or,te,oe,_r);return[je,Lt,jt].filter(Boolean).join(`
`)};return Zn})}),m=new Error().stack,C=function(ye){var ke=Object.create(SyntaxError.prototype);return Object.assign(ke,ye,{name:"SyntaxError"}),Object.defineProperty(ke,"stack",{get:function(){return m?m.replace(/^(.+\n){1,3}/,String(ke)+`
`):""}}),ke},k=function(ye,ke,Ge,st,ht){throw C({message:st?ye+`
`+f(ke,st,ht):ye,rawMessage:ye,source:Ge,line:st,column:ht})},I={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(ke){for(var Ge=arguments.length,st=Array(Ge>1?Ge-1:0),ht=1;ht<Ge;ht++)st[ht-1]=arguments[ht];return"Unexpected token <"+ke+"> at "+st.filter(Boolean).join(":")}},K={unexpectedSymbol:function(ke){for(var Ge=arguments.length,st=Array(Ge>1?Ge-1:0),ht=1;ht<Ge;ht++)st[ht-1]=arguments[ht];return"Unexpected symbol <"+ke+"> at "+st.filter(Boolean).join(":")}},L={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},q={"{":L.LEFT_BRACE,"}":L.RIGHT_BRACE,"[":L.LEFT_BRACKET,"]":L.RIGHT_BRACKET,":":L.COLON,",":L.COMMA},X={true:L.TRUE,false:L.FALSE,null:L.NULL},H={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},G={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},ee={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ne(ye){return ye>="1"&&ye<="9"}function se(ye){return ye>="0"&&ye<="9"}function Ae(ye){return se(ye)||ye>="a"&&ye<="f"||ye>="A"&&ye<="F"}function V(ye){return ye==="e"||ye==="E"}function re(ye,ke,Ge,st){var ht=ye.charAt(ke);if(ht==="\r")ke++,Ge++,st=1,ye.charAt(ke)===`
`&&ke++;else if(ht===`
`)ke++,Ge++,st=1;else if(ht==="	"||ht===" ")ke++,st++;else return null;return{index:ke,line:Ge,column:st}}function be(ye,ke,Ge,st){var ht=ye.charAt(ke);return ht in q?{type:q[ht],line:Ge,column:st+1,index:ke+1,value:null}:null}function _e(ye,ke,Ge,st){for(var ht in X)if(X.hasOwnProperty(ht)&&ye.substr(ke,ht.length)===ht)return{type:X[ht],line:Ge,column:st+ht.length,index:ke+ht.length,value:ht};return null}function Pe(ye,ke,Ge,st){for(var ht=ke,Bt=H._START_;ke<ye.length;){var nn=ye.charAt(ke);switch(Bt){case H._START_:{if(nn==='"')ke++,Bt=H.START_QUOTE_OR_CHAR;else return null;break}case H.START_QUOTE_OR_CHAR:{if(nn==="\\")ke++,Bt=H.ESCAPE;else{if(nn==='"')return ke++,{type:L.STRING,line:Ge,column:st+ke-ht,index:ke,value:ye.slice(ht,ke)};ke++}break}case H.ESCAPE:{if(nn in G){if(ke++,nn==="u")for(var Gt=0;Gt<4;Gt++){var zn=ye.charAt(ke);if(zn&&Ae(zn))ke++;else return null}Bt=H.START_QUOTE_OR_CHAR}else return null;break}}}}function Ue(ye,ke,Ge,st){var ht=ke,Bt=ke,nn=ee._START_;e:for(;ke<ye.length;){var Gt=ye.charAt(ke);switch(nn){case ee._START_:{if(Gt==="-")nn=ee.MINUS;else if(Gt==="0")Bt=ke+1,nn=ee.ZERO;else if(ne(Gt))Bt=ke+1,nn=ee.DIGIT;else return null;break}case ee.MINUS:{if(Gt==="0")Bt=ke+1,nn=ee.ZERO;else if(ne(Gt))Bt=ke+1,nn=ee.DIGIT;else return null;break}case ee.ZERO:{if(Gt===".")nn=ee.POINT;else if(V(Gt))nn=ee.EXP;else break e;break}case ee.DIGIT:{if(se(Gt))Bt=ke+1;else if(Gt===".")nn=ee.POINT;else if(V(Gt))nn=ee.EXP;else break e;break}case ee.POINT:{if(se(Gt))Bt=ke+1,nn=ee.DIGIT_FRACTION;else break e;break}case ee.DIGIT_FRACTION:{if(se(Gt))Bt=ke+1;else if(V(Gt))nn=ee.EXP;else break e;break}case ee.EXP:{if(Gt==="+"||Gt==="-")nn=ee.EXP_DIGIT_OR_SIGN;else if(se(Gt))Bt=ke+1,nn=ee.EXP_DIGIT_OR_SIGN;else break e;break}case ee.EXP_DIGIT_OR_SIGN:{if(se(Gt))Bt=ke+1;else break e;break}}ke++}return Bt>0?{type:L.NUMBER,line:Ge,column:st+Bt-ht,index:Bt,value:ye.slice(ht,Bt)}:null}var pe=function(ke,Ge){for(var st=1,ht=1,Bt=0,nn=[];Bt<ke.length;){var Gt=[ke,Bt,st,ht],zn=re.apply(void 0,Gt);if(zn){Bt=zn.index,st=zn.line,ht=zn.column;continue}var rr=be.apply(void 0,Gt)||_e.apply(void 0,Gt)||Pe.apply(void 0,Gt)||Ue.apply(void 0,Gt);if(rr){var xn={type:rr.type,value:rr.value,loc:a(st,ht,Bt,rr.line,rr.column,rr.index,Ge.source)};nn.push(xn),Bt=rr.index,st=rr.line,ht=rr.column}else k(K.unexpectedSymbol(s(ke,Bt,Bt+1),Ge.source,st,ht),ke,Ge.source,st,ht)}return nn},Ye={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},we={_START_:0,KEY:1,COLON:2},pt={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},wt={loc:!0,source:null};function ft(ye,ke,Ge){var st=ke.length>0?ke[ke.length-1].loc.end:{line:1,column:1};k(I.unexpectedEnd(),ye,Ge.source,st.line,st.column)}function bt(ye){for(var ke=0,Ge=0;Ge<4;Ge++)ke=ke*16+parseInt(ye[Ge],16);return String.fromCharCode(ke)}var $e={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},tt=['"',"\\","/"];function nt(ye){for(var ke="",Ge=0;Ge<ye.length;Ge++){var st=ye.charAt(Ge);if(st==="\\"){Ge++;var ht=ye.charAt(Ge);if(ht==="u")ke+=bt(ye.substr(Ge+1,4)),Ge+=4;else if(tt.indexOf(ht)!==-1)ke+=ht;else if(ht in $e)ke+=$e[ht];else break}else ke+=st}return ke}function en(ye,ke,Ge,st){for(var ht=void 0,Bt={type:"Object",children:[]},nn=Ye._START_;Ge<ke.length;){var Gt=ke[Ge];switch(nn){case Ye._START_:{if(Gt.type===L.LEFT_BRACE)ht=Gt,nn=Ye.OPEN_OBJECT,Ge++;else return null;break}case Ye.OPEN_OBJECT:{if(Gt.type===L.RIGHT_BRACE)return st.loc&&(Bt.loc=a(ht.loc.start.line,ht.loc.start.column,ht.loc.start.offset,Gt.loc.end.line,Gt.loc.end.column,Gt.loc.end.offset,st.source)),{value:Bt,index:Ge+1};var zn=tn(ye,ke,Ge,st);Bt.children.push(zn.value),nn=Ye.PROPERTY,Ge=zn.index;break}case Ye.PROPERTY:{if(Gt.type===L.RIGHT_BRACE)return st.loc&&(Bt.loc=a(ht.loc.start.line,ht.loc.start.column,ht.loc.start.offset,Gt.loc.end.line,Gt.loc.end.column,Gt.loc.end.offset,st.source)),{value:Bt,index:Ge+1};Gt.type===L.COMMA?(nn=Ye.COMMA,Ge++):k(I.unexpectedToken(s(ye,Gt.loc.start.offset,Gt.loc.end.offset),st.source,Gt.loc.start.line,Gt.loc.start.column),ye,st.source,Gt.loc.start.line,Gt.loc.start.column);break}case Ye.COMMA:{var rr=tn(ye,ke,Ge,st);rr?(Ge=rr.index,Bt.children.push(rr.value),nn=Ye.PROPERTY):k(I.unexpectedToken(s(ye,Gt.loc.start.offset,Gt.loc.end.offset),st.source,Gt.loc.start.line,Gt.loc.start.column),ye,st.source,Gt.loc.start.line,Gt.loc.start.column);break}}}ft(ye,ke,st)}function tn(ye,ke,Ge,st){for(var ht=void 0,Bt={type:"Property",key:null,value:null},nn=we._START_;Ge<ke.length;){var Gt=ke[Ge];switch(nn){case we._START_:{if(Gt.type===L.STRING){var zn={type:"Identifier",value:nt(ye.slice(Gt.loc.start.offset+1,Gt.loc.end.offset-1)),raw:Gt.value};st.loc&&(zn.loc=Gt.loc),ht=Gt,Bt.key=zn,nn=we.KEY,Ge++}else return null;break}case we.KEY:{Gt.type===L.COLON?(nn=we.COLON,Ge++):k(I.unexpectedToken(s(ye,Gt.loc.start.offset,Gt.loc.end.offset),st.source,Gt.loc.start.line,Gt.loc.start.column),ye,st.source,Gt.loc.start.line,Gt.loc.start.column);break}case we.COLON:{var rr=Nt(ye,ke,Ge,st);return Bt.value=rr.value,st.loc&&(Bt.loc=a(ht.loc.start.line,ht.loc.start.column,ht.loc.start.offset,rr.value.loc.end.line,rr.value.loc.end.column,rr.value.loc.end.offset,st.source)),{value:Bt,index:rr.index}}}}}function St(ye,ke,Ge,st){for(var ht=void 0,Bt={type:"Array",children:[]},nn=pt._START_,Gt=void 0;Ge<ke.length;)switch(Gt=ke[Ge],nn){case pt._START_:{if(Gt.type===L.LEFT_BRACKET)ht=Gt,nn=pt.OPEN_ARRAY,Ge++;else return null;break}case pt.OPEN_ARRAY:{if(Gt.type===L.RIGHT_BRACKET)return st.loc&&(Bt.loc=a(ht.loc.start.line,ht.loc.start.column,ht.loc.start.offset,Gt.loc.end.line,Gt.loc.end.column,Gt.loc.end.offset,st.source)),{value:Bt,index:Ge+1};var zn=Nt(ye,ke,Ge,st);Ge=zn.index,Bt.children.push(zn.value),nn=pt.VALUE;break}case pt.VALUE:{if(Gt.type===L.RIGHT_BRACKET)return st.loc&&(Bt.loc=a(ht.loc.start.line,ht.loc.start.column,ht.loc.start.offset,Gt.loc.end.line,Gt.loc.end.column,Gt.loc.end.offset,st.source)),{value:Bt,index:Ge+1};Gt.type===L.COMMA?(nn=pt.COMMA,Ge++):k(I.unexpectedToken(s(ye,Gt.loc.start.offset,Gt.loc.end.offset),st.source,Gt.loc.start.line,Gt.loc.start.column),ye,st.source,Gt.loc.start.line,Gt.loc.start.column);break}case pt.COMMA:{var rr=Nt(ye,ke,Ge,st);Ge=rr.index,Bt.children.push(rr.value),nn=pt.VALUE;break}}ft(ye,ke,st)}function Xt(ye,ke,Ge,st){var ht=ke[Ge],Bt=null;switch(ht.type){case L.STRING:{Bt=nt(ye.slice(ht.loc.start.offset+1,ht.loc.end.offset-1));break}case L.NUMBER:{Bt=Number(ht.value);break}case L.TRUE:{Bt=!0;break}case L.FALSE:{Bt=!1;break}case L.NULL:{Bt=null;break}default:return null}var nn={type:"Literal",value:Bt,raw:ht.value};return st.loc&&(nn.loc=ht.loc),{value:nn,index:Ge+1}}function Nt(ye,ke,Ge,st){var ht=ke[Ge],Bt=Xt.apply(void 0,arguments)||en.apply(void 0,arguments)||St.apply(void 0,arguments);if(Bt)return Bt;k(I.unexpectedToken(s(ye,ht.loc.start.offset,ht.loc.end.offset),st.source,ht.loc.start.line,ht.loc.start.column),ye,st.source,ht.loc.start.line,ht.loc.start.column)}var Fe=function(ye,ke){ke=Object.assign({},wt,ke);var Ge=pe(ye,ke);Ge.length===0&&ft(ye,Ge,ke);var st=Nt(ye,Ge,0,ke);if(st.index===Ge.length)return st.value;var ht=Ge[st.index];k(I.unexpectedToken(s(ye,ht.loc.start.offset,ht.loc.end.offset),ke.source,ht.loc.start.line,ht.loc.start.column),ye,ke.source,ht.loc.start.line,ht.loc.start.column)};return Fe})})(o$);var u1e=o$.exports;const A1e=Da(u1e);function Fn(){var n="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",e="a994e12e3e6547813b669a430e6cb42da5d99bba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Fn=function(){return s},s}Fn();Fn().s[0]++;yh.defineMode("mgl",(n,e)=>(Fn().f[0]++,Fn().s[1]++,yh.modes.javascript({...n,json:!0},e)));Fn().s[2]++;yh.registerHelper("lint","json",n=>{Fn().f[1]++;const e=(Fn().s[3]++,[]);Fn().s[4]++,k8.parser.parseError=(t,r)=>{Fn().f[2]++;const i=(Fn().s[5]++,r.loc);Fn().s[6]++,e.push({from:yh.Pos(i.first_line-1,i.first_column),to:yh.Pos(i.last_line-1,i.last_column),message:t})},Fn().s[7]++;try{Fn().s[8]++,k8.parse(n)}catch{}return Fn().s[9]++,e});Fn().s[10]++;yh.registerHelper("lint","mgl",(n,e,t)=>{Fn().f[3]++;const r=(Fn().s[11]++,[]),{parser:i}=(Fn().s[12]++,k8),{context:o}=(Fn().s[13]++,e);Fn().s[14]++,i.parseError=(C,k)=>{Fn().f[4]++;const I=(Fn().s[15]++,k.loc);Fn().s[16]++,r.push({from:yh.Pos(I.first_line-1,I.first_column),to:yh.Pos(I.last_line-1,I.last_column),message:C})},Fn().s[17]++;try{Fn().s[18]++,i.parse(n)}catch{}if(Fn().s[19]++,r.length>0)return Fn().b[0][0]++,Fn().s[20]++,r;Fn().b[0][1]++;const s=(Fn().s[21]++,A1e(n)),a=(Fn().s[22]++,JSON.parse(n));function f(C,k){if(Fn().f[5]++,Fn().s[23]++,C){if(Fn().b[1][1]++,Fn().s[25]++,k.length<1)return Fn().b[2][0]++,Fn().s[26]++,C;if(Fn().b[2][1]++,Fn().s[27]++,C.children){Fn().b[3][1]++;const I=(Fn().s[29]++,k[0]);let K;return Fn().s[30]++,I.match(/^[0-9]+$/)?(Fn().b[4][0]++,Fn().s[31]++,K=C.children[k[0]]):(Fn().b[4][1]++,Fn().s[32]++,K=C.children.find(L=>(Fn().f[6]++,Fn().s[33]++,Fn().b[5][0]++,L.key&&(Fn().b[5][1]++,L.key.type==="Identifier")&&(Fn().b[5][2]++,L.key.value===I))),Fn().s[34]++,K?(Fn().b[6][0]++,Fn().s[35]++,K=K.value):Fn().b[6][1]++),Fn().s[36]++,f(K,k.slice(1))}else{Fn().b[3][0]++,Fn().s[28]++;return}}else{Fn().b[1][0]++,Fn().s[24]++;return}}let m=(Fn().s[37]++,null);if(Fn().s[38]++,o==="layer"){Fn().b[7][0]++;const C=(Fn().s[39]++,gd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[a]}));Fn().s[40]++,C?(Fn().b[8][0]++,Fn().s[41]++,m={result:"error",value:C.filter(k=>(Fn().f[7]++,Fn().s[42]++,!k.message.match(/^layers\[0\]: source ".*" not found$/))).map(k=>{Fn().f[8]++;const I=(Fn().s[43]++,k.message.replace(/^layers\[0\]./,"").split(":"));return Fn().s[44]++,{name:"",key:I[0],message:I[1]}})}):Fn().b[8][1]++}else if(Fn().b[7][1]++,Fn().s[45]++,o==="expression")Fn().b[9][0]++,Fn().s[46]++,m=bre.createExpression(a,e.spec);else throw Fn().b[9][1]++,Fn().s[47]++,new Error(`Invalid context ${o}`);if(Fn().s[48]++,(m==null?void 0:m.result)==="error"){Fn().b[10][0]++;const C=(Fn().s[49]++,m.value);Fn().s[50]++,C.forEach(k=>{Fn().f[9]++;const{key:I,message:K}=(Fn().s[51]++,k);if(Fn().s[52]++,I)if(Fn().b[11][1]++,Fn().s[56]++,I){Fn().b[12][0]++;const L=(Fn().s[57]++,I.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),q=(Fn().s[58]++,f(s,L));if(Fn().s[59]++,q)Fn().b[13][1]++;else{Fn().b[13][0]++,Fn().s[60]++,console.warn("Something went wrong parsing error:",k),Fn().s[61]++;return}const{loc:X}=(Fn().s[62]++,q),{start:H,end:G}=(Fn().s[63]++,X);Fn().s[64]++,r.push({from:yh.Pos(H.line-1,H.column),to:yh.Pos(G.line-1,G.column),message:K})}else Fn().b[12][1]++;else{Fn().b[11][0]++;const L=(Fn().s[53]++,t.getLineHandle(t.lastLine())),q=(Fn().s[54]++,{from:yh.Pos(t.firstLine(),0),to:yh.Pos(t.lastLine(),L.text.length),message:K});Fn().s[55]++,r.push(q)}})}else Fn().b[10][1]++;return Fn().s[65]++,r});function Nn(){var n="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",e="da44fe7250311daecfc0a96e15b8409621007dbc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:14,column:24},end:{line:29,column:3}},1:{start:{line:19,column:6},end:{line:19,column:65}},2:{start:{line:32,column:8},end:{line:32,column:12}},3:{start:{line:33,column:22},end:{line:33,column:27}},4:{start:{line:35,column:4},end:{line:35,column:17}},5:{start:{line:36,column:4},end:{line:36,column:32}},6:{start:{line:37,column:4},end:{line:41,column:6}},7:{start:{line:44,column:4},end:{line:60,column:7}},8:{start:{line:61,column:4},end:{line:61,column:42}},9:{start:{line:62,column:4},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:38}},11:{start:{line:65,column:18},end:{line:67,column:3}},12:{start:{line:66,column:4},end:{line:66,column:31}},13:{start:{line:68,column:12},end:{line:74,column:3}},14:{start:{line:69,column:4},end:{line:69,column:49}},15:{start:{line:69,column:28},end:{line:69,column:49}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:82,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:77,column:47}},20:{start:{line:77,column:27},end:{line:77,column:47}},21:{start:{line:78,column:4},end:{line:81,column:7}},22:{start:{line:84,column:4},end:{line:84,column:43}},23:{start:{line:85,column:4},end:{line:85,column:41}},24:{start:{line:86,column:4},end:{line:86,column:39}},25:{start:{line:89,column:4},end:{line:94,column:5}},26:{start:{line:90,column:6},end:{line:90,column:36}},27:{start:{line:91,column:6},end:{line:93,column:8}},28:{start:{line:96,column:13},end:{line:123,column:3}},29:{start:{line:97,column:4},end:{line:103,column:5}},30:{start:{line:98,column:6},end:{line:98,column:37}},31:{start:{line:99,column:6},end:{line:101,column:9}},32:{start:{line:102,column:6},end:{line:102,column:13}},33:{start:{line:104,column:20},end:{line:104,column:40}},34:{start:{line:105,column:4},end:{line:119,column:5}},35:{start:{line:107,column:6},end:{line:112,column:7}},36:{start:{line:108,column:8},end:{line:108,column:42}},37:{start:{line:110,column:8},end:{line:110,column:19}},38:{start:{line:111,column:8},end:{line:111,column:27}},39:{start:{line:113,column:6},end:{line:118,column:7}},40:{start:{line:114,column:8},end:{line:114,column:35}},41:{start:{line:116,column:8},end:{line:116,column:66}},42:{start:{line:116,column:33},end:{line:116,column:66}},43:{start:{line:117,column:8},end:{line:117,column:61}},44:{start:{line:117,column:36},end:{line:117,column:61}},45:{start:{line:120,column:4},end:{line:122,column:7}},46:{start:{line:125,column:14},end:{line:125,column:26}},47:{start:{line:126,column:28},end:{line:126,column:38}},48:{start:{line:127,column:18},end:{line:127,column:20}},49:{start:{line:128,column:4},end:{line:130,column:5}},50:{start:{line:129,column:6},end:{line:129,column:45}},51:{start:{line:131,column:4},end:{line:145,column:9}},52:{start:{line:141,column:23},end:{line:141,column:36}},53:{start:{line:148,column:18},end:{line:148,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:24},end:{line:20,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:22,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:18},end:{line:24,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:25,column:19},end:{line:25,column:20}},loc:{start:{line:25,column:25},end:{line:26,column:5}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:27,column:17},end:{line:27,column:18}},loc:{start:{line:27,column:23},end:{line:28,column:5}},line:27},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:42,column:3}},line:34},6:{name:"(anonymous_6)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:22},end:{line:64,column:3}},line:43},7:{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:68,column:12},end:{line:68,column:13}},loc:{start:{line:68,column:18},end:{line:74,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:82,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:25},end:{line:87,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:32},end:{line:95,column:3}},line:88},12:{name:"(anonymous_12)",decl:{start:{line:96,column:13},end:{line:96,column:14}},loc:{start:{line:96,column:21},end:{line:123,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:124,column:2},end:{line:124,column:3}},loc:{start:{line:124,column:11},end:{line:146,column:3}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:141,column:15},end:{line:141,column:16}},loc:{start:{line:141,column:23},end:{line:141,column:36}},line:141}},branchMap:{0:{loc:{start:{line:46,column:12},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:46,column:12},end:{line:46,column:27}},{start:{line:46,column:31},end:{line:48,column:7}}],line:46},1:{loc:{start:{line:54,column:12},end:{line:56,column:7}},type:"binary-expr",locations:[{start:{line:54,column:12},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:56,column:7}}],line:54},2:{loc:{start:{line:69,column:4},end:{line:69,column:49}},type:"if",locations:[{start:{line:69,column:4},end:{line:69,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:77,column:4},end:{line:77,column:47}},type:"if",locations:[{start:{line:77,column:4},end:{line:77,column:47}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},5:{loc:{start:{line:89,column:8},end:{line:89,column:69}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:29}},{start:{line:89,column:33},end:{line:89,column:69}}],line:89},6:{loc:{start:{line:97,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:103,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:97},7:{loc:{start:{line:105,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:105,column:4},end:{line:119,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:105},8:{loc:{start:{line:113,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:113,column:6},end:{line:118,column:7}},{start:{line:115,column:13},end:{line:118,column:7}}],line:113},9:{loc:{start:{line:113,column:10},end:{line:113,column:41}},type:"binary-expr",locations:[{start:{line:113,column:10},end:{line:113,column:13}},{start:{line:113,column:17},end:{line:113,column:41}}],line:113},10:{loc:{start:{line:116,column:8},end:{line:116,column:66}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:66}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},11:{loc:{start:{line:117,column:8},end:{line:117,column:61}},type:"if",locations:[{start:{line:117,column:8},end:{line:117,column:61}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},12:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAyKQ,SACQ,KADR;AAzKR,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AACrC,SAAS,OAAwB,uBAAuB;AAExD,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA2BP,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM,OAAQ,MAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM,YAAa,MAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,0BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GACxF,+BAAC,SAAM,GAAM;AAAA;AAAA,QACL,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"da44fe7250311daecfc0a96e15b8409621007dbc"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Nn=function(){return s},s}Nn();class a$ extends kn.Component{constructor(t){Nn().f[5]++,Nn().s[4]++;super(t);pn(this,"_keyEvent");pn(this,"_doc");pn(this,"_el",(Nn().s[2]++,null));pn(this,"_cancelNextChange",(Nn().s[3]++,!1));pn(this,"onPointerDown",(Nn().s[11]++,()=>{Nn().f[7]++,Nn().s[12]++,this._keyEvent="pointer"}));pn(this,"onFocus",(Nn().s[13]++,()=>{Nn().f[8]++,Nn().s[14]++,this.props.onFocus?(Nn().b[2][0]++,Nn().s[15]++,this.props.onFocus()):Nn().b[2][1]++,Nn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));pn(this,"onBlur",(Nn().s[17]++,()=>{Nn().f[9]++,Nn().s[18]++,this._keyEvent="keyboard",Nn().s[19]++,this.props.onBlur?(Nn().b[3][0]++,Nn().s[20]++,this.props.onBlur()):Nn().b[3][1]++,Nn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));pn(this,"onChange",(Nn().s[28]++,t=>{if(Nn().f[12]++,Nn().s[29]++,this._cancelNextChange){Nn().b[6][0]++,Nn().s[30]++,this._cancelNextChange=!1,Nn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Nn().s[32]++;return}else Nn().b[6][1]++;const r=(Nn().s[33]++,this._doc.getValue());if(Nn().s[34]++,this.state.prevValue!==r){Nn().b[7][0]++;let i,o;Nn().s[35]++;try{Nn().s[36]++,i=JSON.parse(r)}catch(s){Nn().s[37]++,o=s,Nn().s[38]++,console.warn(s)}Nn().s[39]++,Nn().b[9][0]++,o&&(Nn().b[9][1]++,this.props.onJSONInvalid)?(Nn().b[8][0]++,Nn().s[40]++,this.props.onJSONInvalid()):(Nn().b[8][1]++,Nn().s[41]++,this.props.onChange?(Nn().b[10][0]++,Nn().s[42]++,this.props.onChange(i)):Nn().b[10][1]++,Nn().s[43]++,this.props.onJSONValid?(Nn().b[11][0]++,Nn().s[44]++,this.props.onJSONValid()):Nn().b[11][1]++)}else Nn().b[7][1]++;Nn().s[45]++,this.setState({prevValue:r})}));Nn().s[5]++,this._keyEvent="keyboard",Nn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Nn().f[6]++,Nn().s[7]++,this._doc=yh(this._el,{value:this.props.getValue(this.props.layer),mode:(Nn().b[0][0]++,this.props.mode||(Nn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Nn().b[1][0]++,this.props.lint||(Nn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Nn().s[8]++,this._doc.on("change",this.onChange),Nn().s[9]++,this._doc.on("focus",this.onFocus),Nn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Nn().f[10]++,Nn().s[22]++,this._doc.off("change",this.onChange),Nn().s[23]++,this._doc.off("focus",this.onFocus),Nn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(t){Nn().f[11]++,Nn().s[25]++,Nn().b[5][0]++,!this.state.isEditing&&(Nn().b[5][1]++,t.layer!==this.props.layer)?(Nn().b[4][0]++,Nn().s[26]++,this._cancelNextChange=!0,Nn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Nn().b[4][1]++}render(){Nn().f[13]++;const t=(Nn().s[46]++,this.props.t),{showMessage:r}=(Nn().s[47]++,this.state),i=(Nn().s[48]++,{});return Nn().s[49]++,this.props.maxHeight?(Nn().b[12][0]++,Nn().s[50]++,i.maxHeight=this.props.maxHeight):Nn().b[12][1]++,Nn().s[51]++,Y.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[Y.jsx("div",{className:yp("JSONEditor__message",{"JSONEditor__message--on":r}),children:Y.jsxs(E0,{t,children:["Press ",Y.jsx("kbd",{children:"ESC"})," to lose focus"]})}),Y.jsx("div",{className:yp("codemirror-container",this.props.className),ref:o=>(Nn().f[14]++,Nn().s[52]++,this._el=o),style:i})]})}}pn(a$,"defaultProps",(Nn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:t=>(Nn().f[0]++,Nn().s[1]++,r$(t,{indent:2,maxLength:40})),onFocus:()=>{Nn().f[1]++},onBlur:()=>{Nn().f[2]++},onJSONInvalid:()=>{Nn().f[3]++},onJSONValid:()=>{Nn().f[4]++}}));const c1e=(Nn().s[53]++,qo()(a$));function n5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",e="60f4cd40e505c4a9f8de1078b77716b10a4a4264",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return n5=function(){return s},s}n5();class tT extends kn.Component{render(){return n5().f[0]++,n5().s[0]++,Y.jsx(c1e,{...this.props})}}var Gb="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",h1e="M7,10L12,15L17,10H7Z",d1e="M7,15L12,10L17,15H7Z",nT="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function Xg(){var n="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",e="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Xg=function(){return s},s}Xg();const rT=(Xg().s[0]++,["all","any","none"]);Xg().s[1]++;const f1e=(Xg().s[2]++,Object.keys(Ao.filter_operator.values).filter(n=>(Xg().f[0]++,Xg().s[3]++,rT.indexOf(n)<0)));function Hr(){var n="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",e="d18e3b448d830733ac17bcacd45f7c08e364baa2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:8,column:25}},1:{start:{line:8,column:16},end:{line:8,column:25}},2:{start:{line:9,column:2},end:{line:9,column:25}},3:{start:{line:9,column:16},end:{line:9,column:25}},4:{start:{line:10,column:2},end:{line:10,column:23}},5:{start:{line:13,column:19},end:{line:13,column:40}},6:{start:{line:14,column:2},end:{line:16,column:3}},7:{start:{line:15,column:4},end:{line:15,column:13}},8:{start:{line:17,column:2},end:{line:23,column:3}},9:{start:{line:18,column:4},end:{line:18,column:16}},10:{start:{line:19,column:9},end:{line:23,column:3}},11:{start:{line:20,column:4},end:{line:20,column:17}},12:{start:{line:22,column:4},end:{line:22,column:13}},13:{start:{line:26,column:2},end:{line:26,column:21}},14:{start:{line:27,column:2},end:{line:27,column:22}},15:{start:{line:28,column:2},end:{line:28,column:11}},16:{start:{line:31,column:24},end:{line:33,column:3}},17:{start:{line:35,column:20},end:{line:35,column:76}},18:{start:{line:36,column:4},end:{line:40,column:5}},19:{start:{line:37,column:6},end:{line:37,column:43}},20:{start:{line:38,column:11},end:{line:40,column:5}},21:{start:{line:39,column:6},end:{line:39,column:47}},22:{start:{line:41,column:4},end:{line:41,column:35}},23:{start:{line:44,column:14},end:{line:44,column:31}},24:{start:{line:45,column:21},end:{line:45,column:25}},25:{start:{line:46,column:25},end:{line:46,column:29}},26:{start:{line:47,column:23},end:{line:47,column:33}},27:{start:{line:48,column:4},end:{line:75,column:9}},28:{start:{line:54,column:72},end:{line:54,column:92}},29:{start:{line:55,column:41},end:{line:55,column:104}},30:{start:{line:63,column:37},end:{line:63,column:100}},31:{start:{line:72,column:27},end:{line:72,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:11,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:12,column:9},end:{line:12,column:21}},loc:{start:{line:12,column:25},end:{line:24,column:1}},line:12},2:{name:"parseFilter",decl:{start:{line:25,column:9},end:{line:25,column:20}},loc:{start:{line:25,column:24},end:{line:29,column:1}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:58},end:{line:42,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:76,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:54,column:58},end:{line:54,column:59}},loc:{start:{line:54,column:72},end:{line:54,column:92}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:55,column:20},end:{line:55,column:21}},loc:{start:{line:55,column:41},end:{line:55,column:104}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:63,column:20},end:{line:63,column:21}},loc:{start:{line:63,column:37},end:{line:63,column:100}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:27},end:{line:72,column:89}},line:72}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:25}},type:"if",locations:[{start:{line:8,column:2},end:{line:8,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:25}},type:"if",locations:[{start:{line:9,column:2},end:{line:9,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},2:{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},3:{loc:{start:{line:17,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:23,column:3}},{start:{line:19,column:9},end:{line:23,column:3}}],line:17},4:{loc:{start:{line:19,column:9},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:9},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},5:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:38,column:11},end:{line:40,column:5}}],line:36},6:{loc:{start:{line:36,column:8},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:26}},{start:{line:36,column:30},end:{line:36,column:49}}],line:36},7:{loc:{start:{line:38,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},8:{loc:{start:{line:67,column:6},end:{line:74,column:10}},type:"binary-expr",locations:[{start:{line:67,column:6},end:{line:67,column:27}},{start:{line:67,column:47},end:{line:74,column:10}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM,GAAI,QAAO;AACrB,MAAI,MAAM,CAAW,EAAG,QAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d18e3b448d830733ac17bcacd45f7c08e364baa2"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Hr=function(){return s},s}Hr();function p1e(n){return Hr().f[0]++,Hr().s[0]++,n===""?(Hr().b[0][0]++,Hr().s[1]++,n):(Hr().b[0][1]++,Hr().s[2]++,isNaN(n)?(Hr().b[1][0]++,Hr().s[3]++,n):(Hr().b[1][1]++,Hr().s[4]++,parseFloat(n)))}function m1e(n){Hr().f[1]++;const e=(Hr().s[5]++,typeof n=="string");if(Hr().s[6]++,e)Hr().b[2][1]++;else return Hr().b[2][0]++,Hr().s[7]++,n;return Hr().s[8]++,n.match(/^\s*true\s*$/)?(Hr().b[3][0]++,Hr().s[9]++,!0):(Hr().b[3][1]++,Hr().s[10]++,n.match(/^\s*false\s*$/)?(Hr().b[4][0]++,Hr().s[11]++,!1):(Hr().b[4][1]++,Hr().s[12]++,n))}function g1e(n){return Hr().f[2]++,Hr().s[13]++,n=p1e(n),Hr().s[14]++,n=m1e(n),Hr().s[15]++,n}class s$ extends kn.Component{onFilterPartChanged(e,t,r){Hr().f[3]++;let i=(Hr().s[17]++,[e,t,...r.map(g1e)]);Hr().s[18]++,Hr().b[6][0]++,e==="has"||(Hr().b[6][1]++,e==="!has")?(Hr().b[5][0]++,Hr().s[19]++,i=[e,t]):(Hr().b[5][1]++,Hr().s[20]++,r.length===0?(Hr().b[7][0]++,Hr().s[21]++,i=[e,t,""]):Hr().b[7][1]++),Hr().s[22]++,this.props.onChange(i)}render(){Hr().f[4]++;const e=(Hr().s[23]++,this.props.filter),t=(Hr().s[24]++,e[0]),r=(Hr().s[25]++,e[1]),i=(Hr().s[26]++,e.slice(2));return Hr().s[27]++,Y.jsxs("div",{className:"maputnik-filter-editor-single",children:[Y.jsx("div",{className:"maputnik-filter-editor-property",children:Y.jsx(t_,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Hr().f[5]++,Hr().s[28]++,[o,o])),onChange:o=>(Hr().f[6]++,Hr().s[29]++,this.onFilterPartChanged(t,o,i))})}),Y.jsx("div",{className:"maputnik-filter-editor-operator",children:Y.jsx(w1,{"aria-label":"function",value:t,onChange:o=>(Hr().f[7]++,Hr().s[30]++,this.onFilterPartChanged(o,r,i)),options:f1e})}),(Hr().b[8][0]++,i.length>0&&(Hr().b[8][1]++,Y.jsx("div",{className:"maputnik-filter-editor-args",children:Y.jsx(md,{"aria-label":"value",value:i.join(","),onChange:o=>(Hr().f[8]++,Hr().s[31]++,this.onFilterPartChanged(t,r,o.split(",")))})})))]})}}pn(s$,"defaultProps",(Hr().s[16]++,{properties:{}}));function dv(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",e="cef1671f65ba48cf49a518a548a597faa051d67d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:20,column:9}},2:{start:{line:23,column:26},end:{line:23,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:21,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAYW,SAOD,KAPC;AAZX,OAAO,WAAkC;AACzC,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAMjD,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,qBAAqB;AAAA,UAE9B,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cef1671f65ba48cf49a518a548a597faa051d67d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return dv=function(){return s},s}dv();class y1e extends kn.Component{render(){dv().f[0]++;const e=(dv().s[0]++,this.props.t);return dv().s[1]++,Y.jsxs("div",{className:"maputnik-filter-editor-block",children:[Y.jsx("div",{className:"maputnik-filter-editor-block-action",children:Y.jsx(ja,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:e("Delete filter block"),children:Y.jsx(Vv,{})})}),Y.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}const v1e=(dv().s[2]++,qo()(y1e));var _1e=1/0,C1e="[object Symbol]",iT="\\ud800-\\udfff",l$="\\u0300-\\u036f\\ufe20-\\ufe23",u$="\\u20d0-\\u20f0",A$="\\ufe0e\\ufe0f",b1e="["+iT+"]",T8="["+l$+u$+"]",P8="\\ud83c[\\udffb-\\udfff]",x1e="(?:"+T8+"|"+P8+")",c$="[^"+iT+"]",h$="(?:\\ud83c[\\udde6-\\uddff]){2}",d$="[\\ud800-\\udbff][\\udc00-\\udfff]",f$="\\u200d",p$=x1e+"?",m$="["+A$+"]?",w1e="(?:"+f$+"(?:"+[c$,h$,d$].join("|")+")"+m$+p$+")*",M1e=m$+p$+w1e,S1e="(?:"+[c$+T8+"?",T8,h$,d$,b1e].join("|")+")",E1e=RegExp(P8+"(?="+P8+")|"+S1e+M1e,"g"),O1e=RegExp("["+f$+iT+l$+u$+A$+"]"),B1e=typeof window=="object"&&window&&window.Object===Object&&window,I1e=typeof self=="object"&&self&&self.Object===Object&&self,k1e=B1e||I1e||Function("return this")();function T1e(n){return n.split("")}function g$(n){return O1e.test(n)}function P1e(n){return g$(n)?K1e(n):T1e(n)}function K1e(n){return n.match(E1e)||[]}var D1e=Object.prototype,L1e=D1e.toString,cL=k1e.Symbol,hL=cL?cL.prototype:void 0,dL=hL?hL.toString:void 0;function F1e(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+e];return o}function R1e(n){if(typeof n=="string")return n;if(N1e(n))return dL?dL.call(n):"";var e=n+"";return e=="0"&&1/n==-_1e?"-0":e}function U1e(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:F1e(n,e,t)}function j1e(n){return function(e){e=y$(e);var t=g$(e)?P1e(e):void 0,r=t?t[0]:e.charAt(0),i=t?U1e(t,1).join(""):e.slice(1);return r[n]()+i}}function z1e(n){return!!n&&typeof n=="object"}function N1e(n){return typeof n=="symbol"||z1e(n)&&L1e.call(n)==C1e}function y$(n){return n==null?"":R1e(n)}function W1e(n){return G1e(y$(n).toLowerCase())}var G1e=j1e("toUpperCase"),Q1e=W1e;const oT=Da(Q1e);function Hf(){var n="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",e="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Hf=function(){return s},s}Hf();function FM(n){Hf().f[0]++;let e;const t=(Hf().s[0]++,n.split("-"));return Hf().s[1]++,t.length>1?(Hf().b[0][0]++,Hf().s[2]++,e=n.split("-").slice(1).join(" ")):(Hf().b[0][1]++,Hf().s[3]++,e=n),Hf().s[4]++,oT(e)}function zi(){var n="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",e="550aede3b5713892add5bda71ec153770e1b1129",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:11,column:24},end:{line:17,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:22,column:6}},3:{start:{line:24,column:18},end:{line:28,column:3}},4:{start:{line:25,column:4},end:{line:27,column:7}},5:{start:{line:29,column:16},end:{line:33,column:3}},6:{start:{line:30,column:4},end:{line:32,column:7}},7:{start:{line:35,column:64},end:{line:35,column:74}},8:{start:{line:36,column:26},end:{line:36,column:36}},9:{start:{line:37,column:25},end:{line:37,column:52}},10:{start:{line:38,column:42},end:{line:60,column:8}},11:{start:{line:61,column:21},end:{line:61,column:83}},12:{start:{line:62,column:23},end:{line:62,column:39}},13:{start:{line:63,column:26},end:{line:63,column:40}},14:{start:{line:64,column:24},end:{line:64,column:26}},15:{start:{line:66,column:6},end:{line:66,column:65}},16:{start:{line:68,column:4},end:{line:79,column:5}},17:{start:{line:69,column:6},end:{line:69,column:52}},18:{start:{line:71,column:6},end:{line:75,column:9}},19:{start:{line:72,column:8},end:{line:72,column:45}},20:{start:{line:74,column:8},end:{line:74,column:39}},21:{start:{line:76,column:6},end:{line:78,column:7}},22:{start:{line:77,column:8},end:{line:77,column:37}},23:{start:{line:80,column:4},end:{line:110,column:6}},24:{start:{line:113,column:27},end:{line:113,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:13},end:{line:13,column:14}},loc:{start:{line:13,column:19},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:18},end:{line:16,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:23,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:24,column:18},end:{line:24,column:19}},loc:{start:{line:24,column:28},end:{line:28,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:29,column:16},end:{line:29,column:17}},loc:{start:{line:29,column:22},end:{line:33,column:3}},line:29},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:11},end:{line:111,column:3}},line:34},6:{name:"getValue",decl:{start:{line:65,column:13},end:{line:65,column:21}},loc:{start:{line:65,column:28},end:{line:67,column:5}},line:65},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:55},end:{line:73,column:7}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:73,column:17},end:{line:73,column:18}},loc:{start:{line:73,column:36},end:{line:75,column:7}},line:73}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:52}},type:"cond-expr",locations:[{start:{line:37,column:35},end:{line:37,column:45}},{start:{line:37,column:48},end:{line:37,column:52}}],line:37},1:{loc:{start:{line:39,column:6},end:{line:49,column:7}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:23}},{start:{line:39,column:43},end:{line:49,column:7}}],line:39},2:{loc:{start:{line:61,column:21},end:{line:61,column:83}},type:"cond-expr",locations:[{start:{line:61,column:44},end:{line:61,column:53}},{start:{line:61,column:56},end:{line:61,column:83}}],line:61},3:{loc:{start:{line:68,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:79,column:5}},{start:{line:70,column:11},end:{line:79,column:5}}],line:68},4:{loc:{start:{line:76,column:6},end:{line:78,column:7}},type:"if",locations:[{start:{line:76,column:6},end:{line:78,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA6DM,mBASM,KATN;AA7DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAC5B,SAA0B,uBAAuB;AAEjD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC/D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAO,EAAE,wBAAwB;AAAA,UAEjC,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAO,EAAE,mBAAmB;AAAA,UAE5B,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,EAAE,mBAAmB,KAAK,MAAM,SAAS,CAAC;AAAA,QACjD,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AACvE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"550aede3b5713892add5bda71ec153770e1b1129"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return zi=function(){return s},s}zi();class v$ extends kn.Component{constructor(t){zi().f[2]++,zi().s[1]++;super(t);pn(this,"onJSONInvalid",(zi().s[3]++,t=>{zi().f[3]++,zi().s[4]++,this.setState({jsonError:!0})}));pn(this,"onJSONValid",(zi().s[5]++,()=>{zi().f[4]++,zi().s[6]++,this.setState({jsonError:!1})}));zi().s[2]++,this.state={jsonError:!1}}render(){zi().f[5]++;const{t,errors:r,fieldName:i,fieldType:o,value:s,canUndo:a}=(zi().s[7]++,this.props),{jsonError:f}=(zi().s[8]++,this.state),m=(zi().s[9]++,a?(zi().b[0][0]++,!a()):(zi().b[0][1]++,!0)),C=(zi().s[10]++,Y.jsxs(Y.Fragment,{children:[(zi().b[1][0]++,this.props.onUndo&&(zi().b[1][1]++,Y.jsx(ja,{onClick:this.props.onUndo,disabled:m,className:"maputnik-delete-stop",title:t("Revert from expression"),children:Y.jsx(cie,{})},"undo_action"))),Y.jsx(ja,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:t("Delete expression"),children:Y.jsx(Vv,{})},"delete_action")]})),k=(zi().s[11]++,o===void 0?(zi().b[2][0]++,i):(zi().b[2][1]++,`${o}.${i}`)),I=(zi().s[12]++,r[k]),K=(zi().s[13]++,`${k}[`),L=(zi().s[14]++,[]);function q(X){return zi().f[6]++,zi().s[15]++,r$(X,{indent:2,maxLength:38})}return zi().s[16]++,f?(zi().b[3][0]++,zi().s[17]++,L.push({message:"Invalid JSON"})):(zi().b[3][1]++,zi().s[18]++,Object.entries(r).filter(([X,H])=>(zi().f[7]++,zi().s[19]++,X.startsWith(K))).forEach(([X,H])=>(zi().f[8]++,zi().s[20]++,L.push(H))),zi().s[21]++,I?(zi().b[4][0]++,zi().s[22]++,L.push(I)):zi().b[4][1]++),zi().s[23]++,Y.jsx(ga,{error:L,fieldSpec:this.props.fieldSpec,label:t(FM(this.props.fieldName)),action:C,wideMode:!0,children:Y.jsx(tT,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:s,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:q,onChange:this.props.onChange})})}}pn(v$,"defaultProps",(zi().s[0]++,{errors:{},onFocus:()=>{zi().f[0]++},onBlur:()=>{zi().f[1]++}}));const _$=(zi().s[24]++,qo()(v$));function _n(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",e="10bf63b3f71adfa5066d0aecd6eaecbe45ada76f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:17,column:17},end:{line:17,column:40}},1:{start:{line:18,column:2},end:{line:20,column:3}},2:{start:{line:19,column:4},end:{line:19,column:18}},3:{start:{line:21,column:20},end:{line:21,column:29}},4:{start:{line:22,column:16},end:{line:22,column:31}},5:{start:{line:23,column:2},end:{line:26,column:3}},6:{start:{line:24,column:4},end:{line:24,column:24}},7:{start:{line:25,column:4},end:{line:25,column:32}},8:{start:{line:27,column:2},end:{line:27,column:35}},9:{start:{line:30,column:2},end:{line:30,column:65}},10:{start:{line:33,column:2},end:{line:54,column:4}},11:{start:{line:56,column:19},end:{line:60,column:1}},12:{start:{line:62,column:2},end:{line:64,column:3}},13:{start:{line:63,column:4},end:{line:63,column:16}},14:{start:{line:65,column:21},end:{line:65,column:42}},15:{start:{line:66,column:2},end:{line:66,column:38}},16:{start:{line:69,column:2},end:{line:69,column:52}},17:{start:{line:72,column:2},end:{line:74,column:3}},18:{start:{line:73,column:4},end:{line:73,column:97}},19:{start:{line:73,column:38},end:{line:73,column:59}},20:{start:{line:73,column:75},end:{line:73,column:84}},21:{start:{line:75,column:2},end:{line:75,column:15}},22:{start:{line:78,column:24},end:{line:80,column:3}},23:{start:{line:82,column:4},end:{line:82,column:17}},24:{start:{line:83,column:4},end:{line:86,column:6}},25:{start:{line:90,column:22},end:{line:90,column:58}},26:{start:{line:91,column:4},end:{line:91,column:35}},27:{start:{line:92,column:4},end:{line:92,column:35}},28:{start:{line:95,column:22},end:{line:95,column:58}},29:{start:{line:96,column:4},end:{line:96,column:39}},30:{start:{line:97,column:4},end:{line:97,column:35}},31:{start:{line:99,column:18},end:{line:103,column:3}},32:{start:{line:100,column:26},end:{line:100,column:62}},33:{start:{line:101,column:4},end:{line:101,column:43}},34:{start:{line:102,column:4},end:{line:102,column:39}},35:{start:{line:104,column:16},end:{line:108,column:3}},36:{start:{line:105,column:4},end:{line:107,column:7}},37:{start:{line:109,column:15},end:{line:113,column:3}},38:{start:{line:110,column:4},end:{line:112,column:7}},39:{start:{line:114,column:19},end:{line:120,column:3}},40:{start:{line:115,column:19},end:{line:115,column:46}},41:{start:{line:116,column:4},end:{line:116,column:47}},42:{start:{line:117,column:4},end:{line:119,column:7}},43:{start:{line:122,column:32},end:{line:122,column:75}},44:{start:{line:123,column:4},end:{line:136,column:5}},45:{start:{line:124,column:6},end:{line:127,column:8}},46:{start:{line:128,column:11},end:{line:136,column:5}},47:{start:{line:129,column:6},end:{line:131,column:8}},48:{start:{line:133,column:6},end:{line:135,column:8}},49:{start:{line:139,column:26},end:{line:139,column:36}},50:{start:{line:140,column:36},end:{line:140,column:46}},51:{start:{line:141,column:22},end:{line:143,column:5}},52:{start:{line:144,column:26},end:{line:144,column:33}},53:{start:{line:145,column:36},end:{line:145,column:112}},54:{start:{line:146,column:4},end:{line:271,column:5}},55:{start:{line:147,column:6},end:{line:160,column:11}},56:{start:{line:161,column:11},end:{line:271,column:5}},57:{start:{line:162,column:21},end:{line:162,column:48}},58:{start:{line:163,column:26},end:{line:163,column:35}},59:{start:{line:164,column:22},end:{line:164,column:37}},60:{start:{line:165,column:38},end:{line:173,column:10}},61:{start:{line:174,column:27},end:{line:187,column:8}},62:{start:{line:175,column:22},end:{line:175,column:50}},63:{start:{line:176,column:8},end:{line:186,column:29}},64:{start:{line:188,column:6},end:{line:240,column:11}},65:{start:{line:199,column:33},end:{line:199,column:63}},66:{start:{line:242,column:25},end:{line:242,column:35}},67:{start:{line:243,column:6},end:{line:270,column:11}},68:{start:{line:248,column:14},end:{line:248,column:59}},69:{start:{line:249,column:14},end:{line:249,column:49}},70:{start:{line:274,column:21},end:{line:274,column:60}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:16,column:9},end:{line:16,column:24}},loc:{start:{line:16,column:32},end:{line:28,column:1}},line:16},1:{name:"migrateFilter",decl:{start:{line:29,column:9},end:{line:29,column:22}},loc:{start:{line:29,column:31},end:{line:31,column:1}},line:29},2:{name:"createStyleFromFilter",decl:{start:{line:32,column:9},end:{line:32,column:30}},loc:{start:{line:32,column:39},end:{line:55,column:1}},line:32},3:{name:"checkIfSimpleFilter",decl:{start:{line:61,column:9},end:{line:61,column:28}},loc:{start:{line:61,column:37},end:{line:67,column:1}},line:61},4:{name:"hasCombiningFilter",decl:{start:{line:68,column:9},end:{line:68,column:27}},loc:{start:{line:68,column:36},end:{line:70,column:1}},line:68},5:{name:"hasNestedCombiningFilter",decl:{start:{line:71,column:9},end:{line:71,column:33}},loc:{start:{line:71,column:42},end:{line:76,column:1}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:73,column:31},end:{line:73,column:32}},loc:{start:{line:73,column:38},end:{line:73,column:59}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:73,column:68},end:{line:73,column:69}},loc:{start:{line:73,column:75},end:{line:73,column:84}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:21},end:{line:87,column:3}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:42},end:{line:93,column:3}},line:89},10:{name:"(anonymous_10)",decl:{start:{line:94,column:2},end:{line:94,column:3}},loc:{start:{line:94,column:30},end:{line:98,column:3}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:99,column:18},end:{line:99,column:19}},loc:{start:{line:99,column:24},end:{line:103,column:3}},line:99},12:{name:"(anonymous_12)",decl:{start:{line:104,column:16},end:{line:104,column:17}},loc:{start:{line:104,column:25},end:{line:108,column:3}},line:104},13:{name:"(anonymous_13)",decl:{start:{line:109,column:15},end:{line:109,column:16}},loc:{start:{line:109,column:21},end:{line:113,column:3}},line:109},14:{name:"(anonymous_14)",decl:{start:{line:114,column:19},end:{line:114,column:20}},loc:{start:{line:114,column:25},end:{line:120,column:3}},line:114},15:{name:"(anonymous_15)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:48},end:{line:137,column:3}},line:121},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:272,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:174,column:39},end:{line:174,column:40}},loc:{start:{line:174,column:51},end:{line:187,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:199,column:26},end:{line:199,column:27}},loc:{start:{line:199,column:33},end:{line:199,column:63}},line:199},19:{name:"(anonymous_19)",decl:{start:{line:247,column:22},end:{line:247,column:23}},loc:{start:{line:247,column:28},end:{line:250,column:13}},line:247}},branchMap:{0:{loc:{start:{line:17,column:17},end:{line:17,column:40}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:29}},{start:{line:17,column:33},end:{line:17,column:40}}],line:17},1:{loc:{start:{line:18,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:23,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:62,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:2},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},4:{loc:{start:{line:62,column:6},end:{line:62,column:59}},type:"binary-expr",locations:[{start:{line:62,column:6},end:{line:62,column:25}},{start:{line:62,column:29},end:{line:62,column:59}}],line:62},5:{loc:{start:{line:72,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:74,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},6:{loc:{start:{line:123,column:4},end:{line:136,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:136,column:5}},{start:{line:128,column:11},end:{line:136,column:5}}],line:123},7:{loc:{start:{line:123,column:8},end:{line:123,column:66}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:28}},{start:{line:123,column:32},end:{line:123,column:66}}],line:123},8:{loc:{start:{line:128,column:11},end:{line:136,column:5}},type:"if",locations:[{start:{line:128,column:11},end:{line:136,column:5}},{start:{line:132,column:11},end:{line:136,column:5}}],line:128},9:{loc:{start:{line:128,column:15},end:{line:128,column:73}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:34}},{start:{line:128,column:38},end:{line:128,column:73}}],line:128},10:{loc:{start:{line:145,column:36},end:{line:145,column:112}},type:"binary-expr",locations:[{start:{line:145,column:36},end:{line:145,column:55}},{start:{line:145,column:59},end:{line:145,column:112}}],line:145},11:{loc:{start:{line:146,column:4},end:{line:271,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:271,column:5}},{start:{line:161,column:11},end:{line:271,column:5}}],line:146},12:{loc:{start:{line:161,column:11},end:{line:271,column:5}},type:"if",locations:[{start:{line:161,column:11},end:{line:271,column:5}},{start:{line:241,column:11},end:{line:271,column:5}}],line:161},13:{loc:{start:{line:185,column:10},end:{line:185,column:119}},type:"binary-expr",locations:[{start:{line:185,column:10},end:{line:185,column:15}},{start:{line:185,column:35},end:{line:185,column:119}}],line:185},14:{loc:{start:{line:235,column:30},end:{line:235,column:62}},type:"cond-expr",locations:[{start:{line:235,column:51},end:{line:235,column:53}},{start:{line:235,column:56},end:{line:235,column:62}}],line:235},15:{loc:{start:{line:258,column:8},end:{line:269,column:12}},type:"binary-expr",locations:[{start:{line:258,column:8},end:{line:258,column:38}},{start:{line:258,column:58},end:{line:269,column:12}}],line:258}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AAgMQ,SAsDA,UAtDA,KAGA,YAHA;AAhMR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAC/B,SAA0B,uBAAuB;AAGjD,SAAS,gBAAgB,OAAuF;AAC9G,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAAkC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,MAAM,wBAAwB,MAAM;AAC9D,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,MAAM,wBAAwB,OAAO;AACnE,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,EAAC,IAAI,KAAK;AACzB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OACE,YAAE,mCAAmC,GACxC;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAO,EAAE,uBAAuB;AAAA,YAEhC;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cACC,EAAE,uBAAuB;AAAA;AAAA;AAAA,QAC5B;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAO,EAAE,uBAAuB;AAAA,UAChC,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO,EAAE,QAAQ;AAAA,YACjB,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS;AAAA,kBACP,CAAC,OAAO,EAAE,sBAAsB,CAAC;AAAA,kBACjC,CAAC,QAAQ,EAAE,mBAAmB,CAAC;AAAA,kBAC/B,CAAC,OAAO,EAAE,oBAAoB,CAAC;AAAA,gBACjC;AAAA;AAAA,YACF;AAAA;AAAA,UAbI;AAAA,QAcN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA,kBAAE,EAAE,YAAY;AAAA;AAAA;AAAA,YACxB;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBACZ;AAAA,YAAE,qCAAqC;AAAA,UACvC;AAAA,UACD;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cAET,YAAE,0BAA0B;AAAA;AAAA,UAC/B;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"10bf63b3f71adfa5066d0aecd6eaecbe45ada76f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return _n=function(){return s},s}_n();function Jm(n){_n().f[0]++;const e=(_n().s[0]++,_n().b[0][0]++,n.filter||(_n().b[0][1]++,["all"]));if(_n().s[1]++,Array.isArray(e))_n().b[1][1]++;else return _n().b[1][0]++,_n().s[2]++,e;let t=(_n().s[3]++,e[0]),r=(_n().s[4]++,e.slice(1));return _n().s[5]++,rT.indexOf(t)<0?(_n().b[2][0]++,_n().s[6]++,t="all",_n().s[7]++,r=[e.slice(0)]):_n().b[2][1]++,_n().s[8]++,[t,...r]}function $1e(n){return _n().f[1]++,_n().s[9]++,Cre(Y1e(n)).layers[0].filter}function Y1e(n){return _n().f[2]++,_n().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:n}]}}const q1e=(_n().s[11]++,["all","any","none"]);function fL(n){if(_n().f[3]++,_n().s[12]++,_n().b[4][0]++,n.length===1&&(_n().b[4][1]++,q1e.includes(n[0])))return _n().b[3][0]++,_n().s[13]++,!0;_n().b[3][1]++;const e=(_n().s[14]++,FC(n));return _n().s[15]++,!Y5.isEqual(e,n)}function pL(n){return _n().f[4]++,_n().s[16]++,rT.indexOf(n[0])>=0}function V1e(n){return _n().f[5]++,_n().s[17]++,pL(n)?(_n().b[5][0]++,_n().s[18]++,n.slice(1).map(e=>(_n().f[6]++,_n().s[19]++,pL(e))).filter(e=>(_n().f[7]++,_n().s[20]++,e==!0)).length>0):(_n().b[5][1]++,_n().s[21]++,!1)}class C$ extends kn.Component{constructor(t){_n().f[8]++,_n().s[23]++;super(t);pn(this,"addFilterItem",(_n().s[31]++,()=>{_n().f[11]++;const t=(_n().s[32]++,Jm(this.props).slice(0));_n().s[33]++,t.push(["==","name",""]),_n().s[34]++,this.props.onChange(t)}));pn(this,"onToggleDoc",(_n().s[35]++,t=>{_n().f[12]++,_n().s[36]++,this.setState({showDoc:t})}));pn(this,"makeFilter",(_n().s[37]++,()=>{_n().f[13]++,_n().s[38]++,this.setState({displaySimpleFilter:!0})}));pn(this,"makeExpression",(_n().s[39]++,()=>{_n().f[14]++;const t=(_n().s[40]++,Jm(this.props));_n().s[41]++,this.props.onChange($1e(t)),_n().s[42]++,this.setState({displaySimpleFilter:!1})}));_n().s[24]++,this.state={showDoc:!1,displaySimpleFilter:fL(Jm(t))}}onFilterPartChanged(t,r){_n().f[9]++;const i=(_n().s[25]++,Jm(this.props).slice(0));_n().s[26]++,i[t]=r,_n().s[27]++,this.props.onChange(i)}deleteFilterItem(t){_n().f[10]++;const r=(_n().s[28]++,Jm(this.props).slice(0));_n().s[29]++,r.splice(t+1,1),_n().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(t,r){_n().f[15]++;const i=(_n().s[43]++,fL(Jm(t)));return _n().s[44]++,_n().b[7][0]++,!i&&(_n().b[7][1]++,r.displaySimpleFilter===!0)?(_n().b[6][0]++,_n().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(_n().b[6][1]++,_n().s[46]++,_n().b[9][0]++,i&&(_n().b[9][1]++,r.displaySimpleFilter===!1)?(_n().b[8][0]++,_n().s[47]++,{valueIsSimpleFilter:!0}):(_n().b[8][1]++,_n().s[48]++,{valueIsSimpleFilter:!1}))}render(){_n().f[16]++;const{errors:t,t:r}=(_n().s[49]++,this.props),{displaySimpleFilter:i}=(_n().s[50]++,this.state),o=(_n().s[51]++,{doc:Yo.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),s=(_n().s[52]++,["all"]),a=(_n().s[53]++,_n().b[10][0]++,i&&(_n().b[10][1]++,V1e(Jm(this.props))));if(_n().s[54]++,a)return _n().b[11][0]++,_n().s[55]++,Y.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[Y.jsx("p",{children:r("Nested filters are not supported.")}),Y.jsxs(ja,{onClick:this.makeExpression,title:r("Convert to expression"),children:[Y.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:Gb})}),r("Upgrade to expression")]})]});if(_n().b[11][1]++,_n().s[56]++,i){_n().b[12][0]++;const f=(_n().s[57]++,Jm(this.props)),m=(_n().s[58]++,f[0]),C=(_n().s[59]++,f.slice(1)),k=(_n().s[60]++,Y.jsx("div",{children:Y.jsx(ja,{onClick:this.makeExpression,title:r("Convert to expression"),className:"maputnik-make-zoom-function",children:Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:Gb})})})})),I=(_n().s[61]++,C.map((K,L)=>{_n().f[17]++;const q=(_n().s[62]++,t[`filter[${L+1}]`]);return _n().s[63]++,Y.jsxs("div",{children:[Y.jsx(v1e,{onDelete:this.deleteFilterItem.bind(this,L),children:Y.jsx(s$,{properties:this.props.properties,filter:K,onChange:this.onFilterPartChanged.bind(this,L+1)})},L),(_n().b[13][0]++,q&&(_n().b[13][1]++,Y.jsx("div",{className:"maputnik-inline-error",children:q.message},"error")))]},`block-${L}`)}));return _n().s[64]++,Y.jsxs(Y.Fragment,{children:[Y.jsx(ga,{fieldSpec:o,label:r("Filter"),action:k,children:Y.jsx(w1,{value:m,onChange:K=>(_n().f[18]++,_n().s[65]++,this.onFilterPartChanged(0,K)),options:[["all",r("every filter matches")],["none",r("no filter matches")],["any",r("any filter matches")]]})},"top"),I,Y.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:Y.jsxs(ja,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:nT})})," ",r("Add filter")]})},"buttons"),Y.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(_n().b[14][0]++,""):(_n().b[14][1]++,"none")},children:Y.jsx(Yk,{fieldSpec:o})},"doc")]})}else{_n().b[12][1]++;const{filter:f}=(_n().s[66]++,this.props);return _n().s[67]++,Y.jsxs(Y.Fragment,{children:[Y.jsx(_$,{onDelete:()=>{_n().f[19]++,_n().s[68]++,this.setState({displaySimpleFilter:!0}),_n().s[69]++,this.props.onChange(s)},fieldName:"filter",fieldSpec:o,value:f,errors:t,onChange:this.props.onChange}),(_n().b[15][0]++,this.state.valueIsSimpleFilter&&(_n().b[15][1]++,Y.jsxs("div",{className:"maputnik-expr-infobox",children:[r("You've entered an old style filter.")," ",Y.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:r("Switch to filter editor.")})]})))]})}}}pn(C$,"defaultProps",(_n().s[22]++,{filter:["all"]}));const H1e=(_n().s[70]++,qo()(C$));var RM={},Hs={},v2={},Z1e=typeof window=="object"&&window&&window.Object===Object&&window,b$=Z1e,X1e=b$,J1e=typeof self=="object"&&self&&self.Object===Object&&self,eye=X1e||J1e||Function("return this")(),Cf=eye,tye=Cf,nye=tye.Symbol,_2=nye,mL=_2,x$=Object.prototype,rye=x$.hasOwnProperty,iye=x$.toString,aC=mL?mL.toStringTag:void 0;function oye(n){var e=rye.call(n,aC),t=n[aC];try{n[aC]=void 0;var r=!0}catch{}var i=iye.call(n);return r&&(e?n[aC]=t:delete n[aC]),i}var aye=oye,sye=Object.prototype,lye=sye.toString;function uye(n){return lye.call(n)}var Aye=uye,gL=_2,cye=aye,hye=Aye,dye="[object Null]",fye="[object Undefined]",yL=gL?gL.toStringTag:void 0;function pye(n){return n==null?n===void 0?fye:dye:yL&&yL in Object(n)?cye(n):hye(n)}var M1=pye,mye=Array.isArray,Ih=mye;function gye(n){return n!=null&&typeof n=="object"}var wp=gye,yye=M1,vye=Ih,_ye=wp,Cye="[object String]";function bye(n){return typeof n=="string"||!vye(n)&&_ye(n)&&yye(n)==Cye}var xye=bye;function wye(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var f=s[n?a:++i];if(t(o[f],f,o)===!1)break}return e}}var Mye=wye,Sye=Mye,Eye=Sye(),w$=Eye;function Oye(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Bye=Oye,Iye=M1,kye=wp,Tye="[object Arguments]";function Pye(n){return kye(n)&&Iye(n)==Tye}var Kye=Pye,vL=Kye,Dye=wp,M$=Object.prototype,Lye=M$.hasOwnProperty,Fye=M$.propertyIsEnumerable,Rye=vL(function(){return arguments}())?vL:function(n){return Dye(n)&&Lye.call(n,"callee")&&!Fye.call(n,"callee")},aT=Rye,r5={exports:{}};function Uye(){return!1}var jye=Uye;r5.exports;(function(n,e){var t=Cf,r=jye,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?t.Buffer:void 0,f=a?a.isBuffer:void 0,m=f||r;n.exports=m})(r5,r5.exports);var UM=r5.exports,zye=9007199254740991,Nye=/^(?:0|[1-9]\d*)$/;function Wye(n,e){var t=typeof n;return e=e??zye,!!e&&(t=="number"||t!="symbol"&&Nye.test(n))&&n>-1&&n%1==0&&n<e}var sT=Wye,Gye=9007199254740991;function Qye(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Gye}var lT=Qye,$ye=M1,Yye=lT,qye=wp,Vye="[object Arguments]",Hye="[object Array]",Zye="[object Boolean]",Xye="[object Date]",Jye="[object Error]",eve="[object Function]",tve="[object Map]",nve="[object Number]",rve="[object Object]",ive="[object RegExp]",ove="[object Set]",ave="[object String]",sve="[object WeakMap]",lve="[object ArrayBuffer]",uve="[object DataView]",Ave="[object Float32Array]",cve="[object Float64Array]",hve="[object Int8Array]",dve="[object Int16Array]",fve="[object Int32Array]",pve="[object Uint8Array]",mve="[object Uint8ClampedArray]",gve="[object Uint16Array]",yve="[object Uint32Array]",Cs={};Cs[Ave]=Cs[cve]=Cs[hve]=Cs[dve]=Cs[fve]=Cs[pve]=Cs[mve]=Cs[gve]=Cs[yve]=!0;Cs[Vye]=Cs[Hye]=Cs[lve]=Cs[Zye]=Cs[uve]=Cs[Xye]=Cs[Jye]=Cs[eve]=Cs[tve]=Cs[nve]=Cs[rve]=Cs[ive]=Cs[ove]=Cs[ave]=Cs[sve]=!1;function vve(n){return qye(n)&&Yye(n.length)&&!!Cs[$ye(n)]}var _ve=vve;function Cve(n){return function(e){return n(e)}}var uT=Cve,i5={exports:{}};i5.exports;(function(n,e){var t=b$,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(i5,i5.exports);var AT=i5.exports,bve=_ve,xve=uT,_L=AT,CL=_L&&_L.isTypedArray,wve=CL?xve(CL):bve,cT=wve,Mve=Bye,Sve=aT,Eve=Ih,Ove=UM,Bve=sT,Ive=cT,kve=Object.prototype,Tve=kve.hasOwnProperty;function Pve(n,e){var t=Eve(n),r=!t&&Sve(n),i=!t&&!r&&Ove(n),o=!t&&!r&&!i&&Ive(n),s=t||r||i||o,a=s?Mve(n.length,String):[],f=a.length;for(var m in n)(e||Tve.call(n,m))&&!(s&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Bve(m,f)))&&a.push(m);return a}var S$=Pve,Kve=Object.prototype;function Dve(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Kve;return n===t}var hT=Dve;function Lve(n,e){return function(t){return n(e(t))}}var E$=Lve,Fve=E$,Rve=Fve(Object.keys,Object),Uve=Rve,jve=hT,zve=Uve,Nve=Object.prototype,Wve=Nve.hasOwnProperty;function Gve(n){if(!jve(n))return zve(n);var e=[];for(var t in Object(n))Wve.call(n,t)&&t!="constructor"&&e.push(t);return e}var Qve=Gve;function $ve(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var yd=$ve,Yve=M1,qve=yd,Vve="[object AsyncFunction]",Hve="[object Function]",Zve="[object GeneratorFunction]",Xve="[object Proxy]";function Jve(n){if(!qve(n))return!1;var e=Yve(n);return e==Hve||e==Zve||e==Vve||e==Xve}var dT=Jve,e_e=dT,t_e=lT;function n_e(n){return n!=null&&t_e(n.length)&&!e_e(n)}var n_=n_e,r_e=S$,i_e=Qve,o_e=n_;function a_e(n){return o_e(n)?r_e(n):i_e(n)}var C2=a_e,s_e=w$,l_e=C2;function u_e(n,e){return n&&s_e(n,e,l_e)}var O$=u_e;function A_e(n){return n}var jM=A_e,c_e=jM;function h_e(n){return typeof n=="function"?n:c_e}var B$=h_e,d_e=O$,f_e=B$;function p_e(n,e){return n&&d_e(n,f_e(e))}var fT=p_e,m_e=E$,g_e=m_e(Object.getPrototypeOf,Object),pT=g_e,y_e=M1,v_e=pT,__e=wp,C_e="[object Object]",b_e=Function.prototype,x_e=Object.prototype,I$=b_e.toString,w_e=x_e.hasOwnProperty,M_e=I$.call(Object);function S_e(n){if(!__e(n)||y_e(n)!=C_e)return!1;var e=v_e(n);if(e===null)return!0;var t=w_e.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&I$.call(t)==M_e}var k$=S_e;function E_e(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var T$=E_e;function O_e(){this.__data__=[],this.size=0}var B_e=O_e;function I_e(n,e){return n===e||n!==n&&e!==e}var b2=I_e,k_e=b2;function T_e(n,e){for(var t=n.length;t--;)if(k_e(n[t][0],e))return t;return-1}var zM=T_e,P_e=zM,K_e=Array.prototype,D_e=K_e.splice;function L_e(n){var e=this.__data__,t=P_e(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():D_e.call(e,t,1),--this.size,!0}var F_e=L_e,R_e=zM;function U_e(n){var e=this.__data__,t=R_e(e,n);return t<0?void 0:e[t][1]}var j_e=U_e,z_e=zM;function N_e(n){return z_e(this.__data__,n)>-1}var W_e=N_e,G_e=zM;function Q_e(n,e){var t=this.__data__,r=G_e(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var $_e=Q_e,Y_e=B_e,q_e=F_e,V_e=j_e,H_e=W_e,Z_e=$_e;function r_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}r_.prototype.clear=Y_e;r_.prototype.delete=q_e;r_.prototype.get=V_e;r_.prototype.has=H_e;r_.prototype.set=Z_e;var NM=r_,X_e=NM;function J_e(){this.__data__=new X_e,this.size=0}var eCe=J_e;function tCe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var nCe=tCe;function rCe(n){return this.__data__.get(n)}var iCe=rCe;function oCe(n){return this.__data__.has(n)}var aCe=oCe,sCe=Cf,lCe=sCe["__core-js_shared__"],uCe=lCe,k6=uCe,bL=function(){var n=/[^.]+$/.exec(k6&&k6.keys&&k6.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ACe(n){return!!bL&&bL in n}var cCe=ACe,hCe=Function.prototype,dCe=hCe.toString;function fCe(n){if(n!=null){try{return dCe.call(n)}catch{}try{return n+""}catch{}}return""}var P$=fCe,pCe=dT,mCe=cCe,gCe=yd,yCe=P$,vCe=/[\\^$.*+?()[\]{}|]/g,_Ce=/^\[object .+?Constructor\]$/,CCe=Function.prototype,bCe=Object.prototype,xCe=CCe.toString,wCe=bCe.hasOwnProperty,MCe=RegExp("^"+xCe.call(wCe).replace(vCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SCe(n){if(!gCe(n)||mCe(n))return!1;var e=pCe(n)?MCe:_Ce;return e.test(yCe(n))}var ECe=SCe;function OCe(n,e){return n==null?void 0:n[e]}var BCe=OCe,ICe=ECe,kCe=BCe;function TCe(n,e){var t=kCe(n,e);return ICe(t)?t:void 0}var S1=TCe,PCe=S1,KCe=Cf,DCe=PCe(KCe,"Map"),mT=DCe,LCe=S1,FCe=LCe(Object,"create"),WM=FCe,xL=WM;function RCe(){this.__data__=xL?xL(null):{},this.size=0}var UCe=RCe;function jCe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var zCe=jCe,NCe=WM,WCe="__lodash_hash_undefined__",GCe=Object.prototype,QCe=GCe.hasOwnProperty;function $Ce(n){var e=this.__data__;if(NCe){var t=e[n];return t===WCe?void 0:t}return QCe.call(e,n)?e[n]:void 0}var YCe=$Ce,qCe=WM,VCe=Object.prototype,HCe=VCe.hasOwnProperty;function ZCe(n){var e=this.__data__;return qCe?e[n]!==void 0:HCe.call(e,n)}var XCe=ZCe,JCe=WM,ebe="__lodash_hash_undefined__";function tbe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=JCe&&e===void 0?ebe:e,this}var nbe=tbe,rbe=UCe,ibe=zCe,obe=YCe,abe=XCe,sbe=nbe;function i_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}i_.prototype.clear=rbe;i_.prototype.delete=ibe;i_.prototype.get=obe;i_.prototype.has=abe;i_.prototype.set=sbe;var lbe=i_,wL=lbe,ube=NM,Abe=mT;function cbe(){this.size=0,this.__data__={hash:new wL,map:new(Abe||ube),string:new wL}}var hbe=cbe;function dbe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var fbe=dbe,pbe=fbe;function mbe(n,e){var t=n.__data__;return pbe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var GM=mbe,gbe=GM;function ybe(n){var e=gbe(this,n).delete(n);return this.size-=e?1:0,e}var vbe=ybe,_be=GM;function Cbe(n){return _be(this,n).get(n)}var bbe=Cbe,xbe=GM;function wbe(n){return xbe(this,n).has(n)}var Mbe=wbe,Sbe=GM;function Ebe(n,e){var t=Sbe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Obe=Ebe,Bbe=hbe,Ibe=vbe,kbe=bbe,Tbe=Mbe,Pbe=Obe;function o_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}o_.prototype.clear=Bbe;o_.prototype.delete=Ibe;o_.prototype.get=kbe;o_.prototype.has=Tbe;o_.prototype.set=Pbe;var gT=o_,Kbe=NM,Dbe=mT,Lbe=gT,Fbe=200;function Rbe(n,e){var t=this.__data__;if(t instanceof Kbe){var r=t.__data__;if(!Dbe||r.length<Fbe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Lbe(r)}return t.set(n,e),this.size=t.size,this}var Ube=Rbe,jbe=NM,zbe=eCe,Nbe=nCe,Wbe=iCe,Gbe=aCe,Qbe=Ube;function a_(n){var e=this.__data__=new jbe(n);this.size=e.size}a_.prototype.clear=zbe;a_.prototype.delete=Nbe;a_.prototype.get=Wbe;a_.prototype.has=Gbe;a_.prototype.set=Qbe;var QM=a_,$be="__lodash_hash_undefined__";function Ybe(n){return this.__data__.set(n,$be),this}var qbe=Ybe;function Vbe(n){return this.__data__.has(n)}var Hbe=Vbe,Zbe=gT,Xbe=qbe,Jbe=Hbe;function o5(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Zbe;++e<t;)this.add(n[e])}o5.prototype.add=o5.prototype.push=Xbe;o5.prototype.has=Jbe;var e2e=o5;function t2e(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var n2e=t2e;function r2e(n,e){return n.has(e)}var i2e=r2e,o2e=e2e,a2e=n2e,s2e=i2e,l2e=1,u2e=2;function A2e(n,e,t,r,i,o){var s=t&l2e,a=n.length,f=e.length;if(a!=f&&!(s&&f>a))return!1;var m=o.get(n),C=o.get(e);if(m&&C)return m==e&&C==n;var k=-1,I=!0,K=t&u2e?new o2e:void 0;for(o.set(n,e),o.set(e,n);++k<a;){var L=n[k],q=e[k];if(r)var X=s?r(q,L,k,e,n,o):r(L,q,k,n,e,o);if(X!==void 0){if(X)continue;I=!1;break}if(K){if(!a2e(e,function(H,G){if(!s2e(K,G)&&(L===H||i(L,H,t,r,o)))return K.push(G)})){I=!1;break}}else if(!(L===q||i(L,q,t,r,o))){I=!1;break}}return o.delete(n),o.delete(e),I}var K$=A2e,c2e=Cf,h2e=c2e.Uint8Array,D$=h2e;function d2e(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var f2e=d2e;function p2e(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var m2e=p2e,ML=_2,SL=D$,g2e=b2,y2e=K$,v2e=f2e,_2e=m2e,C2e=1,b2e=2,x2e="[object Boolean]",w2e="[object Date]",M2e="[object Error]",S2e="[object Map]",E2e="[object Number]",O2e="[object RegExp]",B2e="[object Set]",I2e="[object String]",k2e="[object Symbol]",T2e="[object ArrayBuffer]",P2e="[object DataView]",EL=ML?ML.prototype:void 0,T6=EL?EL.valueOf:void 0;function K2e(n,e,t,r,i,o,s){switch(t){case P2e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case T2e:return!(n.byteLength!=e.byteLength||!o(new SL(n),new SL(e)));case x2e:case w2e:case E2e:return g2e(+n,+e);case M2e:return n.name==e.name&&n.message==e.message;case O2e:case I2e:return n==e+"";case S2e:var a=v2e;case B2e:var f=r&C2e;if(a||(a=_2e),n.size!=e.size&&!f)return!1;var m=s.get(n);if(m)return m==e;r|=b2e,s.set(n,e);var C=y2e(a(n),a(e),r,i,o,s);return s.delete(n),C;case k2e:if(T6)return T6.call(n)==T6.call(e)}return!1}var D2e=K2e;function L2e(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var L$=L2e,F2e=L$,R2e=Ih;function U2e(n,e,t){var r=e(n);return R2e(n)?r:F2e(r,t(n))}var F$=U2e;function j2e(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}var z2e=j2e;function N2e(){return[]}var R$=N2e,W2e=z2e,G2e=R$,Q2e=Object.prototype,$2e=Q2e.propertyIsEnumerable,OL=Object.getOwnPropertySymbols,Y2e=OL?function(n){return n==null?[]:(n=Object(n),W2e(OL(n),function(e){return $2e.call(n,e)}))}:G2e,yT=Y2e,q2e=F$,V2e=yT,H2e=C2;function Z2e(n){return q2e(n,H2e,V2e)}var U$=Z2e,BL=U$,X2e=1,J2e=Object.prototype,exe=J2e.hasOwnProperty;function txe(n,e,t,r,i,o){var s=t&X2e,a=BL(n),f=a.length,m=BL(e),C=m.length;if(f!=C&&!s)return!1;for(var k=f;k--;){var I=a[k];if(!(s?I in e:exe.call(e,I)))return!1}var K=o.get(n),L=o.get(e);if(K&&L)return K==e&&L==n;var q=!0;o.set(n,e),o.set(e,n);for(var X=s;++k<f;){I=a[k];var H=n[I],G=e[I];if(r)var ee=s?r(G,H,I,e,n,o):r(H,G,I,n,e,o);if(!(ee===void 0?H===G||i(H,G,t,r,o):ee)){q=!1;break}X||(X=I=="constructor")}if(q&&!X){var ne=n.constructor,se=e.constructor;ne!=se&&"constructor"in n&&"constructor"in e&&!(typeof ne=="function"&&ne instanceof ne&&typeof se=="function"&&se instanceof se)&&(q=!1)}return o.delete(n),o.delete(e),q}var nxe=txe,rxe=S1,ixe=Cf,oxe=rxe(ixe,"DataView"),axe=oxe,sxe=S1,lxe=Cf,uxe=sxe(lxe,"Promise"),Axe=uxe,cxe=S1,hxe=Cf,dxe=cxe(hxe,"Set"),fxe=dxe,pxe=S1,mxe=Cf,gxe=pxe(mxe,"WeakMap"),yxe=gxe,K8=axe,D8=mT,L8=Axe,F8=fxe,R8=yxe,j$=M1,s_=P$,IL="[object Map]",vxe="[object Object]",kL="[object Promise]",TL="[object Set]",PL="[object WeakMap]",KL="[object DataView]",_xe=s_(K8),Cxe=s_(D8),bxe=s_(L8),xxe=s_(F8),wxe=s_(R8),Sg=j$;(K8&&Sg(new K8(new ArrayBuffer(1)))!=KL||D8&&Sg(new D8)!=IL||L8&&Sg(L8.resolve())!=kL||F8&&Sg(new F8)!=TL||R8&&Sg(new R8)!=PL)&&(Sg=function(n){var e=j$(n),t=e==vxe?n.constructor:void 0,r=t?s_(t):"";if(r)switch(r){case _xe:return KL;case Cxe:return IL;case bxe:return kL;case xxe:return TL;case wxe:return PL}return e});var $M=Sg,P6=QM,Mxe=K$,Sxe=D2e,Exe=nxe,DL=$M,LL=Ih,FL=UM,Oxe=cT,Bxe=1,RL="[object Arguments]",UL="[object Array]",W3="[object Object]",Ixe=Object.prototype,jL=Ixe.hasOwnProperty;function kxe(n,e,t,r,i,o){var s=LL(n),a=LL(e),f=s?UL:DL(n),m=a?UL:DL(e);f=f==RL?W3:f,m=m==RL?W3:m;var C=f==W3,k=m==W3,I=f==m;if(I&&FL(n)){if(!FL(e))return!1;s=!0,C=!1}if(I&&!C)return o||(o=new P6),s||Oxe(n)?Mxe(n,e,t,r,i,o):Sxe(n,e,f,t,r,i,o);if(!(t&Bxe)){var K=C&&jL.call(n,"__wrapped__"),L=k&&jL.call(e,"__wrapped__");if(K||L){var q=K?n.value():n,X=L?e.value():e;return o||(o=new P6),i(q,X,t,r,o)}}return I?(o||(o=new P6),Exe(n,e,t,r,i,o)):!1}var Txe=kxe,Pxe=Txe,zL=wp;function z$(n,e,t,r,i){return n===e?!0:n==null||e==null||!zL(n)&&!zL(e)?n!==n&&e!==e:Pxe(n,e,t,r,z$,i)}var N$=z$,Kxe=QM,Dxe=N$,Lxe=1,Fxe=2;function Rxe(n,e,t,r){var i=t.length,o=i,s=!r;if(n==null)return!o;for(n=Object(n);i--;){var a=t[i];if(s&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<o;){a=t[i];var f=a[0],m=n[f],C=a[1];if(s&&a[2]){if(m===void 0&&!(f in n))return!1}else{var k=new Kxe;if(r)var I=r(m,C,f,n,e,k);if(!(I===void 0?Dxe(C,m,Lxe|Fxe,r,k):I))return!1}}return!0}var Uxe=Rxe,jxe=yd;function zxe(n){return n===n&&!jxe(n)}var W$=zxe,Nxe=W$,Wxe=C2;function Gxe(n){for(var e=Wxe(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,Nxe(i)]}return e}var Qxe=Gxe;function $xe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var G$=$xe,Yxe=Uxe,qxe=Qxe,Vxe=G$;function Hxe(n){var e=qxe(n);return e.length==1&&e[0][2]?Vxe(e[0][0],e[0][1]):function(t){return t===n||Yxe(t,n,e)}}var Zxe=Hxe,Xxe=M1,Jxe=wp,e3e="[object Symbol]";function t3e(n){return typeof n=="symbol"||Jxe(n)&&Xxe(n)==e3e}var YM=t3e,n3e=Ih,r3e=YM,i3e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o3e=/^\w*$/;function a3e(n,e){if(n3e(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||r3e(n)?!0:o3e.test(n)||!i3e.test(n)||e!=null&&n in Object(e)}var vT=a3e,Q$=gT,s3e="Expected a function";function _T(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(s3e);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(_T.Cache||Q$),t}_T.Cache=Q$;var l3e=_T,u3e=l3e,A3e=500;function c3e(n){var e=u3e(n,function(r){return t.size===A3e&&t.clear(),r}),t=e.cache;return e}var h3e=c3e,d3e=h3e,f3e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p3e=/\\(\\)?/g,m3e=d3e(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(f3e,function(t,r,i,o){e.push(i?o.replace(p3e,"$1"):r||t)}),e}),g3e=m3e,NL=_2,y3e=T$,v3e=Ih,_3e=YM,C3e=1/0,WL=NL?NL.prototype:void 0,GL=WL?WL.toString:void 0;function $$(n){if(typeof n=="string")return n;if(v3e(n))return y3e(n,$$)+"";if(_3e(n))return GL?GL.call(n):"";var e=n+"";return e=="0"&&1/n==-C3e?"-0":e}var b3e=$$,x3e=b3e;function w3e(n){return n==null?"":x3e(n)}var M3e=w3e,S3e=Ih,E3e=vT,O3e=g3e,B3e=M3e;function I3e(n,e){return S3e(n)?n:E3e(n,e)?[n]:O3e(B3e(n))}var Y$=I3e,k3e=YM,T3e=1/0;function P3e(n){if(typeof n=="string"||k3e(n))return n;var e=n+"";return e=="0"&&1/n==-T3e?"-0":e}var qM=P3e,K3e=Y$,D3e=qM;function L3e(n,e){e=K3e(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[D3e(e[t++])];return t&&t==r?n:void 0}var q$=L3e,F3e=q$;function R3e(n,e,t){var r=n==null?void 0:F3e(n,e);return r===void 0?t:r}var U3e=R3e;function j3e(n,e){return n!=null&&e in Object(n)}var z3e=j3e,N3e=Y$,W3e=aT,G3e=Ih,Q3e=sT,$3e=lT,Y3e=qM;function q3e(n,e,t){e=N3e(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Y3e(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&$3e(i)&&Q3e(s,i)&&(G3e(n)||W3e(n)))}var V3e=q3e,H3e=z3e,Z3e=V3e;function X3e(n,e){return n!=null&&Z3e(n,e,H3e)}var J3e=X3e,e4e=N$,t4e=U3e,n4e=J3e,r4e=vT,i4e=W$,o4e=G$,a4e=qM,s4e=1,l4e=2;function u4e(n,e){return r4e(n)&&i4e(e)?o4e(a4e(n),e):function(t){var r=t4e(t,n);return r===void 0&&r===e?n4e(t,n):e4e(e,r,s4e|l4e)}}var A4e=u4e;function c4e(n){return function(e){return e==null?void 0:e[n]}}var h4e=c4e,d4e=q$;function f4e(n){return function(e){return d4e(e,n)}}var p4e=f4e,m4e=h4e,g4e=p4e,y4e=vT,v4e=qM;function _4e(n){return y4e(n)?m4e(v4e(n)):g4e(n)}var C4e=_4e,b4e=Zxe,x4e=A4e,w4e=jM,M4e=Ih,S4e=C4e;function E4e(n){return typeof n=="function"?n:n==null?w4e:typeof n=="object"?M4e(n)?x4e(n[0],n[1]):b4e(n):S4e(n)}var O4e=E4e,B4e=n_;function I4e(n,e){return function(t,r){if(t==null)return t;if(!B4e(t))return n(t,r);for(var i=t.length,o=e?i:-1,s=Object(t);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return t}}var k4e=I4e,T4e=O$,P4e=k4e,K4e=P4e(T4e),V$=K4e,D4e=V$,L4e=n_;function F4e(n,e){var t=-1,r=L4e(n)?Array(n.length):[];return D4e(n,function(i,o,s){r[++t]=e(i,o,s)}),r}var R4e=F4e,U4e=T$,j4e=O4e,z4e=R4e,N4e=Ih;function W4e(n,e){var t=N4e(n)?U4e:z4e;return t(n,j4e(e))}var G4e=W4e;Object.defineProperty(v2,"__esModule",{value:!0});v2.flattenNames=void 0;var Q4e=xye,$4e=VM(Q4e),Y4e=fT,q4e=VM(Y4e),V4e=k$,H4e=VM(V4e),Z4e=G4e,X4e=VM(Z4e);function VM(n){return n&&n.__esModule?n:{default:n}}var J4e=v2.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,X4e.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,H4e.default)(r)?(0,q4e.default)(r,function(i,o){i===!0&&t.push(o),t.push(o+"-"+i)}):(0,$4e.default)(r)&&t.push(r)}),t};v2.default=J4e;var x2={};function ewe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var H$=ewe,twe=S1,nwe=function(){try{var n=twe(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Z$=nwe,QL=Z$;function rwe(n,e,t){e=="__proto__"&&QL?QL(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var CT=rwe,iwe=CT,owe=b2,awe=Object.prototype,swe=awe.hasOwnProperty;function lwe(n,e,t){var r=n[e];(!(swe.call(n,e)&&owe(r,t))||t===void 0&&!(e in n))&&iwe(n,e,t)}var X$=lwe,uwe=X$,Awe=CT;function cwe(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],f=r?r(t[a],n[a],a,t,n):void 0;f===void 0&&(f=n[a]),i?Awe(t,a,f):uwe(t,a,f)}return t}var w2=cwe,hwe=w2,dwe=C2;function fwe(n,e){return n&&hwe(e,dwe(e),n)}var pwe=fwe;function mwe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var gwe=mwe,ywe=yd,vwe=hT,_we=gwe,Cwe=Object.prototype,bwe=Cwe.hasOwnProperty;function xwe(n){if(!ywe(n))return _we(n);var e=vwe(n),t=[];for(var r in n)r=="constructor"&&(e||!bwe.call(n,r))||t.push(r);return t}var wwe=xwe,Mwe=S$,Swe=wwe,Ewe=n_;function Owe(n){return Ewe(n)?Mwe(n,!0):Swe(n)}var M2=Owe,Bwe=w2,Iwe=M2;function kwe(n,e){return n&&Bwe(e,Iwe(e),n)}var Twe=kwe,a5={exports:{}};a5.exports;(function(n,e){var t=Cf,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function f(m,C){if(C)return m.slice();var k=m.length,I=a?a(k):new m.constructor(k);return m.copy(I),I}n.exports=f})(a5,a5.exports);var J$=a5.exports;function Pwe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var eY=Pwe,Kwe=w2,Dwe=yT;function Lwe(n,e){return Kwe(n,Dwe(n),e)}var Fwe=Lwe,Rwe=L$,Uwe=pT,jwe=yT,zwe=R$,Nwe=Object.getOwnPropertySymbols,Wwe=Nwe?function(n){for(var e=[];n;)Rwe(e,jwe(n)),n=Uwe(n);return e}:zwe,tY=Wwe,Gwe=w2,Qwe=tY;function $we(n,e){return Gwe(n,Qwe(n),e)}var Ywe=$we,qwe=F$,Vwe=tY,Hwe=M2;function Zwe(n){return qwe(n,Hwe,Vwe)}var Xwe=Zwe,Jwe=Object.prototype,e5e=Jwe.hasOwnProperty;function t5e(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&e5e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var n5e=t5e,$L=D$;function r5e(n){var e=new n.constructor(n.byteLength);return new $L(e).set(new $L(n)),e}var bT=r5e,i5e=bT;function o5e(n,e){var t=e?i5e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var a5e=o5e,s5e=/\w*$/;function l5e(n){var e=new n.constructor(n.source,s5e.exec(n));return e.lastIndex=n.lastIndex,e}var u5e=l5e,YL=_2,qL=YL?YL.prototype:void 0,VL=qL?qL.valueOf:void 0;function A5e(n){return VL?Object(VL.call(n)):{}}var c5e=A5e,h5e=bT;function d5e(n,e){var t=e?h5e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var nY=d5e,f5e=bT,p5e=a5e,m5e=u5e,g5e=c5e,y5e=nY,v5e="[object Boolean]",_5e="[object Date]",C5e="[object Map]",b5e="[object Number]",x5e="[object RegExp]",w5e="[object Set]",M5e="[object String]",S5e="[object Symbol]",E5e="[object ArrayBuffer]",O5e="[object DataView]",B5e="[object Float32Array]",I5e="[object Float64Array]",k5e="[object Int8Array]",T5e="[object Int16Array]",P5e="[object Int32Array]",K5e="[object Uint8Array]",D5e="[object Uint8ClampedArray]",L5e="[object Uint16Array]",F5e="[object Uint32Array]";function R5e(n,e,t){var r=n.constructor;switch(e){case E5e:return f5e(n);case v5e:case _5e:return new r(+n);case O5e:return p5e(n,t);case B5e:case I5e:case k5e:case T5e:case P5e:case K5e:case D5e:case L5e:case F5e:return y5e(n,t);case C5e:return new r;case b5e:case M5e:return new r(n);case x5e:return m5e(n);case w5e:return new r;case S5e:return g5e(n)}}var U5e=R5e,j5e=yd,HL=Object.create,z5e=function(){function n(){}return function(e){if(!j5e(e))return{};if(HL)return HL(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),N5e=z5e,W5e=N5e,G5e=pT,Q5e=hT;function $5e(n){return typeof n.constructor=="function"&&!Q5e(n)?W5e(G5e(n)):{}}var rY=$5e,Y5e=$M,q5e=wp,V5e="[object Map]";function H5e(n){return q5e(n)&&Y5e(n)==V5e}var Z5e=H5e,X5e=Z5e,J5e=uT,ZL=AT,XL=ZL&&ZL.isMap,eMe=XL?J5e(XL):X5e,tMe=eMe,nMe=$M,rMe=wp,iMe="[object Set]";function oMe(n){return rMe(n)&&nMe(n)==iMe}var aMe=oMe,sMe=aMe,lMe=uT,JL=AT,eF=JL&&JL.isSet,uMe=eF?lMe(eF):sMe,AMe=uMe,cMe=QM,hMe=H$,dMe=X$,fMe=pwe,pMe=Twe,mMe=J$,gMe=eY,yMe=Fwe,vMe=Ywe,_Me=U$,CMe=Xwe,bMe=$M,xMe=n5e,wMe=U5e,MMe=rY,SMe=Ih,EMe=UM,OMe=tMe,BMe=yd,IMe=AMe,kMe=C2,TMe=M2,PMe=1,KMe=2,DMe=4,iY="[object Arguments]",LMe="[object Array]",FMe="[object Boolean]",RMe="[object Date]",UMe="[object Error]",oY="[object Function]",jMe="[object GeneratorFunction]",zMe="[object Map]",NMe="[object Number]",aY="[object Object]",WMe="[object RegExp]",GMe="[object Set]",QMe="[object String]",$Me="[object Symbol]",YMe="[object WeakMap]",qMe="[object ArrayBuffer]",VMe="[object DataView]",HMe="[object Float32Array]",ZMe="[object Float64Array]",XMe="[object Int8Array]",JMe="[object Int16Array]",eSe="[object Int32Array]",tSe="[object Uint8Array]",nSe="[object Uint8ClampedArray]",rSe="[object Uint16Array]",iSe="[object Uint32Array]",hs={};hs[iY]=hs[LMe]=hs[qMe]=hs[VMe]=hs[FMe]=hs[RMe]=hs[HMe]=hs[ZMe]=hs[XMe]=hs[JMe]=hs[eSe]=hs[zMe]=hs[NMe]=hs[aY]=hs[WMe]=hs[GMe]=hs[QMe]=hs[$Me]=hs[tSe]=hs[nSe]=hs[rSe]=hs[iSe]=!0;hs[UMe]=hs[oY]=hs[YMe]=!1;function b4(n,e,t,r,i,o){var s,a=e&PMe,f=e&KMe,m=e&DMe;if(t&&(s=i?t(n,r,i,o):t(n)),s!==void 0)return s;if(!BMe(n))return n;var C=SMe(n);if(C){if(s=xMe(n),!a)return gMe(n,s)}else{var k=bMe(n),I=k==oY||k==jMe;if(EMe(n))return mMe(n,a);if(k==aY||k==iY||I&&!i){if(s=f||I?{}:MMe(n),!a)return f?vMe(n,pMe(s,n)):yMe(n,fMe(s,n))}else{if(!hs[k])return i?n:{};s=wMe(n,k,a)}}o||(o=new cMe);var K=o.get(n);if(K)return K;o.set(n,s),IMe(n)?n.forEach(function(X){s.add(b4(X,e,t,X,n,o))}):OMe(n)&&n.forEach(function(X,H){s.set(H,b4(X,e,t,H,n,o))});var L=m?f?CMe:_Me:f?TMe:kMe,q=C?void 0:L(n);return hMe(q||n,function(X,H){q&&(H=X,X=n[H]),dMe(s,H,b4(X,e,t,H,n,o))}),s}var oSe=b4,aSe=oSe,sSe=1,lSe=4;function uSe(n){return aSe(n,sSe|lSe)}var ASe=uSe;Object.defineProperty(x2,"__esModule",{value:!0});x2.mergeClasses=void 0;var cSe=fT,hSe=sY(cSe),dSe=ASe,fSe=sY(dSe),pSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function sY(n){return n&&n.__esModule?n:{default:n}}var mSe=x2.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,fSe.default)(e.default)||{};return t.map(function(i){var o=e[i];return o&&(0,hSe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=pSe({},r[a],o[a])}),i}),r};x2.default=mSe;var S2={};Object.defineProperty(S2,"__esModule",{value:!0});S2.autoprefix=void 0;var gSe=fT,tF=vSe(gSe),ySe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function vSe(n){return n&&n.__esModule?n:{default:n}}var _Se={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},CSe=S2.autoprefix=function(e){var t={};return(0,tF.default)(e,function(r,i){var o={};(0,tF.default)(r,function(s,a){var f=_Se[a];f?o=ySe({},o,f(s)):o[a]=s}),t[i]=o}),t};S2.default=CSe;var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.hover=void 0;var bSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xSe=$n,K6=wSe(xSe);function wSe(n){return n&&n.__esModule?n:{default:n}}function MSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function SSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ESe=E2.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){SSe(i,r);function i(){var o,s,a,f;MSe(this,i);for(var m=arguments.length,C=Array(m),k=0;k<m;k++)C[k]=arguments[k];return f=(s=(a=nF(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return K6.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},K6.default.createElement(e,bSe({},a.props,a.state)))},s),nF(a,f)}return i}(K6.default.Component)};E2.default=ESe;var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.active=void 0;var OSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BSe=$n,D6=ISe(BSe);function ISe(n){return n&&n.__esModule?n:{default:n}}function kSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function TSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var PSe=O2.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){TSe(i,r);function i(){var o,s,a,f;kSe(this,i);for(var m=arguments.length,C=Array(m),k=0;k<m;k++)C[k]=arguments[k];return f=(s=(a=rF(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return D6.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},D6.default.createElement(e,OSe({},a.props,a.state)))},s),rF(a,f)}return i}(D6.default.Component)};O2.default=PSe;var xT={};Object.defineProperty(xT,"__esModule",{value:!0});var KSe=function(e,t){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};xT.default=KSe;Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ReactCSS=Hs.loop=Hs.handleActive=Hs.handleHover=Hs.hover=void 0;var DSe=v2,LSe=l_(DSe),FSe=x2,RSe=l_(FSe),USe=S2,jSe=l_(USe),zSe=E2,lY=l_(zSe),NSe=O2,WSe=l_(NSe),GSe=xT,QSe=l_(GSe);function l_(n){return n&&n.__esModule?n:{default:n}}Hs.hover=lY.default;Hs.handleHover=lY.default;Hs.handleActive=WSe.default;Hs.loop=QSe.default;var $Se=Hs.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=(0,LSe.default)(r),s=(0,RSe.default)(e,o);return(0,jSe.default)(s)};Hs.default=$Se;var YSe=CT,qSe=b2;function VSe(n,e,t){(t!==void 0&&!qSe(n[e],t)||t===void 0&&!(e in n))&&YSe(n,e,t)}var uY=VSe,HSe=n_,ZSe=wp;function XSe(n){return ZSe(n)&&HSe(n)}var JSe=XSe;function eEe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var AY=eEe,tEe=w2,nEe=M2;function rEe(n){return tEe(n,nEe(n))}var iEe=rEe,iF=uY,oEe=J$,aEe=nY,sEe=eY,lEe=rY,oF=aT,aF=Ih,uEe=JSe,AEe=UM,cEe=dT,hEe=yd,dEe=k$,fEe=cT,sF=AY,pEe=iEe;function mEe(n,e,t,r,i,o,s){var a=sF(n,t),f=sF(e,t),m=s.get(f);if(m){iF(n,t,m);return}var C=o?o(a,f,t+"",n,e,s):void 0,k=C===void 0;if(k){var I=aF(f),K=!I&&AEe(f),L=!I&&!K&&fEe(f);C=f,I||K||L?aF(a)?C=a:uEe(a)?C=sEe(a):K?(k=!1,C=oEe(f,!0)):L?(k=!1,C=aEe(f,!0)):C=[]:dEe(f)||oF(f)?(C=a,oF(a)?C=pEe(a):(!hEe(a)||cEe(a))&&(C=lEe(f))):k=!1}k&&(s.set(f,C),i(C,f,r,o,s),s.delete(f)),iF(n,t,C)}var gEe=mEe,yEe=QM,vEe=uY,_Ee=w$,CEe=gEe,bEe=yd,xEe=M2,wEe=AY;function cY(n,e,t,r,i){n!==e&&_Ee(e,function(o,s){if(i||(i=new yEe),bEe(o))CEe(n,e,s,t,cY,r,i);else{var a=r?r(wEe(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),vEe(n,s,a)}},xEe)}var MEe=cY;function SEe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var EEe=SEe,OEe=EEe,lF=Math.max;function BEe(n,e,t){return e=lF(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=lF(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),OEe(n,this,a)}}var IEe=BEe;function kEe(n){return function(){return n}}var TEe=kEe,PEe=TEe,uF=Z$,KEe=jM,DEe=uF?function(n,e){return uF(n,"toString",{configurable:!0,enumerable:!1,value:PEe(e),writable:!0})}:KEe,LEe=DEe,FEe=800,REe=16,UEe=Date.now;function jEe(n){var e=0,t=0;return function(){var r=UEe(),i=REe-(r-t);if(t=r,i>0){if(++e>=FEe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var zEe=jEe,NEe=LEe,WEe=zEe,GEe=WEe(NEe),QEe=GEe,$Ee=jM,YEe=IEe,qEe=QEe;function VEe(n,e){return qEe(YEe(n,e,$Ee),n+"")}var HEe=VEe,ZEe=b2,XEe=n_,JEe=sT,e6e=yd;function t6e(n,e,t){if(!e6e(t))return!1;var r=typeof e;return(r=="number"?XEe(t)&&JEe(e,t.length):r=="string"&&e in t)?ZEe(t[e],n):!1}var n6e=t6e,r6e=HEe,i6e=n6e;function o6e(n){return r6e(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&i6e(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var a6e=o6e,s6e=MEe,l6e=a6e,u6e=l6e(function(n,e,t){s6e(n,e,t)}),hY=u6e,wT={},B2={},MT={};Object.defineProperty(MT,"__esModule",{value:!0});MT.calculateChange=function(e,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,f=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,m=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,C=f-(o.getBoundingClientRect().left+window.pageXOffset),k=m-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var I=void 0;if(k<0?I=0:k>a?I=1:I=Math.round(k*100/a)/100,t.a!==I)return{h:t.h,s:t.s,l:t.l,a:I,source:"rgb"}}else{var K=void 0;if(C<0?K=0:C>s?K=1:K=Math.round(C*100/s)/100,i!==K)return{h:t.h,s:t.s,l:t.l,a:K,source:"rgb"}}return null};var E1={},HM={};Object.defineProperty(HM,"__esModule",{value:!0});var L6={},A6e=HM.render=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};HM.get=function(e,t,r,i){var o=e+"-"+t+"-"+r+(i?"-server":"");if(L6[o])return L6[o];var s=A6e(e,t,r,i);return L6[o]=s,s};Object.defineProperty(E1,"__esModule",{value:!0});E1.Checkboard=void 0;var AF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dY=$n,cF=fY(dY),c6e=Hs,h6e=fY(c6e),d6e=HM,f6e=p6e(d6e);function p6e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function fY(n){return n&&n.__esModule?n:{default:n}}var pY=E1.Checkboard=function(e){var t=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,f=e.children,m=(0,h6e.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+f6e.get(t,r,i,o.canvas)+") center left"}}});return(0,dY.isValidElement)(f)?cF.default.cloneElement(f,AF({},f.props,{style:AF({},f.props.style,m.grid)})):cF.default.createElement("div",{style:m.grid})};pY.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};E1.default=pY;Object.defineProperty(B2,"__esModule",{value:!0});B2.Alpha=void 0;var m6e=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g6e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),U8=$n,e0=ST(U8),y6e=Hs,v6e=ST(y6e),_6e=MT,C6e=w6e(_6e),b6e=E1,x6e=ST(b6e);function w6e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function ST(n){return n&&n.__esModule?n:{default:n}}function M6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function S6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var E6e=B2.Alpha=function(n){S6e(e,n);function e(){var t,r,i,o;M6e(this,e);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=hF(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(m){var C=C6e.calculateChange(m,i.props.hsl,i.props.direction,i.props.a,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),hF(i,o)}return g6e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,v6e.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:m6e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return e0.default.createElement("div",{style:o.alpha},e0.default.createElement("div",{style:o.checkboard},e0.default.createElement(x6e.default,{renderers:this.props.renderers})),e0.default.createElement("div",{style:o.gradient}),e0.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},e0.default.createElement("div",{style:o.pointer},this.props.pointer?e0.default.createElement(this.props.pointer,this.props):e0.default.createElement("div",{style:o.slider}))))}}]),e}(U8.PureComponent||U8.Component);B2.default=E6e;var I2={};Object.defineProperty(I2,"__esModule",{value:!0});I2.EditableInput=void 0;var O6e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),j8=$n,F6=mY(j8),B6e=Hs,I6e=mY(B6e);function mY(n){return n&&n.__esModule?n:{default:n}}function k6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function P6e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function K6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var D6e=1,gY=38,L6e=40,F6e=[gY,L6e],R6e=function(e){return F6e.indexOf(e)>-1},U6e=function(e){return Number(String(e).replace(/%/g,""))},j6e=1,z6e=I2.EditableInput=function(n){K6e(e,n);function e(t){T6e(this,e);var r=P6e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=U6e(i.target.value);if(!isNaN(o)&&R6e(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===gY?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+j6e++,r}return O6e(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return k6e({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||D6e}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,I6e.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return F6.default.createElement("div",{style:i.wrap},F6.default.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?F6.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(j8.PureComponent||j8.Component);I2.default=z6e;var k2={},ET={};Object.defineProperty(ET,"__esModule",{value:!0});ET.calculateChange=function(e,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,m=a-(i.getBoundingClientRect().left+window.pageXOffset),C=f-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var k=void 0;if(C<0)k=359;else if(C>s)k=0;else{var I=-(C*100/s)+100;k=360*I/100}if(r.h!==k)return{h:k,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var K=void 0;if(m<0)K=0;else if(m>o)K=359;else{var L=m*100/o;K=360*L/100}if(r.h!==K)return{h:K,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(k2,"__esModule",{value:!0});k2.Hue=void 0;var N6e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),z8=$n,ay=yY(z8),W6e=Hs,G6e=yY(W6e),Q6e=ET,$6e=Y6e(Q6e);function Y6e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function yY(n){return n&&n.__esModule?n:{default:n}}function q6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function V6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var H6e=k2.Hue=function(n){V6e(e,n);function e(){var t,r,i,o;q6e(this,e);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=dF(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(m){var C=$6e.calculateChange(m,i.props.direction,i.props.hsl,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),dF(i,o)}return N6e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,G6e.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return ay.default.createElement("div",{style:s.hue},ay.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ay.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),ay.default.createElement("div",{style:s.pointer},this.props.pointer?ay.default.createElement(this.props.pointer,this.props):ay.default.createElement("div",{style:s.slider}))))}}]),e}(z8.PureComponent||z8.Component);k2.default=H6e;var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.Raised=void 0;var Z6e=$n,R6=ZM(Z6e),X6e=vf,G3=ZM(X6e),J6e=Hs,eOe=ZM(J6e),tOe=hY,nOe=ZM(tOe);function ZM(n){return n&&n.__esModule?n:{default:n}}var OT=T2.Raised=function(e){var t=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,f=(0,eOe.default)((0,nOe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return R6.default.createElement("div",{style:f.wrap},R6.default.createElement("div",{style:f.bg}),R6.default.createElement("div",{style:f.content},o))};OT.propTypes={background:G3.default.string,zDepth:G3.default.oneOf([0,1,2,3,4,5]),radius:G3.default.number,styles:G3.default.object};OT.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};T2.default=OT;var P2={},rOe=Cf,iOe=function(){return rOe.Date.now()},oOe=iOe,aOe=/\s/;function sOe(n){for(var e=n.length;e--&&aOe.test(n.charAt(e)););return e}var lOe=sOe,uOe=lOe,AOe=/^\s+/;function cOe(n){return n&&n.slice(0,uOe(n)+1).replace(AOe,"")}var hOe=cOe,dOe=hOe,fF=yd,fOe=YM,pF=NaN,pOe=/^[-+]0x[0-9a-f]+$/i,mOe=/^0b[01]+$/i,gOe=/^0o[0-7]+$/i,yOe=parseInt;function vOe(n){if(typeof n=="number")return n;if(fOe(n))return pF;if(fF(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=fF(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=dOe(n);var t=mOe.test(n);return t||gOe.test(n)?yOe(n.slice(2),t?2:8):pOe.test(n)?pF:+n}var _Oe=vOe,COe=yd,U6=oOe,mF=_Oe,bOe="Expected a function",xOe=Math.max,wOe=Math.min;function MOe(n,e,t){var r,i,o,s,a,f,m=0,C=!1,k=!1,I=!0;if(typeof n!="function")throw new TypeError(bOe);e=mF(e)||0,COe(t)&&(C=!!t.leading,k="maxWait"in t,o=k?xOe(mF(t.maxWait)||0,e):o,I="trailing"in t?!!t.trailing:I);function K(Ae){var V=r,re=i;return r=i=void 0,m=Ae,s=n.apply(re,V),s}function L(Ae){return m=Ae,a=setTimeout(H,e),C?K(Ae):s}function q(Ae){var V=Ae-f,re=Ae-m,be=e-V;return k?wOe(be,o-re):be}function X(Ae){var V=Ae-f,re=Ae-m;return f===void 0||V>=e||V<0||k&&re>=o}function H(){var Ae=U6();if(X(Ae))return G(Ae);a=setTimeout(H,q(Ae))}function G(Ae){return a=void 0,I&&r?K(Ae):(r=i=void 0,s)}function ee(){a!==void 0&&clearTimeout(a),m=0,r=f=i=a=void 0}function ne(){return a===void 0?s:G(U6())}function se(){var Ae=U6(),V=X(Ae);if(r=arguments,i=this,f=Ae,V){if(a===void 0)return L(f);if(k)return clearTimeout(a),a=setTimeout(H,e),K(f)}return a===void 0&&(a=setTimeout(H,e)),s}return se.cancel=ee,se.flush=ne,se}var vY=MOe,SOe=vY,EOe=yd,OOe="Expected a function";function BOe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(OOe);return EOe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),SOe(n,e,{leading:r,maxWait:e,trailing:i})}var IOe=BOe,BT={};Object.defineProperty(BT,"__esModule",{value:!0});BT.calculateChange=function(e,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,m=a-(r.getBoundingClientRect().left+window.pageXOffset),C=f-(r.getBoundingClientRect().top+window.pageYOffset);m<0?m=0:m>o&&(m=o),C<0?C=0:C>s&&(C=s);var k=m/o,I=1-C/s;return{h:t.h,s:k,v:I,a:t.a,source:"hsv"}};Object.defineProperty(P2,"__esModule",{value:!0});P2.Saturation=void 0;var kOe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),N8=$n,yg=IT(N8),TOe=Hs,POe=IT(TOe),KOe=IOe,DOe=IT(KOe),LOe=BT,FOe=ROe(LOe);function ROe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function IT(n){return n&&n.__esModule?n:{default:n}}function UOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jOe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function zOe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var NOe=P2.Saturation=function(n){zOe(e,n);function e(t){UOe(this,e);var r=jOe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,FOe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,DOe.default)(function(i,o,s){i(o,s)},50),r}return kOe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,f=i.pointer,m=i.circle,C=(0,POe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:f,circle:m}},{custom:!!this.props.style});return yg.default.createElement("div",{style:C.color,ref:function(I){return r.container=I},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},yg.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),yg.default.createElement("div",{style:C.white,className:"saturation-white"},yg.default.createElement("div",{style:C.black,className:"saturation-black"}),yg.default.createElement("div",{style:C.pointer},this.props.pointer?yg.default.createElement(this.props.pointer,this.props):yg.default.createElement("div",{style:C.circle}))))}}]),e}(N8.PureComponent||N8.Component);P2.default=NOe;var K2={},nc={},WOe=H$,GOe=V$,QOe=B$,$Oe=Ih;function YOe(n,e){var t=$Oe(n)?WOe:GOe;return t(n,QOe(e))}var qOe=YOe,VOe=qOe,_Y={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Cp,function(){function t(Fe){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},t(Fe)}var r=/^\s+/,i=/\s+$/;function o(Fe,ye){if(Fe=Fe||"",ye=ye||{},Fe instanceof o)return Fe;if(!(this instanceof o))return new o(Fe,ye);var ke=s(Fe);this._originalInput=Fe,this._r=ke.r,this._g=ke.g,this._b=ke.b,this._a=ke.a,this._roundA=Math.round(100*this._a)/100,this._format=ye.format||ke.format,this._gradientType=ye.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=ke.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ye=this.toRgb();return(ye.r*299+ye.g*587+ye.b*114)/1e3},getLuminance:function(){var ye=this.toRgb(),ke,Ge,st,ht,Bt,nn;return ke=ye.r/255,Ge=ye.g/255,st=ye.b/255,ke<=.03928?ht=ke/12.92:ht=Math.pow((ke+.055)/1.055,2.4),Ge<=.03928?Bt=Ge/12.92:Bt=Math.pow((Ge+.055)/1.055,2.4),st<=.03928?nn=st/12.92:nn=Math.pow((st+.055)/1.055,2.4),.2126*ht+.7152*Bt+.0722*nn},setAlpha:function(ye){return this._a=Ye(ye),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var ye=C(this._r,this._g,this._b);return{h:ye.h*360,s:ye.s,v:ye.v,a:this._a}},toHsvString:function(){var ye=C(this._r,this._g,this._b),ke=Math.round(ye.h*360),Ge=Math.round(ye.s*100),st=Math.round(ye.v*100);return this._a==1?"hsv("+ke+", "+Ge+"%, "+st+"%)":"hsva("+ke+", "+Ge+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var ye=f(this._r,this._g,this._b);return{h:ye.h*360,s:ye.s,l:ye.l,a:this._a}},toHslString:function(){var ye=f(this._r,this._g,this._b),ke=Math.round(ye.h*360),Ge=Math.round(ye.s*100),st=Math.round(ye.l*100);return this._a==1?"hsl("+ke+", "+Ge+"%, "+st+"%)":"hsla("+ke+", "+Ge+"%, "+st+"%, "+this._roundA+")"},toHex:function(ye){return I(this._r,this._g,this._b,ye)},toHexString:function(ye){return"#"+this.toHex(ye)},toHex8:function(ye){return K(this._r,this._g,this._b,this._a,ye)},toHex8String:function(ye){return"#"+this.toHex8(ye)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(we(this._r,255)*100)+"%",g:Math.round(we(this._g,255)*100)+"%",b:Math.round(we(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(we(this._r,255)*100)+"%, "+Math.round(we(this._g,255)*100)+"%, "+Math.round(we(this._b,255)*100)+"%)":"rgba("+Math.round(we(this._r,255)*100)+"%, "+Math.round(we(this._g,255)*100)+"%, "+Math.round(we(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ue[I(this._r,this._g,this._b,!0)]||!1},toFilter:function(ye){var ke="#"+L(this._r,this._g,this._b,this._a),Ge=ke,st=this._gradientType?"GradientType = 1, ":"";if(ye){var ht=o(ye);Ge="#"+L(ht._r,ht._g,ht._b,ht._a)}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+ke+",endColorstr="+Ge+")"},toString:function(ye){var ke=!!ye;ye=ye||this._format;var Ge=!1,st=this._a<1&&this._a>=0,ht=!ke&&st&&(ye==="hex"||ye==="hex6"||ye==="hex3"||ye==="hex4"||ye==="hex8"||ye==="name");return ht?ye==="name"&&this._a===0?this.toName():this.toRgbString():(ye==="rgb"&&(Ge=this.toRgbString()),ye==="prgb"&&(Ge=this.toPercentageRgbString()),(ye==="hex"||ye==="hex6")&&(Ge=this.toHexString()),ye==="hex3"&&(Ge=this.toHexString(!0)),ye==="hex4"&&(Ge=this.toHex8String(!0)),ye==="hex8"&&(Ge=this.toHex8String()),ye==="name"&&(Ge=this.toName()),ye==="hsl"&&(Ge=this.toHslString()),ye==="hsv"&&(Ge=this.toHsvString()),Ge||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(ye,ke){var Ge=ye.apply(null,[this].concat([].slice.call(ke)));return this._r=Ge._r,this._g=Ge._g,this._b=Ge._b,this.setAlpha(Ge._a),this},lighten:function(){return this._applyModification(G,arguments)},brighten:function(){return this._applyModification(ee,arguments)},darken:function(){return this._applyModification(ne,arguments)},desaturate:function(){return this._applyModification(q,arguments)},saturate:function(){return this._applyModification(X,arguments)},greyscale:function(){return this._applyModification(H,arguments)},spin:function(){return this._applyModification(se,arguments)},_applyCombination:function(ye,ke){return ye.apply(null,[this].concat([].slice.call(ke)))},analogous:function(){return this._applyCombination(be,arguments)},complement:function(){return this._applyCombination(Ae,arguments)},monochromatic:function(){return this._applyCombination(_e,arguments)},splitcomplement:function(){return this._applyCombination(re,arguments)},triad:function(){return this._applyCombination(V,[3])},tetrad:function(){return this._applyCombination(V,[4])}},o.fromRatio=function(Fe,ye){if(t(Fe)=="object"){var ke={};for(var Ge in Fe)Fe.hasOwnProperty(Ge)&&(Ge==="a"?ke[Ge]=Fe[Ge]:ke[Ge]=tt(Fe[Ge]));Fe=ke}return o(Fe,ye)};function s(Fe){var ye={r:0,g:0,b:0},ke=1,Ge=null,st=null,ht=null,Bt=!1,nn=!1;return typeof Fe=="string"&&(Fe=Xt(Fe)),t(Fe)=="object"&&(St(Fe.r)&&St(Fe.g)&&St(Fe.b)?(ye=a(Fe.r,Fe.g,Fe.b),Bt=!0,nn=String(Fe.r).substr(-1)==="%"?"prgb":"rgb"):St(Fe.h)&&St(Fe.s)&&St(Fe.v)?(Ge=tt(Fe.s),st=tt(Fe.v),ye=k(Fe.h,Ge,st),Bt=!0,nn="hsv"):St(Fe.h)&&St(Fe.s)&&St(Fe.l)&&(Ge=tt(Fe.s),ht=tt(Fe.l),ye=m(Fe.h,Ge,ht),Bt=!0,nn="hsl"),Fe.hasOwnProperty("a")&&(ke=Fe.a)),ke=Ye(ke),{ok:Bt,format:Fe.format||nn,r:Math.min(255,Math.max(ye.r,0)),g:Math.min(255,Math.max(ye.g,0)),b:Math.min(255,Math.max(ye.b,0)),a:ke}}function a(Fe,ye,ke){return{r:we(Fe,255)*255,g:we(ye,255)*255,b:we(ke,255)*255}}function f(Fe,ye,ke){Fe=we(Fe,255),ye=we(ye,255),ke=we(ke,255);var Ge=Math.max(Fe,ye,ke),st=Math.min(Fe,ye,ke),ht,Bt,nn=(Ge+st)/2;if(Ge==st)ht=Bt=0;else{var Gt=Ge-st;switch(Bt=nn>.5?Gt/(2-Ge-st):Gt/(Ge+st),Ge){case Fe:ht=(ye-ke)/Gt+(ye<ke?6:0);break;case ye:ht=(ke-Fe)/Gt+2;break;case ke:ht=(Fe-ye)/Gt+4;break}ht/=6}return{h:ht,s:Bt,l:nn}}function m(Fe,ye,ke){var Ge,st,ht;Fe=we(Fe,360),ye=we(ye,100),ke=we(ke,100);function Bt(zn,rr,xn){return xn<0&&(xn+=1),xn>1&&(xn-=1),xn<1/6?zn+(rr-zn)*6*xn:xn<1/2?rr:xn<2/3?zn+(rr-zn)*(2/3-xn)*6:zn}if(ye===0)Ge=st=ht=ke;else{var nn=ke<.5?ke*(1+ye):ke+ye-ke*ye,Gt=2*ke-nn;Ge=Bt(Gt,nn,Fe+1/3),st=Bt(Gt,nn,Fe),ht=Bt(Gt,nn,Fe-1/3)}return{r:Ge*255,g:st*255,b:ht*255}}function C(Fe,ye,ke){Fe=we(Fe,255),ye=we(ye,255),ke=we(ke,255);var Ge=Math.max(Fe,ye,ke),st=Math.min(Fe,ye,ke),ht,Bt,nn=Ge,Gt=Ge-st;if(Bt=Ge===0?0:Gt/Ge,Ge==st)ht=0;else{switch(Ge){case Fe:ht=(ye-ke)/Gt+(ye<ke?6:0);break;case ye:ht=(ke-Fe)/Gt+2;break;case ke:ht=(Fe-ye)/Gt+4;break}ht/=6}return{h:ht,s:Bt,v:nn}}function k(Fe,ye,ke){Fe=we(Fe,360)*6,ye=we(ye,100),ke=we(ke,100);var Ge=Math.floor(Fe),st=Fe-Ge,ht=ke*(1-ye),Bt=ke*(1-st*ye),nn=ke*(1-(1-st)*ye),Gt=Ge%6,zn=[ke,Bt,ht,ht,nn,ke][Gt],rr=[nn,ke,ke,Bt,ht,ht][Gt],xn=[ht,ht,nn,ke,ke,Bt][Gt];return{r:zn*255,g:rr*255,b:xn*255}}function I(Fe,ye,ke,Ge){var st=[$e(Math.round(Fe).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(ke).toString(16))];return Ge&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0):st.join("")}function K(Fe,ye,ke,Ge,st){var ht=[$e(Math.round(Fe).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(ke).toString(16)),$e(nt(Ge))];return st&&ht[0].charAt(0)==ht[0].charAt(1)&&ht[1].charAt(0)==ht[1].charAt(1)&&ht[2].charAt(0)==ht[2].charAt(1)&&ht[3].charAt(0)==ht[3].charAt(1)?ht[0].charAt(0)+ht[1].charAt(0)+ht[2].charAt(0)+ht[3].charAt(0):ht.join("")}function L(Fe,ye,ke,Ge){var st=[$e(nt(Ge)),$e(Math.round(Fe).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(ke).toString(16))];return st.join("")}o.equals=function(Fe,ye){return!Fe||!ye?!1:o(Fe).toRgbString()==o(ye).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function q(Fe,ye){ye=ye===0?0:ye||10;var ke=o(Fe).toHsl();return ke.s-=ye/100,ke.s=pt(ke.s),o(ke)}function X(Fe,ye){ye=ye===0?0:ye||10;var ke=o(Fe).toHsl();return ke.s+=ye/100,ke.s=pt(ke.s),o(ke)}function H(Fe){return o(Fe).desaturate(100)}function G(Fe,ye){ye=ye===0?0:ye||10;var ke=o(Fe).toHsl();return ke.l+=ye/100,ke.l=pt(ke.l),o(ke)}function ee(Fe,ye){ye=ye===0?0:ye||10;var ke=o(Fe).toRgb();return ke.r=Math.max(0,Math.min(255,ke.r-Math.round(255*-(ye/100)))),ke.g=Math.max(0,Math.min(255,ke.g-Math.round(255*-(ye/100)))),ke.b=Math.max(0,Math.min(255,ke.b-Math.round(255*-(ye/100)))),o(ke)}function ne(Fe,ye){ye=ye===0?0:ye||10;var ke=o(Fe).toHsl();return ke.l-=ye/100,ke.l=pt(ke.l),o(ke)}function se(Fe,ye){var ke=o(Fe).toHsl(),Ge=(ke.h+ye)%360;return ke.h=Ge<0?360+Ge:Ge,o(ke)}function Ae(Fe){var ye=o(Fe).toHsl();return ye.h=(ye.h+180)%360,o(ye)}function V(Fe,ye){if(isNaN(ye)||ye<=0)throw new Error("Argument to polyad must be a positive number");for(var ke=o(Fe).toHsl(),Ge=[o(Fe)],st=360/ye,ht=1;ht<ye;ht++)Ge.push(o({h:(ke.h+ht*st)%360,s:ke.s,l:ke.l}));return Ge}function re(Fe){var ye=o(Fe).toHsl(),ke=ye.h;return[o(Fe),o({h:(ke+72)%360,s:ye.s,l:ye.l}),o({h:(ke+216)%360,s:ye.s,l:ye.l})]}function be(Fe,ye,ke){ye=ye||6,ke=ke||30;var Ge=o(Fe).toHsl(),st=360/ke,ht=[o(Fe)];for(Ge.h=(Ge.h-(st*ye>>1)+720)%360;--ye;)Ge.h=(Ge.h+st)%360,ht.push(o(Ge));return ht}function _e(Fe,ye){ye=ye||6;for(var ke=o(Fe).toHsv(),Ge=ke.h,st=ke.s,ht=ke.v,Bt=[],nn=1/ye;ye--;)Bt.push(o({h:Ge,s:st,v:ht})),ht=(ht+nn)%1;return Bt}o.mix=function(Fe,ye,ke){ke=ke===0?0:ke||50;var Ge=o(Fe).toRgb(),st=o(ye).toRgb(),ht=ke/100,Bt={r:(st.r-Ge.r)*ht+Ge.r,g:(st.g-Ge.g)*ht+Ge.g,b:(st.b-Ge.b)*ht+Ge.b,a:(st.a-Ge.a)*ht+Ge.a};return o(Bt)},o.readability=function(Fe,ye){var ke=o(Fe),Ge=o(ye);return(Math.max(ke.getLuminance(),Ge.getLuminance())+.05)/(Math.min(ke.getLuminance(),Ge.getLuminance())+.05)},o.isReadable=function(Fe,ye,ke){var Ge=o.readability(Fe,ye),st,ht;switch(ht=!1,st=Nt(ke),st.level+st.size){case"AAsmall":case"AAAlarge":ht=Ge>=4.5;break;case"AAlarge":ht=Ge>=3;break;case"AAAsmall":ht=Ge>=7;break}return ht},o.mostReadable=function(Fe,ye,ke){var Ge=null,st=0,ht,Bt,nn,Gt;ke=ke||{},Bt=ke.includeFallbackColors,nn=ke.level,Gt=ke.size;for(var zn=0;zn<ye.length;zn++)ht=o.readability(Fe,ye[zn]),ht>st&&(st=ht,Ge=o(ye[zn]));return o.isReadable(Fe,Ge,{level:nn,size:Gt})||!Bt?Ge:(ke.includeFallbackColors=!1,o.mostReadable(Fe,["#fff","#000"],ke))};var Pe=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ue=o.hexNames=pe(Pe);function pe(Fe){var ye={};for(var ke in Fe)Fe.hasOwnProperty(ke)&&(ye[Fe[ke]]=ke);return ye}function Ye(Fe){return Fe=parseFloat(Fe),(isNaN(Fe)||Fe<0||Fe>1)&&(Fe=1),Fe}function we(Fe,ye){ft(Fe)&&(Fe="100%");var ke=bt(Fe);return Fe=Math.min(ye,Math.max(0,parseFloat(Fe))),ke&&(Fe=parseInt(Fe*ye,10)/100),Math.abs(Fe-ye)<1e-6?1:Fe%ye/parseFloat(ye)}function pt(Fe){return Math.min(1,Math.max(0,Fe))}function wt(Fe){return parseInt(Fe,16)}function ft(Fe){return typeof Fe=="string"&&Fe.indexOf(".")!=-1&&parseFloat(Fe)===1}function bt(Fe){return typeof Fe=="string"&&Fe.indexOf("%")!=-1}function $e(Fe){return Fe.length==1?"0"+Fe:""+Fe}function tt(Fe){return Fe<=1&&(Fe=Fe*100+"%"),Fe}function nt(Fe){return Math.round(parseFloat(Fe)*255).toString(16)}function en(Fe){return wt(Fe)/255}var tn=function(){var Fe="[-\\+]?\\d+%?",ye="[-\\+]?\\d*\\.\\d+%?",ke="(?:"+ye+")|(?:"+Fe+")",Ge="[\\s|\\(]+("+ke+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")\\s*\\)?",st="[\\s|\\(]+("+ke+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")\\s*\\)?";return{CSS_UNIT:new RegExp(ke),rgb:new RegExp("rgb"+Ge),rgba:new RegExp("rgba"+st),hsl:new RegExp("hsl"+Ge),hsla:new RegExp("hsla"+st),hsv:new RegExp("hsv"+Ge),hsva:new RegExp("hsva"+st),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function St(Fe){return!!tn.CSS_UNIT.exec(Fe)}function Xt(Fe){Fe=Fe.replace(r,"").replace(i,"").toLowerCase();var ye=!1;if(Pe[Fe])Fe=Pe[Fe],ye=!0;else if(Fe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ke;return(ke=tn.rgb.exec(Fe))?{r:ke[1],g:ke[2],b:ke[3]}:(ke=tn.rgba.exec(Fe))?{r:ke[1],g:ke[2],b:ke[3],a:ke[4]}:(ke=tn.hsl.exec(Fe))?{h:ke[1],s:ke[2],l:ke[3]}:(ke=tn.hsla.exec(Fe))?{h:ke[1],s:ke[2],l:ke[3],a:ke[4]}:(ke=tn.hsv.exec(Fe))?{h:ke[1],s:ke[2],v:ke[3]}:(ke=tn.hsva.exec(Fe))?{h:ke[1],s:ke[2],v:ke[3],a:ke[4]}:(ke=tn.hex8.exec(Fe))?{r:wt(ke[1]),g:wt(ke[2]),b:wt(ke[3]),a:en(ke[4]),format:ye?"name":"hex8"}:(ke=tn.hex6.exec(Fe))?{r:wt(ke[1]),g:wt(ke[2]),b:wt(ke[3]),format:ye?"name":"hex"}:(ke=tn.hex4.exec(Fe))?{r:wt(ke[1]+""+ke[1]),g:wt(ke[2]+""+ke[2]),b:wt(ke[3]+""+ke[3]),a:en(ke[4]+""+ke[4]),format:ye?"name":"hex8"}:(ke=tn.hex3.exec(Fe))?{r:wt(ke[1]+""+ke[1]),g:wt(ke[2]+""+ke[2]),b:wt(ke[3]+""+ke[3]),format:ye?"name":"hex"}:!1}function Nt(Fe){var ye,ke;return Fe=Fe||{level:"AA",size:"small"},ye=(Fe.level||"AA").toUpperCase(),ke=(Fe.size||"small").toLowerCase(),ye!=="AA"&&ye!=="AAA"&&(ye="AA"),ke!=="small"&&ke!=="large"&&(ke="small"),{level:ye,size:ke}}return o})})(_Y);var HOe=_Y.exports;Object.defineProperty(nc,"__esModule",{value:!0});nc.isvalidColorString=nc.red=nc.getContrastingColor=nc.isValidHex=nc.toState=nc.simpleCheckForValidColor=void 0;var ZOe=VOe,XOe=CY(ZOe),JOe=HOe,s5=CY(JOe);function CY(n){return n&&n.__esModule?n:{default:n}}nc.simpleCheckForValidColor=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,XOe.default)(t,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1};var eBe=nc.toState=function(e,t){var r=e.hex?(0,s5.default)(e.hex):(0,s5.default)(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var f=a==="000000"&&s.a===0;return{hsl:i,hex:f?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||t||i.h,source:e.source}};nc.isValidHex=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&(0,s5.default)(e).isValid()};nc.getContrastingColor=function(e){if(!e)return"#fff";var t=eBe(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};nc.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};nc.isvalidColorString=function(e,t){var r=e.replace("","");return(0,s5.default)(t+" ("+r+")")._ok};Object.defineProperty(K2,"__esModule",{value:!0});K2.ColorWrap=void 0;var sC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),W8=$n,nBe=bY(W8),rBe=vY,iBe=bY(rBe),oBe=nc,sy=aBe(oBe);function aBe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function bY(n){return n&&n.__esModule?n:{default:n}}function sBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lBe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function uBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ABe=K2.ColorWrap=function(e){var t=function(r){uBe(i,r);function i(o){sBe(this,i);var s=lBe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,f){var m=sy.simpleCheckForValidColor(a);if(m){var C=sy.toState(a,a.h||s.state.oldHue);s.setState(C),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,C,f),s.props.onChange&&s.props.onChange(C,f)}},s.handleSwatchHover=function(a,f){var m=sy.simpleCheckForValidColor(a);if(m){var C=sy.toState(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(C,f)}},s.state=sC({},sy.toState(o.color,0)),s.debounce=(0,iBe.default)(function(a,f,m){a(f,m)},100),s}return tBe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),nBe.default.createElement(e,sC({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return sC({},sy.toState(s.color,a.oldHue))}}]),i}(W8.PureComponent||W8.Component);return t.propTypes=sC({},e.propTypes),t.defaultProps=sC({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};K2.default=ABe;var D2={},XM={};Object.defineProperty(XM,"__esModule",{value:!0});XM.handleFocus=void 0;var cBe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),dBe=$n,j6=fBe(dBe);function fBe(n){return n&&n.__esModule?n:{default:n}}function pBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function mBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}XM.handleFocus=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mBe(i,r);function i(){var o,s,a,f;pBe(this,i);for(var m=arguments.length,C=Array(m),k=0;k<m;k++)C[k]=arguments[k];return f=(s=(a=gF(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),gF(a,f)}return hBe(i,[{key:"render",value:function(){return j6.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},j6.default.createElement(e,cBe({},this.props,this.state)))}}]),i}(j6.default.Component)};Object.defineProperty(D2,"__esModule",{value:!0});D2.Swatch=void 0;var yF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gBe=$n,vF=kT(gBe),yBe=Hs,vBe=kT(yBe),_Be=XM,CBe=E1,bBe=kT(CBe);function kT(n){return n&&n.__esModule?n:{default:n}}var xBe=13,wBe=D2.Swatch=function(e){var t=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,f=a===void 0?t:a,m=e.children,C=e.focus,k=e.focusStyle,I=k===void 0?{}:k,K=t==="transparent",L=(0,vBe.default)({default:{swatch:yF({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,C?I:{})}}),q=function(ne){return o(t,ne)},X=function(ne){return ne.keyCode===xBe&&o(t,ne)},H=function(ne){return s(t,ne)},G={};return s&&(G.onMouseOver=H),vF.default.createElement("div",yF({style:L.swatch,onClick:q,title:f,tabIndex:0,onKeyDown:X},G),m,K&&vF.default.createElement(bBe.default,{borderRadius:L.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};D2.default=(0,_Be.handleFocus)(wBe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=B2;Object.defineProperty(n,"Alpha",{enumerable:!0,get:function(){return m(e).default}});var t=E1;Object.defineProperty(n,"Checkboard",{enumerable:!0,get:function(){return m(t).default}});var r=I2;Object.defineProperty(n,"EditableInput",{enumerable:!0,get:function(){return m(r).default}});var i=k2;Object.defineProperty(n,"Hue",{enumerable:!0,get:function(){return m(i).default}});var o=T2;Object.defineProperty(n,"Raised",{enumerable:!0,get:function(){return m(o).default}});var s=P2;Object.defineProperty(n,"Saturation",{enumerable:!0,get:function(){return m(s).default}});var a=K2;Object.defineProperty(n,"ColorWrap",{enumerable:!0,get:function(){return m(a).default}});var f=D2;Object.defineProperty(n,"Swatch",{enumerable:!0,get:function(){return m(f).default}});function m(C){return C&&C.__esModule?C:{default:C}}})(wT);var L2={};function MBe(n){return n===void 0}var SBe=MBe,TT={};Object.defineProperty(TT,"__esModule",{value:!0});var _F=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EBe=$n,CF=OBe(EBe);function OBe(n){return n&&n.__esModule?n:{default:n}}function BBe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Q3=24;TT.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Q3:r,o=n.height,s=o===void 0?Q3:o,a=n.style,f=a===void 0?{}:a,m=BBe(n,["fill","width","height","style"]);return CF.default.createElement("svg",_F({viewBox:"0 0 "+Q3+" "+Q3,style:_F({fill:t,width:i,height:s},f)},m),CF.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(L2,"__esModule",{value:!0});L2.ChromeFields=void 0;var IBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),kBe=$n,us=JM(kBe),TBe=Hs,PBe=JM(TBe),KBe=nc,DBe=UBe(KBe),LBe=SBe,bF=JM(LBe),Zp=wT,FBe=TT,RBe=JM(FBe);function UBe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function JM(n){return n&&n.__esModule?n:{default:n}}function jBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zBe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function NBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var xY=L2.ChromeFields=function(n){NBe(e,n);function e(t){jBe(this,e);var r=zBe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?DBe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,bF.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,bF.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return IBe(e,[{key:"render",value:function(){var r=this,i=(0,PBe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=us.default.createElement("div",{style:i.fields,className:"flexbox-fix"},us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=us.default.createElement("div",{style:i.fields,className:"flexbox-fix"},us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),us.default.createElement("div",{style:i.alpha},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=us.default.createElement("div",{style:i.fields,className:"flexbox-fix"},us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),us.default.createElement("div",{style:i.field},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),us.default.createElement("div",{style:i.alpha},us.default.createElement(Zp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),us.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,us.default.createElement("div",{style:i.toggle},us.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},us.default.createElement(RBe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(us.default.Component);xY.defaultProps={view:"hex"};L2.default=xY;var F2={};Object.defineProperty(F2,"__esModule",{value:!0});F2.ChromePointer=void 0;var WBe=$n,GBe=wY(WBe),QBe=Hs,$Be=wY(QBe);function wY(n){return n&&n.__esModule?n:{default:n}}var YBe=F2.ChromePointer=function(){var e=(0,$Be.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return GBe.default.createElement("div",{style:e.picker})};F2.default=YBe;var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.ChromePointerCircle=void 0;var qBe=$n,VBe=MY(qBe),HBe=Hs,ZBe=MY(HBe);function MY(n){return n&&n.__esModule?n:{default:n}}var XBe=R2.ChromePointerCircle=function(){var e=(0,ZBe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return VBe.default.createElement("div",{style:e.picker})};R2.default=XBe;Object.defineProperty(RM,"__esModule",{value:!0});RM.Chrome=void 0;var JBe=$n,ec=O1(JBe),e8e=vf,ly=O1(e8e),t8e=Hs,n8e=O1(t8e),r8e=hY,i8e=O1(r8e),MC=wT,o8e=L2,a8e=O1(o8e),s8e=F2,xF=O1(s8e),l8e=R2,u8e=O1(l8e);function O1(n){return n&&n.__esModule?n:{default:n}}var PT=RM.Chrome=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,f=e.hex,m=e.renderers,C=e.styles,k=C===void 0?{}:C,I=e.className,K=I===void 0?"":I,L=e.defaultView,q=(0,n8e.default)((0,i8e.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},k),{disableAlpha:i});return ec.default.createElement("div",{style:q.picker,className:"chrome-picker "+K},ec.default.createElement("div",{style:q.saturation},ec.default.createElement(MC.Saturation,{style:q.Saturation,hsl:s,hsv:a,pointer:u8e.default,onChange:r})),ec.default.createElement("div",{style:q.body},ec.default.createElement("div",{style:q.controls,className:"flexbox-fix"},ec.default.createElement("div",{style:q.color},ec.default.createElement("div",{style:q.swatch},ec.default.createElement("div",{style:q.active}),ec.default.createElement(MC.Checkboard,{renderers:m}))),ec.default.createElement("div",{style:q.toggles},ec.default.createElement("div",{style:q.hue},ec.default.createElement(MC.Hue,{style:q.Hue,hsl:s,pointer:xF.default,onChange:r})),ec.default.createElement("div",{style:q.alpha},ec.default.createElement(MC.Alpha,{style:q.Alpha,rgb:o,hsl:s,pointer:xF.default,renderers:m,onChange:r})))),ec.default.createElement(a8e.default,{rgb:o,hsl:s,hex:f,view:L,onChange:r,disableAlpha:i})))};PT.propTypes={width:ly.default.oneOfType([ly.default.string,ly.default.number]),disableAlpha:ly.default.bool,styles:ly.default.object,defaultView:ly.default.oneOf(["hex","rgb","hsl"])};PT.defaultProps={width:225,disableAlpha:!1,styles:{}};var A8e=RM.default=(0,MC.ColorWrap)(PT);function Oi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",e="cb6d03ea084207ffce2f89af246bc26074c13af7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Oi=function(){return s},s}Oi();function c8e(n){Oi().f[0]++;const e=(Oi().s[0]++,n.rgb);return Oi().s[1]++,`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}class SY extends kn.Component{constructor(t){Oi().f[1]++,Oi().s[4]++;super(t);pn(this,"state",(Oi().s[2]++,{pickerOpened:!1}));pn(this,"colorInput",(Oi().s[3]++,null));pn(this,"calcPickerOffset",(Oi().s[7]++,()=>{Oi().f[3]++;const t=(Oi().s[8]++,this.colorInput);if(Oi().s[9]++,t){Oi().b[0][0]++;const r=(Oi().s[10]++,t.getBoundingClientRect());return Oi().s[11]++,{top:r.top,left:r.left+196}}else return Oi().b[0][1]++,Oi().s[12]++,{top:160,left:555}}));pn(this,"togglePicker",(Oi().s[13]++,()=>{Oi().f[4]++,Oi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));Oi().s[5]++,this.onChangeNoCheck=tB.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(t){Oi().f[2]++,Oi().s[6]++,this.props.onChange(t)}get color(){Oi().f[5]++,Oi().s[15]++;try{return Oi().s[16]++,MB(this.props.value).rgb()}catch(t){return Oi().s[17]++,console.warn("Error parsing color: ",t),Oi().s[18]++,MB("rgb(255,255,255)")}}onChange(t){Oi().f[6]++,Oi().s[19]++,this.props.onChange(t===""?(Oi().b[1][0]++,void 0):(Oi().b[1][1]++,t))}render(){Oi().f[7]++;const t=(Oi().s[20]++,this.calcPickerOffset()),r=(Oi().s[21]++,this.color.object()),i=(Oi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(Oi().s[23]++,Y.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:t.left,top:t.top},children:[Y.jsx(A8e,{color:i,onChange:a=>(Oi().f[8]++,Oi().s[24]++,this.onChangeNoCheck(c8e(a)))}),Y.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),s=(Oi().s[25]++,{backgroundColor:this.props.value});return Oi().s[26]++,Y.jsxs("div",{className:"maputnik-color-wrapper",children:[(Oi().b[2][0]++,this.state.pickerOpened&&(Oi().b[2][1]++,o)),Y.jsx("div",{className:"maputnik-color-swatch",style:s}),Y.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:a=>(Oi().f[9]++,Oi().s[27]++,this.colorInput=a),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(Oi().b[3][0]++,this.props.value):(Oi().b[3][1]++,""),onChange:a=>(Oi().f[10]++,Oi().s[28]++,this.onChange(a.target.value))})]})}}function Vt(){var n="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",e="ab7734237b4c4e642d73d3a00f670557b7ee2f29",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:39,column:5}},10:{start:{line:31,column:6},end:{line:31,column:58}},11:{start:{line:31,column:31},end:{line:31,column:58}},12:{start:{line:32,column:6},end:{line:34,column:9}},13:{start:{line:35,column:11},end:{line:39,column:5}},14:{start:{line:36,column:6},end:{line:38,column:9}},15:{start:{line:40,column:4},end:{line:42,column:7}},16:{start:{line:45,column:4},end:{line:47,column:5}},17:{start:{line:46,column:6},end:{line:46,column:18}},18:{start:{line:48,column:18},end:{line:48,column:20}},19:{start:{line:49,column:4},end:{line:51,column:5}},20:{start:{line:50,column:6},end:{line:50,column:19}},21:{start:{line:52,column:4},end:{line:54,column:5}},22:{start:{line:53,column:6},end:{line:53,column:19}},23:{start:{line:55,column:4},end:{line:57,column:5}},24:{start:{line:56,column:6},end:{line:56,column:19}},25:{start:{line:58,column:4},end:{line:58,column:16}},26:{start:{line:60,column:15},end:{line:74,column:3}},27:{start:{line:61,column:4},end:{line:61,column:38}},28:{start:{line:62,column:4},end:{line:64,column:5}},29:{start:{line:63,column:6},end:{line:63,column:13}},30:{start:{line:65,column:4},end:{line:73,column:5}},31:{start:{line:66,column:6},end:{line:72,column:7}},32:{start:{line:67,column:8},end:{line:67,column:43}},33:{start:{line:68,column:8},end:{line:68,column:56}},34:{start:{line:70,column:8},end:{line:70,column:33}},35:{start:{line:71,column:8},end:{line:71,column:46}},36:{start:{line:75,column:18},end:{line:100,column:3}},37:{start:{line:76,column:16},end:{line:76,column:42}},38:{start:{line:77,column:17},end:{line:77,column:37}},39:{start:{line:78,column:21},end:{line:78,column:26}},40:{start:{line:79,column:4},end:{line:95,column:5}},41:{start:{line:80,column:19},end:{line:80,column:31}},42:{start:{line:81,column:6},end:{line:94,column:7}},43:{start:{line:82,column:8},end:{line:86,column:9}},44:{start:{line:83,column:10},end:{line:83,column:42}},45:{start:{line:85,column:10},end:{line:85,column:42}},46:{start:{line:87,column:8},end:{line:87,column:27}},47:{start:{line:89,column:8},end:{line:93,column:9}},48:{start:{line:90,column:10},end:{line:90,column:31}},49:{start:{line:92,column:10},end:{line:92,column:40}},50:{start:{line:96,column:4},end:{line:96,column:32}},51:{start:{line:97,column:4},end:{line:97,column:70}},52:{start:{line:98,column:4},end:{line:98,column:41}},53:{start:{line:99,column:4},end:{line:99,column:56}},54:{start:{line:99,column:29},end:{line:99,column:56}},55:{start:{line:102,column:4},end:{line:185,column:5}},56:{start:{line:103,column:20},end:{line:103,column:81}},57:{start:{line:104,column:27},end:{line:104,column:82}},58:{start:{line:106,column:6},end:{line:110,column:7}},59:{start:{line:107,column:8},end:{line:107,column:38}},60:{start:{line:109,column:8},end:{line:109,column:27}},61:{start:{line:111,column:6},end:{line:165,column:11}},62:{start:{line:124,column:14},end:{line:124,column:41}},63:{start:{line:127,column:14},end:{line:127,column:67}},64:{start:{line:130,column:14},end:{line:130,column:69}},65:{start:{line:133,column:14},end:{line:137,column:17}},66:{start:{line:152,column:14},end:{line:152,column:47}},67:{start:{line:155,column:14},end:{line:155,column:47}},68:{start:{line:158,column:14},end:{line:158,column:48}},69:{start:{line:159,column:14},end:{line:159,column:32}},70:{start:{line:167,column:20},end:{line:167,column:81}},71:{start:{line:168,column:6},end:{line:184,column:8}},72:{start:{line:176,column:27},end:{line:176,column:59}},73:{start:{line:178,column:12},end:{line:178,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:43,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:13},end:{line:59,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:60,column:15},end:{line:60,column:16}},loc:{start:{line:60,column:21},end:{line:74,column:3}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:75,column:18},end:{line:75,column:19}},loc:{start:{line:75,column:25},end:{line:100,column:3}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:11},end:{line:186,column:3}},line:101},7:{name:"(anonymous_7)",decl:{start:{line:123,column:23},end:{line:123,column:24}},loc:{start:{line:123,column:29},end:{line:125,column:13}},line:123},8:{name:"(anonymous_8)",decl:{start:{line:126,column:27},end:{line:126,column:28}},loc:{start:{line:126,column:33},end:{line:128,column:13}},line:126},9:{name:"(anonymous_9)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:31},end:{line:131,column:13}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:132,column:20},end:{line:132,column:21}},loc:{start:{line:132,column:26},end:{line:138,column:13}},line:132},11:{name:"(anonymous_11)",decl:{start:{line:151,column:21},end:{line:151,column:22}},loc:{start:{line:151,column:29},end:{line:153,column:13}},line:151},12:{name:"(anonymous_12)",decl:{start:{line:154,column:22},end:{line:154,column:23}},loc:{start:{line:154,column:29},end:{line:156,column:13}},line:154},13:{name:"(anonymous_13)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:28},end:{line:160,column:13}},line:157},14:{name:"(anonymous_14)",decl:{start:{line:176,column:20},end:{line:176,column:21}},loc:{start:{line:176,column:27},end:{line:176,column:59}},line:176},15:{name:"(anonymous_15)",decl:{start:{line:177,column:19},end:{line:177,column:20}},loc:{start:{line:177,column:25},end:{line:179,column:11}},line:177}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:39,column:5}},{start:{line:35,column:11},end:{line:39,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:31,column:58}},type:"if",locations:[{start:{line:31,column:6},end:{line:31,column:58}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:35,column:11},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:11},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},8:{loc:{start:{line:35,column:15},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:15},end:{line:35,column:35}},{start:{line:35,column:39},end:{line:35,column:49}}],line:35},9:{loc:{start:{line:41,column:18},end:{line:41,column:53}},type:"cond-expr",locations:[{start:{line:41,column:36},end:{line:41,column:42}},{start:{line:41,column:45},end:{line:41,column:53}}],line:41},10:{loc:{start:{line:45,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},11:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},12:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},13:{loc:{start:{line:52,column:8},end:{line:52,column:56}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:30}},{start:{line:52,column:34},end:{line:52,column:56}}],line:52},14:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},15:{loc:{start:{line:55,column:8},end:{line:55,column:56}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:30}},{start:{line:55,column:34},end:{line:55,column:56}}],line:55},16:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},17:{loc:{start:{line:65,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},18:{loc:{start:{line:66,column:6},end:{line:72,column:7}},type:"if",locations:[{start:{line:66,column:6},end:{line:72,column:7}},{start:{line:69,column:13},end:{line:72,column:7}}],line:66},19:{loc:{start:{line:79,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},20:{loc:{start:{line:81,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:94,column:7}},{start:{line:88,column:13},end:{line:94,column:7}}],line:81},21:{loc:{start:{line:82,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:86,column:9}},{start:{line:84,column:15},end:{line:86,column:9}}],line:82},22:{loc:{start:{line:89,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:93,column:9}},{start:{line:91,column:15},end:{line:93,column:9}}],line:89},23:{loc:{start:{line:99,column:4},end:{line:99,column:56}},type:"if",locations:[{start:{line:99,column:4},end:{line:99,column:56}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:99},24:{loc:{start:{line:102,column:4},end:{line:185,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:185,column:5}},{start:{line:166,column:11},end:{line:185,column:5}}],line:102},25:{loc:{start:{line:102,column:8},end:{line:102,column:205}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:63}},{start:{line:102,column:67},end:{line:102,column:122}},{start:{line:102,column:126},end:{line:102,column:151}},{start:{line:102,column:155},end:{line:102,column:180}},{start:{line:102,column:184},end:{line:102,column:205}}],line:102},26:{loc:{start:{line:103,column:20},end:{line:103,column:81}},type:"cond-expr",locations:[{start:{line:103,column:41},end:{line:103,column:62}},{start:{line:103,column:65},end:{line:103,column:81}}],line:103},27:{loc:{start:{line:104,column:27},end:{line:104,column:82}},type:"cond-expr",locations:[{start:{line:104,column:59},end:{line:104,column:61}},{start:{line:104,column:64},end:{line:104,column:82}}],line:104},28:{loc:{start:{line:106,column:6},end:{line:110,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:110,column:7}},{start:{line:108,column:13},end:{line:110,column:7}}],line:106},29:{loc:{start:{line:121,column:19},end:{line:121,column:58}},type:"cond-expr",locations:[{start:{line:121,column:38},end:{line:121,column:50}},{start:{line:121,column:53},end:{line:121,column:58}}],line:121},30:{loc:{start:{line:150,column:19},end:{line:150,column:58}},type:"cond-expr",locations:[{start:{line:150,column:43},end:{line:150,column:45}},{start:{line:150,column:48},end:{line:150,column:58}}],line:150},31:{loc:{start:{line:167,column:20},end:{line:167,column:81}},type:"cond-expr",locations:[{start:{line:167,column:41},end:{line:167,column:62}},{start:{line:167,column:65},end:{line:167,column:81}}],line:167},32:{loc:{start:{line:175,column:17},end:{line:175,column:46}},type:"cond-expr",locations:[{start:{line:175,column:36},end:{line:175,column:38}},{start:{line:175,column:41},end:{line:175,column:46}}],line:175}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab7734237b4c4e642d73d3a00f670557b7ee2f29"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Vt=function(){return s},s}Vt();class _p extends kn.Component{constructor(t){Vt().f[0]++,Vt().s[2]++;super(t);pn(this,"_keyboardEvent",(Vt().s[1]++,!1));pn(this,"resetValue",(Vt().s[26]++,()=>{if(Vt().f[4]++,Vt().s[27]++,this.setState({editing:!1}),Vt().s[28]++,this.state.value)Vt().b[16][1]++;else{Vt().b[16][0]++,Vt().s[29]++;return}Vt().s[30]++,this.isValid(this.state.value)?Vt().b[17][1]++:(Vt().b[17][0]++,Vt().s[31]++,this.isValid(this.props.value)?(Vt().b[18][0]++,Vt().s[32]++,this.changeValue(this.props.value),Vt().s[33]++,this.setState({dirtyValue:this.props.value})):(Vt().b[18][1]++,Vt().s[34]++,this.changeValue(void 0),Vt().s[35]++,this.setState({dirtyValue:void 0})))}));pn(this,"onChangeRange",(Vt().s[36]++,t=>{Vt().f[5]++;let r=(Vt().s[37]++,parseFloat(t.target.value));const i=(Vt().s[38]++,this.props.rangeStep);let o=(Vt().s[39]++,r);if(Vt().s[40]++,i){Vt().b[19][0]++;const s=(Vt().s[41]++,r%i);Vt().s[42]++,this._keyboardEvent?(Vt().b[20][0]++,Vt().s[43]++,r<+this.state.dirtyValue?(Vt().b[21][0]++,Vt().s[44]++,r=this.state.value-i):(Vt().b[21][1]++,Vt().s[45]++,r=this.state.value+i),Vt().s[46]++,o=r):(Vt().b[20][1]++,Vt().s[47]++,s<i/2?(Vt().b[22][0]++,Vt().s[48]++,r=r-s):(Vt().b[22][1]++,Vt().s[49]++,r=r+(i-s)))}else Vt().b[19][1]++;Vt().s[50]++,this._keyboardEvent=!1,Vt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),Vt().s[52]++,this.setState({value:r,dirtyValue:o}),Vt().s[53]++,this.props.onChange?(Vt().b[23][0]++,Vt().s[54]++,this.props.onChange(r)):Vt().b[23][1]++}));Vt().s[3]++,this.state={uuid:+Fv(),editing:!1,value:t.value,dirtyValue:t.value}}static getDerivedStateFromProps(t,r){return Vt().f[1]++,Vt().s[4]++,Vt().b[1][0]++,!r.editing&&(Vt().b[1][1]++,t.value!==r.value)?(Vt().b[0][0]++,Vt().s[5]++,{value:t.value,dirtyValue:t.value}):(Vt().b[0][1]++,Vt().s[6]++,null)}changeValue(t){Vt().f[2]++;const r=(Vt().s[7]++,Vt().b[3][0]++,t===""||(Vt().b[3][1]++,t===void 0)?(Vt().b[2][0]++,void 0):(Vt().b[2][1]++,+t)),i=(Vt().s[8]++,this.props.value!==r);Vt().s[9]++,Vt().b[5][0]++,this.isValid(r)&&(Vt().b[5][1]++,i)?(Vt().b[4][0]++,Vt().s[10]++,this.props.onChange?(Vt().b[6][0]++,Vt().s[11]++,this.props.onChange(r)):Vt().b[6][1]++,Vt().s[12]++,this.setState({value:r})):(Vt().b[4][1]++,Vt().s[13]++,Vt().b[8][0]++,!this.isValid(r)&&(Vt().b[8][1]++,i)?(Vt().b[7][0]++,Vt().s[14]++,this.setState({value:void 0})):Vt().b[7][1]++),Vt().s[15]++,this.setState({dirtyValue:t===""?(Vt().b[9][0]++,void 0):(Vt().b[9][1]++,t)})}isValid(t){if(Vt().f[3]++,Vt().s[16]++,t===void 0)return Vt().b[10][0]++,Vt().s[17]++,!0;Vt().b[10][1]++;const r=(Vt().s[18]++,+t);return Vt().s[19]++,isNaN(r)?(Vt().b[11][0]++,Vt().s[20]++,!1):(Vt().b[11][1]++,Vt().s[21]++,Vt().b[13][0]++,!isNaN(this.props.min)&&(Vt().b[13][1]++,r<this.props.min)?(Vt().b[12][0]++,Vt().s[22]++,!1):(Vt().b[12][1]++,Vt().s[23]++,Vt().b[15][0]++,!isNaN(this.props.max)&&(Vt().b[15][1]++,r>this.props.max)?(Vt().b[14][0]++,Vt().s[24]++,!1):(Vt().b[14][1]++,Vt().s[25]++,!0)))}render(){var t,r;if(Vt().f[6]++,Vt().s[55]++,Vt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(Vt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(Vt().b[25][2]++,this.props.min!==void 0)&&(Vt().b[25][3]++,this.props.max!==void 0)&&(Vt().b[25][4]++,this.props.allowRange)){Vt().b[24][0]++;const i=(Vt().s[56]++,this.state.editing?(Vt().b[26][0]++,this.state.dirtyValue):(Vt().b[26][1]++,this.state.value)),o=(Vt().s[57]++,this.props.default===void 0?(Vt().b[27][0]++,""):(Vt().b[27][1]++,this.props.default));let s;return Vt().s[58]++,this.state.editingRange?(Vt().b[28][0]++,Vt().s[59]++,s=this.state.value):(Vt().b[28][1]++,Vt().s[60]++,s=i),Vt().s[61]++,Y.jsxs("div",{className:"maputnik-number-container",children:[Y.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(Vt().b[29][0]++,o):(Vt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{Vt().f[7]++,Vt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{Vt().f[8]++,Vt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{Vt().f[9]++,Vt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{Vt().f[10]++,Vt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),Y.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(t=this.props.default)==null?void 0:t.toString(),value:s===void 0?(Vt().b[30][0]++,""):(Vt().b[30][1]++,s),onFocus:a=>{Vt().f[11]++,Vt().s[66]++,this.setState({editing:!0})},onChange:a=>{Vt().f[12]++,Vt().s[67]++,this.changeValue(a.target.value)},onBlur:a=>{Vt().f[13]++,Vt().s[68]++,this.setState({editing:!1}),Vt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{Vt().b[24][1]++;const i=(Vt().s[70]++,this.state.editing?(Vt().b[31][0]++,this.state.dirtyValue):(Vt().b[31][1]++,this.state.value));return Vt().s[71]++,Y.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(Vt().b[32][0]++,""):(Vt().b[32][1]++,i),onChange:o=>(Vt().f[14]++,Vt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{Vt().f[15]++,Vt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}pn(_p,"defaultProps",(Vt().s[0]++,{rangeStep:1}));function Zf(){var n="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",e="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Zf=function(){return s},s}Zf();class KT extends kn.Component{constructor(){super(...arguments);pn(this,"onChange",(Zf().s[1]++,()=>{Zf().f[0]++,Zf().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Zf().f[1]++,Zf().s[3]++,Y.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[Y.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),Y.jsx("div",{className:"maputnik-checkbox-box",children:Y.jsx("svg",{style:{display:this.props.value?(Zf().b[0][0]++,"inline"):(Zf().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:Y.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}pn(KT,"defaultProps",(Zf().s[0]++,{value:!1}));function xr(){var n="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",e="9ed81d69001830f70ea45ac1502cde5125167d89",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAkC,OAAwB;AACxF,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ed81d69001830f70ea45ac1502cde5125167d89"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return xr=function(){return s},s}xr();var iO;let EY=(iO=class extends kn.Component{constructor(e){xr().f[0]++,xr().s[1]++,super(e),xr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(e,t){xr().f[1]++;const r=(xr().s[3]++,[]),i=(xr().s[4]++,t.initialPropsValue.slice(0));return xr().s[5]++,Array(e.length).fill(null).map((o,s)=>{xr().f[2]++,xr().s[6]++,e.value[s]===t.initialPropsValue[s]?(xr().b[0][0]++,xr().s[7]++,r[s]=t.value[s]):(xr().b[0][1]++,xr().s[8]++,r[s]=t.value[s],xr().s[9]++,i[s]=t.value[s])}),xr().s[10]++,{value:r,initialPropsValue:i}}isComplete(e){return xr().f[3]++,xr().s[11]++,Array(this.props.length).fill(null).every((t,r)=>{xr().f[4]++;const i=(xr().s[12]++,e[r]);return xr().s[13]++,xr().b[1][0]++,!(i===void 0||(xr().b[1][1]++,i===""))})}changeValue(e,t){xr().f[5]++;const r=(xr().s[14]++,this.state.value.slice(0));xr().s[15]++,r[e]=t,xr().s[16]++,this.setState({value:r},()=>{xr().f[6]++,xr().s[17]++,xr().b[3][0]++,this.isComplete(r)&&(xr().b[3][1]++,this.props.onChange)?(xr().b[2][0]++,xr().s[18]++,this.props.onChange(r)):(xr().b[2][1]++,xr().s[19]++,this.props.onChange?(xr().b[4][0]++,xr().s[20]++,this.props.onChange(void 0)):xr().b[4][1]++)})}render(){xr().f[7]++;const{value:e}=(xr().s[21]++,this.state),t=(xr().s[22]++,xr().b[5][0]++,e.length>0&&(xr().b[5][1]++,!e.every(i=>(xr().f[8]++,xr().s[23]++,xr().b[6][0]++,i===""||(xr().b[6][1]++,i===void 0))))),r=(xr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(xr().f[9]++,xr().s[25]++,this.props.type==="number"?(xr().b[7][0]++,xr().s[26]++,Y.jsx(_p,{default:(xr().b[9][0]++,t||(xr().b[9][1]++,!this.props.default)?(xr().b[8][0]++,void 0):(xr().b[8][1]++,this.props.default[o])),value:e[o],required:t?(xr().b[10][0]++,!0):(xr().b[10][1]++,!1),onChange:s=>(xr().f[10]++,xr().s[27]++,this.changeValue(o,s)),"aria-label":(xr().b[11][0]++,this.props["aria-label"]||(xr().b[11][1]++,this.props.label))},o)):(xr().b[7][1]++,xr().s[28]++,Y.jsx(md,{default:(xr().b[13][0]++,t||(xr().b[13][1]++,!this.props.default)?(xr().b[12][0]++,void 0):(xr().b[12][1]++,this.props.default[o])),value:e[o],required:t?(xr().b[14][0]++,!0):(xr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(xr().b[15][0]++,this.props["aria-label"]||(xr().b[15][1]++,this.props.label))},o)))));return xr().s[29]++,Y.jsx("div",{className:"maputnik-array",children:r})}},pn(iO,"defaultProps",(xr().s[0]++,{value:[],default:[]})),iO);function El(){var n="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",e="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return El=function(){return s},s}El();class h8e extends kn.Component{render(){El().f[0]++;let e=(El().s[0]++,this.props.options);El().s[1]++,El().b[1][0]++,e.length>0&&(El().b[1][1]++,!Array.isArray(e[0]))?(El().b[0][0]++,El().s[2]++,e=e.map(i=>(El().f[1]++,El().s[3]++,[i,i]))):El().b[0][1]++;const t=(El().s[4]++,El().b[2][0]++,this.props.value||(El().b[2][1]++,e[0][0])),r=(El().s[5]++,e.map(([i,o])=>(El().f[2]++,El().s[6]++,Y.jsxs("label",{className:yp("maputnik-radio-as-button",{"maputnik-button-selected":i===t}),children:[Y.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(El().f[3]++,El().s[7]++,this.props.onChange(i)),value:i,checked:i===t}),o]},i))));return El().s[8]++,Y.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function _s(){var n="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",e="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return _s=function(){return s},s}_s();function d8e(n){_s().f[0]++;let e=(_s().s[0]++,0);return _s().s[1]++,n.forEach(([t,r])=>{_s().f[1]++,_s().s[2]++,e+=r.length}),_s().s[3]++,e}class DT extends kn.Component{render(){_s().f[2]++;const{options:e,value:t,onChange:r,name:i,label:o}=(_s().s[4]++,this.props);return _s().s[5]++,_s().b[1][0]++,e.length<=3&&(_s().b[1][1]++,d8e(e)<=20)?(_s().b[0][0]++,_s().s[6]++,Y.jsx(h8e,{name:i,options:e,value:(_s().b[2][0]++,t||(_s().b[2][1]++,this.props.default)),onChange:r,"aria-label":(_s().b[3][0]++,this.props["aria-label"]||(_s().b[3][1]++,o))})):(_s().b[0][1]++,_s().s[7]++,Y.jsx(w1,{options:e,value:(_s().b[4][0]++,t||(_s().b[4][1]++,this.props.default)),onChange:r,"aria-label":(_s().b[5][0]++,this.props["aria-label"]||(_s().b[5][1]++,o))}))}}function fv(){var n="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",e="d603f5ded455e8f3bb5709d22f215a115aa4ac65",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:4},end:{line:12,column:9}},2:{start:{line:15,column:19},end:{line:15,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:13,column:3}},line:6}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,SAA0B,uBAAuB;AACjD,OAAO;AAOP,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAU;AACR,UAAM,IAAI,KAAK,MAAM;AACrB,WACE,qBAAC,SAAI,WAAU,cACZ;AAAA,QAAE,QAAQ;AAAA,MAAE;AAAA,MAAE,KAAK,MAAM;AAAA,OAC5B;AAAA,EAEJ;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d603f5ded455e8f3bb5709d22f215a115aa4ac65"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return fv=function(){return s},s}fv();class f8e extends kn.Component{render(){fv().f[0]++;const e=(fv().s[0]++,this.props.t);return fv().s[1]++,Y.jsxs("div",{className:"SmallError",children:[e("Error:")," ",this.props.children]})}}const z6=(fv().s[2]++,qo()(f8e));function Bi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",e="3908e8b0136f6981013335eeedb3fda3fb571648",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:7,column:2},end:{line:9,column:3}},1:{start:{line:8,column:4},end:{line:8,column:11}},2:{start:{line:11,column:22},end:{line:18,column:3}},3:{start:{line:12,column:4},end:{line:17,column:5}},4:{start:{line:13,column:21},end:{line:13,column:34}},5:{start:{line:14,column:6},end:{line:14,column:29}},6:{start:{line:16,column:6},end:{line:16,column:20}},7:{start:{line:19,column:19},end:{line:19,column:35}},8:{start:{line:20,column:16},end:{line:20,column:53}},9:{start:{line:21,column:2},end:{line:41,column:3}},10:{start:{line:22,column:4},end:{line:34,column:5}},11:{start:{line:23,column:6},end:{line:26,column:14}},12:{start:{line:28,column:6},end:{line:33,column:14}},13:{start:{line:35,column:9},end:{line:41,column:3}},14:{start:{line:36,column:4},end:{line:40,column:12}},15:{start:{line:42,column:2},end:{line:42,column:15}},16:{start:{line:45,column:24},end:{line:48,column:3}},17:{start:{line:50,column:4},end:{line:50,column:17}},18:{start:{line:51,column:4},end:{line:53,column:6}},19:{start:{line:55,column:12},end:{line:60,column:3}},20:{start:{line:56,column:4},end:{line:58,column:7}},21:{start:{line:59,column:4},end:{line:59,column:52}},22:{start:{line:59,column:28},end:{line:59,column:52}},23:{start:{line:61,column:13},end:{line:66,column:3}},24:{start:{line:62,column:4},end:{line:64,column:7}},25:{start:{line:65,column:4},end:{line:65,column:29}},26:{start:{line:68,column:4},end:{line:79,column:9}},27:{start:{line:82,column:17},end:{line:82,column:52}}},fnMap:{0:{name:"validate",decl:{start:{line:6,column:9},end:{line:6,column:17}},loc:{start:{line:6,column:26},end:{line:43,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:11,column:22},end:{line:11,column:23}},loc:{start:{line:11,column:32},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:19},end:{line:47,column:5}},line:46},3:{name:"(anonymous_3)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:21},end:{line:54,column:3}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:55,column:12},end:{line:55,column:13}},loc:{start:{line:55,column:21},end:{line:60,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:61,column:13},end:{line:61,column:14}},loc:{start:{line:61,column:22},end:{line:66,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:80,column:3}},line:67}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:21,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:41,column:3}},{start:{line:35,column:9},end:{line:41,column:3}}],line:21},2:{loc:{start:{line:22,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:34,column:5}},{start:{line:27,column:11},end:{line:34,column:5}}],line:22},3:{loc:{start:{line:35,column:9},end:{line:41,column:3}},type:"if",locations:[{start:{line:35,column:9},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:35,column:13},end:{line:35,column:86}},type:"binary-expr",locations:[{start:{line:35,column:13},end:{line:35,column:21}},{start:{line:35,column:25},end:{line:35,column:45}},{start:{line:35,column:49},end:{line:35,column:86}}],line:35},5:{loc:{start:{line:59,column:4},end:{line:59,column:52}},type:"if",locations:[{start:{line:59,column:4},end:{line:59,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4BU,SAAoC,KAApC;AA5BV,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AACvB,SAAS,OAAwB,uBAAuB;AAGxD,SAAS,SAAS,KAAa,GAAuC;AACpE,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,QAAI,OAAO;AACT,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GAC3D;AAAA,IAEJ,OAAO;AACL,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GACnF;AAAA,IAEJ;AAAA,EACF,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,MACwE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G,GACF;AAAA,EAEJ;AAEA,SAAO;AACT;AAsBA,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAA8B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,OAAO,MAAM,CAAC;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3908e8b0136f6981013335eeedb3fda3fb571648"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Bi=function(){return s},s}Bi();function N6(n,e){if(Bi().f[0]++,Bi().s[0]++,n===""){Bi().b[0][0]++,Bi().s[1]++;return}else Bi().b[0][1]++;let t;Bi().s[2]++;const r=s=>{Bi().f[1]++,Bi().s[3]++;try{const a=(Bi().s[4]++,new URL(s));return Bi().s[5]++,a.protocol}catch{Bi().s[6]++;return}},i=(Bi().s[7]++,r(n)),o=(Bi().s[8]++,window.location.protocol==="https:");return Bi().s[9]++,i?(Bi().b[1][1]++,Bi().s[13]++,Bi().b[4][0]++,i&&(Bi().b[4][1]++,i==="http:")&&(Bi().b[4][2]++,window.location.protocol==="https:")?(Bi().b[3][0]++,Bi().s[14]++,t=Y.jsx(z6,{children:Y.jsxs(E0,{t:e,children:["CORS policy won't allow fetching resources served over http from https, use a ",Y.jsx("code",{children:"https://"})," domain"]})})):Bi().b[3][1]++):(Bi().b[1][0]++,Bi().s[10]++,o?(Bi().b[2][0]++,Bi().s[11]++,t=Y.jsx(z6,{children:Y.jsxs(E0,{t:e,children:["Must provide protocol: ",Y.jsx("code",{children:"https://"})]})})):(Bi().b[2][1]++,Bi().s[12]++,t=Y.jsx(z6,{children:Y.jsxs(E0,{t:e,children:["Must provide protocol: ",Y.jsx("code",{children:"http://"})," or ",Y.jsx("code",{children:"https://"})]})}))),Bi().s[15]++,t}class OY extends kn.Component{constructor(t){Bi().f[3]++,Bi().s[17]++;super(t);pn(this,"onInput",(Bi().s[19]++,t=>{Bi().f[4]++,Bi().s[20]++,this.setState({error:N6(t,this.props.t)}),Bi().s[21]++,this.props.onInput?(Bi().b[5][0]++,Bi().s[22]++,this.props.onInput(t)):Bi().b[5][1]++}));pn(this,"onChange",(Bi().s[23]++,t=>{Bi().f[5]++,Bi().s[24]++,this.setState({error:N6(t,this.props.t)}),Bi().s[25]++,this.props.onChange(t)}));Bi().s[18]++,this.state={error:N6(t.value,t.t)}}render(){return Bi().f[6]++,Bi().s[26]++,Y.jsxs("div",{children:[Y.jsx(md,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}}pn(OY,"defaultProps",(Bi().s[16]++,{onInput:()=>{Bi().f[2]++}}));const LT=(Bi().s[27]++,qo()(OY));function Ar(){var n="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",e="b43f9efa2bc6409a39f030c91aca2fefba2121b9",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:14,column:19},end:{line:14,column:39}},1:{start:{line:15,column:4},end:{line:15,column:27}},2:{start:{line:16,column:4},end:{line:16,column:57}},3:{start:{line:16,column:29},end:{line:16,column:57}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:35,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:34,column:57}},17:{start:{line:34,column:29},end:{line:34,column:57}},18:{start:{line:37,column:19},end:{line:37,column:39}},19:{start:{line:38,column:4},end:{line:38,column:31}},20:{start:{line:39,column:4},end:{line:39,column:86}},21:{start:{line:39,column:29},end:{line:39,column:86}},22:{start:{line:42,column:14},end:{line:42,column:26}},23:{start:{line:43,column:22},end:{line:43,column:77}},24:{start:{line:44,column:19},end:{line:104,column:6}},25:{start:{line:45,column:45},end:{line:51,column:7}},26:{start:{line:53,column:6},end:{line:91,column:7}},27:{start:{line:54,column:8},end:{line:61,column:10}},28:{start:{line:62,column:13},end:{line:91,column:7}},29:{start:{line:63,column:8},end:{line:70,column:10}},30:{start:{line:71,column:13},end:{line:91,column:7}},31:{start:{line:72,column:24},end:{line:72,column:99}},32:{start:{line:72,column:78},end:{line:72,column:98}},33:{start:{line:73,column:8},end:{line:81,column:10}},34:{start:{line:83,column:8},end:{line:90,column:10}},35:{start:{line:92,column:6},end:{line:103,column:8}},36:{start:{line:105,column:4},end:{line:115,column:9}},37:{start:{line:118,column:26},end:{line:118,column:70}},38:{start:{line:122,column:14},end:{line:122,column:26}},39:{start:{line:123,column:4},end:{line:136,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:29},end:{line:17,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:35,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:24},end:{line:40,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:116,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:104,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:72,column:70},end:{line:72,column:71}},loc:{start:{line:72,column:78},end:{line:72,column:98}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:11},end:{line:137,column:3}},line:121}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:16,column:57}},type:"if",locations:[{start:{line:16,column:4},end:{line:16,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:34,column:57}},type:"if",locations:[{start:{line:34,column:4},end:{line:34,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:39,column:4},end:{line:39,column:86}},type:"if",locations:[{start:{line:39,column:4},end:{line:39,column:86}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},7:{loc:{start:{line:39,column:49},end:{line:39,column:84}},type:"cond-expr",locations:[{start:{line:39,column:69},end:{line:39,column:75}},{start:{line:39,column:78},end:{line:39,column:84}}],line:39},8:{loc:{start:{line:53,column:6},end:{line:91,column:7}},type:"if",locations:[{start:{line:53,column:6},end:{line:91,column:7}},{start:{line:62,column:13},end:{line:91,column:7}}],line:53},9:{loc:{start:{line:59,column:26},end:{line:59,column:70}},type:"binary-expr",locations:[{start:{line:59,column:26},end:{line:59,column:50}},{start:{line:59,column:54},end:{line:59,column:70}}],line:59},10:{loc:{start:{line:62,column:13},end:{line:91,column:7}},type:"if",locations:[{start:{line:62,column:13},end:{line:91,column:7}},{start:{line:71,column:13},end:{line:91,column:7}}],line:62},11:{loc:{start:{line:68,column:26},end:{line:68,column:70}},type:"binary-expr",locations:[{start:{line:68,column:26},end:{line:68,column:50}},{start:{line:68,column:54},end:{line:68,column:70}}],line:68},12:{loc:{start:{line:71,column:13},end:{line:91,column:7}},type:"if",locations:[{start:{line:71,column:13},end:{line:91,column:7}},{start:{line:82,column:13},end:{line:91,column:7}}],line:71},13:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79},14:{loc:{start:{line:88,column:26},end:{line:88,column:70}},type:"binary-expr",locations:[{start:{line:88,column:26},end:{line:88,column:50}},{start:{line:88,column:54},end:{line:88,column:70}}],line:88}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAqE4B,cAoCf,YApCe;AArE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAEjD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAkBrB,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY,EAAE,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAO;AACxE,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB;AAAA,QAAC;AAAA;AAAA,UACrB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,UACrC,GAAG;AAAA;AAAA,MACN;AACA,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UAEb,YAAE,WAAW;AAAA;AAAA,MAChB;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;AAMf,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,mBAAmB;AAAA,QAE5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b43f9efa2bc6409a39f030c91aca2fefba2121b9"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ar=function(){return s},s}Ar();class p8e extends kn.Component{constructor(){super(...arguments);pn(this,"addValue",(Ar().s[5]++,()=>{Ar().f[2]++;const t=(Ar().s[6]++,this.values.slice(0));if(Ar().s[7]++,this.props.type==="number")Ar().b[2][0]++,Ar().s[8]++,t.push(0);else if(Ar().b[2][1]++,Ar().s[9]++,this.props.type==="url")Ar().b[3][0]++,Ar().s[10]++,t.push("");else if(Ar().b[3][1]++,Ar().s[11]++,this.props.type==="enum"){Ar().b[4][0]++;const{fieldSpec:r}=(Ar().s[12]++,this.props),i=(Ar().s[13]++,Object.keys(r.values)[0]);Ar().s[14]++,t.push(i)}else Ar().b[4][1]++,Ar().s[15]++,t.push("");Ar().s[16]++,this.props.onChange?(Ar().b[5][0]++,Ar().s[17]++,this.props.onChange(t)):Ar().b[5][1]++}))}changeValue(t,r){Ar().f[0]++;const i=(Ar().s[0]++,this.values.slice(0));Ar().s[1]++,i[t]=r,Ar().s[2]++,this.props.onChange?(Ar().b[0][0]++,Ar().s[3]++,this.props.onChange(i)):Ar().b[0][1]++}get values(){return Ar().f[1]++,Ar().s[4]++,Ar().b[1][0]++,this.props.value||(Ar().b[1][1]++,this.props.default)||(Ar().b[1][2]++,[])}deleteValue(t){Ar().f[3]++;const r=(Ar().s[18]++,this.values.slice(0));Ar().s[19]++,r.splice(t,1),Ar().s[20]++,this.props.onChange?(Ar().b[6][0]++,Ar().s[21]++,this.props.onChange(r.length>0?(Ar().b[7][0]++,r):(Ar().b[7][1]++,void 0))):Ar().b[6][1]++}render(){Ar().f[4]++;const t=(Ar().s[22]++,this.props.t),r=(Ar().s[23]++,{t,i18n:this.props.i18n,tReady:this.props.tReady}),i=(Ar().s[24]++,this.values.map((o,s)=>{var m;Ar().f[5]++;const a=(Ar().s[25]++,Y.jsx(m8e,{onClick:this.deleteValue.bind(this,s),...r}));let f;if(Ar().s[26]++,this.props.type==="url")Ar().b[8][0]++,Ar().s[27]++,f=Y.jsx(LT,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(Ar().b[9][0]++,this.props["aria-label"]||(Ar().b[9][1]++,this.props.label))});else if(Ar().b[8][1]++,Ar().s[28]++,this.props.type==="number")Ar().b[10][0]++,Ar().s[29]++,f=Y.jsx(_p,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(Ar().b[11][0]++,this.props["aria-label"]||(Ar().b[11][1]++,this.props.label))});else if(Ar().b[10][1]++,Ar().s[30]++,this.props.type==="enum"){Ar().b[12][0]++;const C=(Ar().s[31]++,Object.keys((m=this.props.fieldSpec)==null?void 0:m.values).map(k=>(Ar().f[6]++,Ar().s[32]++,[k,oT(k)])));Ar().s[33]++,f=Y.jsx(DT,{options:C,value:o,onChange:this.changeValue.bind(this,s),"aria-label":(Ar().b[13][0]++,this.props["aria-label"]||(Ar().b[13][1]++,this.props.label))})}else Ar().b[12][1]++,Ar().s[34]++,f=Y.jsx(md,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(Ar().b[14][0]++,this.props["aria-label"]||(Ar().b[14][1]++,this.props.label))});return Ar().s[35]++,Y.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[Y.jsx("div",{className:"maputnik-array-block-action",children:a}),Y.jsx("div",{className:"maputnik-array-block-content",children:f})]},s)}));return Ar().s[36]++,Y.jsxs("div",{className:"maputnik-array",children:[i,Y.jsx(ja,{className:"maputnik-array-add-value",onClick:this.addValue,children:t("Add value")})]})}}const BY=(Ar().s[37]++,qo()(p8e));class m8e extends kn.Component{render(){Ar().f[7]++;const e=(Ar().s[38]++,this.props.t);return Ar().s[39]++,Y.jsx(ja,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove array item"),children:Y.jsx($k,{label:Y.jsx(Vv,{})})})}}function pa(){var n="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",e="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return pa=function(){return s},s}pa();class IY extends kn.Component{get values(){pa().f[0]++;const e=(pa().s[1]++,pa().b[0][0]++,this.props.value||(pa().b[0][1]++,this.props.default)||(pa().b[0][2]++,[]));return pa().s[2]++,e[e.length-1]!==""?(pa().b[1][0]++,pa().s[3]++,e.concat("")):(pa().b[1][1]++,pa().s[4]++,e)}changeFont(e,t){pa().f[1]++;const r=(pa().s[5]++,this.values.slice(0));pa().s[6]++,r[e]=t;const i=(pa().s[7]++,r.filter(o=>(pa().f[2]++,pa().s[8]++,o!==void 0)).filter(o=>(pa().f[3]++,pa().s[9]++,o!=="")));pa().s[10]++,this.props.onChange(i)}render(){pa().f[4]++;const e=(pa().s[11]++,this.values.map((t,r)=>{var i;return pa().f[5]++,pa().s[12]++,Y.jsx("li",{children:Y.jsx(t_,{"aria-label":(pa().b[2][0]++,this.props["aria-label"]||(pa().b[2][1]++,this.props.name)),value:t,options:(i=this.props.fonts)==null?void 0:i.map(o=>(pa().f[6]++,pa().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return pa().s[14]++,Y.jsx("ul",{className:"maputnik-font",children:e})}}pn(IY,"defaultProps",(pa().s[0]++,{fonts:[]}));function Ki(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",e="8a7e9c26497bbcdc9141a7bf10d3ed50f729d679",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a7e9c26497bbcdc9141a7bf10d3ed50f729d679"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ki=function(){return s},s}Ki();const g8e=(Ki().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let pv=class extends kn.Component{childNodes(){var t,r;Ki().f[0]++;const e=(Ki().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(t=this.props.fieldSpec)==null?void 0:t.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(Ki().f[1]++,Ki().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(Ki().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return Ki().b[0][0]++,Ki().s[4]++,Y.jsx(_p,{...e,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":Ki().b[0][1]++;{const i=(Ki().s[5]++,Object.keys((Ki().b[1][0]++,this.props.fieldSpec.values||(Ki().b[1][1]++,[]))).map(o=>(Ki().f[2]++,Ki().s[6]++,[o,oT(o)])));return Ki().s[7]++,Y.jsx(DT,{...e,options:i})}case"resolvedImage":Ki().b[0][2]++;case"formatted":Ki().b[0][3]++;case"string":if(Ki().b[0][4]++,Ki().s[8]++,g8e.indexOf(this.props.fieldName)>=0){Ki().b[2][0]++;const i=(Ki().s[9]++,Ki().b[3][0]++,this.props.fieldSpec.values||(Ki().b[3][1]++,[]));return Ki().s[10]++,Y.jsx(t_,{...e,options:i.map(o=>(Ki().f[3]++,Ki().s[11]++,[o,o]))})}else return Ki().b[2][1]++,Ki().s[12]++,Y.jsx(md,{...e});case"color":return Ki().b[0][5]++,Ki().s[13]++,Y.jsx(SY,{...e});case"boolean":return Ki().b[0][6]++,Ki().s[14]++,Y.jsx(KT,{...e});case"array":return Ki().b[0][7]++,Ki().s[15]++,this.props.fieldName==="text-font"?(Ki().b[4][0]++,Ki().s[16]++,Y.jsx(IY,{...e,fonts:this.props.fieldSpec.values})):(Ki().b[4][1]++,Ki().s[17]++,this.props.fieldSpec.length?(Ki().b[5][0]++,Ki().s[18]++,Y.jsx(EY,{...e,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(Ki().b[5][1]++,Ki().s[19]++,Y.jsx(BY,{...e,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return Ki().b[0][8]++,Ki().s[20]++,null}}render(){return Ki().f[4]++,Ki().s[21]++,Y.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function gu(){var n="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",e="81a841bc0059d656029a86501c08aa823d58e2d6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAAgD;AACvD,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81a841bc0059d656029a86501c08aa823d58e2d6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return gu=function(){return s},s}gu();class Qb extends kn.Component{constructor(t){gu().f[0]++,gu().s[0]++;super(t);pn(this,"_labelId");pn(this,"onToggleDoc",(gu().s[3]++,t=>{gu().f[1]++,gu().s[4]++,this.setState({showDoc:t})}));gu().s[1]++,this._labelId=Fv("fieldset_label_"),gu().s[2]++,this.state={showDoc:!1}}render(){return gu().f[2]++,gu().s[5]++,Y.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(gu().b[0][0]++,this.props.fieldSpec&&(gu().b[0][1]++,Y.jsx("div",{className:"maputnik-input-block-label",children:Y.jsx($k,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(gu().b[1][0]++,!this.props.fieldSpec&&(gu().b[1][1]++,Y.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),Y.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),Y.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(gu().b[2][0]++,this.props.fieldSpec&&(gu().b[2][1]++,Y.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(gu().b[3][0]++,""):(gu().b[3][1]++,"none")},children:Y.jsx(Yk,{fieldSpec:this.props.fieldSpec})})))]})}}function ea(){var n="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",e="adadf49dc291f98804cd53f74e320ed51f276886",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ea=function(){return s},s}ea();const y8e=(ea().s[0]++,{color:()=>(ea().f[0]++,ea().s[1]++,ga),enum:({fieldSpec:n})=>(ea().f[1]++,ea().s[2]++,Object.keys(n.values).length<=3?(ea().b[0][0]++,Qb):(ea().b[0][1]++,ga)),boolean:()=>(ea().f[2]++,ea().s[3]++,ga),array:()=>(ea().f[3]++,ea().s[4]++,Qb),resolvedImage:()=>(ea().f[4]++,ea().s[5]++,ga),number:()=>(ea().f[5]++,ea().s[6]++,ga),string:()=>(ea().f[6]++,ea().s[7]++,ga),formatted:()=>(ea().f[7]++,ea().s[8]++,ga),padding:()=>(ea().f[8]++,ea().s[9]++,ga)});class v8e extends kn.Component{render(){var i;ea().f[9]++;const e=(ea().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),t=(ea().s[11]++,y8e[e]);let r;return ea().s[12]++,t?(ea().b[1][0]++,ea().s[13]++,r=t(this.props)):(ea().b[1][1]++,ea().s[14]++,console.warn("No such type for '%s'",e),ea().s[15]++,r=ga),ea().s[16]++,Y.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:Y.jsx(pv,{...this.props})})}}function IA(){var n="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",e="e12cc9e5c91261e7ee42544334f5ab56bdde4e3a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:11,column:4},end:{line:48,column:5}},2:{start:{line:12,column:6},end:{line:20,column:8}},3:{start:{line:21,column:6},end:{line:29,column:8}},4:{start:{line:30,column:6},end:{line:40,column:7}},5:{start:{line:31,column:8},end:{line:39,column:10}},6:{start:{line:41,column:6},end:{line:45,column:11}},7:{start:{line:47,column:6},end:{line:47,column:77}},8:{start:{line:51,column:29},end:{line:51,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:49,column:3}},line:8}},branchMap:{0:{loc:{start:{line:11,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:48,column:5}},{start:{line:46,column:11},end:{line:48,column:5}}],line:11},1:{loc:{start:{line:30,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AA2BY,cAsBC,YAtBD;AA3BZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AACjC,SAA0B,uBAAuB;AASjD,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uBAAuB;AAAA,UAEhC,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uCAAuC;AAAA,UAEhD,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAO,EAAE,mCAAmC;AAAA,YAE5C,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;AAEA,MAAM,uBAAuB,gBAAgB,EAAE,4BAA4B;AAC3E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e12cc9e5c91261e7ee42544334f5ab56bdde4e3a"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return IA=function(){return s},s}IA();class _8e extends kn.Component{render(){IA().f[0]++;const e=(IA().s[0]++,this.props.t);let t,r,i;return IA().s[1]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(IA().b[0][0]++,IA().s[2]++,i=Y.jsx(ja,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:e("Convert to expression"),children:Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:Gb})})}),IA().s[3]++,t=Y.jsx(ja,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:e("Convert property into a zoom function"),children:Y.jsx(hie,{})}),IA().s[4]++,this.props.fieldSpec["property-type"]==="data-driven"?(IA().b[1][0]++,IA().s[5]++,r=Y.jsx(ja,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:e("Convert property to data function"),children:Y.jsx(die,{})})):IA().b[1][1]++,IA().s[6]++,Y.jsxs("div",{children:[i,r,t]})):(IA().b[0][1]++,IA().s[7]++,Y.jsx("div",{children:i}))}}const C8e=(IA().s[8]++,qo()(_8e));function Xf(){var n="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",e="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Xf=function(){return s},s}Xf();class kY extends kn.Component{render(){Xf().f[0]++;const{errors:e,fieldName:t,fieldType:r}=(Xf().s[1]++,this.props),i=(Xf().s[2]++,Y.jsx(C8e,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(Xf().s[3]++,e[r+"."+t]);return Xf().s[4]++,Y.jsx(v8e,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:FM((Xf().b[0][0]++,this.props.fieldName||(Xf().b[0][1]++,""))),action:i})}}pn(kY,"defaultProps",(Xf().s[0]++,{errors:{}}));function Dc(){var n="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",e="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Dc=function(){return s},s}Dc();function TY(n,e){Dc().f[0]++;const t=(Dc().s[0]++,+n),r=(Dc().s[1]++,+e);return Dc().s[2]++,t<r?(Dc().b[0][0]++,Dc().s[3]++,-1):(Dc().b[0][1]++,Dc().s[4]++,t>r?(Dc().b[1][0]++,Dc().s[5]++,1):(Dc().b[1][1]++,Dc().s[6]++,0))}function af(){var n="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",e="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return af=function(){return s},s}af();function Xh(n){if(af().f[0]++,af().s[0]++,Object.prototype.hasOwnProperty.call(n,"default"))return af().b[0][0]++,af().s[1]++,n.default;af().b[0][1]++;const e=(af().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return af().s[3]++,af().b[1][0]++,e[n.type]||(af().b[1][1]++,"")}function mv(){var n="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",e="04a32613b456a577be3ef20dcd48d43233f27837",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:17,column:6}},2:{start:{line:20,column:25},end:{line:20,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:18,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAQjD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,6BAA6B;AAAA,QAEtC,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"04a32613b456a577be3ef20dcd48d43233f27837"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return mv=function(){return s},s}mv();class b8e extends kn.Component{render(){mv().f[0]++;const e=(mv().s[0]++,this.props.t);return mv().s[1]++,Y.jsx(ja,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove zoom level from stop"),children:Y.jsx(Vv,{})})}}const PY=(mv().s[2]++,qo()(b8e));function Yt(){var n="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",e="97b6de35ac4a8f739cf06eabc39facf249622fab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:19,column:2},end:{line:28,column:3}},1:{start:{line:20,column:4},end:{line:27,column:7}},2:{start:{line:21,column:6},end:{line:26,column:7}},3:{start:{line:22,column:8},end:{line:24,column:9}},4:{start:{line:23,column:10},end:{line:23,column:33}},5:{start:{line:25,column:8},end:{line:25,column:39}},6:{start:{line:29,column:2},end:{line:29,column:17}},7:{start:{line:32,column:10},end:{line:34,column:3}},8:{start:{line:36,column:20},end:{line:36,column:55}},9:{start:{line:37,column:4},end:{line:41,column:5}},10:{start:{line:38,column:6},end:{line:40,column:9}},11:{start:{line:44,column:20},end:{line:44,column:45}},12:{start:{line:45,column:4},end:{line:49,column:5}},13:{start:{line:46,column:6},end:{line:48,column:8}},14:{start:{line:50,column:4},end:{line:50,column:16}},15:{start:{line:53,column:4},end:{line:55,column:5}},16:{start:{line:54,column:6},end:{line:54,column:27}},17:{start:{line:56,column:4},end:{line:58,column:5}},18:{start:{line:57,column:6},end:{line:57,column:24}},19:{start:{line:59,column:4},end:{line:59,column:25}},20:{start:{line:62,column:4},end:{line:66,column:5}},21:{start:{line:63,column:6},end:{line:63,column:83}},22:{start:{line:65,column:6},end:{line:65,column:53}},23:{start:{line:70,column:26},end:{line:75,column:70}},24:{start:{line:71,column:6},end:{line:74,column:8}},25:{start:{line:75,column:22},end:{line:75,column:69}},26:{start:{line:76,column:20},end:{line:76,column:22}},27:{start:{line:77,column:4},end:{line:79,column:7}},28:{start:{line:78,column:6},end:{line:78,column:30}},29:{start:{line:80,column:4},end:{line:82,column:7}},30:{start:{line:83,column:4},end:{line:83,column:50}},31:{start:{line:83,column:39},end:{line:83,column:48}},32:{start:{line:85,column:13},end:{line:105,column:3}},33:{start:{line:86,column:4},end:{line:103,column:5}},34:{start:{line:87,column:6},end:{line:90,column:8}},35:{start:{line:92,column:24},end:{line:92,column:61}},36:{start:{line:93,column:6},end:{line:102,column:8}},37:{start:{line:104,column:4},end:{line:104,column:42}},38:{start:{line:107,column:18},end:{line:107,column:56}},39:{start:{line:108,column:4},end:{line:114,column:6}},40:{start:{line:115,column:25},end:{line:115,column:53}},41:{start:{line:116,column:25},end:{line:119,column:5}},42:{start:{line:120,column:4},end:{line:120,column:54}},43:{start:{line:123,column:25},end:{line:126,column:5}},44:{start:{line:127,column:4},end:{line:129,column:5}},45:{start:{line:128,column:6},end:{line:128,column:34}},46:{start:{line:130,column:4},end:{line:130,column:60}},47:{start:{line:133,column:4},end:{line:140,column:5}},48:{start:{line:134,column:6},end:{line:134,column:42}},49:{start:{line:136,column:6},end:{line:139,column:9}},50:{start:{line:143,column:4},end:{line:147,column:5}},51:{start:{line:144,column:6},end:{line:144,column:43}},52:{start:{line:146,column:6},end:{line:146,column:40}},53:{start:{line:148,column:4},end:{line:148,column:58}},54:{start:{line:151,column:14},end:{line:151,column:26}},55:{start:{line:152,column:4},end:{line:154,column:5}},56:{start:{line:153,column:6},end:{line:153,column:78}},57:{start:{line:156,column:4},end:{line:204,column:5}},58:{start:{line:157,column:6},end:{line:203,column:9}},59:{start:{line:158,column:26},end:{line:158,column:77}},60:{start:{line:159,column:20},end:{line:159,column:40}},61:{start:{line:160,column:26},end:{line:160,column:79}},62:{start:{line:161,column:22},end:{line:161,column:29}},63:{start:{line:162,column:46},end:{line:162,column:122}},64:{start:{line:163,column:26},end:{line:168,column:9}},65:{start:{line:167,column:33},end:{line:167,column:97}},66:{start:{line:170,column:8},end:{line:174,column:9}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:10},end:{line:173,column:73}},69:{start:{line:175,column:24},end:{line:175,column:28}},70:{start:{line:176,column:8},end:{line:187,column:9}},71:{start:{line:177,column:10},end:{line:186,column:15}},72:{start:{line:182,column:37},end:{line:182,column:101}},73:{start:{line:188,column:8},end:{line:202,column:18}},74:{start:{line:198,column:41},end:{line:198,column:110}},75:{start:{line:205,column:4},end:{line:307,column:12}},76:{start:{line:216,column:39},end:{line:216,column:67}},77:{start:{line:234,column:43},end:{line:234,column:68}},78:{start:{line:249,column:39},end:{line:249,column:83}},79:{start:{line:265,column:42},end:{line:265,column:85}},80:{start:{line:310,column:21},end:{line:310,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:17,column:9},end:{line:17,column:20}},loc:{start:{line:17,column:35},end:{line:30,column:1}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:30},end:{line:20,column:31}},loc:{start:{line:20,column:45},end:{line:27,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:22},end:{line:42,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:48},end:{line:51,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:34},end:{line:60,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:34},end:{line:67,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:69,column:2},end:{line:69,column:3}},loc:{start:{line:69,column:26},end:{line:84,column:3}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:51},end:{line:75,column:5}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:75,column:12},end:{line:75,column:13}},loc:{start:{line:75,column:22},end:{line:75,column:69}},line:75},9:{name:"(anonymous_9)",decl:{start:{line:77,column:26},end:{line:77,column:27}},loc:{start:{line:77,column:41},end:{line:79,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:83,column:29},end:{line:83,column:30}},loc:{start:{line:83,column:39},end:{line:83,column:48}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:85,column:13},end:{line:85,column:14}},loc:{start:{line:85,column:35},end:{line:105,column:3}},line:85},12:{name:"(anonymous_12)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:41},end:{line:121,column:3}},line:106},13:{name:"(anonymous_13)",decl:{start:{line:122,column:2},end:{line:122,column:3}},loc:{start:{line:122,column:23},end:{line:131,column:3}},line:122},14:{name:"(anonymous_14)",decl:{start:{line:132,column:2},end:{line:132,column:3}},loc:{start:{line:132,column:26},end:{line:141,column:3}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:40},end:{line:149,column:3}},line:142},16:{name:"(anonymous_16)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:308,column:3}},line:150},17:{name:"(anonymous_17)",decl:{start:{line:157,column:46},end:{line:157,column:47}},loc:{start:{line:157,column:61},end:{line:203,column:7}},line:157},18:{name:"(anonymous_18)",decl:{start:{line:167,column:20},end:{line:167,column:21}},loc:{start:{line:167,column:33},end:{line:167,column:97}},line:167},19:{name:"(anonymous_19)",decl:{start:{line:182,column:24},end:{line:182,column:25}},loc:{start:{line:182,column:37},end:{line:182,column:101}},line:182},20:{name:"(anonymous_20)",decl:{start:{line:198,column:24},end:{line:198,column:25}},loc:{start:{line:198,column:41},end:{line:198,column:110}},line:198},21:{name:"(anonymous_21)",decl:{start:{line:216,column:26},end:{line:216,column:27}},loc:{start:{line:216,column:39},end:{line:216,column:67}},line:216},22:{name:"(anonymous_22)",decl:{start:{line:234,column:26},end:{line:234,column:27}},loc:{start:{line:234,column:43},end:{line:234,column:68}},line:234},23:{name:"(anonymous_23)",decl:{start:{line:249,column:26},end:{line:249,column:27}},loc:{start:{line:249,column:39},end:{line:249,column:83}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:265,column:26},end:{line:265,column:27}},loc:{start:{line:265,column:42},end:{line:265,column:85}},line:265}},branchMap:{0:{loc:{start:{line:19,column:2},end:{line:28,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:28,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:6},end:{line:19,column:38}},type:"binary-expr",locations:[{start:{line:19,column:6},end:{line:19,column:17}},{start:{line:19,column:21},end:{line:19,column:38}}],line:19},2:{loc:{start:{line:21,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:21,column:6},end:{line:26,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},3:{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:37,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:45,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:49,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},6:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},7:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},8:{loc:{start:{line:62,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:66,column:5}},{start:{line:64,column:11},end:{line:66,column:5}}],line:62},9:{loc:{start:{line:86,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:103,column:5}},{start:{line:91,column:11},end:{line:103,column:5}}],line:86},10:{loc:{start:{line:92,column:24},end:{line:92,column:61}},type:"cond-expr",locations:[{start:{line:92,column:55},end:{line:92,column:57}},{start:{line:92,column:60},end:{line:92,column:61}}],line:92},11:{loc:{start:{line:107,column:18},end:{line:107,column:56}},type:"binary-expr",locations:[{start:{line:107,column:18},end:{line:107,column:50}},{start:{line:107,column:54},end:{line:107,column:56}}],line:107},12:{loc:{start:{line:111,column:14},end:{line:111,column:58}},type:"cond-expr",locations:[{start:{line:111,column:41},end:{line:111,column:42}},{start:{line:111,column:45},end:{line:111,column:58}}],line:111},13:{loc:{start:{line:127,column:4},end:{line:129,column:5}},type:"if",locations:[{start:{line:127,column:4},end:{line:129,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:127},14:{loc:{start:{line:133,column:4},end:{line:140,column:5}},type:"if",locations:[{start:{line:133,column:4},end:{line:140,column:5}},{start:{line:135,column:11},end:{line:140,column:5}}],line:133},15:{loc:{start:{line:133,column:8},end:{line:133,column:70}},type:"binary-expr",locations:[{start:{line:133,column:8},end:{line:133,column:33}},{start:{line:133,column:37},end:{line:133,column:70}}],line:133},16:{loc:{start:{line:143,column:4},end:{line:147,column:5}},type:"if",locations:[{start:{line:143,column:4},end:{line:147,column:5}},{start:{line:145,column:11},end:{line:147,column:5}}],line:143},17:{loc:{start:{line:152,column:4},end:{line:154,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:154,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152},18:{loc:{start:{line:156,column:4},end:{line:204,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:204,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:156},19:{loc:{start:{line:158,column:26},end:{line:158,column:77}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:68}},{start:{line:158,column:71},end:{line:158,column:77}}],line:158},20:{loc:{start:{line:160,column:26},end:{line:160,column:79}},type:"cond-expr",locations:[{start:{line:160,column:56},end:{line:160,column:69}},{start:{line:160,column:72},end:{line:160,column:79}}],line:160},21:{loc:{start:{line:170,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:174,column:9}},{start:{line:172,column:15},end:{line:174,column:9}}],line:170},22:{loc:{start:{line:176,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:176,column:8},end:{line:187,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:176},23:{loc:{start:{line:224,column:8},end:{line:239,column:9}},type:"binary-expr",locations:[{start:{line:224,column:8},end:{line:224,column:45}},{start:{line:224,column:65},end:{line:239,column:9}}],line:224},24:{loc:{start:{line:255,column:8},end:{line:270,column:9}},type:"binary-expr",locations:[{start:{line:255,column:8},end:{line:255,column:18}},{start:{line:255,column:38},end:{line:270,column:9}}],line:255},25:{loc:{start:{line:271,column:8},end:{line:279,column:15}},type:"binary-expr",locations:[{start:{line:271,column:8},end:{line:271,column:18}},{start:{line:271,column:38},end:{line:279,column:15}}],line:271},26:{loc:{start:{line:281,column:10},end:{line:292,column:11}},type:"binary-expr",locations:[{start:{line:281,column:10},end:{line:281,column:20}},{start:{line:281,column:40},end:{line:292,column:11}}],line:281}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAqO8B,cA8Bf,YA9Be;AArO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAClC,SAA0B,uBAAuB;AAEjD,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc,EAAE,aAAa;AAAA,UAC7B,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,EAAE,cAAc;AAAA,cAC5B,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAGnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAGf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO,EAAE,8CAA8C;AAAA,gBACvD,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,SAAS;AAAA,YAGlB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAI,YAAE,aAAa,GAAE;AAAA,YACtB,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA,gBAAE,EAAE,UAAU;AAAA;AAAA;AAAA,UACtB;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA,gBAAE,EAAE,uBAAuB;AAAA;AAAA;AAAA,UACnC;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97b6de35ac4a8f739cf06eabc39facf249622fab"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Yt=function(){return s},s}Yt();function wF(n,e){Yt().f[0]++;let t;return Yt().s[0]++,Yt().b[1][0]++,n.value&&(Yt().b[1][1]++,n.value.stops)?(Yt().b[0][0]++,Yt().s[1]++,n.value.stops.forEach((r,i)=>{Yt().f[1]++,Yt().s[2]++,Object.prototype.hasOwnProperty.call(e.refs,i)?Yt().b[2][1]++:(Yt().b[2][0]++,Yt().s[3]++,t?Yt().b[3][1]++:(Yt().b[3][0]++,Yt().s[4]++,t={...e}),Yt().s[5]++,t[i]=Fv("stop-"))})):Yt().b[0][1]++,Yt().s[6]++,t}class x8e extends kn.Component{constructor(){super(...arguments);pn(this,"state",(Yt().s[7]++,{refs:{}}));pn(this,"onChange",(Yt().s[32]++,(t,r)=>{if(Yt().f[11]++,Yt().s[33]++,r.type==="identity")Yt().b[9][0]++,Yt().s[34]++,r={type:r.type,property:r.property};else{Yt().b[9][1]++;const i=(Yt().s[35]++,r.type==="categorical"?(Yt().b[10][0]++,""):(Yt().b[10][1]++,0));Yt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},Xh(this.props.fieldSpec)],[{zoom:10,value:i},Xh(this.props.fieldSpec)]],...r}}Yt().s[37]++,this.props.onChange(t,r)}))}componentDidMount(){Yt().f[2]++;const t=(Yt().s[8]++,wF(this.props,this.state));Yt().s[9]++,t?(Yt().b[4][0]++,Yt().s[10]++,this.setState({refs:t})):Yt().b[4][1]++}static getDerivedStateFromProps(t,r){Yt().f[3]++;const i=(Yt().s[11]++,wF(t,r));return Yt().s[12]++,i?(Yt().b[5][0]++,Yt().s[13]++,{refs:i}):(Yt().b[5][1]++,Yt().s[14]++,null)}getFieldFunctionType(t){return Yt().f[4]++,Yt().s[15]++,t.expression.interpolated?(Yt().b[6][0]++,Yt().s[16]++,"exponential"):(Yt().b[6][1]++,Yt().s[17]++,t.type==="number"?(Yt().b[7][0]++,Yt().s[18]++,"interval"):(Yt().b[7][1]++,Yt().s[19]++,"categorical"))}getDataFunctionTypes(t){return Yt().f[5]++,Yt().s[20]++,t.expression.interpolated?(Yt().b[8][0]++,Yt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Yt().b[8][1]++,Yt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(t){Yt().f[6]++;const r=(Yt().s[23]++,t.map((o,s)=>(Yt().f[7]++,Yt().s[24]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Yt().f[8]++,Yt().s[25]++,TY(o.data[0].zoom,s.data[0].zoom)))),i=(Yt().s[26]++,{});return Yt().s[27]++,r.forEach((o,s)=>{Yt().f[9]++,Yt().s[28]++,i[s]=o.ref}),Yt().s[29]++,this.setState({refs:i}),Yt().s[30]++,r.map(o=>(Yt().f[10]++,Yt().s[31]++,o.data))}changeStop(t,r,i){var f;Yt().f[12]++;const o=(Yt().s[38]++,Yt().b[11][0]++,((f=this.props.value)==null?void 0:f.stops.slice(0))||(Yt().b[11][1]++,[]));Yt().s[39]++,o[t]=[{value:r.value,zoom:r.zoom===void 0?(Yt().b[12][0]++,0):(Yt().b[12][1]++,r.zoom)},i];const s=(Yt().s[40]++,this.orderStopsByZoom(o)),a=(Yt().s[41]++,{...this.props.value,stops:s});Yt().s[42]++,this.onChange(this.props.fieldName,a)}changeBase(t){Yt().f[13]++;const r=(Yt().s[43]++,{...this.props.value,base:t});Yt().s[44]++,r.base===void 0?(Yt().b[13][0]++,Yt().s[45]++,delete r.base):Yt().b[13][1]++,Yt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(t){Yt().f[14]++,Yt().s[47]++,Yt().b[15][0]++,t==="interpolate"&&(Yt().b[15][1]++,this.props.onChangeToZoomFunction)?(Yt().b[14][0]++,Yt().s[48]++,this.props.onChangeToZoomFunction()):(Yt().b[14][1]++,Yt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:t}))}changeDataProperty(t,r){Yt().f[15]++,Yt().s[50]++,r?(Yt().b[16][0]++,Yt().s[51]++,this.props.value[t]=r):(Yt().b[16][1]++,Yt().s[52]++,delete this.props.value[t]),Yt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var i,o,s,a,f,m,C,k;Yt().f[16]++;const t=(Yt().s[54]++,this.props.t);Yt().s[55]++,typeof((i=this.props.value)==null?void 0:i.type)>"u"?(Yt().b[17][0]++,Yt().s[56]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Yt().b[17][1]++;let r;return Yt().s[57]++,(o=this.props.value)!=null&&o.stops?(Yt().b[18][0]++,Yt().s[58]++,r=this.props.value.stops.map((I,K)=>{var Ae,V;Yt().f[17]++;const L=(Yt().s[59]++,typeof I[0]=="object"?(Yt().b[19][0]++,I[0].zoom):(Yt().b[19][1]++,void 0)),q=(Yt().s[60]++,this.state.refs[K]),X=(Yt().s[61]++,typeof I[0]=="object"?(Yt().b[20][0]++,I[0].value):(Yt().b[20][1]++,I[0])),H=(Yt().s[62]++,I[1]),G=(Yt().s[63]++,Y.jsx(PY,{onClick:(Ae=this.props.onDeleteStop)==null?void 0:Ae.bind(this,K)})),ee=(Yt().s[64]++,{"aria-label":t("Input value"),label:t("Data value"),value:X,onChange:re=>(Yt().f[18]++,Yt().s[65]++,this.changeStop(K,{zoom:L,value:re},H))});let ne;Yt().s[66]++,((V=this.props.value)==null?void 0:V.type)==="categorical"?(Yt().b[21][0]++,Yt().s[67]++,ne=Y.jsx(md,{...ee})):(Yt().b[21][1]++,Yt().s[68]++,ne=Y.jsx(_p,{...ee}));let se=(Yt().s[69]++,null);return Yt().s[70]++,L!==void 0?(Yt().b[22][0]++,Yt().s[71]++,se=Y.jsx("div",{children:Y.jsx(_p,{"aria-label":"Zoom",value:L,onChange:re=>(Yt().f[19]++,Yt().s[72]++,this.changeStop(K,{zoom:re,value:X},H)),min:0,max:22})})):Yt().b[22][1]++,Yt().s[73]++,Y.jsxs("tr",{children:[Y.jsx("td",{children:se}),Y.jsx("td",{children:ne}),Y.jsx("td",{children:Y.jsx(pv,{"aria-label":t("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:H,onChange:(re,be)=>(Yt().f[20]++,Yt().s[74]++,this.changeStop(K,{zoom:L,value:X},be))})}),Y.jsx("td",{children:G})]},q)})):Yt().b[18][1]++,Yt().s[75]++,Y.jsx("div",{className:"maputnik-data-spec-block",children:Y.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Y.jsx("legend",{children:FM(this.props.fieldName)}),Y.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Y.jsx(ga,{label:t("Function"),children:Y.jsx("div",{className:"maputnik-data-spec-property-input",children:Y.jsx(w1,{value:this.props.value.type,onChange:I=>(Yt().f[21]++,Yt().s[76]++,this.changeDataType(I)),title:t("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Yt().b[23][0]++,((s=this.props.value)==null?void 0:s.type)!=="identity"&&(Yt().b[23][1]++,Y.jsx(ga,{label:t("Base"),children:Y.jsx("div",{className:"maputnik-data-spec-property-input",children:Y.jsx(pv,{fieldName:"base",fieldSpec:Ao.function.base,value:(a=this.props.value)==null?void 0:a.base,onChange:(I,K)=>(Yt().f[22]++,Yt().s[77]++,this.changeBase(K))})})},"base"))),Y.jsx(ga,{label:"Property",children:Y.jsx("div",{className:"maputnik-data-spec-property-input",children:Y.jsx(md,{value:(f=this.props.value)==null?void 0:f.property,title:t("Input a data property to base styles off of."),onChange:I=>(Yt().f[23]++,Yt().s[78]++,this.changeDataProperty("property",I))})})},"property"),(Yt().b[24][0]++,r&&(Yt().b[24][1]++,Y.jsx(ga,{label:t("Default"),children:Y.jsx(pv,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(m=this.props.value)==null?void 0:m.default,onChange:(I,K)=>(Yt().f[24]++,Yt().s[79]++,this.changeDataProperty("default",K))})},"default"))),(Yt().b[25][0]++,r&&(Yt().b[25][1]++,Y.jsx("div",{className:"maputnik-function-stop",children:Y.jsxs("table",{className:"maputnik-function-stop-table",children:[Y.jsx("caption",{children:t("Stops")}),Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:t("Zoom")}),Y.jsx("th",{children:t("Input value")}),Y.jsx("th",{rowSpan:2,children:t("Output value")})]})}),Y.jsx("tbody",{children:r})]})}))),Y.jsxs("div",{className:"maputnik-toolbox",children:[(Yt().b[26][0]++,r&&(Yt().b[26][1]++,Y.jsxs(ja,{className:"maputnik-add-stop",onClick:(C=this.props.onAddStop)==null?void 0:C.bind(this),children:[Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:nT})})," ",t("Add stop")]}))),Y.jsxs(ja,{className:"maputnik-add-stop",onClick:(k=this.props.onExpressionClick)==null?void 0:k.bind(this),children:[Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:Gb})})," ",t("Convert to expression")]})]})]})]})})}}const w8e=(Yt().s[80]++,qo()(x8e));function Qn(){var n="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",e="6a4c93b52ca21ec4b555a0d2906ee27fc49f34f8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:16,column:16},end:{line:16,column:18}},1:{start:{line:17,column:2},end:{line:28,column:3}},2:{start:{line:18,column:4},end:{line:27,column:7}},3:{start:{line:19,column:6},end:{line:26,column:7}},4:{start:{line:20,column:8},end:{line:22,column:9}},5:{start:{line:21,column:10},end:{line:21,column:33}},6:{start:{line:23,column:8},end:{line:23,column:39}},7:{start:{line:25,column:8},end:{line:25,column:39}},8:{start:{line:29,column:2},end:{line:29,column:17}},9:{start:{line:32,column:24},end:{line:34,column:3}},10:{start:{line:35,column:10},end:{line:37,column:3}},11:{start:{line:39,column:20},end:{line:39,column:55}},12:{start:{line:40,column:4},end:{line:44,column:5}},13:{start:{line:41,column:6},end:{line:43,column:9}},14:{start:{line:47,column:20},end:{line:47,column:45}},15:{start:{line:48,column:4},end:{line:52,column:5}},16:{start:{line:49,column:6},end:{line:51,column:8}},17:{start:{line:53,column:4},end:{line:53,column:16}},18:{start:{line:57,column:26},end:{line:62,column:60}},19:{start:{line:58,column:6},end:{line:61,column:8}},20:{start:{line:62,column:22},end:{line:62,column:59}},21:{start:{line:63,column:20},end:{line:63,column:22}},22:{start:{line:64,column:4},end:{line:66,column:7}},23:{start:{line:65,column:6},end:{line:65,column:30}},24:{start:{line:67,column:4},end:{line:69,column:7}},25:{start:{line:70,column:4},end:{line:70,column:50}},26:{start:{line:70,column:39},end:{line:70,column:48}},27:{start:{line:73,column:18},end:{line:73,column:49}},28:{start:{line:74,column:4},end:{line:74,column:41}},29:{start:{line:75,column:25},end:{line:75,column:53}},30:{start:{line:76,column:25},end:{line:79,column:5}},31:{start:{line:80,column:4},end:{line:80,column:60}},32:{start:{line:83,column:25},end:{line:86,column:5}},33:{start:{line:87,column:4},end:{line:89,column:5}},34:{start:{line:88,column:6},end:{line:88,column:34}},35:{start:{line:90,column:4},end:{line:90,column:60}},36:{start:{line:92,column:19},end:{line:96,column:3}},37:{start:{line:93,column:4},end:{line:95,column:5}},38:{start:{line:94,column:6},end:{line:94,column:46}},39:{start:{line:98,column:14},end:{line:98,column:26}},40:{start:{line:99,column:23},end:{line:132,column:6}},41:{start:{line:100,column:24},end:{line:100,column:31}},42:{start:{line:101,column:20},end:{line:101,column:27}},43:{start:{line:102,column:44},end:{line:102,column:120}},44:{start:{line:103,column:6},end:{line:131,column:8}},45:{start:{line:112,column:43},end:{line:112,column:87}},46:{start:{line:124,column:43},end:{line:124,column:88}},47:{start:{line:133,column:4},end:{line:201,column:12}},48:{start:{line:144,column:39},end:{line:144,column:67}},49:{start:{line:161,column:43},end:{line:161,column:68}},50:{start:{line:204,column:4},end:{line:208,column:5}},51:{start:{line:205,column:6},end:{line:205,column:83}},52:{start:{line:207,column:6},end:{line:207,column:29}},53:{start:{line:211,column:21},end:{line:211,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:35},end:{line:30,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:18,column:30},end:{line:18,column:31}},loc:{start:{line:18,column:45},end:{line:27,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:22},end:{line:45,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:48},end:{line:54,column:3}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:26},end:{line:71,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:57,column:36},end:{line:57,column:37}},loc:{start:{line:57,column:51},end:{line:62,column:5}},line:57},6:{name:"(anonymous_6)",decl:{start:{line:62,column:12},end:{line:62,column:13}},loc:{start:{line:62,column:22},end:{line:62,column:59}},line:62},7:{name:"(anonymous_7)",decl:{start:{line:64,column:26},end:{line:64,column:27}},loc:{start:{line:64,column:41},end:{line:66,column:5}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:70,column:29},end:{line:70,column:30}},loc:{start:{line:70,column:39},end:{line:70,column:48}},line:70},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:45},end:{line:81,column:3}},line:72},10:{name:"(anonymous_10)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:23},end:{line:91,column:3}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:92,column:19},end:{line:92,column:20}},loc:{start:{line:92,column:29},end:{line:96,column:3}},line:92},12:{name:"(anonymous_12)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:11},end:{line:202,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:99,column:51},end:{line:99,column:52}},loc:{start:{line:99,column:66},end:{line:132,column:5}},line:99},14:{name:"(anonymous_14)",decl:{start:{line:112,column:26},end:{line:112,column:27}},loc:{start:{line:112,column:43},end:{line:112,column:87}},line:112},15:{name:"(anonymous_15)",decl:{start:{line:124,column:26},end:{line:124,column:27}},loc:{start:{line:124,column:43},end:{line:124,column:88}},line:124},16:{name:"(anonymous_16)",decl:{start:{line:144,column:26},end:{line:144,column:27}},loc:{start:{line:144,column:39},end:{line:144,column:67}},line:144},17:{name:"(anonymous_17)",decl:{start:{line:161,column:26},end:{line:161,column:27}},loc:{start:{line:161,column:43},end:{line:161,column:68}},line:161},18:{name:"(anonymous_18)",decl:{start:{line:203,column:2},end:{line:203,column:3}},loc:{start:{line:203,column:34},end:{line:209,column:3}},line:203}},branchMap:{0:{loc:{start:{line:17,column:2},end:{line:28,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:28,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:17,column:6},end:{line:17,column:38}},type:"binary-expr",locations:[{start:{line:17,column:6},end:{line:17,column:17}},{start:{line:17,column:21},end:{line:17,column:38}}],line:17},2:{loc:{start:{line:19,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:26,column:7}},{start:{line:24,column:13},end:{line:26,column:7}}],line:19},3:{loc:{start:{line:20,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:22,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},4:{loc:{start:{line:40,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:44,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},5:{loc:{start:{line:48,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},6:{loc:{start:{line:87,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:89,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87},7:{loc:{start:{line:93,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},8:{loc:{start:{line:93,column:8},end:{line:93,column:67}},type:"binary-expr",locations:[{start:{line:93,column:8},end:{line:93,column:30}},{start:{line:93,column:34},end:{line:93,column:67}}],line:93},9:{loc:{start:{line:204,column:4},end:{line:208,column:5}},type:"if",locations:[{start:{line:204,column:4},end:{line:208,column:5}},{start:{line:206,column:11},end:{line:208,column:5}}],line:204}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA+J4B,cACf,YADe;AA/J5B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AACnB,SAA0B,uBAAuB;AAEjD,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC3F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,MAAM;AAAA,gBACpB,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,cAAc;AAAA,gBAC5B,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK,GAAG,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;AAAA,MAuB5B;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAEnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAEf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA,gBAAE,EAAE,UAAU;AAAA;AAAA;AAAA,UACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA,gBAAE,EAAE,uBAAuB;AAAA;AAAA;AAAA,UACnC;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a4c93b52ca21ec4b555a0d2906ee27fc49f34f8"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Qn=function(){return s},s}Qn();function MF(n,e){Qn().f[0]++;let t=(Qn().s[0]++,{});return Qn().s[1]++,Qn().b[1][0]++,n.value&&(Qn().b[1][1]++,n.value.stops)?(Qn().b[0][0]++,Qn().s[2]++,n.value.stops.forEach((r,i)=>{Qn().f[1]++,Qn().s[3]++,Object.prototype.hasOwnProperty.call(!e.refs,i)?(Qn().b[2][0]++,Qn().s[4]++,t?Qn().b[3][1]++:(Qn().b[3][0]++,Qn().s[5]++,t={...e}),Qn().s[6]++,t[i]=Fv("stop-")):(Qn().b[2][1]++,Qn().s[7]++,t[i]=e.refs[i])})):Qn().b[0][1]++,Qn().s[8]++,t}class KY extends kn.Component{constructor(){super(...arguments);pn(this,"state",(Qn().s[10]++,{refs:{}}));pn(this,"changeDataType",(Qn().s[36]++,t=>{Qn().f[11]++,Qn().s[37]++,Qn().b[8][0]++,t!=="interpolate"&&(Qn().b[8][1]++,this.props.onChangeToDataFunction)?(Qn().b[7][0]++,Qn().s[38]++,this.props.onChangeToDataFunction(t)):Qn().b[7][1]++}))}componentDidMount(){Qn().f[2]++;const t=(Qn().s[11]++,MF(this.props,this.state));Qn().s[12]++,t?(Qn().b[4][0]++,Qn().s[13]++,this.setState({refs:t})):Qn().b[4][1]++}static getDerivedStateFromProps(t,r){Qn().f[3]++;const i=(Qn().s[14]++,MF(t,r));return Qn().s[15]++,i?(Qn().b[5][0]++,Qn().s[16]++,{refs:i}):(Qn().b[5][1]++,Qn().s[17]++,null)}orderStopsByZoom(t){Qn().f[4]++;const r=(Qn().s[18]++,t.map((o,s)=>(Qn().f[5]++,Qn().s[19]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Qn().f[6]++,Qn().s[20]++,TY(o.data[0],s.data[0])))),i=(Qn().s[21]++,{});return Qn().s[22]++,r.forEach((o,s)=>{Qn().f[7]++,Qn().s[23]++,i[s]=o.ref}),Qn().s[24]++,this.setState({refs:i}),Qn().s[25]++,r.map(o=>(Qn().f[8]++,Qn().s[26]++,o.data))}changeZoomStop(t,r,i){Qn().f[9]++;const o=(Qn().s[27]++,this.props.value.stops.slice(0));Qn().s[28]++,o[t]=[r,i];const s=(Qn().s[29]++,this.orderStopsByZoom(o)),a=(Qn().s[30]++,{...this.props.value,stops:s});Qn().s[31]++,this.props.onChange(this.props.fieldName,a)}changeBase(t){Qn().f[10]++;const r=(Qn().s[32]++,{...this.props.value,base:t});Qn().s[33]++,r.base===void 0?(Qn().b[6][0]++,Qn().s[34]++,delete r.base):Qn().b[6][1]++,Qn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var i,o,s,a;Qn().f[12]++;const t=(Qn().s[39]++,this.props.t),r=(Qn().s[40]++,(i=this.props.value)==null?void 0:i.stops.map((f,m)=>{var K;Qn().f[13]++;const C=(Qn().s[41]++,f[0]),k=(Qn().s[42]++,f[1]),I=(Qn().s[43]++,Y.jsx(PY,{onClick:(K=this.props.onDeleteStop)==null?void 0:K.bind(this,m)}));return Qn().s[44]++,Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsx(_p,{"aria-label":t("Zoom"),value:C,onChange:L=>(Qn().f[14]++,Qn().s[45]++,this.changeZoomStop(m,L,k)),min:0,max:22})}),Y.jsx("td",{children:Y.jsx(pv,{"aria-label":t("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:k,onChange:(L,q)=>(Qn().f[15]++,Qn().s[46]++,this.changeZoomStop(m,C,q))})}),Y.jsx("td",{children:I})]},`${f[0]}-${f[1]}`)}));return Qn().s[47]++,Y.jsx("div",{className:"maputnik-data-spec-block",children:Y.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[Y.jsx("legend",{children:FM(this.props.fieldName)}),Y.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[Y.jsx(ga,{label:t("Function"),children:Y.jsx("div",{className:"maputnik-data-spec-property-input",children:Y.jsx(w1,{value:"interpolate",onChange:f=>(Qn().f[16]++,Qn().s[48]++,this.changeDataType(f)),title:t("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),Y.jsx(ga,{label:t("Base"),children:Y.jsx("div",{className:"maputnik-data-spec-property-input",children:Y.jsx(pv,{fieldName:"base",fieldSpec:Ao.function.base,value:(o=this.props.value)==null?void 0:o.base,onChange:(f,m)=>(Qn().f[17]++,Qn().s[49]++,this.changeBase(m))})})}),Y.jsx("div",{className:"maputnik-function-stop",children:Y.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[Y.jsx("caption",{children:t("Stops")}),Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:t("Zoom")}),Y.jsx("th",{rowSpan:2,children:t("Output value")})]})}),Y.jsx("tbody",{children:r})]})}),Y.jsxs("div",{className:"maputnik-toolbox",children:[Y.jsxs(ja,{className:"maputnik-add-stop",onClick:(s=this.props.onAddStop)==null?void 0:s.bind(this),children:[Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:nT})})," ",t("Add stop")]}),Y.jsxs(ja,{className:"maputnik-add-stop",onClick:(a=this.props.onExpressionClick)==null?void 0:a.bind(this),children:[Y.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:Y.jsx("path",{fill:"currentColor",d:Gb})})," ",t("Convert to expression")]})]})]})]})})}getDataFunctionTypes(t){return Qn().f[18]++,Qn().s[50]++,t["property-type"]==="data-driven"?(Qn().b[9][0]++,Qn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(Qn().b[9][1]++,Qn().s[52]++,["interpolate"])}}pn(KY,"defaultProps",(Qn().s[9]++,{errors:{}}));const M8e=(Qn().s[53]++,qo()(KY));function _t(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",e="36be9049018d9eb4ab6b3a8eeeb8db87a4e7a5ee",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAqC,OAA2B;AAE9F,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"36be9049018d9eb4ab6b3a8eeeb8db87a4e7a5ee"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return _t=function(){return s},s}_t();function SF(n){return _t().f[0]++,_t().s[0]++,_t().b[0][0]++,Array.isArray(n)&&(_t().b[0][1]++,n.length===2)&&(_t().b[0][2]++,n[0]==="literal")}function EF(n){return _t().f[1]++,_t().s[1]++,_t().b[1][0]++,Array.isArray(n)&&(_t().b[1][1]++,n.length===2)&&(_t().b[1][2]++,n[0]==="get")}function S8e(n){return _t().f[2]++,_t().s[2]++,_t().b[2][0]++,typeof n=="object"&&(_t().b[2][1]++,n.stops)&&(_t().b[2][2]++,typeof n.property>"u")&&(_t().b[2][3]++,Array.isArray(n.stops))&&(_t().b[2][4]++,n.stops.length>1)&&(_t().b[2][5]++,n.stops.every(e=>(_t().f[3]++,_t().s[3]++,_t().b[3][0]++,Array.isArray(e)&&(_t().b[3][1]++,e.length===2))))}function DY(n){return _t().f[4]++,_t().s[4]++,_t().b[4][0]++,typeof n=="object"&&(_t().b[4][1]++,n.type==="identity")&&(_t().b[4][2]++,Object.prototype.hasOwnProperty.call(n,"property"))}function E8e(n){return _t().f[5]++,_t().s[5]++,_t().b[5][0]++,typeof n=="object"&&(_t().b[5][1]++,n.stops)&&(_t().b[5][2]++,typeof n.property<"u")&&(_t().b[5][3]++,n.stops.length>1)&&(_t().b[5][4]++,Array.isArray(n.stops))&&(_t().b[5][5]++,n.stops.every(e=>(_t().f[6]++,_t().s[6]++,_t().b[6][0]++,Array.isArray(e)&&(_t().b[6][1]++,e.length===2)&&(_t().b[6][2]++,typeof e[0]=="object"))))}function O8e(n){return _t().f[7]++,_t().s[7]++,_t().b[7][0]++,DY(n)||(_t().b[7][1]++,E8e(n))}function FT(n){_t().f[8]++;const e=(_t().s[8]++,["string","boolean","number"]);return _t().s[9]++,e.includes(typeof n)}function B8e(n){return _t().f[9]++,_t().s[10]++,Array.isArray(n)?(_t().b[8][0]++,_t().s[11]++,n.every(FT)):(_t().b[8][1]++,_t().s[12]++,!1)}function OF(n,e=(_t().b[9][0]++,{})){return _t().f[10]++,_t().s[13]++,n===void 0?(_t().b[10][0]++,_t().s[14]++,"value"):(_t().b[10][1]++,_t().s[15]++,FT(n)?(_t().b[11][0]++,_t().s[16]++,"value"):(_t().b[11][1]++,_t().s[17]++,_t().b[13][0]++,e.type==="array"&&(_t().b[13][1]++,B8e(n))?(_t().b[12][0]++,_t().s[18]++,"value"):(_t().b[12][1]++,_t().s[19]++,S8e(n)?(_t().b[14][0]++,_t().s[20]++,"zoom_function"):(_t().b[14][1]++,_t().s[21]++,O8e(n)?(_t().b[15][0]++,_t().s[22]++,"data_function"):(_t().b[15][1]++,_t().s[23]++,"expression")))))}class I8e extends kn.Component{constructor(t){_t().f[11]++,_t().s[24]++;super(t);pn(this,"addStop",(_t().s[34]++,()=>{_t().f[14]++;const t=(_t().s[35]++,this.props.value.stops.slice(0)),r=(_t().s[36]++,t[t.length-1]);_t().s[37]++,typeof r[0]=="object"?(_t().b[19][0]++,_t().s[38]++,t.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(_t().b[19][1]++,_t().s[39]++,t.push([r[0]+1,r[1]]));const i=(_t().s[40]++,{...this.props.value,stops:t});_t().s[41]++,this.props.onChange(this.props.fieldName,i)}));pn(this,"deleteExpression",(_t().s[42]++,()=>{_t().f[15]++;const{fieldSpec:t,fieldName:r}=(_t().s[43]++,this.props);_t().s[44]++,this.props.onChange(r,t.default),_t().s[45]++,this.setState({dataType:"value"})}));pn(this,"deleteStop",(_t().s[46]++,t=>{_t().f[16]++;const r=(_t().s[47]++,this.props.value.stops.slice(0));_t().s[48]++,r.splice(t,1);let i=(_t().s[49]++,{...this.props.value,stops:r});_t().s[50]++,r.length===1?(_t().b[20][0]++,_t().s[51]++,i=r[0][1]):_t().b[20][1]++,_t().s[52]++,this.props.onChange(this.props.fieldName,i)}));pn(this,"makeZoomFunction",(_t().s[53]++,()=>{_t().f[17]++;const{value:t}=(_t().s[54]++,this.props);let r;_t().s[55]++,typeof t=="object"?(_t().b[21][0]++,_t().s[56]++,t.stops?(_t().b[22][0]++,_t().s[57]++,r={base:t.base,stops:t.stops.map(i=>(_t().f[18]++,_t().s[58]++,[i[0].zoom,(_t().b[23][0]++,i[1]||(_t().b[23][1]++,Xh(this.props.fieldSpec)))]))}):(_t().b[22][1]++,_t().s[59]++,r={base:t.base,stops:[[6,Xh(this.props.fieldSpec)],[10,Xh(this.props.fieldSpec)]]})):(_t().b[21][1]++,_t().s[60]++,r={stops:[[6,(_t().b[24][0]++,t||(_t().b[24][1]++,Xh(this.props.fieldSpec)))],[10,(_t().b[25][0]++,t||(_t().b[25][1]++,Xh(this.props.fieldSpec)))]]}),_t().s[61]++,this.props.onChange(this.props.fieldName,r)}));pn(this,"undoExpression",(_t().s[62]++,()=>{_t().f[19]++;const{value:t,fieldName:r}=(_t().s[63]++,this.props);_t().s[64]++,EF(t)?(_t().b[26][0]++,_t().s[65]++,this.props.onChange(r,{type:"identity",property:t[1]}),_t().s[66]++,this.setState({dataType:"value"})):(_t().b[26][1]++,_t().s[67]++,SF(t)?(_t().b[27][0]++,_t().s[68]++,this.props.onChange(r,t[1]),_t().s[69]++,this.setState({dataType:"value"})):_t().b[27][1]++)}));pn(this,"canUndo",(_t().s[70]++,()=>{_t().f[20]++;const{value:t,fieldSpec:r}=(_t().s[71]++,this.props);return _t().s[72]++,_t().b[28][0]++,EF(t)||(_t().b[28][1]++,SF(t))||(_t().b[28][2]++,FT(t))||(_t().b[28][3]++,Array.isArray(t)&&(_t().b[28][4]++,r.type==="array"))}));pn(this,"makeExpression",(_t().s[73]++,()=>{_t().f[21]++;const{value:t,fieldSpec:r}=(_t().s[74]++,this.props);let i;_t().s[75]++,_t().b[30][0]++,typeof t=="object"&&(_t().b[30][1]++,"stops"in t)?(_t().b[29][0]++,_t().s[76]++,i=xre.convertFunction(t,r)):(_t().b[29][1]++,_t().s[77]++,DY(t)?(_t().b[31][0]++,_t().s[78]++,i=["get",t.property]):(_t().b[31][1]++,_t().s[79]++,i=["literal",(_t().b[32][0]++,t||(_t().b[32][1]++,this.props.fieldSpec.default))])),_t().s[80]++,this.props.onChange(this.props.fieldName,i)}));pn(this,"makeDataFunction",(_t().s[81]++,()=>{_t().f[22]++;const t=(_t().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(_t().s[83]++,t==="categorical"?(_t().b[33][0]++,""):(_t().b[33][1]++,0)),{value:i}=(_t().s[84]++,this.props);let o;_t().s[85]++,typeof i=="object"?(_t().b[34][0]++,_t().s[86]++,i.stops?(_t().b[35][0]++,_t().s[87]++,o={property:"",type:t,base:i.base,stops:i.stops.map(s=>(_t().f[23]++,_t().s[88]++,[{zoom:s[0],value:r},(_t().b[36][0]++,s[1]||(_t().b[36][1]++,Xh(this.props.fieldSpec)))]))}):(_t().b[35][1]++,_t().s[89]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},Xh(this.props.fieldSpec)],[{zoom:10,value:r},Xh(this.props.fieldSpec)]]})):(_t().b[34][1]++,_t().s[90]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},(_t().b[37][0]++,this.props.value||(_t().b[37][1]++,Xh(this.props.fieldSpec)))],[{zoom:10,value:r},(_t().b[38][0]++,this.props.value||(_t().b[38][1]++,Xh(this.props.fieldSpec)))]]}),_t().s[91]++,this.props.onChange(this.props.fieldName,o)}));pn(this,"onMarkEditing",(_t().s[92]++,()=>{_t().f[24]++,_t().s[93]++,this.setState({isEditing:!0})}));pn(this,"onUnmarkEditing",(_t().s[94]++,()=>{_t().f[25]++,_t().s[95]++,this.setState({isEditing:!1})}));_t().s[25]++,this.state={dataType:OF(t.value,t.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(t,r){return _t().f[12]++,_t().s[26]++,r.isEditing?(_t().b[16][0]++,_t().s[27]++,{}):(_t().b[16][1]++,_t().s[28]++,{isEditing:!1,dataType:OF(t.value,t.fieldSpec)})}getFieldFunctionType(t){return _t().f[13]++,_t().s[29]++,t.expression.interpolated?(_t().b[17][0]++,_t().s[30]++,"exponential"):(_t().b[17][1]++,_t().s[31]++,t.type==="number"?(_t().b[18][0]++,_t().s[32]++,"interval"):(_t().b[18][1]++,_t().s[33]++,"categorical"))}render(){_t().f[26]++;const{dataType:t}=(_t().s[96]++,this.state),r=(_t().s[97]++,this.props.fieldSpec.default===this.props.value?(_t().b[39][0]++,"maputnik-default-property"):(_t().b[39][1]++,"maputnik-modified-property"));let i;return _t().s[98]++,t==="expression"?(_t().b[40][0]++,_t().s[99]++,i=Y.jsx(_$,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(_t().b[40][1]++,_t().s[100]++,t==="zoom_function"?(_t().b[41][0]++,_t().s[101]++,i=Y.jsx(M8e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(_t().b[41][1]++,_t().s[102]++,t==="data_function"?(_t().b[42][0]++,_t().s[103]++,i=Y.jsx(w8e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(_t().b[42][1]++,_t().s[104]++,i=Y.jsx(kY,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),_t().s[105]++,Y.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function Di(){var n="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",e="411d3be261f729b266d6cb26884b34616b925c83",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Di=function(){return s},s}Di();const k8e=(Di().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function T8e(n,e,t){Di().f[0]++;const r=(Di().s[1]++,LY(n,e,t)),i=(Di().s[2]++,n[r+"_"+e]),o=(Di().s[3]++,i[t]);return Di().s[4]++,k8e.indexOf(t)>=0?(Di().b[0][0]++,Di().s[5]++,{...o,values:n.$root.sprite.values}):(Di().b[0][1]++,Di().s[6]++,t==="text-font"?(Di().b[1][0]++,Di().s[7]++,{...o,values:n.$root.glyphs.values}):(Di().b[1][1]++,Di().s[8]++,o))}function LY(n,e,t){Di().f[1]++;const r=(Di().s[9]++,Di().b[2][0]++,n["paint_"+e]||(Di().b[2][1]++,{}));return Di().s[10]++,t in r?(Di().b[3][0]++,Di().s[11]++,"paint"):(Di().b[3][1]++,Di().s[12]++,"layout")}class P8e extends kn.Component{constructor(){super(...arguments);pn(this,"onPropertyChange",(Di().s[13]++,(t,r)=>{Di().f[2]++;const i=(Di().s[14]++,LY(this.props.spec,this.props.layer.type,t));Di().s[15]++,this.props.onChange(i,t,r)}))}render(){Di().f[3]++;const{errors:t}=(Di().s[16]++,this.props),r=(Di().s[17]++,this.props.groupFields.map(i=>{Di().f[4]++;const o=(Di().s[18]++,T8e(this.props.spec,this.props.layer.type,i)),s=(Di().s[19]++,Di().b[4][0]++,this.props.layer.paint||(Di().b[4][1]++,{})),a=(Di().s[20]++,Di().b[5][0]++,this.props.layer.layout||(Di().b[5][1]++,{})),f=(Di().s[21]++,i in s?(Di().b[6][0]++,s[i]):(Di().b[6][1]++,a[i])),m=(Di().s[22]++,i in s?(Di().b[7][0]++,"paint"):(Di().b[7][1]++,"layout"));return Di().s[23]++,Y.jsx(I8e,{errors:t,onChange:this.onPropertyChange,fieldName:i,value:f,fieldType:m,fieldSpec:o},i)}));return Di().s[24]++,Y.jsx("div",{className:"maputnik-property-group",children:r})}}var K8e=function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=2)}([function(n,e){n.exports=vf},function(n,e){n.exports=$n},function(n,e,t){t.r(e);var r=t(1),i=t(0),o=function(){return(o=Object.assign||function(L){for(var q,X=1,H=arguments.length;X<H;X++)for(var G in q=arguments[X])Object.prototype.hasOwnProperty.call(q,G)&&(L[G]=q[G]);return L}).apply(this,arguments)},s=function(L,q){var X={};for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&q.indexOf(H)<0&&(X[H]=L[H]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(H=Object.getOwnPropertySymbols(L);G<H.length;G++)q.indexOf(H[G])<0&&Object.prototype.propertyIsEnumerable.call(L,H[G])&&(X[H[G]]=L[H[G]])}return X},a=0,f=r.forwardRef(function(L,q){var X=L.title,H=X===void 0?null:X,G=L.description,ee=G===void 0?null:G,ne=L.size,se=ne===void 0?null:ne,Ae=L.color,V=Ae===void 0?"currentColor":Ae,re=L.horizontal,be=re===void 0?null:re,_e=L.vertical,Pe=_e===void 0?null:_e,Ue=L.rotate,pe=Ue===void 0?null:Ue,Ye=L.spin,we=Ye===void 0?null:Ye,pt=L.style,wt=pt===void 0?{}:pt,ft=L.children,bt=s(L,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var $e,tt=we!==null&&we,nt=r.Children.map(ft,function(Xt){var Nt=Xt;tt!==!0&&(tt=(we===null?Nt.props.spin:we)===!0);var Fe=Nt.props.size;typeof se=="number"&&typeof Nt.props.size=="number"&&(Fe=Nt.props.size/se);var ye={size:Fe,color:V===null?Nt.props.color:V,horizontal:be===null?Nt.props.horizontal:be,vertical:Pe===null?Nt.props.vertical:Pe,rotate:pe===null?Nt.props.rotate:pe,spin:we===null?Nt.props.spin:we,inStack:!0};return r.cloneElement(Nt,ye)});se!==null&&(wt.width=typeof se=="string"?se:1.5*se+"rem");var en,tn="stack_labelledby_"+a,St="stack_describedby_"+a;if(H)$e=ee?tn+" "+St:tn;else if(en="presentation",ee)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:q,viewBox:"0 0 24 24",style:wt,role:en,"aria-labelledby":$e},bt),H&&r.createElement("title",{id:tn},H),ee&&r.createElement("desc",{id:St},ee),tt&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),nt)});f.displayName="Stack",f.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var m=f;t.d(e,"Icon",function(){return K}),t.d(e,"Stack",function(){return m});var C=function(){return(C=Object.assign||function(L){for(var q,X=1,H=arguments.length;X<H;X++)for(var G in q=arguments[X])Object.prototype.hasOwnProperty.call(q,G)&&(L[G]=q[G]);return L}).apply(this,arguments)},k=function(L,q){var X={};for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&q.indexOf(H)<0&&(X[H]=L[H]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(H=Object.getOwnPropertySymbols(L);G<H.length;G++)q.indexOf(H[G])<0&&Object.prototype.propertyIsEnumerable.call(L,H[G])&&(X[H[G]]=L[H[G]])}return X},I=0,K=r.forwardRef(function(L,q){var X=L.path,H=L.id,G=H===void 0?++I:H,ee=L.title,ne=ee===void 0?null:ee,se=L.description,Ae=se===void 0?null:se,V=L.size,re=V===void 0?null:V,be=L.color,_e=be===void 0?"currentColor":be,Pe=L.horizontal,Ue=Pe!==void 0&&Pe,pe=L.vertical,Ye=pe!==void 0&&pe,we=L.rotate,pt=we===void 0?0:we,wt=L.spin,ft=wt!==void 0&&wt,bt=L.style,$e=bt===void 0?{}:bt,tt=L.inStack,nt=tt!==void 0&&tt,en=k(L,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),tn={},St=[];re!==null&&(nt?St.push("scale("+re+")"):($e.width=typeof re=="string"?re:1.5*re+"rem",$e.height=$e.width)),Ue&&St.push("scaleX(-1)"),Ye&&St.push("scaleY(-1)"),pt!==0&&St.push("rotate("+pt+"deg)"),_e!==null&&(tn.fill=_e);var Xt=r.createElement("path",C({d:X,style:tn},nt?en:{})),Nt=Xt;St.length>0&&($e.transform=St.join(" "),$e.transformOrigin="center",nt&&(Nt=r.createElement("g",{style:$e},Xt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Fe,ye=Nt,ke=ft===!0||typeof ft!="number"?2:ft,Ge=!nt&&(Ue||Ye);if(ke<0&&(Ge=!Ge),ft&&(ye=r.createElement("g",{style:{animation:"spin"+(Ge?"-inverse":"")+" linear "+Math.abs(ke)+"s infinite",transformOrigin:"center"}},Nt,!(Ue||Ye||pt!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),nt)return ye;var st,ht="icon_labelledby_"+G,Bt="icon_describedby_"+G;if(ne)Fe=Ae?ht+" "+Bt:ht;else if(st="presentation",Ae)throw new Error("title attribute required when description is set");return r.createElement("svg",C({ref:q,viewBox:"0 0 24 24",style:$e,role:st,"aria-labelledby":Fe},en),ne&&r.createElement("title",{id:ht},ne),Ae&&r.createElement("desc",{id:Bt},Ae),!nt&&ft&&(Ge?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ye)});K.displayName="Icon",K.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},K.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},e.default=K}]);const BF=Da(K8e);function Qy(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",e="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Qy=function(){return s},s}Qy();class D8e extends kn.Component{render(){return Qy().f[0]++,Qy().s[0]++,Y.jsxs(JQ,{uuid:this.props.id,children:[Y.jsx(n$,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:e=>(Qy().f[1]++,Qy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:Y.jsxs(t1e,{className:"maputnik-layer-editor-group__button",children:[Y.jsx("span",{style:{flexGrow:1},children:this.props.title}),Y.jsx(BF,{path:d1e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),Y.jsx(BF,{path:h1e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),Y.jsx(o1e,{children:this.props.children})]})}}function gv(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",e="32f7af2e1a9dc4f673c1fba818006229f9fd6490",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:30,column:6}},2:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:31,column:3}},line:8}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,UAAU;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QAC1D,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32f7af2e1a9dc4f673c1fba818006229f9fd6490"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return gv=function(){return s},s}gv();class L8e extends kn.Component{render(){gv().f[0]++;const e=(gv().s[0]++,this.props.t);return gv().s[1]++,Y.jsx(ga,{label:e("Min Zoom"),fieldSpec:Ao.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:Y.jsx(_p,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Ao.layer.minzoom.minimum,max:Ao.layer.minzoom.maximum,default:Ao.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}const F8e=(gv().s[2]++,qo()(L8e));function yv(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",e="f706dc673f9397f2919007f4b702470461bf0f7c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:30,column:6}},2:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:31,column:3}},line:8}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,UAAU;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QAC1D,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f706dc673f9397f2919007f4b702470461bf0f7c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return yv=function(){return s},s}yv();class R8e extends kn.Component{render(){yv().f[0]++;const e=(yv().s[0]++,this.props.t);return yv().s[1]++,Y.jsx(ga,{label:e("Max Zoom"),fieldSpec:Ao.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:Y.jsx(_p,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:Ao.layer.maxzoom.minimum,max:Ao.layer.maxzoom.maximum,default:Ao.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}const U8e=(yv().s[2]++,qo()(R8e));function Gg(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",e="875d9bef6002e38aa0b5bf03af99ab4fc2308047",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:22},end:{line:11,column:5}},2:{start:{line:12,column:4},end:{line:30,column:6}},3:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:31,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAyBM;AAzBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY;AAAA,MAChB,KAAK,EAAE,2EAA2E;AAAA,IACpF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,UAAU;AAAA,QACnB;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,EAAE,YAAY;AAAA,YACvB,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"875d9bef6002e38aa0b5bf03af99ab4fc2308047"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Gg=function(){return s},s}Gg();class j8e extends kn.Component{render(){Gg().f[0]++;const e=(Gg().s[0]++,this.props.t),t=(Gg().s[1]++,{doc:e("Comments for the current layer. This is non-standard and not in the spec.")});return Gg().s[2]++,Y.jsx(ga,{label:e("Comments"),fieldSpec:t,"data-wd-key":"layer-comment",error:this.props.error,children:Y.jsx(md,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:e("Comment..."),"data-wd-key":"layer-comment.input"})})}}const z8e=(Gg().s[3]++,qo()(j8e)),N8e={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},W8e={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},G8e={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},Q8e={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},$8e={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},Y8e={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},q8e={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},V8e={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},H8e={groups:[]},$3={line:N8e,background:W8e,fill:G8e,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:Q8e,symbol:$8e,raster:Y8e,hillshade:q8e,heatmap:V8e,invalid:H8e};function $y(){var n="/home/runner/work/maputnik/maputnik/src/libs/format.ts",e="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $y=function(){return s},s}$y();function FY(n){return $y().f[0]++,$y().s[0]++,n===""?($y().b[0][0]++,"[empty_string]"):($y().b[0][1]++,`'${n}'`)}function dn(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",e="555ef41c8141fe537bdb43523a4ef7ec4c287394",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:23,column:2},end:{line:32,column:21}},1:{start:{line:26,column:6},end:{line:30,column:8}},2:{start:{line:35,column:21},end:{line:39,column:3}},3:{start:{line:40,column:22},end:{line:44,column:3}},4:{start:{line:45,column:22},end:{line:49,column:3}},5:{start:{line:50,column:2},end:{line:50,column:103}},6:{start:{line:53,column:24},end:{line:60,column:3}},7:{start:{line:61,column:29},end:{line:63,column:3}},8:{start:{line:65,column:4},end:{line:65,column:17}},9:{start:{line:66,column:25},end:{line:66,column:27}},10:{start:{line:67,column:4},end:{line:69,column:7}},11:{start:{line:68,column:6},end:{line:68,column:39}},12:{start:{line:70,column:4},end:{line:70,column:34}},13:{start:{line:73,column:29},end:{line:73,column:54}},14:{start:{line:74,column:4},end:{line:78,column:7}},15:{start:{line:75,column:6},end:{line:77,column:7}},16:{start:{line:76,column:8},end:{line:76,column:45}},17:{start:{line:79,column:4},end:{line:81,column:6}},18:{start:{line:84,column:4},end:{line:89,column:6}},19:{start:{line:92,column:4},end:{line:95,column:6}},20:{start:{line:98,column:32},end:{line:101,column:5}},21:{start:{line:102,column:4},end:{line:104,column:7}},22:{start:{line:107,column:18},end:{line:107,column:20}},23:{start:{line:108,column:4},end:{line:110,column:5}},24:{start:{line:109,column:6},end:{line:109,column:62}},25:{start:{line:111,column:35},end:{line:111,column:45}},26:{start:{line:112,column:22},end:{line:112,column:24}},27:{start:{line:113,column:4},end:{line:119,column:7}},28:{start:{line:114,column:6},end:{line:118,column:7}},29:{start:{line:115,column:8},end:{line:117,column:10}},30:{start:{line:121,column:18},end:{line:121,column:34}},31:{start:{line:122,column:4},end:{line:124,column:5}},32:{start:{line:123,column:6},end:{line:123,column:63}},33:{start:{line:125,column:4},end:{line:228,column:5}},34:{start:{line:127,column:8},end:{line:191,column:13}},35:{start:{line:134,column:35},end:{line:134,column:112}},36:{start:{line:143,column:37},end:{line:146,column:15}},37:{start:{line:155,column:31},end:{line:155,column:69}},38:{start:{line:164,column:31},end:{line:164,column:75}},39:{start:{line:172,column:31},end:{line:172,column:70}},40:{start:{line:180,column:31},end:{line:180,column:70}},41:{start:{line:188,column:31},end:{line:188,column:104}},42:{start:{line:193,column:8},end:{line:201,column:16}},43:{start:{line:199,column:29},end:{line:199,column:67}},44:{start:{line:203,column:8},end:{line:212,column:10}},45:{start:{line:214,column:8},end:{line:225,column:10}},46:{start:{line:219,column:14},end:{line:222,column:16}},47:{start:{line:227,column:8},end:{line:227,column:49}},48:{start:{line:231,column:4},end:{line:234,column:7}},49:{start:{line:237,column:14},end:{line:237,column:26}},50:{start:{line:238,column:21},end:{line:238,column:23}},51:{start:{line:239,column:22},end:{line:239,column:43}},52:{start:{line:240,column:19},end:{line:257,column:6}},53:{start:{line:241,column:6},end:{line:241,column:70}},54:{start:{line:243,column:22},end:{line:243,column:30}},55:{start:{line:244,column:6},end:{line:244,column:29}},56:{start:{line:245,column:6},end:{line:256,column:8}},57:{start:{line:258,column:20},end:{line:258,column:49}},58:{start:{line:259,column:18},end:{line:284,column:5}},59:{start:{line:262,column:23},end:{line:262,column:71}},60:{start:{line:266,column:23},end:{line:266,column:68}},61:{start:{line:270,column:23},end:{line:270,column:80}},62:{start:{line:276,column:23},end:{line:276,column:41}},63:{start:{line:282,column:23},end:{line:282,column:40}},64:{start:{line:286,column:6},end:{line:286,column:30}},65:{start:{line:287,column:6},end:{line:287,column:26}},66:{start:{line:289,column:4},end:{line:334,column:6}},67:{start:{line:316,column:33},end:{line:316,column:42}},68:{start:{line:317,column:20},end:{line:317,column:174}},69:{start:{line:337,column:20},end:{line:337,column:58}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:22,column:9},end:{line:22,column:25}},loc:{start:{line:22,column:35},end:{line:33,column:1}},line:22},1:{name:"(anonymous_1)",decl:{start:{line:25,column:36},end:{line:25,column:37}},loc:{start:{line:25,column:47},end:{line:31,column:5}},line:25},2:{name:"layoutGroups",decl:{start:{line:34,column:9},end:{line:34,column:21}},loc:{start:{line:34,column:36},end:{line:51,column:1}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:54,column:20},end:{line:54,column:21}},loc:{start:{line:54,column:26},end:{line:55,column:5}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:56,column:21},end:{line:56,column:22}},loc:{start:{line:56,column:27},end:{line:57,column:5}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:58,column:22},end:{line:58,column:23}},loc:{start:{line:58,column:28},end:{line:59,column:5}},line:58},6:{name:"(anonymous_6)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:21},end:{line:71,column:3}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:67,column:57},end:{line:67,column:58}},loc:{start:{line:67,column:68},end:{line:69,column:5}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:48},end:{line:82,column:3}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:74,column:63},end:{line:74,column:64}},loc:{start:{line:74,column:74},end:{line:78,column:5}},line:74},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:20},end:{line:90,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:44},end:{line:96,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:36},end:{line:105,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:32},end:{line:229,column:3}},line:106},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:30},end:{line:119,column:5}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:134,column:24},end:{line:134,column:25}},loc:{start:{line:134,column:35},end:{line:134,column:112}},line:134},16:{name:"(anonymous_16)",decl:{start:{line:143,column:24},end:{line:143,column:25}},loc:{start:{line:143,column:37},end:{line:146,column:15}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:155,column:24},end:{line:155,column:25}},loc:{start:{line:155,column:31},end:{line:155,column:69}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:31},end:{line:164,column:75}},line:164},19:{name:"(anonymous_19)",decl:{start:{line:172,column:24},end:{line:172,column:25}},loc:{start:{line:172,column:31},end:{line:172,column:70}},line:172},20:{name:"(anonymous_20)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:31},end:{line:180,column:70}},line:180},21:{name:"(anonymous_21)",decl:{start:{line:188,column:24},end:{line:188,column:25}},loc:{start:{line:188,column:31},end:{line:188,column:104}},line:188},22:{name:"(anonymous_22)",decl:{start:{line:199,column:22},end:{line:199,column:23}},loc:{start:{line:199,column:29},end:{line:199,column:67}},line:199},23:{name:"(anonymous_23)",decl:{start:{line:218,column:22},end:{line:218,column:23}},loc:{start:{line:218,column:34},end:{line:223,column:13}},line:218},24:{name:"(anonymous_24)",decl:{start:{line:230,column:2},end:{line:230,column:3}},loc:{start:{line:230,column:20},end:{line:235,column:3}},line:230},25:{name:"(anonymous_25)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:11},end:{line:335,column:3}},line:236},26:{name:"(anonymous_26)",decl:{start:{line:240,column:53},end:{line:240,column:54}},loc:{start:{line:240,column:64},end:{line:242,column:5}},line:240},27:{name:"(anonymous_27)",decl:{start:{line:242,column:11},end:{line:242,column:12}},loc:{start:{line:242,column:22},end:{line:257,column:5}},line:242},28:{name:"(anonymous_28)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:71}},line:262},29:{name:"(anonymous_29)",decl:{start:{line:266,column:17},end:{line:266,column:18}},loc:{start:{line:266,column:23},end:{line:266,column:68}},line:266},30:{name:"(anonymous_30)",decl:{start:{line:270,column:17},end:{line:270,column:18}},loc:{start:{line:270,column:23},end:{line:270,column:80}},line:270},31:{name:"(anonymous_31)",decl:{start:{line:276,column:17},end:{line:276,column:18}},loc:{start:{line:276,column:23},end:{line:276,column:41}},line:276},32:{name:"(anonymous_32)",decl:{start:{line:282,column:17},end:{line:282,column:18}},loc:{start:{line:282,column:23},end:{line:282,column:40}},line:282},33:{name:"handleSelection",decl:{start:{line:285,column:13},end:{line:285,column:28}},loc:{start:{line:285,column:40},end:{line:288,column:5}},line:285},34:{name:"(anonymous_34)",decl:{start:{line:315,column:147},end:{line:315,column:148}},loc:{start:{line:315,column:155},end:{line:318,column:19}},line:315}},branchMap:{0:{loc:{start:{line:23,column:9},end:{line:32,column:20}},type:"cond-expr",locations:[{start:{line:23,column:24},end:{line:32,column:3}},{start:{line:32,column:6},end:{line:32,column:20}}],line:23},1:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},2:{loc:{start:{line:108,column:4},end:{line:110,column:5}},type:"if",locations:[{start:{line:108,column:4},end:{line:110,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:108},3:{loc:{start:{line:114,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:118,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},4:{loc:{start:{line:114,column:10},end:{line:114,column:96}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:22}},{start:{line:114,column:26},end:{line:114,column:55}},{start:{line:114,column:59},end:{line:114,column:96}}],line:114},5:{loc:{start:{line:122,column:4},end:{line:124,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:124,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:122},6:{loc:{start:{line:125,column:4},end:{line:228,column:5}},type:"switch",locations:[{start:{line:126,column:6},end:{line:191,column:13}},{start:{line:192,column:6},end:{line:201,column:16}},{start:{line:202,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:225,column:10}},{start:{line:226,column:6},end:{line:227,column:49}}],line:125},7:{loc:{start:{line:149,column:10},end:{line:157,column:11}},type:"binary-expr",locations:[{start:{line:149,column:10},end:{line:149,column:48}},{start:{line:149,column:68},end:{line:157,column:11}}],line:149},8:{loc:{start:{line:158,column:10},end:{line:166,column:11}},type:"binary-expr",locations:[{start:{line:158,column:10},end:{line:158,column:93}},{start:{line:158,column:113},end:{line:166,column:11}}],line:158},9:{loc:{start:{line:188,column:83},end:{line:188,column:103}},type:"cond-expr",locations:[{start:{line:188,column:93},end:{line:188,column:99}},{start:{line:188,column:102},end:{line:188,column:103}}],line:188},10:{loc:{start:{line:241,column:15},end:{line:241,column:68}},type:"binary-expr",locations:[{start:{line:241,column:15},end:{line:241,column:41}},{start:{line:241,column:45},end:{line:241,column:68}}],line:241},11:{loc:{start:{line:258,column:20},end:{line:258,column:49}},type:"binary-expr",locations:[{start:{line:258,column:20},end:{line:258,column:43}},{start:{line:258,column:47},end:{line:258,column:49}}],line:258},12:{loc:{start:{line:269,column:14},end:{line:269,column:67}},type:"cond-expr",locations:[{start:{line:269,column:46},end:{line:269,column:55}},{start:{line:269,column:58},end:{line:269,column:67}}],line:269}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA2KyB,SA2EL,UA1Ed,KADmB;AA3KzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAC5B,SAA0B,uBAAuB;AAIjD,SAAS,iBAAiB,MAAkC,GAAc;AACxE,SAAO,OAAO,IAAI,IAAI;AAAA,IACpB,GAAG,OAAO,IAAI;AAAA,IACd,QAAQ,OAAO,IAAI,EAAE,OAAO,IAAI,WAAS;AACvC,aAAO;AAAA,QACL,GAAG;AAAA,QACH,IAAI,MAAM,MAAM,QAAQ,MAAM,GAAG;AAAA,QACjC,OAAO,EAAE,MAAM,KAAK;AAAA,MACtB;AAAA,IACF,CAAC;AAAA,EACH,IAAI,OAAO;AACb;AAEA,SAAS,aAAa,WAAuC,GAA8E;AACzI,QAAM,aAAa;AAAA,IACjB,IAAI;AAAA,IACJ,OAAO,EAAE,OAAO;AAAA,IAChB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,QAAQ;AAAA,IACjB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,aAAa;AAAA,IACtB,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,WAAW,CAAC,EAAE,MAAM,EAC5C,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,MAAM,4BAA4B,MAAM,UAAsD;AAAA,EAC5F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAiC;AAC3C,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,QAAQ,WAAS;AAC5D,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAA2C,OAAyB;AAClG,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,OAAO,QAAQ,WAAS;AAClE,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,WAAW,CAAC,EAAE,OAAO,WAAS;AACxD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM;AACtB,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM,EAAE,QAAQ;AAAA,QAChB,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM,EAAE,WAAW;AAAA,QACnB,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,EAAE,MAAM,IAAI,EAAE,MAAM;AAAA,QAC3D,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM,EAAE,eAAe;AAAA;AAAA,QAEvB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM,EAAE,iBAAiB;AAAA;AAAA,QAEzB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAY,EAAE,cAAc;AAAA,QAE5B;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,gCAAC,QAAG,WAAU,uBACX,YAAE,sBAAsB,EAAE,SAAS,cAAc,KAAK,MAAM,MAAM,EAAE,EAAE,CAAC,GAC1E;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA;AAAA,oBAAC;AAAA;AAAA,sBACC,IAAG;AAAA,sBACH,eAAY;AAAA,sBACZ,WAAU;AAAA,sBACV,OAAO;AAAA,sBACP,8BAAC,cAAW,WAAU,0BAAyB;AAAA;AAAA,kBACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"555ef41c8141fe537bdb43523a4ef7ec4c287394"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return dn=function(){return s},s}dn();function RY(n,e){return dn().f[0]++,dn().s[0]++,$3[n]?(dn().b[0][0]++,{...$3[n],groups:$3[n].groups.map(t=>(dn().f[1]++,dn().s[1]++,{...t,id:t.title.replace(/ /g,"_"),title:e(t.title)}))}):(dn().b[0][1]++,$3.invalid)}function IF(n,e){dn().f[2]++;const t=(dn().s[2]++,{id:"layer",title:e("Layer"),type:"layer"}),r=(dn().s[3]++,{id:"filter",title:e("Filter"),type:"filter"}),i=(dn().s[4]++,{id:"jsoneditor",title:e("JSON Editor"),type:"jsoneditor"});return dn().s[5]++,[t,r].concat(RY(n,e).groups).concat([i])}class G8 extends kn.Component{constructor(e){dn().f[6]++,dn().s[8]++,super(e);const t=(dn().s[9]++,{});dn().s[10]++,IF(this.props.layer.type,e.t).forEach(r=>{dn().f[7]++,dn().s[11]++,t[r.title]=!0}),dn().s[12]++,this.state={editorGroups:t}}static getDerivedStateFromProps(e,t){dn().f[8]++;const r=(dn().s[13]++,{...t.editorGroups});return dn().s[14]++,RY(e.layer.type,e.t).groups.forEach(i=>{dn().f[9]++,dn().s[15]++,i.title in r?dn().b[1][1]++:(dn().b[1][0]++,dn().s[16]++,r[i.title]=!0)}),dn().s[17]++,{editorGroups:r}}getChildContext(){return dn().f[10]++,dn().s[18]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(e,t,r){dn().f[11]++,dn().s[19]++,this.props.onLayerChanged(this.props.layerIndex,P0e(this.props.layer,e,t,r))}onGroupToggle(e,t){dn().f[12]++;const r=(dn().s[20]++,{...this.state.editorGroups,[e]:t});dn().s[21]++,this.setState({editorGroups:r})}renderGroupType(e,t){dn().f[13]++;let r=(dn().s[22]++,"");dn().s[23]++,this.props.layer.metadata?(dn().b[2][0]++,dn().s[24]++,r=this.props.layer.metadata["maputnik:comment"]):dn().b[2][1]++;const{errors:i,layerIndex:o}=(dn().s[25]++,this.props),s=(dn().s[26]++,{});dn().s[27]++,i.forEach(m=>{dn().f[14]++,dn().s[28]++,dn().b[4][0]++,m.parsed&&(dn().b[4][1]++,m.parsed.type==="layer")&&(dn().b[4][2]++,m.parsed.data.index==o)?(dn().b[3][0]++,dn().s[29]++,s[m.parsed.data.key]={message:m.parsed.data.message}):dn().b[3][1]++});let a;const f=(dn().s[30]++,this.props.layer);switch(dn().s[31]++,Object.prototype.hasOwnProperty.call(this.props.sources,f.source)?(dn().b[5][0]++,dn().s[32]++,a=this.props.sources[f.source].layers):dn().b[5][1]++,dn().s[33]++,e){case"layer":return dn().b[6][0]++,dn().s[34]++,Y.jsxs("div",{children:[Y.jsx(kQ,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:m=>(dn().f[15]++,dn().s[35]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,m))}),Y.jsx(IQ,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:m=>(dn().f[16]++,dn().s[36]++,this.props.onLayerChanged(this.props.layerIndex,T0e(this.props.layer,m)))}),(dn().b[7][0]++,this.props.layer.type!=="background"&&(dn().b[7][1]++,Y.jsx(UQ,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:m=>(dn().f[17]++,dn().s[37]++,this.changeProperty(null,"source",m))}))),(dn().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(dn().b[8][1]++,Y.jsx(zQ,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:m=>(dn().f[18]++,dn().s[38]++,this.changeProperty(null,"source-layer",m))}))),Y.jsx(F8e,{error:s.minzoom,value:this.props.layer.minzoom,onChange:m=>(dn().f[19]++,dn().s[39]++,this.changeProperty(null,"minzoom",m))}),Y.jsx(U8e,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:m=>(dn().f[20]++,dn().s[40]++,this.changeProperty(null,"maxzoom",m))}),Y.jsx(z8e,{error:s.comment,value:r,onChange:m=>(dn().f[21]++,dn().s[41]++,this.changeProperty("metadata","maputnik:comment",m==""?(dn().b[9][0]++,void 0):(dn().b[9][1]++,m)))})]});case"filter":return dn().b[6][1]++,dn().s[42]++,Y.jsx("div",{children:Y.jsx("div",{className:"maputnik-filter-editor-wrapper",children:Y.jsx(H1e,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:m=>(dn().f[22]++,dn().s[43]++,this.changeProperty(null,"filter",m))})})});case"properties":return dn().b[6][2]++,dn().s[44]++,Y.jsx(P8e,{errors:s,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return dn().b[6][3]++,dn().s[45]++,Y.jsx(tT,{layer:this.props.layer,onChange:m=>{dn().f[23]++,dn().s[46]++,this.props.onLayerChanged(this.props.layerIndex,m)}});default:return dn().b[6][4]++,dn().s[47]++,Y.jsx(Y.Fragment,{})}}moveLayer(e){dn().f[24]++,dn().s[48]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+e})}render(){dn().f[25]++;const e=(dn().s[49]++,this.props.t),t=(dn().s[50]++,[]),r=(dn().s[51]++,this.props.layer.type),i=(dn().s[52]++,IF(r,e).filter(f=>(dn().f[26]++,dn().s[53]++,dn().b[10][0]++,!(r==="background"&&(dn().b[10][1]++,f.type==="source")))).map(f=>{dn().f[27]++;const m=(dn().s[54]++,f.id);return dn().s[55]++,t.push(m),dn().s[56]++,Y.jsx(D8e,{"data-wd-key":f.title,id:m,title:f.title,isActive:this.state.editorGroups[f.title],onActiveToggle:this.onGroupToggle.bind(this,f.title),children:this.renderGroupType(f.type,f.fields)},m)})),o=(dn().s[57]++,dn().b[11][0]++,this.props.layer.layout||(dn().b[11][1]++,{})),s=(dn().s[58]++,{delete:{text:e("Delete"),handler:()=>(dn().f[28]++,dn().s[59]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:e("Duplicate"),handler:()=>(dn().f[29]++,dn().s[60]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:o.visibility==="none"?(dn().b[12][0]++,e("Show")):(dn().b[12][1]++,e("Hide")),handler:()=>(dn().f[30]++,dn().s[61]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:e("Move layer up"),disabled:this.props.isFirstLayer,handler:()=>(dn().f[31]++,dn().s[62]++,this.moveLayer(-1))},moveLayerDown:{text:e("Move layer down"),disabled:this.props.isLastLayer,handler:()=>(dn().f[32]++,dn().s[63]++,this.moveLayer(1))}});function a(f,m){dn().f[33]++,dn().s[64]++,m.stopPropagation(),dn().s[65]++,s[f].handler()}return dn().s[66]++,Y.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":e("Layer editor"),children:[Y.jsx("header",{children:Y.jsxs("div",{className:"layer-header",children:[Y.jsx("h2",{className:"layer-header__title",children:e("Layer: {{layerId}}",{layerId:FY(this.props.layer.id)})}),Y.jsx("div",{className:"layer-header__info",children:Y.jsxs(N3.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[Y.jsx(N3.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:Y.jsx(vie,{className:"more-menu__button__svg"})}),Y.jsx(N3.Menu,{children:Y.jsx("ul",{className:"more-menu__menu",children:Object.keys(s).map(f=>{dn().f[34]++;const m=(dn().s[67]++,s[f]);return dn().s[68]++,Y.jsx("li",{children:Y.jsx(N3.MenuItem,{value:f,className:"more-menu__menu__item",children:m.text})},f)})})})]})})]})}),Y.jsx(Nge,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:i})]})}}pn(G8,"defaultProps",(dn().s[6]++,{onLayerChanged:()=>{dn().f[3]++},onLayerIdChange:()=>{dn().f[4]++},onLayerDestroyed:()=>{dn().f[5]++}})),pn(G8,"childContextTypes",(dn().s[7]++,{reactIconBase:zr.object}));const Z8e=(dn().s[69]++,qo()(G8));var kF=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},X8e=function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n}(),J8e=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),eIe=function(){function n(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return n}(),tIe=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),nIe=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),rIe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,iIe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,TF=3,oIe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",rIe]],PF=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function aIe(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new nIe:typeof navigator<"u"?lIe(navigator.userAgent):AIe()}function sIe(n){return n!==""&&oIe.reduce(function(e,t){var r=t[0],i=t[1];if(e)return e;var o=i.exec(n);return!!o&&[r,o]},!1)}function lIe(n){var e=sIe(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new tIe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<TF&&(i=kF(kF([],i,!0),cIe(TF-i.length),!0)):i=[];var o=i.join("."),s=uIe(n),a=iIe.exec(n);return a&&a[1]?new eIe(t,o,s,a[1]):new X8e(t,o,s)}function uIe(n){for(var e=0,t=PF.length;e<t;e++){var r=PF[e],i=r[0],o=r[1],s=o.exec(n);if(s)return i}return null}function AIe(){var n=typeof process<"u"&&process.version;return n?new J8e(process.version.slice(1)):null}function cIe(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}const hIe="maputnik",dIe="2.1.1",fIe="A MapLibre GL visual style editor",pIe="module",mIe="''",gIe={start:"vite",build:"tsc && vite build --base=/maputnik/","build-desktop":"tsc && vite build --base=/ && cd desktop && make","i18n:refresh":"i18next 'src/**/*.{ts,tsx,js,jsx}'",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',"sort-styles":"jq 'sort_by(.id)' src/config/styles.json > tmp.json && mv tmp.json src/config/styles.json"},yIe={type:"git",url:"https://github.com/maplibre/maputnik"},vIe="Lukas Martinelli",_Ie="MIT",CIe="https://github.com/maplibre/maputnik#readme",bIe={"@mapbox/mapbox-gl-rtl-text":"^0.3.0","@maplibre/maplibre-gl-geocoder":"^1.7.1","@maplibre/maplibre-gl-inspect":"^1.7.1","@maplibre/maplibre-gl-style-spec":"^23.1.0","@mdi/js":"^7.4.47","@mdi/react":"^1.6.1","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.5.1",codemirror:"^5.65.2",color:"^4.2.3","cypress-plugin-tab":"^1.0.5","detect-browser":"^5.3.0",events:"^3.3.0","file-saver":"^2.0.5",i18next:"^23.12.2","i18next-browser-languagedetector":"^8.0.0","i18next-resources-to-backend":"^1.2.1","json-stringify-pretty-compact":"^4.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","maplibre-gl":"^5.0.1","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","prop-types":"^15.8.1",react:"^18.2.0","react-accessible-accordion":"^5.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^5.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^18.2.0","react-file-reader-input":"^2.0.0","react-i18next":"^15.0.1","react-icon-base":"^2.1.2","react-icons":"^5.0.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.72.0",slugify:"^1.6.6","string-hash":"^1.1.3",url:"^0.11.3"},xIe={esversion:6},wIe={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},MIe={"@cypress/code-coverage":"^3.12.30","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.1.9","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.14","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/mocha":"^10.0.6","@types/randomcolor":"^0.5.9","@types/react":"^18.2.67","@types/react-aria-menubutton":"^6.2.14","@types/react-aria-modal":"^4.0.10","@types/react-autocomplete":"^1.8.10","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.12","@types/react-dom":"^18.2.22","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@types/wicg-file-system-access":"^2023.10.5","@vitejs/plugin-react":"^4.2.1",cors:"^2.8.5",cypress:"^13.13.0",eslint:"^8.57.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","i18next-parser":"^9.0.1",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.2",mocha:"^10.3.0",postcss:"^8.4.38","react-hot-loader":"^4.13.1",stylelint:"^16.2.1","stylelint-config-recommended-scss":"^14.0.0","stylelint-scss":"^6.2.1",typescript:"^5.4.3",uuid:"^9.0.1",vite:"^5.4.6","vite-plugin-istanbul":"^6.0.0"},KF={name:hIe,version:dIe,description:fIe,type:pIe,main:mIe,scripts:gIe,repository:yIe,author:vIe,license:_Ie,homepage:CIe,dependencies:bIe,jshintConfig:xIe,stylelint:wIe,devDependencies:MIe},SIe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function pi(){var n="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",e="7ffd82d4f3aa9239b1c505abaafac5bdb522b791",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:18,column:16},end:{line:18,column:24}},1:{start:{line:19,column:41},end:{line:19,column:89}},2:{start:{line:22,column:4},end:{line:22,column:107}},3:{start:{line:27,column:4},end:{line:37,column:6}},4:{start:{line:42,column:4},end:{line:49,column:6}},5:{start:{line:54,column:4},end:{line:62,column:6}},6:{start:{line:66,column:10},end:{line:74,column:3}},7:{start:{line:76,column:4},end:{line:76,column:34}},8:{start:{line:79,column:4},end:{line:79,column:40}},9:{start:{line:81,column:11},end:{line:88,column:3}},10:{start:{line:82,column:4},end:{line:87,column:5}},11:{start:{line:83,column:6},end:{line:83,column:59}},12:{start:{line:85,column:17},end:{line:85,column:65}},13:{start:{line:86,column:6},end:{line:86,column:17}},14:{start:{line:90,column:14},end:{line:90,column:26}},15:{start:{line:91,column:18},end:{line:127,column:5}},16:{start:{line:128,column:24},end:{line:130,column:6}},17:{start:{line:129,column:6},end:{line:129,column:45}},18:{start:{line:131,column:4},end:{line:249,column:12}},19:{start:{line:142,column:33},end:{line:142,column:58}},20:{start:{line:151,column:33},end:{line:151,column:60}},21:{start:{line:160,column:33},end:{line:160,column:51}},22:{start:{line:212,column:33},end:{line:212,column:69}},23:{start:{line:215,column:38},end:{line:215,column:59}},24:{start:{line:216,column:20},end:{line:216,column:157}},25:{start:{line:218,column:115},end:{line:218,column:148}},26:{start:{line:219,column:20},end:{line:219,column:133}},27:{start:{line:235,column:33},end:{line:235,column:74}},28:{start:{line:238,column:18},end:{line:238,column:94}},29:{start:{line:252,column:19},end:{line:252,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:11},end:{line:23,column:3}},line:21},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:11},end:{line:38,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:50,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:63,column:3}},line:53},4:{name:"(anonymous_4)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:23},end:{line:77,column:3}},line:75},5:{name:"(anonymous_5)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:28},end:{line:80,column:3}},line:78},6:{name:"(anonymous_6)",decl:{start:{line:81,column:11},end:{line:81,column:12}},loc:{start:{line:81,column:23},end:{line:88,column:3}},line:81},7:{name:"(anonymous_7)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:11},end:{line:250,column:3}},line:89},8:{name:"(anonymous_8)",decl:{start:{line:128,column:35},end:{line:128,column:36}},loc:{start:{line:128,column:45},end:{line:130,column:5}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:142,column:25},end:{line:142,column:26}},loc:{start:{line:142,column:33},end:{line:142,column:58}},line:142},10:{name:"(anonymous_10)",decl:{start:{line:151,column:25},end:{line:151,column:26}},loc:{start:{line:151,column:33},end:{line:151,column:60}},line:151},11:{name:"(anonymous_11)",decl:{start:{line:160,column:25},end:{line:160,column:26}},loc:{start:{line:160,column:33},end:{line:160,column:51}},line:160},12:{name:"(anonymous_12)",decl:{start:{line:212,column:26},end:{line:212,column:27}},loc:{start:{line:212,column:33},end:{line:212,column:69}},line:212},13:{name:"(anonymous_13)",decl:{start:{line:215,column:31},end:{line:215,column:32}},loc:{start:{line:215,column:38},end:{line:215,column:59}},line:215},14:{name:"(anonymous_14)",decl:{start:{line:215,column:65},end:{line:215,column:66}},loc:{start:{line:215,column:75},end:{line:217,column:19}},line:215},15:{name:"(anonymous_15)",decl:{start:{line:218,column:108},end:{line:218,column:109}},loc:{start:{line:218,column:115},end:{line:218,column:148}},line:218},16:{name:"(anonymous_16)",decl:{start:{line:218,column:154},end:{line:218,column:155}},loc:{start:{line:218,column:164},end:{line:220,column:19}},line:218},17:{name:"(anonymous_17)",decl:{start:{line:235,column:26},end:{line:235,column:27}},loc:{start:{line:235,column:33},end:{line:235,column:74}},line:235},18:{name:"(anonymous_18)",decl:{start:{line:237,column:65},end:{line:237,column:66}},loc:{start:{line:237,column:83},end:{line:239,column:17}},line:237}},branchMap:{0:{loc:{start:{line:82,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:87,column:5}},{start:{line:84,column:11},end:{line:87,column:5}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AA+BW,cAyLG,YAzLH;AA/BX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AACP,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AACzB,SAAS,uBAAwC;AACjD,SAAS,0BAA0B;AAGnC,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,qBAAqB,KAAa;AAChC,SAAK,MAAM,KAAK,eAAe,GAAG;AAAA,EACpC;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,MAChB;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,SAAS;AAAA,QAClB,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,qBAAqB;AAAA,QAC9B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,sBAAsB;AAAA,QAC/B,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBAEtC,YAAE,aAAa;AAAA;AAAA,YAClB;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAExC,YAAE,cAAc;AAAA;AAAA,YACnB;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBAE/B,YAAE,UAAU;AAAA;AAAA,YACf;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAK,EAAE,oBAAoB,GAAG;AAAA,kBACtD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAU,YAAE,MAAM,GAAE;AAAA,WACvB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,UAAO;AAAA,UACR,oBAAC,YAAU,YAAE,MAAM,GAAE;AAAA,WACvB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAU,YAAE,cAAc,GAAE;AAAA,WAC/B;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAU,YAAE,gBAAgB,GAAE;AAAA,WACjC;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,YAAU;AAAA,cAAE,MAAM;AAAA,YACjB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAO,EAAE,qBAAqB,GACrC,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,iBAAc,OAAM,gBACnB;AAAA,8BAAC,cAAW;AAAA,UACZ,qBAAC,YAAS;AAAA;AAAA,YACR;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,qBAAqB,EAAE,OAAO,KAAK;AAAA,gBACzD,OAAO,KAAK,MAAM,KAAK;AAAA,gBAEtB,iBAAO,QAAQ,kBAAkB,EAAE,IAAI,CAAC,CAAC,MAAM,IAAI,MAAM;AACxD,yBACE,oBAAC,YAAkB,OAAO,MACvB,kBADU,IAEb;AAAA,gBAEJ,CAAC;AAAA;AAAA,YACH;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAU,YAAE,MAAM,GAAE;AAAA,WACvB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7ffd82d4f3aa9239b1c505abaafac5bdb522b791"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return pi=function(){return s},s}pi();const EIe=(pi().s[0]++,aIe()),Y3=(pi().s[1]++,["chrome","firefox"].indexOf(EIe.name)>-1);class vg extends kn.Component{render(){return pi().f[0]++,pi().s[2]++,Y.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class OIe extends kn.Component{render(){return pi().f[1]++,pi().s[3]++,Y.jsx("a",{className:yp("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class DF extends kn.Component{render(){return pi().f[2]++,pi().s[4]++,Y.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class q3 extends kn.Component{render(){return pi().f[3]++,pi().s[5]++,Y.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class BIe extends kn.Component{constructor(){super(...arguments);pn(this,"state",(pi().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));pn(this,"onSkip",(pi().s[9]++,t=>{if(pi().f[6]++,pi().s[10]++,t==="map")pi().b[0][0]++,pi().s[11]++,document.querySelector(".maplibregl-canvas").focus();else{pi().b[0][1]++;const r=(pi().s[12]++,document.querySelector("#skip-target-"+t));pi().s[13]++,r.focus()}}))}handleSelection(t){pi().f[4]++,pi().s[7]++,this.props.onSetMapState(t)}handleLanguageChange(t){pi().f[5]++,pi().s[8]++,this.props.i18n.changeLanguage(t)}render(){pi().f[7]++;const t=(pi().s[14]++,this.props.t),r=(pi().s[15]++,[{id:"map",group:"general",title:t("Map")},{id:"inspect",group:"general",title:t("Inspect"),disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:t("Deuteranopia filter"),disabled:!Y3},{id:"filter-protanopia",group:"color-accessibility",title:t("Protanopia filter"),disabled:!Y3},{id:"filter-tritanopia",group:"color-accessibility",title:t("Tritanopia filter"),disabled:!Y3},{id:"filter-achromatopsia",group:"color-accessibility",title:t("Achromatopsia filter"),disabled:!Y3}]),i=(pi().s[16]++,r.find(o=>(pi().f[8]++,pi().s[17]++,o.id===this.props.mapState)));return pi().s[18]++,Y.jsx("nav",{className:"maputnik-toolbar",children:Y.jsxs("div",{className:"maputnik-toolbar__inner",children:[Y.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[Y.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:o=>(pi().f[9]++,pi().s[19]++,this.onSkip("layer-list")),children:t("Layers list")}),Y.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:o=>(pi().f[10]++,pi().s[20]++,this.onSkip("layer-editor")),children:t("Layer editor")}),Y.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:o=>(pi().f[11]++,pi().s[21]++,this.onSkip("map")),children:t("Map view")}),Y.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[Y.jsx("img",{src:SIe,alt:t("Maputnik on GitHub")}),Y.jsxs("h1",{children:[Y.jsx("span",{className:"maputnik-toolbar-name",children:KF.name}),Y.jsxs("span",{className:"maputnik-toolbar-version",children:["v",KF.version]})]})]})]}),Y.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[Y.jsxs(q3,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[Y.jsx(aie,{}),Y.jsx(vg,{children:t("Open")})]}),Y.jsxs(q3,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[Y.jsx(CB,{}),Y.jsx(vg,{children:t("Save")})]}),Y.jsxs(q3,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[Y.jsx(fie,{}),Y.jsx(vg,{children:t("Data Sources")})]}),Y.jsxs(q3,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[Y.jsx(sie,{}),Y.jsx(vg,{children:t("Style Settings")})]}),Y.jsxs(DF,{wdKey:"nav:inspect",children:[Y.jsx(tie,{}),Y.jsxs(vg,{children:[t("View"),Y.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:o=>(pi().f[12]++,pi().s[22]++,this.handleSelection(o.target.value)),value:i==null?void 0:i.id,children:[r.filter(o=>(pi().f[13]++,pi().s[23]++,o.group==="general")).map(o=>(pi().f[14]++,pi().s[24]++,Y.jsx("option",{value:o.id,disabled:o.disabled,"data-wd-key":o.id,children:o.title},o.id))),Y.jsx("optgroup",{label:t("Color accessibility"),children:r.filter(o=>(pi().f[15]++,pi().s[25]++,o.group==="color-accessibility")).map(o=>(pi().f[16]++,pi().s[26]++,Y.jsx("option",{value:o.id,disabled:o.disabled,children:o.title},o.id)))})]})]})]}),Y.jsxs(DF,{wdKey:"nav:language",children:[Y.jsx(oie,{}),Y.jsxs(vg,{children:["Language",Y.jsx("select",{className:"maputnik-select","data-wd-key":"maputnik-lang-select",onChange:o=>(pi().f[17]++,pi().s[27]++,this.handleLanguageChange(o.target.value)),value:this.props.i18n.language,children:Object.entries(Yj).map(([o,s])=>(pi().f[18]++,pi().s[28]++,Y.jsx("option",{value:o,children:s},o)))})]})]}),Y.jsxs(OIe,{href:"https://github.com/maplibre/maputnik/wiki",children:[Y.jsx(nie,{}),Y.jsx(vg,{children:t("Help")})]})]})]})})}}const IIe=(pi().s[29]++,qo()(BIe));function l5(){var n="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",e="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return l5=function(){return s},s}l5();class kIe extends kn.Component{render(){return l5().f[0]++,l5().s[0]++,Y.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function uf(){var n="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",e="1ee946cae22aef585acbff88e7256312e8bd0812",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:7,column:29},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:13,column:6}},2:{start:{line:16,column:4},end:{line:16,column:46}},3:{start:{line:17,column:4},end:{line:26,column:9}},4:{start:{line:29,column:18},end:{line:29,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:20},end:{line:14,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:27,column:3}},line:15}},branchMap:{0:{loc:{start:{line:24,column:6},end:{line:24,column:123}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:23}},{start:{line:24,column:43},end:{line:24,column:123}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AA8BM,SACE,KADF;AA9BN,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAC5B,SAA0B,uBAAuB;AAWjD,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,aAAS,KAAK,MAAM,KAAK,MAAM,KAAK,IAAI;AAExC,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,qBAAC,SAAI,WAAU,wBACb;AAAA,4BAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,QACC,KAAK,MAAM;AAAA,SACd;AAAA,MACC,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1ee946cae22aef585acbff88e7256312e8bd0812"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return uf=function(){return s},s}uf();class UY extends kn.Component{getChildContext(){return uf().f[0]++,uf().s[1]++,{reactIconBase:{size:14}}}render(){return uf().f[1]++,uf().s[2]++,document.body.dir=this.props.i18n.dir(),uf().s[3]++,Y.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,Y.jsxs("div",{className:"maputnik-layout-main",children:[Y.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),Y.jsx("div",{className:"maputnik-layout-drawer",children:Y.jsx(kIe,{children:this.props.layerEditor})}),this.props.map]}),(uf().b[0][0]++,this.props.bottom&&(uf().b[0][1]++,Y.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}pn(UY,"childContextTypes",(uf().s[0]++,{reactIconBase:zr.object}));const TIe=(uf().s[4]++,qo()(UY));function $a(){var n="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",e="79207020c1a6a62db4f3db3338a49c0819045455",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:38},end:{line:11,column:48}},2:{start:{line:12,column:19},end:{line:40,column:6}},3:{start:{line:14,column:6},end:{line:38,column:7}},4:{start:{line:15,column:27},end:{line:15,column:32}},5:{start:{line:16,column:24},end:{line:16,column:73}},6:{start:{line:17,column:8},end:{line:35,column:13}},7:{start:{line:30,column:31},end:{line:30,column:74}},8:{start:{line:37,column:8},end:{line:37,column:32}},9:{start:{line:39,column:6},end:{line:39,column:120}},10:{start:{line:41,column:18},end:{line:43,column:6}},11:{start:{line:42,column:6},end:{line:42,column:68}},12:{start:{line:44,column:4},end:{line:47,column:9}},13:{start:{line:50,column:24},end:{line:50,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:25},end:{line:8,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:42},end:{line:12,column:43}},loc:{start:{line:12,column:58},end:{line:40,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:30,column:25},end:{line:30,column:26}},loc:{start:{line:30,column:31},end:{line:30,column:74}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:41,column:40},end:{line:41,column:41}},loc:{start:{line:41,column:50},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:14,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:14,column:6},end:{line:38,column:7}},{start:{line:36,column:13},end:{line:38,column:7}}],line:14},1:{loc:{start:{line:14,column:10},end:{line:14,column:55}},type:"binary-expr",locations:[{start:{line:14,column:10},end:{line:14,column:22}},{start:{line:14,column:26},end:{line:14,column:55}}],line:14},2:{loc:{start:{line:24,column:10},end:{line:34,column:14}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:50}},{start:{line:24,column:70},end:{line:34,column:14}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA4BY,SAIE,UAHM,KADR;AA5BZ,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAE5B,SAAS,OAAwB,uBAAuB;AAWxD,MAAM,gCAAgC,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,mBAAkB,IAAI,KAAK;AACrC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCACE;AAAA,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,YAAO;AAAA,YAAG,OAAO,KAAK;AAAA,aAC5D;AAAA,UACC,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAEzD,YAAE,iBAAiB;AAAA;AAAA,YACtB;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;AAEA,MAAM,kBAAkB,gBAAgB,EAAE,uBAAuB;AACjE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"79207020c1a6a62db4f3db3338a49c0819045455"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $a=function(){return s},s}$a();class jY extends kn.Component{render(){var o,s;$a().f[1]++;const{t:e,selectedLayerIndex:t}=($a().s[1]++,this.props),r=($a().s[2]++,(o=this.props.errors)==null?void 0:o.map((a,f)=>{var C;$a().f[2]++;let m;if($a().s[3]++,$a().b[1][0]++,a.parsed&&($a().b[1][1]++,a.parsed.type==="layer")){$a().b[0][0]++;const{parsed:k}=($a().s[4]++,a),I=($a().s[5]++,(C=this.props.mapStyle)==null?void 0:C.layers[k.data.index].id);$a().s[6]++,m=Y.jsxs(Y.Fragment,{children:[Y.jsxs(E0,{t:e,children:["Layer ",Y.jsx("span",{children:FY(I)}),": ",k.data.message]}),($a().b[2][0]++,t!==k.data.index&&($a().b[2][1]++,Y.jsxs(Y.Fragment,{children:["",Y.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>($a().f[3]++,$a().s[7]++,this.props.onLayerSelect(k.data.index)),children:e("switch to layer")})]})))]})}else $a().b[0][1]++,$a().s[8]++,m=a.message;return $a().s[9]++,Y.jsx("p",{className:"maputnik-message-panel-error",children:m},"error-"+f)})),i=($a().s[10]++,(s=this.props.infos)==null?void 0:s.map((a,f)=>($a().f[4]++,$a().s[11]++,Y.jsx("p",{children:a},"info-"+f))));return $a().s[12]++,Y.jsxs("div",{className:"maputnik-message-panel",children:[r,i]})}}pn(jY,"defaultProps",($a().s[0]++,{onLayerSelect:()=>{$a().f[0]++}}));const PIe=($a().s[13]++,qo()(jY));function u5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",e="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return u5=function(){return s},s}u5();class A5 extends kn.Component{render(){return u5().f[0]++,u5().s[0]++,Y.jsx(Qb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(EY,{...this.props})})}}function c5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",e="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return c5=function(){return s},s}c5();class hf extends kn.Component{render(){return c5().f[0]++,c5().s[0]++,Y.jsx(ga,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(_p,{...this.props})})}}function h5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",e="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return h5=function(){return s},s}h5();class np extends kn.Component{render(){return h5().f[0]++,h5().s[0]++,Y.jsx(ga,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(md,{...this.props})})}}function d5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",e="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return d5=function(){return s},s}d5();class $b extends kn.Component{render(){return d5().f[0]++,d5().s[0]++,Y.jsx(ga,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(LT,{...this.props})})}}function f5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",e="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return f5=function(){return s},s}f5();class eS extends kn.Component{render(){return f5().f[0]++,f5().s[0]++,Y.jsx(ga,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(w1,{...this.props})})}}function p5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",e="5745e67ee75c0f352c022256ef8bf31e8fa7367f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return p5=function(){return s},s}p5();class KIe extends kn.Component{render(){return p5().f[0]++,p5().s[0]++,Y.jsx(Qb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(DT,{...this.props})})}}function m5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",e="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return m5=function(){return s},s}m5();class DIe extends kn.Component{render(){return m5().f[0]++,m5().s[0]++,Y.jsx(ga,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:Y.jsx(SY,{...this.props})})}}function Yb(){var n="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",e="3f2b222219042b3cb4a75b927d846ca17e6201aa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:26,column:2}},1:{start:{line:1,column:21},end:{line:26,column:1}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:13},end:{line:1,column:14}},loc:{start:{line:1,column:21},end:{line:26,column:1}},line:1}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAEA,MAAM,OAAO,CAAC,OAAkB;AAAA,EAC9B,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO,EAAE,uBAAuB;AAAA,MAChC,KAAK,EAAE,yCAAyC;AAAA,MAChD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO,EAAE,4BAA4B;AAAA,MACrC,KAAK,EAAE,iDAAiD;AAAA,MACxD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,qBAAqB;AAAA,MACnB,OAAO,EAAE,qBAAqB;AAAA,MAC9B,KAAK,EAAE,0BAA0B;AAAA,MACjC,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO,EAAE,gBAAgB;AAAA,MACzB,KAAK,EAAE,sDAAsD;AAAA,IAC/D;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3f2b222219042b3cb4a75b927d846ca17e6201aa"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Yb=function(){return s},s}Yb();Yb().s[0]++;const zY=n=>(Yb().f[0]++,Yb().s[1]++,{maputnik:{maptiler_access_token:{label:n("MapTiler Access Token"),doc:n("Public access token for MapTiler Cloud."),docUrl:"https://docs.maptiler.com/cloud/api/authentication-key/",docUrlLinkText:n("Learn More")},thunderforest_access_token:{label:n("Thunderforest Access Token"),doc:n("Public access token for Thunderforest services."),docUrl:"https://www.thunderforest.com/docs/apikeys/",docUrlLinkText:n("Learn More")},stadia_access_token:{label:n("Stadia Maps API Key"),doc:n("API key for Stadia Maps."),docUrl:"https://docs.stadiamaps.com/authentication/",docUrlLinkText:n("Learn More")},style_renderer:{label:n("Style Renderer"),doc:n("Choose the default Maputnik renderer for this style.")}}});function si(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",e="2bfcb2bc337b915a29f70f26bbf03f5047260e49",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:16,column:23},end:{line:18,column:5}},1:{start:{line:19,column:4},end:{line:23,column:5}},2:{start:{line:20,column:6},end:{line:20,column:34}},3:{start:{line:22,column:6},end:{line:22,column:35}},4:{start:{line:24,column:4},end:{line:27,column:7}},5:{start:{line:30,column:18},end:{line:32,column:5}},6:{start:{line:33,column:4},end:{line:37,column:5}},7:{start:{line:34,column:6},end:{line:34,column:29}},8:{start:{line:36,column:6},end:{line:36,column:30}},9:{start:{line:38,column:4},end:{line:41,column:7}},10:{start:{line:44,column:20},end:{line:46,column:5}},11:{start:{line:47,column:4},end:{line:51,column:5}},12:{start:{line:48,column:6},end:{line:48,column:31}},13:{start:{line:50,column:6},end:{line:50,column:32}},14:{start:{line:52,column:4},end:{line:55,column:7}},15:{start:{line:58,column:25},end:{line:60,column:5}},16:{start:{line:61,column:4},end:{line:65,column:5}},17:{start:{line:62,column:6},end:{line:62,column:36}},18:{start:{line:64,column:6},end:{line:64,column:37}},19:{start:{line:66,column:4},end:{line:66,column:44}},20:{start:{line:69,column:21},end:{line:69,column:55}},21:{start:{line:70,column:54},end:{line:70,column:64}},22:{start:{line:71,column:16},end:{line:71,column:38}},23:{start:{line:72,column:18},end:{line:72,column:49}},24:{start:{line:73,column:23},end:{line:73,column:59}},25:{start:{line:74,column:20},end:{line:74,column:53}},26:{start:{line:75,column:4},end:{line:295,column:6}},27:{start:{line:298,column:22},end:{line:298,column:62}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:44},end:{line:28,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:39},end:{line:42,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:41},end:{line:56,column:3}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:39},end:{line:67,column:3}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:11},end:{line:296,column:3}},line:68}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:23,column:5}},{start:{line:21,column:11},end:{line:23,column:5}}],line:19},1:{loc:{start:{line:33,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:37,column:5}},{start:{line:35,column:11},end:{line:37,column:5}}],line:33},2:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:49,column:11},end:{line:51,column:5}}],line:47},3:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},4:{loc:{start:{line:69,column:21},end:{line:69,column:55}},type:"binary-expr",locations:[{start:{line:69,column:21},end:{line:69,column:49}},{start:{line:69,column:53},end:{line:69,column:55}}],line:69},5:{loc:{start:{line:72,column:18},end:{line:72,column:49}},type:"binary-expr",locations:[{start:{line:72,column:18},end:{line:72,column:43}},{start:{line:72,column:47},end:{line:72,column:49}}],line:72},6:{loc:{start:{line:73,column:23},end:{line:73,column:59}},type:"binary-expr",locations:[{start:{line:73,column:23},end:{line:73,column:53}},{start:{line:73,column:57},end:{line:73,column:59}}],line:73},7:{loc:{start:{line:74,column:20},end:{line:74,column:53}},type:"binary-expr",locations:[{start:{line:74,column:20},end:{line:74,column:47}},{start:{line:74,column:51},end:{line:74,column:53}}],line:74},8:{loc:{start:{line:160,column:21},end:{line:160,column:42}},type:"binary-expr",locations:[{start:{line:160,column:21},end:{line:160,column:36}},{start:{line:160,column:40},end:{line:160,column:42}}],line:160},9:{loc:{start:{line:289,column:21},end:{line:289,column:62}},type:"binary-expr",locations:[{start:{line:289,column:21},end:{line:289,column:50}},{start:{line:289,column:54},end:{line:289,column:62}}],line:289}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA+GM,SACE,KADF;AA/GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAEnB,SAA0B,uBAAuB;AAEjD,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,MAAM,8BAA8B,MAAM,UAAsC;AAAA,EAC9E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,GAAG,0BAA0B,SAAQ,IAAI,KAAK;AACrD,UAAM,MAAM,oBAAoB,CAAC;AAEjC,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,gBAAgB;AAAA,QAEzB,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,EAAC,KAAK,EAAE,6DAA6D,EAAC;AAAA,cACjF,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,EAAE,YAAY;AAAA,cACrB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,YAAY;AAAA,cACrB,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,cAC1C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,cAC/C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,cACxC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,8BAA8B;AAAA,cAC9C,UAAU,yBAAyB,KAAK,MAAM,8BAA8B;AAAA;AAAA,UAC9E;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ;AAAA,cACjB,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,SAAS;AAAA,cAClB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,cAAc;AAAA,cACvB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,aAAa;AAAA,cACtB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,iBAAiB;AAAA,cAC1B,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,sBAAsB;AAAA,cAC/B,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,kBAAkB;AAAA,cAC3B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,qBAAqB;AAAA,cAC9B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,eAAe;AAAA,cACnC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,EAAE,4BAA4B,CAAC;AAAA,cACxC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2bfcb2bc337b915a29f70f26bbf03f5047260e49"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return si=function(){return s},s}si();class LIe extends kn.Component{changeTransitionProperty(e,t){si().f[0]++;const r=(si().s[0]++,{...this.props.mapStyle.transition});si().s[1]++,t===void 0?(si().b[0][0]++,si().s[2]++,delete r[e]):(si().b[0][1]++,si().s[3]++,r[e]=t),si().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(e,t){si().f[1]++;const r=(si().s[5]++,{...this.props.mapStyle.light});si().s[6]++,t===void 0?(si().b[1][0]++,si().s[7]++,delete r[e]):(si().b[1][1]++,si().s[8]++,r[e]=t),si().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(e,t){si().f[2]++;const r=(si().s[10]++,{...this.props.mapStyle.terrain});si().s[11]++,t===void 0?(si().b[2][0]++,si().s[12]++,delete r[e]):(si().b[2][1]++,si().s[13]++,r[e]=t),si().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(e,t){si().f[3]++;const r=(si().s[15]++,{...this.props.mapStyle});si().s[16]++,t===void 0?(si().b[3][0]++,si().s[17]++,delete r[e]):(si().b[3][1]++,si().s[18]++,r[e]=t),si().s[19]++,this.props.onStyleChanged(r)}render(){si().f[4]++;const e=(si().s[20]++,si().b[4][0]++,this.props.mapStyle.metadata||(si().b[4][1]++,{})),{t,onChangeMetadataProperty:r,mapStyle:i}=(si().s[21]++,this.props),o=(si().s[22]++,zY(t)),s=(si().s[23]++,si().b[5][0]++,this.props.mapStyle.light||(si().b[5][1]++,{})),a=(si().s[24]++,si().b[6][0]++,this.props.mapStyle.transition||(si().b[6][1]++,{})),f=(si().s[25]++,si().b[7][0]++,this.props.mapStyle.terrain||(si().b[7][1]++,{}));return si().s[26]++,Y.jsx(Q0,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Style Settings"),children:Y.jsxs("div",{className:"modal:settings",children:[Y.jsx(np,{label:t("Name"),fieldSpec:Ao.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),Y.jsx(np,{label:t("Owner"),fieldSpec:{doc:t("Owner ID of the style. Used by Mapbox or future style APIs.")},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),Y.jsx($b,{fieldSpec:Ao.$root.sprite,label:t("Sprite URL"),"data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),Y.jsx($b,{label:t("Glyphs URL"),fieldSpec:Ao.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),Y.jsx(np,{label:o.maputnik.maptiler_access_token.label,fieldSpec:o.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:e["maputnik:openmaptiles_access_token"],onChange:r.bind(this,"maputnik:openmaptiles_access_token")}),Y.jsx(np,{label:o.maputnik.thunderforest_access_token.label,fieldSpec:o.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:e["maputnik:thunderforest_access_token"],onChange:r.bind(this,"maputnik:thunderforest_access_token")}),Y.jsx(np,{label:o.maputnik.stadia_access_token.label,fieldSpec:o.maputnik.stadia_access_token,"data-wd-key":"modal:settings.maputnik:stadia_access_token",value:e["maputnik:stadia_access_token"],onChange:r.bind(this,"maputnik:stadia_access_token")}),Y.jsx(A5,{label:t("Center"),fieldSpec:Ao.$root.center,length:2,type:"number",value:(si().b[8][0]++,i.center||(si().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),Y.jsx(hf,{label:t("Zoom"),fieldSpec:Ao.$root.zoom,value:i.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),Y.jsx(hf,{label:t("Bearing"),fieldSpec:Ao.$root.bearing,value:i.bearing,default:Ao.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),Y.jsx(hf,{label:t("Pitch"),fieldSpec:Ao.$root.pitch,value:i.pitch,default:Ao.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),Y.jsx(KIe,{label:t("Light anchor"),fieldSpec:Ao.light.anchor,name:"light-anchor",value:s.anchor,options:Object.keys(Ao.light.anchor.values),default:Ao.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),Y.jsx(DIe,{label:t("Light color"),fieldSpec:Ao.light.color,value:s.color,default:Ao.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),Y.jsx(hf,{label:t("Light intensity"),fieldSpec:Ao.light.intensity,value:s.intensity,default:Ao.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),Y.jsx(A5,{label:t("Light position"),fieldSpec:Ao.light.position,type:"number",length:Ao.light.position.length,value:s.position,default:Ao.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),Y.jsx(np,{label:t("Terrain source"),fieldSpec:Ao.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:f.source,onChange:this.changeTerrainProperty.bind(this,"source")}),Y.jsx(hf,{label:t("Terrain exaggeration"),fieldSpec:Ao.terrain.exaggeration,value:f.exaggeration,default:Ao.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),Y.jsx(hf,{label:t("Transition delay"),fieldSpec:Ao.transition.delay,value:a.delay,default:Ao.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),Y.jsx(hf,{label:t("Transition duration"),fieldSpec:Ao.transition.duration,value:a.duration,default:Ao.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),Y.jsx(eS,{label:o.maputnik.style_renderer.label,fieldSpec:o.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol",t("Open Layers (experimental)")]],value:(si().b[9][0]++,e["maputnik:renderer"]||(si().b[9][1]++,"mlgljs")),onChange:r.bind(this,"maputnik:renderer")})]})})}}const FIe=(si().s[27]++,qo()(LIe));var NY={exports:{}};(function(n,e){(function(t,r,i){n.exports=i(),n.exports.default=i()})("slugify",Cp,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=r[s.locale]||{},f=s.replacement===void 0?"-":s.replacement,m=s.trim===void 0?!0:s.trim,C=o.normalize().split("").reduce(function(k,I){var K=a[I];return K===void 0&&(K=t[I]),K===void 0&&(K=I),K===f&&(K=" "),k+K.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(C=C.replace(/[^A-Za-z0-9\s]/g,"")),m&&(C=C.trim()),C=C.replace(/\s+/g,f),s.lower&&(C=C.toLowerCase()),C}return i.extend=function(o){Object.assign(t,o)},i})})(NY);var RIe=NY.exports;const UIe=Da(RIe);var WY={exports:{}};(function(n,e){(function(t,r){r()})(Cp,function(){function t(m,C){return typeof C>"u"?C={autoBom:!1}:typeof C!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function r(m,C,k){var I=new XMLHttpRequest;I.open("GET",m),I.responseType="blob",I.onload=function(){f(I.response,C,k)},I.onerror=function(){console.error("could not download file")},I.send()}function i(m){var C=new XMLHttpRequest;C.open("HEAD",m,!1);try{C.send()}catch{}return 200<=C.status&&299>=C.status}function o(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(C)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(m,C,k){var I=s.URL||s.webkitURL,K=document.createElement("a");C=C||m.name||"download",K.download=C,K.rel="noopener",typeof m=="string"?(K.href=m,K.origin===location.origin?o(K):i(K.href)?r(m,C,k):o(K,K.target="_blank")):(K.href=I.createObjectURL(m),setTimeout(function(){I.revokeObjectURL(K.href)},4e4),setTimeout(function(){o(K)},0))}:"msSaveOrOpenBlob"in navigator?function(m,C,k){if(C=C||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(t(m,k),C);else if(i(m))r(m,C,k);else{var I=document.createElement("a");I.href=m,I.target="_blank",setTimeout(function(){o(I)})}}:function(m,C,k,I){if(I=I||open("","_blank"),I&&(I.document.title=I.document.body.innerText="downloading..."),typeof m=="string")return r(m,C,k);var K=m.type==="application/octet-stream",L=/constructor/i.test(s.HTMLElement)||s.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||K&&L||a)&&typeof FileReader<"u"){var X=new FileReader;X.onloadend=function(){var ee=X.result;ee=q?ee:ee.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=ee:location=ee,I=null},X.readAsDataURL(m)}else{var H=s.URL||s.webkitURL,G=H.createObjectURL(m);I?I.location=G:location.href=G,I=null,setTimeout(function(){H.revokeObjectURL(G)},4e4)}});s.saveAs=f.saveAs=f,n.exports=f})})(WY);var LF=WY.exports;const jIe="5.0.1",zIe="get_your_own_OpIi9ZULNHzrESv6T2vL",NIe="b71f7f0ba4064f5eb9e903859a9cf5c6",GY={openmaptiles:zIe,thunderforest:NIe};function Ln(){var n="/home/runner/work/maputnik/maputnik/src/libs/style.ts",e="c162664fcb147ac7caff0efb860cd8a0c7d435d1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:19},end:{line:47,column:42}},19:{start:{line:48,column:20},end:{line:48,column:67}},20:{start:{line:49,column:2},end:{line:51,column:3}},21:{start:{line:50,column:4},end:{line:50,column:37}},22:{start:{line:52,column:2},end:{line:52,column:21}},23:{start:{line:55,column:17},end:{line:55,column:45}},24:{start:{line:56,column:2},end:{line:56,column:31}},25:{start:{line:56,column:15},end:{line:56,column:31}},26:{start:{line:57,column:2},end:{line:57,column:57}},27:{start:{line:57,column:41},end:{line:57,column:57}},28:{start:{line:58,column:23},end:{line:58,column:33}},29:{start:{line:59,column:2},end:{line:63,column:3}},30:{start:{line:60,column:4},end:{line:60,column:37}},31:{start:{line:61,column:9},end:{line:63,column:3}},32:{start:{line:62,column:4},end:{line:62,column:30}},33:{start:{line:64,column:22},end:{line:64,column:68}},34:{start:{line:65,column:2},end:{line:67,column:3}},35:{start:{line:66,column:4},end:{line:66,column:20}},36:{start:{line:69,column:2},end:{line:73,column:3}},37:{start:{line:70,column:4},end:{line:70,column:55}},38:{start:{line:72,column:4},end:{line:72,column:57}},39:{start:{line:74,column:25},end:{line:80,column:3}},40:{start:{line:81,column:23},end:{line:84,column:3}},41:{start:{line:85,column:2},end:{line:85,column:22}},42:{start:{line:88,column:21},end:{line:88,column:29}},43:{start:{line:89,column:2},end:{line:91,column:5}},44:{start:{line:90,column:4},end:{line:90,column:76}},45:{start:{line:92,column:2},end:{line:100,column:3}},46:{start:{line:93,column:27},end:{line:93,column:73}},47:{start:{line:94,column:4},end:{line:99,column:5}},48:{start:{line:95,column:6},end:{line:98,column:8}},49:{start:{line:101,column:2},end:{line:101,column:22}},50:{start:{line:104,column:26},end:{line:106,column:3}},51:{start:{line:107,column:2},end:{line:107,column:63}},52:{start:{line:108,column:2},end:{line:108,column:64}},53:{start:{line:109,column:2},end:{line:109,column:57}},54:{start:{line:110,column:2},end:{line:113,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:53,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:54,column:9},end:{line:54,column:33}},loc:{start:{line:54,column:67},end:{line:86,column:1}},line:54},9:{name:"replaceAccessTokens",decl:{start:{line:87,column:9},end:{line:87,column:28}},loc:{start:{line:87,column:50},end:{line:102,column:1}},line:87},10:{name:"(anonymous_10)",decl:{start:{line:89,column:40},end:{line:89,column:41}},loc:{start:{line:89,column:56},end:{line:91,column:3}},line:89},11:{name:"stripAccessTokens",decl:{start:{line:103,column:9},end:{line:103,column:26}},loc:{start:{line:103,column:37},end:{line:114,column:1}},line:103}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:19},end:{line:47,column:42}},type:"binary-expr",locations:[{start:{line:47,column:19},end:{line:47,column:36}},{start:{line:47,column:40},end:{line:47,column:42}}],line:47},4:{loc:{start:{line:49,column:2},end:{line:51,column:3}},type:"if",locations:[{start:{line:49,column:2},end:{line:51,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:49,column:6},end:{line:49,column:40}},type:"binary-expr",locations:[{start:{line:49,column:6},end:{line:49,column:24}},{start:{line:49,column:28},end:{line:49,column:40}}],line:49},6:{loc:{start:{line:54,column:56},end:{line:54,column:65}},type:"default-arg",locations:[{start:{line:54,column:63},end:{line:54,column:65}}],line:54},7:{loc:{start:{line:56,column:2},end:{line:56,column:31}},type:"if",locations:[{start:{line:56,column:2},end:{line:56,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},8:{loc:{start:{line:57,column:2},end:{line:57,column:57}},type:"if",locations:[{start:{line:57,column:2},end:{line:57,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},9:{loc:{start:{line:57,column:6},end:{line:57,column:39}},type:"binary-expr",locations:[{start:{line:57,column:6},end:{line:57,column:24}},{start:{line:57,column:28},end:{line:57,column:39}}],line:57},10:{loc:{start:{line:59,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:59,column:2},end:{line:63,column:3}},{start:{line:61,column:9},end:{line:63,column:3}}],line:59},11:{loc:{start:{line:59,column:6},end:{line:59,column:89}},type:"binary-expr",locations:[{start:{line:59,column:6},end:{line:59,column:46}},{start:{line:59,column:50},end:{line:59,column:89}}],line:59},12:{loc:{start:{line:61,column:9},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:9},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},13:{loc:{start:{line:61,column:13},end:{line:61,column:70}},type:"binary-expr",locations:[{start:{line:61,column:13},end:{line:61,column:28}},{start:{line:61,column:32},end:{line:61,column:70}}],line:61},14:{loc:{start:{line:65,column:2},end:{line:67,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:67,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},15:{loc:{start:{line:69,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:69,column:2},end:{line:73,column:3}},{start:{line:71,column:9},end:{line:73,column:3}}],line:69},16:{loc:{start:{line:87,column:39},end:{line:87,column:48}},type:"default-arg",locations:[{start:{line:87,column:46},end:{line:87,column:48}}],line:87},17:{loc:{start:{line:92,column:2},end:{line:100,column:3}},type:"if",locations:[{start:{line:92,column:2},end:{line:100,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},18:{loc:{start:{line:92,column:6},end:{line:92,column:114}},type:"binary-expr",locations:[{start:{line:92,column:6},end:{line:92,column:21}},{start:{line:92,column:26},end:{line:92,column:69}},{start:{line:92,column:73},end:{line:92,column:113}}],line:92},19:{loc:{start:{line:94,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0],17:[0,0],18:[0,0,0],19:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC,OAAQ,QAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO,IAAK,QAAO;AAE7C,MAAI,iBAAiB;AACrB,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AAGpE,qBAAiB;AAAA,EACnB;AAEA,QAAM,cAAc,eAAe,gBAAgB,UAAU,IAAI;AAEjE,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,MAAI;AACJ,MAAI,kBAAkB,UAAU;AAI9B,gBAAY,GAAG,OAAO,GAAG,YAAY,WAAW;AAAA,EAClD,OAAO;AACL,gBAAY,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,EACrD;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK;AAAA,IACP;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO,gBAAgB,qCAAqC;AAC5D,SAAO,gBAAgB,8BAA8B;AACrD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c162664fcb147ac7caff0efb860cd8a0c7d435d1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ln=function(){return s},s}Ln();const WIe=(Ln().s[0]++,$Y({version:8,sources:{},layers:[]}));function QY(){return Ln().f[0]++,Ln().s[1]++,Math.random().toString(36).substring(2,9)}function GIe(n){return Ln().f[1]++,Ln().s[2]++,Ln().b[1][0]++,!("id"in n)||(Ln().b[1][1]++,!n.id)?(Ln().b[0][0]++,Ln().s[3]++,n.id=QY(),Ln().s[4]++,n):(Ln().b[0][1]++,Ln().s[5]++,n)}function QIe(n){Ln().f[2]++;const e=(Ln().s[6]++,n.layers.map(t=>{Ln().f[3]++;const r=(Ln().s[7]++,{...t});return Ln().s[8]++,delete r.interactive,Ln().s[9]++,r}));return Ln().s[10]++,{...n,layers:e}}function $Ie(n){return Ln().f[4]++,Ln().s[11]++,{...n,layers:dte(n.layers)}}function $Y(n){return Ln().f[5]++,Ln().s[12]++,QIe($Ie(GIe(n)))}function YIe(n,e){Ln().f[6]++,Ln().s[13]++;for(let t=(Ln().s[14]++,0);t<n.length;t++){if(Ln().s[15]++,n[t].id===e)return Ln().b[2][0]++,Ln().s[16]++,t;Ln().b[2][1]++}return Ln().s[17]++,null}function RT(n,e,t){Ln().f[7]++;const r=(Ln().s[18]++,Ln().b[3][0]++,e.metadata||(Ln().b[3][1]++,{}));let i=(Ln().s[19]++,r[`maputnik:${n}_access_token`]);return Ln().s[20]++,Ln().b[5][0]++,t.allowFallback&&(Ln().b[5][1]++,!i)?(Ln().b[4][0]++,Ln().s[21]++,i=GY[n]):Ln().b[4][1]++,Ln().s[22]++,i}function qIe(n,e,t=(Ln().b[6][0]++,{})){var m;Ln().f[8]++;const r=(Ln().s[23]++,n.sources[e]);if(Ln().s[24]++,r)Ln().b[7][1]++;else return Ln().b[7][0]++,Ln().s[25]++,n;if(Ln().s[26]++,Ln().b[9][0]++,!("url"in r)||(Ln().b[9][1]++,!r.url))return Ln().b[8][0]++,Ln().s[27]++,n;Ln().b[8][1]++;let i=(Ln().s[28]++,e);Ln().s[29]++,Ln().b[11][0]++,e==="thunderforest_transport"||(Ln().b[11][1]++,e==="thunderforest_outdoors")?(Ln().b[10][0]++,Ln().s[30]++,i="thunderforest"):(Ln().b[10][1]++,Ln().s[31]++,Ln().b[13][0]++,"url"in r&&(Ln().b[13][1]++,(m=r.url)==null?void 0:m.match(/\.stadiamaps\.com/))?(Ln().b[12][0]++,Ln().s[32]++,i="stadia"):Ln().b[12][1]++);const o=(Ln().s[33]++,RT(i,n,t));if(Ln().s[34]++,o)Ln().b[14][1]++;else return Ln().b[14][0]++,Ln().s[35]++,n;let s;Ln().s[36]++,i=="stadia"?(Ln().b[15][0]++,Ln().s[37]++,s=`${r.url}?api_key=${o}`):(Ln().b[15][1]++,Ln().s[38]++,s=r.url.replace("{key}",o));const a=(Ln().s[39]++,{...n.sources,[e]:{...r,url:s}}),f=(Ln().s[40]++,{...n,sources:a});return Ln().s[41]++,f}function VIe(n,e=(Ln().b[16][0]++,{})){Ln().f[9]++;let t=(Ln().s[42]++,n);if(Ln().s[43]++,Object.keys(n.sources).forEach(r=>{Ln().f[10]++,Ln().s[44]++,t=qIe(t,r,e)}),Ln().s[45]++,Ln().b[18][0]++,n.glyphs&&(Ln().b[18][1]++,n.glyphs.match(/\.tilehosting\.com/)||(Ln().b[18][2]++,n.glyphs.match(/\.maptiler\.com/)))){Ln().b[17][0]++;const r=(Ln().s[46]++,RT("openmaptiles",n,e));Ln().s[47]++,r?(Ln().b[19][0]++,Ln().s[48]++,t={...t,glyphs:n.glyphs.replace("{key}",r)}):Ln().b[19][1]++}else Ln().b[17][1]++;return Ln().s[49]++,t}function HIe(n){Ln().f[11]++;const e=(Ln().s[50]++,{...n.metadata});return Ln().s[51]++,delete e["maputnik:openmaptiles_access_token"],Ln().s[52]++,delete e["maputnik:thunderforest_access_token"],Ln().s[53]++,delete e["maputnik:stadia_access_token"],Ln().s[54]++,{...n,metadata:e}}const Yu={ensureStyleValidity:$Y,emptyStyle:WIe,indexOfLayer:YIe,generateId:QY,getAccessToken:RT,replaceAccessTokens:VIe,stripAccessTokens:HIe};function gr(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",e="66cf81ab709608eec5a644a6a17a019c5afe48ce",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:14,column:28},end:{line:14,column:35}},1:{start:{line:15,column:36},end:{line:15,column:83}},2:{start:{line:18,column:4},end:{line:22,column:6}},3:{start:{line:25,column:4},end:{line:33,column:5}},4:{start:{line:26,column:6},end:{line:30,column:9}},5:{start:{line:32,column:6},end:{line:32,column:36}},6:{start:{line:36,column:23},end:{line:36,column:44}},7:{start:{line:37,column:22},end:{line:37,column:69}},8:{start:{line:38,column:17},end:{line:62,column:1}},9:{start:{line:63,column:17},end:{line:63,column:70}},10:{start:{line:64,column:23},end:{line:64,column:40}},11:{start:{line:65,column:4},end:{line:65,column:39}},12:{start:{line:68,column:23},end:{line:68,column:44}},13:{start:{line:69,column:4},end:{line:74,column:5}},14:{start:{line:70,column:19},end:{line:70,column:85}},15:{start:{line:71,column:25},end:{line:71,column:42}},16:{start:{line:72,column:6},end:{line:72,column:41}},17:{start:{line:73,column:6},end:{line:73,column:13}},18:{start:{line:75,column:21},end:{line:75,column:42}},19:{start:{line:76,column:4},end:{line:80,column:5}},20:{start:{line:77,column:6},end:{line:77,column:49}},21:{start:{line:78,column:6},end:{line:78,column:45}},22:{start:{line:79,column:6},end:{line:79,column:37}},23:{start:{line:79,column:30},end:{line:79,column:37}},24:{start:{line:81,column:21},end:{line:81,column:54}},25:{start:{line:82,column:4},end:{line:82,column:37}},26:{start:{line:83,column:4},end:{line:83,column:27}},27:{start:{line:84,column:4},end:{line:84,column:30}},28:{start:{line:87,column:23},end:{line:87,column:44}},29:{start:{line:88,column:23},end:{line:88,column:52}},30:{start:{line:89,column:4},end:{line:89,column:43}},31:{start:{line:90,column:4},end:{line:90,column:35}},32:{start:{line:90,column:28},end:{line:90,column:35}},33:{start:{line:91,column:21},end:{line:91,column:54}},34:{start:{line:92,column:4},end:{line:92,column:37}},35:{start:{line:93,column:4},end:{line:93,column:27}},36:{start:{line:94,column:4},end:{line:94,column:30}},37:{start:{line:97,column:23},end:{line:105,column:5}},38:{start:{line:106,column:23},end:{line:106,column:66}},39:{start:{line:107,column:4},end:{line:107,column:43}},40:{start:{line:108,column:4},end:{line:108,column:22}},41:{start:{line:111,column:25},end:{line:117,column:5}},42:{start:{line:118,column:4},end:{line:118,column:44}},43:{start:{line:121,column:14},end:{line:121,column:26}},44:{start:{line:122,column:16},end:{line:122,column:38}},45:{start:{line:123,column:4},end:{line:179,column:6}},46:{start:{line:182,column:20},end:{line:182,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:19},end:{line:23,column:3}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:15},end:{line:34,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:15},end:{line:66,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:20},end:{line:85,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:22},end:{line:95,column:3}},line:86},5:{name:"(anonymous_5)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:27},end:{line:109,column:3}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:42},end:{line:119,column:3}},line:110},7:{name:"(anonymous_7)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:11},end:{line:180,column:3}},line:120}},branchMap:{0:{loc:{start:{line:25,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:25},1:{loc:{start:{line:37,column:22},end:{line:37,column:69}},type:"binary-expr",locations:[{start:{line:37,column:22},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:69}}],line:37},2:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:76,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},4:{loc:{start:{line:79,column:6},end:{line:79,column:37}},type:"if",locations:[{start:{line:79,column:6},end:{line:79,column:37}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},5:{loc:{start:{line:90,column:4},end:{line:90,column:35}},type:"if",locations:[{start:{line:90,column:4},end:{line:90,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},6:{loc:{start:{line:140,column:24},end:{line:140,column:58}},type:"binary-expr",locations:[{start:{line:140,column:24},end:{line:140,column:52}},{start:{line:140,column:56},end:{line:140,column:58}}],line:140},7:{loc:{start:{line:149,column:24},end:{line:149,column:58}},type:"binary-expr",locations:[{start:{line:149,column:24},end:{line:149,column:52}},{start:{line:149,column:56},end:{line:149,column:58}}],line:149},8:{loc:{start:{line:158,column:24},end:{line:158,column:58}},type:"binary-expr",locations:[{start:{line:158,column:24},end:{line:158,column:52}},{start:{line:158,column:56},end:{line:158,column:58}}],line:158},9:{loc:{start:{line:168,column:12},end:{line:171,column:16}},type:"binary-expr",locations:[{start:{line:168,column:12},end:{line:168,column:39}},{start:{line:168,column:59},end:{line:171,column:16}}],line:168}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AAoKQ,cAKA,YALA;AApKR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,OAAO,cAAa;AAC5B,SAAyB,uBAAsB;AAE/C,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAC5B,MAAM,8BAA8B,OAAO,OAAO,uBAAuB;AAazE,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAE1E,iBAAiB;AACf,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAa;AACX,QAAI,KAAK,MAAM,SAAS,MAAM;AAC5B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,aAAa;AACX,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ,KAAK,MAAM,EAAE,KAAK;AAChE,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,MAAM,YAAY;AAChB,UAAM,aAAa,KAAK,eAAe;AAIvC,QAAI,CAAC,6BAA6B;AAChC,YAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,YAAM,aAAa,KAAK,WAAW;AACnC,aAAO,MAAM,aAAa,OAAO;AACjC;AAAA,IACF;AAEA,QAAI,aAAa,KAAK,MAAM;AAC5B,QAAI,cAAc,MAAM;AACtB,mBAAa,MAAM,KAAK,iBAAiB;AACzC,WAAK,MAAM,gBAAgB,UAAU;AACrC,UAAI,cAAc,KAAM;AAAA,IAC1B;AAEA,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,cAAc;AAClB,UAAM,aAAa,KAAK,eAAe;AAEvC,UAAM,aAAa,MAAM,KAAK,iBAAiB;AAC/C,SAAK,MAAM,gBAAgB,UAAU;AACrC,QAAI,cAAc,KAAM;AAExB,UAAM,WAAW,MAAM,WAAW,eAAe;AACjD,UAAM,SAAS,MAAM,UAAU;AAC/B,UAAM,SAAS,MAAM;AACrB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,MAAM,mBAAyD;AAC7D,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAC,oBAAoB,CAAC,OAAO,EAAC;AAAA,QACxC;AAAA,MACF;AAAA,MACA,eAAe,KAAK,WAAW;AAAA,IACjC;AAEA,UAAM,aAAa,MAAM,OAAO,mBAAmB,UAAU;AAC7D,SAAK,MAAM,gBAAgB,UAAU;AACrC,WAAO;AAAA,EACT;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,MAAM,oBAAoB,CAAC;AACjC,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,YAAY;AAAA,QACrB,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAI,YAAE,YAAY,GAAE;AAAA,UACrB,oBAAC,OACE,YAAE,uCAAuC,GAC5C;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,gBAC1C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,gBAC/C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,gBACxC,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,8BAA8B;AAAA,gBACjF,UAAU,KAAK,uBAAuB,KAAK,MAAM,8BAA8B;AAAA;AAAA,YACjF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA,iCAAC,eAAY,SAAS,KAAK,UAAU,KAAK,IAAI,GAC5C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,MAAM;AAAA,eACX;AAAA,YACC,+BACC,qBAAC,eAAY,SAAS,KAAK,YAAY,KAAK,IAAI,GAC9C;AAAA,kCAAC,UAAM;AAAA,cACN,EAAE,SAAS;AAAA,eACd;AAAA,YAGF,qBAAC,eAAY,SAAS,KAAK,WAAW,KAAK,IAAI,GAC7C;AAAA,kCAAC,SAAK;AAAA,cACL,EAAE,aAAa;AAAA,eAClB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"66cf81ab709608eec5a644a6a17a019c5afe48ce"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return gr=function(){return s},s}gr();const FF=(gr().s[0]++,jIe),RF=(gr().s[1]++,typeof window.showSaveFilePicker=="function");class ZIe extends kn.Component{tokenizedStyle(){return gr().f[0]++,gr().s[2]++,dN(Yu.stripAccessTokens(Yu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return gr().f[1]++,gr().s[3]++,this.props.mapStyle.name?(gr().b[0][0]++,gr().s[4]++,UIe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(gr().b[0][1]++,gr().s[5]++,this.props.mapStyle.id)}createHtml(){gr().f[2]++;const e=(gr().s[6]++,this.tokenizedStyle()),t=(gr().s[7]++,gr().b[1][0]++,this.props.mapStyle.name||(gr().b[1][1]++,this.props.t("Map"))),r=(gr().s[8]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${FF}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${FF}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${e},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(gr().s[9]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(gr().s[10]++,this.exportName());gr().s[11]++,LF.saveAs(i,o+".html")}async saveStyle(){gr().f[3]++;const e=(gr().s[12]++,this.tokenizedStyle());if(gr().s[13]++,RF)gr().b[2][1]++;else{gr().b[2][0]++;const i=(gr().s[14]++,new Blob([e],{type:"application/json;charset=utf-8"})),o=(gr().s[15]++,this.exportName());gr().s[16]++,LF.saveAs(i,o+".json"),gr().s[17]++;return}let t=(gr().s[18]++,this.props.fileHandle);if(gr().s[19]++,t==null)if(gr().b[3][0]++,gr().s[20]++,t=await this.createFileHandle(),gr().s[21]++,this.props.onSetFileHandle(t),gr().s[22]++,t==null){gr().b[4][0]++,gr().s[23]++;return}else gr().b[4][1]++;else gr().b[3][1]++;const r=(gr().s[24]++,await t.createWritable());gr().s[25]++,await r.write(e),gr().s[26]++,await r.close(),gr().s[27]++,this.props.onOpenToggle()}async saveStyleAs(){gr().f[4]++;const e=(gr().s[28]++,this.tokenizedStyle()),t=(gr().s[29]++,await this.createFileHandle());if(gr().s[30]++,this.props.onSetFileHandle(t),gr().s[31]++,t==null){gr().b[5][0]++,gr().s[32]++;return}else gr().b[5][1]++;const r=(gr().s[33]++,await t.createWritable());gr().s[34]++,await r.write(e),gr().s[35]++,await r.close(),gr().s[36]++,this.props.onOpenToggle()}async createFileHandle(){gr().f[5]++;const e=(gr().s[37]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],suggestedName:this.exportName()}),t=(gr().s[38]++,await window.showSaveFilePicker(e));return gr().s[39]++,this.props.onSetFileHandle(t),gr().s[40]++,t}changeMetadataProperty(e,t){gr().f[6]++;const r=(gr().s[41]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[e]:t}});gr().s[42]++,this.props.onStyleChanged(r)}render(){gr().f[7]++;const e=(gr().s[43]++,this.props.t),t=(gr().s[44]++,zY(e));return gr().s[45]++,Y.jsx(Q0,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Save Style"),className:"maputnik-export-modal",children:Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:e("Save Style")}),Y.jsx("p",{children:e("Save the JSON style to your computer.")}),Y.jsxs("div",{children:[Y.jsx(np,{label:t.maputnik.maptiler_access_token.label,fieldSpec:t.maputnik.maptiler_access_token,value:(gr().b[6][0]++,this.props.mapStyle.metadata||(gr().b[6][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),Y.jsx(np,{label:t.maputnik.thunderforest_access_token.label,fieldSpec:t.maputnik.thunderforest_access_token,value:(gr().b[7][0]++,this.props.mapStyle.metadata||(gr().b[7][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")}),Y.jsx(np,{label:t.maputnik.stadia_access_token.label,fieldSpec:t.maputnik.stadia_access_token,value:(gr().b[8][0]++,this.props.mapStyle.metadata||(gr().b[8][1]++,{}))["maputnik:stadia_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:stadia_access_token")})]}),Y.jsxs("div",{className:"maputnik-modal-export-buttons",children:[Y.jsxs(ja,{onClick:this.saveStyle.bind(this),children:[Y.jsx(CB,{}),e("Save")]}),(gr().b[9][0]++,RF&&(gr().b[9][1]++,Y.jsxs(ja,{onClick:this.saveStyleAs.bind(this),children:[Y.jsx(CB,{}),e("Save as")]}))),Y.jsxs(ja,{onClick:this.createHtml.bind(this),children:[Y.jsx(pie,{}),e("Create HTML")]})]})]})})}}const XIe=(gr().s[46]++,qo()(ZIe));function g5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",e="950dd35e62562a3439b74678b95f406e749c6958",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return g5=function(){return s},s}g5();class YY extends kn.Component{render(){return g5().f[0]++,g5().s[0]++,Y.jsx(Qb,{label:this.props.label,children:Y.jsx(BY,{...this.props})})}}function y5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",e="a27c35e986d22656fa80c276efb67df518853ac2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return y5=function(){return s},s}y5();class JIe extends kn.Component{render(){return y5().f[0]++,y5().s[0]++,Y.jsx(ga,{label:this.props.label,children:Y.jsx(KT,{...this.props})})}}function In(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",e="d4e14fa2f16e0b2ba5d431eb89d4dbe2e079b40d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:15,column:14},end:{line:15,column:26}},1:{start:{line:16,column:4},end:{line:30,column:9}},2:{start:{line:23,column:29},end:{line:26,column:12}},3:{start:{line:35,column:4},end:{line:38,column:7}},4:{start:{line:41,column:18},end:{line:41,column:47}},5:{start:{line:42,column:4},end:{line:51,column:6}},6:{start:{line:54,column:14},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:99,column:9}},8:{start:{line:66,column:32},end:{line:69,column:12}},9:{start:{line:80,column:33},end:{line:83,column:12}},10:{start:{line:92,column:33},end:{line:95,column:12}},11:{start:{line:102,column:27},end:{line:107,column:1}},12:{start:{line:102,column:34},end:{line:107,column:1}},13:{start:{line:110,column:14},end:{line:110,column:26}},14:{start:{line:111,column:24},end:{line:118,column:5}},15:{start:{line:112,column:26},end:{line:112,column:64}},16:{start:{line:113,column:6},end:{line:113,column:29}},17:{start:{line:114,column:6},end:{line:117,column:9}},18:{start:{line:119,column:4},end:{line:146,column:9}},19:{start:{line:126,column:29},end:{line:129,column:12}},20:{start:{line:133,column:8},end:{line:144,column:10}},21:{start:{line:141,column:31},end:{line:141,column:52}},22:{start:{line:151,column:14},end:{line:151,column:26}},23:{start:{line:152,column:24},end:{line:159,column:5}},24:{start:{line:153,column:26},end:{line:153,column:64}},25:{start:{line:154,column:6},end:{line:154,column:29}},26:{start:{line:155,column:6},end:{line:158,column:9}},27:{start:{line:160,column:23},end:{line:165,column:5}},28:{start:{line:161,column:6},end:{line:164,column:9}},29:{start:{line:166,column:4},end:{line:192,column:9}},30:{start:{line:179,column:8},end:{line:190,column:10}},31:{start:{line:187,column:31},end:{line:187,column:52}},32:{start:{line:197,column:14},end:{line:197,column:26}},33:{start:{line:198,column:4},end:{line:209,column:6}},34:{start:{line:204,column:28},end:{line:207,column:10}},35:{start:{line:214,column:14},end:{line:214,column:26}},36:{start:{line:215,column:4},end:{line:247,column:9}},37:{start:{line:227,column:12},end:{line:230,column:15}},38:{start:{line:240,column:12},end:{line:243,column:15}},39:{start:{line:252,column:14},end:{line:252,column:26}},40:{start:{line:253,column:24},end:{line:259,column:5}},41:{start:{line:260,column:4},end:{line:322,column:5}},42:{start:{line:262,column:8},end:{line:262,column:79}},43:{start:{line:264,column:8},end:{line:264,column:85}},44:{start:{line:266,column:8},end:{line:266,column:77}},45:{start:{line:268,column:8},end:{line:268,column:76}},46:{start:{line:270,column:8},end:{line:270,column:77}},47:{start:{line:272,column:8},end:{line:284,column:13}},48:{start:{line:277,column:36},end:{line:280,column:14}},49:{start:{line:286,column:8},end:{line:286,column:77}},50:{start:{line:288,column:8},end:{line:315,column:13}},51:{start:{line:294,column:38},end:{line:297,column:16}},52:{start:{line:308,column:38},end:{line:311,column:16}},53:{start:{line:317,column:8},end:{line:317,column:74}},54:{start:{line:319,column:8},end:{line:319,column:74}},55:{start:{line:321,column:8},end:{line:321,column:20}},56:{start:{line:325,column:31},end:{line:325,column:80}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:31,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:23,column:20},end:{line:23,column:21}},loc:{start:{line:23,column:29},end:{line:26,column:12}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:24},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:19},end:{line:52,column:3}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:100,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:66,column:20},end:{line:66,column:21}},loc:{start:{line:66,column:32},end:{line:69,column:12}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:33},end:{line:83,column:12}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:92,column:20},end:{line:92,column:21}},loc:{start:{line:92,column:33},end:{line:95,column:12}},line:92},8:{name:"(anonymous_8)",decl:{start:{line:102,column:27},end:{line:102,column:28}},loc:{start:{line:102,column:34},end:{line:107,column:1}},line:102},9:{name:"(anonymous_9)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:11},end:{line:147,column:3}},line:109},10:{name:"(anonymous_10)",decl:{start:{line:111,column:24},end:{line:111,column:25}},loc:{start:{line:111,column:38},end:{line:118,column:5}},line:111},11:{name:"(anonymous_11)",decl:{start:{line:126,column:20},end:{line:126,column:21}},loc:{start:{line:126,column:29},end:{line:129,column:12}},line:126},12:{name:"(anonymous_12)",decl:{start:{line:132,column:32},end:{line:132,column:33}},loc:{start:{line:132,column:57},end:{line:145,column:7}},line:132},13:{name:"(anonymous_13)",decl:{start:{line:141,column:22},end:{line:141,column:23}},loc:{start:{line:141,column:31},end:{line:141,column:52}},line:141},14:{name:"(anonymous_14)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:193,column:3}},line:150},15:{name:"(anonymous_15)",decl:{start:{line:152,column:24},end:{line:152,column:25}},loc:{start:{line:152,column:38},end:{line:159,column:5}},line:152},16:{name:"(anonymous_16)",decl:{start:{line:160,column:23},end:{line:160,column:24}},loc:{start:{line:160,column:33},end:{line:165,column:5}},line:160},17:{name:"(anonymous_17)",decl:{start:{line:178,column:32},end:{line:178,column:33}},loc:{start:{line:178,column:57},end:{line:191,column:7}},line:178},18:{name:"(anonymous_18)",decl:{start:{line:187,column:22},end:{line:187,column:23}},loc:{start:{line:187,column:31},end:{line:187,column:52}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:196,column:2},end:{line:196,column:3}},loc:{start:{line:196,column:11},end:{line:210,column:3}},line:196},20:{name:"(anonymous_20)",decl:{start:{line:204,column:18},end:{line:204,column:19}},loc:{start:{line:204,column:28},end:{line:207,column:10}},line:204},21:{name:"(anonymous_21)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:248,column:3}},line:213},22:{name:"(anonymous_22)",decl:{start:{line:226,column:20},end:{line:226,column:21}},loc:{start:{line:226,column:30},end:{line:231,column:11}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:239,column:20},end:{line:239,column:21}},loc:{start:{line:239,column:33},end:{line:244,column:11}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:11},end:{line:323,column:3}},line:251},25:{name:"(anonymous_25)",decl:{start:{line:277,column:22},end:{line:277,column:23}},loc:{start:{line:277,column:36},end:{line:280,column:14}},line:277},26:{name:"(anonymous_26)",decl:{start:{line:294,column:24},end:{line:294,column:25}},loc:{start:{line:294,column:38},end:{line:297,column:16}},line:294},27:{name:"(anonymous_27)",decl:{start:{line:308,column:24},end:{line:308,column:25}},loc:{start:{line:308,column:38},end:{line:311,column:16}},line:308}},branchMap:{0:{loc:{start:{line:41,column:18},end:{line:41,column:47}},type:"binary-expr",locations:[{start:{line:41,column:18},end:{line:41,column:41}},{start:{line:41,column:45},end:{line:41,column:47}}],line:41},1:{loc:{start:{line:79,column:17},end:{line:79,column:47}},type:"binary-expr",locations:[{start:{line:79,column:17},end:{line:79,column:42}},{start:{line:79,column:46},end:{line:79,column:47}}],line:79},2:{loc:{start:{line:91,column:17},end:{line:91,column:48}},type:"binary-expr",locations:[{start:{line:91,column:17},end:{line:91,column:42}},{start:{line:91,column:46},end:{line:91,column:48}}],line:91},3:{loc:{start:{line:260,column:4},end:{line:322,column:5}},type:"switch",locations:[{start:{line:261,column:6},end:{line:262,column:79}},{start:{line:263,column:6},end:{line:264,column:85}},{start:{line:265,column:6},end:{line:266,column:77}},{start:{line:267,column:6},end:{line:268,column:76}},{start:{line:269,column:6},end:{line:270,column:77}},{start:{line:271,column:6},end:{line:284,column:13}},{start:{line:285,column:6},end:{line:286,column:77}},{start:{line:287,column:6},end:{line:315,column:13}},{start:{line:316,column:6},end:{line:317,column:74}},{start:{line:318,column:6},end:{line:319,column:74}},{start:{line:320,column:6},end:{line:321,column:20}}],line:260},4:{loc:{start:{line:281,column:19},end:{line:281,column:86}},type:"binary-expr",locations:[{start:{line:281,column:19},end:{line:281,column:45}},{start:{line:281,column:49},end:{line:281,column:86}}],line:281},5:{loc:{start:{line:298,column:21},end:{line:298,column:92}},type:"binary-expr",locations:[{start:{line:298,column:21},end:{line:298,column:47}},{start:{line:298,column:51},end:{line:298,column:92}}],line:298},6:{loc:{start:{line:312,column:21},end:{line:312,column:92}},type:"binary-expr",locations:[{start:{line:312,column:21},end:{line:312,column:47}},{start:{line:312,column:51},end:{line:312,column:92}}],line:312}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AA2BW,SACL,KADK;AA3BX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAC1B,SAA0B,uBAAuB;AAcjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,cAAc;AAAA,UACvB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAaA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM,EAAE,UAAU;AAAA,QAC9B,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,SAAS;AAAA,YACP,CAAC,OAAO,mCAAmC;AAAA,YAC3C,CAAC,OAAO,yBAAyB;AAAA,UACnC;AAAA,UACA,UAAU,YAAU,KAAK,MAAM,SAAS;AAAA,YACtC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA,UACD,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAEA,MAAM,qBAAyE,CAAC,MAAO;AAAA,EACrF,EAAE,OAAO,EAAE,gBAAgB,GAAG,KAAK,WAAW;AAAA,EAC9C,EAAE,OAAO,EAAE,iBAAiB,GAAG,KAAK,YAAY;AAAA,EAChD,EAAE,OAAO,EAAE,oBAAoB,GAAG,KAAK,eAAe;AAAA,EACtD,EAAE,OAAO,EAAE,mBAAmB,GAAG,KAAK,cAAc;AACtD;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,aAAa;AAAA,QACtB,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,EAAE,SAAS,GAAG,WAAW,OAAO,eAAe,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,SAAS;AAAA,UAClB,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,MAAM,uCAAuC,MAAM,UAA+C;AAAA,EAChG,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,MACrB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM,KAAK,MAAM;AAAA,MACjB,QAAQ,KAAK,MAAM;AAAA,IACrB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACjE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAClD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,WAAW;AAAA,YACpB,WAAW,OAAO,cAAc;AAAA,YAChC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,cAAc,SAAS;AAAA,YACnE,eAAY;AAAA;AAAA,QACd,GACF;AAAA,MACA,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,qBAAC,uBAAqB,GAAG,aACzD;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,WAAW;AAAA,cACpB,WAAW,OAAO,kBAAkB;AAAA,cACpC,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA,cACvE,eAAY;AAAA;AAAA,UACd;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,UAAU;AAAA,cACnB,WAAW,OAAO,kBAAkB;AAAA,cACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,cAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,gBACxC,GAAG,KAAK,MAAM;AAAA,gBACd;AAAA,cACF,CAAC;AAAA,cACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,UACzE;AAAA,WACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;AAEA,MAAM,yBAAyB,gBAAgB,EAAE,8BAA8B;AAC/E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d4e14fa2f16e0b2ba5d431eb89d4dbe2e079b40d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return In=function(){return s},s}In();class W6 extends kn.Component{render(){In().f[0]++;const e=(In().s[0]++,this.props.t);return In().s[1]++,Y.jsxs("div",{children:[Y.jsx($b,{label:e("TileJSON URL"),fieldSpec:Yo.source_vector.url,value:this.props.source.url,onChange:t=>(In().f[1]++,In().s[2]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class G6 extends kn.Component{changeTileUrls(e){In().f[2]++,In().s[3]++,this.props.onChange({...this.props.source,tiles:e})}renderTileUrls(){In().f[3]++;const e=(In().s[4]++,In().b[0][0]++,this.props.source.tiles||(In().b[0][1]++,[]));return In().s[5]++,Y.jsx(YY,{label:this.props.t("Tile URL"),fieldSpec:Yo.source_vector.tiles,type:"url",value:e,onChange:this.changeTileUrls.bind(this)})}render(){In().f[4]++;const e=(In().s[6]++,this.props.t);return In().s[7]++,Y.jsxs("div",{children:[this.renderTileUrls(),Y.jsx(eS,{label:e("Scheme Type"),fieldSpec:Yo.source_vector.scheme,options:[["xyz","xyz (Slippy map tilenames scheme)"],["tms","tms (OSGeo spec scheme)"]],onChange:t=>(In().f[5]++,In().s[8]++,this.props.onChange({...this.props.source,scheme:t})),value:this.props.source.scheme,"data-wd-key":"modal:sources.add.scheme_type"}),Y.jsx(hf,{label:e("Min Zoom"),fieldSpec:Yo.source_vector.minzoom,value:(In().b[1][0]++,this.props.source.minzoom||(In().b[1][1]++,0)),onChange:t=>(In().f[6]++,In().s[9]++,this.props.onChange({...this.props.source,minzoom:t}))}),Y.jsx(hf,{label:e("Max Zoom"),fieldSpec:Yo.source_vector.maxzoom,value:(In().b[2][0]++,this.props.source.maxzoom||(In().b[2][1]++,22)),onChange:t=>(In().f[7]++,In().s[10]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}In().s[11]++;const qY=n=>(In().f[8]++,In().s[12]++,[{label:n("Coord top left"),key:"top left"},{label:n("Coord top right"),key:"top right"},{label:n("Coord bottom right"),key:"bottom right"},{label:n("Coord bottom left"),key:"bottom left"}]);class e7e extends kn.Component{render(){In().f[9]++;const e=(In().s[13]++,this.props.t);In().s[14]++;const t=(r,i)=>{In().f[10]++;const o=(In().s[15]++,this.props.source.coordinates.slice(0));In().s[16]++,o[r]=i,In().s[17]++,this.props.onChange({...this.props.source,coordinates:o})};return In().s[18]++,Y.jsxs("div",{children:[Y.jsx($b,{label:e("Image URL"),fieldSpec:Yo.source_image.url,value:this.props.source.url,onChange:r=>(In().f[11]++,In().s[19]++,this.props.onChange({...this.props.source,url:r}))}),qY(e).map(({label:r,key:i},o)=>(In().f[12]++,In().s[20]++,Y.jsx(A5,{label:r,length:2,type:"number",value:this.props.source.coordinates[o],default:[0,0],onChange:s=>(In().f[13]++,In().s[21]++,t(o,s))},i)))]})}}class t7e extends kn.Component{render(){In().f[14]++;const e=(In().s[22]++,this.props.t);In().s[23]++;const t=(i,o)=>{In().f[15]++;const s=(In().s[24]++,this.props.source.coordinates.slice(0));In().s[25]++,s[i]=o,In().s[26]++,this.props.onChange({...this.props.source,coordinates:s})};In().s[27]++;const r=i=>{In().f[16]++,In().s[28]++,this.props.onChange({...this.props.source,urls:i})};return In().s[29]++,Y.jsxs("div",{children:[Y.jsx(YY,{label:e("Video URL"),fieldSpec:Yo.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:r}),qY(e).map(({label:i,key:o},s)=>(In().f[17]++,In().s[30]++,Y.jsx(A5,{label:i,length:2,type:"number",value:this.props.source.coordinates[s],default:[0,0],onChange:a=>(In().f[18]++,In().s[31]++,t(s,a))},o)))]})}}class n7e extends kn.Component{render(){In().f[19]++;const e=(In().s[32]++,this.props.t);return In().s[33]++,Y.jsx($b,{label:e("GeoJSON URL"),fieldSpec:Yo.source_geojson.data,value:this.props.source.data,onChange:t=>(In().f[20]++,In().s[34]++,this.props.onChange({...this.props.source,data:t}))})}}class r7e extends kn.Component{render(){In().f[21]++;const e=(In().s[35]++,this.props.t);return In().s[36]++,Y.jsxs("div",{children:[Y.jsx(ga,{label:e("GeoJSON"),fieldSpec:Yo.source_geojson.data,children:Y.jsx(tT,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{In().f[22]++,In().s[37]++,this.props.onChange({...this.props.source,data:t})}})}),Y.jsx(JIe,{label:e("Cluster"),value:this.props.source.cluster,onChange:t=>{In().f[23]++,In().s[38]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class i7e extends kn.Component{render(){In().f[24]++;const e=(In().s[39]++,this.props.t),t=(In().s[40]++,{source:this.props.source,onChange:this.props.onChange,t:this.props.t,i18n:this.props.i18n,tReady:this.props.tReady});switch(In().s[41]++,this.props.mode){case"geojson_url":return In().b[3][0]++,In().s[42]++,Y.jsx(n7e,{...t});case"geojson_json":return In().b[3][1]++,In().s[43]++,Y.jsx(r7e,{...t});case"tilejson_vector":return In().b[3][2]++,In().s[44]++,Y.jsx(W6,{...t});case"tile_vector":return In().b[3][3]++,In().s[45]++,Y.jsx(G6,{...t});case"tilejson_raster":return In().b[3][4]++,In().s[46]++,Y.jsx(W6,{...t});case"tile_raster":return In().b[3][5]++,In().s[47]++,Y.jsx(G6,{...t,children:Y.jsx(hf,{label:e("Tile Size"),fieldSpec:Yo.source_raster.tileSize,onChange:r=>(In().f[25]++,In().s[48]++,this.props.onChange({...this.props.source,tileSize:r})),value:(In().b[4][0]++,this.props.source.tileSize||(In().b[4][1]++,Yo.source_raster.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"})});case"tilejson_raster-dem":return In().b[3][6]++,In().s[49]++,Y.jsx(W6,{...t});case"tilexyz_raster-dem":return In().b[3][7]++,In().s[50]++,Y.jsxs(G6,{...t,children:[Y.jsx(hf,{label:e("Tile Size"),fieldSpec:Yo.source_raster_dem.tileSize,onChange:r=>(In().f[26]++,In().s[51]++,this.props.onChange({...this.props.source,tileSize:r})),value:(In().b[5][0]++,this.props.source.tileSize||(In().b[5][1]++,Yo.source_raster_dem.tileSize.default)),"data-wd-key":"modal:sources.add.tile_size"}),Y.jsx(eS,{label:e("Encoding"),fieldSpec:Yo.source_raster_dem.encoding,options:Object.keys(Yo.source_raster_dem.encoding.values),onChange:r=>(In().f[27]++,In().s[52]++,this.props.onChange({...this.props.source,encoding:r})),value:(In().b[6][0]++,this.props.source.encoding||(In().b[6][1]++,Yo.source_raster_dem.encoding.default))})]});case"image":return In().b[3][8]++,In().s[53]++,Y.jsx(e7e,{...t});case"video":return In().b[3][9]++,In().s[54]++,Y.jsx(t7e,{...t});default:return In().b[3][10]++,In().s[55]++,null}}}const VY=(In().s[56]++,qo()(i7e));function ff(){var n="/home/runner/work/maputnik/maputnik/src/libs/source.ts",e="315b9927ffd3b5bf51669bb9e53779783a451930",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ff=function(){return s},s}ff();function o7e(n,e){ff().f[0]++;const t=(ff().s[0]++,{...n.sources});return ff().s[1]++,delete t[e],ff().s[2]++,{...n,sources:t}}function UF(n,e,t){return ff().f[1]++,ff().s[3]++,HY(n,e,t)}function HY(n,e,t){ff().f[2]++;const r=(ff().s[4]++,{...n.sources,[e]:t});return ff().s[5]++,{...n,sources:r}}const a7e={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},s7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},l7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},u7e={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},jF={openmaptiles:a7e,thunderforest_transport:s7e,thunderforest_outdoors:l7e,open_zoomstack:u7e};function qt(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",e="0667caa48c4612ae19edc85c8f2029433e2c75ea",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:33,column:9}},1:{start:{line:20,column:23},end:{line:20,column:57}},2:{start:{line:37,column:2},end:{line:40,column:3}},3:{start:{line:38,column:4},end:{line:38,column:43}},4:{start:{line:38,column:22},end:{line:38,column:43}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:44,column:3}},7:{start:{line:42,column:4},end:{line:42,column:50}},8:{start:{line:42,column:22},end:{line:42,column:50}},9:{start:{line:43,column:4},end:{line:43,column:33}},10:{start:{line:45,column:2},end:{line:48,column:3}},11:{start:{line:46,column:4},end:{line:46,column:43}},12:{start:{line:46,column:22},end:{line:46,column:43}},13:{start:{line:47,column:4},end:{line:47,column:29}},14:{start:{line:49,column:2},end:{line:55,column:3}},15:{start:{line:50,column:4},end:{line:54,column:5}},16:{start:{line:51,column:6},end:{line:51,column:27}},17:{start:{line:53,column:6},end:{line:53,column:28}},18:{start:{line:56,column:2},end:{line:58,column:3}},19:{start:{line:57,column:4},end:{line:57,column:19}},20:{start:{line:59,column:2},end:{line:61,column:3}},21:{start:{line:60,column:4},end:{line:60,column:19}},22:{start:{line:62,column:2},end:{line:62,column:14}},23:{start:{line:66,column:14},end:{line:66,column:26}},24:{start:{line:67,column:4},end:{line:93,column:9}},25:{start:{line:79,column:27},end:{line:79,column:67}},26:{start:{line:98,column:4},end:{line:98,column:17}},27:{start:{line:99,column:4},end:{line:103,column:6}},28:{start:{line:106,column:19},end:{line:106,column:50}},29:{start:{line:107,column:25},end:{line:107,column:40}},30:{start:{line:108,column:4},end:{line:186,column:5}},31:{start:{line:110,column:8},end:{line:113,column:10}},32:{start:{line:115,column:8},end:{line:119,column:10}},33:{start:{line:121,column:8},end:{line:124,column:10}},34:{start:{line:126,column:8},end:{line:132,column:10}},35:{start:{line:134,column:8},end:{line:137,column:10}},36:{start:{line:139,column:8},end:{line:146,column:10}},37:{start:{line:148,column:8},end:{line:151,column:10}},38:{start:{line:153,column:8},end:{line:159,column:10}},39:{start:{line:161,column:8},end:{line:170,column:10}},40:{start:{line:172,column:8},end:{line:183,column:10}},41:{start:{line:185,column:8},end:{line:185,column:18}},42:{start:{line:188,column:10},end:{line:191,column:3}},43:{start:{line:189,column:33},end:{line:189,column:43}},44:{start:{line:190,column:4},end:{line:190,column:39}},45:{start:{line:192,column:19},end:{line:194,column:3}},46:{start:{line:193,column:4},end:{line:193,column:30}},47:{start:{line:196,column:14},end:{line:196,column:26}},48:{start:{line:197,column:32},end:{line:199,column:5}},49:{start:{line:200,column:4},end:{line:250,column:9}},50:{start:{line:207,column:27},end:{line:207,column:57}},51:{start:{line:228,column:30},end:{line:228,column:87}},52:{start:{line:255,column:27},end:{line:255,column:40}},53:{start:{line:256,column:4},end:{line:256,column:35}},54:{start:{line:257,column:4},end:{line:257,column:26}},55:{start:{line:260,column:28},end:{line:260,column:38}},56:{start:{line:261,column:22},end:{line:261,column:77}},57:{start:{line:262,column:26},end:{line:275,column:6}},58:{start:{line:263,column:21},end:{line:263,column:47}},59:{start:{line:264,column:6},end:{line:274,column:8}},60:{start:{line:269,column:29},end:{line:269,column:93}},61:{start:{line:270,column:26},end:{line:270,column:85}},62:{start:{line:276,column:27},end:{line:288,column:6}},63:{start:{line:276,column:75},end:{line:276,column:106}},64:{start:{line:277,column:21},end:{line:277,column:44}},65:{start:{line:278,column:6},end:{line:287,column:8}},66:{start:{line:284,column:26},end:{line:284,column:107}},67:{start:{line:289,column:4},end:{line:319,column:6}},68:{start:{line:312,column:45},end:{line:312,column:109}},69:{start:{line:322,column:21},end:{line:322,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:34,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:57}},line:20},2:{name:"editorMode",decl:{start:{line:36,column:9},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:63,column:1}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:11},end:{line:94,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:79,column:21},end:{line:79,column:22}},loc:{start:{line:79,column:27},end:{line:79,column:67}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:21},end:{line:104,column:3}},line:97},6:{name:"(anonymous_6)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:22},end:{line:187,column:3}},line:105},7:{name:"(anonymous_7)",decl:{start:{line:188,column:10},end:{line:188,column:11}},loc:{start:{line:188,column:16},end:{line:191,column:3}},line:188},8:{name:"(anonymous_8)",decl:{start:{line:192,column:19},end:{line:192,column:20}},loc:{start:{line:192,column:31},end:{line:194,column:3}},line:192},9:{name:"(anonymous_9)",decl:{start:{line:195,column:2},end:{line:195,column:3}},loc:{start:{line:195,column:11},end:{line:251,column:3}},line:195},10:{name:"(anonymous_10)",decl:{start:{line:207,column:20},end:{line:207,column:21}},loc:{start:{line:207,column:27},end:{line:207,column:57}},line:207},11:{name:"(anonymous_11)",decl:{start:{line:228,column:20},end:{line:228,column:21}},loc:{start:{line:228,column:30},end:{line:228,column:87}},line:228},12:{name:"(anonymous_12)",decl:{start:{line:254,column:2},end:{line:254,column:3}},loc:{start:{line:254,column:21},end:{line:258,column:3}},line:254},13:{name:"(anonymous_13)",decl:{start:{line:259,column:2},end:{line:259,column:3}},loc:{start:{line:259,column:11},end:{line:320,column:3}},line:259},14:{name:"(anonymous_14)",decl:{start:{line:262,column:60},end:{line:262,column:61}},loc:{start:{line:262,column:74},end:{line:275,column:5}},line:262},15:{name:"(anonymous_15)",decl:{start:{line:269,column:20},end:{line:269,column:21}},loc:{start:{line:269,column:29},end:{line:269,column:93}},line:269},16:{name:"(anonymous_16)",decl:{start:{line:270,column:20},end:{line:270,column:21}},loc:{start:{line:270,column:26},end:{line:270,column:85}},line:270},17:{name:"(anonymous_17)",decl:{start:{line:276,column:61},end:{line:276,column:62}},loc:{start:{line:276,column:75},end:{line:276,column:106}},line:276},18:{name:"(anonymous_18)",decl:{start:{line:276,column:112},end:{line:276,column:113}},loc:{start:{line:276,column:126},end:{line:288,column:5}},line:276},19:{name:"(anonymous_19)",decl:{start:{line:284,column:20},end:{line:284,column:21}},loc:{start:{line:284,column:26},end:{line:284,column:107}},line:284},20:{name:"(anonymous_20)",decl:{start:{line:312,column:23},end:{line:312,column:24}},loc:{start:{line:312,column:45},end:{line:312,column:109}},line:312}},branchMap:{0:{loc:{start:{line:37,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:37,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},1:{loc:{start:{line:38,column:4},end:{line:38,column:43}},type:"if",locations:[{start:{line:38,column:4},end:{line:38,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:41,column:2},end:{line:44,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:44,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:42,column:50}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:45,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:48,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},5:{loc:{start:{line:46,column:4},end:{line:46,column:43}},type:"if",locations:[{start:{line:46,column:4},end:{line:46,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:49,column:2},end:{line:55,column:3}},type:"if",locations:[{start:{line:49,column:2},end:{line:55,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},7:{loc:{start:{line:50,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:54,column:5}},{start:{line:52,column:11},end:{line:54,column:5}}],line:50},8:{loc:{start:{line:56,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:56,column:2},end:{line:58,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},9:{loc:{start:{line:59,column:2},end:{line:61,column:3}},type:"if",locations:[{start:{line:59,column:2},end:{line:61,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:106,column:19},end:{line:106,column:50}},type:"binary-expr",locations:[{start:{line:106,column:19},end:{line:106,column:44}},{start:{line:106,column:48},end:{line:106,column:50}}],line:106},11:{loc:{start:{line:106,column:20},end:{line:106,column:36}},type:"binary-expr",locations:[{start:{line:106,column:20},end:{line:106,column:30}},{start:{line:106,column:34},end:{line:106,column:36}}],line:106},12:{loc:{start:{line:108,column:4},end:{line:186,column:5}},type:"switch",locations:[{start:{line:109,column:6},end:{line:113,column:10}},{start:{line:114,column:6},end:{line:119,column:10}},{start:{line:120,column:6},end:{line:124,column:10}},{start:{line:125,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:146,column:10}},{start:{line:147,column:6},end:{line:151,column:10}},{start:{line:152,column:6},end:{line:159,column:10}},{start:{line:160,column:6},end:{line:170,column:10}},{start:{line:171,column:6},end:{line:183,column:10}},{start:{line:184,column:6},end:{line:185,column:18}}],line:108},13:{loc:{start:{line:117,column:19},end:{line:117,column:42}},type:"binary-expr",locations:[{start:{line:117,column:19},end:{line:117,column:33}},{start:{line:117,column:37},end:{line:117,column:42}}],line:117},14:{loc:{start:{line:123,column:15},end:{line:123,column:72}},type:"binary-expr",locations:[{start:{line:123,column:15},end:{line:123,column:25}},{start:{line:123,column:29},end:{line:123,column:72}}],line:123},15:{loc:{start:{line:128,column:17},end:{line:128,column:80}},type:"binary-expr",locations:[{start:{line:128,column:17},end:{line:128,column:29}},{start:{line:128,column:33},end:{line:128,column:80}}],line:128},16:{loc:{start:{line:129,column:19},end:{line:129,column:38}},type:"binary-expr",locations:[{start:{line:129,column:19},end:{line:129,column:33}},{start:{line:129,column:37},end:{line:129,column:38}}],line:129},17:{loc:{start:{line:130,column:19},end:{line:130,column:39}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:39}}],line:130},18:{loc:{start:{line:131,column:18},end:{line:131,column:40}},type:"binary-expr",locations:[{start:{line:131,column:18},end:{line:131,column:31}},{start:{line:131,column:35},end:{line:131,column:40}}],line:131},19:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},20:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},21:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},22:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},23:{loc:{start:{line:144,column:18},end:{line:144,column:40}},type:"binary-expr",locations:[{start:{line:144,column:18},end:{line:144,column:31}},{start:{line:144,column:35},end:{line:144,column:40}}],line:144},24:{loc:{start:{line:145,column:20},end:{line:145,column:42}},type:"binary-expr",locations:[{start:{line:145,column:20},end:{line:145,column:35}},{start:{line:145,column:39},end:{line:145,column:42}}],line:145},25:{loc:{start:{line:150,column:15},end:{line:150,column:72}},type:"binary-expr",locations:[{start:{line:150,column:15},end:{line:150,column:25}},{start:{line:150,column:29},end:{line:150,column:72}}],line:150},26:{loc:{start:{line:155,column:17},end:{line:155,column:80}},type:"binary-expr",locations:[{start:{line:155,column:17},end:{line:155,column:29}},{start:{line:155,column:33},end:{line:155,column:80}}],line:155},27:{loc:{start:{line:156,column:19},end:{line:156,column:38}},type:"binary-expr",locations:[{start:{line:156,column:19},end:{line:156,column:33}},{start:{line:156,column:37},end:{line:156,column:38}}],line:156},28:{loc:{start:{line:157,column:19},end:{line:157,column:39}},type:"binary-expr",locations:[{start:{line:157,column:19},end:{line:157,column:33}},{start:{line:157,column:37},end:{line:157,column:39}}],line:157},29:{loc:{start:{line:158,column:20},end:{line:158,column:42}},type:"binary-expr",locations:[{start:{line:158,column:20},end:{line:158,column:35}},{start:{line:158,column:39},end:{line:158,column:42}}],line:158}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AAgCU,cACA,YADA;AAhCV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAEnB,SAA0B,uBAAuB;AAEjD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,EAAE,gCAAgC,EAAC,UAAU,KAAK,MAAM,SAAQ,CAAC;AAAA,YAC7E,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,QAC1D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,UACxD,UAAW,OAAqC,YAAY;AAAA,QAC9D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,UAC7D,UAAW,OAAwC,YAAY;AAAA,QACjE;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAQrB,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,EAAC,KAAK,EAAE,wFAAwF,EAAC;AAAA,UAC5G,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA,UACrD,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;AAAA,YACpC,CAAC,eAAe,EAAE,eAAe,CAAC;AAAA,YAClC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,uBAAuB,EAAE,2BAA2B,CAAC;AAAA,YACtD,CAAC,sBAAsB,EAAE,uBAAuB,CAAC;AAAA,YACjD,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,YACpB,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,UACtB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA,UAClB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACd,eAAY;AAAA,UAEX,YAAE,YAAY;AAAA;AAAA,MACjB;AAAA,OACF;AAAA,EACF;AACF;AASA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,SAAQ,IAAI,KAAK;AAC3B,UAAM,YAAY,EAAC,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAM;AACtE,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA,UACzE,GAAG;AAAA;AAAA,QALC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,SAAS;AAAA,QAElB;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACxB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,sBAAsB,GAAE;AAAA,YAC/B,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACzB,oBAAC,OAAG,YAAE,8FAA8F,GAAE;AAAA,YACtG;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA,gBACxH,GAAG;AAAA;AAAA,YACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0667caa48c4612ae19edc85c8f2029433e2c75ea"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return qt=function(){return s},s}qt();class A7e extends kn.Component{render(){return qt().f[0]++,qt().s[0]++,Y.jsx("div",{className:"maputnik-public-source",children:Y.jsxs(ja,{className:"maputnik-public-source-select",onClick:()=>(qt().f[1]++,qt().s[1]++,this.props.onSelect(this.props.id)),children:[Y.jsxs("div",{className:"maputnik-public-source-info",children:[Y.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),Y.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),Y.jsx("span",{className:"maputnik-space"}),Y.jsx(CN,{})]})})}}function c7e(n){return qt().f[2]++,qt().s[2]++,n.type==="raster"?(qt().b[0][0]++,qt().s[3]++,n.tiles?(qt().b[1][0]++,qt().s[4]++,"tile_raster"):(qt().b[1][1]++,qt().s[5]++,"tilejson_raster")):(qt().b[0][1]++,qt().s[6]++,n.type==="raster-dem"?(qt().b[2][0]++,qt().s[7]++,n.tiles?(qt().b[3][0]++,qt().s[8]++,"tilexyz_raster-dem"):(qt().b[3][1]++,qt().s[9]++,"tilejson_raster-dem")):(qt().b[2][1]++,qt().s[10]++,n.type==="vector"?(qt().b[4][0]++,qt().s[11]++,n.tiles?(qt().b[5][0]++,qt().s[12]++,"tile_vector"):(qt().b[5][1]++,qt().s[13]++,"tilejson_vector")):(qt().b[4][1]++,qt().s[14]++,n.type==="geojson"?(qt().b[6][0]++,qt().s[15]++,typeof n.data=="string"?(qt().b[7][0]++,qt().s[16]++,"geojson_url"):(qt().b[7][1]++,qt().s[17]++,"geojson_json")):(qt().b[6][1]++,qt().s[18]++,n.type==="image"?(qt().b[8][0]++,qt().s[19]++,"image"):(qt().b[8][1]++,qt().s[20]++,n.type==="video"?(qt().b[9][0]++,qt().s[21]++,"video"):(qt().b[9][1]++,qt().s[22]++,null))))))}class h7e extends kn.Component{render(){qt().f[3]++;const e=(qt().s[23]++,this.props.t);return qt().s[24]++,Y.jsxs("div",{className:"maputnik-active-source-type-editor",children:[Y.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[Y.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),Y.jsx("span",{className:"maputnik-space"}),Y.jsx(ja,{"aria-label":e("Remove '{{sourceId}}' source",{sourceId:this.props.sourceId}),className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(qt().f[4]++,qt().s[25]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:Y.jsx(Vv,{})})]}),Y.jsx("div",{className:"maputnik-active-source-type-editor-content",children:Y.jsx(VY,{onChange:this.props.onChange,mode:c7e(this.props.source),source:this.props.source})})]})}}class d7e extends kn.Component{constructor(t){qt().f[5]++,qt().s[26]++;super(t);pn(this,"onAdd",(qt().s[42]++,()=>{qt().f[7]++;const{source:t,sourceId:r}=(qt().s[43]++,this.state);qt().s[44]++,this.props.onAdd(r,t)}));pn(this,"onChangeSource",(qt().s[45]++,t=>{qt().f[8]++,qt().s[46]++,this.setState({source:t})}));qt().s[27]++,this.state={mode:"tilejson_vector",sourceId:Yu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(t){qt().f[6]++;const r=(qt().s[28]++,qt().b[10][0]++,(qt().b[11][0]++,this.state||(qt().b[11][1]++,{})).source||(qt().b[10][1]++,{})),{protocol:i}=(qt().s[29]++,window.location);switch(qt().s[30]++,t){case"geojson_url":return qt().b[12][0]++,qt().s[31]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return qt().b[12][1]++,qt().s[32]++,{type:"geojson",cluster:(qt().b[13][0]++,r.cluster||(qt().b[13][1]++,!1)),data:""};case"tilejson_vector":return qt().b[12][2]++,qt().s[33]++,{type:"vector",url:(qt().b[14][0]++,r.url||(qt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_vector":return qt().b[12][3]++,qt().s[34]++,{type:"vector",tiles:(qt().b[15][0]++,r.tiles||(qt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(qt().b[16][0]++,r.minzoom||(qt().b[16][1]++,0)),maxzoom:(qt().b[17][0]++,r.maxzoom||(qt().b[17][1]++,14)),scheme:(qt().b[18][0]++,r.scheme||(qt().b[18][1]++,"xyz"))};case"tilejson_raster":return qt().b[12][4]++,qt().s[35]++,{type:"raster",url:(qt().b[19][0]++,r.url||(qt().b[19][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_raster":return qt().b[12][5]++,qt().s[36]++,{type:"raster",tiles:(qt().b[20][0]++,r.tiles||(qt().b[20][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(qt().b[21][0]++,r.minzoom||(qt().b[21][1]++,0)),maxzoom:(qt().b[22][0]++,r.maxzoom||(qt().b[22][1]++,14)),scheme:(qt().b[23][0]++,r.scheme||(qt().b[23][1]++,"xyz")),tileSize:(qt().b[24][0]++,r.tileSize||(qt().b[24][1]++,512))};case"tilejson_raster-dem":return qt().b[12][6]++,qt().s[37]++,{type:"raster-dem",url:(qt().b[25][0]++,r.url||(qt().b[25][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return qt().b[12][7]++,qt().s[38]++,{type:"raster-dem",tiles:(qt().b[26][0]++,r.tiles||(qt().b[26][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.png`])),minzoom:(qt().b[27][0]++,r.minzoom||(qt().b[27][1]++,0)),maxzoom:(qt().b[28][0]++,r.maxzoom||(qt().b[28][1]++,14)),tileSize:(qt().b[29][0]++,r.tileSize||(qt().b[29][1]++,512))};case"image":return qt().b[12][8]++,qt().s[39]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return qt().b[12][9]++,qt().s[40]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return qt().b[12][10]++,qt().s[41]++,{}}}render(){qt().f[9]++;const t=(qt().s[47]++,this.props.t),r=(qt().s[48]++,{doc:Ao.source_vector.type.doc});return qt().s[49]++,Y.jsxs("div",{className:"maputnik-add-source",children:[Y.jsx(np,{label:t("Source ID"),fieldSpec:{doc:t("Unique ID that identifies the source and is used in the layer to reference the source.")},value:this.state.sourceId,onChange:i=>(qt().f[10]++,qt().s[50]++,this.setState({sourceId:i})),"data-wd-key":"modal:sources.add.source_id"}),Y.jsx(eS,{label:t("Source Type"),fieldSpec:r,options:[["geojson_json",t("GeoJSON (JSON)")],["geojson_url",t("GeoJSON (URL)")],["tilejson_vector",t("Vector (TileJSON URL)")],["tile_vector",t("Vector (Tile URLs)")],["tilejson_raster",t("Raster (TileJSON URL)")],["tile_raster",t("Raster (Tile URLs)")],["tilejson_raster-dem",t("Raster DEM (TileJSON URL)")],["tilexyz_raster-dem",t("Raster DEM (XYZ URLs)")],["image",t("Image")],["video",t("Video")]],onChange:i=>(qt().f[11]++,qt().s[51]++,this.setState({mode:i,source:this.defaultSource(i)})),value:this.state.mode,"data-wd-key":"modal:sources.add.source_type"}),Y.jsx(VY,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),Y.jsx(ja,{className:"maputnik-add-source-button",onClick:this.onAdd,"data-wd-key":"modal:sources.add.add_source",children:t("Add Source")})]})}}class f7e extends kn.Component{stripTitle(e){qt().f[12]++;const t=(qt().s[52]++,{...e});return qt().s[53]++,delete t.title,qt().s[54]++,t}render(){qt().f[13]++;const{t:e,mapStyle:t}=(qt().s[55]++,this.props),r=(qt().s[56]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),i=(qt().s[57]++,Object.keys(t.sources).map(s=>{qt().f[14]++;const a=(qt().s[58]++,t.sources[s]);return qt().s[59]++,Y.jsx(h7e,{sourceId:s,source:a,onChange:f=>(qt().f[15]++,qt().s[60]++,this.props.onStyleChanged(HY(t,s,f))),onDelete:()=>(qt().f[16]++,qt().s[61]++,this.props.onStyleChanged(o7e(t,s))),...r},s)})),o=(qt().s[62]++,Object.keys(jF).filter(s=>(qt().f[17]++,qt().s[63]++,!(s in t.sources))).map(s=>{qt().f[18]++;const a=(qt().s[64]++,jF[s]);return qt().s[65]++,Y.jsx(A7e,{id:s,type:a.type,title:a.title,onSelect:()=>(qt().f[19]++,qt().s[66]++,this.props.onStyleChanged(UF(t,s,this.stripTitle(a))))},s)}));return qt().s[67]++,Y.jsxs(Q0,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Sources"),children:[Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:e("Active Sources")}),i]}),Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:e("Choose Public Source")}),Y.jsx("p",{children:e("Add one of the publicly available sources to your style.")}),Y.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:o})]}),Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:e("Add New Source")}),Y.jsx("p",{children:e("Add a new source to your style. You can only choose the source type and id at creation time!")}),Y.jsx(d7e,{onAdd:(s,a)=>(qt().f[20]++,qt().s[68]++,this.props.onStyleChanged(UF(t,s,a))),...r})]})]})}}const p7e=(qt().s[69]++,qo()(f7e));var ZY={};Object.defineProperty(ZY,"__esModule",{value:!0});var m7e=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g7e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y7e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),v7e=$n,Q6=x7e(v7e),_7e=N0,C7e=b7e(_7e);function b7e(n){return n&&n.__esModule?n:{default:n}}function x7e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function w7e(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}function M7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function S7e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function E7e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var O7e=function(n){E7e(e,n);function e(t){M7e(this,e);var r=S7e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.handleChange=function(o){var s=Array.prototype.slice.call(o.target.files),a=(r.props.as||"url").toLowerCase();Promise.all(s.map(function(f){return new Promise(function(m,C){var k=new FileReader;switch(k.onload=function(I){m([I,f])},a){case"binary":{k.readAsBinaryString(f);break}case"buffer":{k.readAsArrayBuffer(f);break}case"text":{k.readAsText(f);break}case"url":{k.readAsDataURL(f);break}}})})).then(function(f){r.props.onChange(o,f)})},r.triggerInput=function(){var o=C7e.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":g7e(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return y7e(e,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,s=i.style,a=w7e(i,["as","children","style"]),f=o?{position:"absolute",top:"-9999px"}:{};return Q6.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:s},Q6.createElement("input",m7e({},a,{type:"file",ref:function(C){r._reactFileReaderInput=C},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:f})),o)}}]),e}(Q6.Component),B7e=ZY.default=O7e;function Lc(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",e="8092b056f21d597f3cd7d476fbebca118ff97879",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:24}},1:{start:{line:11,column:14},end:{line:11,column:26}},2:{start:{line:12,column:4},end:{line:29,column:6}},3:{start:{line:20,column:26},end:{line:20,column:42}},4:{start:{line:23,column:28},end:{line:23,column:49}},5:{start:{line:26,column:137},end:{line:26,column:159}},6:{start:{line:32,column:21},end:{line:32,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:30,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:20,column:19},end:{line:20,column:20}},loc:{start:{line:20,column:26},end:{line:20,column:42}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:23,column:22},end:{line:23,column:23}},loc:{start:{line:23,column:28},end:{line:23,column:49}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:26,column:130},end:{line:26,column:131}},loc:{start:{line:26,column:137},end:{line:26,column:159}},line:26}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAuBW,SAWL,KAXK;AAvBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,SAA0B,uBAAuB;AAWjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAC/C,YAAE,QAAQ,GACb,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8092b056f21d597f3cd7d476fbebca118ff97879"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Lc=function(){return s},s}Lc();class I7e extends kn.Component{underlayOnClick(e){Lc().f[0]++,Lc().s[0]++,e.stopPropagation()}render(){Lc().f[1]++;const e=(Lc().s[1]++,this.props.t);return Lc().s[2]++,Y.jsxs(Q0,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:t=>(Lc().f[2]++,Lc().s[3]++,underlayProps(t))},title:this.props.title,onOpenToggle:()=>(Lc().f[3]++,Lc().s[4]++,this.props.onCancel()),children:[Y.jsx("p",{children:this.props.message}),Y.jsx("p",{className:"maputnik-dialog__buttons",children:Y.jsx(ja,{onClick:t=>(Lc().f[4]++,Lc().s[5]++,this.props.onCancel(t)),children:e("Cancel")})})]})}}const k7e=(Lc().s[6]++,qo()(I7e)),XY=[{id:"0-empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="},{id:"americana",title:"Americana",url:"https://americanamap.org/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/23fa75ad-63e6-43f5-8837-03cdb0428bac"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"maptiler-basic-gl-style",title:"MapTiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"osm-openmaptiles",title:"OSM OpenMapTiles",url:"https://api.maptiler.com/maps/openstreetmap/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",thumbnail:"https://openmaptiles.org/img/styles/openmaptiles.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"protomaps-light",title:"Protomaps Light",url:"https://api.protomaps.com/styles/v4/light/en.json?key=d828297496b11844",thumbnail:"https://github.com/user-attachments/assets/911f9765-4a7d-4736-9ec0-f2d4c90ae587"},{id:"stadia-outdoors",title:"Stadia Outdoors",url:"https://tiles.stadiamaps.com/styles/outdoors.json",thumbnail:"https://tiles.stadiamaps.com/static/outdoors.png?size=480x320&center=47.350259,8.49035&zoom=16"},{id:"versatiles-colorful",title:"Versatiles Colorful",url:"https://tiles.versatiles.org/assets/styles/colorful.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/6cd69818-c541-46e4-a920-65fb4f654931"}];function Dn(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",e="29ff9eb08a4518c25ccd9ea0089ac05d05f682b1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:38,column:9}},1:{start:{line:20,column:23},end:{line:20,column:58}},2:{start:{line:43,column:4},end:{line:43,column:17}},3:{start:{line:44,column:4},end:{line:46,column:6}},4:{start:{line:49,column:4},end:{line:51,column:7}},5:{start:{line:54,column:4},end:{line:54,column:31}},6:{start:{line:54,column:11},end:{line:54,column:31}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:15},end:{line:132,column:3}},31:{start:{line:106,column:4},end:{line:106,column:22}},32:{start:{line:107,column:23},end:{line:115,column:5}},33:{start:{line:116,column:25},end:{line:116,column:68}},34:{start:{line:117,column:17},end:{line:117,column:43}},35:{start:{line:118,column:20},end:{line:118,column:37}},36:{start:{line:120,column:4},end:{line:127,column:5}},37:{start:{line:121,column:6},end:{line:121,column:37}},38:{start:{line:123,column:6},end:{line:125,column:9}},39:{start:{line:126,column:6},end:{line:126,column:13}},40:{start:{line:128,column:4},end:{line:128,column:51}},41:{start:{line:129,column:4},end:{line:129,column:49}},42:{start:{line:130,column:4},end:{line:130,column:24}},43:{start:{line:131,column:4},end:{line:131,column:16}},44:{start:{line:135,column:18},end:{line:155,column:3}},45:{start:{line:136,column:21},end:{line:136,column:29}},46:{start:{line:137,column:19},end:{line:137,column:35}},47:{start:{line:138,column:4},end:{line:138,column:22}},48:{start:{line:139,column:4},end:{line:139,column:37}},49:{start:{line:140,column:4},end:{line:153,column:6}},50:{start:{line:142,column:6},end:{line:149,column:7}},51:{start:{line:143,column:8},end:{line:143,column:48}},52:{start:{line:145,column:8},end:{line:147,column:11}},53:{start:{line:148,column:8},end:{line:148,column:15}},54:{start:{line:150,column:6},end:{line:150,column:53}},55:{start:{line:151,column:6},end:{line:151,column:39}},56:{start:{line:152,column:6},end:{line:152,column:26}},57:{start:{line:154,column:4},end:{line:154,column:50}},58:{start:{line:154,column:28},end:{line:154,column:49}},59:{start:{line:157,column:4},end:{line:159,column:7}},60:{start:{line:160,column:4},end:{line:160,column:22}},61:{start:{line:161,column:4},end:{line:161,column:30}},62:{start:{line:163,column:16},end:{line:167,column:3}},63:{start:{line:164,column:4},end:{line:166,column:7}},64:{start:{line:169,column:14},end:{line:169,column:26}},65:{start:{line:170,column:25},end:{line:181,column:6}},66:{start:{line:171,column:6},end:{line:180,column:8}},67:{start:{line:183,column:4},end:{line:188,column:5}},68:{start:{line:184,column:6},end:{line:187,column:11}},69:{start:{line:186,column:61},end:{line:186,column:78}},70:{start:{line:189,column:4},end:{line:267,column:9}},71:{start:{line:195,column:30},end:{line:195,column:49}},72:{start:{line:263,column:27},end:{line:263,column:56}},73:{start:{line:270,column:18},end:{line:270,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:39,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:58}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:21},end:{line:47,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:15},end:{line:52,column:3}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:27},end:{line:62,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:15},end:{line:105,column:16}},loc:{start:{line:105,column:27},end:{line:132,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:135,column:18},end:{line:135,column:19}},loc:{start:{line:135,column:38},end:{line:155,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:140,column:20},end:{line:140,column:21}},loc:{start:{line:140,column:27},end:{line:153,column:5}},line:140},14:{name:"(anonymous_14)",decl:{start:{line:154,column:21},end:{line:154,column:22}},loc:{start:{line:154,column:28},end:{line:154,column:49}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:17},end:{line:162,column:3}},line:156},16:{name:"(anonymous_16)",decl:{start:{line:163,column:16},end:{line:163,column:17}},loc:{start:{line:163,column:25},end:{line:167,column:3}},line:163},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:268,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:170,column:42},end:{line:170,column:43}},loc:{start:{line:170,column:54},end:{line:181,column:5}},line:170},19:{name:"(anonymous_19)",decl:{start:{line:186,column:55},end:{line:186,column:56}},loc:{start:{line:186,column:61},end:{line:186,column:78}},line:186},20:{name:"(anonymous_20)",decl:{start:{line:195,column:24},end:{line:195,column:25}},loc:{start:{line:195,column:30},end:{line:195,column:49}},line:195},21:{name:"(anonymous_21)",decl:{start:{line:263,column:20},end:{line:263,column:21}},loc:{start:{line:263,column:27},end:{line:263,column:56}},line:263}},branchMap:{0:{loc:{start:{line:54,column:4},end:{line:54,column:31}},type:"if",locations:[{start:{line:54,column:4},end:{line:54,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:183,column:4},end:{line:188,column:5}},type:"if",locations:[{start:{line:183,column:4},end:{line:188,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:183},4:{loc:{start:{line:202,column:53},end:{line:217,column:21}},type:"cond-expr",locations:[{start:{line:202,column:119},end:{line:213,column:15}},{start:{line:213,column:34},end:{line:217,column:21}}],line:202}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA6BQ,SACE,KADF;AA7BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AACxC,SAAS,OAAwB,uBAAuB;AAExD,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAgBA,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG,EAAG,GAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,aAAa,YAAY;AACvB,SAAK,WAAW;AAEhB,UAAM,aAAoC;AAAA,MACxC,OAAO;AAAA,QACL;AAAA,UACE,aAAa;AAAA,UACb,QAAQ,EAAE,oBAAoB,CAAC,OAAO,EAAE;AAAA,QAC1C;AAAA,MACF;AAAA,MACA,UAAU;AAAA,IACZ;AAEA,UAAM,CAAC,UAAU,IAAI,MAAM,OAAO,mBAAmB,UAAU;AAC/D,UAAM,OAAO,MAAM,WAAW,QAAQ;AACtC,UAAM,UAAU,MAAM,KAAK,KAAK;AAEhC,QAAI;AACJ,QAAI;AACF,iBAAW,KAAK,MAAM,OAAO;AAAA,IAC/B,SAAS,KAAK;AACZ,WAAK,SAAS;AAAA,QACZ,OAAQ,IAAc,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,eAAW,MAAM,oBAAoB,QAAQ;AAE7C,SAAK,MAAM,YAAY,UAAU,UAAU;AAC3C,SAAK,aAAa;AAClB,WAAO;AAAA,EACT;AAAA;AAAA;AAAA,EAIA,gBAAgB,OAAO,GAAQ,UAAoB;AACjD,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAC9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO,EAAE,YAAY;AAAA,UAEpB;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAI,YAAE,kBAAkB,GAAE;AAAA,cAC3B,oBAAC,OAAG,YAAE,6CAA6C,GAAE;AAAA,cACrD,oBAAC,SACE,iBAAO,OAAO,uBAAuB,aACpC;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,KAAK;AAAA,kBAAY;AAAA,wCAAC,gBAAY;AAAA,oBAAE;AAAA,oBAAE,EAAE,YAAY;AAAA;AAAA;AAAA,cAC3D,IAEA,oBAAC,mBAAgB,UAAU,KAAK,eAAe,UAAU,IAAI,cAAY,EAAE,YAAY,GACrF,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,gBAAE,EAAE,YAAY;AAAA,iBAAE,GACpF,GAEJ;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAI,YAAE,eAAe,GAAE;AAAA,cACxB,oBAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,gBACkC,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I,GACF;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAY,EAAE,WAAW;AAAA,kBACzB,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAS,EAAE,cAAc;AAAA,kBACzB,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,cACzB,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO,EAAE,eAAe;AAAA,UACxB,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,EAAE,2BAA2B,EAAE,YAAY,KAAK,MAAM,iBAAiB,CAAC;AAAA;AAAA,MACnF;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"29ff9eb08a4518c25ccd9ea0089ac05d05f682b1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Dn=function(){return s},s}Dn();class T7e extends kn.Component{render(){return Dn().f[0]++,Dn().s[0]++,Y.jsx("div",{className:"maputnik-public-style",children:Y.jsxs(ja,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Dn().f[1]++,Dn().s[1]++,this.props.onSelect(this.props.url)),children:[Y.jsxs("div",{className:"maputnik-public-style-header",children:[Y.jsx("div",{children:this.props.title}),Y.jsx("span",{className:"maputnik-space"}),Y.jsx(CN,{})]}),Y.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class P7e extends kn.Component{constructor(t){Dn().f[2]++,Dn().s[2]++;super(t);pn(this,"onStyleSelect",(Dn().s[10]++,t=>{Dn().f[5]++,Dn().s[11]++,this.clearError();let r=(Dn().s[12]++,!1);Dn().s[13]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(i){return Dn().f[6]++,Dn().s[14]++,i.json()}).then(i=>{if(Dn().f[7]++,Dn().s[15]++,r){Dn().b[2][0]++,Dn().s[16]++;return}else Dn().b[2][1]++;Dn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Dn().s[18]++,Yu.ensureStyleValidity(i));Dn().s[19]++,console.log("Loaded style ",o.id),Dn().s[20]++,this.props.onStyleOpen(o),Dn().s[21]++,this.onOpenToggle()}).catch(i=>{Dn().f[8]++,Dn().s[22]++,this.setState({error:`Failed to load: '${t}'`,activeRequest:null,activeRequestUrl:null}),Dn().s[23]++,console.error(i),Dn().s[24]++,console.warn("Could not open the style URL",t)}),Dn().s[25]++,this.setState({activeRequest:{abort:function(){Dn().f[9]++,Dn().s[26]++,r=!0}},activeRequestUrl:t})}));pn(this,"onSubmitUrl",(Dn().s[27]++,t=>{Dn().f[10]++,Dn().s[28]++,t.preventDefault(),Dn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));pn(this,"onOpenFile",(Dn().s[30]++,async()=>{Dn().f[11]++,Dn().s[31]++,this.clearError();const t=(Dn().s[32]++,{types:[{description:"json",accept:{"application/json":[".json"]}}],multiple:!1}),[r]=(Dn().s[33]++,await window.showOpenFilePicker(t)),i=(Dn().s[34]++,await r.getFile()),o=(Dn().s[35]++,await i.text());let s;Dn().s[36]++;try{Dn().s[37]++,s=JSON.parse(o)}catch(a){Dn().s[38]++,this.setState({error:a.toString()}),Dn().s[39]++;return}return Dn().s[40]++,s=Yu.ensureStyleValidity(s),Dn().s[41]++,this.props.onStyleOpen(s,r),Dn().s[42]++,this.onOpenToggle(),Dn().s[43]++,i}));pn(this,"onFileChanged",(Dn().s[44]++,async(t,r)=>{Dn().f[12]++;const[,i]=(Dn().s[45]++,r[0]),o=(Dn().s[46]++,new FileReader);Dn().s[47]++,this.clearError(),Dn().s[48]++,o.readAsText(i,"UTF-8"),Dn().s[49]++,o.onload=s=>{var f;Dn().f[13]++;let a;Dn().s[50]++;try{Dn().s[51]++,a=JSON.parse((f=s.target)==null?void 0:f.result)}catch(m){Dn().s[52]++,this.setState({error:m.toString()}),Dn().s[53]++;return}Dn().s[54]++,a=Yu.ensureStyleValidity(a),Dn().s[55]++,this.props.onStyleOpen(a),Dn().s[56]++,this.onOpenToggle()},Dn().s[57]++,o.onerror=s=>(Dn().f[14]++,Dn().s[58]++,console.log(s.target))}));pn(this,"onChangeUrl",(Dn().s[62]++,t=>{Dn().f[16]++,Dn().s[63]++,this.setState({styleUrl:t})}));Dn().s[3]++,this.state={styleUrl:""}}clearError(){Dn().f[3]++,Dn().s[4]++,this.setState({error:null})}onCancelActiveRequest(t){Dn().f[4]++,Dn().s[5]++,t?(Dn().b[0][0]++,Dn().s[6]++,t.stopPropagation()):Dn().b[0][1]++,Dn().s[7]++,this.state.activeRequest?(Dn().b[1][0]++,Dn().s[8]++,this.state.activeRequest.abort(),Dn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Dn().b[1][1]++}onOpenToggle(){Dn().f[15]++,Dn().s[59]++,this.setState({styleUrl:""}),Dn().s[60]++,this.clearError(),Dn().s[61]++,this.props.onOpenToggle()}render(){Dn().f[17]++;const t=(Dn().s[64]++,this.props.t),r=(Dn().s[65]++,XY.map(o=>(Dn().f[18]++,Dn().s[66]++,Y.jsx(T7e,{url:o.url,title:o.title,thumbnailUrl:o.thumbnail,onSelect:this.onStyleSelect},o.id))));let i;return Dn().s[67]++,this.state.error?(Dn().b[3][0]++,Dn().s[68]++,i=Y.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,Y.jsx("a",{href:"#",onClick:()=>(Dn().f[19]++,Dn().s[69]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):Dn().b[3][1]++,Dn().s[70]++,Y.jsxs("div",{children:[Y.jsxs(Q0,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Dn().f[20]++,Dn().s[71]++,this.onOpenToggle()),title:t("Open Style"),children:[i,Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:t("Open local Style")}),Y.jsx("p",{children:t("Open a local JSON style from your computer.")}),Y.jsx("div",{children:typeof window.showOpenFilePicker=="function"?(Dn().b[4][0]++,Y.jsxs(ja,{className:"maputnik-big-button",onClick:this.onOpenFile,children:[Y.jsx(uK,{})," ",t("Open Style")]})):(Dn().b[4][1]++,Y.jsx(B7e,{onChange:this.onFileChanged,tabIndex:-1,"aria-label":t("Open Style"),children:Y.jsxs(ja,{className:"maputnik-upload-button",children:[Y.jsx(uK,{})," ",t("Open Style")]})}))})]}),Y.jsx("section",{className:"maputnik-modal-section",children:Y.jsxs("form",{onSubmit:this.onSubmitUrl,children:[Y.jsx("h1",{children:t("Load from URL")}),Y.jsx("p",{children:Y.jsxs(E0,{t,children:["Load from a URL. Note that the URL must have ",Y.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]})}),Y.jsx(LT,{"aria-label":t("Style URL"),"data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:t("Enter URL..."),value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),Y.jsx("div",{children:Y.jsx(ja,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),Y.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[Y.jsx("h1",{children:t("Gallery Styles")}),Y.jsx("p",{children:t("Open one of the publicly available styles to start from.")}),Y.jsx("div",{className:"maputnik-style-gallery-container",children:r})]})]}),Y.jsx(k7e,{isOpen:!!this.state.activeRequest,title:t("Loading style"),onCancel:o=>(Dn().f[21]++,Dn().s[72]++,this.onCancelActiveRequest(o)),message:t("Loading: {{requestUrl}}",{requestUrl:this.state.activeRequestUrl})})]})}}const K7e=(Dn().s[73]++,qo()(P7e));function td(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",e="2fa0c1760625a188da3b2788fa0924b96bb7f3e1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:17},end:{line:41,column:5}},2:{start:{line:42,column:25},end:{line:115,column:5}},3:{start:{line:116,column:4},end:{line:145,column:6}},4:{start:{line:130,column:12},end:{line:133,column:22}},5:{start:{line:137,column:12},end:{line:141,column:22}},6:{start:{line:148,column:23},end:{line:148,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:146,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:129,column:57},end:{line:129,column:58}},loc:{start:{line:129,column:72},end:{line:134,column:11}},line:129},2:{name:"(anonymous_2)",decl:{start:{line:136,column:65},end:{line:136,column:66}},loc:{start:{line:136,column:80},end:{line:142,column:11}},line:136}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAiBa,SAwCA,UAxCA,KAwCA,YAxCA;AAjBb,OAAO,WAAW;AAClB,SAAS,OAAwB,uBAAuB;AAExD,OAAO,WAAW;AASlB,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,YAAY;AAAA,MACtB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,cAAc;AAAA,MACxB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,oBAAoB;AAAA,MAC9B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,sBAAsB;AAAA,MAChC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,WAAW;AAAA,MACrB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,aAAa;AAAA,MACvB;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM,EAAE,uBAAwB;AAAA,MAClC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM,EAAE,0BAA2B;AAAA,MACrC;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM,EAAE,sCAAuC;AAAA,MACjD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,sCAAsC;AAAA,MAChD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QAEpB,+BAAC,aAAQ,WAAU,mDACjB;AAAA,8BAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB,GACF;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAG,YAAE,8DAA8D,GAAE;AAAA,UACtE,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,iBAAiB,gBAAgB,EAAE,sBAAsB;AAC/D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2fa0c1760625a188da3b2788fa0924b96bb7f3e1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return td=function(){return s},s}td();class D7e extends kn.Component{render(){td().f[0]++;const e=(td().s[0]++,this.props.t),t=(td().s[1]++,[{key:Y.jsx("kbd",{children:"?"}),text:e("Shortcuts menu")},{key:Y.jsx("kbd",{children:"o"}),text:e("Open modal")},{key:Y.jsx("kbd",{children:"e"}),text:e("Export modal")},{key:Y.jsx("kbd",{children:"d"}),text:e("Data Sources modal")},{key:Y.jsx("kbd",{children:"s"}),text:e("Style Settings modal")},{key:Y.jsx("kbd",{children:"i"}),text:e("Toggle inspect")},{key:Y.jsx("kbd",{children:"m"}),text:e("Focus map")},{key:Y.jsx("kbd",{children:"!"}),text:e("Debug modal")}]),r=(td().s[2]++,[{key:Y.jsx("kbd",{children:"+"}),text:e("Increase the zoom level by 1.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"+"})]}),text:e("Increase the zoom level by 2.")},{key:Y.jsx("kbd",{children:"-"}),text:e("Decrease the zoom level by 1.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"-"})]}),text:e("Decrease the zoom level by 2.")},{key:Y.jsx("kbd",{children:"Up"}),text:e("Pan up by 100 pixels.")},{key:Y.jsx("kbd",{children:"Down"}),text:e("Pan down by 100 pixels.")},{key:Y.jsx("kbd",{children:"Left"}),text:e("Pan left by 100 pixels.")},{key:Y.jsx("kbd",{children:"Right"}),text:e("Pan right by 100 pixels.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"Right"})]}),text:e("Increase the rotation by 15 degrees.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"Left"})]}),text:e("Decrease the rotation by 15 degrees.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"Up"})]}),text:e("Increase the pitch by 10 degrees.")},{key:Y.jsxs(Y.Fragment,{children:[Y.jsx("kbd",{children:"Shift"})," + ",Y.jsx("kbd",{children:"Down"})]}),text:e("Decrease the pitch by 10 degrees.")}]);return td().s[3]++,Y.jsx(Q0,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Shortcuts"),children:Y.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Y.jsx("p",{children:Y.jsxs(E0,{t:e,children:["Press ",Y.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]})}),Y.jsx("dl",{children:t.map((i,o)=>(td().f[1]++,td().s[4]++,Y.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[Y.jsx("dt",{children:i.key},"dt"+o),Y.jsx("dd",{children:i.text},"dd"+o)]},o)))}),Y.jsx("p",{children:e("If the Map is in focused you can use the following shortcuts")}),Y.jsx("ul",{children:r.map((i,o)=>(td().f[2]++,td().s[5]++,Y.jsxs("li",{children:[Y.jsx("span",{children:i.key})," ",i.text]},o)))})]})})}}const L7e=(td().s[6]++,qo()(D7e));function Ol(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",e="a1d210f2dd55b03f0e8aae655258e8184b2d45b3",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:7,column:27},end:{line:7,column:37}},1:{start:{line:8,column:20},end:{line:8,column:48}},2:{start:{line:9,column:19},end:{line:9,column:49}},3:{start:{line:10,column:19},end:{line:10,column:49}},4:{start:{line:11,column:4},end:{line:53,column:6}},5:{start:{line:22,column:14},end:{line:26,column:27}},6:{start:{line:23,column:96},end:{line:23,column:153}},7:{start:{line:29,column:14},end:{line:33,column:27}},8:{start:{line:30,column:96},end:{line:30,column:153}},9:{start:{line:56,column:19},end:{line:56,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:54,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:21,column:140},end:{line:21,column:141}},loc:{start:{line:21,column:156},end:{line:27,column:13}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:89},end:{line:23,column:90}},loc:{start:{line:23,column:96},end:{line:23,column:153}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:28,column:136},end:{line:28,column:137}},loc:{start:{line:28,column:152},end:{line:34,column:13}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:30,column:89},end:{line:30,column:90}},loc:{start:{line:30,column:96},end:{line:30,column:153}},line:30}},branchMap:{0:{loc:{start:{line:21,column:12},end:{line:27,column:17}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:44}},{start:{line:21,column:64},end:{line:27,column:17}}],line:21},1:{loc:{start:{line:28,column:12},end:{line:34,column:17}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:40}},{start:{line:28,column:60},end:{line:34,column:17}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAuCQ,cAKQ,YALR;AAvCR,OAAO,WAAW;AAElB,SAAS,OAAwB,uBAAuB;AACxD,OAAO,WAAW;AAqBlB,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAS;AACP,UAAM,EAAC,GAAG,QAAO,IAAI,KAAK;AAE1B,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,OAAO;AAAA,QAEhB;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAI,YAAE,SAAS,GAAE;AAAA,YACjB,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,oBAAC,OACC,+BAAC,SAAM,GACL;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN,GACF;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1d210f2dd55b03f0e8aae655258e8184b2d45b3"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ol=function(){return s},s}Ol();class F7e extends kn.Component{render(){Ol().f[0]++;const{t:e,mapView:t}=(Ol().s[0]++,this.props),r=(Ol().s[1]++,Math.round(t.zoom)+1),i=(Ol().s[2]++,+t.center.lng.toFixed(5)),o=(Ol().s[3]++,+t.center.lat.toFixed(5));return Ol().s[4]++,Y.jsxs(Q0,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Debug"),children:[Y.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[Y.jsx("h1",{children:e("Options")}),(Ol().b[0][0]++,this.props.renderer==="mlgljs"&&(Ol().b[0][1]++,Y.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([s,a])=>(Ol().f[1]++,Ol().s[5]++,Y.jsx("li",{children:Y.jsxs("label",{children:[Y.jsx("input",{type:"checkbox",checked:a,onChange:f=>(Ol().f[2]++,Ol().s[6]++,this.props.onChangeMaplibreGlDebug(s,f.target.checked))})," ",s]})},s)))}))),(Ol().b[1][0]++,this.props.renderer==="ol"&&(Ol().b[1][1]++,Y.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([s,a])=>(Ol().f[3]++,Ol().s[7]++,Y.jsx("li",{children:Y.jsxs("label",{children:[Y.jsx("input",{type:"checkbox",checked:a,onChange:f=>(Ol().f[4]++,Ol().s[8]++,this.props.onChangeOpenlayersDebug(s,f.target.checked))})," ",s]})},s)))})))]}),Y.jsxs("section",{className:"maputnik-modal-section",children:[Y.jsx("h1",{children:"Links"}),Y.jsx("p",{children:Y.jsxs(E0,{t:e,children:[Y.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${r}/${o}/${i}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})})]})]})}}const R7e=(Ol().s[9]++,qo()(F7e));var m1={},v5={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */v5.exports;(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,f=36,m=1,C=26,k=38,I=700,K=72,L=128,q="-",X=/^xn--/,H=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,ee={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=f-m,se=Math.floor,Ae=String.fromCharCode,V;function re($e){throw new RangeError(ee[$e])}function be($e,tt){for(var nt=$e.length,en=[];nt--;)en[nt]=tt($e[nt]);return en}function _e($e,tt){var nt=$e.split("@"),en="";nt.length>1&&(en=nt[0]+"@",$e=nt[1]),$e=$e.replace(G,".");var tn=$e.split("."),St=be(tn,tt).join(".");return en+St}function Pe($e){for(var tt=[],nt=0,en=$e.length,tn,St;nt<en;)tn=$e.charCodeAt(nt++),tn>=55296&&tn<=56319&&nt<en?(St=$e.charCodeAt(nt++),(St&64512)==56320?tt.push(((tn&1023)<<10)+(St&1023)+65536):(tt.push(tn),nt--)):tt.push(tn);return tt}function Ue($e){return be($e,function(tt){var nt="";return tt>65535&&(tt-=65536,nt+=Ae(tt>>>10&1023|55296),tt=56320|tt&1023),nt+=Ae(tt),nt}).join("")}function pe($e){return $e-48<10?$e-22:$e-65<26?$e-65:$e-97<26?$e-97:f}function Ye($e,tt){return $e+22+75*($e<26)-((tt!=0)<<5)}function we($e,tt,nt){var en=0;for($e=nt?se($e/I):$e>>1,$e+=se($e/tt);$e>ne*C>>1;en+=f)$e=se($e/ne);return se(en+(ne+1)*$e/($e+k))}function pt($e){var tt=[],nt=$e.length,en,tn=0,St=L,Xt=K,Nt,Fe,ye,ke,Ge,st,ht,Bt,nn;for(Nt=$e.lastIndexOf(q),Nt<0&&(Nt=0),Fe=0;Fe<Nt;++Fe)$e.charCodeAt(Fe)>=128&&re("not-basic"),tt.push($e.charCodeAt(Fe));for(ye=Nt>0?Nt+1:0;ye<nt;){for(ke=tn,Ge=1,st=f;ye>=nt&&re("invalid-input"),ht=pe($e.charCodeAt(ye++)),(ht>=f||ht>se((a-tn)/Ge))&&re("overflow"),tn+=ht*Ge,Bt=st<=Xt?m:st>=Xt+C?C:st-Xt,!(ht<Bt);st+=f)nn=f-Bt,Ge>se(a/nn)&&re("overflow"),Ge*=nn;en=tt.length+1,Xt=we(tn-ke,en,ke==0),se(tn/en)>a-St&&re("overflow"),St+=se(tn/en),tn%=en,tt.splice(tn++,0,St)}return Ue(tt)}function wt($e){var tt,nt,en,tn,St,Xt,Nt,Fe,ye,ke,Ge,st=[],ht,Bt,nn,Gt;for($e=Pe($e),ht=$e.length,tt=L,nt=0,St=K,Xt=0;Xt<ht;++Xt)Ge=$e[Xt],Ge<128&&st.push(Ae(Ge));for(en=tn=st.length,tn&&st.push(q);en<ht;){for(Nt=a,Xt=0;Xt<ht;++Xt)Ge=$e[Xt],Ge>=tt&&Ge<Nt&&(Nt=Ge);for(Bt=en+1,Nt-tt>se((a-nt)/Bt)&&re("overflow"),nt+=(Nt-tt)*Bt,tt=Nt,Xt=0;Xt<ht;++Xt)if(Ge=$e[Xt],Ge<tt&&++nt>a&&re("overflow"),Ge==tt){for(Fe=nt,ye=f;ke=ye<=St?m:ye>=St+C?C:ye-St,!(Fe<ke);ye+=f)Gt=Fe-ke,nn=f-ke,st.push(Ae(Ye(ke+Gt%nn,0))),Fe=se(Gt/nn);st.push(Ae(Ye(Fe,0))),St=we(nt,Bt,en==tn),nt=0,++en}++nt,++tt}return st.join("")}function ft($e){return _e($e,function(tt){return X.test(tt)?pt(tt.slice(4).toLowerCase()):tt})}function bt($e){return _e($e,function(tt){return H.test(tt)?"xn--"+wt(tt):tt})}if(s={version:"1.4.1",ucs2:{decode:Pe,encode:Ue},decode:pt,encode:wt,toASCII:bt,toUnicode:ft},r&&i)if(n.exports==r)i.exports=s;else for(V in s)s.hasOwnProperty(V)&&(r[V]=s[V]);else t.punycode=s})(Cp)})(v5,v5.exports);var U7e=v5.exports,j7e=Error,z7e=EvalError,N7e=RangeError,W7e=ReferenceError,JY=SyntaxError,U2=TypeError,G7e=URIError,Q7e=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},zF=typeof Symbol<"u"&&Symbol,$7e=Q7e,Y7e=function(){return typeof zF!="function"||typeof Symbol!="function"||typeof zF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$7e()},$6={__proto__:null,foo:{}},q7e=Object,V7e=function(){return{__proto__:$6}.foo===$6.foo&&!($6 instanceof q7e)},H7e="Function.prototype.bind called on incompatible ",Z7e=Object.prototype.toString,X7e=Math.max,J7e="[object Function]",NF=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},eke=function(e,t){for(var r=[],i=t,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},tke=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},nke=function(e){var t=this;if(typeof t!="function"||Z7e.apply(t)!==J7e)throw new TypeError(H7e+t);for(var r=eke(arguments,1),i,o=function(){if(this instanceof i){var C=t.apply(this,NF(r,arguments));return Object(C)===C?C:this}return t.apply(e,NF(r,arguments))},s=X7e(0,t.length-r.length),a=[],f=0;f<s;f++)a[f]="$"+f;if(i=Function("binder","return function ("+tke(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var m=function(){};m.prototype=t.prototype,i.prototype=new m,m.prototype=null}return i},rke=nke,UT=Function.prototype.bind||rke,ike=Function.prototype.call,oke=Object.prototype.hasOwnProperty,ake=UT,ske=ake.call(ike,oke),Do,lke=j7e,uke=z7e,Ake=N7e,cke=W7e,Rv=JY,vv=U2,hke=G7e,eq=Function,Y6=function(n){try{return eq('"use strict"; return ('+n+").constructor;")()}catch{}},Jg=Object.getOwnPropertyDescriptor;if(Jg)try{Jg({},"")}catch{Jg=null}var q6=function(){throw new vv},dke=Jg?function(){try{return arguments.callee,q6}catch{try{return Jg(arguments,"callee").get}catch{return q6}}}():q6,uy=Y7e(),fke=V7e(),Wu=Object.getPrototypeOf||(fke?function(n){return n.__proto__}:null),Cy={},pke=typeof Uint8Array>"u"||!Wu?Do:Wu(Uint8Array),e1={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Do:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Do:ArrayBuffer,"%ArrayIteratorPrototype%":uy&&Wu?Wu([][Symbol.iterator]()):Do,"%AsyncFromSyncIteratorPrototype%":Do,"%AsyncFunction%":Cy,"%AsyncGenerator%":Cy,"%AsyncGeneratorFunction%":Cy,"%AsyncIteratorPrototype%":Cy,"%Atomics%":typeof Atomics>"u"?Do:Atomics,"%BigInt%":typeof BigInt>"u"?Do:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Do:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Do:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Do:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":lke,"%eval%":eval,"%EvalError%":uke,"%Float32Array%":typeof Float32Array>"u"?Do:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Do:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Do:FinalizationRegistry,"%Function%":eq,"%GeneratorFunction%":Cy,"%Int8Array%":typeof Int8Array>"u"?Do:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Do:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Do:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":uy&&Wu?Wu(Wu([][Symbol.iterator]())):Do,"%JSON%":typeof JSON=="object"?JSON:Do,"%Map%":typeof Map>"u"?Do:Map,"%MapIteratorPrototype%":typeof Map>"u"||!uy||!Wu?Do:Wu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Do:Promise,"%Proxy%":typeof Proxy>"u"?Do:Proxy,"%RangeError%":Ake,"%ReferenceError%":cke,"%Reflect%":typeof Reflect>"u"?Do:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Do:Set,"%SetIteratorPrototype%":typeof Set>"u"||!uy||!Wu?Do:Wu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Do:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":uy&&Wu?Wu(""[Symbol.iterator]()):Do,"%Symbol%":uy?Symbol:Do,"%SyntaxError%":Rv,"%ThrowTypeError%":dke,"%TypedArray%":pke,"%TypeError%":vv,"%Uint8Array%":typeof Uint8Array>"u"?Do:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Do:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Do:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Do:Uint32Array,"%URIError%":hke,"%WeakMap%":typeof WeakMap>"u"?Do:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Do:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Do:WeakSet};if(Wu)try{null.error}catch(n){var mke=Wu(Wu(n));e1["%Error.prototype%"]=mke}var gke=function n(e){var t;if(e==="%AsyncFunction%")t=Y6("async function () {}");else if(e==="%GeneratorFunction%")t=Y6("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Y6("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&Wu&&(t=Wu(i.prototype))}return e1[e]=t,t},WF={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j2=UT,_5=ske,yke=j2.call(Function.call,Array.prototype.concat),vke=j2.call(Function.apply,Array.prototype.splice),GF=j2.call(Function.call,String.prototype.replace),C5=j2.call(Function.call,String.prototype.slice),_ke=j2.call(Function.call,RegExp.prototype.exec),Cke=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bke=/\\(\\)?/g,xke=function(e){var t=C5(e,0,1),r=C5(e,-1);if(t==="%"&&r!=="%")throw new Rv("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Rv("invalid intrinsic syntax, expected opening `%`");var i=[];return GF(e,Cke,function(o,s,a,f){i[i.length]=a?GF(f,bke,"$1"):s||o}),i},wke=function(e,t){var r=e,i;if(_5(WF,r)&&(i=WF[r],r="%"+i[0]+"%"),_5(e1,r)){var o=e1[r];if(o===Cy&&(o=gke(r)),typeof o>"u"&&!t)throw new vv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Rv("intrinsic "+e+" does not exist!")},u_=function(e,t){if(typeof e!="string"||e.length===0)throw new vv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new vv('"allowMissing" argument must be a boolean');if(_ke(/^%?[^%]*%?$/,e)===null)throw new Rv("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=xke(e),i=r.length>0?r[0]:"",o=wke("%"+i+"%",t),s=o.name,a=o.value,f=!1,m=o.alias;m&&(i=m[0],vke(r,yke([0,1],m)));for(var C=1,k=!0;C<r.length;C+=1){var I=r[C],K=C5(I,0,1),L=C5(I,-1);if((K==='"'||K==="'"||K==="`"||L==='"'||L==="'"||L==="`")&&K!==L)throw new Rv("property names with quotes must have matching quotes");if((I==="constructor"||!k)&&(f=!0),i+="."+I,s="%"+i+"%",_5(e1,s))a=e1[s];else if(a!=null){if(!(I in a)){if(!t)throw new vv("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jg&&C+1>=r.length){var q=Jg(a,I);k=!!q,k&&"get"in q&&!("originalValue"in q.get)?a=q.get:a=a[I]}else k=_5(a,I),a=a[I];k&&!f&&(e1[s]=a)}}return a},tq={exports:{}},V6,QF;function jT(){if(QF)return V6;QF=1;var n=u_,e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return V6=e,V6}var Mke=u_,x4=Mke("%Object.getOwnPropertyDescriptor%",!0);if(x4)try{x4([],"length")}catch{x4=null}var nq=x4,$F=jT(),Ske=JY,Ay=U2,YF=nq,Eke=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Ay("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Ay("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ay("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ay("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ay("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ay("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,f=!!YF&&YF(e,t);if($F)$F(e,t,{configurable:s===null&&f?f.configurable:!s,enumerable:i===null&&f?f.enumerable:!i,value:r,writable:o===null&&f?f.writable:!o});else if(a||!i&&!o&&!s)e[t]=r;else throw new Ske("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Q8=jT(),rq=function(){return!!Q8};rq.hasArrayLengthDefineBug=function(){if(!Q8)return null;try{return Q8([],"length",{value:1}).length!==1}catch{return!0}};var Oke=rq,Bke=u_,qF=Eke,Ike=Oke(),VF=nq,HF=U2,kke=Bke("%Math.floor%"),Tke=function(e,t){if(typeof e!="function")throw new HF("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||kke(t)!==t)throw new HF("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&VF){var s=VF(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(Ike?qF(e,"length",t,!0,!0):qF(e,"length",t)),e};(function(n){var e=UT,t=u_,r=Tke,i=U2,o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(s,o),f=jT(),m=t("%Math.max%");n.exports=function(I){if(typeof I!="function")throw new i("a function is required");var K=a(e,s,arguments);return r(K,1+m(0,I.length-(arguments.length-1)),!0)};var C=function(){return a(e,o,arguments)};f?f(n.exports,"apply",{value:C}):n.exports.apply=C})(tq);var Pke=tq.exports,iq=u_,oq=Pke,Kke=oq(iq("String.prototype.indexOf")),Dke=function(e,t){var r=iq(e,!!t);return typeof r=="function"&&Kke(e,".prototype.")>-1?oq(r):r};const Lke={},Fke=Object.freeze(Object.defineProperty({__proto__:null,default:Lke},Symbol.toStringTag,{value:"Module"})),Rke=rI(Fke);var zT=typeof Map=="function"&&Map.prototype,H6=Object.getOwnPropertyDescriptor&&zT?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,b5=zT&&H6&&typeof H6.get=="function"?H6.get:null,ZF=zT&&Map.prototype.forEach,NT=typeof Set=="function"&&Set.prototype,Z6=Object.getOwnPropertyDescriptor&&NT?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x5=NT&&Z6&&typeof Z6.get=="function"?Z6.get:null,XF=NT&&Set.prototype.forEach,Uke=typeof WeakMap=="function"&&WeakMap.prototype,ZC=Uke?WeakMap.prototype.has:null,jke=typeof WeakSet=="function"&&WeakSet.prototype,XC=jke?WeakSet.prototype.has:null,zke=typeof WeakRef=="function"&&WeakRef.prototype,JF=zke?WeakRef.prototype.deref:null,Nke=Boolean.prototype.valueOf,Wke=Object.prototype.toString,Gke=Function.prototype.toString,Qke=String.prototype.match,WT=String.prototype.slice,y0=String.prototype.replace,$ke=String.prototype.toUpperCase,eR=String.prototype.toLowerCase,aq=RegExp.prototype.test,tR=Array.prototype.concat,rp=Array.prototype.join,Yke=Array.prototype.slice,nR=Math.floor,$8=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X6=Object.getOwnPropertySymbols,Y8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",PA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Uv||!0)?Symbol.toStringTag:null,sq=Object.prototype.propertyIsEnumerable,rR=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function iR(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||aq.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var r=n<0?-nR(-n):nR(n);if(r!==n){var i=String(r),o=WT.call(e,i.length+1);return y0.call(i,t,"$&_")+"."+y0.call(y0.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y0.call(e,t,"$&_")}var q8=Rke,oR=q8.custom,aR=uq(oR)?oR:null,qke=function n(e,t,r,i){var o=t||{};if(s0(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(s0(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=s0(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(s0(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(s0(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return cq(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return a?iR(e,f):f}if(typeof e=="bigint"){var m=String(e)+"n";return a?iR(e,m):m}var C=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=C&&C>0&&typeof e=="object")return V8(e)?"[Array]":"[Object]";var k=hTe(o,r);if(typeof i>"u")i=[];else if(Aq(i,e)>=0)return"[Circular]";function I(pe,Ye,we){if(Ye&&(i=Yke.call(i),i.push(Ye)),we){var pt={depth:o.depth};return s0(o,"quoteStyle")&&(pt.quoteStyle=o.quoteStyle),n(pe,pt,r+1,i)}return n(pe,o,r+1,i)}if(typeof e=="function"&&!sR(e)){var K=rTe(e),L=V3(e,I);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(L.length>0?" { "+rp.call(L,", ")+" }":"")}if(uq(e)){var q=Uv?y0.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y8.call(e);return typeof e=="object"&&!Uv?lC(q):q}if(uTe(e)){for(var X="<"+eR.call(String(e.nodeName)),H=e.attributes||[],G=0;G<H.length;G++)X+=" "+H[G].name+"="+lq(Vke(H[G].value),"double",o);return X+=">",e.childNodes&&e.childNodes.length&&(X+="..."),X+="</"+eR.call(String(e.nodeName))+">",X}if(V8(e)){if(e.length===0)return"[]";var ee=V3(e,I);return k&&!cTe(ee)?"["+H8(ee,k)+"]":"[ "+rp.call(ee,", ")+" ]"}if(Zke(e)){var ne=V3(e,I);return!("cause"in Error.prototype)&&"cause"in e&&!sq.call(e,"cause")?"{ ["+String(e)+"] "+rp.call(tR.call("[cause]: "+I(e.cause),ne),", ")+" }":ne.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+rp.call(ne,", ")+" }"}if(typeof e=="object"&&s){if(aR&&typeof e[aR]=="function"&&q8)return q8(e,{depth:C-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(iTe(e)){var se=[];return ZF&&ZF.call(e,function(pe,Ye){se.push(I(Ye,e,!0)+" => "+I(pe,e))}),lR("Map",b5.call(e),se,k)}if(sTe(e)){var Ae=[];return XF&&XF.call(e,function(pe){Ae.push(I(pe,e))}),lR("Set",x5.call(e),Ae,k)}if(oTe(e))return J6("WeakMap");if(lTe(e))return J6("WeakSet");if(aTe(e))return J6("WeakRef");if(Jke(e))return lC(I(Number(e)));if(tTe(e))return lC(I($8.call(e)));if(eTe(e))return lC(Nke.call(e));if(Xke(e))return lC(I(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===window)return"{ [object globalThis] }";if(!Hke(e)&&!sR(e)){var V=V3(e,I),re=rR?rR(e)===Object.prototype:e instanceof Object||e.constructor===Object,be=e instanceof Object?"":"null prototype",_e=!re&&PA&&Object(e)===e&&PA in e?WT.call($0(e),8,-1):be?"Object":"",Pe=re||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Ue=Pe+(_e||be?"["+rp.call(tR.call([],_e||[],be||[]),": ")+"] ":"");return V.length===0?Ue+"{}":k?Ue+"{"+H8(V,k)+"}":Ue+"{ "+rp.call(V,", ")+" }"}return String(e)};function lq(n,e,t){var r=(t.quoteStyle||e)==="double"?'"':"'";return r+n+r}function Vke(n){return y0.call(String(n),/"/g,"&quot;")}function V8(n){return $0(n)==="[object Array]"&&(!PA||!(typeof n=="object"&&PA in n))}function Hke(n){return $0(n)==="[object Date]"&&(!PA||!(typeof n=="object"&&PA in n))}function sR(n){return $0(n)==="[object RegExp]"&&(!PA||!(typeof n=="object"&&PA in n))}function Zke(n){return $0(n)==="[object Error]"&&(!PA||!(typeof n=="object"&&PA in n))}function Xke(n){return $0(n)==="[object String]"&&(!PA||!(typeof n=="object"&&PA in n))}function Jke(n){return $0(n)==="[object Number]"&&(!PA||!(typeof n=="object"&&PA in n))}function eTe(n){return $0(n)==="[object Boolean]"&&(!PA||!(typeof n=="object"&&PA in n))}function uq(n){if(Uv)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!Y8)return!1;try{return Y8.call(n),!0}catch{}return!1}function tTe(n){if(!n||typeof n!="object"||!$8)return!1;try{return $8.call(n),!0}catch{}return!1}var nTe=Object.prototype.hasOwnProperty||function(n){return n in this};function s0(n,e){return nTe.call(n,e)}function $0(n){return Wke.call(n)}function rTe(n){if(n.name)return n.name;var e=Qke.call(Gke.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function Aq(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function iTe(n){if(!b5||!n||typeof n!="object")return!1;try{b5.call(n);try{x5.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function oTe(n){if(!ZC||!n||typeof n!="object")return!1;try{ZC.call(n,ZC);try{XC.call(n,XC)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function aTe(n){if(!JF||!n||typeof n!="object")return!1;try{return JF.call(n),!0}catch{}return!1}function sTe(n){if(!x5||!n||typeof n!="object")return!1;try{x5.call(n);try{b5.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function lTe(n){if(!XC||!n||typeof n!="object")return!1;try{XC.call(n,XC);try{ZC.call(n,ZC)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function uTe(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function cq(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return cq(WT.call(n,0,e.maxStringLength),e)+r}var i=y0.call(y0.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ATe);return lq(i,"single",e)}function ATe(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+$ke.call(e.toString(16))}function lC(n){return"Object("+n+")"}function J6(n){return n+" { ? }"}function lR(n,e,t,r){var i=r?H8(t,r):rp.call(t,", ");return n+" ("+e+") {"+i+"}"}function cTe(n){for(var e=0;e<n.length;e++)if(Aq(n[e],`
`)>=0)return!1;return!0}function hTe(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=rp.call(Array(n.indent+1)," ");else return null;return{base:t,prev:rp.call(Array(e+1),t)}}function H8(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+rp.call(n,","+t)+`
`+e.prev}function V3(n,e){var t=V8(n),r=[];if(t){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=s0(n,i)?e(n[i],n):""}var o=typeof X6=="function"?X6(n):[],s;if(Uv){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var f in n)s0(n,f)&&(t&&String(Number(f))===f&&f<n.length||Uv&&s["$"+f]instanceof Symbol||(aq.call(/[^\w$]/,f)?r.push(e(f,n)+": "+e(n[f],n)):r.push(f+": "+e(n[f],n))));if(typeof X6=="function")for(var m=0;m<o.length;m++)sq.call(n,o[m])&&r.push("["+e(o[m])+"]: "+e(n[o[m]],n));return r}var hq=u_,A_=Dke,dTe=qke,fTe=U2,H3=hq("%WeakMap%",!0),Z3=hq("%Map%",!0),pTe=A_("WeakMap.prototype.get",!0),mTe=A_("WeakMap.prototype.set",!0),gTe=A_("WeakMap.prototype.has",!0),yTe=A_("Map.prototype.get",!0),vTe=A_("Map.prototype.set",!0),_Te=A_("Map.prototype.has",!0),GT=function(n,e){for(var t=n,r;(r=t.next)!==null;t=r)if(r.key===e)return t.next=r.next,r.next=n.next,n.next=r,r},CTe=function(n,e){var t=GT(n,e);return t&&t.value},bTe=function(n,e,t){var r=GT(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}},xTe=function(n,e){return!!GT(n,e)},wTe=function(){var e,t,r,i={assert:function(o){if(!i.has(o))throw new fTe("Side channel does not contain "+dTe(o))},get:function(o){if(H3&&o&&(typeof o=="object"||typeof o=="function")){if(e)return pTe(e,o)}else if(Z3){if(t)return yTe(t,o)}else if(r)return CTe(r,o)},has:function(o){if(H3&&o&&(typeof o=="object"||typeof o=="function")){if(e)return gTe(e,o)}else if(Z3){if(t)return _Te(t,o)}else if(r)return xTe(r,o);return!1},set:function(o,s){H3&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new H3),mTe(e,o,s)):Z3?(t||(t=new Z3),vTe(t,o,s)):(r||(r={key:{},next:null}),bTe(r,o,s))}};return i},MTe=String.prototype.replace,STe=/%20/g,eO={RFC1738:"RFC1738",RFC3986:"RFC3986"},QT={default:eO.RFC3986,formatters:{RFC1738:function(n){return MTe.call(n,STe,"+")},RFC3986:function(n){return String(n)}},RFC1738:eO.RFC1738,RFC3986:eO.RFC3986},ETe=QT,tO=Object.prototype.hasOwnProperty,Pg=Array.isArray,qf=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),OTe=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Pg(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);t.obj[t.prop]=i}}},dq=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},BTe=function n(e,t,r){if(!t)return e;if(typeof t!="object"){if(Pg(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!tO.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return Pg(e)&&!Pg(t)&&(i=dq(e,r)),Pg(e)&&Pg(t)?(t.forEach(function(o,s){if(tO.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=n(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(t).reduce(function(o,s){var a=t[s];return tO.call(o,s)?o[s]=n(o[s],a,r):o[s]=a,o},i)},ITe=function(e,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},e)},kTe=function(n,e,t){var r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},TTe=function(e,t,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var a="",f=0;f<s.length;++f){var m=s.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===ETe.RFC1738&&(m===40||m===41)){a+=s.charAt(f);continue}if(m<128){a=a+qf[m];continue}if(m<2048){a=a+(qf[192|m>>6]+qf[128|m&63]);continue}if(m<55296||m>=57344){a=a+(qf[224|m>>12]+qf[128|m>>6&63]+qf[128|m&63]);continue}f+=1,m=65536+((m&1023)<<10|s.charCodeAt(f)&1023),a+=qf[240|m>>18]+qf[128|m>>12&63]+qf[128|m>>6&63]+qf[128|m&63]}return a},PTe=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),f=0;f<a.length;++f){var m=a[f],C=s[m];typeof C=="object"&&C!==null&&r.indexOf(C)===-1&&(t.push({obj:s,prop:m}),r.push(C))}return OTe(t),e},KTe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},DTe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},LTe=function(e,t){return[].concat(e,t)},FTe=function(e,t){if(Pg(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},fq={arrayToObject:dq,assign:ITe,combine:LTe,compact:PTe,decode:kTe,encode:TTe,isBuffer:DTe,isRegExp:KTe,maybeMap:FTe,merge:BTe},pq=wTe,w4=fq,JC=QT,RTe=Object.prototype.hasOwnProperty,mq={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},tp=Array.isArray,UTe=Array.prototype.push,gq=function(n,e){UTe.apply(n,tp(e)?e:[e])},jTe=Date.prototype.toISOString,uR=JC.default,yu={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:w4.encode,encodeValuesOnly:!1,format:uR,formatter:JC.formatters[uR],indices:!1,serializeDate:function(e){return jTe.call(e)},skipNulls:!1,strictNullHandling:!1},zTe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},nO={},NTe=function n(e,t,r,i,o,s,a,f,m,C,k,I,K,L,q,X,H,G){for(var ee=e,ne=G,se=0,Ae=!1;(ne=ne.get(nO))!==void 0&&!Ae;){var V=ne.get(e);if(se+=1,typeof V<"u"){if(V===se)throw new RangeError("Cyclic object value");Ae=!0}typeof ne.get(nO)>"u"&&(se=0)}if(typeof C=="function"?ee=C(t,ee):ee instanceof Date?ee=K(ee):r==="comma"&&tp(ee)&&(ee=w4.maybeMap(ee,function($e){return $e instanceof Date?K($e):$e})),ee===null){if(s)return m&&!X?m(t,yu.encoder,H,"key",L):t;ee=""}if(zTe(ee)||w4.isBuffer(ee)){if(m){var re=X?t:m(t,yu.encoder,H,"key",L);return[q(re)+"="+q(m(ee,yu.encoder,H,"value",L))]}return[q(t)+"="+q(String(ee))]}var be=[];if(typeof ee>"u")return be;var _e;if(r==="comma"&&tp(ee))X&&m&&(ee=w4.maybeMap(ee,m)),_e=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(tp(C))_e=C;else{var Pe=Object.keys(ee);_e=k?Pe.sort(k):Pe}var Ue=f?t.replace(/\./g,"%2E"):t,pe=i&&tp(ee)&&ee.length===1?Ue+"[]":Ue;if(o&&tp(ee)&&ee.length===0)return pe+"[]";for(var Ye=0;Ye<_e.length;++Ye){var we=_e[Ye],pt=typeof we=="object"&&typeof we.value<"u"?we.value:ee[we];if(!(a&&pt===null)){var wt=I&&f?we.replace(/\./g,"%2E"):we,ft=tp(ee)?typeof r=="function"?r(pe,wt):pe:pe+(I?"."+wt:"["+wt+"]");G.set(e,se);var bt=pq();bt.set(nO,G),gq(be,n(pt,ft,r,i,o,s,a,f,r==="comma"&&X&&tp(ee)?null:m,C,k,I,K,L,q,X,H,bt))}}return be},WTe=function(e){if(!e)return yu;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||yu.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=JC.default;if(typeof e.format<"u"){if(!RTe.call(JC.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=JC.formatters[r],o=yu.filter;(typeof e.filter=="function"||tp(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in mq?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=yu.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:yu.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yu.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:yu.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yu.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?yu.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yu.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:yu.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:yu.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yu.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yu.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yu.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yu.strictNullHandling}},GTe=function(n,e){var t=n,r=WTe(e),i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):tp(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof t!="object"||t===null)return"";var a=mq[r.arrayFormat],f=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var m=pq(),C=0;C<i.length;++C){var k=i[C];r.skipNulls&&t[k]===null||gq(s,NTe(t[k],k,a,f,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,m))}var I=s.join(r.delimiter),K=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),I.length>0?K+I:""},jv=fq,Z8=Object.prototype.hasOwnProperty,QTe=Array.isArray,Bl={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:jv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},$Te=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},yq=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},YTe="utf8=%26%2310003%3B",qTe="utf8=%E2%9C%93",VTe=function(e,t){var r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,f,m=t.charset;if(t.charsetSentinel)for(f=0;f<s.length;++f)s[f].indexOf("utf8=")===0&&(s[f]===qTe?m="utf-8":s[f]===YTe&&(m="iso-8859-1"),a=f,f=s.length);for(f=0;f<s.length;++f)if(f!==a){var C=s[f],k=C.indexOf("]="),I=k===-1?C.indexOf("="):k+1,K,L;I===-1?(K=t.decoder(C,Bl.decoder,m,"key"),L=t.strictNullHandling?null:""):(K=t.decoder(C.slice(0,I),Bl.decoder,m,"key"),L=jv.maybeMap(yq(C.slice(I+1),t),function(X){return t.decoder(X,Bl.decoder,m,"value")})),L&&t.interpretNumericEntities&&m==="iso-8859-1"&&(L=$Te(L)),C.indexOf("[]=")>-1&&(L=QTe(L)?[L]:L);var q=Z8.call(r,K);q&&t.duplicates==="combine"?r[K]=jv.combine(r[K],L):(!q||t.duplicates==="last")&&(r[K]=L)}return r},HTe=function(n,e,t,r){for(var i=r?e:yq(e,t),o=n.length-1;o>=0;--o){var s,a=n[o];if(a==="[]"&&t.parseArrays)s=t.allowEmptyArrays&&i===""?[]:[].concat(i);else{s=t.plainObjects?Object.create(null):{};var f=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,m=t.decodeDotInKeys?f.replace(/%2E/g,"."):f,C=parseInt(m,10);!t.parseArrays&&m===""?s={0:i}:!isNaN(C)&&a!==m&&String(C)===m&&C>=0&&t.parseArrays&&C<=t.arrayLimit?(s=[],s[C]=i):m!=="__proto__"&&(s[m]=i)}i=s}return i},ZTe=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=r.depth>0&&s.exec(o),m=f?o.slice(0,f.index):o,C=[];if(m){if(!r.plainObjects&&Z8.call(Object.prototype,m)&&!r.allowPrototypes)return;C.push(m)}for(var k=0;r.depth>0&&(f=a.exec(o))!==null&&k<r.depth;){if(k+=1,!r.plainObjects&&Z8.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;C.push(f[1])}return f&&C.push("["+o.slice(f.index)+"]"),HTe(C,t,r,i)}},XTe=function(e){if(!e)return Bl;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Bl.charset:e.charset,r=typeof e.duplicates>"u"?Bl.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Bl.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Bl.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Bl.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Bl.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Bl.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Bl.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Bl.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Bl.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Bl.decoder,delimiter:typeof e.delimiter=="string"||jv.isRegExp(e.delimiter)?e.delimiter:Bl.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Bl.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Bl.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Bl.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Bl.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Bl.strictNullHandling}},JTe=function(n,e){var t=XTe(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof n=="string"?VTe(n,t):n,i=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],f=ZTe(a,r[a],t,typeof n=="string");i=jv.merge(i,f,t)}return t.allowSparse===!0?i:jv.compact(i)},e9e=GTe,t9e=JTe,n9e=QT,r9e={formats:n9e,parse:t9e,stringify:e9e},i9e=U7e;function hd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o9e=/^([a-z0-9.+-]+:)/i,a9e=/:[0-9]*$/,s9e=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l9e=["<",">",'"',"`"," ","\r",`
`,"	"],u9e=["{","}","|","\\","^","`"].concat(l9e),X8=["'"].concat(u9e),AR=["%","/","?",";","#"].concat(X8),cR=["/","?","#"],A9e=255,hR=/^[+a-z0-9A-Z_-]{0,63}$/,c9e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h9e={javascript:!0,"javascript:":!0},J8={javascript:!0,"javascript:":!0},_v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},eI=r9e;function z2(n,e,t){if(n&&typeof n=="object"&&n instanceof hd)return n;var r=new hd;return r.parse(n,e,t),r}hd.prototype.parse=function(n,e,t){if(typeof n!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var f=s9e.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=eI.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var m=o9e.exec(a);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,a=a.substr(m.length)}if(t||m||a.match(/^\/\/[^@/]+@[^@/]+/)){var k=a.substr(0,2)==="//";k&&!(m&&J8[m])&&(a=a.substr(2),this.slashes=!0)}if(!J8[m]&&(k||m&&!_v[m])){for(var I=-1,K=0;K<cR.length;K++){var L=a.indexOf(cR[K]);L!==-1&&(I===-1||L<I)&&(I=L)}var q,X;I===-1?X=a.lastIndexOf("@"):X=a.lastIndexOf("@",I),X!==-1&&(q=a.slice(0,X),a=a.slice(X+1),this.auth=decodeURIComponent(q)),I=-1;for(var K=0;K<AR.length;K++){var L=a.indexOf(AR[K]);L!==-1&&(I===-1||L<I)&&(I=L)}I===-1&&(I=a.length),this.host=a.slice(0,I),a=a.slice(I),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var G=this.hostname.split(/\./),K=0,ee=G.length;K<ee;K++){var ne=G[K];if(ne&&!ne.match(hR)){for(var se="",Ae=0,V=ne.length;Ae<V;Ae++)ne.charCodeAt(Ae)>127?se+="x":se+=ne[Ae];if(!se.match(hR)){var re=G.slice(0,K),be=G.slice(K+1),_e=ne.match(c9e);_e&&(re.push(_e[1]),be.unshift(_e[2])),be.length&&(a="/"+be.join(".")+a),this.hostname=re.join(".");break}}}this.hostname.length>A9e?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=i9e.toASCII(this.hostname));var Pe=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+Pe,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!h9e[C])for(var K=0,ee=X8.length;K<ee;K++){var pe=X8[K];if(a.indexOf(pe)!==-1){var Ye=encodeURIComponent(pe);Ye===pe&&(Ye=escape(pe)),a=a.split(pe).join(Ye)}}var we=a.indexOf("#");we!==-1&&(this.hash=a.substr(we),a=a.slice(0,we));var pt=a.indexOf("?");if(pt!==-1?(this.search=a.substr(pt),this.query=a.substr(pt+1),e&&(this.query=eI.parse(this.query)),a=a.slice(0,pt)):e&&(this.search="",this.query={}),a&&(this.pathname=a),_v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Pe=this.pathname||"",wt=this.search||"";this.path=Pe+wt}return this.href=this.format(),this};function d9e(n){return typeof n=="string"&&(n=z2(n)),n instanceof hd?n.format():hd.prototype.format.call(n)}hd.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=eI.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||_v[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};function f9e(n,e){return z2(n,!1,!0).resolve(e)}hd.prototype.resolve=function(n){return this.resolveObject(z2(n,!1,!0)).format()};function p9e(n,e){return n?z2(n,!1,!0).resolveObject(e):e}hd.prototype.resolveObject=function(n){if(typeof n=="string"){var e=new hd;e.parse(n,!1,!0),n=e}for(var t=new hd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(t[f]=n[f])}return _v[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!_v[n.protocol]){for(var m=Object.keys(n),C=0;C<m.length;C++){var k=m[C];t[k]=n[k]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!J8[n.protocol]){for(var ee=(n.pathname||"").split("/");ee.length&&!(n.host=ee.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),t.pathname=ee.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var I=t.pathname||"",K=t.search||"";t.path=I+K}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var L=t.pathname&&t.pathname.charAt(0)==="/",q=n.host||n.pathname&&n.pathname.charAt(0)==="/",X=q||L||t.host&&n.pathname,H=X,G=t.pathname&&t.pathname.split("/")||[],ee=n.pathname&&n.pathname.split("/")||[],ne=t.protocol&&!_v[t.protocol];if(ne&&(t.hostname="",t.port=null,t.host&&(G[0]===""?G[0]=t.host:G.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(ee[0]===""?ee[0]=n.host:ee.unshift(n.host)),n.host=null),X=X&&(ee[0]===""||G[0]==="")),q)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,G=ee;else if(ee.length)G||(G=[]),G.pop(),G=G.concat(ee),t.search=n.search,t.query=n.query;else if(n.search!=null){if(ne){t.host=G.shift(),t.hostname=t.host;var se=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;se&&(t.auth=se.shift(),t.hostname=se.shift(),t.host=t.hostname)}return t.search=n.search,t.query=n.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!G.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var Ae=G.slice(-1)[0],V=(t.host||n.host||G.length>1)&&(Ae==="."||Ae==="..")||Ae==="",re=0,be=G.length;be>=0;be--)Ae=G[be],Ae==="."?G.splice(be,1):Ae===".."?(G.splice(be,1),re++):re&&(G.splice(be,1),re--);if(!X&&!H)for(;re--;re)G.unshift("..");X&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),V&&G.join("/").substr(-1)!=="/"&&G.push("");var _e=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(ne){t.hostname=_e?"":G.length?G.shift():"",t.host=t.hostname;var se=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;se&&(t.auth=se.shift(),t.hostname=se.shift(),t.host=t.hostname)}return X=X||t.host&&G.length,X&&!_e&&G.unshift(""),G.length>0?t.pathname=G.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};hd.prototype.parseHost=function(){var n=this.host,e=a9e.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};m1.parse=z2;m1.resolve=f9e;m1.resolveObject=p9e;m1.format=d9e;m1.Url=hd;function $o(){var n="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",e="8eedc6c4f661a6bd38a2227269e9dcc5dcb1f437",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:16,column:34}},6:{start:{line:16,column:20},end:{line:16,column:34}},7:{start:{line:17,column:17},end:{line:17,column:42}},8:{start:{line:18,column:23},end:{line:18,column:57}},9:{start:{line:19,column:2},end:{line:23,column:3}},10:{start:{line:20,column:4},end:{line:20,column:41}},11:{start:{line:22,column:4},end:{line:22,column:69}},12:{start:{line:24,column:14},end:{line:24,column:35}},13:{start:{line:25,column:2},end:{line:25,column:24}},14:{start:{line:28,column:2},end:{line:28,column:30}},15:{start:{line:28,column:16},end:{line:28,column:30}},16:{start:{line:29,column:14},end:{line:29,column:31}},17:{start:{line:30,column:2},end:{line:30,column:57}},18:{start:{line:30,column:32},end:{line:30,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:26,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:27,column:16},end:{line:27,column:38}},loc:{start:{line:27,column:52},end:{line:31,column:1}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:30,column:20},end:{line:30,column:21}},loc:{start:{line:30,column:32},end:{line:30,column:55}},line:30}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:16,column:34}},type:"if",locations:[{start:{line:16,column:2},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:19,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},2:{loc:{start:{line:28,column:2},end:{line:28,column:30}},type:"if",locations:[{start:{line:28,column:2},end:{line:28,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC,YAAa,QAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC,QAAS,QAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8eedc6c4f661a6bd38a2227269e9dcc5dcb1f437"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $o=function(){return s},s}$o();function vq(n,e,t){$o().f[0]++,$o().s[0]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(r){return $o().f[1]++,$o().s[1]++,r.json()}).then(function(r){$o().f[2]++,$o().s[2]++,t(r)}).catch(function(){$o().f[3]++,$o().s[3]++,console.warn("Can not metadata for "+n),$o().s[4]++,t(e)})}function m9e(n,e){if($o().f[4]++,$o().s[5]++,n)$o().b[0][1]++;else return $o().b[0][0]++,$o().s[6]++,e([]);const t=($o().s[7]++,m1.parse(n)),r=($o().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");$o().s[9]++,t.pathname===r?($o().b[1][0]++,$o().s[10]++,t.pathname="/fontstacks.json"):($o().b[1][1]++,$o().s[11]++,t.pathname=t.pathname.replace(r,".json"));const i=($o().s[12]++,m1.format(t));$o().s[13]++,vq(i,[],e)}function g9e(n,e){if($o().f[5]++,$o().s[14]++,n)$o().b[2][1]++;else return $o().b[2][0]++,$o().s[15]++,e([]);const t=($o().s[16]++,n+".json");$o().s[17]++,vq(t,{},r=>($o().f[6]++,$o().s[18]++,e(Object.keys(r))))}function vu(){var n="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",e="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return vu=function(){return s},s}vu();function y9e(){vu().f[0]++;const n=(vu().s[0]++,new URL(window.location.href));return vu().s[1]++,n.searchParams.get("style")}function _q(n,e){vu().f[1]++,vu().s[2]++,console.log("Loading style",n),vu().s[3]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(t){return vu().f[2]++,vu().s[4]++,t.json()}).then(function(t){vu().f[3]++,vu().s[5]++,e(Yu.ensureStyleValidity(t))}).catch(function(){vu().f[4]++,vu().s[6]++,console.warn("Could not fetch default style",n),vu().s[7]++,e(Yu.emptyStyle)})}function dR(){vu().f[5]++;const n=(vu().s[8]++,new URL(window.location.href));vu().s[9]++,n.searchParams.delete("style"),vu().s[10]++,window.history.replaceState({},document.title,n.toString())}function ic(){var n="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",e="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ic=function(){return s},s}ic();function Cq(n,e){ic().f[0]++;const t=(ic().s[0]++,yte(n,e));return ic().s[1]++,t.map(r=>(ic().f[1]++,ic().s[2]++,r.command+" "+r.args.join(" ")))}function v9e(n,e){return ic().f[2]++,ic().s[3]++,Cq(n,e).map(t=>(ic().f[3]++,ic().s[4]++,"Undo "+t))}function _9e(n,e){return ic().f[4]++,ic().s[5]++,Cq(n,e).map(t=>(ic().f[5]++,ic().s[6]++,"Redo "+t))}function Nr(){var n="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",e="d0461aebf8a7391762efd074af8c5c2674087e64",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:63,column:65}},28:{start:{line:63,column:37},end:{line:63,column:65}},29:{start:{line:64,column:20},end:{line:64,column:67}},30:{start:{line:65,column:22},end:{line:65,column:68}},31:{start:{line:66,column:4},end:{line:66,column:52}},32:{start:{line:66,column:19},end:{line:66,column:52}},33:{start:{line:67,column:4},end:{line:67,column:25}},34:{start:{line:71,column:4},end:{line:71,column:51}},35:{start:{line:72,column:16},end:{line:72,column:37}},36:{start:{line:73,column:4},end:{line:73,column:63}},37:{start:{line:74,column:4},end:{line:74,column:65}},38:{start:{line:75,column:4},end:{line:75,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:68,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:17},end:{line:76,column:3}},line:70}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:63,column:65}},type:"if",locations:[{start:{line:63,column:4},end:{line:63,column:65}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:66,column:4},end:{line:66,column:52}},type:"if",locations:[{start:{line:66,column:4},end:{line:66,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW,EAAG,QAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG,UAAW,QAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d0461aebf8a7391762efd074af8c5c2674087e64"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Nr=function(){return s},s}Nr();const qb=(Nr().s[0]++,"maputnik"),bq=(Nr().s[1]++,"style"),fR=(Nr().s[2]++,{latest:[qb,"latest_style"].join(":"),accessToken:[qb,"access_token"].join(":")}),C9e=(Nr().s[3]++,XY[0].url);function pR(n){Nr().f[0]++,Nr().s[4]++,_q(C9e,n)}function b9e(){Nr().f[1]++;const n=(Nr().s[5]++,[]);Nr().s[6]++;for(let e=(Nr().s[7]++,0);e<window.localStorage.length;e++){const t=(Nr().s[8]++,window.localStorage.key(e));Nr().s[9]++,xq(t)?(Nr().b[0][0]++,Nr().s[10]++,n.push(x9e(t))):Nr().b[0][1]++}return Nr().s[11]++,n}function xq(n){Nr().f[2]++;const e=(Nr().s[12]++,n.split(":"));return Nr().s[13]++,Nr().b[1][0]++,e.length===3&&(Nr().b[1][1]++,e[0]===qb)&&(Nr().b[1][2]++,e[1]===bq)}function x9e(n){if(Nr().f[3]++,Nr().s[14]++,xq(n))Nr().b[2][1]++;else throw Nr().b[2][0]++,Nr().s[15]++,"Key is not a valid style key";const e=(Nr().s[16]++,n.split(":")),t=(Nr().s[17]++,e[2]);return Nr().s[18]++,t}function mR(n){return Nr().f[4]++,Nr().s[19]++,[qb,bq,n].join(":")}class gR{constructor(){pn(this,"mapStyles");Nr().f[5]++,Nr().s[20]++,this.mapStyles=b9e()}init(e){Nr().f[6]++,Nr().s[21]++,e(null)}purge(){Nr().f[7]++,Nr().s[22]++;for(let e=(Nr().s[23]++,0);e<window.localStorage.length;e++){const t=(Nr().s[24]++,window.localStorage.key(e));Nr().s[25]++,t.startsWith(qb)?(Nr().b[3][0]++,Nr().s[26]++,window.localStorage.removeItem(t)):Nr().b[3][1]++}}latestStyle(e){if(Nr().f[8]++,Nr().s[27]++,this.mapStyles.length===0)return Nr().b[4][0]++,Nr().s[28]++,pR(e);Nr().b[4][1]++;const t=(Nr().s[29]++,window.localStorage.getItem(fR.latest)),r=(Nr().s[30]++,window.localStorage.getItem(mR(t)));if(Nr().s[31]++,r)return Nr().b[5][0]++,Nr().s[32]++,e(JSON.parse(r));Nr().b[5][1]++,Nr().s[33]++,pR(e)}save(e){Nr().f[9]++,Nr().s[34]++,e=Yu.ensureStyleValidity(e);const t=(Nr().s[35]++,mR(e.id));return Nr().s[36]++,window.localStorage.setItem(t,JSON.stringify(e)),Nr().s[37]++,window.localStorage.setItem(fR.latest,e.id),Nr().s[38]++,e}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tI=function(n,e){return tI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},tI(n,e)};function wq(n,e){tI(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function w9e(n){var e=typeof Symbol=="function"&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function M9e(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function S9e(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(M9e(arguments[e]));return n}var Mq=function(){function n(e,t){this.target=t,this.type=e}return n}(),E9e=function(n){wq(e,n);function e(t,r){var i=n.call(this,"error",r)||this;return i.message=t.message,i.error=t,i}return e}(Mq),O9e=function(n){wq(e,n);function e(t,r,i){t===void 0&&(t=1e3),r===void 0&&(r="");var o=n.call(this,"close",i)||this;return o.wasClean=!0,o.code=t,o.reason=r,o}return e}(Mq);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var B9e=function(){if(typeof WebSocket<"u")return WebSocket},I9e=function(n){return typeof n<"u"&&!!n&&n.CLOSING===2},_g={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},k9e=function(){function n(e,t,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var s=i._options.minUptime,a=s===void 0?_g.minUptime:s;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},a),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(f){return i._ws.send(f)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(f){return i._callEventListener(o,f)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(s){return i._callEventListener(o,s)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(s){return i._callEventListener(o,s)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(s){return i._callEventListener(o,s)})},this._url=e,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(n,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CONNECTING",{get:function(){return n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OPEN",{get:function(){return n.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSING",{get:function(){return n.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSED",{get:function(){return n.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(t,r){return typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?n.CLOSED:n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),n.prototype.close=function(e,t){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)},n.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,t),this._connect())},n.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,r=t===void 0?_g.maxEnqueuedMessages:t;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}},n.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},n.prototype.dispatchEvent=function(e){var t,r,i=this._listeners[e.type];if(i)try{for(var o=w9e(i),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(e,a)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0},n.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(r){return r!==t}))},n.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,S9e(["RWS>"],e))},n.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,r=t===void 0?_g.reconnectionDelayGrowFactor:t,i=e.minReconnectionDelay,o=i===void 0?_g.minReconnectionDelay:i,s=e.maxReconnectionDelay,a=s===void 0?_g.maxReconnectionDelay:s,f=0;return this._retryCount>0&&(f=o*Math.pow(r,this._retryCount-1),f>a&&(f=a)),this._debug("next delay",f),f},n.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},n.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var t=e();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},n.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,r=t.maxRetries,i=r===void 0?_g.maxRetries:r,o=t.connectionTimeout,s=o===void 0?_g.connectionTimeout:o,a=t.WebSocket,f=a===void 0?B9e():a;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!I9e(f))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(m){e._closeCalled||(e._debug("connect",{url:m,protocols:e._protocols}),e._ws=e._protocols?new f(m,e._protocols):new f(m),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},s))})}},n.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new E9e(Error("TIMEOUT"),this))},n.prototype._disconnect=function(e,t){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new O9e(e,t,this))}catch{}}},n.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},n.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},n.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},n.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},n.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},n}();function $r(){var n="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",e="fa2411bec13fe7a0c74835456fb0c60c3fdde9e5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:45,column:6}},16:{start:{line:35,column:6},end:{line:35,column:26}},17:{start:{line:35,column:19},end:{line:35,column:26}},18:{start:{line:36,column:6},end:{line:36,column:52}},19:{start:{line:37,column:24},end:{line:37,column:40}},20:{start:{line:38,column:6},end:{line:42,column:7}},21:{start:{line:39,column:8},end:{line:39,column:41}},22:{start:{line:41,column:8},end:{line:41,column:27}},23:{start:{line:43,column:27},end:{line:43,column:65}},24:{start:{line:44,column:6},end:{line:44,column:44}},25:{start:{line:48,column:4},end:{line:58,column:5}},26:{start:{line:49,column:6},end:{line:55,column:9}},27:{start:{line:52,column:8},end:{line:52,column:31}},28:{start:{line:54,column:8},end:{line:54,column:44}},29:{start:{line:57,column:6},end:{line:57,column:92}},30:{start:{line:62,column:22},end:{line:66,column:5}},31:{start:{line:67,column:15},end:{line:67,column:26}},32:{start:{line:68,column:4},end:{line:77,column:7}},33:{start:{line:76,column:6},end:{line:76,column:38}},34:{start:{line:76,column:17},end:{line:76,column:38}},35:{start:{line:78,column:4},end:{line:78,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:46,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:45,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:18},end:{line:59,column:3}},line:47},9:{name:"(anonymous_9)",decl:{start:{line:51,column:14},end:{line:51,column:15}},loc:{start:{line:51,column:33},end:{line:53,column:7}},line:51},10:{name:"(anonymous_10)",decl:{start:{line:53,column:14},end:{line:53,column:15}},loc:{start:{line:53,column:29},end:{line:55,column:7}},line:53},11:{name:"(anonymous_11)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:17},end:{line:79,column:3}},line:61},12:{name:"(anonymous_12)",decl:{start:{line:75,column:13},end:{line:75,column:14}},loc:{start:{line:75,column:29},end:{line:77,column:5}},line:75}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:35,column:26}},type:"if",locations:[{start:{line:35,column:6},end:{line:35,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:48,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:48},5:{loc:{start:{line:76,column:6},end:{line:76,column:38}},type:"if",locations:[{start:{line:76,column:6},end:{line:76,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE,KAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG,MAAO,SAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fa2411bec13fe7a0c74835456fb0c60c3fdde9e5"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $r=function(){return s},s}$r();class T9e{constructor(e){pn(this,"localUrl");pn(this,"websocketUrl");pn(this,"latestStyleId",($r().s[0]++,void 0));pn(this,"onLocalStyleChange");$r().f[0]++,$r().s[1]++,this.onLocalStyleChange=($r().b[0][0]++,e.onLocalStyleChange||($r().b[0][1]++,()=>{$r().f[1]++}));const t=($r().s[2]++,$r().b[1][0]++,e.port||($r().b[1][1]++,"8000")),r=($r().s[3]++,$r().b[2][0]++,e.host||($r().b[2][1]++,"localhost"));$r().s[4]++,this.localUrl=`http://${r}:${t}`,$r().s[5]++,this.websocketUrl=`ws://${r}:${t}/ws`,$r().s[6]++,this.init=this.init.bind(this)}init(e){$r().f[2]++,$r().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(t=>($r().f[3]++,$r().s[8]++,t.json())).then(t=>{$r().f[4]++;const r=($r().s[9]++,t);$r().s[10]++,this.latestStyleId=r[0],$r().s[11]++,this.notifyLocalChanges(),$r().s[12]++,e(null)}).catch(()=>{$r().f[5]++,$r().s[13]++,e(new Error("Can not connect to style API"))})}notifyLocalChanges(){$r().f[6]++;const e=($r().s[14]++,new k9e(this.websocketUrl));$r().s[15]++,e.onmessage=t=>{if($r().f[7]++,$r().s[16]++,t.data)$r().b[3][1]++;else{$r().b[3][0]++,$r().s[17]++;return}$r().s[18]++,console.log("Received style update from API");let r=($r().s[19]++,Yu.emptyStyle);$r().s[20]++;try{$r().s[21]++,r=JSON.parse(t.data)}catch(o){$r().s[22]++,console.error(o)}const i=($r().s[23]++,Yu.ensureStyleValidity(r));$r().s[24]++,this.onLocalStyleChange(i)}}latestStyle(e){if($r().f[8]++,$r().s[25]++,this.latestStyleId)$r().b[4][0]++,$r().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(t){return $r().f[9]++,$r().s[27]++,t.json()}).then(function(t){$r().f[10]++,$r().s[28]++,e(Yu.ensureStyleValidity(t))});else throw $r().b[4][1]++,$r().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(e){$r().f[11]++;const t=($r().s[30]++,dN(Yu.stripAccessTokens(Yu.replaceAccessTokens(e)))),r=($r().s[31]++,e.id);return $r().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t}).catch(function(i){$r().f[12]++,$r().s[33]++,i?($r().b[5][0]++,$r().s[34]++,console.error(i)):$r().b[5][1]++}),$r().s[35]++,e}}function As(){var n="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",e="9277d165d3b1fd7c235a1faab33cf41596d9966e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9277d165d3b1fd7c235a1faab33cf41596d9966e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return As=function(){return s},s}As();class P9e{constructor(e=(As().b[0][0]++,[])){pn(this,"revisions");pn(this,"currentIdx");As().f[0]++,As().s[0]++,this.revisions=e,As().s[1]++,this.currentIdx=e.length-1}get latest(){return As().f[1]++,As().s[2]++,this.revisions[this.revisions.length-1]}get current(){return As().f[2]++,As().s[3]++,this.revisions[this.currentIdx]}addRevision(e){As().f[3]++,As().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),As().s[5]++,this.revisions.push(e),As().s[6]++,this.currentIdx++}undo(){return As().f[4]++,As().s[7]++,this.currentIdx>0?(As().b[1][0]++,As().s[8]++,this.currentIdx--):As().b[1][1]++,As().s[9]++,this.current}redo(){return As().f[5]++,As().s[10]++,this.currentIdx<this.revisions.length-1?(As().b[2][0]++,As().s[11]++,this.currentIdx++):As().b[2][1]++,As().s[12]++,this.current}}var Sq="Expected a function",yR=NaN,K9e="[object Symbol]",D9e=/^\s+|\s+$/g,L9e=/^[-+]0x[0-9a-f]+$/i,F9e=/^0b[01]+$/i,R9e=/^0o[0-7]+$/i,U9e=parseInt,j9e=typeof window=="object"&&window&&window.Object===Object&&window,z9e=typeof self=="object"&&self&&self.Object===Object&&self,N9e=j9e||z9e||Function("return this")(),W9e=Object.prototype,G9e=W9e.toString,Q9e=Math.max,$9e=Math.min,rO=function(){return N9e.Date.now()};function Y9e(n,e,t){var r,i,o,s,a,f,m=0,C=!1,k=!1,I=!0;if(typeof n!="function")throw new TypeError(Sq);e=vR(e)||0,w5(t)&&(C=!!t.leading,k="maxWait"in t,o=k?Q9e(vR(t.maxWait)||0,e):o,I="trailing"in t?!!t.trailing:I);function K(Ae){var V=r,re=i;return r=i=void 0,m=Ae,s=n.apply(re,V),s}function L(Ae){return m=Ae,a=setTimeout(H,e),C?K(Ae):s}function q(Ae){var V=Ae-f,re=Ae-m,be=e-V;return k?$9e(be,o-re):be}function X(Ae){var V=Ae-f,re=Ae-m;return f===void 0||V>=e||V<0||k&&re>=o}function H(){var Ae=rO();if(X(Ae))return G(Ae);a=setTimeout(H,q(Ae))}function G(Ae){return a=void 0,I&&r?K(Ae):(r=i=void 0,s)}function ee(){a!==void 0&&clearTimeout(a),m=0,r=f=i=a=void 0}function ne(){return a===void 0?s:G(rO())}function se(){var Ae=rO(),V=X(Ae);if(r=arguments,i=this,f=Ae,V){if(a===void 0)return L(f);if(k)return a=setTimeout(H,e),K(f)}return a===void 0&&(a=setTimeout(H,e)),s}return se.cancel=ee,se.flush=ne,se}function q9e(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Sq);return w5(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Y9e(n,e,{leading:r,maxWait:e,trailing:i})}function w5(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function V9e(n){return!!n&&typeof n=="object"}function H9e(n){return typeof n=="symbol"||V9e(n)&&G9e.call(n)==K9e}function vR(n){if(typeof n=="number")return n;if(H9e(n))return yR;if(w5(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=w5(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(D9e,"");var t=F9e.test(n);return t||R9e.test(n)?U9e(n.slice(2),t?2:8):L9e.test(n)?yR:+n}var Z9e=q9e;const X9e=Da(Z9e);var M5={exports:{}};M5.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",k="[object Date]",I="[object Error]",K="[object Function]",L="[object GeneratorFunction]",q="[object Map]",X="[object Number]",H="[object Null]",G="[object Object]",ee="[object Promise]",ne="[object Proxy]",se="[object RegExp]",Ae="[object Set]",V="[object String]",re="[object Symbol]",be="[object Undefined]",_e="[object WeakMap]",Pe="[object ArrayBuffer]",Ue="[object DataView]",pe="[object Float32Array]",Ye="[object Float64Array]",we="[object Int8Array]",pt="[object Int16Array]",wt="[object Int32Array]",ft="[object Uint8Array]",bt="[object Uint8ClampedArray]",$e="[object Uint16Array]",tt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,en=/^\[object .+?Constructor\]$/,tn=/^(?:0|[1-9]\d*)$/,St={};St[pe]=St[Ye]=St[we]=St[pt]=St[wt]=St[ft]=St[bt]=St[$e]=St[tt]=!0,St[a]=St[f]=St[Pe]=St[C]=St[Ue]=St[k]=St[I]=St[K]=St[q]=St[X]=St[G]=St[se]=St[Ae]=St[V]=St[_e]=!1;var Xt=typeof window=="object"&&window&&window.Object===Object&&window,Nt=typeof self=="object"&&self&&self.Object===Object&&self,Fe=Xt||Nt||Function("return this")(),ye=e&&!e.nodeType&&e,ke=ye&&!0&&n&&!n.nodeType&&n,Ge=ke&&ke.exports===ye,st=Ge&&Xt.process,ht=function(){try{return st&&st.binding&&st.binding("util")}catch{}}(),Bt=ht&&ht.isTypedArray;function nn(N,he){for(var We=-1,Tt=N==null?0:N.length,sr=0,On=[];++We<Tt;){var Ur=N[We];he(Ur,We,N)&&(On[sr++]=Ur)}return On}function Gt(N,he){for(var We=-1,Tt=he.length,sr=N.length;++We<Tt;)N[sr+We]=he[We];return N}function zn(N,he){for(var We=-1,Tt=N==null?0:N.length;++We<Tt;)if(he(N[We],We,N))return!0;return!1}function rr(N,he){for(var We=-1,Tt=Array(N);++We<N;)Tt[We]=he(We);return Tt}function xn(N){return function(he){return N(he)}}function Zn(N,he){return N.has(he)}function yr(N,he){return N==null?void 0:N[he]}function Mr(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt,sr){We[++he]=[sr,Tt]}),We}function Or(N,he){return function(We){return N(he(We))}}function Jr(N){var he=-1,We=Array(N.size);return N.forEach(function(Tt){We[++he]=Tt}),We}var _r=Array.prototype,gi=Function.prototype,Te=Object.prototype,te=Fe["__core-js_shared__"],oe=gi.toString,je=Te.hasOwnProperty,Ct=function(){var N=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),Lt=Te.toString,jt=RegExp("^"+oe.call(je).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=Ge?Fe.Buffer:void 0,Re=Fe.Symbol,Ee=Fe.Uint8Array,Me=Te.propertyIsEnumerable,p=_r.splice,Ke=Re?Re.toStringTag:void 0,rt=Object.getOwnPropertySymbols,ot=cr?cr.isBuffer:void 0,yt=Or(Object.keys,Object),lt=ii(Fe,"DataView"),Rt=ii(Fe,"Map"),Dt=ii(Fe,"Promise"),Ot=ii(Fe,"Set"),At=ii(Fe,"WeakMap"),yn=ii(Object,"create"),gn=xo(lt),Yn=xo(Rt),Sr=xo(Dt),$t=xo(Ot),Kn=xo(At),Wn=Re?Re.prototype:void 0,Tr=Wn?Wn.valueOf:void 0;function Jn(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Vn(){this.__data__=yn?yn(null):{},this.size=0}function Tn(N){var he=this.has(N)&&delete this.__data__[N];return this.size-=he?1:0,he}function _i(N){var he=this.__data__;if(yn){var We=he[N];return We===r?void 0:We}return je.call(he,N)?he[N]:void 0}function Zi(N){var he=this.__data__;return yn?he[N]!==void 0:je.call(he,N)}function ei(N,he){var We=this.__data__;return this.size+=this.has(N)?0:1,We[N]=yn&&he===void 0?r:he,this}Jn.prototype.clear=Vn,Jn.prototype.delete=Tn,Jn.prototype.get=_i,Jn.prototype.has=Zi,Jn.prototype.set=ei;function Wr(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Yr(){this.__data__=[],this.size=0}function Xi(N){var he=this.__data__,We=En(he,N);if(We<0)return!1;var Tt=he.length-1;return We==Tt?he.pop():p.call(he,We,1),--this.size,!0}function hi(N){var he=this.__data__,We=En(he,N);return We<0?void 0:he[We][1]}function ra(N){return En(this.__data__,N)>-1}function Ca(N,he){var We=this.__data__,Tt=En(We,N);return Tt<0?(++this.size,We.push([N,he])):We[Tt][1]=he,this}Wr.prototype.clear=Yr,Wr.prototype.delete=Xi,Wr.prototype.get=hi,Wr.prototype.has=ra,Wr.prototype.set=Ca;function ao(N){var he=-1,We=N==null?0:N.length;for(this.clear();++he<We;){var Tt=N[he];this.set(Tt[0],Tt[1])}}function Vo(){this.size=0,this.__data__={hash:new Jn,map:new(Rt||Wr),string:new Jn}}function la(N){var he=di(this,N).delete(N);return this.size-=he?1:0,he}function ba(N){return di(this,N).get(N)}function el(N){return di(this,N).has(N)}function Ss(N,he){var We=di(this,N),Tt=We.size;return We.set(N,he),this.size+=We.size==Tt?0:1,this}ao.prototype.clear=Vo,ao.prototype.delete=la,ao.prototype.get=ba,ao.prototype.has=el,ao.prototype.set=Ss;function li(N){var he=-1,We=N==null?0:N.length;for(this.__data__=new ao;++he<We;)this.add(N[he])}function ar(N){return this.__data__.set(N,r),this}function La(N){return this.__data__.has(N)}li.prototype.add=li.prototype.push=ar,li.prototype.has=La;function Io(N){var he=this.__data__=new Wr(N);this.size=he.size}function ua(){this.__data__=new Wr,this.size=0}function Oe(N){var he=this.__data__,We=he.delete(N);return this.size=he.size,We}function it(N){return this.__data__.get(N)}function rn(N){return this.__data__.has(N)}function wn(N,he){var We=this.__data__;if(We instanceof Wr){var Tt=We.__data__;if(!Rt||Tt.length<t-1)return Tt.push([N,he]),this.size=++We.size,this;We=this.__data__=new ao(Tt)}return We.set(N,he),this.size=We.size,this}Io.prototype.clear=ua,Io.prototype.delete=Oe,Io.prototype.get=it,Io.prototype.has=rn,Io.prototype.set=wn;function Qt(N,he){var We=yl(N),Tt=!We&&ya(N),sr=!We&&!Tt&&Rs(N),On=!We&&!Tt&&!sr&&Fl(N),Ur=We||Tt||sr||On,Vr=Ur?rr(N.length,String):[],er=Vr.length;for(var lr in N)je.call(N,lr)&&!(Ur&&(lr=="length"||sr&&(lr=="offset"||lr=="parent")||On&&(lr=="buffer"||lr=="byteLength"||lr=="byteOffset")||ca(lr,er)))&&Vr.push(lr);return Vr}function En(N,he){for(var We=N.length;We--;)if(wa(N[We][0],he))return We;return-1}function ni(N,he,We){var Tt=he(N);return yl(N)?Tt:Gt(Tt,We(N))}function Ci(N){return N==null?N===void 0?be:H:Ke&&Ke in Object(N)?Es(N):Os(N)}function Wi(N){return Dr(N)&&Ci(N)==a}function Wo(N,he,We,Tt,sr){return N===he?!0:N==null||he==null||!Dr(N)&&!Dr(he)?N!==N&&he!==he:Dl(N,he,We,Tt,Wo,sr)}function Dl(N,he,We,Tt,sr,On){var Ur=yl(N),Vr=yl(he),er=Ur?f:so(N),lr=Vr?f:so(he);er=er==a?G:er,lr=lr==a?G:lr;var ri=er==G,lo=lr==G,wi=er==lr;if(wi&&Rs(N)){if(!Rs(he))return!1;Ur=!0,ri=!1}if(wi&&!ri)return On||(On=new Io),Ur||Fl(N)?Gr(N,he,We,Tt,sr,On):ms(N,he,er,We,Tt,sr,On);if(!(We&i)){var Er=ri&&je.call(N,"__wrapped__"),Li=lo&&je.call(he,"__wrapped__");if(Er||Li){var ko=Er?N.value():N,ia=Li?he.value():he;return On||(On=new Io),sr(ko,ia,We,Tt,On)}}return wi?(On||(On=new Io),Mu(N,he,We,Tt,sr,On)):!1}function Br(N){if(!bi(N)||Ll(N))return!1;var he=Gi(N)?jt:en;return he.test(xo(N))}function qr(N){return Dr(N)&&vl(N.length)&&!!St[Ci(N)]}function xa(N){if(!Uo(N))return yt(N);var he=[];for(var We in Object(N))je.call(N,We)&&We!="constructor"&&he.push(We);return he}function Gr(N,he,We,Tt,sr,On){var Ur=We&i,Vr=N.length,er=he.length;if(Vr!=er&&!(Ur&&er>Vr))return!1;var lr=On.get(N);if(lr&&On.get(he))return lr==he;var ri=-1,lo=!0,wi=We&o?new li:void 0;for(On.set(N,he),On.set(he,N);++ri<Vr;){var Er=N[ri],Li=he[ri];if(Tt)var ko=Ur?Tt(Li,Er,ri,he,N,On):Tt(Er,Li,ri,N,he,On);if(ko!==void 0){if(ko)continue;lo=!1;break}if(wi){if(!zn(he,function(ia,Va){if(!Zn(wi,Va)&&(Er===ia||sr(Er,ia,We,Tt,On)))return wi.push(Va)})){lo=!1;break}}else if(!(Er===Li||sr(Er,Li,We,Tt,On))){lo=!1;break}}return On.delete(N),On.delete(he),lo}function ms(N,he,We,Tt,sr,On,Ur){switch(We){case Ue:if(N.byteLength!=he.byteLength||N.byteOffset!=he.byteOffset)return!1;N=N.buffer,he=he.buffer;case Pe:return!(N.byteLength!=he.byteLength||!On(new Ee(N),new Ee(he)));case C:case k:case X:return wa(+N,+he);case I:return N.name==he.name&&N.message==he.message;case se:case V:return N==he+"";case q:var Vr=Mr;case Ae:var er=Tt&i;if(Vr||(Vr=Jr),N.size!=he.size&&!er)return!1;var lr=Ur.get(N);if(lr)return lr==he;Tt|=o,Ur.set(N,he);var ri=Gr(Vr(N),Vr(he),Tt,sr,On,Ur);return Ur.delete(N),ri;case re:if(Tr)return Tr.call(N)==Tr.call(he)}return!1}function Mu(N,he,We,Tt,sr,On){var Ur=We&i,Vr=Ro(N),er=Vr.length,lr=Ro(he),ri=lr.length;if(er!=ri&&!Ur)return!1;for(var lo=er;lo--;){var wi=Vr[lo];if(!(Ur?wi in he:je.call(he,wi)))return!1}var Er=On.get(N);if(Er&&On.get(he))return Er==he;var Li=!0;On.set(N,he),On.set(he,N);for(var ko=Ur;++lo<er;){wi=Vr[lo];var ia=N[wi],Va=he[wi];if(Tt)var tl=Ur?Tt(Va,ia,wi,he,N,On):Tt(ia,Va,wi,N,he,On);if(!(tl===void 0?ia===Va||sr(ia,Va,We,Tt,On):tl)){Li=!1;break}ko||(ko=wi=="constructor")}if(Li&&!ko){var Rl=N.constructor,Ma=he.constructor;Rl!=Ma&&"constructor"in N&&"constructor"in he&&!(typeof Rl=="function"&&Rl instanceof Rl&&typeof Ma=="function"&&Ma instanceof Ma)&&(Li=!1)}return On.delete(N),On.delete(he),Li}function Ro(N){return ni(N,xi,Aa)}function di(N,he){var We=N.__data__;return tu(he)?We[typeof he=="string"?"string":"hash"]:We.map}function ii(N,he){var We=yr(N,he);return Br(We)?We:void 0}function Es(N){var he=je.call(N,Ke),We=N[Ke];try{N[Ke]=void 0;var Tt=!0}catch{}var sr=Lt.call(N);return Tt&&(he?N[Ke]=We:delete N[Ke]),sr}var Aa=rt?function(N){return N==null?[]:(N=Object(N),nn(rt(N),function(he){return Me.call(N,he)}))}:Ji,so=Ci;(lt&&so(new lt(new ArrayBuffer(1)))!=Ue||Rt&&so(new Rt)!=q||Dt&&so(Dt.resolve())!=ee||Ot&&so(new Ot)!=Ae||At&&so(new At)!=_e)&&(so=function(N){var he=Ci(N),We=he==G?N.constructor:void 0,Tt=We?xo(We):"";if(Tt)switch(Tt){case gn:return Ue;case Yn:return q;case Sr:return ee;case $t:return Ae;case Kn:return _e}return he});function ca(N,he){return he=he??s,!!he&&(typeof N=="number"||tn.test(N))&&N>-1&&N%1==0&&N<he}function tu(N){var he=typeof N;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?N!=="__proto__":N===null}function Ll(N){return!!Ct&&Ct in N}function Uo(N){var he=N&&N.constructor,We=typeof he=="function"&&he.prototype||Te;return N===We}function Os(N){return Lt.call(N)}function xo(N){if(N!=null){try{return oe.call(N)}catch{}try{return N+""}catch{}}return""}function wa(N,he){return N===he||N!==N&&he!==he}var ya=Wi(function(){return arguments}())?Wi:function(N){return Dr(N)&&je.call(N,"callee")&&!Me.call(N,"callee")},yl=Array.isArray;function qa(N){return N!=null&&vl(N.length)&&!Gi(N)}var Rs=ot||ki;function Vu(N,he){return Wo(N,he)}function Gi(N){if(!bi(N))return!1;var he=Ci(N);return he==K||he==L||he==m||he==ne}function vl(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=s}function bi(N){var he=typeof N;return N!=null&&(he=="object"||he=="function")}function Dr(N){return N!=null&&typeof N=="object"}var Fl=Bt?xn(Bt):qr;function xi(N){return qa(N)?Qt(N):xa(N)}function Ji(){return[]}function ki(){return!1}n.exports=Vu})(M5,M5.exports);var J9e=M5.exports;const nI=Da(J9e);function ai(){var n="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",e="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ai=function(){return s},s}ai();class ePe{constructor(e=(ai().b[0][0]++,{})){pn(this,"onSourcesChange");pn(this,"onVectorLayersChange");pn(this,"throttledAnalyzeVectorLayerFields");pn(this,"_sources");pn(this,"_vectorLayers");ai().f[0]++,ai().s[0]++,this.onSourcesChange=(ai().b[1][0]++,e.onSourcesChange||(ai().b[1][1]++,()=>{ai().f[1]++})),ai().s[1]++,this.onVectorLayersChange=(ai().b[2][0]++,e.onVectorLayersChange||(ai().b[2][1]++,()=>{ai().f[2]++})),ai().s[2]++,this._sources={},ai().s[3]++,this._vectorLayers={},ai().s[4]++,this.throttledAnalyzeVectorLayerFields=X9e(this.analyzeVectorLayerFields,5e3)}analyzeMap(e){ai().f[3]++;const t=(ai().s[5]++,{...this._sources});ai().s[6]++,Object.keys(e.style.sourceCaches).forEach(r=>{ai().f[4]++,ai().s[7]++,this._sources[r]=e.style.sourceCaches[r]._source.vectorLayerIds}),ai().s[8]++,nI(t,this._sources)?ai().b[3][1]++:(ai().b[3][0]++,ai().s[9]++,this.onSourcesChange(this._sources)),ai().s[10]++,this.throttledAnalyzeVectorLayerFields(e)}analyzeVectorLayerFields(e){ai().f[5]++;const t=(ai().s[11]++,{...this._vectorLayers});ai().s[12]++,Object.keys(this._sources).forEach(r=>{ai().f[6]++,ai().s[13]++,(ai().b[4][0]++,this._sources[r]||(ai().b[4][1]++,[])).forEach(i=>{ai().f[7]++;const o=(ai().s[14]++,ai().b[5][0]++,this._vectorLayers[i]||(ai().b[5][1]++,{})),s=(ai().s[15]++,{sourceLayer:i});ai().s[16]++,e.querySourceFeatures(r,s).forEach(a=>{ai().f[8]++,ai().s[17]++,Object.keys(a.properties).forEach(f=>{ai().f[9]++;const m=(ai().s[18]++,ai().b[6][0]++,o[f]||(ai().b[6][1]++,{}));ai().s[19]++,m[a.properties[f]]={},ai().s[20]++,o[f]=m})}),ai().s[21]++,this._vectorLayers[i]=o})}),ai().s[22]++,nI(t,this._vectorLayers)?ai().b[7][1]++:(ai().b[7][0]++,ai().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ai().f[10]++,ai().s[24]++,this._sources}get vectorLayers(){return ai().f[11]++,ai().s[25]++,this._vectorLayers}}function ta(){var n="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",e="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ta=function(){return s},s}ta();const eb=(ta().s[0]++,{});function $T(){ta().f[0]++;const n=(ta().s[1]++,new URL(window.location.href).searchParams),e=(ta().s[2]++,n.get("debug"));return ta().s[3]++,e?(ta().b[0][0]++,ta().s[4]++,!!e.match(/^(|1|true)$/)):(ta().b[0][1]++,ta().s[5]++,!1)}function Eq(){return ta().f[1]++,ta().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function tPe(n,e,t){if(ta().f[2]++,ta().s[7]++,$T())ta().b[1][1]++;else throw ta().b[1][0]++,ta().s[8]++,Eq();ta().s[9]++,eb[n]=(ta().b[2][0]++,eb[n]||(ta().b[2][1]++,{})),ta().s[10]++,eb[n][e]=t}function nPe(n,e){if(ta().f[3]++,ta().s[11]++,$T())ta().b[3][1]++;else throw ta().b[3][0]++,ta().s[12]++,Eq();if(ta().s[13]++,Object.prototype.hasOwnProperty.call(eb,n))return ta().b[4][0]++,ta().s[14]++,eb[n][e];ta().b[4][1]++}const Eg=(ta().s[15]++,{enabled:$T,get:nPe,set:tPe});ta().s[16]++;window.debug=Eg;function ce(){var n="/home/runner/work/maputnik/maputnik/src/components/App.tsx",e="b0d5f8ee8537ee2f4707fe123c0c222059f25ad2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:36,column:0},end:{line:36,column:30}},1:{start:{line:38,column:29},end:{line:38,column:60}},2:{start:{line:39,column:26},end:{line:39,column:54}},3:{start:{line:40,column:31},end:{line:40,column:64}},4:{start:{line:41,column:2},end:{line:53,column:3}},5:{start:{line:42,column:24},end:{line:42,column:95}},6:{start:{line:43,column:4},end:{line:45,column:5}},7:{start:{line:44,column:6},end:{line:44,column:47}},8:{start:{line:46,column:9},end:{line:53,column:3}},9:{start:{line:47,column:24},end:{line:47,column:96}},10:{start:{line:48,column:4},end:{line:50,column:5}},11:{start:{line:49,column:6},end:{line:49,column:47}},12:{start:{line:52,column:4},end:{line:52,column:15}},13:{start:{line:56,column:2},end:{line:65,column:4}},14:{start:{line:72,column:4},end:{line:72,column:17}},15:{start:{line:73,column:4},end:{line:73,column:19}},16:{start:{line:74,column:4},end:{line:74,column:45}},17:{start:{line:75,column:19},end:{line:75,column:75}},18:{start:{line:76,column:15},end:{line:76,column:38}},19:{start:{line:77,column:4},end:{line:79,column:5}},20:{start:{line:78,column:6},end:{line:78,column:34}},21:{start:{line:80,column:4},end:{line:84,column:7}},22:{start:{line:81,column:40},end:{line:81,column:86}},23:{start:{line:85,column:22},end:{line:136,column:5}},24:{start:{line:89,column:10},end:{line:89,column:40}},25:{start:{line:95,column:10},end:{line:95,column:35}},26:{start:{line:101,column:10},end:{line:101,column:37}},27:{start:{line:107,column:10},end:{line:107,column:38}},28:{start:{line:113,column:10},end:{line:113,column:39}},29:{start:{line:119,column:10},end:{line:121,column:12}},30:{start:{line:127,column:10},end:{line:127,column:63}},31:{start:{line:133,column:10},end:{line:133,column:36}},32:{start:{line:137,column:4},end:{line:150,column:7}},33:{start:{line:138,column:6},end:{line:149,column:7}},34:{start:{line:139,column:8},end:{line:139,column:24}},35:{start:{line:140,column:8},end:{line:140,column:30}},36:{start:{line:141,column:13},end:{line:149,column:7}},37:{start:{line:142,column:25},end:{line:144,column:10}},38:{start:{line:143,column:10},end:{line:143,column:41}},39:{start:{line:145,column:8},end:{line:148,column:9}},40:{start:{line:146,column:10},end:{line:146,column:44}},41:{start:{line:147,column:10},end:{line:147,column:29}},42:{start:{line:151,column:21},end:{line:151,column:38}},43:{start:{line:152,column:4},end:{line:171,column:5}},44:{start:{line:153,column:6},end:{line:153,column:41}},45:{start:{line:154,column:6},end:{line:154,column:74}},46:{start:{line:154,column:43},end:{line:154,column:72}},47:{start:{line:155,column:6},end:{line:155,column:31}},48:{start:{line:157,column:6},end:{line:159,column:7}},49:{start:{line:158,column:8},end:{line:158,column:33}},50:{start:{line:160,column:6},end:{line:170,column:9}},51:{start:{line:161,column:8},end:{line:164,column:9}},52:{start:{line:162,column:10},end:{line:162,column:74}},53:{start:{line:163,column:10},end:{line:163,column:45}},54:{start:{line:165,column:8},end:{line:165,column:104}},55:{start:{line:165,column:50},end:{line:165,column:102}},56:{start:{line:166,column:8},end:{line:169,column:9}},57:{start:{line:167,column:10},end:{line:167,column:63}},58:{start:{line:168,column:10},end:{line:168,column:69}},59:{start:{line:172,column:4},end:{line:175,column:5}},60:{start:{line:173,column:6},end:{line:173,column:65}},61:{start:{line:174,column:6},end:{line:174,column:59}},62:{start:{line:176,column:4},end:{line:210,column:6}},63:{start:{line:211,column:4},end:{line:213,column:7}},64:{start:{line:212,column:35},end:{line:212,column:69}},65:{start:{line:215,column:19},end:{line:233,column:3}},66:{start:{line:216,column:4},end:{line:232,column:5}},67:{start:{line:217,column:6},end:{line:223,column:7}},68:{start:{line:218,column:8},end:{line:218,column:27}},69:{start:{line:219,column:8},end:{line:219,column:22}},70:{start:{line:220,column:13},end:{line:223,column:7}},71:{start:{line:221,column:8},end:{line:221,column:27}},72:{start:{line:222,column:8},end:{line:222,column:22}},73:{start:{line:225,column:6},end:{line:231,column:7}},74:{start:{line:226,column:8},end:{line:226,column:27}},75:{start:{line:227,column:8},end:{line:227,column:22}},76:{start:{line:228,column:13},end:{line:231,column:7}},77:{start:{line:229,column:8},end:{line:229,column:27}},78:{start:{line:230,column:8},end:{line:230,column:22}},79:{start:{line:235,column:4},end:{line:235,column:60}},80:{start:{line:238,column:4},end:{line:238,column:63}},81:{start:{line:241,column:4},end:{line:241,column:40}},82:{start:{line:244,column:21},end:{line:244,column:55}},83:{start:{line:245,column:24},end:{line:245,column:93}},84:{start:{line:246,column:21},end:{line:246,column:110}},85:{start:{line:247,column:4},end:{line:249,column:7}},86:{start:{line:248,column:6},end:{line:248,column:80}},87:{start:{line:252,column:4},end:{line:254,column:7}},88:{start:{line:253,column:6},end:{line:253,column:80}},89:{start:{line:256,column:29},end:{line:270,column:3}},90:{start:{line:257,column:4},end:{line:261,column:5}},91:{start:{line:258,column:6},end:{line:260,column:9}},92:{start:{line:262,column:25},end:{line:268,column:5}},93:{start:{line:269,column:4},end:{line:269,column:38}},94:{start:{line:271,column:19},end:{line:383,column:3}},95:{start:{line:272,column:4},end:{line:277,column:6}},96:{start:{line:278,column:4},end:{line:280,column:5}},97:{start:{line:279,column:6},end:{line:279,column:44}},98:{start:{line:281,column:19},end:{line:281,column:51}},99:{start:{line:282,column:24},end:{line:282,column:26}},100:{start:{line:283,column:4},end:{line:294,column:5}},101:{start:{line:284,column:26},end:{line:284,column:42}},102:{start:{line:285,column:6},end:{line:293,column:9}},103:{start:{line:286,column:8},end:{line:291,column:9}},104:{start:{line:287,column:24},end:{line:289,column:11}},105:{start:{line:290,column:10},end:{line:290,column:34}},106:{start:{line:292,column:8},end:{line:292,column:40}},107:{start:{line:295,column:25},end:{line:346,column:6}},108:{start:{line:296,column:23},end:{line:296,column:109}},109:{start:{line:297,column:6},end:{line:310,column:7}},110:{start:{line:298,column:35},end:{line:298,column:43}},111:{start:{line:299,column:8},end:{line:309,column:10}},112:{start:{line:311,column:33},end:{line:311,column:100}},113:{start:{line:312,column:6},end:{line:325,column:7}},114:{start:{line:313,column:35},end:{line:313,column:53}},115:{start:{line:314,column:8},end:{line:324,column:10}},116:{start:{line:326,column:25},end:{line:326,column:88}},117:{start:{line:327,column:6},end:{line:345,column:7}},118:{start:{line:328,column:52},end:{line:328,column:62}},119:{start:{line:329,column:20},end:{line:329,column:78}},120:{start:{line:330,column:8},end:{line:340,column:10}},121:{start:{line:342,column:8},end:{line:344,column:10}},122:{start:{line:347,column:24},end:{line:347,column:30}},123:{start:{line:348,column:4},end:{line:362,column:5}},124:{start:{line:349,column:6},end:{line:349,column:42}},125:{start:{line:350,column:6},end:{line:361,column:9}},126:{start:{line:351,column:28},end:{line:351,column:33}},127:{start:{line:352,column:8},end:{line:360,column:9}},128:{start:{line:353,column:10},end:{line:359,column:11}},129:{start:{line:354,column:28},end:{line:354,column:49}},130:{start:{line:355,column:30},end:{line:355,column:69}},131:{start:{line:356,column:12},end:{line:356,column:44}},132:{start:{line:358,column:12},end:{line:358,column:30}},133:{start:{line:363,column:4},end:{line:365,column:5}},134:{start:{line:364,column:6},end:{line:364,column:40}},135:{start:{line:366,column:4},end:{line:368,column:5}},136:{start:{line:367,column:6},end:{line:367,column:40}},137:{start:{line:369,column:4},end:{line:371,column:5}},138:{start:{line:370,column:6},end:{line:370,column:47}},139:{start:{line:372,column:4},end:{line:374,column:5}},140:{start:{line:373,column:6},end:{line:373,column:31}},141:{start:{line:375,column:4},end:{line:382,column:7}},142:{start:{line:380,column:6},end:{line:380,column:26}},143:{start:{line:381,column:6},end:{line:381,column:27}},144:{start:{line:384,column:11},end:{line:391,column:3}},145:{start:{line:385,column:24},end:{line:385,column:49}},146:{start:{line:386,column:21},end:{line:386,column:67}},147:{start:{line:387,column:4},end:{line:387,column:61}},148:{start:{line:388,column:4},end:{line:390,column:7}},149:{start:{line:392,column:11},end:{line:399,column:3}},150:{start:{line:393,column:24},end:{line:393,column:49}},151:{start:{line:394,column:21},end:{line:394,column:67}},152:{start:{line:395,column:4},end:{line:395,column:61}},153:{start:{line:396,column:4},end:{line:398,column:7}},154:{start:{line:400,column:16},end:{line:414,column:3}},155:{start:{line:401,column:33},end:{line:401,column:37}},156:{start:{line:402,column:17},end:{line:402,column:43}},157:{start:{line:403,column:4},end:{line:403,column:53}},158:{start:{line:404,column:4},end:{line:404,column:53}},159:{start:{line:405,column:4},end:{line:405,column:38}},160:{start:{line:405,column:31},end:{line:405,column:38}},161:{start:{line:406,column:4},end:{line:410,column:5}},162:{start:{line:407,column:6},end:{line:409,column:9}},163:{start:{line:411,column:4},end:{line:411,column:29}},164:{start:{line:412,column:4},end:{line:412,column:49}},165:{start:{line:413,column:4},end:{line:413,column:32}},166:{start:{line:415,column:19},end:{line:421,column:3}},167:{start:{line:416,column:25},end:{line:419,column:5}},168:{start:{line:420,column:4},end:{line:420,column:38}},169:{start:{line:422,column:19},end:{line:427,column:3}},170:{start:{line:423,column:19},end:{line:423,column:45}},171:{start:{line:424,column:28},end:{line:424,column:43}},172:{start:{line:425,column:4},end:{line:425,column:37}},173:{start:{line:426,column:4},end:{line:426,column:41}},174:{start:{line:428,column:16},end:{line:435,column:3}},175:{start:{line:429,column:19},end:{line:429,column:45}},176:{start:{line:430,column:26},end:{line:430,column:41}},177:{start:{line:431,column:24},end:{line:431,column:55}},178:{start:{line:432,column:4},end:{line:432,column:46}},179:{start:{line:433,column:4},end:{line:433,column:48}},180:{start:{line:434,column:4},end:{line:434,column:39}},181:{start:{line:436,column:28},end:{line:445,column:3}},182:{start:{line:437,column:19},end:{line:437,column:45}},183:{start:{line:438,column:26},end:{line:438,column:41}},184:{start:{line:439,column:18},end:{line:439,column:45}},185:{start:{line:440,column:26},end:{line:440,column:70}},186:{start:{line:441,column:4},end:{line:441,column:88}},187:{start:{line:442,column:4},end:{line:442,column:33}},188:{start:{line:443,column:4},end:{line:443,column:33}},189:{start:{line:444,column:4},end:{line:444,column:39}},190:{start:{line:446,column:20},end:{line:453,column:3}},191:{start:{line:447,column:26},end:{line:447,column:61}},192:{start:{line:448,column:4},end:{line:451,column:6}},193:{start:{line:452,column:4},end:{line:452,column:39}},194:{start:{line:454,column:19},end:{line:458,column:3}},195:{start:{line:455,column:26},end:{line:455,column:61}},196:{start:{line:456,column:4},end:{line:456,column:33}},197:{start:{line:457,column:4},end:{line:457,column:39}},198:{start:{line:459,column:16},end:{line:463,column:3}},199:{start:{line:460,column:4},end:{line:462,column:27}},200:{start:{line:464,column:21},end:{line:478,column:3}},201:{start:{line:465,column:21},end:{line:465,column:44}},202:{start:{line:466,column:4},end:{line:477,column:5}},203:{start:{line:467,column:27},end:{line:473,column:7}},204:{start:{line:474,column:6},end:{line:474,column:26}},205:{start:{line:476,column:6},end:{line:476,column:22}},206:{start:{line:479,column:14},end:{line:483,column:3}},207:{start:{line:480,column:4},end:{line:480,column:34}},208:{start:{line:481,column:4},end:{line:481,column:47}},209:{start:{line:482,column:4},end:{line:482,column:34}},210:{start:{line:485,column:23},end:{line:485,column:25}},211:{start:{line:486,column:4},end:{line:520,column:5}},212:{start:{line:487,column:6},end:{line:519,column:7}},213:{start:{line:488,column:8},end:{line:491,column:10}},214:{start:{line:492,column:18},end:{line:492,column:25}},215:{start:{line:493,column:8},end:{line:497,column:9}},216:{start:{line:494,column:10},end:{line:494,column:62}},217:{start:{line:496,column:10},end:{line:496,column:63}},218:{start:{line:498,column:8},end:{line:516,column:11}},219:{start:{line:500,column:30},end:{line:500,column:45}},220:{start:{line:501,column:10},end:{line:503,column:11}},221:{start:{line:502,column:12},end:{line:502,column:19}},222:{start:{line:504,column:26},end:{line:506,column:12}},223:{start:{line:507,column:10},end:{line:509,column:11}},224:{start:{line:508,column:12},end:{line:508,column:47}},225:{start:{line:510,column:10},end:{line:510,column:51}},226:{start:{line:511,column:10},end:{line:513,column:13}},227:{start:{line:515,column:10},end:{line:515,column:72}},228:{start:{line:518,column:8},end:{line:518,column:86}},229:{start:{line:521,column:4},end:{line:526,column:5}},230:{start:{line:522,column:6},end:{line:522,column:39}},231:{start:{line:523,column:6},end:{line:525,column:9}},232:{start:{line:529,column:21},end:{line:529,column:55}},233:{start:{line:530,column:4},end:{line:530,column:53}},234:{start:{line:532,column:16},end:{line:536,column:3}},235:{start:{line:533,column:4},end:{line:535,column:7}},236:{start:{line:538,column:40},end:{line:538,column:50}},237:{start:{line:539,column:21},end:{line:550,column:5}},238:{start:{line:542,column:8},end:{line:544,column:11}},239:{start:{line:547,column:8},end:{line:547,column:44}},240:{start:{line:548,column:8},end:{line:548,column:28}},241:{start:{line:551,column:21},end:{line:551,column:40}},242:{start:{line:553,column:4},end:{line:575,column:5}},243:{start:{line:554,column:6},end:{line:562,column:8}},244:{start:{line:564,column:6},end:{line:574,column:8}},245:{start:{line:577,column:4},end:{line:579,column:5}},246:{start:{line:578,column:6},end:{line:578,column:63}},247:{start:{line:580,column:25},end:{line:580,column:27}},248:{start:{line:581,column:4},end:{line:583,column:5}},249:{start:{line:582,column:6},end:{line:582,column:52}},250:{start:{line:584,column:4},end:{line:584,column:160}},251:{start:{line:586,column:18},end:{line:604,column:3}},252:{start:{line:587,column:43},end:{line:587,column:53}},253:{start:{line:588,column:35},end:{line:588,column:45}},254:{start:{line:589,column:16},end:{line:589,column:38}},255:{start:{line:590,column:20},end:{line:590,column:50}},256:{start:{line:591,column:4},end:{line:591,column:70}},257:{start:{line:592,column:23},end:{line:592,column:122}},258:{start:{line:592,column:66},end:{line:592,column:91}},259:{start:{line:592,column:109},end:{line:592,column:121}},260:{start:{line:593,column:4},end:{line:597,column:5}},261:{start:{line:594,column:6},end:{line:594,column:58}},262:{start:{line:596,column:6},end:{line:596,column:39}},263:{start:{line:598,column:4},end:{line:602,column:5}},264:{start:{line:599,column:6},end:{line:599,column:38}},265:{start:{line:600,column:11},end:{line:602,column:5}},266:{start:{line:601,column:6},end:{line:601,column:46}},267:{start:{line:603,column:4},end:{line:603,column:71}},268:{start:{line:605,column:27},end:{line:650,column:3}},269:{start:{line:606,column:16},end:{line:606,column:38}},270:{start:{line:607,column:23},end:{line:607,column:52}},271:{start:{line:608,column:4},end:{line:620,column:5}},272:{start:{line:609,column:21},end:{line:609,column:42}},273:{start:{line:610,column:23},end:{line:610,column:25}},274:{start:{line:611,column:6},end:{line:613,column:9}},275:{start:{line:612,column:8},end:{line:612,column:35}},276:{start:{line:614,column:6},end:{line:619,column:9}},277:{start:{line:621,column:17},end:{line:621,column:45}},278:{start:{line:622,column:4},end:{line:624,column:5}},279:{start:{line:623,column:6},end:{line:623,column:29}},280:{start:{line:625,column:17},end:{line:625,column:46}},281:{start:{line:626,column:4},end:{line:649,column:5}},282:{start:{line:627,column:6},end:{line:648,column:7}},283:{start:{line:628,column:22},end:{line:628,column:37}},284:{start:{line:629,column:46},end:{line:632,column:9}},285:{start:{line:633,column:20},end:{line:633,column:24}},286:{start:{line:634,column:8},end:{line:639,column:9}},287:{start:{line:635,column:33},end:{line:635,column:63}},288:{start:{line:636,column:10},end:{line:638,column:11}},289:{start:{line:637,column:12},end:{line:637,column:26}},290:{start:{line:640,column:8},end:{line:645,column:9}},291:{start:{line:641,column:10},end:{line:644,column:13}},292:{start:{line:647,column:8},end:{line:647,column:26}},293:{start:{line:651,column:18},end:{line:656,column:3}},294:{start:{line:652,column:4},end:{line:655,column:27}},295:{start:{line:658,column:4},end:{line:663,column:27}},296:{start:{line:666,column:4},end:{line:666,column:60}},297:{start:{line:669,column:4},end:{line:669,column:34}},298:{start:{line:671,column:28},end:{line:678,column:3}},299:{start:{line:672,column:4},end:{line:677,column:7}},300:{start:{line:679,column:28},end:{line:686,column:3}},301:{start:{line:680,column:4},end:{line:685,column:7}},302:{start:{line:688,column:19},end:{line:688,column:51}},303:{start:{line:689,column:26},end:{line:689,column:92}},304:{start:{line:690,column:36},end:{line:703,column:5}},305:{start:{line:704,column:38},end:{line:718,column:5}},306:{start:{line:719,column:24},end:{line:738,column:14}},307:{start:{line:739,column:24},end:{line:749,column:14}},308:{start:{line:750,column:35},end:{line:810,column:8}},309:{start:{line:811,column:4},end:{line:821,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:37,column:9},end:{line:37,column:28}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},1:{name:"updateRootSpec",decl:{start:{line:55,column:9},end:{line:55,column:23}},loc:{start:{line:55,column:52},end:{line:66,column:1}},line:55},2:{name:"(anonymous_2)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:21},end:{line:214,column:3}},line:71},3:{name:"(anonymous_3)",decl:{start:{line:81,column:26},end:{line:81,column:27}},loc:{start:{line:81,column:40},end:{line:81,column:86}},line:81},4:{name:"(anonymous_4)",decl:{start:{line:88,column:17},end:{line:88,column:18}},loc:{start:{line:88,column:23},end:{line:90,column:9}},line:88},5:{name:"(anonymous_5)",decl:{start:{line:94,column:17},end:{line:94,column:18}},loc:{start:{line:94,column:23},end:{line:96,column:9}},line:94},6:{name:"(anonymous_6)",decl:{start:{line:100,column:17},end:{line:100,column:18}},loc:{start:{line:100,column:23},end:{line:102,column:9}},line:100},7:{name:"(anonymous_7)",decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:23},end:{line:108,column:9}},line:106},8:{name:"(anonymous_8)",decl:{start:{line:112,column:17},end:{line:112,column:18}},loc:{start:{line:112,column:23},end:{line:114,column:9}},line:112},9:{name:"(anonymous_9)",decl:{start:{line:118,column:17},end:{line:118,column:18}},loc:{start:{line:118,column:23},end:{line:122,column:9}},line:118},10:{name:"(anonymous_10)",decl:{start:{line:126,column:17},end:{line:126,column:18}},loc:{start:{line:126,column:23},end:{line:128,column:9}},line:126},11:{name:"(anonymous_11)",decl:{start:{line:132,column:17},end:{line:132,column:18}},loc:{start:{line:132,column:23},end:{line:134,column:9}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:137,column:44},end:{line:137,column:45}},loc:{start:{line:137,column:51},end:{line:150,column:5}},line:137},13:{name:"(anonymous_13)",decl:{start:{line:142,column:40},end:{line:142,column:41}},loc:{start:{line:142,column:55},end:{line:144,column:9}},line:142},14:{name:"(anonymous_14)",decl:{start:{line:154,column:29},end:{line:154,column:30}},loc:{start:{line:154,column:43},end:{line:154,column:72}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:160,column:27},end:{line:160,column:28}},loc:{start:{line:160,column:36},end:{line:170,column:7}},line:160},16:{name:"(anonymous_16)",decl:{start:{line:165,column:36},end:{line:165,column:37}},loc:{start:{line:165,column:50},end:{line:165,column:102}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:212,column:28},end:{line:212,column:29}},loc:{start:{line:212,column:35},end:{line:212,column:69}},line:212},18:{name:"(anonymous_18)",decl:{start:{line:215,column:19},end:{line:215,column:20}},loc:{start:{line:215,column:26},end:{line:233,column:3}},line:215},19:{name:"(anonymous_19)",decl:{start:{line:234,column:2},end:{line:234,column:3}},loc:{start:{line:234,column:22},end:{line:236,column:3}},line:234},20:{name:"(anonymous_20)",decl:{start:{line:237,column:2},end:{line:237,column:3}},loc:{start:{line:237,column:25},end:{line:239,column:3}},line:237},21:{name:"(anonymous_21)",decl:{start:{line:240,column:2},end:{line:240,column:3}},loc:{start:{line:240,column:27},end:{line:242,column:3}},line:240},22:{name:"(anonymous_22)",decl:{start:{line:243,column:2},end:{line:243,column:3}},loc:{start:{line:243,column:27},end:{line:250,column:3}},line:243},23:{name:"(anonymous_23)",decl:{start:{line:247,column:37},end:{line:247,column:38}},loc:{start:{line:247,column:48},end:{line:249,column:5}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:23},end:{line:255,column:3}},line:251},25:{name:"(anonymous_25)",decl:{start:{line:252,column:36},end:{line:252,column:37}},loc:{start:{line:252,column:47},end:{line:254,column:5}},line:252},26:{name:"(anonymous_26)",decl:{start:{line:256,column:29},end:{line:256,column:30}},loc:{start:{line:256,column:50},end:{line:270,column:3}},line:256},27:{name:"(anonymous_27)",decl:{start:{line:271,column:19},end:{line:271,column:20}},loc:{start:{line:271,column:44},end:{line:383,column:3}},line:271},28:{name:"(anonymous_28)",decl:{start:{line:285,column:30},end:{line:285,column:31}},loc:{start:{line:285,column:48},end:{line:293,column:7}},line:285},29:{name:"(anonymous_29)",decl:{start:{line:295,column:56},end:{line:295,column:57}},loc:{start:{line:295,column:67},end:{line:346,column:5}},line:295},30:{name:"(anonymous_30)",decl:{start:{line:350,column:21},end:{line:350,column:22}},loc:{start:{line:350,column:32},end:{line:361,column:7}},line:350},31:{name:"(anonymous_31)",decl:{start:{line:379,column:7},end:{line:379,column:8}},loc:{start:{line:379,column:13},end:{line:382,column:5}},line:379},32:{name:"(anonymous_32)",decl:{start:{line:384,column:11},end:{line:384,column:12}},loc:{start:{line:384,column:17},end:{line:391,column:3}},line:384},33:{name:"(anonymous_33)",decl:{start:{line:392,column:11},end:{line:392,column:12}},loc:{start:{line:392,column:17},end:{line:399,column:3}},line:392},34:{name:"(anonymous_34)",decl:{start:{line:400,column:16},end:{line:400,column:17}},loc:{start:{line:400,column:26},end:{line:414,column:3}},line:400},35:{name:"(anonymous_35)",decl:{start:{line:415,column:19},end:{line:415,column:20}},loc:{start:{line:415,column:38},end:{line:421,column:3}},line:415},36:{name:"(anonymous_36)",decl:{start:{line:422,column:19},end:{line:422,column:20}},loc:{start:{line:422,column:30},end:{line:427,column:3}},line:422},37:{name:"(anonymous_37)",decl:{start:{line:428,column:16},end:{line:428,column:17}},loc:{start:{line:428,column:27},end:{line:435,column:3}},line:428},38:{name:"(anonymous_38)",decl:{start:{line:436,column:28},end:{line:436,column:29}},loc:{start:{line:436,column:39},end:{line:445,column:3}},line:436},39:{name:"(anonymous_39)",decl:{start:{line:446,column:20},end:{line:446,column:21}},loc:{start:{line:446,column:46},end:{line:453,column:3}},line:446},40:{name:"(anonymous_40)",decl:{start:{line:454,column:19},end:{line:454,column:20}},loc:{start:{line:454,column:37},end:{line:458,column:3}},line:454},41:{name:"(anonymous_41)",decl:{start:{line:459,column:16},end:{line:459,column:17}},loc:{start:{line:459,column:30},end:{line:463,column:3}},line:459},42:{name:"(anonymous_42)",decl:{start:{line:464,column:21},end:{line:464,column:22}},loc:{start:{line:464,column:35},end:{line:478,column:3}},line:464},43:{name:"(anonymous_43)",decl:{start:{line:479,column:14},end:{line:479,column:15}},loc:{start:{line:479,column:40},end:{line:483,column:3}},line:479},44:{name:"(anonymous_44)",decl:{start:{line:484,column:2},end:{line:484,column:3}},loc:{start:{line:484,column:17},end:{line:527,column:3}},line:484},45:{name:"(anonymous_45)",decl:{start:{line:500,column:16},end:{line:500,column:17}},loc:{start:{line:500,column:30},end:{line:500,column:45}},line:500},46:{name:"(anonymous_46)",decl:{start:{line:500,column:52},end:{line:500,column:53}},loc:{start:{line:500,column:62},end:{line:514,column:9}},line:500},47:{name:"(anonymous_47)",decl:{start:{line:514,column:17},end:{line:514,column:18}},loc:{start:{line:514,column:26},end:{line:516,column:9}},line:514},48:{name:"(anonymous_48)",decl:{start:{line:528,column:2},end:{line:528,column:3}},loc:{start:{line:528,column:17},end:{line:531,column:3}},line:528},49:{name:"(anonymous_49)",decl:{start:{line:532,column:16},end:{line:532,column:17}},loc:{start:{line:532,column:29},end:{line:536,column:3}},line:532},50:{name:"(anonymous_50)",decl:{start:{line:537,column:2},end:{line:537,column:3}},loc:{start:{line:537,column:16},end:{line:585,column:3}},line:537},51:{name:"(anonymous_51)",decl:{start:{line:541,column:27},end:{line:541,column:28}},loc:{start:{line:541,column:42},end:{line:545,column:7}},line:541},52:{name:"(anonymous_52)",decl:{start:{line:546,column:20},end:{line:546,column:21}},loc:{start:{line:546,column:27},end:{line:549,column:7}},line:546},53:{name:"(anonymous_53)",decl:{start:{line:586,column:18},end:{line:586,column:19}},loc:{start:{line:586,column:24},end:{line:604,column:3}},line:586},54:{name:"(anonymous_54)",decl:{start:{line:592,column:50},end:{line:592,column:51}},loc:{start:{line:592,column:66},end:{line:592,column:91}},line:592},55:{name:"(anonymous_55)",decl:{start:{line:592,column:100},end:{line:592,column:101}},loc:{start:{line:592,column:109},end:{line:592,column:121}},line:592},56:{name:"(anonymous_56)",decl:{start:{line:605,column:27},end:{line:605,column:28}},loc:{start:{line:605,column:41},end:{line:650,column:3}},line:605},57:{name:"(anonymous_57)",decl:{start:{line:611,column:21},end:{line:611,column:22}},loc:{start:{line:611,column:36},end:{line:613,column:7}},line:611},58:{name:"(anonymous_58)",decl:{start:{line:651,column:18},end:{line:651,column:19}},loc:{start:{line:651,column:29},end:{line:656,column:3}},line:651},59:{name:"(anonymous_59)",decl:{start:{line:657,column:2},end:{line:657,column:3}},loc:{start:{line:657,column:29},end:{line:664,column:3}},line:657},60:{name:"(anonymous_60)",decl:{start:{line:665,column:2},end:{line:665,column:3}},loc:{start:{line:665,column:25},end:{line:667,column:3}},line:665},61:{name:"(anonymous_61)",decl:{start:{line:668,column:2},end:{line:668,column:3}},loc:{start:{line:668,column:30},end:{line:670,column:3}},line:668},62:{name:"(anonymous_62)",decl:{start:{line:671,column:28},end:{line:671,column:29}},loc:{start:{line:671,column:44},end:{line:678,column:3}},line:671},63:{name:"(anonymous_63)",decl:{start:{line:679,column:28},end:{line:679,column:29}},loc:{start:{line:679,column:44},end:{line:686,column:3}},line:679},64:{name:"(anonymous_64)",decl:{start:{line:687,column:2},end:{line:687,column:3}},loc:{start:{line:687,column:11},end:{line:822,column:3}},line:687}},branchMap:{0:{loc:{start:{line:41,column:2},end:{line:53,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:53,column:3}},{start:{line:46,column:9},end:{line:53,column:3}}],line:41},1:{loc:{start:{line:41,column:6},end:{line:41,column:43}},type:"binary-expr",locations:[{start:{line:41,column:6},end:{line:41,column:24}},{start:{line:41,column:28},end:{line:41,column:43}}],line:41},2:{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},3:{loc:{start:{line:46,column:9},end:{line:53,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:53,column:3}},{start:{line:51,column:9},end:{line:53,column:3}}],line:46},4:{loc:{start:{line:48,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:77,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:79,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},6:{loc:{start:{line:77,column:8},end:{line:77,column:89}},type:"binary-expr",locations:[{start:{line:77,column:8},end:{line:77,column:20}},{start:{line:77,column:25},end:{line:77,column:54}},{start:{line:77,column:58},end:{line:77,column:88}}],line:77},7:{loc:{start:{line:120,column:12},end:{line:120,column:61}},type:"cond-expr",locations:[{start:{line:120,column:44},end:{line:120,column:53}},{start:{line:120,column:56},end:{line:120,column:61}}],line:120},8:{loc:{start:{line:138,column:6},end:{line:149,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:149,column:7}},{start:{line:141,column:13},end:{line:149,column:7}}],line:138},9:{loc:{start:{line:141,column:13},end:{line:149,column:7}},type:"if",locations:[{start:{line:141,column:13},end:{line:149,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:141},10:{loc:{start:{line:141,column:17},end:{line:141,column:88}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:44}},{start:{line:141,column:48},end:{line:141,column:88}}],line:141},11:{loc:{start:{line:145,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:148,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:145},12:{loc:{start:{line:152,column:4},end:{line:171,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:171,column:5}},{start:{line:156,column:11},end:{line:171,column:5}}],line:152},13:{loc:{start:{line:152,column:8},end:{line:152,column:104}},type:"binary-expr",locations:[{start:{line:152,column:8},end:{line:152,column:16}},{start:{line:152,column:20},end:{line:152,column:104}}],line:152},14:{loc:{start:{line:157,column:6},end:{line:159,column:7}},type:"if",locations:[{start:{line:157,column:6},end:{line:159,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},15:{loc:{start:{line:161,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:161,column:8},end:{line:164,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:161},16:{loc:{start:{line:166,column:8},end:{line:169,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:169,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:166},17:{loc:{start:{line:172,column:4},end:{line:175,column:5}},type:"if",locations:[{start:{line:172,column:4},end:{line:175,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:172},18:{loc:{start:{line:216,column:4},end:{line:232,column:5}},type:"if",locations:[{start:{line:216,column:4},end:{line:232,column:5}},{start:{line:224,column:11},end:{line:232,column:5}}],line:216},19:{loc:{start:{line:217,column:6},end:{line:223,column:7}},type:"if",locations:[{start:{line:217,column:6},end:{line:223,column:7}},{start:{line:220,column:13},end:{line:223,column:7}}],line:217},20:{loc:{start:{line:217,column:10},end:{line:217,column:53}},type:"binary-expr",locations:[{start:{line:217,column:10},end:{line:217,column:19}},{start:{line:217,column:23},end:{line:217,column:33}},{start:{line:217,column:37},end:{line:217,column:53}}],line:217},21:{loc:{start:{line:220,column:13},end:{line:223,column:7}},type:"if",locations:[{start:{line:220,column:13},end:{line:223,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:220},22:{loc:{start:{line:220,column:17},end:{line:220,column:46}},type:"binary-expr",locations:[{start:{line:220,column:17},end:{line:220,column:26}},{start:{line:220,column:30},end:{line:220,column:46}}],line:220},23:{loc:{start:{line:225,column:6},end:{line:231,column:7}},type:"if",locations:[{start:{line:225,column:6},end:{line:231,column:7}},{start:{line:228,column:13},end:{line:231,column:7}}],line:225},24:{loc:{start:{line:225,column:10},end:{line:225,column:39}},type:"binary-expr",locations:[{start:{line:225,column:10},end:{line:225,column:19}},{start:{line:225,column:23},end:{line:225,column:39}}],line:225},25:{loc:{start:{line:228,column:13},end:{line:231,column:7}},type:"if",locations:[{start:{line:228,column:13},end:{line:231,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:228},26:{loc:{start:{line:228,column:17},end:{line:228,column:46}},type:"binary-expr",locations:[{start:{line:228,column:17},end:{line:228,column:26}},{start:{line:228,column:30},end:{line:228,column:46}}],line:228},27:{loc:{start:{line:244,column:21},end:{line:244,column:55}},type:"binary-expr",locations:[{start:{line:244,column:21},end:{line:244,column:49}},{start:{line:244,column:53},end:{line:244,column:55}}],line:244},28:{loc:{start:{line:245,column:24},end:{line:245,column:93}},type:"binary-expr",locations:[{start:{line:245,column:24},end:{line:245,column:70}},{start:{line:245,column:74},end:{line:245,column:93}}],line:245},29:{loc:{start:{line:246,column:21},end:{line:246,column:110}},type:"cond-expr",locations:[{start:{line:246,column:55},end:{line:246,column:96}},{start:{line:246,column:99},end:{line:246,column:110}}],line:246},30:{loc:{start:{line:257,column:4},end:{line:261,column:5}},type:"if",locations:[{start:{line:257,column:4},end:{line:261,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:257},31:{loc:{start:{line:257,column:8},end:{line:257,column:123}},type:"binary-expr",locations:[{start:{line:257,column:8},end:{line:257,column:40}},{start:{line:257,column:44},end:{line:257,column:123}}],line:257},32:{loc:{start:{line:271,column:30},end:{line:271,column:39}},type:"default-arg",locations:[{start:{line:271,column:37},end:{line:271,column:39}}],line:271},33:{loc:{start:{line:278,column:4},end:{line:280,column:5}},type:"if",locations:[{start:{line:278,column:4},end:{line:280,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:278},34:{loc:{start:{line:281,column:19},end:{line:281,column:51}},type:"binary-expr",locations:[{start:{line:281,column:19},end:{line:281,column:45}},{start:{line:281,column:49},end:{line:281,column:51}}],line:281},35:{loc:{start:{line:283,column:4},end:{line:294,column:5}},type:"if",locations:[{start:{line:283,column:4},end:{line:294,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:283},36:{loc:{start:{line:283,column:8},end:{line:283,column:35}},type:"binary-expr",locations:[{start:{line:283,column:8},end:{line:283,column:16}},{start:{line:283,column:20},end:{line:283,column:35}}],line:283},37:{loc:{start:{line:286,column:8},end:{line:291,column:9}},type:"if",locations:[{start:{line:286,column:8},end:{line:291,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:286},38:{loc:{start:{line:286,column:12},end:{line:286,column:56}},type:"binary-expr",locations:[{start:{line:286,column:12},end:{line:286,column:27}},{start:{line:286,column:31},end:{line:286,column:56}}],line:286},39:{loc:{start:{line:297,column:6},end:{line:310,column:7}},type:"if",locations:[{start:{line:297,column:6},end:{line:310,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:297},40:{loc:{start:{line:312,column:6},end:{line:325,column:7}},type:"if",locations:[{start:{line:312,column:6},end:{line:325,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:312},41:{loc:{start:{line:327,column:6},end:{line:345,column:7}},type:"if",locations:[{start:{line:327,column:6},end:{line:345,column:7}},{start:{line:341,column:13},end:{line:345,column:7}}],line:327},42:{loc:{start:{line:329,column:20},end:{line:329,column:78}},type:"cond-expr",locations:[{start:{line:329,column:40},end:{line:329,column:67}},{start:{line:329,column:70},end:{line:329,column:78}}],line:329},43:{loc:{start:{line:329,column:20},end:{line:329,column:37}},type:"binary-expr",locations:[{start:{line:329,column:20},end:{line:329,column:25}},{start:{line:329,column:29},end:{line:329,column:37}}],line:329},44:{loc:{start:{line:348,column:4},end:{line:362,column:5}},type:"if",locations:[{start:{line:348,column:4},end:{line:362,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:348},45:{loc:{start:{line:352,column:8},end:{line:360,column:9}},type:"if",locations:[{start:{line:352,column:8},end:{line:360,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:352},46:{loc:{start:{line:363,column:4},end:{line:365,column:5}},type:"if",locations:[{start:{line:363,column:4},end:{line:365,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:363},47:{loc:{start:{line:366,column:4},end:{line:368,column:5}},type:"if",locations:[{start:{line:366,column:4},end:{line:368,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:366},48:{loc:{start:{line:369,column:4},end:{line:371,column:5}},type:"if",locations:[{start:{line:369,column:4},end:{line:371,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:369},49:{loc:{start:{line:372,column:4},end:{line:374,column:5}},type:"if",locations:[{start:{line:372,column:4},end:{line:374,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:372},50:{loc:{start:{line:405,column:4},end:{line:405,column:38}},type:"if",locations:[{start:{line:405,column:4},end:{line:405,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:405},51:{loc:{start:{line:406,column:4},end:{line:410,column:5}},type:"if",locations:[{start:{line:406,column:4},end:{line:410,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:406},52:{loc:{start:{line:440,column:26},end:{line:440,column:70}},type:"cond-expr",locations:[{start:{line:440,column:46},end:{line:440,column:65}},{start:{line:440,column:68},end:{line:440,column:70}}],line:440},53:{loc:{start:{line:441,column:31},end:{line:441,column:87}},type:"cond-expr",locations:[{start:{line:441,column:69},end:{line:441,column:78}},{start:{line:441,column:81},end:{line:441,column:87}}],line:441},54:{loc:{start:{line:465,column:21},end:{line:465,column:44}},type:"binary-expr",locations:[{start:{line:465,column:21},end:{line:465,column:38}},{start:{line:465,column:42},end:{line:465,column:44}}],line:465},55:{loc:{start:{line:466,column:4},end:{line:477,column:5}},type:"if",locations:[{start:{line:466,column:4},end:{line:477,column:5}},{start:{line:475,column:11},end:{line:477,column:5}}],line:466},56:{loc:{start:{line:487,column:6},end:{line:519,column:7}},type:"if",locations:[{start:{line:487,column:6},end:{line:519,column:7}},{start:{line:517,column:13},end:{line:519,column:7}}],line:487},57:{loc:{start:{line:487,column:10},end:{line:487,column:149}},type:"binary-expr",locations:[{start:{line:487,column:10},end:{line:487,column:72}},{start:{line:487,column:76},end:{line:487,column:97}},{start:{line:487,column:101},end:{line:487,column:149}}],line:487},58:{loc:{start:{line:501,column:10},end:{line:503,column:11}},type:"if",locations:[{start:{line:501,column:10},end:{line:503,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:501},59:{loc:{start:{line:518,column:26},end:{line:518,column:85}},type:"binary-expr",locations:[{start:{line:518,column:26},end:{line:518,column:49}},{start:{line:518,column:53},end:{line:518,column:85}}],line:518},60:{loc:{start:{line:521,column:4},end:{line:526,column:5}},type:"if",locations:[{start:{line:521,column:4},end:{line:526,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:521},61:{loc:{start:{line:529,column:21},end:{line:529,column:55}},type:"binary-expr",locations:[{start:{line:529,column:21},end:{line:529,column:49}},{start:{line:529,column:53},end:{line:529,column:55}}],line:529},62:{loc:{start:{line:530,column:11},end:{line:530,column:52}},type:"binary-expr",locations:[{start:{line:530,column:11},end:{line:530,column:40}},{start:{line:530,column:44},end:{line:530,column:52}}],line:530},63:{loc:{start:{line:540,column:16},end:{line:540,column:41}},type:"binary-expr",locations:[{start:{line:540,column:16},end:{line:540,column:29}},{start:{line:540,column:33},end:{line:540,column:41}}],line:540},64:{loc:{start:{line:553,column:4},end:{line:575,column:5}},type:"if",locations:[{start:{line:553,column:4},end:{line:575,column:5}},{start:{line:563,column:11},end:{line:575,column:5}}],line:553},65:{loc:{start:{line:577,column:4},end:{line:579,column:5}},type:"if",locations:[{start:{line:577,column:4},end:{line:579,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:577},66:{loc:{start:{line:581,column:4},end:{line:583,column:5}},type:"if",locations:[{start:{line:581,column:4},end:{line:583,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:581},67:{loc:{start:{line:592,column:66},end:{line:592,column:91}},type:"cond-expr",locations:[{start:{line:592,column:81},end:{line:592,column:84}},{start:{line:592,column:87},end:{line:592,column:91}}],line:592},68:{loc:{start:{line:593,column:4},end:{line:597,column:5}},type:"if",locations:[{start:{line:593,column:4},end:{line:597,column:5}},{start:{line:595,column:11},end:{line:597,column:5}}],line:593},69:{loc:{start:{line:598,column:4},end:{line:602,column:5}},type:"if",locations:[{start:{line:598,column:4},end:{line:602,column:5}},{start:{line:600,column:11},end:{line:602,column:5}}],line:598},70:{loc:{start:{line:600,column:11},end:{line:602,column:5}},type:"if",locations:[{start:{line:600,column:11},end:{line:602,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:600},71:{loc:{start:{line:608,column:4},end:{line:620,column:5}},type:"if",locations:[{start:{line:608,column:4},end:{line:620,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:608},72:{loc:{start:{line:608,column:8},end:{line:608,column:39}},type:"binary-expr",locations:[{start:{line:608,column:8},end:{line:608,column:18}},{start:{line:608,column:22},end:{line:608,column:39}}],line:608},73:{loc:{start:{line:622,column:4},end:{line:624,column:5}},type:"if",locations:[{start:{line:622,column:4},end:{line:624,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:622},74:{loc:{start:{line:622,column:8},end:{line:622,column:27}},type:"binary-expr",locations:[{start:{line:622,column:8},end:{line:622,column:12}},{start:{line:622,column:16},end:{line:622,column:27}}],line:622},75:{loc:{start:{line:626,column:4},end:{line:649,column:5}},type:"if",locations:[{start:{line:626,column:4},end:{line:649,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:626},76:{loc:{start:{line:634,column:8},end:{line:639,column:9}},type:"if",locations:[{start:{line:634,column:8},end:{line:639,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:634},77:{loc:{start:{line:636,column:10},end:{line:638,column:11}},type:"if",locations:[{start:{line:636,column:10},end:{line:638,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:636},78:{loc:{start:{line:640,column:8},end:{line:645,column:9}},type:"if",locations:[{start:{line:640,column:8},end:{line:645,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:640},79:{loc:{start:{line:688,column:19},end:{line:688,column:51}},type:"binary-expr",locations:[{start:{line:688,column:19},end:{line:688,column:45}},{start:{line:688,column:49},end:{line:688,column:51}}],line:688},80:{loc:{start:{line:689,column:26},end:{line:689,column:92}},type:"cond-expr",locations:[{start:{line:689,column:46},end:{line:689,column:83}},{start:{line:689,column:86},end:{line:689,column:92}}],line:689},81:{loc:{start:{line:719,column:24},end:{line:738,column:14}},type:"cond-expr",locations:[{start:{line:719,column:56},end:{line:738,column:5}},{start:{line:738,column:8},end:{line:738,column:14}}],line:719},82:{loc:{start:{line:739,column:24},end:{line:749,column:14}},type:"cond-expr",locations:[{start:{line:739,column:97},end:{line:749,column:5}},{start:{line:749,column:8},end:{line:749,column:14}}],line:739}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAmtBmB,SAAA,KAgNA,YAhNA;AAltBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,MACA,YAAY;AAAA,IACd;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa,SAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,UAA6C,eAA4C;AAC/F,SAAA,SAAS,EAAC,WAAsB,CAAC;AAC3B,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AAC5D,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,gBAAgB,YAAyC;AAClD,SAAA,SAAS,EAAC,WAAsB,CAAC;AAAA,EACxC;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,UAClD,YAAY,KAAK,MAAM;AAAA,UACvB,iBAAiB,KAAK;AAAA,QAAA;AAAA,MACxB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,UAChD,YAAY,KAAK,MAAM;AAAA,QAAA;AAAA,MACzB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b0d5f8ee8537ee2f4707fe123c0c222059f25ad2"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ce=function(){return s},s}ce();ce().s[0]++;window.Buffer=xJ.Buffer;function rPe(n,e){ce().f[0]++;const t=(ce().s[1]++,n.match(/\.tilehosting\.com/)),r=(ce().s[2]++,n.match(/\.maptiler\.com/)),i=(ce().s[3]++,n.match(/\.thunderforest\.com/));if(ce().s[4]++,ce().b[1][0]++,t||(ce().b[1][1]++,r)){ce().b[0][0]++;const o=(ce().s[5]++,Yu.getAccessToken("openmaptiles",e,{allowFallback:!0}));if(ce().s[6]++,o)return ce().b[2][0]++,ce().s[7]++,n.replace("{key}",o);ce().b[2][1]++}else if(ce().b[0][1]++,ce().s[8]++,i){ce().b[3][0]++;const o=(ce().s[9]++,Yu.getAccessToken("thunderforest",e,{allowFallback:!0}));if(ce().s[10]++,o)return ce().b[4][0]++,ce().s[11]++,n.replace("{key}",o);ce().b[4][1]++}else return ce().b[3][1]++,ce().s[12]++,n}function _R(n,e,t){return ce().f[1]++,ce().s[13]++,{...n,$root:{...n.$root,[e]:{...n.$root[e],values:t}}}}class iPe extends kn.Component{constructor(t){ce().f[2]++,ce().s[14]++;super(t);pn(this,"revisionStore");pn(this,"styleStore");pn(this,"layerWatcher");pn(this,"handleKeyPress",(ce().s[65]++,t=>{ce().f[18]++,ce().s[66]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(ce().b[18][0]++,ce().s[67]++,ce().b[20][0]++,t.metaKey&&(ce().b[20][1]++,t.shiftKey)&&(ce().b[20][2]++,t.keyCode===90)?(ce().b[19][0]++,ce().s[68]++,t.preventDefault(),ce().s[69]++,this.onRedo()):(ce().b[19][1]++,ce().s[70]++,ce().b[22][0]++,t.metaKey&&(ce().b[22][1]++,t.keyCode===90)?(ce().b[21][0]++,ce().s[71]++,t.preventDefault(),ce().s[72]++,this.onUndo()):ce().b[21][1]++)):(ce().b[18][1]++,ce().s[73]++,ce().b[24][0]++,t.ctrlKey&&(ce().b[24][1]++,t.keyCode===90)?(ce().b[23][0]++,ce().s[74]++,t.preventDefault(),ce().s[75]++,this.onUndo()):(ce().b[23][1]++,ce().s[76]++,ce().b[26][0]++,t.ctrlKey&&(ce().b[26][1]++,t.keyCode===89)?(ce().b[25][0]++,ce().s[77]++,t.preventDefault(),ce().s[78]++,this.onRedo()):ce().b[25][1]++))}));pn(this,"onChangeMetadataProperty",(ce().s[89]++,(t,r)=>{ce().f[26]++,ce().s[90]++,ce().b[31][0]++,t==="maputnik:renderer"&&(ce().b[31][1]++,r!==Cee(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(ce().b[30][0]++,ce().s[91]++,this.setState({mapState:"map"})):ce().b[30][1]++;const i=(ce().s[92]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[t]:r}});ce().s[93]++,this.onStyleChanged(i)}));pn(this,"onStyleChanged",(ce().s[94]++,(t,r=(ce().b[32][0]++,{}))=>{ce().f[27]++,ce().s[95]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},ce().s[96]++,r.initialLoad?(ce().b[33][0]++,ce().s[97]++,this.getInitialStateFromUrl(t)):ce().b[33][1]++;const i=(ce().s[98]++,ce().b[34][0]++,gd(t)||(ce().b[34][1]++,[])),o=(ce().s[99]++,[]);if(ce().s[100]++,ce().b[36][0]++,t&&(ce().b[36][1]++,t.layers)){ce().b[35][0]++;const f=(ce().s[101]++,new window.Map);ce().s[102]++,t.layers.forEach((m,C)=>{if(ce().f[28]++,ce().s[103]++,ce().b[38][0]++,m.id===""&&(ce().b[38][1]++,f.has(m.id))){ce().b[37][0]++;const k=(ce().s[104]++,new Error(`layers[${C}]: duplicate layer id [empty_string], previously used`));ce().s[105]++,o.push(k)}else ce().b[37][1]++;ce().s[106]++,f.set(m.id,!0)})}else ce().b[35][1]++;const s=(ce().s[107]++,o.concat(i).map(f=>{ce().f[29]++;const m=(ce().s[108]++,f.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(ce().s[109]++,m){ce().b[39][0]++;const[,I,K]=(ce().s[110]++,m);return ce().s[111]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:"id",message:K}}}}else ce().b[39][1]++;const C=(ce().s[112]++,f.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(ce().s[113]++,C){ce().b[40][0]++;const[,I,K]=(ce().s[114]++,C);return ce().s[115]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:"source",message:K}}}}else ce().b[40][1]++;const k=(ce().s[116]++,f.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(ce().s[117]++,k){ce().b[41][0]++;const[,I,K,L,q]=(ce().s[118]++,k),X=(ce().s[119]++,ce().b[43][0]++,K&&(ce().b[43][1]++,L)?(ce().b[42][0]++,[K,L].join(".")):(ce().b[42][1]++,L));return ce().s[120]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:X,message:q}}}}else return ce().b[41][1]++,ce().s[121]++,{message:f.message}}));let a=(ce().s[122]++,void 0);ce().s[123]++,i.length>0?(ce().b[44][0]++,ce().s[124]++,a=xP(t),ce().s[125]++,i.forEach(f=>{ce().f[30]++;const{message:m}=(ce().s[126]++,f);if(ce().s[127]++,m){ce().b[45][0]++,ce().s[128]++;try{const C=(ce().s[129]++,m.split(":")[0]),k=(ce().s[130]++,C.match(/^\S+?\[\d+\]\.[^[]+/)[0]);ce().s[131]++,Y5.unset(a,k)}catch(C){ce().s[132]++,console.warn(C)}}else ce().b[45][1]++})):ce().b[44][1]++,ce().s[133]++,t.glyphs!==this.state.mapStyle.glyphs?(ce().b[46][0]++,ce().s[134]++,this.updateFonts(t.glyphs)):ce().b[46][1]++,ce().s[135]++,t.sprite!==this.state.mapStyle.sprite?(ce().b[47][0]++,ce().s[136]++,this.updateIcons(t.sprite)):ce().b[47][1]++,ce().s[137]++,r.addRevision?(ce().b[48][0]++,ce().s[138]++,this.revisionStore.addRevision(t)):ce().b[48][1]++,ce().s[139]++,r.save?(ce().b[49][0]++,ce().s[140]++,this.saveStyle(t)):ce().b[49][1]++,ce().s[141]++,this.setState({mapStyle:t,dirtyMapStyle:a,errors:s},()=>{ce().f[31]++,ce().s[142]++,this.fetchSources(),ce().s[143]++,this.setStateInUrl()})}));pn(this,"onUndo",(ce().s[144]++,()=>{ce().f[32]++;const t=(ce().s[145]++,this.revisionStore.undo()),r=(ce().s[146]++,v9e(this.state.mapStyle,t));ce().s[147]++,this.onStyleChanged(t,{addRevision:!1}),ce().s[148]++,this.setState({infos:r})}));pn(this,"onRedo",(ce().s[149]++,()=>{ce().f[33]++;const t=(ce().s[150]++,this.revisionStore.redo()),r=(ce().s[151]++,_9e(this.state.mapStyle,t));ce().s[152]++,this.onStyleChanged(t,{addRevision:!1}),ce().s[153]++,this.setState({infos:r})}));pn(this,"onMoveLayer",(ce().s[154]++,t=>{ce().f[34]++;let{oldIndex:r,newIndex:i}=(ce().s[155]++,t),o=(ce().s[156]++,this.state.mapStyle.layers);if(ce().s[157]++,r=SP(r,0,o.length-1),ce().s[158]++,i=SP(i,0,o.length-1),ce().s[159]++,r===i){ce().b[50][0]++,ce().s[160]++;return}else ce().b[50][1]++;ce().s[161]++,r===this.state.selectedLayerIndex?(ce().b[51][0]++,ce().s[162]++,this.setState({selectedLayerIndex:i})):ce().b[51][1]++,ce().s[163]++,o=o.slice(0),ce().s[164]++,bee(o,r,i),ce().s[165]++,this.onLayersChange(o)}));pn(this,"onLayersChange",(ce().s[166]++,t=>{ce().f[35]++;const r=(ce().s[167]++,{...this.state.mapStyle,layers:t});ce().s[168]++,this.onStyleChanged(r)}));pn(this,"onLayerDestroy",(ce().s[169]++,t=>{ce().f[36]++;const r=(ce().s[170]++,this.state.mapStyle.layers),i=(ce().s[171]++,r.slice(0));ce().s[172]++,i.splice(t,1),ce().s[173]++,this.onLayersChange(i)}));pn(this,"onLayerCopy",(ce().s[174]++,t=>{ce().f[37]++;const r=(ce().s[175]++,this.state.mapStyle.layers),i=(ce().s[176]++,r.slice(0)),o=(ce().s[177]++,xP(i[t]));ce().s[178]++,o.id=o.id+"-copy",ce().s[179]++,i.splice(t,0,o),ce().s[180]++,this.onLayersChange(i)}));pn(this,"onLayerVisibilityToggle",(ce().s[181]++,t=>{ce().f[38]++;const r=(ce().s[182]++,this.state.mapStyle.layers),i=(ce().s[183]++,r.slice(0)),o=(ce().s[184]++,{...i[t]}),s=(ce().s[185]++,"layout"in o?(ce().b[52][0]++,{...o.layout}):(ce().b[52][1]++,{}));ce().s[186]++,s.visibility=s.visibility==="none"?(ce().b[53][0]++,"visible"):(ce().b[53][1]++,"none"),ce().s[187]++,o.layout=s,ce().s[188]++,i[t]=o,ce().s[189]++,this.onLayersChange(i)}));pn(this,"onLayerIdChange",(ce().s[190]++,(t,r,i)=>{ce().f[39]++;const o=(ce().s[191]++,this.state.mapStyle.layers.slice(0));ce().s[192]++,o[t]={...o[t],id:i},ce().s[193]++,this.onLayersChange(o)}));pn(this,"onLayerChanged",(ce().s[194]++,(t,r)=>{ce().f[40]++;const i=(ce().s[195]++,this.state.mapStyle.layers.slice(0));ce().s[196]++,i[t]=r,ce().s[197]++,this.onLayersChange(i)}));pn(this,"setMapState",(ce().s[198]++,t=>{ce().f[41]++,ce().s[199]++,this.setState({mapState:t},this.setStateInUrl)}));pn(this,"setDefaultValues",(ce().s[200]++,t=>{ce().f[42]++;const r=(ce().s[201]++,ce().b[54][0]++,t.metadata||(ce().b[54][1]++,{}));if(ce().s[202]++,r["maputnik:renderer"]===void 0){ce().b[55][0]++;const i=(ce().s[203]++,{...t,metadata:{...t.metadata,"maputnik:renderer":"mlgljs"}});return ce().s[204]++,i}else return ce().b[55][1]++,ce().s[205]++,t}));pn(this,"openStyle",(ce().s[206]++,(t,r)=>{ce().f[43]++,ce().s[207]++,this.setState({fileHandle:r}),ce().s[208]++,t=this.setDefaultValues(t),ce().s[209]++,this.onStyleChanged(t)}));pn(this,"onMapChange",(ce().s[234]++,t=>{ce().f[49]++,ce().s[235]++,this.setState({mapView:t})}));pn(this,"setStateInUrl",(ce().s[251]++,()=>{ce().f[53]++;const{mapState:t,mapStyle:r,isOpen:i}=(ce().s[252]++,this.state),{selectedLayerIndex:o}=(ce().s[253]++,this.state),s=(ce().s[254]++,new URL(location.href)),a=(ce().s[255]++,kP(JSON.stringify(r)));ce().s[256]++,s.searchParams.set("layer",`${a}~${o}`);const f=(ce().s[257]++,Object.entries(i).map(([m,C])=>(ce().f[54]++,ce().s[258]++,C===!0?(ce().b[67][0]++,m):(ce().b[67][1]++,null))).filter(m=>(ce().f[55]++,ce().s[259]++,m!==null)));ce().s[260]++,f.length>0?(ce().b[68][0]++,ce().s[261]++,s.searchParams.set("modal",f.join(","))):(ce().b[68][1]++,ce().s[262]++,s.searchParams.delete("modal")),ce().s[263]++,t==="map"?(ce().b[69][0]++,ce().s[264]++,s.searchParams.delete("view")):(ce().b[69][1]++,ce().s[265]++,t==="inspect"?(ce().b[70][0]++,ce().s[266]++,s.searchParams.set("view","inspect")):ce().b[70][1]++),ce().s[267]++,history.replaceState({selectedLayerIndex:o},"Maputnik",s.href)}));pn(this,"getInitialStateFromUrl",(ce().s[268]++,t=>{ce().f[56]++;const r=(ce().s[269]++,new URL(location.href)),i=(ce().s[270]++,r.searchParams.get("modal"));if(ce().s[271]++,ce().b[72][0]++,i&&(ce().b[72][1]++,i!=="")){ce().b[71][0]++;const a=(ce().s[272]++,i.split(",")),f=(ce().s[273]++,{});ce().s[274]++,a.forEach(m=>{ce().f[57]++,ce().s[275]++,f[m]=!0}),ce().s[276]++,this.setState({isOpen:{...this.state.isOpen,...f}})}else ce().b[71][1]++;const o=(ce().s[277]++,r.searchParams.get("view"));ce().s[278]++,ce().b[74][0]++,o&&(ce().b[74][1]++,o!=="")?(ce().b[73][0]++,ce().s[279]++,this.setMapState(o)):ce().b[73][1]++;const s=(ce().s[280]++,r.searchParams.get("layer"));if(ce().s[281]++,s){ce().b[75][0]++,ce().s[282]++;try{const a=(ce().s[283]++,s.split("~")),[f,m]=(ce().s[284]++,[a[0],parseInt(a[1],10)]);let C=(ce().s[285]++,!0);if(ce().s[286]++,f!=="-"){ce().b[76][0]++;const k=(ce().s[287]++,kP(JSON.stringify(t)));ce().s[288]++,k!==parseInt(f,10)?(ce().b[77][0]++,ce().s[289]++,C=!1):ce().b[77][1]++}else ce().b[76][1]++;ce().s[290]++,C?(ce().b[78][0]++,ce().s[291]++,this.setState({selectedLayerIndex:m,selectedLayerOriginalId:t.layers[m].id})):ce().b[78][1]++}catch(a){ce().s[292]++,console.warn(a)}}else ce().b[75][1]++}));pn(this,"onLayerSelect",(ce().s[293]++,t=>{ce().f[58]++,ce().s[294]++,this.setState({selectedLayerIndex:t,selectedLayerOriginalId:this.state.mapStyle.layers[t].id},this.setStateInUrl)}));pn(this,"onChangeOpenlayersDebug",(ce().s[298]++,(t,r)=>{ce().f[62]++,ce().s[299]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[t]:r}})}));pn(this,"onChangeMaplibreGlDebug",(ce().s[300]++,(t,r)=>{ce().f[63]++,ce().s[301]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[t]:r}})}));ce().s[15]++,eJ(this),ce().s[16]++,this.revisionStore=new P9e;const r=(ce().s[17]++,new URLSearchParams(window.location.search.substring(1)));let i=(ce().s[18]++,r.get("localport"));ce().s[19]++,ce().b[6][0]++,i==null&&(ce().b[6][1]++,window.location.port!=="80")&&(ce().b[6][2]++,window.location.port!=="443")?(ce().b[5][0]++,ce().s[20]++,i=window.location.port):ce().b[5][1]++,ce().s[21]++,this.styleStore=new T9e({onLocalStyleChange:a=>(ce().f[3]++,ce().s[22]++,this.onStyleChanged(a,{save:!1})),port:i,host:r.get("localhost")});const o=(ce().s[23]++,[{key:"?",handler:()=>{ce().f[4]++,ce().s[24]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{ce().f[5]++,ce().s[25]++,this.toggleModal("open")}},{key:"e",handler:()=>{ce().f[6]++,ce().s[26]++,this.toggleModal("export")}},{key:"d",handler:()=>{ce().f[7]++,ce().s[27]++,this.toggleModal("sources")}},{key:"s",handler:()=>{ce().f[8]++,ce().s[28]++,this.toggleModal("settings")}},{key:"i",handler:()=>{ce().f[9]++,ce().s[29]++,this.setMapState(this.state.mapState==="map"?(ce().b[7][0]++,"inspect"):(ce().b[7][1]++,"map"))}},{key:"m",handler:()=>{ce().f[10]++,ce().s[30]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{ce().f[11]++,ce().s[31]++,this.toggleModal("debug")}}]);ce().s[32]++,document.body.addEventListener("keyup",a=>{if(ce().f[12]++,ce().s[33]++,a.key==="Escape")ce().b[8][0]++,ce().s[34]++,a.target.blur(),ce().s[35]++,document.body.focus();else if(ce().b[8][1]++,ce().s[36]++,ce().b[10][0]++,this.state.isOpen.shortcuts||(ce().b[10][1]++,document.activeElement===document.body)){ce().b[9][0]++;const f=(ce().s[37]++,o.find(m=>(ce().f[13]++,ce().s[38]++,m.key===a.key)));ce().s[39]++,f?(ce().b[11][0]++,ce().s[40]++,this.setModal("shortcuts",!1),ce().s[41]++,f.handler()):ce().b[11][1]++}else ce().b[9][1]++});const s=(ce().s[42]++,y9e());ce().s[43]++,ce().b[13][0]++,s&&(ce().b[13][1]++,window.confirm("Load style from URL: "+s+" and discard current changes?"))?(ce().b[12][0]++,ce().s[44]++,this.styleStore=new gR,ce().s[45]++,_q(s,a=>(ce().f[14]++,ce().s[46]++,this.onStyleChanged(a))),ce().s[47]++,dR()):(ce().b[12][1]++,ce().s[48]++,s?(ce().b[14][0]++,ce().s[49]++,dR()):ce().b[14][1]++,ce().s[50]++,this.styleStore.init(a=>{ce().f[15]++,ce().s[51]++,a?(ce().b[15][0]++,ce().s[52]++,console.log("Falling back to local storage for storing styles"),ce().s[53]++,this.styleStore=new gR):ce().b[15][1]++,ce().s[54]++,this.styleStore.latestStyle(f=>(ce().f[16]++,ce().s[55]++,this.onStyleChanged(f,{initialLoad:!0}))),ce().s[56]++,Eg.enabled()?(ce().b[16][0]++,ce().s[57]++,Eg.set("maputnik","styleStore",this.styleStore),ce().s[58]++,Eg.set("maputnik","revisionStore",this.revisionStore)):ce().b[16][1]++})),ce().s[59]++,Eg.enabled()?(ce().b[17][0]++,ce().s[60]++,Eg.set("maputnik","revisionStore",this.revisionStore),ce().s[61]++,Eg.set("maputnik","styleStore",this.styleStore)):ce().b[17][1]++,ce().s[62]++,this.state={errors:[],infos:[],mapStyle:Yu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:Yo,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1},fileHandle:null},ce().s[63]++,this.layerWatcher=new ePe({onVectorLayersChange:a=>(ce().f[17]++,ce().s[64]++,this.setState({vectorLayers:a}))})}componentDidMount(){ce().f[19]++,ce().s[79]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){ce().f[20]++,ce().s[80]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(t){ce().f[21]++,ce().s[81]++,this.styleStore.save(t)}updateFonts(t){ce().f[22]++;const r=(ce().s[82]++,ce().b[27][0]++,this.state.mapStyle.metadata||(ce().b[27][1]++,{})),i=(ce().s[83]++,ce().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(ce().b[28][1]++,GY.openmaptiles)),o=(ce().s[84]++,typeof t=="string"?(ce().b[29][0]++,t.replace("{key}",i)):(ce().b[29][1]++,t));ce().s[85]++,m9e(o,s=>{ce().f[23]++,ce().s[86]++,this.setState({spec:_R(this.state.spec,"glyphs",s)})})}updateIcons(t){ce().f[24]++,ce().s[87]++,g9e(t,r=>{ce().f[25]++,ce().s[88]++,this.setState({spec:_R(this.state.spec,"sprite",r)})})}fetchSources(){ce().f[44]++;const t=(ce().s[210]++,{});ce().s[211]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(ce().s[212]++,ce().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(ce().b[57][1]++,i.type==="vector")&&(ce().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){ce().b[56][0]++,ce().s[213]++,t[r]={type:i.type,layers:[]};let o=(ce().s[214]++,i.url);ce().s[215]++;try{ce().s[216]++,o=rPe(o,this.state.mapStyle)}catch(s){ce().s[217]++,console.warn("Failed to setFetchAccessToken: ",s)}ce().s[218]++,fetch(o,{mode:"cors"}).then(s=>(ce().f[45]++,ce().s[219]++,s.json())).then(s=>{if(ce().f[46]++,ce().s[220]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))ce().b[58][1]++;else{ce().b[58][0]++,ce().s[221]++;return}const a=(ce().s[222]++,Object.assign({},{[r]:this.state.sources[r]}));ce().s[223]++;for(const f of s.vector_layers)ce().s[224]++,a[r].layers.push(f.id);ce().s[225]++,console.debug("Updating source: "+r),ce().s[226]++,this.setState({sources:a})}).catch(s=>{ce().f[47]++,ce().s[227]++,console.error("Failed to process sources for '%s'",o,s)})}else ce().b[56][1]++,ce().s[228]++,t[r]=(ce().b[59][0]++,this.state.sources[r]||(ce().b[59][1]++,this.state.mapStyle.sources[r]));ce().s[229]++,nI(this.state.sources,t)?ce().b[60][1]++:(ce().b[60][0]++,ce().s[230]++,console.debug("Setting sources"),ce().s[231]++,this.setState({sources:t}))}_getRenderer(){ce().f[48]++;const t=(ce().s[232]++,ce().b[61][0]++,this.state.mapStyle.metadata||(ce().b[61][1]++,{}));return ce().s[233]++,ce().b[62][0]++,t["maputnik:renderer"]||(ce().b[62][1]++,"mlgljs")}mapRenderer(){ce().f[50]++;const{mapStyle:t,dirtyMapStyle:r}=(ce().s[236]++,this.state),i=(ce().s[237]++,{mapStyle:(ce().b[63][0]++,r||(ce().b[63][1]++,t)),replaceAccessTokens:m=>(ce().f[51]++,ce().s[238]++,Yu.replaceAccessTokens(m,{allowFallback:!0})),onDataChange:m=>{ce().f[52]++,ce().s[239]++,this.layerWatcher.analyzeMap(m.map),ce().s[240]++,this.fetchSources()}}),o=(ce().s[241]++,this._getRenderer());let s;ce().s[242]++,o==="ol"?(ce().b[64][0]++,ce().s[243]++,s=Y.jsx(Ffe,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(ce().b[64][1]++,ce().s[244]++,s=Y.jsx(goe,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let a;ce().s[245]++,this.state.mapState.match(/^filter-/)?(ce().b[65][0]++,ce().s[246]++,a=this.state.mapState.replace(/^filter-/,"")):ce().b[65][1]++;const f=(ce().s[247]++,{});return ce().s[248]++,a?(ce().b[66][0]++,ce().s[249]++,f.filter=`url('#${a}')`):ce().b[66][1]++,ce().s[250]++,Y.jsx("div",{style:f,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:s})}setModal(t,r){ce().f[59]++,ce().s[295]++,this.setState({isOpen:{...this.state.isOpen,[t]:r}},this.setStateInUrl)}toggleModal(t){ce().f[60]++,ce().s[296]++,this.setModal(t,!this.state.isOpen[t])}onSetFileHandle(t){ce().f[61]++,ce().s[297]++,this.setState({fileHandle:t})}render(){ce().f[64]++;const t=(ce().s[302]++,ce().b[79][0]++,this.state.mapStyle.layers||(ce().b[79][1]++,[])),r=(ce().s[303]++,t.length>0?(ce().b[80][0]++,t[this.state.selectedLayerIndex]):(ce().b[80][1]++,void 0)),i=(ce().s[304]++,Y.jsx(IIe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(ce().s[305]++,Y.jsx(F0e,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:t,sources:this.state.sources,errors:this.state.errors})),s=(ce().s[306]++,r?(ce().b[81][0]++,Y.jsx(Z8e,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(ce().b[81][1]++,void 0)),a=(ce().s[307]++,this.state.errors.length+this.state.infos.length>0?(ce().b[82][0]++,Y.jsx(PIe,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(ce().b[82][1]++,void 0)),f=(ce().s[308]++,Y.jsxs("div",{children:[Y.jsx(R7e,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),Y.jsx(L7e,{isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),Y.jsx(FIe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),Y.jsx(XIe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export"),fileHandle:this.state.fileHandle,onSetFileHandle:this.onSetFileHandle}),Y.jsx(K7e,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open"),fileHandle:this.state.fileHandle}),Y.jsx(p7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")})]}));return ce().s[309]++,Y.jsx(TIe,{toolbar:i,layerList:o,layerEditor:s,map:this.mapRenderer(),bottom:a,modals:f})}}const oPe=Lj(document.querySelector("#app"));oPe.render(Y.jsx(oO.Provider,{value:{className:"react-icons"},children:Y.jsx(iPe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-CscRlP6Y.js.map
